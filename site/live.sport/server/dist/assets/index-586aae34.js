(function(){const $=document.createElement("link").relList;if($&&$.supports&&$.supports("modulepreload"))return;for(const be of document.querySelectorAll('link[rel="modulepreload"]'))de(be);new MutationObserver(be=>{for(const Ce of be)if(Ce.type==="childList")for(const V of Ce.addedNodes)V.tagName==="LINK"&&V.rel==="modulepreload"&&de(V)}).observe(document,{childList:!0,subtree:!0});function ae(be){const Ce={};return be.integrity&&(Ce.integrity=be.integrity),be.referrerPolicy&&(Ce.referrerPolicy=be.referrerPolicy),be.crossOrigin==="use-credentials"?Ce.credentials="include":be.crossOrigin==="anonymous"?Ce.credentials="omit":Ce.credentials="same-origin",Ce}function de(be){if(be.ep)return;be.ep=!0;const Ce=ae(be);fetch(be.href,Ce)}})();function pm(m,$){const ae=Object.create(null),de=m.split(",");for(let be=0;be<de.length;be++)ae[de[be]]=!0;return $?be=>!!ae[be.toLowerCase()]:be=>!!ae[be]}const po={},ld=[],rf=()=>{},sS=()=>!1,lS=/^on[^a-z]/,jp=m=>lS.test(m),gm=m=>m.startsWith("onUpdate:"),Yo=Object.assign,ym=(m,$)=>{const ae=m.indexOf($);ae>-1&&m.splice(ae,1)},uS=Object.prototype.hasOwnProperty,Ni=(m,$)=>uS.call(m,$),ti=Array.isArray,ud=m=>Kp(m)==="[object Map]",zb=m=>Kp(m)==="[object Set]",vi=m=>typeof m=="function",Bo=m=>typeof m=="string",mm=m=>typeof m=="symbol",fo=m=>m!==null&&typeof m=="object",Ob=m=>fo(m)&&vi(m.then)&&vi(m.catch),Bb=Object.prototype.toString,Kp=m=>Bb.call(m),fS=m=>Kp(m).slice(8,-1),Nb=m=>Kp(m)==="[object Object]",xm=m=>Bo(m)&&m!=="NaN"&&m[0]!=="-"&&""+parseInt(m,10)===m,Ep=pm(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jp=m=>{const $=Object.create(null);return ae=>$[ae]||($[ae]=m(ae))},cS=/-(\w)/g,Tu=Jp(m=>m.replace(cS,($,ae)=>ae?ae.toUpperCase():"")),hS=/\B([A-Z])/g,bv=Jp(m=>m.replace(hS,"-$1").toLowerCase()),Pc=Jp(m=>m.charAt(0).toUpperCase()+m.slice(1)),qg=Jp(m=>m?`on${Pc(m)}`:""),y0=(m,$)=>!Object.is(m,$),Lp=(m,$)=>{for(let ae=0;ae<m.length;ae++)m[ae]($)},kp=(m,$,ae)=>{Object.defineProperty(m,$,{configurable:!0,enumerable:!1,value:ae})},my=m=>{const $=parseFloat(m);return isNaN($)?m:$},vS=m=>{const $=Bo(m)?Number(m):NaN;return isNaN($)?m:$};let Ox;const xy=()=>Ox||(Ox=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function $p(m){if(ti(m)){const $={};for(let ae=0;ae<m.length;ae++){const de=m[ae],be=Bo(de)?yS(de):$p(de);if(be)for(const Ce in be)$[Ce]=be[Ce]}return $}else{if(Bo(m))return m;if(fo(m))return m}}const dS=/;(?![^(]*\))/g,pS=/:([^]+)/,gS=/\/\*[^]*?\*\//g;function yS(m){const $={};return m.replace(gS,"").split(dS).forEach(ae=>{if(ae){const de=ae.split(pS);de.length>1&&($[de[0].trim()]=de[1].trim())}}),$}function wo(m){let $="";if(Bo(m))$=m;else if(ti(m))for(let ae=0;ae<m.length;ae++){const de=wo(m[ae]);de&&($+=de+" ")}else if(fo(m))for(const ae in m)m[ae]&&($+=ae+" ");return $.trim()}const mS="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xS=pm(mS);function Vb(m){return!!m||m===""}const uo=m=>Bo(m)?m:m==null?"":ti(m)||fo(m)&&(m.toString===Bb||!vi(m.toString))?JSON.stringify(m,Ub,2):String(m),Ub=(m,$)=>$&&$.__v_isRef?Ub(m,$.value):ud($)?{[`Map(${$.size})`]:[...$.entries()].reduce((ae,[de,be])=>(ae[`${de} =>`]=be,ae),{})}:zb($)?{[`Set(${$.size})`]:[...$.values()]}:fo($)&&!ti($)&&!Nb($)?String($):$;let Xl;class Hb{constructor($=!1){this.detached=$,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xl,!$&&Xl&&(this.index=(Xl.scopes||(Xl.scopes=[])).push(this)-1)}get active(){return this._active}run($){if(this._active){const ae=Xl;try{return Xl=this,$()}finally{Xl=ae}}}on(){Xl=this}off(){Xl=this.parent}stop($){if(this._active){let ae,de;for(ae=0,de=this.effects.length;ae<de;ae++)this.effects[ae].stop();for(ae=0,de=this.cleanups.length;ae<de;ae++)this.cleanups[ae]();if(this.scopes)for(ae=0,de=this.scopes.length;ae<de;ae++)this.scopes[ae].stop(!0);if(!this.detached&&this.parent&&!$){const be=this.parent.scopes.pop();be&&be!==this&&(this.parent.scopes[this.index]=be,be.index=this.index)}this.parent=void 0,this._active=!1}}}function bm(m){return new Hb(m)}function bS(m,$=Xl){$&&$.active&&$.effects.push(m)}function wS(){return Xl}function Rl(m){Xl&&Xl.cleanups.push(m)}const wm=m=>{const $=new Set(m);return $.w=0,$.n=0,$},Gb=m=>(m.w&wh)>0,Wb=m=>(m.n&wh)>0,TS=({deps:m})=>{if(m.length)for(let $=0;$<m.length;$++)m[$].w|=wh},AS=m=>{const{deps:$}=m;if($.length){let ae=0;for(let de=0;de<$.length;de++){const be=$[de];Gb(be)&&!Wb(be)?be.delete(m):$[ae++]=be,be.w&=~wh,be.n&=~wh}$.length=ae}},_p=new WeakMap;let o0=0,wh=1;const by=30;let qu;const dv=Symbol(""),wy=Symbol("");class Tm{constructor($,ae=null,de){this.fn=$,this.scheduler=ae,this.active=!0,this.deps=[],this.parent=void 0,bS(this,de)}run(){if(!this.active)return this.fn();let $=qu,ae=xh;for(;$;){if($===this)return;$=$.parent}try{return this.parent=qu,qu=this,xh=!0,wh=1<<++o0,o0<=by?TS(this):Bx(this),this.fn()}finally{o0<=by&&AS(this),wh=1<<--o0,qu=this.parent,xh=ae,this.parent=void 0,this.deferStop&&this.stop()}}stop(){qu===this?this.deferStop=!0:this.active&&(Bx(this),this.onStop&&this.onStop(),this.active=!1)}}function Bx(m){const{deps:$}=m;if($.length){for(let ae=0;ae<$.length;ae++)$[ae].delete(m);$.length=0}}let xh=!0;const Yb=[];function bd(){Yb.push(xh),xh=!1}function wd(){const m=Yb.pop();xh=m===void 0?!0:m}function Il(m,$,ae){if(xh&&qu){let de=_p.get(m);de||_p.set(m,de=new Map);let be=de.get(ae);be||de.set(ae,be=wm()),Zb(be)}}function Zb(m,$){let ae=!1;o0<=by?Wb(m)||(m.n|=wh,ae=!Gb(m)):ae=!m.has(qu),ae&&(m.add(qu),qu.deps.push(m))}function Ac(m,$,ae,de,be,Ce){const V=_p.get(m);if(!V)return;let B=[];if($==="clear")B=[...V.values()];else if(ae==="length"&&ti(m)){const e=Number(de);V.forEach((p,L)=>{(L==="length"||L>=e)&&B.push(p)})}else switch(ae!==void 0&&B.push(V.get(ae)),$){case"add":ti(m)?xm(ae)&&B.push(V.get("length")):(B.push(V.get(dv)),ud(m)&&B.push(V.get(wy)));break;case"delete":ti(m)||(B.push(V.get(dv)),ud(m)&&B.push(V.get(wy)));break;case"set":ud(m)&&B.push(V.get(dv));break}if(B.length===1)B[0]&&Ty(B[0]);else{const e=[];for(const p of B)p&&e.push(...p);Ty(wm(e))}}function Ty(m,$){const ae=ti(m)?m:[...m];for(const de of ae)de.computed&&Nx(de);for(const de of ae)de.computed||Nx(de)}function Nx(m,$){(m!==qu||m.allowRecurse)&&(m.scheduler?m.scheduler():m.run())}function SS(m,$){var ae;return(ae=_p.get(m))==null?void 0:ae.get($)}const MS=pm("__proto__,__v_isRef,__isVue"),Xb=new Set(Object.getOwnPropertyNames(Symbol).filter(m=>m!=="arguments"&&m!=="caller").map(m=>Symbol[m]).filter(mm)),CS=Am(),ES=Am(!1,!0),LS=Am(!0),Vx=PS();function PS(){const m={};return["includes","indexOf","lastIndexOf"].forEach($=>{m[$]=function(...ae){const de=di(this);for(let Ce=0,V=this.length;Ce<V;Ce++)Il(de,"get",Ce+"");const be=de[$](...ae);return be===-1||be===!1?de[$](...ae.map(di)):be}}),["push","pop","shift","unshift","splice"].forEach($=>{m[$]=function(...ae){bd();const de=di(this)[$].apply(this,ae);return wd(),de}}),m}function RS(m){const $=di(this);return Il($,"has",m),$.hasOwnProperty(m)}function Am(m=!1,$=!1){return function(de,be,Ce){if(be==="__v_isReactive")return!m;if(be==="__v_isReadonly")return m;if(be==="__v_isShallow")return $;if(be==="__v_raw"&&Ce===(m?$?ZS:Qb:$?$b:Jb).get(de))return de;const V=ti(de);if(!m){if(V&&Ni(Vx,be))return Reflect.get(Vx,be,Ce);if(be==="hasOwnProperty")return RS}const B=Reflect.get(de,be,Ce);return(mm(be)?Xb.has(be):MS(be))||(m||Il(de,"get",be),$)?B:Io(B)?V&&xm(be)?B:B.value:fo(B)?m?k0(B):hl(B):B}}const IS=jb(),DS=jb(!0);function jb(m=!1){return function(ae,de,be,Ce){let V=ae[de];if(vd(V)&&Io(V)&&!Io(be))return!1;if(!m&&(!Fp(be)&&!vd(be)&&(V=di(V),be=di(be)),!ti(ae)&&Io(V)&&!Io(be)))return V.value=be,!0;const B=ti(ae)&&xm(de)?Number(de)<ae.length:Ni(ae,de),e=Reflect.set(ae,de,be,Ce);return ae===di(Ce)&&(B?y0(be,V)&&Ac(ae,"set",de,be):Ac(ae,"add",de,be)),e}}function kS(m,$){const ae=Ni(m,$);m[$];const de=Reflect.deleteProperty(m,$);return de&&ae&&Ac(m,"delete",$,void 0),de}function _S(m,$){const ae=Reflect.has(m,$);return(!mm($)||!Xb.has($))&&Il(m,"has",$),ae}function FS(m){return Il(m,"iterate",ti(m)?"length":dv),Reflect.ownKeys(m)}const Kb={get:CS,set:IS,deleteProperty:kS,has:_S,ownKeys:FS},zS={get:LS,set(m,$){return!0},deleteProperty(m,$){return!0}},OS=Yo({},Kb,{get:ES,set:DS}),Sm=m=>m,Qp=m=>Reflect.getPrototypeOf(m);function gp(m,$,ae=!1,de=!1){m=m.__v_raw;const be=di(m),Ce=di($);ae||($!==Ce&&Il(be,"get",$),Il(be,"get",Ce));const{has:V}=Qp(be),B=de?Sm:ae?Em:m0;if(V.call(be,$))return B(m.get($));if(V.call(be,Ce))return B(m.get(Ce));m!==be&&m.get($)}function yp(m,$=!1){const ae=this.__v_raw,de=di(ae),be=di(m);return $||(m!==be&&Il(de,"has",m),Il(de,"has",be)),m===be?ae.has(m):ae.has(m)||ae.has(be)}function mp(m,$=!1){return m=m.__v_raw,!$&&Il(di(m),"iterate",dv),Reflect.get(m,"size",m)}function Ux(m){m=di(m);const $=di(this);return Qp($).has.call($,m)||($.add(m),Ac($,"add",m,m)),this}function Hx(m,$){$=di($);const ae=di(this),{has:de,get:be}=Qp(ae);let Ce=de.call(ae,m);Ce||(m=di(m),Ce=de.call(ae,m));const V=be.call(ae,m);return ae.set(m,$),Ce?y0($,V)&&Ac(ae,"set",m,$):Ac(ae,"add",m,$),this}function Gx(m){const $=di(this),{has:ae,get:de}=Qp($);let be=ae.call($,m);be||(m=di(m),be=ae.call($,m)),de&&de.call($,m);const Ce=$.delete(m);return be&&Ac($,"delete",m,void 0),Ce}function Wx(){const m=di(this),$=m.size!==0,ae=m.clear();return $&&Ac(m,"clear",void 0,void 0),ae}function xp(m,$){return function(de,be){const Ce=this,V=Ce.__v_raw,B=di(V),e=$?Sm:m?Em:m0;return!m&&Il(B,"iterate",dv),V.forEach((p,L)=>de.call(be,e(p),e(L),Ce))}}function bp(m,$,ae){return function(...de){const be=this.__v_raw,Ce=di(be),V=ud(Ce),B=m==="entries"||m===Symbol.iterator&&V,e=m==="keys"&&V,p=be[m](...de),L=ae?Sm:$?Em:m0;return!$&&Il(Ce,"iterate",e?wy:dv),{next(){const{value:n,done:C}=p.next();return C?{value:n,done:C}:{value:B?[L(n[0]),L(n[1])]:L(n),done:C}},[Symbol.iterator](){return this}}}}function hh(m){return function(...$){return m==="delete"?!1:this}}function BS(){const m={get(Ce){return gp(this,Ce)},get size(){return mp(this)},has:yp,add:Ux,set:Hx,delete:Gx,clear:Wx,forEach:xp(!1,!1)},$={get(Ce){return gp(this,Ce,!1,!0)},get size(){return mp(this)},has:yp,add:Ux,set:Hx,delete:Gx,clear:Wx,forEach:xp(!1,!0)},ae={get(Ce){return gp(this,Ce,!0)},get size(){return mp(this,!0)},has(Ce){return yp.call(this,Ce,!0)},add:hh("add"),set:hh("set"),delete:hh("delete"),clear:hh("clear"),forEach:xp(!0,!1)},de={get(Ce){return gp(this,Ce,!0,!0)},get size(){return mp(this,!0)},has(Ce){return yp.call(this,Ce,!0)},add:hh("add"),set:hh("set"),delete:hh("delete"),clear:hh("clear"),forEach:xp(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(Ce=>{m[Ce]=bp(Ce,!1,!1),ae[Ce]=bp(Ce,!0,!1),$[Ce]=bp(Ce,!1,!0),de[Ce]=bp(Ce,!0,!0)}),[m,ae,$,de]}const[NS,VS,US,HS]=BS();function Mm(m,$){const ae=$?m?HS:US:m?VS:NS;return(de,be,Ce)=>be==="__v_isReactive"?!m:be==="__v_isReadonly"?m:be==="__v_raw"?de:Reflect.get(Ni(ae,be)&&be in de?ae:de,be,Ce)}const GS={get:Mm(!1,!1)},WS={get:Mm(!1,!0)},YS={get:Mm(!0,!1)},Jb=new WeakMap,$b=new WeakMap,Qb=new WeakMap,ZS=new WeakMap;function XS(m){switch(m){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function jS(m){return m.__v_skip||!Object.isExtensible(m)?0:XS(fS(m))}function hl(m){return vd(m)?m:Cm(m,!1,Kb,GS,Jb)}function qb(m){return Cm(m,!1,OS,WS,$b)}function k0(m){return Cm(m,!0,zS,YS,Qb)}function Cm(m,$,ae,de,be){if(!fo(m)||m.__v_raw&&!($&&m.__v_isReactive))return m;const Ce=be.get(m);if(Ce)return Ce;const V=jS(m);if(V===0)return m;const B=new Proxy(m,V===2?de:ae);return be.set(m,B),B}function fd(m){return vd(m)?fd(m.__v_raw):!!(m&&m.__v_isReactive)}function vd(m){return!!(m&&m.__v_isReadonly)}function Fp(m){return!!(m&&m.__v_isShallow)}function e3(m){return fd(m)||vd(m)}function di(m){const $=m&&m.__v_raw;return $?di($):m}function t3(m){return kp(m,"__v_skip",!0),m}const m0=m=>fo(m)?hl(m):m,Em=m=>fo(m)?k0(m):m;function r3(m){xh&&qu&&(m=di(m),Zb(m.dep||(m.dep=wm())))}function n3(m,$){m=di(m);const ae=m.dep;ae&&Ty(ae)}function Io(m){return!!(m&&m.__v_isRef===!0)}function Ta(m){return a3(m,!1)}function Da(m){return a3(m,!0)}function a3(m,$){return Io(m)?m:new KS(m,$)}class KS{constructor($,ae){this.__v_isShallow=ae,this.dep=void 0,this.__v_isRef=!0,this._rawValue=ae?$:di($),this._value=ae?$:m0($)}get value(){return r3(this),this._value}set value($){const ae=this.__v_isShallow||Fp($)||vd($);$=ae?$:di($),y0($,this._rawValue)&&(this._rawValue=$,this._value=ae?$:m0($),n3(this))}}function ms(m){return Io(m)?m.value:m}const JS={get:(m,$,ae)=>ms(Reflect.get(m,$,ae)),set:(m,$,ae,de)=>{const be=m[$];return Io(be)&&!Io(ae)?(be.value=ae,!0):Reflect.set(m,$,ae,de)}};function i3(m){return fd(m)?m:new Proxy(m,JS)}function Lm(m){const $=ti(m)?new Array(m.length):{};for(const ae in m)$[ae]=o3(m,ae);return $}class $S{constructor($,ae,de){this._object=$,this._key=ae,this._defaultValue=de,this.__v_isRef=!0}get value(){const $=this._object[this._key];return $===void 0?this._defaultValue:$}set value($){this._object[this._key]=$}get dep(){return SS(di(this._object),this._key)}}class QS{constructor($){this._getter=$,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function oa(m,$,ae){return Io(m)?m:vi(m)?new QS(m):fo(m)&&arguments.length>1?o3(m,$,ae):Ta(m)}function o3(m,$,ae){const de=m[$];return Io(de)?de:new $S(m,$,ae)}class qS{constructor($,ae,de,be){this._setter=ae,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Tm($,()=>{this._dirty||(this._dirty=!0,n3(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!be,this.__v_isReadonly=de}get value(){const $=di(this);return r3($),($._dirty||!$._cacheable)&&($._dirty=!1,$._value=$.effect.run()),$._value}set value($){this._setter($)}}function eM(m,$,ae=!1){let de,be;const Ce=vi(m);return Ce?(de=m,be=rf):(de=m.get,be=m.set),new qS(de,be,Ce||!be,ae)}function bh(m,$,ae,de){let be;try{be=de?m(...de):m()}catch(Ce){qp(Ce,$,ae)}return be}function xu(m,$,ae,de){if(vi(m)){const Ce=bh(m,$,ae,de);return Ce&&Ob(Ce)&&Ce.catch(V=>{qp(V,$,ae)}),Ce}const be=[];for(let Ce=0;Ce<m.length;Ce++)be.push(xu(m[Ce],$,ae,de));return be}function qp(m,$,ae,de=!0){const be=$?$.vnode:null;if($){let Ce=$.parent;const V=$.proxy,B=ae;for(;Ce;){const p=Ce.ec;if(p){for(let L=0;L<p.length;L++)if(p[L](m,V,B)===!1)return}Ce=Ce.parent}const e=$.appContext.config.errorHandler;if(e){bh(e,null,10,[m,V,B]);return}}tM(m,ae,be,de)}function tM(m,$,ae,de=!0){console.error(m)}let x0=!1,Ay=!1;const Zs=[];let _f=0;const cd=[];let bc=null,lv=0;const s3=Promise.resolve();let Pm=null;function io(m){const $=Pm||s3;return m?$.then(this?m.bind(this):m):$}function rM(m){let $=_f+1,ae=Zs.length;for(;$<ae;){const de=$+ae>>>1;b0(Zs[de])<m?$=de+1:ae=de}return $}function Rm(m){(!Zs.length||!Zs.includes(m,x0&&m.allowRecurse?_f+1:_f))&&(m.id==null?Zs.push(m):Zs.splice(rM(m.id),0,m),l3())}function l3(){!x0&&!Ay&&(Ay=!0,Pm=s3.then(f3))}function nM(m){const $=Zs.indexOf(m);$>_f&&Zs.splice($,1)}function aM(m){ti(m)?cd.push(...m):(!bc||!bc.includes(m,m.allowRecurse?lv+1:lv))&&cd.push(m),l3()}function Yx(m,$=x0?_f+1:0){for(;$<Zs.length;$++){const ae=Zs[$];ae&&ae.pre&&(Zs.splice($,1),$--,ae())}}function u3(m){if(cd.length){const $=[...new Set(cd)];if(cd.length=0,bc){bc.push(...$);return}for(bc=$,bc.sort((ae,de)=>b0(ae)-b0(de)),lv=0;lv<bc.length;lv++)bc[lv]();bc=null,lv=0}}const b0=m=>m.id==null?1/0:m.id,iM=(m,$)=>{const ae=b0(m)-b0($);if(ae===0){if(m.pre&&!$.pre)return-1;if($.pre&&!m.pre)return 1}return ae};function f3(m){Ay=!1,x0=!0,Zs.sort(iM);const $=rf;try{for(_f=0;_f<Zs.length;_f++){const ae=Zs[_f];ae&&ae.active!==!1&&bh(ae,null,14)}}finally{_f=0,Zs.length=0,u3(),x0=!1,Pm=null,(Zs.length||cd.length)&&f3()}}function oM(m,$,...ae){if(m.isUnmounted)return;const de=m.vnode.props||po;let be=ae;const Ce=$.startsWith("update:"),V=Ce&&$.slice(7);if(V&&V in de){const L=`${V==="modelValue"?"model":V}Modifiers`,{number:n,trim:C}=de[L]||po;C&&(be=ae.map(y=>Bo(y)?y.trim():y)),n&&(be=ae.map(my))}let B,e=de[B=qg($)]||de[B=qg(Tu($))];!e&&Ce&&(e=de[B=qg(bv($))]),e&&xu(e,m,6,be);const p=de[B+"Once"];if(p){if(!m.emitted)m.emitted={};else if(m.emitted[B])return;m.emitted[B]=!0,xu(p,m,6,be)}}function c3(m,$,ae=!1){const de=$.emitsCache,be=de.get(m);if(be!==void 0)return be;const Ce=m.emits;let V={},B=!1;if(!vi(m)){const e=p=>{const L=c3(p,$,!0);L&&(B=!0,Yo(V,L))};!ae&&$.mixins.length&&$.mixins.forEach(e),m.extends&&e(m.extends),m.mixins&&m.mixins.forEach(e)}return!Ce&&!B?(fo(m)&&de.set(m,null),null):(ti(Ce)?Ce.forEach(e=>V[e]=null):Yo(V,Ce),fo(m)&&de.set(m,V),V)}function eg(m,$){return!m||!jp($)?!1:($=$.slice(2).replace(/Once$/,""),Ni(m,$[0].toLowerCase()+$.slice(1))||Ni(m,bv($))||Ni(m,$))}let Rs=null,h3=null;function zp(m){const $=Rs;return Rs=m,h3=m&&m.type.__scopeId||null,$}function gh(m,$=Rs,ae){if(!$||m._n)return m;const de=(...be)=>{de._d&&i2(-1);const Ce=zp($);let V;try{V=m(...be)}finally{zp(Ce),de._d&&i2(1)}return V};return de._n=!0,de._c=!0,de._d=!0,de}function ey(m){const{type:$,vnode:ae,proxy:de,withProxy:be,props:Ce,propsOptions:[V],slots:B,attrs:e,emit:p,render:L,renderCache:n,data:C,setupState:y,ctx:h,inheritAttrs:g}=m;let t,r;const l=zp(m);try{if(ae.shapeFlag&4){const s=be||de;t=kf(L.call(s,s,n,Ce,y,C,h)),r=e}else{const s=$;t=kf(s.length>1?s(Ce,{attrs:e,slots:B,emit:p}):s(Ce,null)),r=$.props?e:sM(e)}}catch(s){h0.length=0,qp(s,m,1),t=_t(bu)}let a=t;if(r&&g!==!1){const s=Object.keys(r),{shapeFlag:c}=a;s.length&&c&7&&(V&&s.some(gm)&&(r=lM(r,V)),a=Sc(a,r))}return ae.dirs&&(a=Sc(a),a.dirs=a.dirs?a.dirs.concat(ae.dirs):ae.dirs),ae.transition&&(a.transition=ae.transition),t=a,zp(l),t}const sM=m=>{let $;for(const ae in m)(ae==="class"||ae==="style"||jp(ae))&&(($||($={}))[ae]=m[ae]);return $},lM=(m,$)=>{const ae={};for(const de in m)(!gm(de)||!(de.slice(9)in $))&&(ae[de]=m[de]);return ae};function uM(m,$,ae){const{props:de,children:be,component:Ce}=m,{props:V,children:B,patchFlag:e}=$,p=Ce.emitsOptions;if($.dirs||$.transition)return!0;if(ae&&e>=0){if(e&1024)return!0;if(e&16)return de?Zx(de,V,p):!!V;if(e&8){const L=$.dynamicProps;for(let n=0;n<L.length;n++){const C=L[n];if(V[C]!==de[C]&&!eg(p,C))return!0}}}else return(be||B)&&(!B||!B.$stable)?!0:de===V?!1:de?V?Zx(de,V,p):!0:!!V;return!1}function Zx(m,$,ae){const de=Object.keys($);if(de.length!==Object.keys(m).length)return!0;for(let be=0;be<de.length;be++){const Ce=de[be];if($[Ce]!==m[Ce]&&!eg(ae,Ce))return!0}return!1}function fM({vnode:m,parent:$},ae){for(;$&&$.subTree===m;)(m=$.vnode).el=ae,$=$.parent}const cM=m=>m.__isSuspense;function hM(m,$){$&&$.pendingBranch?ti(m)?$.effects.push(...m):$.effects.push(m):aM(m)}function Jl(m,$){return Im(m,null,$)}const wp={};function Oa(m,$,ae){return Im(m,$,ae)}function Im(m,$,{immediate:ae,deep:de,flush:be,onTrack:Ce,onTrigger:V}=po){var B;const e=wS()===((B=ys)==null?void 0:B.scope)?ys:null;let p,L=!1,n=!1;if(Io(m)?(p=()=>m.value,L=Fp(m)):fd(m)?(p=()=>m,de=!0):ti(m)?(n=!0,L=m.some(s=>fd(s)||Fp(s)),p=()=>m.map(s=>{if(Io(s))return s.value;if(fd(s))return cv(s);if(vi(s))return bh(s,e,2)})):vi(m)?$?p=()=>bh(m,e,2):p=()=>{if(!(e&&e.isUnmounted))return C&&C(),xu(m,e,3,[y])}:p=rf,$&&de){const s=p;p=()=>cv(s())}let C,y=s=>{C=l.onStop=()=>{bh(s,e,4)}},h;if(S0)if(y=rf,$?ae&&xu($,e,3,[p(),n?[]:void 0,y]):p(),be==="sync"){const s=r6();h=s.__watcherHandles||(s.__watcherHandles=[])}else return rf;let g=n?new Array(m.length).fill(wp):wp;const t=()=>{if(l.active)if($){const s=l.run();(de||L||(n?s.some((c,u)=>y0(c,g[u])):y0(s,g)))&&(C&&C(),xu($,e,3,[s,g===wp?void 0:n&&g[0]===wp?[]:g,y]),g=s)}else l.run()};t.allowRecurse=!!$;let r;be==="sync"?r=t:be==="post"?r=()=>Pl(t,e&&e.suspense):(t.pre=!0,e&&(t.id=e.uid),r=()=>Rm(t));const l=new Tm(p,r);$?ae?t():g=l.run():be==="post"?Pl(l.run.bind(l),e&&e.suspense):l.run();const a=()=>{l.stop(),e&&e.scope&&ym(e.scope.effects,l)};return h&&h.push(a),a}function vM(m,$,ae){const de=this.proxy,be=Bo(m)?m.includes(".")?v3(de,m):()=>de[m]:m.bind(de,de);let Ce;vi($)?Ce=$:(Ce=$.handler,ae=$);const V=ys;dd(this);const B=Im(be,Ce.bind(de),ae);return V?dd(V):pv(),B}function v3(m,$){const ae=$.split(".");return()=>{let de=m;for(let be=0;be<ae.length&&de;be++)de=de[ae[be]];return de}}function cv(m,$){if(!fo(m)||m.__v_skip||($=$||new Set,$.has(m)))return m;if($.add(m),Io(m))cv(m.value,$);else if(ti(m))for(let ae=0;ae<m.length;ae++)cv(m[ae],$);else if(zb(m)||ud(m))m.forEach(ae=>{cv(ae,$)});else if(Nb(m))for(const ae in m)cv(m[ae],$);return m}function To(m,$){const ae=Rs;if(ae===null)return m;const de=ig(ae)||ae.proxy,be=m.dirs||(m.dirs=[]);for(let Ce=0;Ce<$.length;Ce++){let[V,B,e,p=po]=$[Ce];V&&(vi(V)&&(V={mounted:V,updated:V}),V.deep&&cv(B),be.push({dir:V,instance:de,value:B,oldValue:void 0,arg:e,modifiers:p}))}return m}function nv(m,$,ae,de){const be=m.dirs,Ce=$&&$.dirs;for(let V=0;V<be.length;V++){const B=be[V];Ce&&(B.oldValue=Ce[V].value);let e=B.dir[de];e&&(bd(),xu(e,ae,8,[m.el,B,m,$]),wd())}}function d3(){const m={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ks(()=>{m.isMounted=!0}),dl(()=>{m.isUnmounting=!0}),m}const yu=[Function,Array],p3={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yu,onEnter:yu,onAfterEnter:yu,onEnterCancelled:yu,onBeforeLeave:yu,onLeave:yu,onAfterLeave:yu,onLeaveCancelled:yu,onBeforeAppear:yu,onAppear:yu,onAfterAppear:yu,onAppearCancelled:yu},dM={name:"BaseTransition",props:p3,setup(m,{slots:$}){const ae=Um(),de=d3();let be;return()=>{const Ce=$.default&&Dm($.default(),!0);if(!Ce||!Ce.length)return;let V=Ce[0];if(Ce.length>1){for(const g of Ce)if(g.type!==bu){V=g;break}}const B=di(m),{mode:e}=B;if(de.isLeaving)return ty(V);const p=Xx(V);if(!p)return ty(V);const L=w0(p,B,de,ae);T0(p,L);const n=ae.subTree,C=n&&Xx(n);let y=!1;const{getTransitionKey:h}=p.type;if(h){const g=h();be===void 0?be=g:g!==be&&(be=g,y=!0)}if(C&&C.type!==bu&&(!uv(p,C)||y)){const g=w0(C,B,de,ae);if(T0(C,g),e==="out-in")return de.isLeaving=!0,g.afterLeave=()=>{de.isLeaving=!1,ae.update.active!==!1&&ae.update()},ty(V);e==="in-out"&&p.type!==bu&&(g.delayLeave=(t,r,l)=>{const a=g3(de,C);a[String(C.key)]=C,t._leaveCb=()=>{r(),t._leaveCb=void 0,delete L.delayedLeave},L.delayedLeave=l})}return V}}},pM=dM;function g3(m,$){const{leavingVNodes:ae}=m;let de=ae.get($.type);return de||(de=Object.create(null),ae.set($.type,de)),de}function w0(m,$,ae,de){const{appear:be,mode:Ce,persisted:V=!1,onBeforeEnter:B,onEnter:e,onAfterEnter:p,onEnterCancelled:L,onBeforeLeave:n,onLeave:C,onAfterLeave:y,onLeaveCancelled:h,onBeforeAppear:g,onAppear:t,onAfterAppear:r,onAppearCancelled:l}=$,a=String(m.key),s=g3(ae,m),c=(f,w)=>{f&&xu(f,de,9,w)},u=(f,w)=>{const v=w[1];c(f,w),ti(f)?f.every(o=>o.length<=1)&&v():f.length<=1&&v()},b={mode:Ce,persisted:V,beforeEnter(f){let w=B;if(!ae.isMounted)if(be)w=g||B;else return;f._leaveCb&&f._leaveCb(!0);const v=s[a];v&&uv(m,v)&&v.el._leaveCb&&v.el._leaveCb(),c(w,[f])},enter(f){let w=e,v=p,o=L;if(!ae.isMounted)if(be)w=t||e,v=r||p,o=l||L;else return;let d=!1;const S=f._enterCb=M=>{d||(d=!0,M?c(o,[f]):c(v,[f]),b.delayedLeave&&b.delayedLeave(),f._enterCb=void 0)};w?u(w,[f,S]):S()},leave(f,w){const v=String(m.key);if(f._enterCb&&f._enterCb(!0),ae.isUnmounting)return w();c(n,[f]);let o=!1;const d=f._leaveCb=S=>{o||(o=!0,w(),S?c(h,[f]):c(y,[f]),f._leaveCb=void 0,s[v]===m&&delete s[v])};s[v]=m,C?u(C,[f,d]):d()},clone(f){return w0(f,$,ae,de)}};return b}function ty(m){if(tg(m))return m=Sc(m),m.children=null,m}function Xx(m){return tg(m)?m.children?m.children[0]:void 0:m}function T0(m,$){m.shapeFlag&6&&m.component?T0(m.component.subTree,$):m.shapeFlag&128?(m.ssContent.transition=$.clone(m.ssContent),m.ssFallback.transition=$.clone(m.ssFallback)):m.transition=$}function Dm(m,$=!1,ae){let de=[],be=0;for(let Ce=0;Ce<m.length;Ce++){let V=m[Ce];const B=ae==null?V.key:String(ae)+String(V.key!=null?V.key:Ce);V.type===Qa?(V.patchFlag&128&&be++,de=de.concat(Dm(V.children,$,B))):($||V.type!==bu)&&de.push(B!=null?Sc(V,{key:B}):V)}if(be>1)for(let Ce=0;Ce<de.length;Ce++)de[Ce].patchFlag=-2;return de}function km(m,$){return vi(m)?(()=>Yo({name:m.name},$,{setup:m}))():m}const u0=m=>!!m.type.__asyncLoader,tg=m=>m.type.__isKeepAlive;function y3(m,$){x3(m,"a",$)}function m3(m,$){x3(m,"da",$)}function x3(m,$,ae=ys){const de=m.__wdc||(m.__wdc=()=>{let be=ae;for(;be;){if(be.isDeactivated)return;be=be.parent}return m()});if(rg($,de,ae),ae){let be=ae.parent;for(;be&&be.parent;)tg(be.parent.vnode)&&gM(de,$,ae,be),be=be.parent}}function gM(m,$,ae,de){const be=rg($,m,de,!0);T3(()=>{ym(de[$],be)},ae)}function rg(m,$,ae=ys,de=!1){if(ae){const be=ae[m]||(ae[m]=[]),Ce=$.__weh||($.__weh=(...V)=>{if(ae.isUnmounted)return;bd(),dd(ae);const B=xu($,ae,m,V);return pv(),wd(),B});return de?be.unshift(Ce):be.push(Ce),Ce}}const Rc=m=>($,ae=ys)=>(!S0||m==="sp")&&rg(m,(...de)=>$(...de),ae),ng=Rc("bm"),Ks=Rc("m"),b3=Rc("bu"),w3=Rc("u"),dl=Rc("bum"),T3=Rc("um"),yM=Rc("sp"),mM=Rc("rtg"),xM=Rc("rtc");function bM(m,$=ys){rg("ec",m,$)}const _m="components",wM="directives";function jl(m,$){return Fm(_m,m,!0,$)||m}const A3=Symbol.for("v-ndc");function TM(m){return Bo(m)?Fm(_m,m,!1)||m:m||A3}function Dl(m){return Fm(wM,m)}function Fm(m,$,ae=!0,de=!1){const be=Rs||ys;if(be){const Ce=be.type;if(m===_m){const B=qM(Ce,!1);if(B&&(B===$||B===Tu($)||B===Pc(Tu($))))return Ce}const V=jx(be[m]||Ce[m],$)||jx(be.appContext[m],$);return!V&&de?Ce:V}}function jx(m,$){return m&&(m[$]||m[Tu($)]||m[Pc(Tu($))])}function Sy(m,$,ae,de){let be;const Ce=ae&&ae[de];if(ti(m)||Bo(m)){be=new Array(m.length);for(let V=0,B=m.length;V<B;V++)be[V]=$(m[V],V,void 0,Ce&&Ce[V])}else if(typeof m=="number"){be=new Array(m);for(let V=0;V<m;V++)be[V]=$(V+1,V,void 0,Ce&&Ce[V])}else if(fo(m))if(m[Symbol.iterator])be=Array.from(m,(V,B)=>$(V,B,void 0,Ce&&Ce[B]));else{const V=Object.keys(m);be=new Array(V.length);for(let B=0,e=V.length;B<e;B++){const p=V[B];be[B]=$(m[p],p,B,Ce&&Ce[B])}}else be=[];return ae&&(ae[de]=be),be}function Kx(m,$,ae={},de,be){if(Rs.isCE||Rs.parent&&u0(Rs.parent)&&Rs.parent.isCE)return $!=="default"&&(ae.name=$),_t("slot",ae,de&&de());let Ce=m[$];Ce&&Ce._c&&(Ce._d=!1),Hi();const V=Ce&&S3(Ce(ae)),B=Nm(Qa,{key:ae.key||V&&V.key||`_${$}`},V||(de?de():[]),V&&m._===1?64:-2);return!be&&B.scopeId&&(B.slotScopeIds=[B.scopeId+"-s"]),Ce&&Ce._c&&(Ce._d=!0),B}function S3(m){return m.some($=>Np($)?!($.type===bu||$.type===Qa&&!S3($.children)):!0)?m:null}const My=m=>m?F3(m)?ig(m)||m.proxy:My(m.parent):null,f0=Yo(Object.create(null),{$:m=>m,$el:m=>m.vnode.el,$data:m=>m.data,$props:m=>m.props,$attrs:m=>m.attrs,$slots:m=>m.slots,$refs:m=>m.refs,$parent:m=>My(m.parent),$root:m=>My(m.root),$emit:m=>m.emit,$options:m=>zm(m),$forceUpdate:m=>m.f||(m.f=()=>Rm(m.update)),$nextTick:m=>m.n||(m.n=io.bind(m.proxy)),$watch:m=>vM.bind(m)}),ry=(m,$)=>m!==po&&!m.__isScriptSetup&&Ni(m,$),AM={get({_:m},$){const{ctx:ae,setupState:de,data:be,props:Ce,accessCache:V,type:B,appContext:e}=m;let p;if($[0]!=="$"){const y=V[$];if(y!==void 0)switch(y){case 1:return de[$];case 2:return be[$];case 4:return ae[$];case 3:return Ce[$]}else{if(ry(de,$))return V[$]=1,de[$];if(be!==po&&Ni(be,$))return V[$]=2,be[$];if((p=m.propsOptions[0])&&Ni(p,$))return V[$]=3,Ce[$];if(ae!==po&&Ni(ae,$))return V[$]=4,ae[$];Cy&&(V[$]=0)}}const L=f0[$];let n,C;if(L)return $==="$attrs"&&Il(m,"get",$),L(m);if((n=B.__cssModules)&&(n=n[$]))return n;if(ae!==po&&Ni(ae,$))return V[$]=4,ae[$];if(C=e.config.globalProperties,Ni(C,$))return C[$]},set({_:m},$,ae){const{data:de,setupState:be,ctx:Ce}=m;return ry(be,$)?(be[$]=ae,!0):de!==po&&Ni(de,$)?(de[$]=ae,!0):Ni(m.props,$)||$[0]==="$"&&$.slice(1)in m?!1:(Ce[$]=ae,!0)},has({_:{data:m,setupState:$,accessCache:ae,ctx:de,appContext:be,propsOptions:Ce}},V){let B;return!!ae[V]||m!==po&&Ni(m,V)||ry($,V)||(B=Ce[0])&&Ni(B,V)||Ni(de,V)||Ni(f0,V)||Ni(be.config.globalProperties,V)},defineProperty(m,$,ae){return ae.get!=null?m._.accessCache[$]=0:Ni(ae,"value")&&this.set(m,$,ae.value,null),Reflect.defineProperty(m,$,ae)}};function Jx(m){return ti(m)?m.reduce(($,ae)=>($[ae]=null,$),{}):m}let Cy=!0;function SM(m){const $=zm(m),ae=m.proxy,de=m.ctx;Cy=!1,$.beforeCreate&&$x($.beforeCreate,m,"bc");const{data:be,computed:Ce,methods:V,watch:B,provide:e,inject:p,created:L,beforeMount:n,mounted:C,beforeUpdate:y,updated:h,activated:g,deactivated:t,beforeDestroy:r,beforeUnmount:l,destroyed:a,unmounted:s,render:c,renderTracked:u,renderTriggered:b,errorCaptured:f,serverPrefetch:w,expose:v,inheritAttrs:o,components:d,directives:S,filters:M}=$;if(p&&MM(p,de,null),V)for(const E in V){const T=V[E];vi(T)&&(de[E]=T.bind(ae))}if(be){const E=be.call(ae,ae);fo(E)&&(m.data=hl(E))}if(Cy=!0,Ce)for(const E in Ce){const T=Ce[E],i=vi(T)?T.bind(ae,ae):vi(T.get)?T.get.bind(ae,ae):rf,R=!vi(T)&&vi(T.set)?T.set.bind(ae):rf,A=Tr({get:i,set:R});Object.defineProperty(de,E,{enumerable:!0,configurable:!0,get:()=>A.value,set:k=>A.value=k})}if(B)for(const E in B)M3(B[E],de,ae,E);if(e){const E=vi(e)?e.call(ae):e;Reflect.ownKeys(E).forEach(T=>{Oo(T,E[T])})}L&&$x(L,m,"c");function x(E,T){ti(T)?T.forEach(i=>E(i.bind(ae))):T&&E(T.bind(ae))}if(x(ng,n),x(Ks,C),x(b3,y),x(w3,h),x(y3,g),x(m3,t),x(bM,f),x(xM,u),x(mM,b),x(dl,l),x(T3,s),x(yM,w),ti(v))if(v.length){const E=m.exposed||(m.exposed={});v.forEach(T=>{Object.defineProperty(E,T,{get:()=>ae[T],set:i=>ae[T]=i})})}else m.exposed||(m.exposed={});c&&m.render===rf&&(m.render=c),o!=null&&(m.inheritAttrs=o),d&&(m.components=d),S&&(m.directives=S)}function MM(m,$,ae=rf){ti(m)&&(m=Ey(m));for(const de in m){const be=m[de];let Ce;fo(be)?"default"in be?Ce=Ii(be.from||de,be.default,!0):Ce=Ii(be.from||de):Ce=Ii(be),Io(Ce)?Object.defineProperty($,de,{enumerable:!0,configurable:!0,get:()=>Ce.value,set:V=>Ce.value=V}):$[de]=Ce}}function $x(m,$,ae){xu(ti(m)?m.map(de=>de.bind($.proxy)):m.bind($.proxy),$,ae)}function M3(m,$,ae,de){const be=de.includes(".")?v3(ae,de):()=>ae[de];if(Bo(m)){const Ce=$[m];vi(Ce)&&Oa(be,Ce)}else if(vi(m))Oa(be,m.bind(ae));else if(fo(m))if(ti(m))m.forEach(Ce=>M3(Ce,$,ae,de));else{const Ce=vi(m.handler)?m.handler.bind(ae):$[m.handler];vi(Ce)&&Oa(be,Ce,m)}}function zm(m){const $=m.type,{mixins:ae,extends:de}=$,{mixins:be,optionsCache:Ce,config:{optionMergeStrategies:V}}=m.appContext,B=Ce.get($);let e;return B?e=B:!be.length&&!ae&&!de?e=$:(e={},be.length&&be.forEach(p=>Op(e,p,V,!0)),Op(e,$,V)),fo($)&&Ce.set($,e),e}function Op(m,$,ae,de=!1){const{mixins:be,extends:Ce}=$;Ce&&Op(m,Ce,ae,!0),be&&be.forEach(V=>Op(m,V,ae,!0));for(const V in $)if(!(de&&V==="expose")){const B=CM[V]||ae&&ae[V];m[V]=B?B(m[V],$[V]):$[V]}return m}const CM={data:Qx,props:qx,emits:qx,methods:s0,computed:s0,beforeCreate:cl,created:cl,beforeMount:cl,mounted:cl,beforeUpdate:cl,updated:cl,beforeDestroy:cl,beforeUnmount:cl,destroyed:cl,unmounted:cl,activated:cl,deactivated:cl,errorCaptured:cl,serverPrefetch:cl,components:s0,directives:s0,watch:LM,provide:Qx,inject:EM};function Qx(m,$){return $?m?function(){return Yo(vi(m)?m.call(this,this):m,vi($)?$.call(this,this):$)}:$:m}function EM(m,$){return s0(Ey(m),Ey($))}function Ey(m){if(ti(m)){const $={};for(let ae=0;ae<m.length;ae++)$[m[ae]]=m[ae];return $}return m}function cl(m,$){return m?[...new Set([].concat(m,$))]:$}function s0(m,$){return m?Yo(Object.create(null),m,$):$}function qx(m,$){return m?ti(m)&&ti($)?[...new Set([...m,...$])]:Yo(Object.create(null),Jx(m),Jx($??{})):$}function LM(m,$){if(!m)return $;if(!$)return m;const ae=Yo(Object.create(null),m);for(const de in $)ae[de]=cl(m[de],$[de]);return ae}function C3(){return{app:null,config:{isNativeTag:sS,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let PM=0;function RM(m,$){return function(de,be=null){vi(de)||(de=Yo({},de)),be!=null&&!fo(be)&&(be=null);const Ce=C3(),V=new Set;let B=!1;const e=Ce.app={_uid:PM++,_component:de,_props:be,_container:null,_context:Ce,_instance:null,version:n6,get config(){return Ce.config},set config(p){},use(p,...L){return V.has(p)||(p&&vi(p.install)?(V.add(p),p.install(e,...L)):vi(p)&&(V.add(p),p(e,...L))),e},mixin(p){return Ce.mixins.includes(p)||Ce.mixins.push(p),e},component(p,L){return L?(Ce.components[p]=L,e):Ce.components[p]},directive(p,L){return L?(Ce.directives[p]=L,e):Ce.directives[p]},mount(p,L,n){if(!B){const C=_t(de,be);return C.appContext=Ce,L&&$?$(C,p):m(C,p,n),B=!0,e._container=p,p.__vue_app__=e,ig(C.component)||C.component.proxy}},unmount(){B&&(m(null,e._container),delete e._container.__vue_app__)},provide(p,L){return Ce.provides[p]=L,e},runWithContext(p){Bp=e;try{return p()}finally{Bp=null}}};return e}}let Bp=null;function Oo(m,$){if(ys){let ae=ys.provides;const de=ys.parent&&ys.parent.provides;de===ae&&(ae=ys.provides=Object.create(de)),ae[m]=$}}function Ii(m,$,ae=!1){const de=ys||Rs;if(de||Bp){const be=de?de.parent==null?de.vnode.appContext&&de.vnode.appContext.provides:de.parent.provides:Bp._context.provides;if(be&&m in be)return be[m];if(arguments.length>1)return ae&&vi($)?$.call(de&&de.proxy):$}}function IM(m,$,ae,de=!1){const be={},Ce={};kp(Ce,ag,1),m.propsDefaults=Object.create(null),E3(m,$,be,Ce);for(const V in m.propsOptions[0])V in be||(be[V]=void 0);ae?m.props=de?be:qb(be):m.type.props?m.props=be:m.props=Ce,m.attrs=Ce}function DM(m,$,ae,de){const{props:be,attrs:Ce,vnode:{patchFlag:V}}=m,B=di(be),[e]=m.propsOptions;let p=!1;if((de||V>0)&&!(V&16)){if(V&8){const L=m.vnode.dynamicProps;for(let n=0;n<L.length;n++){let C=L[n];if(eg(m.emitsOptions,C))continue;const y=$[C];if(e)if(Ni(Ce,C))y!==Ce[C]&&(Ce[C]=y,p=!0);else{const h=Tu(C);be[h]=Ly(e,B,h,y,m,!1)}else y!==Ce[C]&&(Ce[C]=y,p=!0)}}}else{E3(m,$,be,Ce)&&(p=!0);let L;for(const n in B)(!$||!Ni($,n)&&((L=bv(n))===n||!Ni($,L)))&&(e?ae&&(ae[n]!==void 0||ae[L]!==void 0)&&(be[n]=Ly(e,B,n,void 0,m,!0)):delete be[n]);if(Ce!==B)for(const n in Ce)(!$||!Ni($,n))&&(delete Ce[n],p=!0)}p&&Ac(m,"set","$attrs")}function E3(m,$,ae,de){const[be,Ce]=m.propsOptions;let V=!1,B;if($)for(let e in $){if(Ep(e))continue;const p=$[e];let L;be&&Ni(be,L=Tu(e))?!Ce||!Ce.includes(L)?ae[L]=p:(B||(B={}))[L]=p:eg(m.emitsOptions,e)||(!(e in de)||p!==de[e])&&(de[e]=p,V=!0)}if(Ce){const e=di(ae),p=B||po;for(let L=0;L<Ce.length;L++){const n=Ce[L];ae[n]=Ly(be,e,n,p[n],m,!Ni(p,n))}}return V}function Ly(m,$,ae,de,be,Ce){const V=m[ae];if(V!=null){const B=Ni(V,"default");if(B&&de===void 0){const e=V.default;if(V.type!==Function&&!V.skipFactory&&vi(e)){const{propsDefaults:p}=be;ae in p?de=p[ae]:(dd(be),de=p[ae]=e.call(null,$),pv())}else de=e}V[0]&&(Ce&&!B?de=!1:V[1]&&(de===""||de===bv(ae))&&(de=!0))}return de}function L3(m,$,ae=!1){const de=$.propsCache,be=de.get(m);if(be)return be;const Ce=m.props,V={},B=[];let e=!1;if(!vi(m)){const L=n=>{e=!0;const[C,y]=L3(n,$,!0);Yo(V,C),y&&B.push(...y)};!ae&&$.mixins.length&&$.mixins.forEach(L),m.extends&&L(m.extends),m.mixins&&m.mixins.forEach(L)}if(!Ce&&!e)return fo(m)&&de.set(m,ld),ld;if(ti(Ce))for(let L=0;L<Ce.length;L++){const n=Tu(Ce[L]);e2(n)&&(V[n]=po)}else if(Ce)for(const L in Ce){const n=Tu(L);if(e2(n)){const C=Ce[L],y=V[n]=ti(C)||vi(C)?{type:C}:Yo({},C);if(y){const h=n2(Boolean,y.type),g=n2(String,y.type);y[0]=h>-1,y[1]=g<0||h<g,(h>-1||Ni(y,"default"))&&B.push(n)}}}const p=[V,B];return fo(m)&&de.set(m,p),p}function e2(m){return m[0]!=="$"}function t2(m){const $=m&&m.toString().match(/^\s*(function|class) (\w+)/);return $?$[2]:m===null?"null":""}function r2(m,$){return t2(m)===t2($)}function n2(m,$){return ti($)?$.findIndex(ae=>r2(ae,m)):vi($)&&r2($,m)?0:-1}const P3=m=>m[0]==="_"||m==="$stable",Om=m=>ti(m)?m.map(kf):[kf(m)],kM=(m,$,ae)=>{if($._n)return $;const de=gh((...be)=>Om($(...be)),ae);return de._c=!1,de},R3=(m,$,ae)=>{const de=m._ctx;for(const be in m){if(P3(be))continue;const Ce=m[be];if(vi(Ce))$[be]=kM(be,Ce,de);else if(Ce!=null){const V=Om(Ce);$[be]=()=>V}}},I3=(m,$)=>{const ae=Om($);m.slots.default=()=>ae},_M=(m,$)=>{if(m.vnode.shapeFlag&32){const ae=$._;ae?(m.slots=di($),kp($,"_",ae)):R3($,m.slots={})}else m.slots={},$&&I3(m,$);kp(m.slots,ag,1)},FM=(m,$,ae)=>{const{vnode:de,slots:be}=m;let Ce=!0,V=po;if(de.shapeFlag&32){const B=$._;B?ae&&B===1?Ce=!1:(Yo(be,$),!ae&&B===1&&delete be._):(Ce=!$.$stable,R3($,be)),V=$}else $&&(I3(m,$),V={default:1});if(Ce)for(const B in be)!P3(B)&&!(B in V)&&delete be[B]};function Py(m,$,ae,de,be=!1){if(ti(m)){m.forEach((C,y)=>Py(C,$&&(ti($)?$[y]:$),ae,de,be));return}if(u0(de)&&!be)return;const Ce=de.shapeFlag&4?ig(de.component)||de.component.proxy:de.el,V=be?null:Ce,{i:B,r:e}=m,p=$&&$.r,L=B.refs===po?B.refs={}:B.refs,n=B.setupState;if(p!=null&&p!==e&&(Bo(p)?(L[p]=null,Ni(n,p)&&(n[p]=null)):Io(p)&&(p.value=null)),vi(e))bh(e,B,12,[V,L]);else{const C=Bo(e),y=Io(e);if(C||y){const h=()=>{if(m.f){const g=C?Ni(n,e)?n[e]:L[e]:e.value;be?ti(g)&&ym(g,Ce):ti(g)?g.includes(Ce)||g.push(Ce):C?(L[e]=[Ce],Ni(n,e)&&(n[e]=L[e])):(e.value=[Ce],m.k&&(L[m.k]=e.value))}else C?(L[e]=V,Ni(n,e)&&(n[e]=V)):y&&(e.value=V,m.k&&(L[m.k]=V))};V?(h.id=-1,Pl(h,ae)):h()}}}const Pl=hM;function zM(m){return OM(m)}function OM(m,$){const ae=xy();ae.__VUE__=!0;const{insert:de,remove:be,patchProp:Ce,createElement:V,createText:B,createComment:e,setText:p,setElementText:L,parentNode:n,nextSibling:C,setScopeId:y=rf,insertStaticContent:h}=m,g=(J,te,fe,K=null,Y=null,W=null,X=!1,re=null,se=!!te.dynamicChildren)=>{if(J===te)return;J&&!uv(J,te)&&(K=O(J),k(J,Y,W,!0),J=null),te.patchFlag===-2&&(se=!1,te.dynamicChildren=null);const{type:Q,ref:ee,shapeFlag:le}=te;switch(Q){case _0:t(J,te,fe,K);break;case bu:r(J,te,fe,K);break;case ny:J==null&&l(te,fe,K,X);break;case Qa:d(J,te,fe,K,Y,W,X,re,se);break;default:le&1?c(J,te,fe,K,Y,W,X,re,se):le&6?S(J,te,fe,K,Y,W,X,re,se):(le&64||le&128)&&Q.process(J,te,fe,K,Y,W,X,re,se,U)}ee!=null&&Y&&Py(ee,J&&J.ref,W,te||J,!te)},t=(J,te,fe,K)=>{if(J==null)de(te.el=B(te.children),fe,K);else{const Y=te.el=J.el;te.children!==J.children&&p(Y,te.children)}},r=(J,te,fe,K)=>{J==null?de(te.el=e(te.children||""),fe,K):te.el=J.el},l=(J,te,fe,K)=>{[J.el,J.anchor]=h(J.children,te,fe,K,J.el,J.anchor)},a=({el:J,anchor:te},fe,K)=>{let Y;for(;J&&J!==te;)Y=C(J),de(J,fe,K),J=Y;de(te,fe,K)},s=({el:J,anchor:te})=>{let fe;for(;J&&J!==te;)fe=C(J),be(J),J=fe;be(te)},c=(J,te,fe,K,Y,W,X,re,se)=>{X=X||te.type==="svg",J==null?u(te,fe,K,Y,W,X,re,se):w(J,te,Y,W,X,re,se)},u=(J,te,fe,K,Y,W,X,re)=>{let se,Q;const{type:ee,props:le,shapeFlag:oe,transition:he,dirs:xe}=J;if(se=J.el=V(J.type,W,le&&le.is,le),oe&8?L(se,J.children):oe&16&&f(J.children,se,null,K,Y,W&&ee!=="foreignObject",X,re),xe&&nv(J,null,K,"created"),b(se,J,J.scopeId,X,K),le){for(const Se in le)Se!=="value"&&!Ep(Se)&&Ce(se,Se,null,le[Se],W,J.children,K,Y,N);"value"in le&&Ce(se,"value",null,le.value),(Q=le.onVnodeBeforeMount)&&If(Q,K,J)}xe&&nv(J,null,K,"beforeMount");const Ae=(!Y||Y&&!Y.pendingBranch)&&he&&!he.persisted;Ae&&he.beforeEnter(se),de(se,te,fe),((Q=le&&le.onVnodeMounted)||Ae||xe)&&Pl(()=>{Q&&If(Q,K,J),Ae&&he.enter(se),xe&&nv(J,null,K,"mounted")},Y)},b=(J,te,fe,K,Y)=>{if(fe&&y(J,fe),K)for(let W=0;W<K.length;W++)y(J,K[W]);if(Y){let W=Y.subTree;if(te===W){const X=Y.vnode;b(J,X,X.scopeId,X.slotScopeIds,Y.parent)}}},f=(J,te,fe,K,Y,W,X,re,se=0)=>{for(let Q=se;Q<J.length;Q++){const ee=J[Q]=re?yh(J[Q]):kf(J[Q]);g(null,ee,te,fe,K,Y,W,X,re)}},w=(J,te,fe,K,Y,W,X)=>{const re=te.el=J.el;let{patchFlag:se,dynamicChildren:Q,dirs:ee}=te;se|=J.patchFlag&16;const le=J.props||po,oe=te.props||po;let he;fe&&av(fe,!1),(he=oe.onVnodeBeforeUpdate)&&If(he,fe,te,J),ee&&nv(te,J,fe,"beforeUpdate"),fe&&av(fe,!0);const xe=Y&&te.type!=="foreignObject";if(Q?v(J.dynamicChildren,Q,re,fe,K,xe,W):X||T(J,te,re,null,fe,K,xe,W,!1),se>0){if(se&16)o(re,te,le,oe,fe,K,Y);else if(se&2&&le.class!==oe.class&&Ce(re,"class",null,oe.class,Y),se&4&&Ce(re,"style",le.style,oe.style,Y),se&8){const Ae=te.dynamicProps;for(let Se=0;Se<Ae.length;Se++){const Oe=Ae[Se],Ve=le[Oe],Ee=oe[Oe];(Ee!==Ve||Oe==="value")&&Ce(re,Oe,Ve,Ee,Y,J.children,fe,K,N)}}se&1&&J.children!==te.children&&L(re,te.children)}else!X&&Q==null&&o(re,te,le,oe,fe,K,Y);((he=oe.onVnodeUpdated)||ee)&&Pl(()=>{he&&If(he,fe,te,J),ee&&nv(te,J,fe,"updated")},K)},v=(J,te,fe,K,Y,W,X)=>{for(let re=0;re<te.length;re++){const se=J[re],Q=te[re],ee=se.el&&(se.type===Qa||!uv(se,Q)||se.shapeFlag&70)?n(se.el):fe;g(se,Q,ee,null,K,Y,W,X,!0)}},o=(J,te,fe,K,Y,W,X)=>{if(fe!==K){if(fe!==po)for(const re in fe)!Ep(re)&&!(re in K)&&Ce(J,re,fe[re],null,X,te.children,Y,W,N);for(const re in K){if(Ep(re))continue;const se=K[re],Q=fe[re];se!==Q&&re!=="value"&&Ce(J,re,Q,se,X,te.children,Y,W,N)}"value"in K&&Ce(J,"value",fe.value,K.value)}},d=(J,te,fe,K,Y,W,X,re,se)=>{const Q=te.el=J?J.el:B(""),ee=te.anchor=J?J.anchor:B("");let{patchFlag:le,dynamicChildren:oe,slotScopeIds:he}=te;he&&(re=re?re.concat(he):he),J==null?(de(Q,fe,K),de(ee,fe,K),f(te.children,fe,ee,Y,W,X,re,se)):le>0&&le&64&&oe&&J.dynamicChildren?(v(J.dynamicChildren,oe,fe,Y,W,X,re),(te.key!=null||Y&&te===Y.subTree)&&Bm(J,te,!0)):T(J,te,fe,ee,Y,W,X,re,se)},S=(J,te,fe,K,Y,W,X,re,se)=>{te.slotScopeIds=re,J==null?te.shapeFlag&512?Y.ctx.activate(te,fe,K,X,se):M(te,fe,K,Y,W,X,se):P(J,te,se)},M=(J,te,fe,K,Y,W,X)=>{const re=J.component=jM(J,K,Y);if(tg(J)&&(re.ctx.renderer=U),KM(re),re.asyncDep){if(Y&&Y.registerDep(re,x),!J.el){const se=re.subTree=_t(bu);r(null,se,te,fe)}return}x(re,J,te,fe,Y,W,X)},P=(J,te,fe)=>{const K=te.component=J.component;if(uM(J,te,fe))if(K.asyncDep&&!K.asyncResolved){E(K,te,fe);return}else K.next=te,nM(K.update),K.update();else te.el=J.el,K.vnode=te},x=(J,te,fe,K,Y,W,X)=>{const re=()=>{if(J.isMounted){let{next:ee,bu:le,u:oe,parent:he,vnode:xe}=J,Ae=ee,Se;av(J,!1),ee?(ee.el=xe.el,E(J,ee,X)):ee=xe,le&&Lp(le),(Se=ee.props&&ee.props.onVnodeBeforeUpdate)&&If(Se,he,ee,xe),av(J,!0);const Oe=ey(J),Ve=J.subTree;J.subTree=Oe,g(Ve,Oe,n(Ve.el),O(Ve),J,Y,W),ee.el=Oe.el,Ae===null&&fM(J,Oe.el),oe&&Pl(oe,Y),(Se=ee.props&&ee.props.onVnodeUpdated)&&Pl(()=>If(Se,he,ee,xe),Y)}else{let ee;const{el:le,props:oe}=te,{bm:he,m:xe,parent:Ae}=J,Se=u0(te);if(av(J,!1),he&&Lp(he),!Se&&(ee=oe&&oe.onVnodeBeforeMount)&&If(ee,Ae,te),av(J,!0),le&&q){const Oe=()=>{J.subTree=ey(J),q(le,J.subTree,J,Y,null)};Se?te.type.__asyncLoader().then(()=>!J.isUnmounted&&Oe()):Oe()}else{const Oe=J.subTree=ey(J);g(null,Oe,fe,K,J,Y,W),te.el=Oe.el}if(xe&&Pl(xe,Y),!Se&&(ee=oe&&oe.onVnodeMounted)){const Oe=te;Pl(()=>If(ee,Ae,Oe),Y)}(te.shapeFlag&256||Ae&&u0(Ae.vnode)&&Ae.vnode.shapeFlag&256)&&J.a&&Pl(J.a,Y),J.isMounted=!0,te=fe=K=null}},se=J.effect=new Tm(re,()=>Rm(Q),J.scope),Q=J.update=()=>se.run();Q.id=J.uid,av(J,!0),Q()},E=(J,te,fe)=>{te.component=J;const K=J.vnode.props;J.vnode=te,J.next=null,DM(J,te.props,K,fe),FM(J,te.children,fe),bd(),Yx(),wd()},T=(J,te,fe,K,Y,W,X,re,se=!1)=>{const Q=J&&J.children,ee=J?J.shapeFlag:0,le=te.children,{patchFlag:oe,shapeFlag:he}=te;if(oe>0){if(oe&128){R(Q,le,fe,K,Y,W,X,re,se);return}else if(oe&256){i(Q,le,fe,K,Y,W,X,re,se);return}}he&8?(ee&16&&N(Q,Y,W),le!==Q&&L(fe,le)):ee&16?he&16?R(Q,le,fe,K,Y,W,X,re,se):N(Q,Y,W,!0):(ee&8&&L(fe,""),he&16&&f(le,fe,K,Y,W,X,re,se))},i=(J,te,fe,K,Y,W,X,re,se)=>{J=J||ld,te=te||ld;const Q=J.length,ee=te.length,le=Math.min(Q,ee);let oe;for(oe=0;oe<le;oe++){const he=te[oe]=se?yh(te[oe]):kf(te[oe]);g(J[oe],he,fe,null,Y,W,X,re,se)}Q>ee?N(J,Y,W,!0,!1,le):f(te,fe,K,Y,W,X,re,se,le)},R=(J,te,fe,K,Y,W,X,re,se)=>{let Q=0;const ee=te.length;let le=J.length-1,oe=ee-1;for(;Q<=le&&Q<=oe;){const he=J[Q],xe=te[Q]=se?yh(te[Q]):kf(te[Q]);if(uv(he,xe))g(he,xe,fe,null,Y,W,X,re,se);else break;Q++}for(;Q<=le&&Q<=oe;){const he=J[le],xe=te[oe]=se?yh(te[oe]):kf(te[oe]);if(uv(he,xe))g(he,xe,fe,null,Y,W,X,re,se);else break;le--,oe--}if(Q>le){if(Q<=oe){const he=oe+1,xe=he<ee?te[he].el:K;for(;Q<=oe;)g(null,te[Q]=se?yh(te[Q]):kf(te[Q]),fe,xe,Y,W,X,re,se),Q++}}else if(Q>oe)for(;Q<=le;)k(J[Q],Y,W,!0),Q++;else{const he=Q,xe=Q,Ae=new Map;for(Q=xe;Q<=oe;Q++){const He=te[Q]=se?yh(te[Q]):kf(te[Q]);He.key!=null&&Ae.set(He.key,Q)}let Se,Oe=0;const Ve=oe-xe+1;let Ee=!1,Te=0;const Le=new Array(Ve);for(Q=0;Q<Ve;Q++)Le[Q]=0;for(Q=he;Q<=le;Q++){const He=J[Q];if(Oe>=Ve){k(He,Y,W,!0);continue}let ke;if(He.key!=null)ke=Ae.get(He.key);else for(Se=xe;Se<=oe;Se++)if(Le[Se-xe]===0&&uv(He,te[Se])){ke=Se;break}ke===void 0?k(He,Y,W,!0):(Le[ke-xe]=Q+1,ke>=Te?Te=ke:Ee=!0,g(He,te[ke],fe,null,Y,W,X,re,se),Oe++)}const Ge=Ee?BM(Le):ld;for(Se=Ge.length-1,Q=Ve-1;Q>=0;Q--){const He=xe+Q,ke=te[He],We=He+1<ee?te[He+1].el:K;Le[Q]===0?g(null,ke,fe,We,Y,W,X,re,se):Ee&&(Se<0||Q!==Ge[Se]?A(ke,fe,We,2):Se--)}}},A=(J,te,fe,K,Y=null)=>{const{el:W,type:X,transition:re,children:se,shapeFlag:Q}=J;if(Q&6){A(J.component.subTree,te,fe,K);return}if(Q&128){J.suspense.move(te,fe,K);return}if(Q&64){X.move(J,te,fe,U);return}if(X===Qa){de(W,te,fe);for(let le=0;le<se.length;le++)A(se[le],te,fe,K);de(J.anchor,te,fe);return}if(X===ny){a(J,te,fe);return}if(K!==2&&Q&1&&re)if(K===0)re.beforeEnter(W),de(W,te,fe),Pl(()=>re.enter(W),Y);else{const{leave:le,delayLeave:oe,afterLeave:he}=re,xe=()=>de(W,te,fe),Ae=()=>{le(W,()=>{xe(),he&&he()})};oe?oe(W,xe,Ae):Ae()}else de(W,te,fe)},k=(J,te,fe,K=!1,Y=!1)=>{const{type:W,props:X,ref:re,children:se,dynamicChildren:Q,shapeFlag:ee,patchFlag:le,dirs:oe}=J;if(re!=null&&Py(re,null,fe,J,!0),ee&256){te.ctx.deactivate(J);return}const he=ee&1&&oe,xe=!u0(J);let Ae;if(xe&&(Ae=X&&X.onVnodeBeforeUnmount)&&If(Ae,te,J),ee&6)z(J.component,fe,K);else{if(ee&128){J.suspense.unmount(fe,K);return}he&&nv(J,null,te,"beforeUnmount"),ee&64?J.type.remove(J,te,fe,Y,U,K):Q&&(W!==Qa||le>0&&le&64)?N(Q,te,fe,!1,!0):(W===Qa&&le&384||!Y&&ee&16)&&N(se,te,fe),K&&_(J)}(xe&&(Ae=X&&X.onVnodeUnmounted)||he)&&Pl(()=>{Ae&&If(Ae,te,J),he&&nv(J,null,te,"unmounted")},fe)},_=J=>{const{type:te,el:fe,anchor:K,transition:Y}=J;if(te===Qa){H(fe,K);return}if(te===ny){s(J);return}const W=()=>{be(fe),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(J.shapeFlag&1&&Y&&!Y.persisted){const{leave:X,delayLeave:re}=Y,se=()=>X(fe,W);re?re(J.el,W,se):se()}else W()},H=(J,te)=>{let fe;for(;J!==te;)fe=C(J),be(J),J=fe;be(te)},z=(J,te,fe)=>{const{bum:K,scope:Y,update:W,subTree:X,um:re}=J;K&&Lp(K),Y.stop(),W&&(W.active=!1,k(X,J,te,fe)),re&&Pl(re,te),Pl(()=>{J.isUnmounted=!0},te),te&&te.pendingBranch&&!te.isUnmounted&&J.asyncDep&&!J.asyncResolved&&J.suspenseId===te.pendingId&&(te.deps--,te.deps===0&&te.resolve())},N=(J,te,fe,K=!1,Y=!1,W=0)=>{for(let X=W;X<J.length;X++)k(J[X],te,fe,K,Y)},O=J=>J.shapeFlag&6?O(J.component.subTree):J.shapeFlag&128?J.suspense.next():C(J.anchor||J.el),F=(J,te,fe)=>{J==null?te._vnode&&k(te._vnode,null,null,!0):g(te._vnode||null,J,te,null,null,null,fe),Yx(),u3(),te._vnode=J},U={p:g,um:k,m:A,r:_,mt:M,mc:f,pc:T,pbc:v,n:O,o:m};let Z,q;return $&&([Z,q]=$(U)),{render:F,hydrate:Z,createApp:RM(F,Z)}}function av({effect:m,update:$},ae){m.allowRecurse=$.allowRecurse=ae}function Bm(m,$,ae=!1){const de=m.children,be=$.children;if(ti(de)&&ti(be))for(let Ce=0;Ce<de.length;Ce++){const V=de[Ce];let B=be[Ce];B.shapeFlag&1&&!B.dynamicChildren&&((B.patchFlag<=0||B.patchFlag===32)&&(B=be[Ce]=yh(be[Ce]),B.el=V.el),ae||Bm(V,B)),B.type===_0&&(B.el=V.el)}}function BM(m){const $=m.slice(),ae=[0];let de,be,Ce,V,B;const e=m.length;for(de=0;de<e;de++){const p=m[de];if(p!==0){if(be=ae[ae.length-1],m[be]<p){$[de]=be,ae.push(de);continue}for(Ce=0,V=ae.length-1;Ce<V;)B=Ce+V>>1,m[ae[B]]<p?Ce=B+1:V=B;p<m[ae[Ce]]&&(Ce>0&&($[de]=ae[Ce-1]),ae[Ce]=de)}}for(Ce=ae.length,V=ae[Ce-1];Ce-- >0;)ae[Ce]=V,V=$[V];return ae}const NM=m=>m.__isTeleport,c0=m=>m&&(m.disabled||m.disabled===""),a2=m=>typeof SVGElement<"u"&&m instanceof SVGElement,Ry=(m,$)=>{const ae=m&&m.to;return Bo(ae)?$?$(ae):null:ae},VM={__isTeleport:!0,process(m,$,ae,de,be,Ce,V,B,e,p){const{mc:L,pc:n,pbc:C,o:{insert:y,querySelector:h,createText:g,createComment:t}}=p,r=c0($.props);let{shapeFlag:l,children:a,dynamicChildren:s}=$;if(m==null){const c=$.el=g(""),u=$.anchor=g("");y(c,ae,de),y(u,ae,de);const b=$.target=Ry($.props,h),f=$.targetAnchor=g("");b&&(y(f,b),V=V||a2(b));const w=(v,o)=>{l&16&&L(a,v,o,be,Ce,V,B,e)};r?w(ae,u):b&&w(b,f)}else{$.el=m.el;const c=$.anchor=m.anchor,u=$.target=m.target,b=$.targetAnchor=m.targetAnchor,f=c0(m.props),w=f?ae:u,v=f?c:b;if(V=V||a2(u),s?(C(m.dynamicChildren,s,w,be,Ce,V,B),Bm(m,$,!0)):e||n(m,$,w,v,be,Ce,V,B,!1),r)f||Tp($,ae,c,p,1);else if(($.props&&$.props.to)!==(m.props&&m.props.to)){const o=$.target=Ry($.props,h);o&&Tp($,o,null,p,0)}else f&&Tp($,u,b,p,1)}D3($)},remove(m,$,ae,de,{um:be,o:{remove:Ce}},V){const{shapeFlag:B,children:e,anchor:p,targetAnchor:L,target:n,props:C}=m;if(n&&Ce(L),(V||!c0(C))&&(Ce(p),B&16))for(let y=0;y<e.length;y++){const h=e[y];be(h,$,ae,!0,!!h.dynamicChildren)}},move:Tp,hydrate:UM};function Tp(m,$,ae,{o:{insert:de},m:be},Ce=2){Ce===0&&de(m.targetAnchor,$,ae);const{el:V,anchor:B,shapeFlag:e,children:p,props:L}=m,n=Ce===2;if(n&&de(V,$,ae),(!n||c0(L))&&e&16)for(let C=0;C<p.length;C++)be(p[C],$,ae,2);n&&de(B,$,ae)}function UM(m,$,ae,de,be,Ce,{o:{nextSibling:V,parentNode:B,querySelector:e}},p){const L=$.target=Ry($.props,e);if(L){const n=L._lpa||L.firstChild;if($.shapeFlag&16)if(c0($.props))$.anchor=p(V(m),$,B(m),ae,de,be,Ce),$.targetAnchor=n;else{$.anchor=V(m);let C=n;for(;C;)if(C=V(C),C&&C.nodeType===8&&C.data==="teleport anchor"){$.targetAnchor=C,L._lpa=$.targetAnchor&&V($.targetAnchor);break}p(n,$,L,ae,de,be,Ce)}D3($)}return $.anchor&&V($.anchor)}const HM=VM;function D3(m){const $=m.ctx;if($&&$.ut){let ae=m.children[0].el;for(;ae!==m.targetAnchor;)ae.nodeType===1&&ae.setAttribute("data-v-owner",$.uid),ae=ae.nextSibling;$.ut()}}const Qa=Symbol.for("v-fgt"),_0=Symbol.for("v-txt"),bu=Symbol.for("v-cmt"),ny=Symbol.for("v-stc"),h0=[];let ef=null;function Hi(m=!1){h0.push(ef=m?null:[])}function GM(){h0.pop(),ef=h0[h0.length-1]||null}let A0=1;function i2(m){A0+=m}function k3(m){return m.dynamicChildren=A0>0?ef||ld:null,GM(),A0>0&&ef&&ef.push(m),m}function Ji(m,$,ae,de,be,Ce){return k3(Ha(m,$,ae,de,be,Ce,!0))}function Nm(m,$,ae,de,be){return k3(_t(m,$,ae,de,be,!0))}function Np(m){return m?m.__v_isVNode===!0:!1}function uv(m,$){return m.type===$.type&&m.key===$.key}const ag="__vInternal",_3=({key:m})=>m??null,Pp=({ref:m,ref_key:$,ref_for:ae})=>(typeof m=="number"&&(m=""+m),m!=null?Bo(m)||Io(m)||vi(m)?{i:Rs,r:m,k:$,f:!!ae}:m:null);function Ha(m,$=null,ae=null,de=0,be=null,Ce=m===Qa?0:1,V=!1,B=!1){const e={__v_isVNode:!0,__v_skip:!0,type:m,props:$,key:$&&_3($),ref:$&&Pp($),scopeId:h3,slotScopeIds:null,children:ae,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:Ce,patchFlag:de,dynamicProps:be,dynamicChildren:null,appContext:null,ctx:Rs};return B?(Vm(e,ae),Ce&128&&m.normalize(e)):ae&&(e.shapeFlag|=Bo(ae)?8:16),A0>0&&!V&&ef&&(e.patchFlag>0||Ce&6)&&e.patchFlag!==32&&ef.push(e),e}const _t=WM;function WM(m,$=null,ae=null,de=0,be=null,Ce=!1){if((!m||m===A3)&&(m=bu),Np(m)){const B=Sc(m,$,!0);return ae&&Vm(B,ae),A0>0&&!Ce&&ef&&(B.shapeFlag&6?ef[ef.indexOf(m)]=B:ef.push(B)),B.patchFlag|=-2,B}if(e6(m)&&(m=m.__vccOpts),$){$=YM($);let{class:B,style:e}=$;B&&!Bo(B)&&($.class=wo(B)),fo(e)&&(e3(e)&&!ti(e)&&(e=Yo({},e)),$.style=$p(e))}const V=Bo(m)?1:cM(m)?128:NM(m)?64:fo(m)?4:vi(m)?2:0;return Ha(m,$,ae,de,be,V,Ce,!0)}function YM(m){return m?e3(m)||ag in m?Yo({},m):m:null}function Sc(m,$,ae=!1){const{props:de,ref:be,patchFlag:Ce,children:V}=m,B=$?Ra(de||{},$):de;return{__v_isVNode:!0,__v_skip:!0,type:m.type,props:B,key:B&&_3(B),ref:$&&$.ref?ae&&be?ti(be)?be.concat(Pp($)):[be,Pp($)]:Pp($):be,scopeId:m.scopeId,slotScopeIds:m.slotScopeIds,children:V,target:m.target,targetAnchor:m.targetAnchor,staticCount:m.staticCount,shapeFlag:m.shapeFlag,patchFlag:$&&m.type!==Qa?Ce===-1?16:Ce|16:Ce,dynamicProps:m.dynamicProps,dynamicChildren:m.dynamicChildren,appContext:m.appContext,dirs:m.dirs,transition:m.transition,component:m.component,suspense:m.suspense,ssContent:m.ssContent&&Sc(m.ssContent),ssFallback:m.ssFallback&&Sc(m.ssFallback),el:m.el,anchor:m.anchor,ctx:m.ctx,ce:m.ce}}function nf(m=" ",$=0){return _t(_0,null,m,$)}function Qu(m="",$=!1){return $?(Hi(),Nm(bu,null,m)):_t(bu,null,m)}function kf(m){return m==null||typeof m=="boolean"?_t(bu):ti(m)?_t(Qa,null,m.slice()):typeof m=="object"?yh(m):_t(_0,null,String(m))}function yh(m){return m.el===null&&m.patchFlag!==-1||m.memo?m:Sc(m)}function Vm(m,$){let ae=0;const{shapeFlag:de}=m;if($==null)$=null;else if(ti($))ae=16;else if(typeof $=="object")if(de&65){const be=$.default;be&&(be._c&&(be._d=!1),Vm(m,be()),be._c&&(be._d=!0));return}else{ae=32;const be=$._;!be&&!(ag in $)?$._ctx=Rs:be===3&&Rs&&(Rs.slots._===1?$._=1:($._=2,m.patchFlag|=1024))}else vi($)?($={default:$,_ctx:Rs},ae=32):($=String($),de&64?(ae=16,$=[nf($)]):ae=8);m.children=$,m.shapeFlag|=ae}function Ra(...m){const $={};for(let ae=0;ae<m.length;ae++){const de=m[ae];for(const be in de)if(be==="class")$.class!==de.class&&($.class=wo([$.class,de.class]));else if(be==="style")$.style=$p([$.style,de.style]);else if(jp(be)){const Ce=$[be],V=de[be];V&&Ce!==V&&!(ti(Ce)&&Ce.includes(V))&&($[be]=Ce?[].concat(Ce,V):V)}else be!==""&&($[be]=de[be])}return $}function If(m,$,ae,de=null){xu(m,$,7,[ae,de])}const ZM=C3();let XM=0;function jM(m,$,ae){const de=m.type,be=($?$.appContext:m.appContext)||ZM,Ce={uid:XM++,vnode:m,type:de,parent:$,appContext:be,root:null,next:null,subTree:null,effect:null,update:null,scope:new Hb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:$?$.provides:Object.create(be.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:L3(de,be),emitsOptions:c3(de,be),emit:null,emitted:null,propsDefaults:po,inheritAttrs:de.inheritAttrs,ctx:po,data:po,props:po,attrs:po,slots:po,refs:po,setupState:po,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:ae,suspenseId:ae?ae.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return Ce.ctx={_:Ce},Ce.root=$?$.root:Ce,Ce.emit=oM.bind(null,Ce),m.ce&&m.ce(Ce),Ce}let ys=null;const Um=()=>ys||Rs;let Hm,ed,o2="__VUE_INSTANCE_SETTERS__";(ed=xy()[o2])||(ed=xy()[o2]=[]),ed.push(m=>ys=m),Hm=m=>{ed.length>1?ed.forEach($=>$(m)):ed[0](m)};const dd=m=>{Hm(m),m.scope.on()},pv=()=>{ys&&ys.scope.off(),Hm(null)};function F3(m){return m.vnode.shapeFlag&4}let S0=!1;function KM(m,$=!1){S0=$;const{props:ae,children:de}=m.vnode,be=F3(m);IM(m,ae,be,$),_M(m,de);const Ce=be?JM(m,$):void 0;return S0=!1,Ce}function JM(m,$){const ae=m.type;m.accessCache=Object.create(null),m.proxy=t3(new Proxy(m.ctx,AM));const{setup:de}=ae;if(de){const be=m.setupContext=de.length>1?QM(m):null;dd(m),bd();const Ce=bh(de,m,0,[m.props,be]);if(wd(),pv(),Ob(Ce)){if(Ce.then(pv,pv),$)return Ce.then(V=>{s2(m,V,$)}).catch(V=>{qp(V,m,0)});m.asyncDep=Ce}else s2(m,Ce,$)}else z3(m,$)}function s2(m,$,ae){vi($)?m.type.__ssrInlineRender?m.ssrRender=$:m.render=$:fo($)&&(m.setupState=i3($)),z3(m,ae)}let l2;function z3(m,$,ae){const de=m.type;if(!m.render){if(!$&&l2&&!de.render){const be=de.template||zm(m).template;if(be){const{isCustomElement:Ce,compilerOptions:V}=m.appContext.config,{delimiters:B,compilerOptions:e}=de,p=Yo(Yo({isCustomElement:Ce,delimiters:B},V),e);de.render=l2(be,p)}}m.render=de.render||rf}dd(m),bd(),SM(m),wd(),pv()}function $M(m){return m.attrsProxy||(m.attrsProxy=new Proxy(m.attrs,{get($,ae){return Il(m,"get","$attrs"),$[ae]}}))}function QM(m){const $=ae=>{m.exposed=ae||{}};return{get attrs(){return $M(m)},slots:m.slots,emit:m.emit,expose:$}}function ig(m){if(m.exposed)return m.exposeProxy||(m.exposeProxy=new Proxy(i3(t3(m.exposed)),{get($,ae){if(ae in $)return $[ae];if(ae in f0)return f0[ae](m)},has($,ae){return ae in $||ae in f0}}))}function qM(m,$=!0){return vi(m)?m.displayName||m.name:m.name||$&&m.__name}function e6(m){return vi(m)&&"__vccOpts"in m}const Tr=(m,$)=>eM(m,$,S0);function Nf(m,$,ae){const de=arguments.length;return de===2?fo($)&&!ti($)?Np($)?_t(m,null,[$]):_t(m,$):_t(m,null,$):(de>3?ae=Array.prototype.slice.call(arguments,2):de===3&&Np(ae)&&(ae=[ae]),_t(m,$,ae))}const t6=Symbol.for("v-scx"),r6=()=>Ii(t6),n6="3.3.4",a6="http://www.w3.org/2000/svg",fv=typeof document<"u"?document:null,u2=fv&&fv.createElement("template"),i6={insert:(m,$,ae)=>{$.insertBefore(m,ae||null)},remove:m=>{const $=m.parentNode;$&&$.removeChild(m)},createElement:(m,$,ae,de)=>{const be=$?fv.createElementNS(a6,m):fv.createElement(m,ae?{is:ae}:void 0);return m==="select"&&de&&de.multiple!=null&&be.setAttribute("multiple",de.multiple),be},createText:m=>fv.createTextNode(m),createComment:m=>fv.createComment(m),setText:(m,$)=>{m.nodeValue=$},setElementText:(m,$)=>{m.textContent=$},parentNode:m=>m.parentNode,nextSibling:m=>m.nextSibling,querySelector:m=>fv.querySelector(m),setScopeId(m,$){m.setAttribute($,"")},insertStaticContent(m,$,ae,de,be,Ce){const V=ae?ae.previousSibling:$.lastChild;if(be&&(be===Ce||be.nextSibling))for(;$.insertBefore(be.cloneNode(!0),ae),!(be===Ce||!(be=be.nextSibling)););else{u2.innerHTML=de?`<svg>${m}</svg>`:m;const B=u2.content;if(de){const e=B.firstChild;for(;e.firstChild;)B.appendChild(e.firstChild);B.removeChild(e)}$.insertBefore(B,ae)}return[V?V.nextSibling:$.firstChild,ae?ae.previousSibling:$.lastChild]}};function o6(m,$,ae){const de=m._vtc;de&&($=($?[$,...de]:[...de]).join(" ")),$==null?m.removeAttribute("class"):ae?m.setAttribute("class",$):m.className=$}function s6(m,$,ae){const de=m.style,be=Bo(ae);if(ae&&!be){if($&&!Bo($))for(const Ce in $)ae[Ce]==null&&Iy(de,Ce,"");for(const Ce in ae)Iy(de,Ce,ae[Ce])}else{const Ce=de.display;be?$!==ae&&(de.cssText=ae):$&&m.removeAttribute("style"),"_vod"in m&&(de.display=Ce)}}const f2=/\s*!important$/;function Iy(m,$,ae){if(ti(ae))ae.forEach(de=>Iy(m,$,de));else if(ae==null&&(ae=""),$.startsWith("--"))m.setProperty($,ae);else{const de=l6(m,$);f2.test(ae)?m.setProperty(bv(de),ae.replace(f2,""),"important"):m[de]=ae}}const c2=["Webkit","Moz","ms"],ay={};function l6(m,$){const ae=ay[$];if(ae)return ae;let de=Tu($);if(de!=="filter"&&de in m)return ay[$]=de;de=Pc(de);for(let be=0;be<c2.length;be++){const Ce=c2[be]+de;if(Ce in m)return ay[$]=Ce}return $}const h2="http://www.w3.org/1999/xlink";function u6(m,$,ae,de,be){if(de&&$.startsWith("xlink:"))ae==null?m.removeAttributeNS(h2,$.slice(6,$.length)):m.setAttributeNS(h2,$,ae);else{const Ce=xS($);ae==null||Ce&&!Vb(ae)?m.removeAttribute($):m.setAttribute($,Ce?"":ae)}}function f6(m,$,ae,de,be,Ce,V){if($==="innerHTML"||$==="textContent"){de&&V(de,be,Ce),m[$]=ae??"";return}const B=m.tagName;if($==="value"&&B!=="PROGRESS"&&!B.includes("-")){m._value=ae;const p=B==="OPTION"?m.getAttribute("value"):m.value,L=ae??"";p!==L&&(m.value=L),ae==null&&m.removeAttribute($);return}let e=!1;if(ae===""||ae==null){const p=typeof m[$];p==="boolean"?ae=Vb(ae):ae==null&&p==="string"?(ae="",e=!0):p==="number"&&(ae=0,e=!0)}try{m[$]=ae}catch{}e&&m.removeAttribute($)}function id(m,$,ae,de){m.addEventListener($,ae,de)}function c6(m,$,ae,de){m.removeEventListener($,ae,de)}function h6(m,$,ae,de,be=null){const Ce=m._vei||(m._vei={}),V=Ce[$];if(de&&V)V.value=de;else{const[B,e]=v6($);if(de){const p=Ce[$]=g6(de,be);id(m,B,p,e)}else V&&(c6(m,B,V,e),Ce[$]=void 0)}}const v2=/(?:Once|Passive|Capture)$/;function v6(m){let $;if(v2.test(m)){$={};let de;for(;de=m.match(v2);)m=m.slice(0,m.length-de[0].length),$[de[0].toLowerCase()]=!0}return[m[2]===":"?m.slice(3):bv(m.slice(2)),$]}let iy=0;const d6=Promise.resolve(),p6=()=>iy||(d6.then(()=>iy=0),iy=Date.now());function g6(m,$){const ae=de=>{if(!de._vts)de._vts=Date.now();else if(de._vts<=ae.attached)return;xu(y6(de,ae.value),$,5,[de])};return ae.value=m,ae.attached=p6(),ae}function y6(m,$){if(ti($)){const ae=m.stopImmediatePropagation;return m.stopImmediatePropagation=()=>{ae.call(m),m._stopped=!0},$.map(de=>be=>!be._stopped&&de&&de(be))}else return $}const d2=/^on[a-z]/,m6=(m,$,ae,de,be=!1,Ce,V,B,e)=>{$==="class"?o6(m,de,be):$==="style"?s6(m,ae,de):jp($)?gm($)||h6(m,$,ae,de,V):($[0]==="."?($=$.slice(1),!0):$[0]==="^"?($=$.slice(1),!1):x6(m,$,de,be))?f6(m,$,de,Ce,V,B,e):($==="true-value"?m._trueValue=de:$==="false-value"&&(m._falseValue=de),u6(m,$,de,be))};function x6(m,$,ae,de){return de?!!($==="innerHTML"||$==="textContent"||$ in m&&d2.test($)&&vi(ae)):$==="spellcheck"||$==="draggable"||$==="translate"||$==="form"||$==="list"&&m.tagName==="INPUT"||$==="type"&&m.tagName==="TEXTAREA"||d2.test($)&&Bo(ae)?!1:$ in m}const vh="transition",t0="animation",Of=(m,{slots:$})=>Nf(pM,B3(m),$);Of.displayName="Transition";const O3={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},b6=Of.props=Yo({},p3,O3),iv=(m,$=[])=>{ti(m)?m.forEach(ae=>ae(...$)):m&&m(...$)},p2=m=>m?ti(m)?m.some($=>$.length>1):m.length>1:!1;function B3(m){const $={};for(const d in m)d in O3||($[d]=m[d]);if(m.css===!1)return $;const{name:ae="v",type:de,duration:be,enterFromClass:Ce=`${ae}-enter-from`,enterActiveClass:V=`${ae}-enter-active`,enterToClass:B=`${ae}-enter-to`,appearFromClass:e=Ce,appearActiveClass:p=V,appearToClass:L=B,leaveFromClass:n=`${ae}-leave-from`,leaveActiveClass:C=`${ae}-leave-active`,leaveToClass:y=`${ae}-leave-to`}=m,h=w6(be),g=h&&h[0],t=h&&h[1],{onBeforeEnter:r,onEnter:l,onEnterCancelled:a,onLeave:s,onLeaveCancelled:c,onBeforeAppear:u=r,onAppear:b=l,onAppearCancelled:f=a}=$,w=(d,S,M)=>{ph(d,S?L:B),ph(d,S?p:V),M&&M()},v=(d,S)=>{d._isLeaving=!1,ph(d,n),ph(d,y),ph(d,C),S&&S()},o=d=>(S,M)=>{const P=d?b:l,x=()=>w(S,d,M);iv(P,[S,x]),g2(()=>{ph(S,d?e:Ce),xc(S,d?L:B),p2(P)||y2(S,de,g,x)})};return Yo($,{onBeforeEnter(d){iv(r,[d]),xc(d,Ce),xc(d,V)},onBeforeAppear(d){iv(u,[d]),xc(d,e),xc(d,p)},onEnter:o(!1),onAppear:o(!0),onLeave(d,S){d._isLeaving=!0;const M=()=>v(d,S);xc(d,n),V3(),xc(d,C),g2(()=>{d._isLeaving&&(ph(d,n),xc(d,y),p2(s)||y2(d,de,t,M))}),iv(s,[d,M])},onEnterCancelled(d){w(d,!1),iv(a,[d])},onAppearCancelled(d){w(d,!0),iv(f,[d])},onLeaveCancelled(d){v(d),iv(c,[d])}})}function w6(m){if(m==null)return null;if(fo(m))return[oy(m.enter),oy(m.leave)];{const $=oy(m);return[$,$]}}function oy(m){return vS(m)}function xc(m,$){$.split(/\s+/).forEach(ae=>ae&&m.classList.add(ae)),(m._vtc||(m._vtc=new Set)).add($)}function ph(m,$){$.split(/\s+/).forEach(de=>de&&m.classList.remove(de));const{_vtc:ae}=m;ae&&(ae.delete($),ae.size||(m._vtc=void 0))}function g2(m){requestAnimationFrame(()=>{requestAnimationFrame(m)})}let T6=0;function y2(m,$,ae,de){const be=m._endId=++T6,Ce=()=>{be===m._endId&&de()};if(ae)return setTimeout(Ce,ae);const{type:V,timeout:B,propCount:e}=N3(m,$);if(!V)return de();const p=V+"end";let L=0;const n=()=>{m.removeEventListener(p,C),Ce()},C=y=>{y.target===m&&++L>=e&&n()};setTimeout(()=>{L<e&&n()},B+1),m.addEventListener(p,C)}function N3(m,$){const ae=window.getComputedStyle(m),de=h=>(ae[h]||"").split(", "),be=de(`${vh}Delay`),Ce=de(`${vh}Duration`),V=m2(be,Ce),B=de(`${t0}Delay`),e=de(`${t0}Duration`),p=m2(B,e);let L=null,n=0,C=0;$===vh?V>0&&(L=vh,n=V,C=Ce.length):$===t0?p>0&&(L=t0,n=p,C=e.length):(n=Math.max(V,p),L=n>0?V>p?vh:t0:null,C=L?L===vh?Ce.length:e.length:0);const y=L===vh&&/\b(transform|all)(,|$)/.test(de(`${vh}Property`).toString());return{type:L,timeout:n,propCount:C,hasTransform:y}}function m2(m,$){for(;m.length<$.length;)m=m.concat(m);return Math.max(...$.map((ae,de)=>x2(ae)+x2(m[de])))}function x2(m){return Number(m.slice(0,-1).replace(",","."))*1e3}function V3(){return document.body.offsetHeight}const U3=new WeakMap,H3=new WeakMap,G3={name:"TransitionGroup",props:Yo({},b6,{tag:String,moveClass:String}),setup(m,{slots:$}){const ae=Um(),de=d3();let be,Ce;return w3(()=>{if(!be.length)return;const V=m.moveClass||`${m.name||"v"}-move`;if(!L6(be[0].el,ae.vnode.el,V))return;be.forEach(M6),be.forEach(C6);const B=be.filter(E6);V3(),B.forEach(e=>{const p=e.el,L=p.style;xc(p,V),L.transform=L.webkitTransform=L.transitionDuration="";const n=p._moveCb=C=>{C&&C.target!==p||(!C||/transform$/.test(C.propertyName))&&(p.removeEventListener("transitionend",n),p._moveCb=null,ph(p,V))};p.addEventListener("transitionend",n)})}),()=>{const V=di(m),B=B3(V);let e=V.tag||Qa;be=Ce,Ce=$.default?Dm($.default()):[];for(let p=0;p<Ce.length;p++){const L=Ce[p];L.key!=null&&T0(L,w0(L,B,de,ae))}if(be)for(let p=0;p<be.length;p++){const L=be[p];T0(L,w0(L,B,de,ae)),U3.set(L,L.el.getBoundingClientRect())}return _t(e,null,Ce)}}},A6=m=>delete m.mode;G3.props;const S6=G3;function M6(m){const $=m.el;$._moveCb&&$._moveCb(),$._enterCb&&$._enterCb()}function C6(m){H3.set(m,m.el.getBoundingClientRect())}function E6(m){const $=U3.get(m),ae=H3.get(m),de=$.left-ae.left,be=$.top-ae.top;if(de||be){const Ce=m.el.style;return Ce.transform=Ce.webkitTransform=`translate(${de}px,${be}px)`,Ce.transitionDuration="0s",m}}function L6(m,$,ae){const de=m.cloneNode();m._vtc&&m._vtc.forEach(V=>{V.split(/\s+/).forEach(B=>B&&de.classList.remove(B))}),ae.split(/\s+/).forEach(V=>V&&de.classList.add(V)),de.style.display="none";const be=$.nodeType===1?$:$.parentNode;be.appendChild(de);const{hasTransform:Ce}=N3(de);return be.removeChild(de),Ce}const b2=m=>{const $=m.props["onUpdate:modelValue"]||!1;return ti($)?ae=>Lp($,ae):$};function P6(m){m.target.composing=!0}function w2(m){const $=m.target;$.composing&&($.composing=!1,$.dispatchEvent(new Event("input")))}const R6={created(m,{modifiers:{lazy:$,trim:ae,number:de}},be){m._assign=b2(be);const Ce=de||be.props&&be.props.type==="number";id(m,$?"change":"input",V=>{if(V.target.composing)return;let B=m.value;ae&&(B=B.trim()),Ce&&(B=my(B)),m._assign(B)}),ae&&id(m,"change",()=>{m.value=m.value.trim()}),$||(id(m,"compositionstart",P6),id(m,"compositionend",w2),id(m,"change",w2))},mounted(m,{value:$}){m.value=$??""},beforeUpdate(m,{value:$,modifiers:{lazy:ae,trim:de,number:be}},Ce){if(m._assign=b2(Ce),m.composing||document.activeElement===m&&m.type!=="range"&&(ae||de&&m.value.trim()===$||(be||m.type==="number")&&my(m.value)===$))return;const V=$??"";m.value!==V&&(m.value=V)}},I6={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Df=(m,$)=>ae=>{if(!("key"in ae))return;const de=bv(ae.key);if($.some(be=>be===de||I6[be]===de))return m(ae)},Vf={beforeMount(m,{value:$},{transition:ae}){m._vod=m.style.display==="none"?"":m.style.display,ae&&$?ae.beforeEnter(m):r0(m,$)},mounted(m,{value:$},{transition:ae}){ae&&$&&ae.enter(m)},updated(m,{value:$,oldValue:ae},{transition:de}){!$!=!ae&&(de?$?(de.beforeEnter(m),r0(m,!0),de.enter(m)):de.leave(m,()=>{r0(m,!1)}):r0(m,$))},beforeUnmount(m,{value:$}){r0(m,$)}};function r0(m,$){m.style.display=$?m._vod:"none"}const D6=Yo({patchProp:m6},i6);let T2;function k6(){return T2||(T2=zM(D6))}const _6=(...m)=>{const $=k6().createApp(...m),{mount:ae}=$;return $.mount=de=>{const be=F6(de);if(!be)return;const Ce=$._component;!vi(Ce)&&!Ce.render&&!Ce.template&&(Ce.template=be.innerHTML),be.innerHTML="";const V=ae(be,!1,be instanceof SVGElement);return be instanceof Element&&(be.removeAttribute("v-cloak"),be.setAttribute("data-v-app","")),V},$};function F6(m){return Bo(m)?document.querySelector(m):m}const F0=(m,$)=>{const ae=m.__vccOpts||m;for(const[de,be]of $)ae[de]=be;return ae},z6={data(){return{}},components:{}},O6={class:"app"},B6={class:"main-cont"};function N6(m,$,ae,de,be,Ce){const V=jl("router-view");return Hi(),Ji("div",O6,[Ha("div",B6,[_t(V)])])}const V6=F0(z6,[["render",N6]]);/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const od=typeof window<"u";function U6(m){return m.__esModule||m[Symbol.toStringTag]==="Module"}const $i=Object.assign;function sy(m,$){const ae={};for(const de in $){const be=$[de];ae[de]=af(be)?be.map(m):m(be)}return ae}const v0=()=>{},af=Array.isArray,H6=/\/$/,G6=m=>m.replace(H6,"");function ly(m,$,ae="/"){let de,be={},Ce="",V="";const B=$.indexOf("#");let e=$.indexOf("?");return B<e&&B>=0&&(e=-1),e>-1&&(de=$.slice(0,e),Ce=$.slice(e+1,B>-1?B:$.length),be=m(Ce)),B>-1&&(de=de||$.slice(0,B),V=$.slice(B,$.length)),de=X6(de??$,ae),{fullPath:de+(Ce&&"?")+Ce+V,path:de,query:be,hash:V}}function W6(m,$){const ae=$.query?m($.query):"";return $.path+(ae&&"?")+ae+($.hash||"")}function A2(m,$){return!$||!m.toLowerCase().startsWith($.toLowerCase())?m:m.slice($.length)||"/"}function Y6(m,$,ae){const de=$.matched.length-1,be=ae.matched.length-1;return de>-1&&de===be&&pd($.matched[de],ae.matched[be])&&W3($.params,ae.params)&&m($.query)===m(ae.query)&&$.hash===ae.hash}function pd(m,$){return(m.aliasOf||m)===($.aliasOf||$)}function W3(m,$){if(Object.keys(m).length!==Object.keys($).length)return!1;for(const ae in m)if(!Z6(m[ae],$[ae]))return!1;return!0}function Z6(m,$){return af(m)?S2(m,$):af($)?S2($,m):m===$}function S2(m,$){return af($)?m.length===$.length&&m.every((ae,de)=>ae===$[de]):m.length===1&&m[0]===$}function X6(m,$){if(m.startsWith("/"))return m;if(!m)return $;const ae=$.split("/"),de=m.split("/"),be=de[de.length-1];(be===".."||be===".")&&de.push("");let Ce=ae.length-1,V,B;for(V=0;V<de.length;V++)if(B=de[V],B!==".")if(B==="..")Ce>1&&Ce--;else break;return ae.slice(0,Ce).join("/")+"/"+de.slice(V-(V===de.length?1:0)).join("/")}var M0;(function(m){m.pop="pop",m.push="push"})(M0||(M0={}));var d0;(function(m){m.back="back",m.forward="forward",m.unknown=""})(d0||(d0={}));function j6(m){if(!m)if(od){const $=document.querySelector("base");m=$&&$.getAttribute("href")||"/",m=m.replace(/^\w+:\/\/[^\/]+/,"")}else m="/";return m[0]!=="/"&&m[0]!=="#"&&(m="/"+m),G6(m)}const K6=/^[^#]+#/;function J6(m,$){return m.replace(K6,"#")+$}function $6(m,$){const ae=document.documentElement.getBoundingClientRect(),de=m.getBoundingClientRect();return{behavior:$.behavior,left:de.left-ae.left-($.left||0),top:de.top-ae.top-($.top||0)}}const og=()=>({left:window.pageXOffset,top:window.pageYOffset});function Q6(m){let $;if("el"in m){const ae=m.el,de=typeof ae=="string"&&ae.startsWith("#"),be=typeof ae=="string"?de?document.getElementById(ae.slice(1)):document.querySelector(ae):ae;if(!be)return;$=$6(be,m)}else $=m;"scrollBehavior"in document.documentElement.style?window.scrollTo($):window.scrollTo($.left!=null?$.left:window.pageXOffset,$.top!=null?$.top:window.pageYOffset)}function M2(m,$){return(history.state?history.state.position-$:-1)+m}const Dy=new Map;function q6(m,$){Dy.set(m,$)}function eC(m){const $=Dy.get(m);return Dy.delete(m),$}let tC=()=>location.protocol+"//"+location.host;function Y3(m,$){const{pathname:ae,search:de,hash:be}=$,Ce=m.indexOf("#");if(Ce>-1){let B=be.includes(m.slice(Ce))?m.slice(Ce).length:1,e=be.slice(B);return e[0]!=="/"&&(e="/"+e),A2(e,"")}return A2(ae,m)+de+be}function rC(m,$,ae,de){let be=[],Ce=[],V=null;const B=({state:C})=>{const y=Y3(m,location),h=ae.value,g=$.value;let t=0;if(C){if(ae.value=y,$.value=C,V&&V===h){V=null;return}t=g?C.position-g.position:0}else de(y);be.forEach(r=>{r(ae.value,h,{delta:t,type:M0.pop,direction:t?t>0?d0.forward:d0.back:d0.unknown})})};function e(){V=ae.value}function p(C){be.push(C);const y=()=>{const h=be.indexOf(C);h>-1&&be.splice(h,1)};return Ce.push(y),y}function L(){const{history:C}=window;C.state&&C.replaceState($i({},C.state,{scroll:og()}),"")}function n(){for(const C of Ce)C();Ce=[],window.removeEventListener("popstate",B),window.removeEventListener("beforeunload",L)}return window.addEventListener("popstate",B),window.addEventListener("beforeunload",L,{passive:!0}),{pauseListeners:e,listen:p,destroy:n}}function C2(m,$,ae,de=!1,be=!1){return{back:m,current:$,forward:ae,replaced:de,position:window.history.length,scroll:be?og():null}}function nC(m){const{history:$,location:ae}=window,de={value:Y3(m,ae)},be={value:$.state};be.value||Ce(de.value,{back:null,current:de.value,forward:null,position:$.length-1,replaced:!0,scroll:null},!0);function Ce(e,p,L){const n=m.indexOf("#"),C=n>-1?(ae.host&&document.querySelector("base")?m:m.slice(n))+e:tC()+m+e;try{$[L?"replaceState":"pushState"](p,"",C),be.value=p}catch(y){console.error(y),ae[L?"replace":"assign"](C)}}function V(e,p){const L=$i({},$.state,C2(be.value.back,e,be.value.forward,!0),p,{position:be.value.position});Ce(e,L,!0),de.value=e}function B(e,p){const L=$i({},be.value,$.state,{forward:e,scroll:og()});Ce(L.current,L,!0);const n=$i({},C2(de.value,e,null),{position:L.position+1},p);Ce(e,n,!1),de.value=e}return{location:de,state:be,push:B,replace:V}}function aC(m){m=j6(m);const $=nC(m),ae=rC(m,$.state,$.location,$.replace);function de(Ce,V=!0){V||ae.pauseListeners(),history.go(Ce)}const be=$i({location:"",base:m,go:de,createHref:J6.bind(null,m)},$,ae);return Object.defineProperty(be,"location",{enumerable:!0,get:()=>$.location.value}),Object.defineProperty(be,"state",{enumerable:!0,get:()=>$.state.value}),be}function iC(m){return typeof m=="string"||m&&typeof m=="object"}function Z3(m){return typeof m=="string"||typeof m=="symbol"}const dh={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},X3=Symbol("");var E2;(function(m){m[m.aborted=4]="aborted",m[m.cancelled=8]="cancelled",m[m.duplicated=16]="duplicated"})(E2||(E2={}));function gd(m,$){return $i(new Error,{type:m,[X3]:!0},$)}function mc(m,$){return m instanceof Error&&X3 in m&&($==null||!!(m.type&$))}const L2="[^/]+?",oC={sensitive:!1,strict:!1,start:!0,end:!0},sC=/[.+*?^${}()[\]/\\]/g;function lC(m,$){const ae=$i({},oC,$),de=[];let be=ae.start?"^":"";const Ce=[];for(const p of m){const L=p.length?[]:[90];ae.strict&&!p.length&&(be+="/");for(let n=0;n<p.length;n++){const C=p[n];let y=40+(ae.sensitive?.25:0);if(C.type===0)n||(be+="/"),be+=C.value.replace(sC,"\\$&"),y+=40;else if(C.type===1){const{value:h,repeatable:g,optional:t,regexp:r}=C;Ce.push({name:h,repeatable:g,optional:t});const l=r||L2;if(l!==L2){y+=10;try{new RegExp(`(${l})`)}catch(s){throw new Error(`Invalid custom RegExp for param "${h}" (${l}): `+s.message)}}let a=g?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;n||(a=t&&p.length<2?`(?:/${a})`:"/"+a),t&&(a+="?"),be+=a,y+=20,t&&(y+=-8),g&&(y+=-20),l===".*"&&(y+=-50)}L.push(y)}de.push(L)}if(ae.strict&&ae.end){const p=de.length-1;de[p][de[p].length-1]+=.7000000000000001}ae.strict||(be+="/?"),ae.end?be+="$":ae.strict&&(be+="(?:/|$)");const V=new RegExp(be,ae.sensitive?"":"i");function B(p){const L=p.match(V),n={};if(!L)return null;for(let C=1;C<L.length;C++){const y=L[C]||"",h=Ce[C-1];n[h.name]=y&&h.repeatable?y.split("/"):y}return n}function e(p){let L="",n=!1;for(const C of m){(!n||!L.endsWith("/"))&&(L+="/"),n=!1;for(const y of C)if(y.type===0)L+=y.value;else if(y.type===1){const{value:h,repeatable:g,optional:t}=y,r=h in p?p[h]:"";if(af(r)&&!g)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const l=af(r)?r.join("/"):r;if(!l)if(t)C.length<2&&(L.endsWith("/")?L=L.slice(0,-1):n=!0);else throw new Error(`Missing required param "${h}"`);L+=l}}return L||"/"}return{re:V,score:de,keys:Ce,parse:B,stringify:e}}function uC(m,$){let ae=0;for(;ae<m.length&&ae<$.length;){const de=$[ae]-m[ae];if(de)return de;ae++}return m.length<$.length?m.length===1&&m[0]===40+40?-1:1:m.length>$.length?$.length===1&&$[0]===40+40?1:-1:0}function fC(m,$){let ae=0;const de=m.score,be=$.score;for(;ae<de.length&&ae<be.length;){const Ce=uC(de[ae],be[ae]);if(Ce)return Ce;ae++}if(Math.abs(be.length-de.length)===1){if(P2(de))return 1;if(P2(be))return-1}return be.length-de.length}function P2(m){const $=m[m.length-1];return m.length>0&&$[$.length-1]<0}const cC={type:0,value:""},hC=/[a-zA-Z0-9_]/;function vC(m){if(!m)return[[]];if(m==="/")return[[cC]];if(!m.startsWith("/"))throw new Error(`Invalid path "${m}"`);function $(y){throw new Error(`ERR (${ae})/"${p}": ${y}`)}let ae=0,de=ae;const be=[];let Ce;function V(){Ce&&be.push(Ce),Ce=[]}let B=0,e,p="",L="";function n(){p&&(ae===0?Ce.push({type:0,value:p}):ae===1||ae===2||ae===3?(Ce.length>1&&(e==="*"||e==="+")&&$(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),Ce.push({type:1,value:p,regexp:L,repeatable:e==="*"||e==="+",optional:e==="*"||e==="?"})):$("Invalid state to consume buffer"),p="")}function C(){p+=e}for(;B<m.length;){if(e=m[B++],e==="\\"&&ae!==2){de=ae,ae=4;continue}switch(ae){case 0:e==="/"?(p&&n(),V()):e===":"?(n(),ae=1):C();break;case 4:C(),ae=de;break;case 1:e==="("?ae=2:hC.test(e)?C():(n(),ae=0,e!=="*"&&e!=="?"&&e!=="+"&&B--);break;case 2:e===")"?L[L.length-1]=="\\"?L=L.slice(0,-1)+e:ae=3:L+=e;break;case 3:n(),ae=0,e!=="*"&&e!=="?"&&e!=="+"&&B--,L="";break;default:$("Unknown state");break}}return ae===2&&$(`Unfinished custom RegExp for param "${p}"`),n(),V(),be}function dC(m,$,ae){const de=lC(vC(m.path),ae),be=$i(de,{record:m,parent:$,children:[],alias:[]});return $&&!be.record.aliasOf==!$.record.aliasOf&&$.children.push(be),be}function pC(m,$){const ae=[],de=new Map;$=D2({strict:!1,end:!0,sensitive:!1},$);function be(L){return de.get(L)}function Ce(L,n,C){const y=!C,h=gC(L);h.aliasOf=C&&C.record;const g=D2($,L),t=[h];if("alias"in L){const a=typeof L.alias=="string"?[L.alias]:L.alias;for(const s of a)t.push($i({},h,{components:C?C.record.components:h.components,path:s,aliasOf:C?C.record:h}))}let r,l;for(const a of t){const{path:s}=a;if(n&&s[0]!=="/"){const c=n.record.path,u=c[c.length-1]==="/"?"":"/";a.path=n.record.path+(s&&u+s)}if(r=dC(a,n,g),C?C.alias.push(r):(l=l||r,l!==r&&l.alias.push(r),y&&L.name&&!I2(r)&&V(L.name)),h.children){const c=h.children;for(let u=0;u<c.length;u++)Ce(c[u],r,C&&C.children[u])}C=C||r,(r.record.components&&Object.keys(r.record.components).length||r.record.name||r.record.redirect)&&e(r)}return l?()=>{V(l)}:v0}function V(L){if(Z3(L)){const n=de.get(L);n&&(de.delete(L),ae.splice(ae.indexOf(n),1),n.children.forEach(V),n.alias.forEach(V))}else{const n=ae.indexOf(L);n>-1&&(ae.splice(n,1),L.record.name&&de.delete(L.record.name),L.children.forEach(V),L.alias.forEach(V))}}function B(){return ae}function e(L){let n=0;for(;n<ae.length&&fC(L,ae[n])>=0&&(L.record.path!==ae[n].record.path||!j3(L,ae[n]));)n++;ae.splice(n,0,L),L.record.name&&!I2(L)&&de.set(L.record.name,L)}function p(L,n){let C,y={},h,g;if("name"in L&&L.name){if(C=de.get(L.name),!C)throw gd(1,{location:L});g=C.record.name,y=$i(R2(n.params,C.keys.filter(l=>!l.optional).map(l=>l.name)),L.params&&R2(L.params,C.keys.map(l=>l.name))),h=C.stringify(y)}else if("path"in L)h=L.path,C=ae.find(l=>l.re.test(h)),C&&(y=C.parse(h),g=C.record.name);else{if(C=n.name?de.get(n.name):ae.find(l=>l.re.test(n.path)),!C)throw gd(1,{location:L,currentLocation:n});g=C.record.name,y=$i({},n.params,L.params),h=C.stringify(y)}const t=[];let r=C;for(;r;)t.unshift(r.record),r=r.parent;return{name:g,path:h,params:y,matched:t,meta:mC(t)}}return m.forEach(L=>Ce(L)),{addRoute:Ce,resolve:p,removeRoute:V,getRoutes:B,getRecordMatcher:be}}function R2(m,$){const ae={};for(const de of $)de in m&&(ae[de]=m[de]);return ae}function gC(m){return{path:m.path,redirect:m.redirect,name:m.name,meta:m.meta||{},aliasOf:void 0,beforeEnter:m.beforeEnter,props:yC(m),children:m.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in m?m.components||null:m.component&&{default:m.component}}}function yC(m){const $={},ae=m.props||!1;if("component"in m)$.default=ae;else for(const de in m.components)$[de]=typeof ae=="object"?ae[de]:ae;return $}function I2(m){for(;m;){if(m.record.aliasOf)return!0;m=m.parent}return!1}function mC(m){return m.reduce(($,ae)=>$i($,ae.meta),{})}function D2(m,$){const ae={};for(const de in m)ae[de]=de in $?$[de]:m[de];return ae}function j3(m,$){return $.children.some(ae=>ae===m||j3(m,ae))}const K3=/#/g,xC=/&/g,bC=/\//g,wC=/=/g,TC=/\?/g,J3=/\+/g,AC=/%5B/g,SC=/%5D/g,$3=/%5E/g,MC=/%60/g,Q3=/%7B/g,CC=/%7C/g,q3=/%7D/g,EC=/%20/g;function Gm(m){return encodeURI(""+m).replace(CC,"|").replace(AC,"[").replace(SC,"]")}function LC(m){return Gm(m).replace(Q3,"{").replace(q3,"}").replace($3,"^")}function ky(m){return Gm(m).replace(J3,"%2B").replace(EC,"+").replace(K3,"%23").replace(xC,"%26").replace(MC,"`").replace(Q3,"{").replace(q3,"}").replace($3,"^")}function PC(m){return ky(m).replace(wC,"%3D")}function RC(m){return Gm(m).replace(K3,"%23").replace(TC,"%3F")}function IC(m){return m==null?"":RC(m).replace(bC,"%2F")}function Vp(m){try{return decodeURIComponent(""+m)}catch{}return""+m}function DC(m){const $={};if(m===""||m==="?")return $;const de=(m[0]==="?"?m.slice(1):m).split("&");for(let be=0;be<de.length;++be){const Ce=de[be].replace(J3," "),V=Ce.indexOf("="),B=Vp(V<0?Ce:Ce.slice(0,V)),e=V<0?null:Vp(Ce.slice(V+1));if(B in $){let p=$[B];af(p)||(p=$[B]=[p]),p.push(e)}else $[B]=e}return $}function k2(m){let $="";for(let ae in m){const de=m[ae];if(ae=PC(ae),de==null){de!==void 0&&($+=($.length?"&":"")+ae);continue}(af(de)?de.map(Ce=>Ce&&ky(Ce)):[de&&ky(de)]).forEach(Ce=>{Ce!==void 0&&($+=($.length?"&":"")+ae,Ce!=null&&($+="="+Ce))})}return $}function kC(m){const $={};for(const ae in m){const de=m[ae];de!==void 0&&($[ae]=af(de)?de.map(be=>be==null?null:""+be):de==null?de:""+de)}return $}const _C=Symbol(""),_2=Symbol(""),Wm=Symbol(""),ew=Symbol(""),_y=Symbol("");function n0(){let m=[];function $(de){return m.push(de),()=>{const be=m.indexOf(de);be>-1&&m.splice(be,1)}}function ae(){m=[]}return{add:$,list:()=>m.slice(),reset:ae}}function mh(m,$,ae,de,be){const Ce=de&&(de.enterCallbacks[be]=de.enterCallbacks[be]||[]);return()=>new Promise((V,B)=>{const e=n=>{n===!1?B(gd(4,{from:ae,to:$})):n instanceof Error?B(n):iC(n)?B(gd(2,{from:$,to:n})):(Ce&&de.enterCallbacks[be]===Ce&&typeof n=="function"&&Ce.push(n),V())},p=m.call(de&&de.instances[be],$,ae,e);let L=Promise.resolve(p);m.length<3&&(L=L.then(e)),L.catch(n=>B(n))})}function uy(m,$,ae,de){const be=[];for(const Ce of m)for(const V in Ce.components){let B=Ce.components[V];if(!($!=="beforeRouteEnter"&&!Ce.instances[V]))if(FC(B)){const p=(B.__vccOpts||B)[$];p&&be.push(mh(p,ae,de,Ce,V))}else{let e=B();be.push(()=>e.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${V}" at "${Ce.path}"`));const L=U6(p)?p.default:p;Ce.components[V]=L;const C=(L.__vccOpts||L)[$];return C&&mh(C,ae,de,Ce,V)()}))}}return be}function FC(m){return typeof m=="object"||"displayName"in m||"props"in m||"__vccOpts"in m}function F2(m){const $=Ii(Wm),ae=Ii(ew),de=Tr(()=>$.resolve(ms(m.to))),be=Tr(()=>{const{matched:e}=de.value,{length:p}=e,L=e[p-1],n=ae.matched;if(!L||!n.length)return-1;const C=n.findIndex(pd.bind(null,L));if(C>-1)return C;const y=z2(e[p-2]);return p>1&&z2(L)===y&&n[n.length-1].path!==y?n.findIndex(pd.bind(null,e[p-2])):C}),Ce=Tr(()=>be.value>-1&&NC(ae.params,de.value.params)),V=Tr(()=>be.value>-1&&be.value===ae.matched.length-1&&W3(ae.params,de.value.params));function B(e={}){return BC(e)?$[ms(m.replace)?"replace":"push"](ms(m.to)).catch(v0):Promise.resolve()}return{route:de,href:Tr(()=>de.value.href),isActive:Ce,isExactActive:V,navigate:B}}const zC=km({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:F2,setup(m,{slots:$}){const ae=hl(F2(m)),{options:de}=Ii(Wm),be=Tr(()=>({[O2(m.activeClass,de.linkActiveClass,"router-link-active")]:ae.isActive,[O2(m.exactActiveClass,de.linkExactActiveClass,"router-link-exact-active")]:ae.isExactActive}));return()=>{const Ce=$.default&&$.default(ae);return m.custom?Ce:Nf("a",{"aria-current":ae.isExactActive?m.ariaCurrentValue:null,href:ae.href,onClick:ae.navigate,class:be.value},Ce)}}}),OC=zC;function BC(m){if(!(m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)&&!m.defaultPrevented&&!(m.button!==void 0&&m.button!==0)){if(m.currentTarget&&m.currentTarget.getAttribute){const $=m.currentTarget.getAttribute("target");if(/\b_blank\b/i.test($))return}return m.preventDefault&&m.preventDefault(),!0}}function NC(m,$){for(const ae in $){const de=$[ae],be=m[ae];if(typeof de=="string"){if(de!==be)return!1}else if(!af(be)||be.length!==de.length||de.some((Ce,V)=>Ce!==be[V]))return!1}return!0}function z2(m){return m?m.aliasOf?m.aliasOf.path:m.path:""}const O2=(m,$,ae)=>m??$??ae,VC=km({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(m,{attrs:$,slots:ae}){const de=Ii(_y),be=Tr(()=>m.route||de.value),Ce=Ii(_2,0),V=Tr(()=>{let p=ms(Ce);const{matched:L}=be.value;let n;for(;(n=L[p])&&!n.components;)p++;return p}),B=Tr(()=>be.value.matched[V.value]);Oo(_2,Tr(()=>V.value+1)),Oo(_C,B),Oo(_y,be);const e=Ta();return Oa(()=>[e.value,B.value,m.name],([p,L,n],[C,y,h])=>{L&&(L.instances[n]=p,y&&y!==L&&p&&p===C&&(L.leaveGuards.size||(L.leaveGuards=y.leaveGuards),L.updateGuards.size||(L.updateGuards=y.updateGuards))),p&&L&&(!y||!pd(L,y)||!C)&&(L.enterCallbacks[n]||[]).forEach(g=>g(p))},{flush:"post"}),()=>{const p=be.value,L=m.name,n=B.value,C=n&&n.components[L];if(!C)return B2(ae.default,{Component:C,route:p});const y=n.props[L],h=y?y===!0?p.params:typeof y=="function"?y(p):y:null,t=Nf(C,$i({},h,$,{onVnodeUnmounted:r=>{r.component.isUnmounted&&(n.instances[L]=null)},ref:e}));return B2(ae.default,{Component:t,route:p})||t}}});function B2(m,$){if(!m)return null;const ae=m($);return ae.length===1?ae[0]:ae}const UC=VC;function HC(m){const $=pC(m.routes,m),ae=m.parseQuery||DC,de=m.stringifyQuery||k2,be=m.history,Ce=n0(),V=n0(),B=n0(),e=Da(dh);let p=dh;od&&m.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const L=sy.bind(null,O=>""+O),n=sy.bind(null,IC),C=sy.bind(null,Vp);function y(O,F){let U,Z;return Z3(O)?(U=$.getRecordMatcher(O),Z=F):Z=O,$.addRoute(Z,U)}function h(O){const F=$.getRecordMatcher(O);F&&$.removeRoute(F)}function g(){return $.getRoutes().map(O=>O.record)}function t(O){return!!$.getRecordMatcher(O)}function r(O,F){if(F=$i({},F||e.value),typeof O=="string"){const fe=ly(ae,O,F.path),K=$.resolve({path:fe.path},F),Y=be.createHref(fe.fullPath);return $i(fe,K,{params:C(K.params),hash:Vp(fe.hash),redirectedFrom:void 0,href:Y})}let U;if("path"in O)U=$i({},O,{path:ly(ae,O.path,F.path).path});else{const fe=$i({},O.params);for(const K in fe)fe[K]==null&&delete fe[K];U=$i({},O,{params:n(fe)}),F.params=n(F.params)}const Z=$.resolve(U,F),q=O.hash||"";Z.params=L(C(Z.params));const J=W6(de,$i({},O,{hash:LC(q),path:Z.path})),te=be.createHref(J);return $i({fullPath:J,hash:q,query:de===k2?kC(O.query):O.query||{}},Z,{redirectedFrom:void 0,href:te})}function l(O){return typeof O=="string"?ly(ae,O,e.value.path):$i({},O)}function a(O,F){if(p!==O)return gd(8,{from:F,to:O})}function s(O){return b(O)}function c(O){return s($i(l(O),{replace:!0}))}function u(O){const F=O.matched[O.matched.length-1];if(F&&F.redirect){const{redirect:U}=F;let Z=typeof U=="function"?U(O):U;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=l(Z):{path:Z},Z.params={}),$i({query:O.query,hash:O.hash,params:"path"in Z?{}:O.params},Z)}}function b(O,F){const U=p=r(O),Z=e.value,q=O.state,J=O.force,te=O.replace===!0,fe=u(U);if(fe)return b($i(l(fe),{state:typeof fe=="object"?$i({},q,fe.state):q,force:J,replace:te}),F||U);const K=U;K.redirectedFrom=F;let Y;return!J&&Y6(de,Z,U)&&(Y=gd(16,{to:K,from:Z}),A(Z,Z,!0,!1)),(Y?Promise.resolve(Y):v(K,Z)).catch(W=>mc(W)?mc(W,2)?W:R(W):T(W,K,Z)).then(W=>{if(W){if(mc(W,2))return b($i({replace:te},l(W.to),{state:typeof W.to=="object"?$i({},q,W.to.state):q,force:J}),F||K)}else W=d(K,Z,!0,te,q);return o(K,Z,W),W})}function f(O,F){const U=a(O,F);return U?Promise.reject(U):Promise.resolve()}function w(O){const F=H.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(O):O()}function v(O,F){let U;const[Z,q,J]=GC(O,F);U=uy(Z.reverse(),"beforeRouteLeave",O,F);for(const fe of Z)fe.leaveGuards.forEach(K=>{U.push(mh(K,O,F))});const te=f.bind(null,O,F);return U.push(te),N(U).then(()=>{U=[];for(const fe of Ce.list())U.push(mh(fe,O,F));return U.push(te),N(U)}).then(()=>{U=uy(q,"beforeRouteUpdate",O,F);for(const fe of q)fe.updateGuards.forEach(K=>{U.push(mh(K,O,F))});return U.push(te),N(U)}).then(()=>{U=[];for(const fe of J)if(fe.beforeEnter)if(af(fe.beforeEnter))for(const K of fe.beforeEnter)U.push(mh(K,O,F));else U.push(mh(fe.beforeEnter,O,F));return U.push(te),N(U)}).then(()=>(O.matched.forEach(fe=>fe.enterCallbacks={}),U=uy(J,"beforeRouteEnter",O,F),U.push(te),N(U))).then(()=>{U=[];for(const fe of V.list())U.push(mh(fe,O,F));return U.push(te),N(U)}).catch(fe=>mc(fe,8)?fe:Promise.reject(fe))}function o(O,F,U){B.list().forEach(Z=>w(()=>Z(O,F,U)))}function d(O,F,U,Z,q){const J=a(O,F);if(J)return J;const te=F===dh,fe=od?history.state:{};U&&(Z||te?be.replace(O.fullPath,$i({scroll:te&&fe&&fe.scroll},q)):be.push(O.fullPath,q)),e.value=O,A(O,F,U,te),R()}let S;function M(){S||(S=be.listen((O,F,U)=>{if(!z.listening)return;const Z=r(O),q=u(Z);if(q){b($i(q,{replace:!0}),Z).catch(v0);return}p=Z;const J=e.value;od&&q6(M2(J.fullPath,U.delta),og()),v(Z,J).catch(te=>mc(te,12)?te:mc(te,2)?(b(te.to,Z).then(fe=>{mc(fe,20)&&!U.delta&&U.type===M0.pop&&be.go(-1,!1)}).catch(v0),Promise.reject()):(U.delta&&be.go(-U.delta,!1),T(te,Z,J))).then(te=>{te=te||d(Z,J,!1),te&&(U.delta&&!mc(te,8)?be.go(-U.delta,!1):U.type===M0.pop&&mc(te,20)&&be.go(-1,!1)),o(Z,J,te)}).catch(v0)}))}let P=n0(),x=n0(),E;function T(O,F,U){R(O);const Z=x.list();return Z.length?Z.forEach(q=>q(O,F,U)):console.error(O),Promise.reject(O)}function i(){return E&&e.value!==dh?Promise.resolve():new Promise((O,F)=>{P.add([O,F])})}function R(O){return E||(E=!O,M(),P.list().forEach(([F,U])=>O?U(O):F()),P.reset()),O}function A(O,F,U,Z){const{scrollBehavior:q}=m;if(!od||!q)return Promise.resolve();const J=!U&&eC(M2(O.fullPath,0))||(Z||!U)&&history.state&&history.state.scroll||null;return io().then(()=>q(O,F,J)).then(te=>te&&Q6(te)).catch(te=>T(te,O,F))}const k=O=>be.go(O);let _;const H=new Set,z={currentRoute:e,listening:!0,addRoute:y,removeRoute:h,hasRoute:t,getRoutes:g,resolve:r,options:m,push:s,replace:c,go:k,back:()=>k(-1),forward:()=>k(1),beforeEach:Ce.add,beforeResolve:V.add,afterEach:B.add,onError:x.add,isReady:i,install(O){const F=this;O.component("RouterLink",OC),O.component("RouterView",UC),O.config.globalProperties.$router=F,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>ms(e)}),od&&!_&&e.value===dh&&(_=!0,s(be.location).catch(q=>{}));const U={};for(const q in dh)Object.defineProperty(U,q,{get:()=>e.value[q],enumerable:!0});O.provide(Wm,F),O.provide(ew,qb(U)),O.provide(_y,e);const Z=O.unmount;H.add(O),O.unmount=function(){H.delete(O),H.size<1&&(p=dh,S&&S(),S=null,e.value=dh,_=!1,E=!1),Z()}}};function N(O){return O.reduce((F,U)=>F.then(()=>w(U)),Promise.resolve())}return z}function GC(m,$){const ae=[],de=[],be=[],Ce=Math.max($.matched.length,m.matched.length);for(let V=0;V<Ce;V++){const B=$.matched[V];B&&(m.matched.find(p=>pd(p,B))?de.push(B):ae.push(B));const e=m.matched[V];e&&($.matched.find(p=>pd(p,e))||be.push(e))}return[ae,de,be]}const WC={props:{items:{type:Object,required:!0}},data(){return{}},mounted(){},methods:{formatDateFromUnixTimestamp(m){return new Date(Number(m)).toLocaleString()},getBackgroundColor(m){return m.needGroup===!0&&m.grouped===!0?"#50d92e":m.needGroup===!1&&m.grouped===!1?"#e18484":m.needGroup===!0&&m.grouped===!1?"#92de7f":"#e3df81"}}},YC={class:"table"},ZC=Ha("thead",{class:"headers"},[Ha("th"),Ha("th",null," 1"),Ha("th",null," 2"),Ha("th",null,""),Ha("th",null,"?"),Ha("th",null,""),Ha("th",null," "),Ha("th",null," "),Ha("th",null," "),Ha("th",null," "),Ha("th",null," "),Ha("th",null,"  ?"),Ha("th",null,"  ?"),Ha("th",null," ")],-1),XC=Ha("tr",{class:"none-tr"},null,-1),jC={class:"data"},KC=["href"],JC={rowspan:"2"},$C={rowspan:"2"},QC={rowspan:"2"},qC={rowspan:"2"},e8={rowspan:"2"},t8={rowspan:"2"},r8={rowspan:"2"},n8={rowspan:"2"},a8={rowspan:"2"},i8=Ha("tr",{class:"none-tr"},null,-1);function o8(m,$,ae,de,be,Ce){return Hi(),Ji("div",null,[Ha("table",YC,[ZC,XC,(Hi(!0),Ji(Qa,null,Sy(ae.items,V=>(Hi(),Ji("tbody",jC,[Ha("tr",null,[Ha("td",{rowspan:"2",class:"num-pair",style:$p({backgroundColor:Ce.getBackgroundColor(V)})},[nf("  "+uo(V.id)+" ",1),V.hashistory1&&V.hashistory2?(Hi(),Ji("a",{key:0,href:`../graphic/${V.id}`,class:"invisible-link"},"",8,KC)):Qu("",!0)],4),Ha("td",null,uo(V.game1Team1Name),1),Ha("td",null,uo(V.game1Team2Name),1),Ha("td",JC,uo(V.sportKey),1),Ha("td",$C,uo(V.isLive?"":""),1),Ha("td",null,uo(V.bookieKey1),1),Ha("td",null,uo(Ce.formatDateFromUnixTimestamp(V.startTime1)),1),Ha("td",QC,uo(V.similarityNames),1),Ha("td",qC,uo(V.similarityOutcomes?V.similarityOutcomes:""),1),Ha("td",e8,uo(V.similarityScores?V.similarityScores:""),1),Ha("td",t8,uo(V.totalSimilarity),1),Ha("td",r8,uo(V.needGroup?"":""),1),Ha("td",n8,uo(V.grouped?"":""),1),Ha("td",a8,uo(Ce.formatDateFromUnixTimestamp(V.now)),1)]),Ha("tr",null,[Ha("td",null,uo(V.game2Team1Name),1),Ha("td",null,uo(V.game2Team2Name),1),Ha("td",null,uo(V.bookieKey2),1),Ha("td",null,uo(Ce.formatDateFromUnixTimestamp(V.startTime2)),1)]),i8]))),256))])])}const s8=F0(WC,[["render",o8]]);var l8=(m,$)=>{const ae=m.__vccOpts||m;for(const[de,be]of $)ae[de]=be;return ae};const u8={data(){return{innerValue:1}},props:{modelValue:{type:Number},pageCount:{type:Number,required:!0},initialPage:{type:Number,default:1},forcePage:{type:Number},clickHandler:{type:Function,default:()=>{}},pageRange:{type:Number,default:3},marginPages:{type:Number,default:1},prevText:{type:String,default:"Prev"},nextText:{type:String,default:"Next"},breakViewText:{type:String,default:""},containerClass:{type:String,default:"pagination"},pageClass:{type:String,default:"page-item"},pageLinkClass:{type:String,default:"page-link"},prevClass:{type:String,default:"page-item"},prevLinkClass:{type:String,default:"page-link"},nextClass:{type:String,default:"page-item"},nextLinkClass:{type:String,default:"page-link"},breakViewClass:{type:String},breakViewLinkClass:{type:String},activeClass:{type:String,default:"active"},disabledClass:{type:String,default:"disabled"},noLiSurround:{type:Boolean,default:!1},firstLastButton:{type:Boolean,default:!1},firstButtonText:{type:String,default:"First"},lastButtonText:{type:String,default:"Last"},hidePrevNext:{type:Boolean,default:!1}},computed:{selected:{get:function(){return this.modelValue||this.innerValue},set:function(m){this.innerValue=m}},pages:function(){let m={};if(this.pageCount<=this.pageRange)for(let $=0;$<this.pageCount;$++){let ae={index:$,content:$+1,selected:$===this.selected-1};m[$]=ae}else{const $=Math.floor(this.pageRange/2);let ae=V=>{let B={index:V,content:V+1,selected:V===this.selected-1};m[V]=B},de=V=>{let B={disabled:!0,breakView:!0};m[V]=B};for(let V=0;V<this.marginPages;V++)ae(V);let be=0;this.selected-$>0&&(be=this.selected-1-$);let Ce=be+this.pageRange-1;Ce>=this.pageCount&&(Ce=this.pageCount-1,be=Ce-this.pageRange+1);for(let V=be;V<=Ce&&V<=this.pageCount-1;V++)ae(V);be>this.marginPages&&de(be-1),Ce+1<this.pageCount-this.marginPages&&de(Ce+1);for(let V=this.pageCount-1;V>=this.pageCount-this.marginPages;V--)ae(V)}return m}},methods:{handlePageSelected(m){this.selected!==m&&(this.innerValue=m,this.$emit("update:modelValue",m),this.clickHandler(m))},prevPage(){this.selected<=1||this.handlePageSelected(this.selected-1)},nextPage(){this.selected>=this.pageCount||this.handlePageSelected(this.selected+1)},firstPageSelected(){return this.selected===1},lastPageSelected(){return this.selected===this.pageCount||this.pageCount===0},selectFirstPage(){this.selected<=1||this.handlePageSelected(1)},selectLastPage(){this.selected>=this.pageCount||this.handlePageSelected(this.pageCount)}},beforeMount(){this.innerValue=this.initialPage},beforeUpdate(){this.forcePage!==void 0&&this.forcePage!==this.selected&&(this.selected=this.forcePage)}},f8=["tabindex","innerHTML"],c8=["tabindex","innerHTML"],h8=["onClick","onKeyup"],v8=["tabindex","innerHTML"],d8=["tabindex","innerHTML"],p8=["innerHTML"],g8=["innerHTML"],y8=["onClick","onKeyup"],m8=["innerHTML"],x8=["innerHTML"];function b8(m,$,ae,de,be,Ce){return ae.noLiSurround?(Hi(),Ji("div",{key:1,class:wo(ae.containerClass)},[ae.firstLastButton?(Hi(),Ji("a",{key:0,onClick:$[8]||($[8]=V=>Ce.selectFirstPage()),onKeyup:$[9]||($[9]=Df(V=>Ce.selectFirstPage(),["enter"])),class:wo([ae.pageLinkClass,Ce.firstPageSelected()?ae.disabledClass:""]),tabindex:"0",innerHTML:ae.firstButtonText},null,42,p8)):Qu("",!0),Ce.firstPageSelected()&&ae.hidePrevNext?Qu("",!0):(Hi(),Ji("a",{key:1,onClick:$[10]||($[10]=V=>Ce.prevPage()),onKeyup:$[11]||($[11]=Df(V=>Ce.prevPage(),["enter"])),class:wo([ae.prevLinkClass,Ce.firstPageSelected()?ae.disabledClass:""]),tabindex:"0",innerHTML:ae.prevText},null,42,g8)),(Hi(!0),Ji(Qa,null,Sy(Ce.pages,V=>(Hi(),Ji(Qa,null,[V.breakView?(Hi(),Ji("a",{key:V.index,class:wo([ae.pageLinkClass,ae.breakViewLinkClass,V.disabled?ae.disabledClass:""]),tabindex:"0"},[Kx(m.$slots,"breakViewContent",{},()=>[nf(uo(ae.breakViewText),1)])],2)):V.disabled?(Hi(),Ji("a",{key:V.index,class:wo([ae.pageLinkClass,V.selected?ae.activeClass:"",ae.disabledClass]),tabindex:"0"},uo(V.content),3)):(Hi(),Ji("a",{key:V.index,onClick:B=>Ce.handlePageSelected(V.index+1),onKeyup:Df(B=>Ce.handlePageSelected(V.index+1),["enter"]),class:wo([ae.pageLinkClass,V.selected?ae.activeClass:""]),tabindex:"0"},uo(V.content),43,y8))],64))),256)),Ce.lastPageSelected()&&ae.hidePrevNext?Qu("",!0):(Hi(),Ji("a",{key:2,onClick:$[12]||($[12]=V=>Ce.nextPage()),onKeyup:$[13]||($[13]=Df(V=>Ce.nextPage(),["enter"])),class:wo([ae.nextLinkClass,Ce.lastPageSelected()?ae.disabledClass:""]),tabindex:"0",innerHTML:ae.nextText},null,42,m8)),ae.firstLastButton?(Hi(),Ji("a",{key:3,onClick:$[14]||($[14]=V=>Ce.selectLastPage()),onKeyup:$[15]||($[15]=Df(V=>Ce.selectLastPage(),["enter"])),class:wo([ae.pageLinkClass,Ce.lastPageSelected()?ae.disabledClass:""]),tabindex:"0",innerHTML:ae.lastButtonText},null,42,x8)):Qu("",!0)],2)):(Hi(),Ji("ul",{key:0,class:wo(ae.containerClass)},[ae.firstLastButton?(Hi(),Ji("li",{key:0,class:wo([ae.pageClass,Ce.firstPageSelected()?ae.disabledClass:""])},[Ha("a",{onClick:$[0]||($[0]=V=>Ce.selectFirstPage()),onKeyup:$[1]||($[1]=Df(V=>Ce.selectFirstPage(),["enter"])),class:wo(ae.pageLinkClass),tabindex:Ce.firstPageSelected()?-1:0,innerHTML:ae.firstButtonText},null,42,f8)],2)):Qu("",!0),Ce.firstPageSelected()&&ae.hidePrevNext?Qu("",!0):(Hi(),Ji("li",{key:1,class:wo([ae.prevClass,Ce.firstPageSelected()?ae.disabledClass:""])},[Ha("a",{onClick:$[2]||($[2]=V=>Ce.prevPage()),onKeyup:$[3]||($[3]=Df(V=>Ce.prevPage(),["enter"])),class:wo(ae.prevLinkClass),tabindex:Ce.firstPageSelected()?-1:0,innerHTML:ae.prevText},null,42,c8)],2)),(Hi(!0),Ji(Qa,null,Sy(Ce.pages,V=>(Hi(),Ji("li",{key:V.index,class:wo([ae.pageClass,V.selected?ae.activeClass:"",V.disabled?ae.disabledClass:"",V.breakView?ae.breakViewClass:""])},[V.breakView?(Hi(),Ji("a",{key:0,class:wo([ae.pageLinkClass,ae.breakViewLinkClass]),tabindex:"0"},[Kx(m.$slots,"breakViewContent",{},()=>[nf(uo(ae.breakViewText),1)])],2)):V.disabled?(Hi(),Ji("a",{key:1,class:wo(ae.pageLinkClass),tabindex:"0"},uo(V.content),3)):(Hi(),Ji("a",{key:2,onClick:B=>Ce.handlePageSelected(V.index+1),onKeyup:Df(B=>Ce.handlePageSelected(V.index+1),["enter"]),class:wo(ae.pageLinkClass),tabindex:"0"},uo(V.content),43,h8))],2))),128)),Ce.lastPageSelected()&&ae.hidePrevNext?Qu("",!0):(Hi(),Ji("li",{key:2,class:wo([ae.nextClass,Ce.lastPageSelected()?ae.disabledClass:""])},[Ha("a",{onClick:$[4]||($[4]=V=>Ce.nextPage()),onKeyup:$[5]||($[5]=Df(V=>Ce.nextPage(),["enter"])),class:wo(ae.nextLinkClass),tabindex:Ce.lastPageSelected()?-1:0,innerHTML:ae.nextText},null,42,v8)],2)),ae.firstLastButton?(Hi(),Ji("li",{key:3,class:wo([ae.pageClass,Ce.lastPageSelected()?ae.disabledClass:""])},[Ha("a",{onClick:$[6]||($[6]=V=>Ce.selectLastPage()),onKeyup:$[7]||($[7]=Df(V=>Ce.selectLastPage(),["enter"])),class:wo(ae.pageLinkClass),tabindex:Ce.lastPageSelected()?-1:0,innerHTML:ae.lastButtonText},null,42,d8)],2)):Qu("",!0)],2))}var w8=l8(u8,[["render",b8]]);const T8={components:{tablePair:s8,Paginate:w8},data(){return{filters:{simNames:{min:0,max:1},simOutcomes:{min:0,max:1},simScores:{min:0,max:1},groupedNewSystem:"",groupedOldSystem:""},apiHost:"195.201.58.179:8005",pairs:[],currentPage:1,pageCount:1e3,oneGrouped:!1,ipAddress:null}},async mounted(){this.currentPage=Number(this.$route.params.page),this.render()},methods:{async applyFilters(){Fy.push("/pairs/1"),this.currentPage=1,await this.render()},async getPairs(){const m=await this.postRequest(`http://${this.apiHost}/api/pairs`,{page:this.currentPage,oneGrouped:this.oneGrouped,filters:this.filters});this.pageCount=Math.floor(Number(m.pageCount[0].count)/10),this.pairs=m.pairs},async render(){await this.getPairs()},async updateGrouped(){await this.getPairs()},async updatePage(m){Fy.push(`/pairs/${this.currentPage}`),await this.render()},postRequest(m,$){return new Promise((ae,de)=>{const be={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)};fetch(m,be).then(Ce=>Ce.json()).then(Ce=>{console.log(Ce),ae(Ce)}).catch(Ce=>{de(Ce)})})}}},A8=Ha("title",null,"Pair Games",-1),S8=Ha("link",{href:"https://cdn.jsdelivr.net/npm/@mdi/font@5.x/css/materialdesignicons.min.css",rel:"stylesheet"},null,-1),M8=Ha("h3",{class:"title"},"  ",-1),C8={class:"filters"},E8=Ha("th",null,"  : ",-1),L8=Ha("th",null,"  : ",-1),P8=Ha("th",null,"  : ",-1),R8=Ha("th",null,"   ? ",-1),I8=Ha("th",null,"   ? ",-1),D8={rowspan:"2"},k8={class:"data-frame"},_8={class:"data-frame"},F8={class:"data-frame"},z8={id:"tables"};function O8(m,$,ae,de,be,Ce){const V=jl("v-btn"),B=jl("v-text-field"),e=jl("v-combobox"),p=jl("tablePair"),L=jl("v-pagination");return Hi(),Ji(Qa,null,[A8,S8,M8,Ha("table",C8,[Ha("tr",null,[E8,L8,P8,R8,I8,Ha("th",D8,[_t(V,{onClick:Ce.applyFilters},{default:gh(()=>[nf("")]),_:1},8,["onClick"])])]),Ha("tr",null,[Ha("td",null,[Ha("div",k8,[_t(B,{modelValue:be.filters.simNames.min,"onUpdate:modelValue":$[0]||($[0]=n=>be.filters.simNames.min=n),style:{"margin-right":"10px"},label:"",type:"number",step:"0.01",max:1,min:0},null,8,["modelValue"]),_t(B,{modelValue:be.filters.simNames.max,"onUpdate:modelValue":$[1]||($[1]=n=>be.filters.simNames.max=n),label:"",type:"number",step:"0.01",max:1,min:0},null,8,["modelValue"])])]),Ha("td",null,[Ha("div",_8,[_t(B,{modelValue:be.filters.simOutcomes.min,"onUpdate:modelValue":$[2]||($[2]=n=>be.filters.simOutcomes.min=n),style:{"margin-right":"10px"},label:"",type:"number",step:"0.01",max:1,min:0},null,8,["modelValue"]),_t(B,{modelValue:be.filters.simOutcomes.max,"onUpdate:modelValue":$[3]||($[3]=n=>be.filters.simOutcomes.max=n),label:"",type:"number",step:"0.01",max:1,min:0},null,8,["modelValue"])])]),Ha("td",null,[Ha("div",F8,[_t(B,{modelValue:be.filters.simScores.min,"onUpdate:modelValue":$[4]||($[4]=n=>be.filters.simScores.min=n),style:{"margin-right":"10px"},label:"",type:"number",step:"0.01",max:1,min:0},null,8,["modelValue"]),_t(B,{modelValue:be.filters.simScores.max,"onUpdate:modelValue":$[5]||($[5]=n=>be.filters.simScores.max=n),label:"",type:"number",step:"0.01",max:1,min:0},null,8,["modelValue"])])]),Ha("td",null,[_t(e,{modelValue:be.filters.groupedNewSystem,"onUpdate:modelValue":$[6]||($[6]=n=>be.filters.groupedNewSystem=n),items:["","",""]},null,8,["modelValue"])]),Ha("td",null,[_t(e,{modelValue:be.filters.groupedOldSystem,"onUpdate:modelValue":$[7]||($[7]=n=>be.filters.groupedOldSystem=n),items:["","",""]},null,8,["modelValue"])])])]),Ha("div",z8,[be.pairs.length>0?(Hi(),Nm(p,{key:0,items:be.pairs},null,8,["items"])):Qu("",!0)]),Ha("div",null,[_t(L,{modelValue:be.currentPage,"onUpdate:modelValue":$[8]||($[8]=n=>be.currentPage=n),length:be.pageCount,onClick:Ce.updatePage,"next-icon":"mdi-chevron-right","prev-icon":"mdi-chevron-left"},null,8,["modelValue","length","onClick"])])],64)}const B8=F0(T8,[["render",O8]]);function N8(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var tw={exports:{}};(function(m,$){(function(de,be){m.exports=be()})(self,function(){return function(){var ae={98847:function(V,B,e){var p=e(71828),L={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var n in L){var C=n.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");p.addStyleRule(C,L[n])}},98222:function(V,B,e){V.exports=e(82887)},27206:function(V,B,e){V.exports=e(60822)},59893:function(V,B,e){V.exports=e(23381)},5224:function(V,B,e){V.exports=e(83832)},59509:function(V,B,e){V.exports=e(72201)},75557:function(V,B,e){V.exports=e(91815)},40338:function(V,B,e){V.exports=e(21462)},35080:function(V,B,e){V.exports=e(51319)},61396:function(V,B,e){V.exports=e(57516)},40549:function(V,B,e){V.exports=e(98128)},49866:function(V,B,e){V.exports=e(99442)},36089:function(V,B,e){V.exports=e(93740)},19548:function(V,B,e){V.exports=e(8729)},35831:function(V,B,e){V.exports=e(93814)},61039:function(V,B,e){V.exports=e(14382)},97040:function(V,B,e){V.exports=e(51759)},77986:function(V,B,e){V.exports=e(10421)},24296:function(V,B,e){V.exports=e(43102)},58872:function(V,B,e){V.exports=e(92165)},29626:function(V,B,e){V.exports=e(3325)},65591:function(V,B,e){V.exports=e(36071)},69738:function(V,B,e){V.exports=e(43905)},92650:function(V,B,e){V.exports=e(35902)},35630:function(V,B,e){V.exports=e(69816)},73434:function(V,B,e){V.exports=e(94507)},27909:function(V,B,e){var p=e(19548);p.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),V.exports=p},46163:function(V,B,e){V.exports=e(15154)},96881:function(V,B,e){V.exports=e(64943)},50581:function(V,B,e){V.exports=e(21164)},55334:function(V,B,e){V.exports=e(54186)},65317:function(V,B,e){V.exports=e(94873)},10021:function(V,B,e){V.exports=e(67618)},54201:function(V,B,e){V.exports=e(58810)},5861:function(V,B,e){V.exports=e(20593)},16122:function(V,B,e){V.exports=e(29396)},83043:function(V,B,e){V.exports=e(13551)},48131:function(V,B,e){V.exports=e(46858)},47582:function(V,B,e){V.exports=e(17988)},21641:function(V,B,e){V.exports=e(68868)},96268:function(V,B,e){V.exports=e(20467)},19440:function(V,B,e){V.exports=e(91271)},99488:function(V,B,e){V.exports=e(21461)},97393:function(V,B,e){V.exports=e(85956)},25743:function(V,B,e){V.exports=e(52979)},66398:function(V,B,e){V.exports=e(32275)},17280:function(V,B,e){V.exports=e(6419)},77900:function(V,B,e){V.exports=e(61510)},81299:function(V,B,e){V.exports=e(87619)},93005:function(V,B,e){V.exports=e(93601)},40344:function(V,B,e){V.exports=e(96595)},47645:function(V,B,e){V.exports=e(70954)},6197:function(V,B,e){V.exports=e(47462)},4534:function(V,B,e){V.exports=e(17659)},85461:function(V,B,e){V.exports=e(19990)},82884:function(V){V.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(V,B,e){var p=e(82884),L=e(41940),n=e(85555),C=e(44467).templatedArray;e(24695),V.exports=C("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:p.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",n.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",n.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",n.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:L({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(V,B,e){var p=e(71828),L=e(89298),n=e(92605).draw;V.exports=function(g){var t=g._fullLayout,r=p.filterVisible(t.annotations);if(r.length&&g._fullData.length)return p.syncOrAsync([n,C],g)};function C(h){var g=h._fullLayout;p.filterVisible(g.annotations).forEach(function(t){var r=L.getFromId(h,t.xref),l=L.getFromId(h,t.yref),a=L.getRefType(t.xref),s=L.getRefType(t.yref);t._extremes={},a==="range"&&y(t,r),s==="range"&&y(t,l)})}function y(h,g){var t=g._id,r=t.charAt(0),l=h[r],a=h["a"+r],s=h[r+"ref"],c=h["a"+r+"ref"],u=h["_"+r+"padplus"],b=h["_"+r+"padminus"],f={x:1,y:-1}[r]*h[r+"shift"],w=3*h.arrowsize*h.arrowwidth||0,v=w+f,o=w-f,d=3*h.startarrowsize*h.arrowwidth||0,S=d+f,M=d-f,P;if(c===s){var x=L.findExtremes(g,[g.r2c(l)],{ppadplus:v,ppadminus:o}),E=L.findExtremes(g,[g.r2c(a)],{ppadplus:Math.max(u,S),ppadminus:Math.max(b,M)});P={min:[x.min[0],E.min[0]],max:[x.max[0],E.max[0]]}}else S=a?S+a:S,M=a?M-a:M,P=L.findExtremes(g,[g.r2c(l)],{ppadplus:Math.max(u,v,S),ppadminus:Math.max(b,o,M)});h._extremes[t]=P}},44317:function(V,B,e){var p=e(71828),L=e(73972),n=e(44467).arrayEditor;V.exports={hasClickToShow:C,onClick:y};function C(t,r){var l=h(t,r);return l.on.length>0||l.explicitOff.length>0}function y(t,r){var l=h(t,r),a=l.on,s=l.off.concat(l.explicitOff),c={},u=t._fullLayout.annotations,b,f;if(a.length||s.length){for(b=0;b<a.length;b++)f=n(t.layout,"annotations",u[a[b]]),f.modifyItem("visible",!0),p.extendFlat(c,f.getUpdateObj());for(b=0;b<s.length;b++)f=n(t.layout,"annotations",u[s[b]]),f.modifyItem("visible",!1),p.extendFlat(c,f.getUpdateObj());return L.call("update",t,{},c)}}function h(t,r){var l=t._fullLayout.annotations,a=[],s=[],c=[],u=(r||[]).length,b,f,w,v,o,d,S,M;for(b=0;b<l.length;b++)if(w=l[b],v=w.clicktoshow,v){for(f=0;f<u;f++)if(o=r[f],d=o.xaxis,S=o.yaxis,d._id===w.xref&&S._id===w.yref&&d.d2r(o.x)===g(w._xclick,d)&&S.d2r(o.y)===g(w._yclick,S)){w.visible?v==="onout"?M=s:M=c:M=a,M.push(b);break}f===u&&w.visible&&v==="onout"&&s.push(b)}return{on:a,off:s,explicitOff:c}}function g(t,r){return r.type==="log"?r.l2r(t):r.d2r(t)}},25625:function(V,B,e){var p=e(71828),L=e(7901);V.exports=function(C,y,h,g){g("opacity");var t=g("bgcolor"),r=g("bordercolor"),l=L.opacity(r);g("borderpad");var a=g("borderwidth"),s=g("showarrow");g("text",s?" ":h._dfltTitle.annotation),g("textangle"),p.coerceFont(g,"font",h.font),g("width"),g("align");var c=g("height");if(c&&g("valign"),s){var u=g("arrowside"),b,f;u.indexOf("end")!==-1&&(b=g("arrowhead"),f=g("arrowsize")),u.indexOf("start")!==-1&&(g("startarrowhead",b),g("startarrowsize",f)),g("arrowcolor",l?y.bordercolor:L.defaultLine),g("arrowwidth",(l&&a||1)*2),g("standoff"),g("startstandoff")}var w=g("hovertext"),v=h.hoverlabel||{};if(w){var o=g("hoverlabel.bgcolor",v.bgcolor||(L.opacity(t)?L.rgb(t):L.defaultLine)),d=g("hoverlabel.bordercolor",v.bordercolor||L.contrast(o));p.coerceFont(g,"hoverlabel.font",{family:v.font.family,size:v.font.size,color:v.font.color||d})}g("captureevents",!!w)}},94128:function(V,B,e){var p=e(92770),L=e(58163);V.exports=function(C,y,h,g){y=y||{};var t=h==="log"&&y.type==="linear",r=h==="linear"&&y.type==="log";if(!(t||r))return;var l=C._fullLayout.annotations,a=y._id.charAt(0),s,c;function u(f){var w=s[f],v=null;t?v=L(w,y.range):v=Math.pow(10,w),p(v)||(v=null),g(c+f,v)}for(var b=0;b<l.length;b++)s=l[b],c="annotations["+b+"].",s[a+"ref"]===y._id&&u(a),s["a"+a+"ref"]===y._id&&u("a"+a)}},84046:function(V,B,e){var p=e(71828),L=e(89298),n=e(85501),C=e(25625),y=e(50215);V.exports=function(t,r){n(t,r,{name:"annotations",handleItemDefaults:h})};function h(g,t,r){function l(T,i){return p.coerce(g,t,y,T,i)}var a=l("visible"),s=l("clicktoshow");if(a||s){C(g,t,r,l);for(var c=t.showarrow,u=["x","y"],b=[-10,-30],f={_fullLayout:r},w=0;w<2;w++){var v=u[w],o=L.coerceRef(g,t,f,v,"","paper");if(o!=="paper"){var d=L.getFromId(f,o);d._annIndices.push(t._index)}if(L.coercePosition(t,f,l,o,v,.5),c){var S="a"+v,M=L.coerceRef(g,t,f,S,"pixel",["pixel","paper"]);M!=="pixel"&&M!==o&&(M=t[S]="pixel");var P=M==="pixel"?b[w]:.4;L.coercePosition(t,f,l,M,S,P)}l(v+"anchor"),l(v+"shift")}if(p.noneOrAll(g,t,["x","y"]),c&&p.noneOrAll(g,t,["ax","ay"]),s){var x=l("xclick"),E=l("yclick");t._xclick=x===void 0?t.x:L.cleanPosition(x,f,t.xref),t._yclick=E===void 0?t.y:L.cleanPosition(E,f,t.yref)}}}},92605:function(V,B,e){var p=e(39898),L=e(73972),n=e(74875),C=e(71828),y=C.strTranslate,h=e(89298),g=e(7901),t=e(91424),r=e(30211),l=e(63893),a=e(6964),s=e(28569),c=e(44467).arrayEditor,u=e(13011);V.exports={draw:b,drawOne:f,drawRaw:v};function b(o){var d=o._fullLayout;d._infolayer.selectAll(".annotation").remove();for(var S=0;S<d.annotations.length;S++)d.annotations[S].visible&&f(o,S);return n.previousPromises(o)}function f(o,d){var S=o._fullLayout,M=S.annotations[d]||{},P=h.getFromId(o,M.xref),x=h.getFromId(o,M.yref);P&&P.setScale(),x&&x.setScale(),v(o,M,d,!1,P,x)}function w(o,d,S,M,P){var x=P[S],E=P[S+"ref"],T=S.indexOf("y")!==-1,i=h.getRefType(E)==="domain",R=T?M.h:M.w;return o?i?x+(T?-d:d)/o._length:o.p2r(o.r2p(x)+d):x+(T?-d:d)/R}function v(o,d,S,M,P,x){var E=o._fullLayout,T=o._fullLayout._size,i=o._context.edits,R,A;M?(R="annotation-"+M,A=M+".annotations"):(R="annotation",A="annotations");var k=c(o.layout,A,d),_=k.modifyBase,H=k.modifyItem,z=k.getUpdateObj;E._infolayer.selectAll("."+R+'[data-index="'+S+'"]').remove();var N="clip"+E._uid+"_ann"+S;if(!d._input||d.visible===!1){p.selectAll("#"+N).remove();return}var O={x:{},y:{}},F=+d.textangle||0,U=E._infolayer.append("g").classed(R,!0).attr("data-index",String(S)).style("opacity",d.opacity),Z=U.append("g").classed("annotation-text-g",!0),q=i[d.showarrow?"annotationTail":"annotationPosition"],J=d.captureevents||i.annotationText||q;function te(xe){var Ae={index:S,annotation:d._input,fullAnnotation:d,event:xe};return M&&(Ae.subplotId=M),Ae}var fe=Z.append("g").style("pointer-events",J?"all":null).call(a,"pointer").on("click",function(){o._dragging=!1,o.emit("plotly_clickannotation",te(p.event))});d.hovertext&&fe.on("mouseover",function(){var xe=d.hoverlabel,Ae=xe.font,Se=this.getBoundingClientRect(),Oe=o.getBoundingClientRect();r.loneHover({x0:Se.left-Oe.left,x1:Se.right-Oe.left,y:(Se.top+Se.bottom)/2-Oe.top,text:d.hovertext,color:xe.bgcolor,borderColor:xe.bordercolor,fontFamily:Ae.family,fontSize:Ae.size,fontColor:Ae.color},{container:E._hoverlayer.node(),outerContainer:E._paper.node(),gd:o})}).on("mouseout",function(){r.loneUnhover(E._hoverlayer.node())});var K=d.borderwidth,Y=d.borderpad,W=K+Y,X=fe.append("rect").attr("class","bg").style("stroke-width",K+"px").call(g.stroke,d.bordercolor).call(g.fill,d.bgcolor),re=d.width||d.height,se=E._topclips.selectAll("#"+N).data(re?[0]:[]);se.enter().append("clipPath").classed("annclip",!0).attr("id",N).append("rect"),se.exit().remove();var Q=d.font,ee=E._meta?C.templateString(d.text,E._meta):d.text,le=fe.append("text").classed("annotation-text",!0).text(ee);function oe(xe){return xe.call(t.font,Q).attr({"text-anchor":{left:"start",right:"end"}[d.align]||"middle"}),l.convertToTspans(xe,o,he),xe}function he(){var xe=le.selectAll("a");if(xe.size()===1&&xe.text()===le.text()){var Ae=fe.insert("a",":first-child").attr({"xlink:xlink:href":xe.attr("xlink:href"),"xlink:xlink:show":xe.attr("xlink:show")}).style({cursor:"pointer"});Ae.node().appendChild(X.node())}var Se=fe.select(".annotation-text-math-group"),Oe=!Se.empty(),Ve=t.bBox((Oe?Se:le).node()),Ee=Ve.width,Te=Ve.height,Le=d.width||Ee,Ge=d.height||Te,He=Math.round(Le+2*W),ke=Math.round(Ge+2*W);function We(Ar,vr){return vr==="auto"&&(Ar<.3333333333333333?vr="left":Ar>.6666666666666666?vr="right":vr="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[vr]}for(var nt=!1,qe=["x","y"],Qe=0;Qe<qe.length;Qe++){var tt=qe[Qe],vt=d[tt+"ref"]||tt,dt=d["a"+tt+"ref"],gt={x:P,y:x}[tt],Mt=(F+(tt==="x"?0:-90))*Math.PI/180,Rt=He*Math.cos(Mt),Wt=ke*Math.sin(Mt),je=Math.abs(Rt)+Math.abs(Wt),_e=d[tt+"anchor"],Fe=d[tt+"shift"]*(tt==="x"?1:-1),Be=O[tt],De,we,ue,me,Re,Ne=h.getRefType(vt);if(gt&&Ne!=="domain"){var it=gt.r2fraction(d[tt]);(it<0||it>1)&&(dt===vt?(it=gt.r2fraction(d["a"+tt]),(it<0||it>1)&&(nt=!0)):nt=!0),De=gt._offset+gt.r2p(d[tt]),me=.5}else{var ot=Ne==="domain";tt==="x"?(ue=d[tt],De=ot?gt._offset+gt._length*ue:De=T.l+T.w*ue):(ue=1-d[tt],De=ot?gt._offset+gt._length*ue:De=T.t+T.h*ue),me=d.showarrow?.5:ue}if(d.showarrow){Be.head=De;var wt=d["a"+tt];if(Re=Rt*We(.5,d.xanchor)-Wt*We(.5,d.yanchor),dt===vt){var Ft=h.getRefType(dt);Ft==="domain"?(tt==="y"&&(wt=1-wt),Be.tail=gt._offset+gt._length*wt):Ft==="paper"?tt==="y"?(wt=1-wt,Be.tail=T.t+T.h*wt):Be.tail=T.l+T.w*wt:Be.tail=gt._offset+gt.r2p(wt),we=Re}else Be.tail=De+wt,we=Re+wt;Be.text=Be.tail+Re;var Ut=E[tt==="x"?"width":"height"];if(vt==="paper"&&(Be.head=C.constrain(Be.head,1,Ut-1)),dt==="pixel"){var Gt=-Math.max(Be.tail-3,Be.text),Et=Math.min(Be.tail+3,Be.text)-Ut;Gt>0?(Be.tail+=Gt,Be.text+=Gt):Et>0&&(Be.tail-=Et,Be.text-=Et)}Be.tail+=Fe,Be.head+=Fe}else Re=je*We(me,_e),we=Re,Be.text=De+Re;Be.text+=Fe,Re+=Fe,we+=Fe,d["_"+tt+"padplus"]=je/2+we,d["_"+tt+"padminus"]=je/2-we,d["_"+tt+"size"]=je,d["_"+tt+"shift"]=Re}if(nt){fe.remove();return}var $t=0,lr=0;if(d.align!=="left"&&($t=(Le-Ee)*(d.align==="center"?.5:1)),d.valign!=="top"&&(lr=(Ge-Te)*(d.valign==="middle"?.5:1)),Oe)Se.select("svg").attr({x:W+$t-1,y:W+lr}).call(t.setClipUrl,re?N:null,o);else{var Fr=W+lr-Ve.top,yt=W+$t-Ve.left;le.call(l.positionText,yt,Fr).call(t.setClipUrl,re?N:null,o)}se.select("rect").call(t.setRect,W,W,Le,Ge),X.call(t.setRect,K/2,K/2,He-K,ke-K),fe.call(t.setTranslate,Math.round(O.x.text-He/2),Math.round(O.y.text-ke/2)),Z.attr({transform:"rotate("+F+","+O.x.text+","+O.y.text+")"});var Kt=function(Ar,vr){U.selectAll(".annotation-arrow-g").remove();var ut=O.x.head,lt=O.y.head,xt=O.x.tail+Ar,Tt=O.y.tail+vr,Ct=O.x.text+Ar,At=O.y.text+vr,zt=C.rotationXYMatrix(F,Ct,At),Ht=C.apply2DTransform(zt),qt=C.apply2DTransform2(zt),Qt=+X.attr("width"),or=+X.attr("height"),Lr=Ct-.5*Qt,Ze=Lr+Qt,Ye=At-.5*or,It=Ye+or,kt=[[Lr,Ye,Lr,It],[Lr,It,Ze,It],[Ze,It,Ze,Ye],[Ze,Ye,Lr,Ye]].map(qt);if(!kt.reduce(function(Or,mn){return Or^!!C.segmentsIntersect(ut,lt,ut+1e6,lt+1e6,mn[0],mn[1],mn[2],mn[3])},!1)){kt.forEach(function(Or){var mn=C.segmentsIntersect(xt,Tt,ut,lt,Or[0],Or[1],Or[2],Or[3]);mn&&(xt=mn.x,Tt=mn.y)});var Xt=d.arrowwidth,ir=d.arrowcolor,ur=d.arrowside,nr=U.append("g").style({opacity:g.opacity(ir)}).classed("annotation-arrow-g",!0),Nt=nr.append("path").attr("d","M"+xt+","+Tt+"L"+ut+","+lt).style("stroke-width",Xt+"px").call(g.stroke,g.rgb(ir));if(u(Nt,ur,d),i.annotationPosition&&Nt.node().parentNode&&!M){var hr=ut,pr=lt;if(d.standoff){var gr=Math.sqrt(Math.pow(ut-xt,2)+Math.pow(lt-Tt,2));hr+=d.standoff*(xt-ut)/gr,pr+=d.standoff*(Tt-lt)/gr}var dr=nr.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(xt-hr)+","+(Tt-pr),transform:y(hr,pr)}).style("stroke-width",Xt+6+"px").call(g.stroke,"rgba(0,0,0,0)").call(g.fill,"rgba(0,0,0,0)"),Xr,Br;s.init({element:dr.node(),gd:o,prepFn:function(){var Or=t.getTranslate(fe);Xr=Or.x,Br=Or.y,P&&P.autorange&&_(P._name+".autorange",!0),x&&x.autorange&&_(x._name+".autorange",!0)},moveFn:function(Or,mn){var Jr=Ht(Xr,Br),_n=Jr[0]+Or,kn=Jr[1]+mn;fe.call(t.setTranslate,_n,kn),H("x",w(P,Or,"x",T,d)),H("y",w(x,mn,"y",T,d)),d.axref===d.xref&&H("ax",w(P,Or,"ax",T,d)),d.ayref===d.yref&&H("ay",w(x,mn,"ay",T,d)),nr.attr("transform",y(Or,mn)),Z.attr({transform:"rotate("+F+","+_n+","+kn+")"})},doneFn:function(){L.call("_guiRelayout",o,z());var Or=document.querySelector(".js-notes-box-panel");Or&&Or.redraw(Or.selectedObj)}})}}};if(d.showarrow&&Kt(0,0),q){var Zt;s.init({element:fe.node(),gd:o,prepFn:function(){Zt=Z.attr("transform")},moveFn:function(Ar,vr){var ut="pointer";if(d.showarrow)d.axref===d.xref?H("ax",w(P,Ar,"ax",T,d)):H("ax",d.ax+Ar),d.ayref===d.yref?H("ay",w(x,vr,"ay",T.w,d)):H("ay",d.ay+vr),Kt(Ar,vr);else{if(M)return;var lt,xt;if(P)lt=w(P,Ar,"x",T,d);else{var Tt=d._xsize/T.w,Ct=d.x+(d._xshift-d.xshift)/T.w-Tt/2;lt=s.align(Ct+Ar/T.w,Tt,0,1,d.xanchor)}if(x)xt=w(x,vr,"y",T,d);else{var At=d._ysize/T.h,zt=d.y-(d._yshift+d.yshift)/T.h-At/2;xt=s.align(zt-vr/T.h,At,0,1,d.yanchor)}H("x",lt),H("y",xt),(!P||!x)&&(ut=s.getCursor(P?.5:lt,x?.5:xt,d.xanchor,d.yanchor))}Z.attr({transform:y(Ar,vr)+Zt}),a(fe,ut)},clickFn:function(Ar,vr){d.captureevents&&o.emit("plotly_clickannotation",te(vr))},doneFn:function(){a(fe),L.call("_guiRelayout",o,z());var Ar=document.querySelector(".js-notes-box-panel");Ar&&Ar.redraw(Ar.selectedObj)}})}}i.annotationText?le.call(l.makeEditable,{delegate:fe,gd:o}).call(oe).on("edit",function(xe){d.text=xe,this.call(oe),H("text",xe),P&&P.autorange&&_(P._name+".autorange",!0),x&&x.autorange&&_(x._name+".autorange",!0),L.call("_guiRelayout",o,z())}):le.call(oe)}},13011:function(V,B,e){var p=e(39898),L=e(7901),n=e(82884),C=e(71828),y=C.strScale,h=C.strRotate,g=C.strTranslate;V.exports=function(r,l,a){var s=r.node(),c=n[a.arrowhead||0],u=n[a.startarrowhead||0],b=(a.arrowwidth||1)*(a.arrowsize||1),f=(a.arrowwidth||1)*(a.startarrowsize||1),w=l.indexOf("start")>=0,v=l.indexOf("end")>=0,o=c.backoff*b+a.standoff,d=u.backoff*f+a.startstandoff,S,M,P,x;if(s.nodeName==="line"){S={x:+r.attr("x1"),y:+r.attr("y1")},M={x:+r.attr("x2"),y:+r.attr("y2")};var E=S.x-M.x,T=S.y-M.y;if(P=Math.atan2(T,E),x=P+Math.PI,o&&d&&o+d>Math.sqrt(E*E+T*T)){Z();return}if(o){if(o*o>E*E+T*T){Z();return}var i=o*Math.cos(P),R=o*Math.sin(P);M.x+=i,M.y+=R,r.attr({x2:M.x,y2:M.y})}if(d){if(d*d>E*E+T*T){Z();return}var A=d*Math.cos(P),k=d*Math.sin(P);S.x-=A,S.y-=k,r.attr({x1:S.x,y1:S.y})}}else if(s.nodeName==="path"){var _=s.getTotalLength(),H="";if(_<o+d){Z();return}var z=s.getPointAtLength(0),N=s.getPointAtLength(.1);P=Math.atan2(z.y-N.y,z.x-N.x),S=s.getPointAtLength(Math.min(d,_)),H="0px,"+d+"px,";var O=s.getPointAtLength(_),F=s.getPointAtLength(_-.1);x=Math.atan2(O.y-F.y,O.x-F.x),M=s.getPointAtLength(Math.max(0,_-o));var U=H?d+o:o;H+=_-U+"px,"+_+"px",r.style("stroke-dasharray",H)}function Z(){r.style("stroke-dasharray","0px,100px")}function q(J,te,fe,K){J.path&&(J.noRotate&&(fe=0),p.select(s.parentNode).append("path").attr({class:r.attr("class"),d:J.path,transform:g(te.x,te.y)+h(fe*180/Math.PI)+y(K)}).style({fill:L.rgb(a.arrowcolor),"stroke-width":0}))}w&&q(u,S,P,f),v&&q(c,M,x,b)}},32745:function(V,B,e){var p=e(92605),L=e(44317);V.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:p.draw,drawOne:p.drawOne,drawRaw:p.drawRaw,hasClickToShow:L.hasClickToShow,onClick:L.onClick,convertCoords:e(94128)}},26997:function(V,B,e){var p=e(50215),L=e(30962).overrideAll,n=e(44467).templatedArray;V.exports=L(n("annotation",{visible:p.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:p.xanchor,xshift:p.xshift,yanchor:p.yanchor,yshift:p.yshift,text:p.text,textangle:p.textangle,font:p.font,width:p.width,height:p.height,opacity:p.opacity,align:p.align,valign:p.valign,bgcolor:p.bgcolor,bordercolor:p.bordercolor,borderpad:p.borderpad,borderwidth:p.borderwidth,showarrow:p.showarrow,arrowcolor:p.arrowcolor,arrowhead:p.arrowhead,startarrowhead:p.startarrowhead,arrowside:p.arrowside,arrowsize:p.arrowsize,startarrowsize:p.startarrowsize,arrowwidth:p.arrowwidth,standoff:p.standoff,startstandoff:p.startstandoff,hovertext:p.hovertext,hoverlabel:p.hoverlabel,captureevents:p.captureevents}),"calc","from-root")},5485:function(V,B,e){var p=e(71828),L=e(89298);V.exports=function(y){for(var h=y.fullSceneLayout,g=h.annotations,t=0;t<g.length;t++)n(g[t],y);y.fullLayout._infolayer.selectAll(".annotation-"+y.id).remove()};function n(C,y){var h=y.fullSceneLayout,g=h.domain,t=y.fullLayout._size,r={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};C._xa={},p.extendFlat(C._xa,r),L.setConvert(C._xa),C._xa._offset=t.l+g.x[0]*t.w,C._xa.l2p=function(){return .5*(1+C._pdata[0]/C._pdata[3])*t.w*(g.x[1]-g.x[0])},C._ya={},p.extendFlat(C._ya,r),L.setConvert(C._ya),C._ya._offset=t.t+(1-g.y[1])*t.h,C._ya.l2p=function(){return .5*(1-C._pdata[1]/C._pdata[3])*t.h*(g.y[1]-g.y[0])}}},20226:function(V,B,e){var p=e(71828),L=e(89298),n=e(85501),C=e(25625),y=e(26997);V.exports=function(t,r,l){n(t,r,{name:"annotations",handleItemDefaults:h,fullLayout:l.fullLayout})};function h(g,t,r,l){function a(u,b){return p.coerce(g,t,y,u,b)}function s(u){var b=u+"axis",f={_fullLayout:{}};return f._fullLayout[b]=r[b],L.coercePosition(t,f,a,u,u,.5)}var c=a("visible");c&&(C(g,t,l.fullLayout,a),s("x"),s("y"),s("z"),p.noneOrAll(g,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",a("xanchor"),a("yanchor"),a("xshift"),a("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",a("ax",-10),a("ay",-30),p.noneOrAll(g,t,["ax","ay"])))}},82188:function(V,B,e){var p=e(92605).drawRaw,L=e(63538),n=["x","y","z"];V.exports=function(y){for(var h=y.fullSceneLayout,g=y.dataScale,t=h.annotations,r=0;r<t.length;r++){for(var l=t[r],a=!1,s=0;s<3;s++){var c=n[s],u=l[c],b=h[c+"axis"],f=b.r2fraction(u);if(f<0||f>1){a=!0;break}}a?y.fullLayout._infolayer.select(".annotation-"+y.id+'[data-index="'+r+'"]').remove():(l._pdata=L(y.glplot.cameraParams,[h.xaxis.r2l(l.x)*g[0],h.yaxis.r2l(l.y)*g[1],h.zaxis.r2l(l.z)*g[2]]),p(y.graphDiv,l,r,y.id,l._xa,l._ya))}}},2468:function(V,B,e){var p=e(73972),L=e(71828);V.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:n,convert:e(5485),draw:e(82188)};function n(C,y){var h=p.subplotsRegistry.gl3d;if(h)for(var g=h.attrRegex,t=Object.keys(C),r=0;r<t.length;r++){var l=t[r];g.test(l)&&(C[l].annotations||[]).length&&(L.pushUnique(y._basePlotModules,h),L.pushUnique(y._subplots.gl3d,l))}}},7561:function(V,B,e){V.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(V,B,e){var p=e(7561),L=e(71828),n=e(50606),C=n.EPOCHJD,y=n.ONEDAY,h={valType:"enumerated",values:L.sortObjectKeys(p.calendars),editType:"calc",dflt:"gregorian"},g=function(P,x,E,T){var i={};return i[E]=h,L.coerce(P,x,i,E,T)},t=function(P,x,E,T){for(var i=0;i<E.length;i++)g(P,x,E[i]+"calendar",T.calendar)},r={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},l={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},a={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},s="##",c={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:s,w:s,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function u(P,x,E){for(var T=Math.floor((x+.05)/y)+C,i=f(E).fromJD(T),R=0,A,k,_,H,z;(R=P.indexOf("%",R))!==-1;)A=P.charAt(R+1),A==="0"||A==="-"||A==="_"?(_=3,k=P.charAt(R+2),A==="_"&&(A="-")):(k=A,A="0",_=2),H=c[k],H?(H===s?z=s:z=i.formatDate(H[A]),P=P.substr(0,R)+z+P.substr(R+_),R+=z.length):R+=_;return P}var b={};function f(P){var x=b[P];return x||(x=b[P]=p.instance(P),x)}function w(P){return L.extendFlat({},h,{description:P})}function v(P){return"Sets the calendar system to use with `"+P+"` date data."}var o={xcalendar:w(v("x"))},d=L.extendFlat({},o,{ycalendar:w(v("y"))}),S=L.extendFlat({},d,{zcalendar:w(v("z"))}),M=w(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));V.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:d,bar:d,box:d,heatmap:d,contour:d,histogram:d,histogram2d:d,histogram2dcontour:d,scatter3d:S,surface:S,mesh3d:S,scattergl:d,ohlc:o,candlestick:o},layout:{calendar:w(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:M},yaxis:{calendar:M},scene:{xaxis:{calendar:M},yaxis:{calendar:M},zaxis:{calendar:M}},polar:{radialaxis:{calendar:M}}},transforms:{filter:{valuecalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:w(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:h,handleDefaults:g,handleTraceDefaults:t,CANONICAL_SUNDAY:l,CANONICAL_TICK:r,DFLTRANGE:a,getCal:f,worldCalFmt:u}},22399:function(V,B){B.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],B.defaultLine="#444",B.lightLine="#eee",B.background="#fff",B.borderLine="#BEC8D9",B.lightFraction=90.9090909090909},7901:function(V,B,e){var p=e(84267),L=e(92770),n=e(73627).isTypedArray,C=V.exports={},y=e(22399);C.defaults=y.defaults;var h=C.defaultLine=y.defaultLine;C.lightLine=y.lightLine;var g=C.background=y.background;C.tinyRGB=function(r){var l=r.toRgb();return"rgb("+Math.round(l.r)+", "+Math.round(l.g)+", "+Math.round(l.b)+")"},C.rgb=function(r){return C.tinyRGB(p(r))},C.opacity=function(r){return r?p(r).getAlpha():0},C.addOpacity=function(r,l){var a=p(r).toRgb();return"rgba("+Math.round(a.r)+", "+Math.round(a.g)+", "+Math.round(a.b)+", "+l+")"},C.combine=function(r,l){var a=p(r).toRgb();if(a.a===1)return p(r).toRgbString();var s=p(l||g).toRgb(),c=s.a===1?s:{r:255*(1-s.a)+s.r*s.a,g:255*(1-s.a)+s.g*s.a,b:255*(1-s.a)+s.b*s.a},u={r:c.r*(1-a.a)+a.r*a.a,g:c.g*(1-a.a)+a.g*a.a,b:c.b*(1-a.a)+a.b*a.a};return p(u).toRgbString()},C.contrast=function(r,l,a){var s=p(r);s.getAlpha()!==1&&(s=p(C.combine(r,g)));var c=s.isDark()?l?s.lighten(l):g:a?s.darken(a):h;return c.toString()},C.stroke=function(r,l){var a=p(l);r.style({stroke:C.tinyRGB(a),"stroke-opacity":a.getAlpha()})},C.fill=function(r,l){var a=p(l);r.style({fill:C.tinyRGB(a),"fill-opacity":a.getAlpha()})},C.clean=function(r){if(!(!r||typeof r!="object")){var l=Object.keys(r),a,s,c,u;for(a=0;a<l.length;a++)if(c=l[a],u=r[c],c.substr(c.length-5)==="color")if(Array.isArray(u))for(s=0;s<u.length;s++)u[s]=t(u[s]);else r[c]=t(u);else if(c.substr(c.length-10)==="colorscale"&&Array.isArray(u))for(s=0;s<u.length;s++)Array.isArray(u[s])&&(u[s][1]=t(u[s][1]));else if(Array.isArray(u)){var b=u[0];if(!Array.isArray(b)&&b&&typeof b=="object")for(s=0;s<u.length;s++)C.clean(u[s])}else u&&typeof u=="object"&&!n(u)&&C.clean(u)}};function t(r){if(L(r)||typeof r!="string")return r;var l=r.trim();if(l.substr(0,3)!=="rgb")return r;var a=l.match(/^rgba?\s*\(([^()]*)\)$/);if(!a)return r;var s=a[1].trim().split(/\s*[\s,]\s*/),c=l.charAt(3)==="a"&&s.length===4;if(!c&&s.length!==3)return r;for(var u=0;u<s.length;u++){if(!s[u].length||(s[u]=Number(s[u]),!(s[u]>=0)))return r;if(u===3)s[u]>1&&(s[u]=1);else if(s[u]>=1)return r}var b=Math.round(s[0]*255)+", "+Math.round(s[1]*255)+", "+Math.round(s[2]*255);return c?"rgba("+b+", "+s[3]+")":"rgb("+b+")"}},63583:function(V,B,e){var p=e(13838),L=e(41940),n=e(1426).extendFlat,C=e(30962).overrideAll;V.exports=C({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:p.linecolor,outlinewidth:p.linewidth,bordercolor:p.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:p.minor.tickmode,nticks:p.nticks,tick0:p.tick0,dtick:p.dtick,tickvals:p.tickvals,ticktext:p.ticktext,ticks:n({},p.ticks,{dflt:""}),ticklabeloverflow:n({},p.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:p.ticklen,tickwidth:p.tickwidth,tickcolor:p.tickcolor,ticklabelstep:p.ticklabelstep,showticklabels:p.showticklabels,labelalias:p.labelalias,tickfont:L({}),tickangle:p.tickangle,tickformat:p.tickformat,tickformatstops:p.tickformatstops,tickprefix:p.tickprefix,showtickprefix:p.showtickprefix,ticksuffix:p.ticksuffix,showticksuffix:p.showticksuffix,separatethousands:p.separatethousands,exponentformat:p.exponentformat,minexponent:p.minexponent,showexponent:p.showexponent,title:{text:{valType:"string"},font:L({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:L({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(V){V.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(V,B,e){var p=e(71828),L=e(44467),n=e(26218),C=e(38701),y=e(96115),h=e(89426),g=e(63583);V.exports=function(r,l,a){var s=L.newContainer(l,"colorbar"),c=r.colorbar||{};function u(O,F){return p.coerce(c,s,g,O,F)}var b=a.margin||{t:0,b:0,l:0,r:0},f=a.width-b.l-b.r,w=a.height-b.t-b.b,v=u("orientation"),o=v==="v",d=u("thicknessmode");u("thickness",d==="fraction"?30/(o?f:w):30);var S=u("lenmode");u("len",S==="fraction"?1:o?w:f);var M=u("yref"),P=u("xref"),x=M==="paper",E=P==="paper",T,i,R,A="left";o?(R="middle",A=E?"left":"right",T=E?1.02:1,i=.5):(R=x?"bottom":"top",A="center",T=.5,i=x?1.02:1),p.coerce(c,s,{x:{valType:"number",min:E?-2:0,max:E?3:1,dflt:T}},"x"),p.coerce(c,s,{y:{valType:"number",min:x?-2:0,max:x?3:1,dflt:i}},"y"),u("xanchor",A),u("xpad"),u("yanchor",R),u("ypad"),p.noneOrAll(c,s,["x","y"]),u("outlinecolor"),u("outlinewidth"),u("bordercolor"),u("borderwidth"),u("bgcolor");var k=p.coerce(c,s,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:o?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");u("ticklabeloverflow",k.indexOf("inside")!==-1?"hide past domain":"hide past div"),n(c,s,u,"linear");var _=a.font,H={outerTicks:!1,font:_};k.indexOf("inside")!==-1&&(H.bgColor="black"),h(c,s,u,"linear",H),y(c,s,u,"linear",H),C(c,s,u,"linear",H),u("title.text",a._dfltTitle.colorbar);var z=s.showticklabels?s.tickfont:_,N=p.extendFlat({},z,{color:_.color,size:p.bigFont(z.size)});p.coerceFont(u,"title.font",N),u("title.side",o?"top":"right")}},98981:function(V,B,e){var p=e(39898),L=e(84267),n=e(74875),C=e(73972),y=e(89298),h=e(28569),g=e(71828),t=g.strTranslate,r=e(1426).extendFlat,l=e(6964),a=e(91424),s=e(7901),c=e(92998),u=e(63893),b=e(52075).flipScale,f=e(71453),w=e(52830),v=e(13838),o=e(18783),d=o.LINE_SPACING,S=o.FROM_TL,M=o.FROM_BR,P=e(30939).cn;function x(k){var _=k._fullLayout,H=_._infolayer.selectAll("g."+P.colorbar).data(E(k),function(z){return z._id});H.enter().append("g").attr("class",function(z){return z._id}).classed(P.colorbar,!0),H.each(function(z){var N=p.select(this);g.ensureSingle(N,"rect",P.cbbg),g.ensureSingle(N,"g",P.cbfills),g.ensureSingle(N,"g",P.cblines),g.ensureSingle(N,"g",P.cbaxis,function(F){F.classed(P.crisp,!0)}),g.ensureSingle(N,"g",P.cbtitleunshift,function(F){F.append("g").classed(P.cbtitle,!0)}),g.ensureSingle(N,"rect",P.cboutline);var O=T(N,z,k);O&&O.then&&(k._promises||[]).push(O),k._context.edits.colorbarPosition&&i(N,z,k)}),H.exit().each(function(z){n.autoMargin(k,z._id)}).remove(),H.order()}function E(k){var _=k._fullLayout,H=k.calcdata,z=[],N,O,F,U;function Z(Q){return r(Q,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function q(){typeof U.calc=="function"?U.calc(k,F,N):(N._fillgradient=O.reversescale?b(O.colorscale):O.colorscale,N._zrange=[O[U.min],O[U.max]])}for(var J=0;J<H.length;J++){var te=H[J];F=te[0].trace;var fe=F._module.colorbar;if(F.visible===!0&&fe)for(var K=Array.isArray(fe),Y=K?fe:[fe],W=0;W<Y.length;W++){U=Y[W];var X=U.container;O=X?F[X]:F,O&&O.showscale&&(N=Z(O.colorbar),N._id="cb"+F.uid+(K&&X?"-"+X:""),N._traceIndex=F.index,N._propPrefix=(X?X+".":"")+"colorbar.",N._meta=F._meta,q(),z.push(N))}}for(var re in _._colorAxes)if(O=_[re],O.showscale){var se=_._colorAxes[re];N=Z(O.colorbar),N._id="cb"+re,N._propPrefix=re+".colorbar.",N._meta=_._meta,U={min:"cmin",max:"cmax"},se[0]!=="heatmap"&&(F=se[1],U.calc=F._module.colorbar.calc),q(),z.push(N)}return z}function T(k,_,H){var z=_.orientation==="v",N=_.len,O=_.lenmode,F=_.thickness,U=_.thicknessmode,Z=_.outlinewidth,q=_.borderwidth,J=_.bgcolor,te=_.xanchor,fe=_.yanchor,K=_.xpad,Y=_.ypad,W=_.x,X=z?_.y:1-_.y,re=_.yref==="paper",se=_.xref==="paper",Q=H._fullLayout,ee=Q._size,le=_._fillcolor,oe=_._line,he=_.title,xe=he.side,Ae=_._zrange||p.extent((typeof le=="function"?le:oe.color).domain()),Se=typeof oe.color=="function"?oe.color:function(){return oe.color},Oe=typeof le=="function"?le:function(){return le},Ve=_._levels,Ee=R(H,_,Ae),Te=Ee.fill,Le=Ee.line,Ge=Math.round(F*(U==="fraction"?z?ee.w:ee.h:1)),He=Ge/(z?ee.w:ee.h),ke=Math.round(N*(O==="fraction"?z?ee.h:ee.w:1)),We=ke/(z?ee.h:ee.w),nt=se?ee.w:H._fullLayout.width,qe=re?ee.h:H._fullLayout.height,Qe=Math.round(z?W*nt+K:X*qe+Y),tt={center:.5,right:1}[te]||0,vt={top:1,middle:.5}[fe]||0,dt=z?W-tt*He:X-vt*He,gt=z?X-vt*We:W-tt*We,Mt=Math.round(z?qe*(1-gt):nt*gt);_._lenFrac=We,_._thickFrac=He,_._uFrac=dt,_._vFrac=gt;var Rt=_._axis=A(H,_,Ae);Rt.position=He+(z?W+K/ee.w:X+Y/ee.h);var Wt=["top","bottom"].indexOf(xe)!==-1;if(z&&Wt&&(Rt.title.side=xe,Rt.titlex=W+K/ee.w,Rt.titley=gt+(he.side==="top"?We-Y/ee.h:Y/ee.h)),!z&&!Wt&&(Rt.title.side=xe,Rt.titley=X+Y/ee.h,Rt.titlex=gt+K/ee.w),oe.color&&_.tickmode==="auto"){Rt.tickmode="linear",Rt.tick0=Ve.start;var je=Ve.size,_e=g.constrain(ke/50,4,15)+1,Fe=(Ae[1]-Ae[0])/((_.nticks||_e)*je);if(Fe>1){var Be=Math.pow(10,Math.floor(Math.log(Fe)/Math.LN10));je*=Be*g.roundUp(Fe/Be,[2,5,10]),(Math.abs(Ve.start)/Ve.size+1e-6)%1<2e-6&&(Rt.tick0=0)}Rt.dtick=je}Rt.domain=z?[gt+Y/ee.h,gt+We-Y/ee.h]:[gt+K/ee.w,gt+We-K/ee.w],Rt.setScale(),k.attr("transform",t(Math.round(ee.l),Math.round(ee.t)));var De=k.select("."+P.cbtitleunshift).attr("transform",t(-Math.round(ee.l),-Math.round(ee.t))),we=Rt.ticklabelposition,ue=Rt.title.font.size,me=k.select("."+P.cbaxis),Re,Ne=0,it=0;function ot(Et,$t){var lr={propContainer:Rt,propName:_._propPrefix+"title",traceIndex:_._traceIndex,_meta:_._meta,placeholder:Q._dfltTitle.colorbar,containerGroup:k.select("."+P.cbtitle)},Fr=Et.charAt(0)==="h"?Et.substr(1):"h"+Et;k.selectAll("."+Fr+",."+Fr+"-math-group").remove(),c.draw(H,Et,r(lr,$t||{}))}function wt(){if(z&&Wt||!z&&!Wt){var Et,$t;xe==="top"&&(Et=K+ee.l+nt*W,$t=Y+ee.t+qe*(1-gt-We)+3+ue*.75),xe==="bottom"&&(Et=K+ee.l+nt*W,$t=Y+ee.t+qe*(1-gt)-3-ue*.25),xe==="right"&&($t=Y+ee.t+qe*X+3+ue*.75,Et=K+ee.l+nt*gt),ot(Rt._id+"title",{attributes:{x:Et,y:$t,"text-anchor":z?"start":"middle"}})}}function Ft(){if(z&&!Wt||!z&&Wt){var Et=Rt.position||0,$t=Rt._offset+Rt._length/2,lr,Fr;if(xe==="right")Fr=$t,lr=ee.l+nt*Et+10+ue*(Rt.showticklabels?1:.5);else if(lr=$t,xe==="bottom"&&(Fr=ee.t+qe*Et+10+(we.indexOf("inside")===-1?Rt.tickfont.size:0)+(Rt.ticks!=="intside"&&_.ticklen||0)),xe==="top"){var yt=he.text.split("<br>").length;Fr=ee.t+qe*Et+10-Ge-d*ue*yt}ot((z?"h":"v")+Rt._id+"title",{avoid:{selection:p.select(H).selectAll("g."+Rt._id+"tick"),side:xe,offsetTop:z?0:ee.t,offsetLeft:z?ee.l:0,maxShift:z?Q.width:Q.height},attributes:{x:lr,y:Fr,"text-anchor":"middle"},transform:{rotate:z?-90:0,offset:0}})}}function Ut(){if(!z&&!Wt||z&&Wt){var Et=k.select("."+P.cbtitle),$t=Et.select("text"),lr=[-Z/2,Z/2],Fr=Et.select(".h"+Rt._id+"title-math-group").node(),yt=15.6;$t.node()&&(yt=parseInt($t.node().style.fontSize,10)*d);var Kt;if(Fr?(Kt=a.bBox(Fr),it=Kt.width,Ne=Kt.height,Ne>yt&&(lr[1]-=(Ne-yt)/2)):$t.node()&&!$t.classed(P.jsPlaceholder)&&(Kt=a.bBox($t.node()),it=Kt.width,Ne=Kt.height),z){if(Ne){if(Ne+=5,xe==="top")Rt.domain[1]-=Ne/ee.h,lr[1]*=-1;else{Rt.domain[0]+=Ne/ee.h;var Zt=u.lineCount($t);lr[1]+=(1-Zt)*yt}Et.attr("transform",t(lr[0],lr[1])),Rt.setScale()}}else it&&(xe==="right"&&(Rt.domain[0]+=(it+ue/2)/ee.w),Et.attr("transform",t(lr[0],lr[1])),Rt.setScale())}k.selectAll("."+P.cbfills+",."+P.cblines).attr("transform",z?t(0,Math.round(ee.h*(1-Rt.domain[1]))):t(Math.round(ee.w*Rt.domain[0]),0)),me.attr("transform",z?t(0,Math.round(-ee.t)):t(Math.round(-ee.l),0));var Ar=k.select("."+P.cbfills).selectAll("rect."+P.cbfill).attr("style","").data(Te);Ar.enter().append("rect").classed(P.cbfill,!0).style("stroke","none"),Ar.exit().remove();var vr=Ae.map(Rt.c2p).map(Math.round).sort(function(Ct,At){return Ct-At});Ar.each(function(Ct,At){var zt=[At===0?Ae[0]:(Te[At]+Te[At-1])/2,At===Te.length-1?Ae[1]:(Te[At]+Te[At+1])/2].map(Rt.c2p).map(Math.round);z&&(zt[1]=g.constrain(zt[1]+(zt[1]>zt[0])?1:-1,vr[0],vr[1]));var Ht=p.select(this).attr(z?"x":"y",Qe).attr(z?"y":"x",p.min(zt)).attr(z?"width":"height",Math.max(Ge,2)).attr(z?"height":"width",Math.max(p.max(zt)-p.min(zt),2));if(_._fillgradient)a.gradient(Ht,H,_._id,z?"vertical":"horizontalreversed",_._fillgradient,"fill");else{var qt=Oe(Ct).replace("e-","");Ht.attr("fill",L(qt).toHexString())}});var ut=k.select("."+P.cblines).selectAll("path."+P.cbline).data(oe.color&&oe.width?Le:[]);ut.enter().append("path").classed(P.cbline,!0),ut.exit().remove(),ut.each(function(Ct){var At=Qe,zt=Math.round(Rt.c2p(Ct))+oe.width/2%1;p.select(this).attr("d","M"+(z?At+","+zt:zt+","+At)+(z?"h":"v")+Ge).call(a.lineGroupStyle,oe.width,Se(Ct),oe.dash)}),me.selectAll("g."+Rt._id+"tick,path").remove();var lt=Qe+Ge+(Z||0)/2-(_.ticks==="outside"?1:0),xt=y.calcTicks(Rt),Tt=y.getTickSigns(Rt)[2];return y.drawTicks(H,Rt,{vals:Rt.ticks==="inside"?y.clipEnds(Rt,xt):xt,layer:me,path:y.makeTickPath(Rt,lt,Tt),transFn:y.makeTransTickFn(Rt)}),y.drawLabels(H,Rt,{vals:xt,layer:me,transFn:y.makeTransTickLabelFn(Rt),labelFns:y.makeLabelFns(Rt,lt)})}function Gt(){var Et,$t=Ge+Z/2;we.indexOf("inside")===-1&&(Et=a.bBox(me.node()),$t+=z?Et.width:Et.height),Re=De.select("text");var lr=0,Fr=z&&xe==="top",yt=!z&&xe==="right",Kt=0;if(Re.node()&&!Re.classed(P.jsPlaceholder)){var Zt,Ar=De.select(".h"+Rt._id+"title-math-group").node();Ar&&(z&&Wt||!z&&!Wt)?(Et=a.bBox(Ar),lr=Et.width,Zt=Et.height):(Et=a.bBox(De.node()),lr=Et.right-ee.l-(z?Qe:Mt),Zt=Et.bottom-ee.t-(z?Mt:Qe),!z&&xe==="top"&&($t+=Et.height,Kt=Et.height)),yt&&(Re.attr("transform",t(lr/2+ue/2,0)),lr*=2),$t=Math.max($t,z?lr:Zt)}var vr=(z?K:Y)*2+$t+q+Z/2,ut=0;!z&&he.text&&fe==="bottom"&&X<=0&&(ut=vr/2,vr+=ut,Kt+=ut),Q._hColorbarMoveTitle=ut,Q._hColorbarMoveCBTitle=Kt;var lt=q+Z,xt=(z?Qe:Mt)-lt/2-(z?K:0),Tt=(z?Mt:Qe)-(z?ke:Y+Kt-ut);k.select("."+P.cbbg).attr("x",xt).attr("y",Tt).attr(z?"width":"height",Math.max(vr-ut,2)).attr(z?"height":"width",Math.max(ke+lt,2)).call(s.fill,J).call(s.stroke,_.bordercolor).style("stroke-width",q);var Ct=yt?Math.max(lr-10,0):0;k.selectAll("."+P.cboutline).attr("x",(z?Qe:Mt+K)+Ct).attr("y",(z?Mt+Y-ke:Qe)+(Fr?Ne:0)).attr(z?"width":"height",Math.max(Ge,2)).attr(z?"height":"width",Math.max(ke-(z?2*Y+Ne:2*K+Ct),2)).call(s.stroke,_.outlinecolor).style({fill:"none","stroke-width":Z});var At=z?tt*vr:0,zt=z?0:(1-vt)*vr-Kt;if(At=se?ee.l-At:-At,zt=re?ee.t-zt:-zt,k.attr("transform",t(At,zt)),!z&&(q||L(J).getAlpha()&&!L.equals(Q.paper_bgcolor,J))){var Ht=me.selectAll("text"),qt=Ht[0].length,Qt=k.select("."+P.cbbg).node(),or=a.bBox(Qt),Lr=a.getTranslate(k),Ze=2;Ht.each(function(pr,gr){var dr=0,Xr=qt-1;if(gr===dr||gr===Xr){var Br=a.bBox(this),Or=a.getTranslate(this),mn;if(gr===Xr){var Jr=Br.right+Or.x,_n=or.right+Lr.x+Mt-q-Ze+W;mn=_n-Jr,mn>0&&(mn=0)}else if(gr===dr){var kn=Br.left+Or.x,br=or.left+Lr.x+Mt+q+Ze;mn=br-kn,mn<0&&(mn=0)}mn&&(qt<3?this.setAttribute("transform","translate("+mn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Ye={},It=S[te],kt=M[te],Xt=S[fe],ir=M[fe],ur=vr-Ge;z?(O==="pixels"?(Ye.y=X,Ye.t=ke*Xt,Ye.b=ke*ir):(Ye.t=Ye.b=0,Ye.yt=X+N*Xt,Ye.yb=X-N*ir),U==="pixels"?(Ye.x=W,Ye.l=vr*It,Ye.r=vr*kt):(Ye.l=ur*It,Ye.r=ur*kt,Ye.xl=W-F*It,Ye.xr=W+F*kt)):(O==="pixels"?(Ye.x=W,Ye.l=ke*It,Ye.r=ke*kt):(Ye.l=Ye.r=0,Ye.xl=W+N*It,Ye.xr=W-N*kt),U==="pixels"?(Ye.y=1-X,Ye.t=vr*Xt,Ye.b=vr*ir):(Ye.t=ur*Xt,Ye.b=ur*ir,Ye.yt=X-F*Xt,Ye.yb=X+F*ir));var nr=_.y<.5?"b":"t",Nt=_.x<.5?"l":"r";H._fullLayout._reservedMargin[_._id]={};var hr={r:Q.width-xt-At,l:xt+Ye.r,b:Q.height-Tt-zt,t:Tt+Ye.b};se&&re?n.autoMargin(H,_._id,Ye):se?H._fullLayout._reservedMargin[_._id][nr]=hr[nr]:re||z?H._fullLayout._reservedMargin[_._id][Nt]=hr[Nt]:H._fullLayout._reservedMargin[_._id][nr]=hr[nr]}return g.syncOrAsync([n.previousPromises,wt,Ut,Ft,n.previousPromises,Gt],H)}function i(k,_,H){var z=_.orientation==="v",N=H._fullLayout,O=N._size,F,U,Z;h.init({element:k.node(),gd:H,prepFn:function(){F=k.attr("transform"),l(k)},moveFn:function(q,J){k.attr("transform",F+t(q,J)),U=h.align((z?_._uFrac:_._vFrac)+q/O.w,z?_._thickFrac:_._lenFrac,0,1,_.xanchor),Z=h.align((z?_._vFrac:1-_._uFrac)-J/O.h,z?_._lenFrac:_._thickFrac,0,1,_.yanchor);var te=h.getCursor(U,Z,_.xanchor,_.yanchor);l(k,te)},doneFn:function(){if(l(k),U!==void 0&&Z!==void 0){var q={};q[_._propPrefix+"x"]=U,q[_._propPrefix+"y"]=Z,_._traceIndex!==void 0?C.call("_guiRestyle",H,q,_._traceIndex):C.call("_guiRelayout",H,q)}}})}function R(k,_,H){var z=_._levels,N=[],O=[],F,U,Z=z.end+z.size/100,q=z.size,J=1.001*H[0]-.001*H[1],te=1.001*H[1]-.001*H[0];for(U=0;U<1e5&&(F=z.start+U*q,!(q>0?F>=Z:F<=Z));U++)F>J&&F<te&&N.push(F);if(_._fillgradient)O=[0];else if(typeof _._fillcolor=="function"){var fe=_._filllevels;if(fe)for(Z=fe.end+fe.size/100,q=fe.size,U=0;U<1e5&&(F=fe.start+U*q,!(q>0?F>=Z:F<=Z));U++)F>H[0]&&F<H[1]&&O.push(F);else O=N.map(function(K){return K-z.size/2}),O.push(O[O.length-1]+z.size)}else _._fillcolor&&typeof _._fillcolor=="string"&&(O=[0]);return z.size<0&&(N.reverse(),O.reverse()),{line:N,fill:O}}function A(k,_,H){var z=k._fullLayout,N=_.orientation==="v",O={type:"linear",range:H,tickmode:_.tickmode,nticks:_.nticks,tick0:_.tick0,dtick:_.dtick,tickvals:_.tickvals,ticktext:_.ticktext,ticks:_.ticks,ticklen:_.ticklen,tickwidth:_.tickwidth,tickcolor:_.tickcolor,showticklabels:_.showticklabels,labelalias:_.labelalias,ticklabelposition:_.ticklabelposition,ticklabeloverflow:_.ticklabeloverflow,ticklabelstep:_.ticklabelstep,tickfont:_.tickfont,tickangle:_.tickangle,tickformat:_.tickformat,exponentformat:_.exponentformat,minexponent:_.minexponent,separatethousands:_.separatethousands,showexponent:_.showexponent,showtickprefix:_.showtickprefix,tickprefix:_.tickprefix,showticksuffix:_.showticksuffix,ticksuffix:_.ticksuffix,title:_.title,showline:!0,anchor:"free",side:N?"right":"bottom",position:1},F=N?"y":"x",U={type:"linear",_id:F+_._id},Z={letter:F,font:z.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:z.calendar};function q(J,te){return g.coerce(O,U,v,J,te)}return f(O,U,q,Z,z),w(O,U,q,Z),U}V.exports={draw:x}},76228:function(V,B,e){var p=e(71828);V.exports=function(n){return p.isPlainObject(n.colorbar)}},12311:function(V,B,e){V.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(V,B,e){var p=e(63583),L=e(30587).counter,n=e(78607),C=e(63282).scales;n(C),V.exports=function(h,g){h=h||"",g=g||{};var t=g.cLetter||"c";"onlyIfNumerical"in g&&g.onlyIfNumerical;var r="noScale"in g?g.noScale:h==="marker.line",l="showScaleDflt"in g?g.showScaleDflt:t==="z",a=typeof g.colorscaleDflt=="string"?C[g.colorscaleDflt]:null,s=g.editTypeOverride||"",c;"colorAttr"in g?(c=g.colorAttr,g.colorAttr):c={z:"z",c:"color"}[t];var u=t+"auto",b=t+"min",f=t+"max",w=t+"mid",v={};v[b]=v[f]=void 0;var o={};o[u]=!1;var d={};return c==="color"&&(d.color={valType:"color",arrayOk:!0,editType:s||"style"},g.anim&&(d.color.anim=!0)),d[u]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:v},d[b]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:o},d[f]={valType:"number",dflt:null,editType:s||"plot",impliedEdits:o},d[w]={valType:"number",dflt:null,editType:"calc",impliedEdits:v},d.colorscale={valType:"colorscale",editType:"calc",dflt:a,impliedEdits:{autocolorscale:!1}},d.autocolorscale={valType:"boolean",dflt:g.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},d.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(d.showscale={valType:"boolean",dflt:l,editType:"calc"},d.colorbar=p),g.noColorAxis||(d.coloraxis={valType:"subplotid",regex:L("coloraxis"),dflt:null,editType:"calc"}),d}},78803:function(V,B,e){var p=e(92770),L=e(71828),n=e(52075).extractOpts;V.exports=function(y,h,g){var t=y._fullLayout,r=g.vals,l=g.containerStr,a=l?L.nestedProperty(h,l).get():h,s=n(a),c=s.auto!==!1,u=s.min,b=s.max,f=s.mid,w=function(){return L.aggNums(Math.min,null,r)},v=function(){return L.aggNums(Math.max,null,r)};if(u===void 0?u=w():c&&(a._colorAx&&p(u)?u=Math.min(u,w()):u=w()),b===void 0?b=v():c&&(a._colorAx&&p(b)?b=Math.max(b,v()):b=v()),c&&f!==void 0&&(b-f>f-u?u=f-(b-f):b-f<f-u&&(b=f+(f-u))),u===b&&(u-=.5,b+=.5),s._sync("min",u),s._sync("max",b),s.autocolorscale){var o;u*b<0?o=t.colorscale.diverging:u>=0?o=t.colorscale.sequential:o=t.colorscale.sequentialminus,s._sync("colorscale",o)}}},33046:function(V,B,e){var p=e(71828),L=e(52075).hasColorscale,n=e(52075).extractOpts;V.exports=function(y,h){function g(u,b){var f=u["_"+b];f!==void 0&&(u[b]=f)}function t(u,b){var f=b.container?p.nestedProperty(u,b.container).get():u;if(f)if(f.coloraxis)f._colorAx=h[f.coloraxis];else{var w=n(f),v=w.auto;(v||w.min===void 0)&&g(f,b.min),(v||w.max===void 0)&&g(f,b.max),w.autocolorscale&&g(f,"colorscale")}}for(var r=0;r<y.length;r++){var l=y[r],a=l._module.colorbar;if(a)if(Array.isArray(a))for(var s=0;s<a.length;s++)t(l,a[s]);else t(l,a);L(l,"marker.line")&&t(l,{container:"marker.line",min:"cmin",max:"cmax"})}for(var c in h._colorAxes)t(h[c],{min:"cmin",max:"cmax"})}},1586:function(V,B,e){var p=e(92770),L=e(71828),n=e(76228),C=e(62499),y=e(63282).isValid,h=e(73972).traceIs;function g(t,r){var l=r.slice(0,r.length-1);return r?L.nestedProperty(t,l).get()||{}:t}V.exports=function t(r,l,a,s,c){var u=c.prefix,b=c.cLetter,f="_module"in l,w=g(r,u),v=g(l,u),o=g(l._template||{},u)||{},d=function(){return delete r.coloraxis,delete l.coloraxis,t(r,l,a,s,c)};if(f){var S=a._colorAxes||{},M=s(u+"coloraxis");if(M){var P=h(l,"contour")&&L.nestedProperty(l,"contours.coloring").get()||"heatmap",x=S[M];x?(x[2].push(d),x[0]!==P&&(x[0]=!1,L.warn(["Ignoring coloraxis:",M,"setting","as it is linked to incompatible colorscales."].join(" ")))):S[M]=[P,l,[d]];return}}var E=w[b+"min"],T=w[b+"max"],i=p(E)&&p(T)&&E<T,R=s(u+b+"auto",!i);R?s(u+b+"mid"):(s(u+b+"min"),s(u+b+"max"));var A=w.colorscale,k=o.colorscale,_;if(A!==void 0&&(_=!y(A)),k!==void 0&&(_=!y(k)),s(u+"autocolorscale",_),s(u+"colorscale"),s(u+"reversescale"),u!=="marker.line."){var H;u&&f&&(H=n(w));var z=s(u+"showscale",H);z&&(u&&o&&(v._template=o),C(w,v,a))}}},52075:function(V,B,e){var p=e(39898),L=e(84267),n=e(92770),C=e(71828),y=e(7901),h=e(63282).isValid;function g(f,w,v){var o=w?C.nestedProperty(f,w).get()||{}:f,d=o[v||"color"],S=!1;if(C.isArrayOrTypedArray(d)){for(var M=0;M<d.length;M++)if(n(d[M])){S=!0;break}}return C.isPlainObject(o)&&(S||o.showscale===!0||n(o.cmin)&&n(o.cmax)||h(o.colorscale)||C.isPlainObject(o.colorbar))}var t=["showscale","autocolorscale","colorscale","reversescale","colorbar"],r=["min","max","mid","auto"];function l(f){var w=f._colorAx,v=w||f,o={},d,S,M;for(S=0;S<t.length;S++)M=t[S],o[M]=v[M];if(w)for(d="c",S=0;S<r.length;S++)M=r[S],o[M]=v["c"+M];else{var P;for(S=0;S<r.length;S++){if(M=r[S],P="c"+M,P in v){o[M]=v[P];continue}P="z"+M,P in v&&(o[M]=v[P])}d=P.charAt(0)}return o._sync=function(x,E){var T=r.indexOf(x)!==-1?d+x:x;v[T]=v["_"+T]=E},o}function a(f){for(var w=l(f),v=w.min,o=w.max,d=w.reversescale?s(w.colorscale):w.colorscale,S=d.length,M=new Array(S),P=new Array(S),x=0;x<S;x++){var E=d[x];M[x]=v+E[0]*(o-v),P[x]=E[1]}return{domain:M,range:P}}function s(f){for(var w=f.length,v=new Array(w),o=w-1,d=0;o>=0;o--,d++){var S=f[o];v[d]=[1-S[0],S[1]]}return v}function c(f,w){w=w||{};for(var v=f.domain,o=f.range,d=o.length,S=new Array(d),M=0;M<d;M++){var P=L(o[M]).toRgb();S[M]=[P.r,P.g,P.b,P.a]}var x=p.scale.linear().domain(v).range(S).clamp(!0),E=w.noNumericCheck,T=w.returnArray,i;return E&&T?i=x:E?i=function(R){return b(x(R))}:T?i=function(R){return n(R)?x(R):L(R).isValid()?R:y.defaultLine}:i=function(R){return n(R)?b(x(R)):L(R).isValid()?R:y.defaultLine},i.domain=x.domain,i.range=function(){return o},i}function u(f,w){return c(a(f),w)}function b(f){var w={r:f[0],g:f[1],b:f[2],a:f[3]};return L(w).toRgbString()}V.exports={hasColorscale:g,extractOpts:l,extractScale:a,flipScale:s,makeColorScaleFunc:c,makeColorScaleFuncFromTrace:u}},21081:function(V,B,e){var p=e(63282),L=e(52075);V.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:p.scales,defaultScale:p.defaultScale,getScale:p.get,isValidScale:p.isValid,hasColorscale:L.hasColorscale,extractOpts:L.extractOpts,extractScale:L.extractScale,flipScale:L.flipScale,makeColorScaleFunc:L.makeColorScaleFunc,makeColorScaleFuncFromTrace:L.makeColorScaleFuncFromTrace}},72673:function(V,B,e){var p=e(1426).extendFlat,L=e(50693),n=e(63282).scales;V.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:n.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:n.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:n.RdBu,editType:"calc"}},coloraxis:p({_isSubplotObj:!0,editType:"calc"},L("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(V,B,e){var p=e(71828),L=e(44467),n=e(72673),C=e(1586);V.exports=function(h,g){function t(f,w){return p.coerce(h,g,n,f,w)}t("colorscale.sequential"),t("colorscale.sequentialminus"),t("colorscale.diverging");var r=g._colorAxes,l,a;function s(f,w){return p.coerce(l,a,n.coloraxis,f,w)}for(var c in r){var u=r[c];if(u[0])l=h[c]||{},a=L.newContainer(g,c,"coloraxis"),a._name=c,C(l,a,g,s,{prefix:"",cLetter:"c"});else{for(var b=0;b<u[2].length;b++)u[2][b]();delete g._colorAxes[c]}}}},63282:function(V,B,e){var p=e(84267),L={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},n=L.RdBu;function C(g,t){if(t||(t=n),!g)return t;function r(){try{g=L[g]||JSON.parse(g)}catch{g=t}}return typeof g=="string"&&(r(),typeof g=="string"&&r()),y(g)?g:t}function y(g){var t=0;if(!Array.isArray(g)||g.length<2||!g[0]||!g[g.length-1]||+g[0][0]!=0||+g[g.length-1][0]!=1)return!1;for(var r=0;r<g.length;r++){var l=g[r];if(l.length!==2||+l[0]<t||!p(l[1]).isValid())return!1;t=+l[0]}return!0}function h(g){return L[g]!==void 0?!0:y(g)}V.exports={scales:L,defaultScale:n,get:C,isValid:h}},92807:function(V){V.exports=function(e,p,L,n,C){var y=(e-L)/(n-L),h=y+p/(n-L),g=(y+h)/2;return C==="left"||C==="bottom"?y:C==="center"||C==="middle"?g:C==="right"||C==="top"?h:y<.6666666666666666-g?y:h>1.3333333333333333-g?h:g}},70461:function(V,B,e){var p=e(71828),L=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];V.exports=function(C,y,h,g){return h==="left"?C=0:h==="center"?C=1:h==="right"?C=2:C=p.constrain(Math.floor(C*3),0,2),g==="bottom"?y=0:g==="middle"?y=1:g==="top"?y=2:y=p.constrain(Math.floor(y*3),0,2),L[y][C]}},64505:function(V,B){B.selectMode=function(e){return e==="lasso"||e==="select"},B.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},B.openMode=function(e){return e==="drawline"||e==="drawopenpath"},B.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},B.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},B.selectingOrDrawing=function(e){return B.freeMode(e)||B.rectMode(e)}},28569:function(V,B,e){var p=e(48956),L=e(57035),n=e(38520),C=e(71828).removeElement,y=e(85555),h=V.exports={};h.align=e(92807),h.getCursor=e(70461);var g=e(26041);h.unhover=g.wrapped,h.unhoverRaw=g.raw,h.init=function(a){var s=a.gd,c=1,u=s._context.doubleClickDelay,b=a.element,f,w,v,o,d,S,M,P;s._mouseDownTime||(s._mouseDownTime=0),b.style.pointerEvents="all",b.onmousedown=T,n?(b._ontouchstart&&b.removeEventListener("touchstart",b._ontouchstart),b._ontouchstart=T,b.addEventListener("touchstart",T,{passive:!1})):b.ontouchstart=T;function x(A,k,_){return Math.abs(A)<_&&(A=0),Math.abs(k)<_&&(k=0),[A,k]}var E=a.clampFn||x;function T(A){s._dragged=!1,s._dragging=!0;var k=r(A);f=k[0],w=k[1],M=A.target,S=A,P=A.buttons===2||A.ctrlKey,typeof A.clientX>"u"&&typeof A.clientY>"u"&&(A.clientX=f,A.clientY=w),v=new Date().getTime(),v-s._mouseDownTime<u?c+=1:(c=1,s._mouseDownTime=v),a.prepFn&&a.prepFn(A,f,w),L&&!P?(d=t(),d.style.cursor=window.getComputedStyle(b).cursor):L||(d=document,o=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(b).cursor),document.addEventListener("mouseup",R),document.addEventListener("touchend",R),a.dragmode!==!1&&(A.preventDefault(),document.addEventListener("mousemove",i),document.addEventListener("touchmove",i,{passive:!1}))}function i(A){A.preventDefault();var k=r(A),_=a.minDrag||y.MINDRAG,H=E(k[0]-f,k[1]-w,_),z=H[0],N=H[1];(z||N)&&(s._dragged=!0,h.unhover(s,A)),s._dragged&&a.moveFn&&!P&&(s._dragdata={element:b,dx:z,dy:N},a.moveFn(z,N))}function R(A){if(delete s._dragdata,a.dragmode!==!1&&(A.preventDefault(),document.removeEventListener("mousemove",i),document.removeEventListener("touchmove",i)),document.removeEventListener("mouseup",R),document.removeEventListener("touchend",R),L?C(d):o&&(d.documentElement.style.cursor=o,o=null),!s._dragging){s._dragged=!1;return}if(s._dragging=!1,new Date().getTime()-s._mouseDownTime>u&&(c=Math.max(c-1,1)),s._dragged)a.doneFn&&a.doneFn();else if(a.clickFn&&a.clickFn(c,S),!P){var k;try{k=new MouseEvent("click",A)}catch{var _=r(A);k=document.createEvent("MouseEvents"),k.initMouseEvent("click",A.bubbles,A.cancelable,A.view,A.detail,A.screenX,A.screenY,_[0],_[1],A.ctrlKey,A.altKey,A.shiftKey,A.metaKey,A.button,A.relatedTarget)}M.dispatchEvent(k)}s._dragging=!1,s._dragged=!1}};function t(){var l=document.createElement("div");l.className="dragcover";var a=l.style;return a.position="fixed",a.left=0,a.right=0,a.top=0,a.bottom=0,a.zIndex=999999999,a.background="none",document.body.appendChild(l),l}h.coverSlip=t;function r(l){return p(l.changedTouches?l.changedTouches[0]:l,document.body)}},26041:function(V,B,e){var p=e(11086),L=e(79990),n=e(24401).getGraphDiv,C=e(26675),y=V.exports={};y.wrapped=function(h,g,t){h=n(h),h._fullLayout&&L.clear(h._fullLayout._uid+C.HOVERID),y.raw(h,g,t)},y.raw=function(g,t){var r=g._fullLayout,l=g._hoverdata;t||(t={}),!(t.target&&!g._dragged&&p.triggerHandler(g,"plotly_beforehover",t)===!1)&&(r._hoverlayer.selectAll("g").remove(),r._hoverlayer.selectAll("line").remove(),r._hoverlayer.selectAll("circle").remove(),g._hoverdata=void 0,t.target&&l&&g.emit("plotly_unhover",{event:t,points:l}))}},79952:function(V,B){B.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},B.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(V,B,e){var p=e(39898),L=e(71828),n=L.numberFormat,C=e(92770),y=e(84267),h=e(73972),g=e(7901),t=e(21081),r=L.strTranslate,l=e(63893),a=e(77922),s=e(18783),c=s.LINE_SPACING,u=e(37822).DESELECTDIM,b=e(34098),f=e(39984),w=e(23469).appendArrayPointValue,v=V.exports={};v.font=function(Ee,Te,Le,Ge){L.isPlainObject(Te)&&(Ge=Te.color,Le=Te.size,Te=Te.family),Te&&Ee.style("font-family",Te),Le+1&&Ee.style("font-size",Le+"px"),Ge&&Ee.call(g.fill,Ge)},v.setPosition=function(Ee,Te,Le){Ee.attr("x",Te).attr("y",Le)},v.setSize=function(Ee,Te,Le){Ee.attr("width",Te).attr("height",Le)},v.setRect=function(Ee,Te,Le,Ge,He){Ee.call(v.setPosition,Te,Le).call(v.setSize,Ge,He)},v.translatePoint=function(Ee,Te,Le,Ge){var He=Le.c2p(Ee.x),ke=Ge.c2p(Ee.y);if(C(He)&&C(ke)&&Te.node())Te.node().nodeName==="text"?Te.attr("x",He).attr("y",ke):Te.attr("transform",r(He,ke));else return!1;return!0},v.translatePoints=function(Ee,Te,Le){Ee.each(function(Ge){var He=p.select(this);v.translatePoint(Ge,He,Te,Le)})},v.hideOutsideRangePoint=function(Ee,Te,Le,Ge,He,ke){Te.attr("display",Le.isPtWithinRange(Ee,He)&&Ge.isPtWithinRange(Ee,ke)?null:"none")},v.hideOutsideRangePoints=function(Ee,Te){if(Te._hasClipOnAxisFalse){var Le=Te.xaxis,Ge=Te.yaxis;Ee.each(function(He){var ke=He[0].trace,We=ke.xcalendar,nt=ke.ycalendar,qe=h.traceIs(ke,"bar-like")?".bartext":".point,.textpoint";Ee.selectAll(qe).each(function(Qe){v.hideOutsideRangePoint(Qe,p.select(this),Le,Ge,We,nt)})})}},v.crispRound=function(Ee,Te,Le){return!Te||!C(Te)?Le||0:Ee._context.staticPlot?Te:Te<1?1:Math.round(Te)},v.singleLineStyle=function(Ee,Te,Le,Ge,He){Te.style("fill","none");var ke=(((Ee||[])[0]||{}).trace||{}).line||{},We=Le||ke.width||0,nt=He||ke.dash||"";g.stroke(Te,Ge||ke.color),v.dashLine(Te,nt,We)},v.lineGroupStyle=function(Ee,Te,Le,Ge){Ee.style("fill","none").each(function(He){var ke=(((He||[])[0]||{}).trace||{}).line||{},We=Te||ke.width||0,nt=Ge||ke.dash||"";p.select(this).call(g.stroke,Le||ke.color).call(v.dashLine,nt,We)})},v.dashLine=function(Ee,Te,Le){Le=+Le||0,Te=v.dashStyle(Te,Le),Ee.style({"stroke-dasharray":Te,"stroke-width":Le+"px"})},v.dashStyle=function(Ee,Te){Te=+Te||1;var Le=Math.max(Te,3);return Ee==="solid"?Ee="":Ee==="dot"?Ee=Le+"px,"+Le+"px":Ee==="dash"?Ee=3*Le+"px,"+3*Le+"px":Ee==="longdash"?Ee=5*Le+"px,"+5*Le+"px":Ee==="dashdot"?Ee=3*Le+"px,"+Le+"px,"+Le+"px,"+Le+"px":Ee==="longdashdot"&&(Ee=5*Le+"px,"+2*Le+"px,"+Le+"px,"+2*Le+"px"),Ee};function o(Ee,Te,Le){var Ge=Te.fillpattern,He=Ge&&v.getPatternAttr(Ge.shape,0,"");if(He){var ke=v.getPatternAttr(Ge.bgcolor,0,null),We=v.getPatternAttr(Ge.fgcolor,0,null),nt=Ge.fgopacity,qe=v.getPatternAttr(Ge.size,0,8),Qe=v.getPatternAttr(Ge.solidity,0,.3),tt=Te.uid;v.pattern(Ee,"point",Le,tt,He,qe,Qe,void 0,Ge.fillmode,ke,We,nt)}else Te.fillcolor&&Ee.call(g.fill,Te.fillcolor)}v.singleFillStyle=function(Ee,Te){var Le=p.select(Ee.node()),Ge=Le.data(),He=((Ge[0]||[])[0]||{}).trace||{};o(Ee,He,Te)},v.fillGroupStyle=function(Ee,Te){Ee.style("stroke-width",0).each(function(Le){var Ge=p.select(this);Le[0].trace&&o(Ge,Le[0].trace,Te)})};var d=e(90998);v.symbolNames=[],v.symbolFuncs=[],v.symbolBackOffs=[],v.symbolNeedLines={},v.symbolNoDot={},v.symbolNoFill={},v.symbolList=[],Object.keys(d).forEach(function(Ee){var Te=d[Ee],Le=Te.n;v.symbolList.push(Le,String(Le),Ee,Le+100,String(Le+100),Ee+"-open"),v.symbolNames[Le]=Ee,v.symbolFuncs[Le]=Te.f,v.symbolBackOffs[Le]=Te.backoff||0,Te.needLine&&(v.symbolNeedLines[Le]=!0),Te.noDot?v.symbolNoDot[Le]=!0:v.symbolList.push(Le+200,String(Le+200),Ee+"-dot",Le+300,String(Le+300),Ee+"-open-dot"),Te.noFill&&(v.symbolNoFill[Le]=!0)});var S=v.symbolNames.length,M="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";v.symbolNumber=function(Ee){if(C(Ee))Ee=+Ee;else if(typeof Ee=="string"){var Te=0;Ee.indexOf("-open")>0&&(Te=100,Ee=Ee.replace("-open","")),Ee.indexOf("-dot")>0&&(Te+=200,Ee=Ee.replace("-dot","")),Ee=v.symbolNames.indexOf(Ee),Ee>=0&&(Ee+=Te)}return Ee%100>=S||Ee>=400?0:Math.floor(Math.max(Ee,0))};function P(Ee,Te,Le,Ge){var He=Ee%100;return v.symbolFuncs[He](Te,Le,Ge)+(Ee>=200?M:"")}var x={x1:1,x2:0,y1:0,y2:0},E={x1:0,x2:0,y1:1,y2:0},T=n("~f"),i={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:x},horizontalreversed:{node:"linearGradient",attrs:x,reversed:!0},vertical:{node:"linearGradient",attrs:E},verticalreversed:{node:"linearGradient",attrs:E,reversed:!0}};v.gradient=function(Ee,Te,Le,Ge,He,ke){for(var We=He.length,nt=i[Ge],qe=new Array(We),Qe=0;Qe<We;Qe++)nt.reversed?qe[We-1-Qe]=[T((1-He[Qe][0])*100),He[Qe][1]]:qe[Qe]=[T(He[Qe][0]*100),He[Qe][1]];var tt=Te._fullLayout,vt="g"+tt._uid+"-"+Le,dt=tt._defs.select(".gradients").selectAll("#"+vt).data([Ge+qe.join(";")],L.identity);dt.exit().remove(),dt.enter().append(nt.node).each(function(){var gt=p.select(this);nt.attrs&&gt.attr(nt.attrs),gt.attr("id",vt);var Mt=gt.selectAll("stop").data(qe);Mt.exit().remove(),Mt.enter().append("stop"),Mt.each(function(Rt){var Wt=y(Rt[1]);p.select(this).attr({offset:Rt[0]+"%","stop-color":g.tinyRGB(Wt),"stop-opacity":Wt.getAlpha()})})}),Ee.style(ke,Y(vt,Te)).style(ke+"-opacity",null),Ee.classed("gradient_filled",!0)},v.pattern=function(Ee,Te,Le,Ge,He,ke,We,nt,qe,Qe,tt,vt){var dt=Te==="legend";nt&&(qe==="overlay"?(Qe=nt,tt=g.contrast(Qe)):(Qe=void 0,tt=nt));var gt=Le._fullLayout,Mt="p"+gt._uid+"-"+Ge,Rt,Wt,je=function(wt,Ft,Ut,Gt,Et){return Gt+(Et-Gt)*(wt-Ft)/(Ut-Ft)},_e,Fe,Be,De,we={},ue=y(tt),me=g.tinyRGB(ue),Re=ue.getAlpha(),Ne=vt*Re;switch(He){case"/":Rt=ke*Math.sqrt(2),Wt=ke*Math.sqrt(2),_e="M-"+Rt/4+","+Wt/4+"l"+Rt/2+",-"+Wt/2+"M0,"+Wt+"L"+Rt+",0M"+Rt/4*3+","+Wt/4*5+"l"+Rt/2+",-"+Wt/2,Fe=We*ke,De="path",we={d:_e,opacity:Ne,stroke:me,"stroke-width":Fe+"px"};break;case"\\":Rt=ke*Math.sqrt(2),Wt=ke*Math.sqrt(2),_e="M"+Rt/4*3+",-"+Wt/4+"l"+Rt/2+","+Wt/2+"M0,0L"+Rt+","+Wt+"M-"+Rt/4+","+Wt/4*3+"l"+Rt/2+","+Wt/2,Fe=We*ke,De="path",we={d:_e,opacity:Ne,stroke:me,"stroke-width":Fe+"px"};break;case"x":Rt=ke*Math.sqrt(2),Wt=ke*Math.sqrt(2),_e="M-"+Rt/4+","+Wt/4+"l"+Rt/2+",-"+Wt/2+"M0,"+Wt+"L"+Rt+",0M"+Rt/4*3+","+Wt/4*5+"l"+Rt/2+",-"+Wt/2+"M"+Rt/4*3+",-"+Wt/4+"l"+Rt/2+","+Wt/2+"M0,0L"+Rt+","+Wt+"M-"+Rt/4+","+Wt/4*3+"l"+Rt/2+","+Wt/2,Fe=ke-ke*Math.sqrt(1-We),De="path",we={d:_e,opacity:Ne,stroke:me,"stroke-width":Fe+"px"};break;case"|":Rt=ke,Wt=ke,De="path",_e="M"+Rt/2+",0L"+Rt/2+","+Wt,Fe=We*ke,De="path",we={d:_e,opacity:Ne,stroke:me,"stroke-width":Fe+"px"};break;case"-":Rt=ke,Wt=ke,De="path",_e="M0,"+Wt/2+"L"+Rt+","+Wt/2,Fe=We*ke,De="path",we={d:_e,opacity:Ne,stroke:me,"stroke-width":Fe+"px"};break;case"+":Rt=ke,Wt=ke,De="path",_e="M"+Rt/2+",0L"+Rt/2+","+Wt+"M0,"+Wt/2+"L"+Rt+","+Wt/2,Fe=ke-ke*Math.sqrt(1-We),De="path",we={d:_e,opacity:Ne,stroke:me,"stroke-width":Fe+"px"};break;case".":Rt=ke,Wt=ke,We<Math.PI/4?Be=Math.sqrt(We*ke*ke/Math.PI):Be=je(We,Math.PI/4,1,ke/2,ke/Math.sqrt(2)),De="circle",we={cx:Rt/2,cy:Wt/2,r:Be,opacity:Ne,fill:me};break}var it=[He||"noSh",Qe||"noBg",tt||"noFg",ke,We].join(";"),ot=gt._defs.select(".patterns").selectAll("#"+Mt).data([it],L.identity);ot.exit().remove(),ot.enter().append("pattern").each(function(){var wt=p.select(this);if(wt.attr({id:Mt,width:Rt+"px",height:Wt+"px",patternUnits:"userSpaceOnUse",patternTransform:dt?"scale(0.8)":""}),Qe){var Ft=y(Qe),Ut=g.tinyRGB(Ft),Gt=Ft.getAlpha(),Et=wt.selectAll("rect").data([0]);Et.exit().remove(),Et.enter().append("rect").attr({width:Rt+"px",height:Wt+"px",fill:Ut,"fill-opacity":Gt})}var $t=wt.selectAll(De).data([0]);$t.exit().remove(),$t.enter().append(De).attr(we)}),Ee.style("fill",Y(Mt,Le)).style("fill-opacity",null),Ee.classed("pattern_filled",!0)},v.initGradients=function(Ee){var Te=Ee._fullLayout,Le=L.ensureSingle(Te._defs,"g","gradients");Le.selectAll("linearGradient,radialGradient").remove(),p.select(Ee).selectAll(".gradient_filled").classed("gradient_filled",!1)},v.initPatterns=function(Ee){var Te=Ee._fullLayout,Le=L.ensureSingle(Te._defs,"g","patterns");Le.selectAll("pattern").remove(),p.select(Ee).selectAll(".pattern_filled").classed("pattern_filled",!1)},v.getPatternAttr=function(Ee,Te,Le){return Ee&&L.isArrayOrTypedArray(Ee)?Te<Ee.length?Ee[Te]:Le:Ee},v.pointStyle=function(Ee,Te,Le,Ge){if(Ee.size()){var He=v.makePointStyleFns(Te);Ee.each(function(ke){v.singlePointStyle(ke,p.select(this),Te,He,Le,Ge)})}},v.singlePointStyle=function(Ee,Te,Le,Ge,He,ke){var We=Le.marker,nt=We.line;if(ke&&ke.i>=0&&Ee.i===void 0&&(Ee.i=ke.i),Te.style("opacity",Ge.selectedOpacityFn?Ge.selectedOpacityFn(Ee):Ee.mo===void 0?We.opacity:Ee.mo),Ge.ms2mrc){var qe;Ee.ms==="various"||We.size==="various"?qe=3:qe=Ge.ms2mrc(Ee.ms),Ee.mrc=qe,Ge.selectedSizeFn&&(qe=Ee.mrc=Ge.selectedSizeFn(Ee));var Qe=v.symbolNumber(Ee.mx||We.symbol)||0;Ee.om=Qe%200>=100;var tt=Ve(Ee,Le),vt=re(Ee,Le);Te.attr("d",P(Qe,qe,tt,vt))}var dt=!1,gt,Mt,Rt;if(Ee.so)Rt=nt.outlierwidth,Mt=nt.outliercolor,gt=We.outliercolor;else{var Wt=(nt||{}).width;Rt=(Ee.mlw+1||Wt+1||(Ee.trace?(Ee.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Ee?Mt=Ee.mlcc=Ge.lineScale(Ee.mlc):L.isArrayOrTypedArray(nt.color)?Mt=g.defaultLine:Mt=nt.color,L.isArrayOrTypedArray(We.color)&&(gt=g.defaultLine,dt=!0),"mc"in Ee?gt=Ee.mcc=Ge.markerScale(Ee.mc):gt=We.color||We.colors||"rgba(0,0,0,0)",Ge.selectedColorFn&&(gt=Ge.selectedColorFn(Ee))}if(Ee.om)Te.call(g.stroke,gt).style({"stroke-width":(Rt||1)+"px",fill:"none"});else{Te.style("stroke-width",(Ee.isBlank?0:Rt)+"px");var je=We.gradient,_e=Ee.mgt;_e?dt=!0:_e=je&&je.type,L.isArrayOrTypedArray(_e)&&(_e=_e[0],i[_e]||(_e=0));var Fe=We.pattern,Be=Fe&&v.getPatternAttr(Fe.shape,Ee.i,"");if(_e&&_e!=="none"){var De=Ee.mgc;De?dt=!0:De=je.color;var we=Le.uid;dt&&(we+="-"+Ee.i),v.gradient(Te,He,we,_e,[[0,De],[1,gt]],"fill")}else if(Be){var ue=!1,me=Fe.fgcolor;!me&&ke&&ke.color&&(me=ke.color,ue=!0);var Re=v.getPatternAttr(me,Ee.i,ke&&ke.color||null),Ne=v.getPatternAttr(Fe.bgcolor,Ee.i,null),it=Fe.fgopacity,ot=v.getPatternAttr(Fe.size,Ee.i,8),wt=v.getPatternAttr(Fe.solidity,Ee.i,.3);ue=ue||Ee.mcc||L.isArrayOrTypedArray(Fe.shape)||L.isArrayOrTypedArray(Fe.bgcolor)||L.isArrayOrTypedArray(Fe.fgcolor)||L.isArrayOrTypedArray(Fe.size)||L.isArrayOrTypedArray(Fe.solidity);var Ft=Le.uid;ue&&(Ft+="-"+Ee.i),v.pattern(Te,"point",He,Ft,Be,ot,wt,Ee.mcc,Fe.fillmode,Ne,Re,it)}else L.isArrayOrTypedArray(gt)?g.fill(Te,gt[Ee.i]):g.fill(Te,gt);Rt&&g.stroke(Te,Mt)}},v.makePointStyleFns=function(Ee){var Te={},Le=Ee.marker;return Te.markerScale=v.tryColorscale(Le,""),Te.lineScale=v.tryColorscale(Le,"line"),h.traceIs(Ee,"symbols")&&(Te.ms2mrc=b.isBubble(Ee)?f(Ee):function(){return(Le.size||6)/2}),Ee.selectedpoints&&L.extendFlat(Te,v.makeSelectedPointStyleFns(Ee)),Te},v.makeSelectedPointStyleFns=function(Ee){var Te={},Le=Ee.selected||{},Ge=Ee.unselected||{},He=Ee.marker||{},ke=Le.marker||{},We=Ge.marker||{},nt=He.opacity,qe=ke.opacity,Qe=We.opacity,tt=qe!==void 0,vt=Qe!==void 0;(L.isArrayOrTypedArray(nt)||tt||vt)&&(Te.selectedOpacityFn=function(Be){var De=Be.mo===void 0?He.opacity:Be.mo;return Be.selected?tt?qe:De:vt?Qe:u*De});var dt=He.color,gt=ke.color,Mt=We.color;(gt||Mt)&&(Te.selectedColorFn=function(Be){var De=Be.mcc||dt;return Be.selected?gt||De:Mt||De});var Rt=He.size,Wt=ke.size,je=We.size,_e=Wt!==void 0,Fe=je!==void 0;return h.traceIs(Ee,"symbols")&&(_e||Fe)&&(Te.selectedSizeFn=function(Be){var De=Be.mrc||Rt/2;return Be.selected?_e?Wt/2:De:Fe?je/2:De}),Te},v.makeSelectedTextStyleFns=function(Ee){var Te={},Le=Ee.selected||{},Ge=Ee.unselected||{},He=Ee.textfont||{},ke=Le.textfont||{},We=Ge.textfont||{},nt=He.color,qe=ke.color,Qe=We.color;return Te.selectedTextColorFn=function(tt){var vt=tt.tc||nt;return tt.selected?qe||vt:Qe||(qe?vt:g.addOpacity(vt,u))},Te},v.selectedPointStyle=function(Ee,Te){if(!(!Ee.size()||!Te.selectedpoints)){var Le=v.makeSelectedPointStyleFns(Te),Ge=Te.marker||{},He=[];Le.selectedOpacityFn&&He.push(function(ke,We){ke.style("opacity",Le.selectedOpacityFn(We))}),Le.selectedColorFn&&He.push(function(ke,We){g.fill(ke,Le.selectedColorFn(We))}),Le.selectedSizeFn&&He.push(function(ke,We){var nt=We.mx||Ge.symbol||0,qe=Le.selectedSizeFn(We);ke.attr("d",P(v.symbolNumber(nt),qe,Ve(We,Te),re(We,Te))),We.mrc2=qe}),He.length&&Ee.each(function(ke){for(var We=p.select(this),nt=0;nt<He.length;nt++)He[nt](We,ke)})}},v.tryColorscale=function(Ee,Te){var Le=Te?L.nestedProperty(Ee,Te).get():Ee;if(Le){var Ge=Le.color;if((Le.colorscale||Le._colorAx)&&L.isArrayOrTypedArray(Ge))return t.makeColorScaleFuncFromTrace(Le)}return L.identity};var R={start:1,end:-1,middle:0,bottom:1,top:-1};function A(Ee,Te,Le,Ge,He){var ke=p.select(Ee.node().parentNode),We=Te.indexOf("top")!==-1?"top":Te.indexOf("bottom")!==-1?"bottom":"middle",nt=Te.indexOf("left")!==-1?"end":Te.indexOf("right")!==-1?"start":"middle",qe=Ge?Ge/.8+1:0,Qe=(l.lineCount(Ee)-1)*c+1,tt=R[nt]*qe,vt=Le*.75+R[We]*qe+(R[We]-1)*Qe*Le/2;Ee.attr("text-anchor",nt),He||ke.attr("transform",r(tt,vt))}function k(Ee,Te){var Le=Ee.ts||Te.textfont.size;return C(Le)&&Le>0?Le:0}v.textPointStyle=function(Ee,Te,Le){if(Ee.size()){var Ge;if(Te.selectedpoints){var He=v.makeSelectedTextStyleFns(Te);Ge=He.selectedTextColorFn}var ke=Te.texttemplate,We=Le._fullLayout;Ee.each(function(nt){var qe=p.select(this),Qe=ke?L.extractOption(nt,Te,"txt","texttemplate"):L.extractOption(nt,Te,"tx","text");if(!Qe&&Qe!==0){qe.remove();return}if(ke){var tt=Te._module.formatLabels,vt=tt?tt(nt,Te,We):{},dt={};w(dt,Te,nt.i);var gt=Te._meta||{};Qe=L.texttemplateString(Qe,vt,We._d3locale,dt,nt,gt)}var Mt=nt.tp||Te.textposition,Rt=k(nt,Te),Wt=Ge?Ge(nt):nt.tc||Te.textfont.color;qe.call(v.font,nt.tf||Te.textfont.family,Rt,Wt).text(Qe).call(l.convertToTspans,Le).call(A,Mt,Rt,nt.mrc)})}},v.selectedTextStyle=function(Ee,Te){if(!(!Ee.size()||!Te.selectedpoints)){var Le=v.makeSelectedTextStyleFns(Te);Ee.each(function(Ge){var He=p.select(this),ke=Le.selectedTextColorFn(Ge),We=Ge.tp||Te.textposition,nt=k(Ge,Te);g.fill(He,ke);var qe=h.traceIs(Te,"bar-like");A(He,We,nt,Ge.mrc2||Ge.mrc,qe)})}};var _=.5;v.smoothopen=function(Ee,Te){if(Ee.length<3)return"M"+Ee.join("L");var Le="M"+Ee[0],Ge=[],He;for(He=1;He<Ee.length-1;He++)Ge.push(U(Ee[He-1],Ee[He],Ee[He+1],Te));for(Le+="Q"+Ge[0][0]+" "+Ee[1],He=2;He<Ee.length-1;He++)Le+="C"+Ge[He-2][1]+" "+Ge[He-1][0]+" "+Ee[He];return Le+="Q"+Ge[Ee.length-3][1]+" "+Ee[Ee.length-1],Le},v.smoothclosed=function(Ee,Te){if(Ee.length<3)return"M"+Ee.join("L")+"Z";var Le="M"+Ee[0],Ge=Ee.length-1,He=[U(Ee[Ge],Ee[0],Ee[1],Te)],ke;for(ke=1;ke<Ge;ke++)He.push(U(Ee[ke-1],Ee[ke],Ee[ke+1],Te));for(He.push(U(Ee[Ge-1],Ee[Ge],Ee[0],Te)),ke=1;ke<=Ge;ke++)Le+="C"+He[ke-1][1]+" "+He[ke][0]+" "+Ee[ke];return Le+="C"+He[Ge][1]+" "+He[0][0]+" "+Ee[0]+"Z",Le};var H,z;function N(Ee,Te,Le){return Le&&(Ee=J(Ee)),Te?F(Ee[1]):O(Ee[0])}function O(Ee){var Te=p.round(Ee,2);return H=Te,Te}function F(Ee){var Te=p.round(Ee,2);return z=Te,Te}function U(Ee,Te,Le,Ge){var He=Ee[0]-Te[0],ke=Ee[1]-Te[1],We=Le[0]-Te[0],nt=Le[1]-Te[1],qe=Math.pow(He*He+ke*ke,_/2),Qe=Math.pow(We*We+nt*nt,_/2),tt=(Qe*Qe*He-qe*qe*We)*Ge,vt=(Qe*Qe*ke-qe*qe*nt)*Ge,dt=3*Qe*(qe+Qe),gt=3*qe*(qe+Qe);return[[O(Te[0]+(dt&&tt/dt)),F(Te[1]+(dt&&vt/dt))],[O(Te[0]-(gt&&tt/gt)),F(Te[1]-(gt&&vt/gt))]]}var Z={hv:function(Ee,Te,Le){return"H"+O(Te[0])+"V"+N(Te,1,Le)},vh:function(Ee,Te,Le){return"V"+F(Te[1])+"H"+N(Te,0,Le)},hvh:function(Ee,Te,Le){return"H"+O((Ee[0]+Te[0])/2)+"V"+F(Te[1])+"H"+N(Te,0,Le)},vhv:function(Ee,Te,Le){return"V"+F((Ee[1]+Te[1])/2)+"H"+O(Te[0])+"V"+N(Te,1,Le)}},q=function(Ee,Te,Le){return"L"+N(Te,0,Le)+","+N(Te,1,Le)};v.steps=function(Ee){var Te=Z[Ee]||q;return function(Le){for(var Ge="M"+O(Le[0][0])+","+F(Le[0][1]),He=Le.length,ke=1;ke<He;ke++)Ge+=Te(Le[ke-1],Le[ke],ke===He-1);return Ge}};function J(Ee,Te){var Le=Ee.backoff,Ge=Ee.trace,He=Ee.d,ke=Ee.i;if(Le&&Ge&&Ge.marker&&Ge.marker.angle%360===0&&Ge.line&&Ge.line.shape!=="spline"){var We=L.isArrayOrTypedArray(Le),nt=Ee,qe=Te?Te[0]:H||0,Qe=Te?Te[1]:z||0,tt=nt[0],vt=nt[1],dt=tt-qe,gt=vt-Qe,Mt=Math.atan2(gt,dt),Rt=We?Le[ke]:Le;if(Rt==="auto"){var Wt=nt.i;Ge.type==="scatter"&&Wt--;var je=nt.marker,_e=je.symbol;L.isArrayOrTypedArray(_e)&&(_e=_e[Wt]);var Fe=je.size;L.isArrayOrTypedArray(Fe)&&(Fe=Fe[Wt]),Rt=je?v.symbolBackOffs[v.symbolNumber(_e)]*Fe:0,Rt+=v.getMarkerStandoff(He[Wt],Ge)||0}var Be=tt-Rt*Math.cos(Mt),De=vt-Rt*Math.sin(Mt);(Be<=tt&&Be>=qe||Be>=tt&&Be<=qe)&&(De<=vt&&De>=Qe||De>=vt&&De<=Qe)&&(Ee=[Be,De])}return Ee}v.applyBackoff=J,v.makeTester=function(){var Ee=L.ensureSingleById(p.select("body"),"svg","js-plotly-tester",function(Le){Le.attr(a.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Te=L.ensureSingle(Ee,"path","js-reference-point",function(Le){Le.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});v.tester=Ee,v.testref=Te},v.savedBBoxes={};var te=0,fe=1e4;v.bBox=function(Ee,Te,Le){Le||(Le=K(Ee));var Ge;if(Le){if(Ge=v.savedBBoxes[Le],Ge)return L.extendFlat({},Ge)}else if(Ee.childNodes.length===1){var He=Ee.childNodes[0];if(Le=K(He),Le){var ke=+He.getAttribute("x")||0,We=+He.getAttribute("y")||0,nt=He.getAttribute("transform");if(!nt){var qe=v.bBox(He,!1,Le);return ke&&(qe.left+=ke,qe.right+=ke),We&&(qe.top+=We,qe.bottom+=We),qe}if(Le+="~"+ke+"~"+We+"~"+nt,Ge=v.savedBBoxes[Le],Ge)return L.extendFlat({},Ge)}}var Qe,tt;Te?Qe=Ee:(tt=v.tester.node(),Qe=Ee.cloneNode(!0),tt.appendChild(Qe)),p.select(Qe).attr("transform",null).call(l.positionText,0,0);var vt=Qe.getBoundingClientRect(),dt=v.testref.node().getBoundingClientRect();Te||tt.removeChild(Qe);var gt={height:vt.height,width:vt.width,left:vt.left-dt.left,top:vt.top-dt.top,right:vt.right-dt.left,bottom:vt.bottom-dt.top};return te>=fe&&(v.savedBBoxes={},te=0),Le&&(v.savedBBoxes[Le]=gt),te++,L.extendFlat({},gt)};function K(Ee){var Te=Ee.getAttribute("data-unformatted");if(Te!==null)return Te+Ee.getAttribute("data-math")+Ee.getAttribute("text-anchor")+Ee.getAttribute("style")}v.setClipUrl=function(Ee,Te,Le){Ee.attr("clip-path",Y(Te,Le))};function Y(Ee,Te){if(!Ee)return null;var Le=Te._context,Ge=Le._exportedPlot?"":Le._baseUrl||"";return Ge?"url('"+Ge+"#"+Ee+"')":"url(#"+Ee+")"}v.getTranslate=function(Ee){var Te=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,Le=Ee.attr?"attr":"getAttribute",Ge=Ee[Le]("transform")||"",He=Ge.replace(Te,function(ke,We,nt){return[We,nt].join(" ")}).split(" ");return{x:+He[0]||0,y:+He[1]||0}},v.setTranslate=function(Ee,Te,Le){var Ge=/(\btranslate\(.*?\);?)/,He=Ee.attr?"attr":"getAttribute",ke=Ee.attr?"attr":"setAttribute",We=Ee[He]("transform")||"";return Te=Te||0,Le=Le||0,We=We.replace(Ge,"").trim(),We+=r(Te,Le),We=We.trim(),Ee[ke]("transform",We),We},v.getScale=function(Ee){var Te=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,Le=Ee.attr?"attr":"getAttribute",Ge=Ee[Le]("transform")||"",He=Ge.replace(Te,function(ke,We,nt){return[We,nt].join(" ")}).split(" ");return{x:+He[0]||1,y:+He[1]||1}},v.setScale=function(Ee,Te,Le){var Ge=/(\bscale\(.*?\);?)/,He=Ee.attr?"attr":"getAttribute",ke=Ee.attr?"attr":"setAttribute",We=Ee[He]("transform")||"";return Te=Te||1,Le=Le||1,We=We.replace(Ge,"").trim(),We+="scale("+Te+","+Le+")",We=We.trim(),Ee[ke]("transform",We),We};var W=/\s*sc.*/;v.setPointGroupScale=function(Ee,Te,Le){if(Te=Te||1,Le=Le||1,!!Ee){var Ge=Te===1&&Le===1?"":"scale("+Te+","+Le+")";Ee.each(function(){var He=(this.getAttribute("transform")||"").replace(W,"");He+=Ge,He=He.trim(),this.setAttribute("transform",He)})}};var X=/translate\([^)]*\)\s*$/;v.setTextPointsScale=function(Ee,Te,Le){Ee&&Ee.each(function(){var Ge,He=p.select(this),ke=He.select("text");if(ke.node()){var We=parseFloat(ke.attr("x")||0),nt=parseFloat(ke.attr("y")||0),qe=(He.attr("transform")||"").match(X);Te===1&&Le===1?Ge=[]:Ge=[r(We,nt),"scale("+Te+","+Le+")",r(-We,-nt)],qe&&Ge.push(qe),He.attr("transform",Ge.join(""))}})};function re(Ee,Te){var Le;return Ee&&(Le=Ee.mf),Le===void 0&&(Le=Te.marker&&Te.marker.standoff||0),!Te._geo&&!Te._xA?-Le:Le}v.getMarkerStandoff=re;var se=Math.atan2,Q=Math.cos,ee=Math.sin;function le(Ee,Te){var Le=Te[0],Ge=Te[1];return[Le*Q(Ee)-Ge*ee(Ee),Le*ee(Ee)+Ge*Q(Ee)]}var oe,he,xe,Ae,Se,Oe;function Ve(Ee,Te){var Le=Ee.ma;Le===void 0&&(Le=Te.marker.angle||0);var Ge,He,ke=Te.marker.angleref;if(ke==="previous"||ke==="north"){if(Te._geo){var We=Te._geo.project(Ee.lonlat);Ge=We[0],He=We[1]}else{var nt=Te._xA,qe=Te._yA;if(nt&&qe)Ge=nt.c2p(Ee.x),He=qe.c2p(Ee.y);else return 90}if(Te._geo){var Qe=Ee.lonlat[0],tt=Ee.lonlat[1],vt=Te._geo.project([Qe,tt+1e-5]),dt=Te._geo.project([Qe+1e-5,tt]),gt=se(dt[1]-He,dt[0]-Ge),Mt=se(vt[1]-He,vt[0]-Ge),Rt;if(ke==="north")Rt=Le/180*Math.PI;else if(ke==="previous"){var Wt=Qe/180*Math.PI,je=tt/180*Math.PI,_e=oe/180*Math.PI,Fe=he/180*Math.PI,Be=_e-Wt,De=Q(Fe)*ee(Be),we=ee(Fe)*Q(je)-Q(Fe)*ee(je)*Q(Be);Rt=-se(De,we)-Math.PI,oe=Qe,he=tt}var ue=le(gt,[Q(Rt),0]),me=le(Mt,[ee(Rt),0]);Le=se(ue[1]+me[1],ue[0]+me[0])/Math.PI*180,ke==="previous"&&!(Oe===Te.uid&&Ee.i===Se+1)&&(Le=null)}if(ke==="previous"&&!Te._geo)if(Oe===Te.uid&&Ee.i===Se+1&&C(Ge)&&C(He)){var Re=Ge-xe,Ne=He-Ae,it=Te.line&&Te.line.shape||"",ot=it.slice(it.length-1);ot==="h"&&(Ne=0),ot==="v"&&(Re=0),Le+=se(Ne,Re)/Math.PI*180+90}else Le=null}return xe=Ge,Ae=He,Se=Ee.i,Oe=Te.uid,Le}v.getMarkerAngle=Ve},90998:function(V,B,e){var p=e(95616),L=e(39898).round,n="M0,0Z",C=Math.sqrt(2),y=Math.sqrt(3),h=Math.PI,g=Math.cos,t=Math.sin;V.exports={circle:{n:0,f:function(b,f,w){if(r(f))return n;var v=L(b,2),o="M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z";return w?u(f,w,o):o}},square:{n:1,f:function(b,f,w){if(r(f))return n;var v=L(b,2);return u(f,w,"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")}},diamond:{n:2,f:function(b,f,w){if(r(f))return n;var v=L(b*1.3,2);return u(f,w,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"Z")}},cross:{n:3,f:function(b,f,w){if(r(f))return n;var v=L(b*.4,2),o=L(b*1.2,2);return u(f,w,"M"+o+","+v+"H"+v+"V"+o+"H-"+v+"V"+v+"H-"+o+"V-"+v+"H-"+v+"V-"+o+"H"+v+"V-"+v+"H"+o+"Z")}},x:{n:4,f:function(b,f,w){if(r(f))return n;var v=L(b*.8/C,2),o="l"+v+","+v,d="l"+v+",-"+v,S="l-"+v+",-"+v,M="l-"+v+","+v;return u(f,w,"M0,"+v+o+d+S+d+S+M+S+M+o+M+o+"Z")}},"triangle-up":{n:5,f:function(b,f,w){if(r(f))return n;var v=L(b*2/y,2),o=L(b/2,2),d=L(b,2);return u(f,w,"M-"+v+","+o+"H"+v+"L0,-"+d+"Z")}},"triangle-down":{n:6,f:function(b,f,w){if(r(f))return n;var v=L(b*2/y,2),o=L(b/2,2),d=L(b,2);return u(f,w,"M-"+v+",-"+o+"H"+v+"L0,"+d+"Z")}},"triangle-left":{n:7,f:function(b,f,w){if(r(f))return n;var v=L(b*2/y,2),o=L(b/2,2),d=L(b,2);return u(f,w,"M"+o+",-"+v+"V"+v+"L-"+d+",0Z")}},"triangle-right":{n:8,f:function(b,f,w){if(r(f))return n;var v=L(b*2/y,2),o=L(b/2,2),d=L(b,2);return u(f,w,"M-"+o+",-"+v+"V"+v+"L"+d+",0Z")}},"triangle-ne":{n:9,f:function(b,f,w){if(r(f))return n;var v=L(b*.6,2),o=L(b*1.2,2);return u(f,w,"M-"+o+",-"+v+"H"+v+"V"+o+"Z")}},"triangle-se":{n:10,f:function(b,f,w){if(r(f))return n;var v=L(b*.6,2),o=L(b*1.2,2);return u(f,w,"M"+v+",-"+o+"V"+v+"H-"+o+"Z")}},"triangle-sw":{n:11,f:function(b,f,w){if(r(f))return n;var v=L(b*.6,2),o=L(b*1.2,2);return u(f,w,"M"+o+","+v+"H-"+v+"V-"+o+"Z")}},"triangle-nw":{n:12,f:function(b,f,w){if(r(f))return n;var v=L(b*.6,2),o=L(b*1.2,2);return u(f,w,"M-"+v+","+o+"V-"+v+"H"+o+"Z")}},pentagon:{n:13,f:function(b,f,w){if(r(f))return n;var v=L(b*.951,2),o=L(b*.588,2),d=L(-b,2),S=L(b*-.309,2),M=L(b*.809,2);return u(f,w,"M"+v+","+S+"L"+o+","+M+"H-"+o+"L-"+v+","+S+"L0,"+d+"Z")}},hexagon:{n:14,f:function(b,f,w){if(r(f))return n;var v=L(b,2),o=L(b/2,2),d=L(b*y/2,2);return u(f,w,"M"+d+",-"+o+"V"+o+"L0,"+v+"L-"+d+","+o+"V-"+o+"L0,-"+v+"Z")}},hexagon2:{n:15,f:function(b,f,w){if(r(f))return n;var v=L(b,2),o=L(b/2,2),d=L(b*y/2,2);return u(f,w,"M-"+o+","+d+"H"+o+"L"+v+",0L"+o+",-"+d+"H-"+o+"L-"+v+",0Z")}},octagon:{n:16,f:function(b,f,w){if(r(f))return n;var v=L(b*.924,2),o=L(b*.383,2);return u(f,w,"M-"+o+",-"+v+"H"+o+"L"+v+",-"+o+"V"+o+"L"+o+","+v+"H-"+o+"L-"+v+","+o+"V-"+o+"Z")}},star:{n:17,f:function(b,f,w){if(r(f))return n;var v=b*1.4,o=L(v*.225,2),d=L(v*.951,2),S=L(v*.363,2),M=L(v*.588,2),P=L(-v,2),x=L(v*-.309,2),E=L(v*.118,2),T=L(v*.809,2),i=L(v*.382,2);return u(f,w,"M"+o+","+x+"H"+d+"L"+S+","+E+"L"+M+","+T+"L0,"+i+"L-"+M+","+T+"L-"+S+","+E+"L-"+d+","+x+"H-"+o+"L0,"+P+"Z")}},hexagram:{n:18,f:function(b,f,w){if(r(f))return n;var v=L(b*.66,2),o=L(b*.38,2),d=L(b*.76,2);return u(f,w,"M-"+d+",0l-"+o+",-"+v+"h"+d+"l"+o+",-"+v+"l"+o+","+v+"h"+d+"l-"+o+","+v+"l"+o+","+v+"h-"+d+"l-"+o+","+v+"l-"+o+",-"+v+"h-"+d+"Z")}},"star-triangle-up":{n:19,f:function(b,f,w){if(r(f))return n;var v=L(b*y*.8,2),o=L(b*.8,2),d=L(b*1.6,2),S=L(b*4,2),M="A "+S+","+S+" 0 0 1 ";return u(f,w,"M-"+v+","+o+M+v+","+o+M+"0,-"+d+M+"-"+v+","+o+"Z")}},"star-triangle-down":{n:20,f:function(b,f,w){if(r(f))return n;var v=L(b*y*.8,2),o=L(b*.8,2),d=L(b*1.6,2),S=L(b*4,2),M="A "+S+","+S+" 0 0 1 ";return u(f,w,"M"+v+",-"+o+M+"-"+v+",-"+o+M+"0,"+d+M+v+",-"+o+"Z")}},"star-square":{n:21,f:function(b,f,w){if(r(f))return n;var v=L(b*1.1,2),o=L(b*2,2),d="A "+o+","+o+" 0 0 1 ";return u(f,w,"M-"+v+",-"+v+d+"-"+v+","+v+d+v+","+v+d+v+",-"+v+d+"-"+v+",-"+v+"Z")}},"star-diamond":{n:22,f:function(b,f,w){if(r(f))return n;var v=L(b*1.4,2),o=L(b*1.9,2),d="A "+o+","+o+" 0 0 1 ";return u(f,w,"M-"+v+",0"+d+"0,"+v+d+v+",0"+d+"0,-"+v+d+"-"+v+",0Z")}},"diamond-tall":{n:23,f:function(b,f,w){if(r(f))return n;var v=L(b*.7,2),o=L(b*1.4,2);return u(f,w,"M0,"+o+"L"+v+",0L0,-"+o+"L-"+v+",0Z")}},"diamond-wide":{n:24,f:function(b,f,w){if(r(f))return n;var v=L(b*1.4,2),o=L(b*.7,2);return u(f,w,"M0,"+o+"L"+v+",0L0,-"+o+"L-"+v+",0Z")}},hourglass:{n:25,f:function(b,f,w){if(r(f))return n;var v=L(b,2);return u(f,w,"M"+v+","+v+"H-"+v+"L"+v+",-"+v+"H-"+v+"Z")},noDot:!0},bowtie:{n:26,f:function(b,f,w){if(r(f))return n;var v=L(b,2);return u(f,w,"M"+v+","+v+"V-"+v+"L-"+v+","+v+"V-"+v+"Z")},noDot:!0},"circle-cross":{n:27,f:function(b,f,w){if(r(f))return n;var v=L(b,2);return u(f,w,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(b,f,w){if(r(f))return n;var v=L(b,2),o=L(b/C,2);return u(f,w,"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(b,f,w){if(r(f))return n;var v=L(b,2);return u(f,w,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(b,f,w){if(r(f))return n;var v=L(b,2);return u(f,w,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(b,f,w){if(r(f))return n;var v=L(b*1.3,2);return u(f,w,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM0,-"+v+"V"+v+"M-"+v+",0H"+v)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(b,f,w){if(r(f))return n;var v=L(b*1.3,2),o=L(b*.65,2);return u(f,w,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM-"+o+",-"+o+"L"+o+","+o+"M-"+o+","+o+"L"+o+",-"+o)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(b,f,w){if(r(f))return n;var v=L(b*1.4,2);return u(f,w,"M0,"+v+"V-"+v+"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(b,f,w){if(r(f))return n;var v=L(b,2);return u(f,w,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(b,f,w){if(r(f))return n;var v=L(b*1.2,2),o=L(b*.85,2);return u(f,w,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+o+","+o+"L-"+o+",-"+o+"M"+o+",-"+o+"L-"+o+","+o)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(b,f,w){if(r(f))return n;var v=L(b/2,2),o=L(b,2);return u(f,w,"M"+v+","+o+"V-"+o+"M"+(v-o)+",-"+o+"V"+o+"M"+o+","+v+"H-"+o+"M-"+o+","+(v-o)+"H"+o)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(b,f,w){if(r(f))return n;var v=L(b*1.2,2),o=L(b*1.6,2),d=L(b*.8,2);return u(f,w,"M-"+v+","+d+"L0,0M"+v+","+d+"L0,0M0,-"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(b,f,w){if(r(f))return n;var v=L(b*1.2,2),o=L(b*1.6,2),d=L(b*.8,2);return u(f,w,"M-"+v+",-"+d+"L0,0M"+v+",-"+d+"L0,0M0,"+o+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(b,f,w){if(r(f))return n;var v=L(b*1.2,2),o=L(b*1.6,2),d=L(b*.8,2);return u(f,w,"M"+d+","+v+"L0,0M"+d+",-"+v+"L0,0M-"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(b,f,w){if(r(f))return n;var v=L(b*1.2,2),o=L(b*1.6,2),d=L(b*.8,2);return u(f,w,"M-"+d+","+v+"L0,0M-"+d+",-"+v+"L0,0M"+o+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(b,f,w){if(r(f))return n;var v=L(b*1.4,2);return u(f,w,"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(b,f,w){if(r(f))return n;var v=L(b*1.4,2);return u(f,w,"M0,"+v+"V-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(b,f,w){if(r(f))return n;var v=L(b,2);return u(f,w,"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(b,f,w){if(r(f))return n;var v=L(b,2);return u(f,w,"M"+v+","+v+"L-"+v+",-"+v)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(b,f,w){if(r(f))return n;var v=L(b,2),o=L(b*2,2);return u(f,w,"M0,0L-"+v+","+o+"H"+v+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(b,f,w){if(r(f))return n;var v=L(b,2),o=L(b*2,2);return u(f,w,"M0,0L-"+v+",-"+o+"H"+v+"Z")},noDot:!0},"arrow-left":{n:47,f:function(b,f,w){if(r(f))return n;var v=L(b*2,2),o=L(b,2);return u(f,w,"M0,0L"+v+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-right":{n:48,f:function(b,f,w){if(r(f))return n;var v=L(b*2,2),o=L(b,2);return u(f,w,"M0,0L-"+v+",-"+o+"V"+o+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(b,f,w){if(r(f))return n;var v=L(b,2),o=L(b*2,2);return u(f,w,"M-"+v+",0H"+v+"M0,0L-"+v+","+o+"H"+v+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(b,f,w){if(r(f))return n;var v=L(b,2),o=L(b*2,2);return u(f,w,"M-"+v+",0H"+v+"M0,0L-"+v+",-"+o+"H"+v+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(b,f,w){if(r(f))return n;var v=L(b*2,2),o=L(b,2);return u(f,w,"M0,-"+o+"V"+o+"M0,0L"+v+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(b,f,w){if(r(f))return n;var v=L(b*2,2),o=L(b,2);return u(f,w,"M0,-"+o+"V"+o+"M0,0L-"+v+",-"+o+"V"+o+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(b,f,w){if(r(f))return n;var v=h/2.5,o=2*b*g(v),d=2*b*t(v);return u(f,w,"M0,0L"+-o+","+d+"L"+o+","+d+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(b,f,w){if(r(f))return n;var v=h/4,o=2*b*g(v),d=2*b*t(v);return u(f,w,"M0,0L"+-o+","+d+"A "+2*b+","+2*b+" 0 0 1 "+o+","+d+"Z")},backoff:.4,noDot:!0}};function r(b){return b===null}var l,a,s,c;function u(b,f,w){if((!b||b%360===0)&&!f)return w;if(s===b&&c===f&&l===w)return a;s=b,c=f,l=w;function v(_,H){var z=g(_),N=t(_),O=H[0],F=H[1]+(f||0);return[O*z-F*N,O*N+F*z]}for(var o=b/180*h,d=0,S=0,M=p(w),P="",x=0;x<M.length;x++){var E=M[x],T=E[0],i=d,R=S;if(T==="M"||T==="L")d=+E[1],S=+E[2];else if(T==="m"||T==="l")d+=+E[1],S+=+E[2];else if(T==="H")d=+E[1];else if(T==="h")d+=+E[1];else if(T==="V")S=+E[1];else if(T==="v")S+=+E[1];else if(T==="A"){d=+E[1],S=+E[2];var A=v(o,[+E[6],+E[7]]);E[6]=A[0],E[7]=A[1],E[3]=+E[3]+b}(T==="H"||T==="V")&&(T="L"),(T==="h"||T==="v")&&(T="l"),(T==="m"||T==="l")&&(d-=i,S-=R);var k=v(o,[d,S]);(T==="H"||T==="V")&&(T="L"),(T==="M"||T==="L"||T==="m"||T==="l")&&(E[1]=k[0],E[2]=k[1]),E[0]=T,P+=E[0]+E.slice(1).join(",")}return a=P,P}},25673:function(V){V.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(V,B,e){var p=e(92770),L=e(73972),n=e(89298),C=e(71828),y=e(45827);V.exports=function(t){for(var r=t.calcdata,l=0;l<r.length;l++){var a=r[l],s=a[0].trace;if(s.visible===!0&&L.traceIs(s,"errorBarsOK")){var c=n.getFromId(t,s.xaxis),u=n.getFromId(t,s.yaxis);h(a,s,c,"x"),h(a,s,u,"y")}}};function h(g,t,r,l){var a=t["error_"+l]||{},s=a.visible&&["linear","log"].indexOf(r.type)!==-1,c=[];if(s){for(var u=y(a),b=0;b<g.length;b++){var f=g[b],w=f.i;if(w===void 0)w=b;else if(w===null)continue;var v=f[l];if(p(r.c2l(v))){var o=u(v,w);if(p(o[0])&&p(o[1])){var d=f[l+"s"]=v-o[0],S=f[l+"h"]=v+o[1];c.push(d,S)}}}var M=r._id,P=t._extremes[M],x=n.findExtremes(r,c,C.extendFlat({tozero:P.opts.tozero},{padded:!0}));P.min=P.min.concat(x.min),P.max=P.max.concat(x.max)}}},45827:function(V){V.exports=function(p){var L=p.type,n=p.symmetric;if(L==="data"){var C=p.array||[];if(n)return function(r,l){var a=+C[l];return[a,a]};var y=p.arrayminus||[];return function(r,l){var a=+C[l],s=+y[l];return!isNaN(a)||!isNaN(s)?[s||0,a||0]:[NaN,NaN]}}else{var h=B(L,p.value),g=B(L,p.valueminus);return n||p.valueminus===void 0?function(r){var l=h(r);return[l,l]}:function(r){return[g(r),h(r)]}}};function B(e,p){if(e==="percent")return function(L){return Math.abs(L*p/100)};if(e==="constant")return function(){return Math.abs(p)};if(e==="sqrt")return function(L){return Math.sqrt(Math.abs(L))}}},97587:function(V,B,e){var p=e(92770),L=e(73972),n=e(71828),C=e(44467),y=e(25673);V.exports=function(h,g,t,r){var l="error_"+r.axis,a=C.newContainer(g,l),s=h[l]||{};function c(d,S){return n.coerce(s,a,y,d,S)}var u=s.array!==void 0||s.value!==void 0||s.type==="sqrt",b=c("visible",u);if(b!==!1){var f=c("type","array"in s?"data":"percent"),w=!0;f!=="sqrt"&&(w=c("symmetric",!((f==="data"?"arrayminus":"valueminus")in s))),f==="data"?(c("array"),c("traceref"),w||(c("arrayminus"),c("tracerefminus"))):(f==="percent"||f==="constant")&&(c("value"),w||c("valueminus"));var v="copy_"+r.inherit+"style";if(r.inherit){var o=g["error_"+r.inherit];(o||{}).visible&&c(v,!(s.color||p(s.thickness)||p(s.width)))}(!r.inherit||!a[v])&&(c("color",t),c("thickness"),c("width",L.traceIs(g,"gl3d")?0:4))}}},37369:function(V,B,e){var p=e(71828),L=e(30962).overrideAll,n=e(25673),C={error_x:p.extendFlat({},n),error_y:p.extendFlat({},n)};delete C.error_x.copy_zstyle,delete C.error_y.copy_zstyle,delete C.error_y.copy_ystyle;var y={error_x:p.extendFlat({},n),error_y:p.extendFlat({},n),error_z:p.extendFlat({},n)};delete y.error_x.copy_ystyle,delete y.error_y.copy_ystyle,delete y.error_z.copy_ystyle,delete y.error_z.copy_zstyle,V.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:C,bar:C,histogram:C,scatter3d:L(y,"calc","nested"),scattergl:L(C,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:h};function h(g,t,r){(t.error_y||{}).visible&&(r.yerr=g.yh-g.y,t.error_y.symmetric||(r.yerrneg=g.y-g.ys)),(t.error_x||{}).visible&&(r.xerr=g.xh-g.x,t.error_x.symmetric||(r.xerrneg=g.x-g.xs))}},19398:function(V,B,e){var p=e(39898),L=e(92770),n=e(91424),C=e(34098);V.exports=function(g,t,r,l){var a,s=r.xaxis,c=r.yaxis,u=l&&l.duration>0,b=g._context.staticPlot;t.each(function(f){var w=f[0].trace,v=w.error_x||{},o=w.error_y||{},d;w.ids&&(d=function(x){return x.id});var S=C.hasMarkers(w)&&w.marker.maxdisplayed>0;!o.visible&&!v.visible&&(f=[]);var M=p.select(this).selectAll("g.errorbar").data(f,d);if(M.exit().remove(),!!f.length){v.visible||M.selectAll("path.xerror").remove(),o.visible||M.selectAll("path.yerror").remove(),M.style("opacity",1);var P=M.enter().append("g").classed("errorbar",!0);u&&P.style("opacity",0).transition().duration(l.duration).style("opacity",1),n.setClipUrl(M,r.layerClipId,g),M.each(function(x){var E=p.select(this),T=y(x,s,c);if(!(S&&!x.vis)){var i,R=E.select("path.yerror");if(o.visible&&L(T.x)&&L(T.yh)&&L(T.ys)){var A=o.width;i="M"+(T.x-A)+","+T.yh+"h"+2*A+"m-"+A+",0V"+T.ys,T.noYS||(i+="m-"+A+",0h"+2*A),a=!R.size(),a?R=E.append("path").style("vector-effect",b?"none":"non-scaling-stroke").classed("yerror",!0):u&&(R=R.transition().duration(l.duration).ease(l.easing)),R.attr("d",i)}else R.remove();var k=E.select("path.xerror");if(v.visible&&L(T.y)&&L(T.xh)&&L(T.xs)){var _=(v.copy_ystyle?o:v).width;i="M"+T.xh+","+(T.y-_)+"v"+2*_+"m0,-"+_+"H"+T.xs,T.noXS||(i+="m0,-"+_+"v"+2*_),a=!k.size(),a?k=E.append("path").style("vector-effect",b?"none":"non-scaling-stroke").classed("xerror",!0):u&&(k=k.transition().duration(l.duration).ease(l.easing)),k.attr("d",i)}else k.remove()}})}})};function y(h,g,t){var r={x:g.c2p(h.x),y:t.c2p(h.y)};return h.yh!==void 0&&(r.yh=t.c2p(h.yh),r.ys=t.c2p(h.ys),L(r.ys)||(r.noYS=!0,r.ys=t.c2p(h.ys,!0))),h.xh!==void 0&&(r.xh=g.c2p(h.xh),r.xs=g.c2p(h.xs),L(r.xs)||(r.noXS=!0,r.xs=g.c2p(h.xs,!0))),r}},62662:function(V,B,e){var p=e(39898),L=e(7901);V.exports=function(C){C.each(function(y){var h=y[0].trace,g=h.error_y||{},t=h.error_x||{},r=p.select(this);r.selectAll("path.yerror").style("stroke-width",g.thickness+"px").call(L.stroke,g.color),t.copy_ystyle&&(t=g),r.selectAll("path.xerror").style("stroke-width",t.thickness+"px").call(L.stroke,t.color)})}},77914:function(V,B,e){var p=e(41940),L=e(528).hoverlabel,n=e(1426).extendFlat;V.exports={hoverlabel:{bgcolor:n({},L.bgcolor,{arrayOk:!0}),bordercolor:n({},L.bordercolor,{arrayOk:!0}),font:p({arrayOk:!0,editType:"none"}),align:n({},L.align,{arrayOk:!0}),namelength:n({},L.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(V,B,e){var p=e(71828),L=e(73972);V.exports=function(y){var h=y.calcdata,g=y._fullLayout;function t(c){return function(u){return p.coerceHoverinfo({hoverinfo:u},{_module:c._module},g)}}for(var r=0;r<h.length;r++){var l=h[r],a=l[0].trace;if(!L.traceIs(a,"pie-like")){var s=L.traceIs(a,"2dMap")?n:p.fillArray;s(a.hoverinfo,l,"hi",t(a)),a.hovertemplate&&s(a.hovertemplate,l,"ht"),a.hoverlabel&&(s(a.hoverlabel.bgcolor,l,"hbg"),s(a.hoverlabel.bordercolor,l,"hbc"),s(a.hoverlabel.font.size,l,"hts"),s(a.hoverlabel.font.color,l,"htc"),s(a.hoverlabel.font.family,l,"htf"),s(a.hoverlabel.namelength,l,"hnl"),s(a.hoverlabel.align,l,"hta"))}}};function n(C,y,h,g){g=g||p.identity,Array.isArray(C)&&(y[0][h]=g(C))}},75914:function(V,B,e){var p=e(73972),L=e(88335).hover;V.exports=function(C,y,h){var g=p.getComponentMethod("annotations","onClick")(C,C._hoverdata);h!==void 0&&L(C,y,h,!0);function t(){C.emit("plotly_click",{points:C._hoverdata,event:y})}C._hoverdata&&y&&y.target&&(g&&g.then?g.then(t):t(),y.stopImmediatePropagation&&y.stopImmediatePropagation())}},26675:function(V){V.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(V,B,e){var p=e(71828),L=e(77914),n=e(38048);V.exports=function(y,h,g,t){function r(a,s){return p.coerce(y,h,L,a,s)}var l=p.extendFlat({},t.hoverlabel);h.hovertemplate&&(l.namelength=-1),n(y,h,r,l)}},23469:function(V,B,e){var p=e(71828);B.getSubplot=function(g){return g.subplot||g.xaxis+g.yaxis||g.geo},B.isTraceInSubplots=function(g,t){if(g.type==="splom"){for(var r=g.xaxes||[],l=g.yaxes||[],a=0;a<r.length;a++)for(var s=0;s<l.length;s++)if(t.indexOf(r[a]+l[s])!==-1)return!0;return!1}return t.indexOf(B.getSubplot(g))!==-1},B.flat=function(g,t){for(var r=new Array(g.length),l=0;l<g.length;l++)r[l]=t;return r},B.p2c=function(g,t){for(var r=new Array(g.length),l=0;l<g.length;l++)r[l]=g[l].p2c(t);return r},B.getDistanceFunction=function(g,t,r,l){return g==="closest"?l||B.quadrature(t,r):g.charAt(0)==="x"?t:r},B.getClosest=function(g,t,r){if(r.index!==!1)r.index>=0&&r.index<g.length?r.distance=0:r.index=!1;else for(var l=0;l<g.length;l++){var a=t(g[l]);a<=r.distance&&(r.index=l,r.distance=a)}return r},B.inbox=function(g,t,r){return g*t<0||g===0?r:1/0},B.quadrature=function(g,t){return function(r){var l=g(r),a=t(r);return Math.sqrt(l*l+a*a)}},B.makeEventData=function(g,t,r){var l="index"in g?g.index:g.pointNumber,a={data:t._input,fullData:t,curveNumber:t.index,pointNumber:l};if(t._indexToPoints){var s=t._indexToPoints[l];s.length===1?a.pointIndex=s[0]:a.pointIndices=s}else a.pointIndex=l;return t._module.eventData?a=t._module.eventData(a,g,t,r,l):("xVal"in g?a.x=g.xVal:"x"in g&&(a.x=g.x),"yVal"in g?a.y=g.yVal:"y"in g&&(a.y=g.y),g.xa&&(a.xaxis=g.xa),g.ya&&(a.yaxis=g.ya),g.zLabelVal!==void 0&&(a.z=g.zLabelVal)),B.appendArrayPointValue(a,t,l),a},B.appendArrayPointValue=function(g,t,r){var l=t._arrayAttrs;if(l)for(var a=0;a<l.length;a++){var s=l[a],c=n(s);if(g[c]===void 0){var u=p.nestedProperty(t,s).get(),b=C(u,r);b!==void 0&&(g[c]=b)}}},B.appendArrayMultiPointValues=function(g,t,r){var l=t._arrayAttrs;if(l)for(var a=0;a<l.length;a++){var s=l[a],c=n(s);if(g[c]===void 0){for(var u=p.nestedProperty(t,s).get(),b=new Array(r.length),f=0;f<r.length;f++)b[f]=C(u,r[f]);g[c]=b}}};var L={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function n(g){return L[g]||g}function C(g,t){if(Array.isArray(t)){if(Array.isArray(g)&&Array.isArray(g[t[0]]))return g[t[0]][t[1]]}else return g[t]}var y={x:!0,y:!0},h={"x unified":!0,"y unified":!0};B.isUnifiedHover=function(g){return typeof g!="string"?!1:!!h[g]},B.isXYhover=function(g){return typeof g!="string"?!1:!!y[g]}},88335:function(V,B,e){var p=e(39898),L=e(92770),n=e(84267),C=e(71828),y=C.strTranslate,h=C.strRotate,g=e(11086),t=e(63893),r=e(39918),l=e(91424),a=e(7901),s=e(28569),c=e(89298),u=e(73972),b=e(23469),f=e(26675),w=e(99017),v=e(43969),o=f.YANGLE,d=Math.PI*o/180,S=1/Math.sin(d),M=Math.cos(d),P=Math.sin(d),x=f.HOVERARROWSIZE,E=f.HOVERTEXTPAD,T={box:!0,ohlc:!0,violin:!0,candlestick:!0},i={scatter:!0,scattergl:!0,splom:!0};B.hover=function(se,Q,ee,le){se=C.getGraphDiv(se);var oe=Q.target;C.throttle(se._fullLayout._uid+f.HOVERID,f.HOVERMINTIME,function(){R(se,Q,ee,le,oe)})},B.loneHover=function(se,Q){var ee=!0;Array.isArray(se)||(ee=!1,se=[se]);var le=Q.gd,oe=Y(le),he=W(le),xe=se.map(function(He){var ke=He._x0||He.x0||He.x||0,We=He._x1||He.x1||He.x||0,nt=He._y0||He.y0||He.y||0,qe=He._y1||He.y1||He.y||0,Qe=He.eventData;if(Qe){var tt=Math.min(ke,We),vt=Math.max(ke,We),dt=Math.min(nt,qe),gt=Math.max(nt,qe),Mt=He.trace;if(u.traceIs(Mt,"gl3d")){var Rt=le._fullLayout[Mt.scene]._scene.container,Wt=Rt.offsetLeft,je=Rt.offsetTop;tt+=Wt,vt+=Wt,dt+=je,gt+=je}Qe.bbox={x0:tt+he,x1:vt+he,y0:dt+oe,y1:gt+oe},Q.inOut_bbox&&Q.inOut_bbox.push(Qe.bbox)}else Qe=!1;return{color:He.color||a.defaultLine,x0:He.x0||He.x||0,x1:He.x1||He.x||0,y0:He.y0||He.y||0,y1:He.y1||He.y||0,xLabel:He.xLabel,yLabel:He.yLabel,zLabel:He.zLabel,text:He.text,name:He.name,idealAlign:He.idealAlign,borderColor:He.borderColor,fontFamily:He.fontFamily,fontSize:He.fontSize,fontColor:He.fontColor,nameLength:He.nameLength,textAlign:He.textAlign,trace:He.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:He.hovertemplate||!1,hovertemplateLabels:He.hovertemplateLabels||!1,eventData:Qe}}),Ae=!1,Se=_(xe,{gd:le,hovermode:"closest",rotateLabels:Ae,bgColor:Q.bgColor||a.background,container:p.select(Q.container),outerContainer:Q.outerContainer||Q.container}),Oe=Se.hoverLabels,Ve=5,Ee=0,Te=0;Oe.sort(function(He,ke){return He.y0-ke.y0}).each(function(He,ke){var We=He.y0-He.by/2;We-Ve<Ee?He.offset=Ee-We+Ve:He.offset=0,Ee=We+He.by+He.offset,ke===Q.anchorIndex&&(Te=He.offset)}).each(function(He){He.offset-=Te});var Le=le._fullLayout._invScaleX,Ge=le._fullLayout._invScaleY;return F(Oe,Ae,Le,Ge),ee?Oe:Oe.node()};function R(re,se,Q,ee,le){Q||(Q="xy");var oe=Array.isArray(Q)?Q:[Q],he=re._fullLayout,xe=he._plots||[],Ae=xe[Q],Se=he._has("cartesian");if(Ae){var Oe=Ae.overlays.map(function(wr){return wr.id});oe=oe.concat(Oe)}for(var Ve=oe.length,Ee=new Array(Ve),Te=new Array(Ve),Le=!1,Ge=0;Ge<Ve;Ge++){var He=oe[Ge];if(xe[He])Le=!0,Ee[Ge]=xe[He].xaxis,Te[Ge]=xe[He].yaxis;else if(he[He]&&he[He]._subplot){var ke=he[He]._subplot;Ee[Ge]=ke.xaxis,Te[Ge]=ke.yaxis}else{C.warn("Unrecognized subplot: "+He);return}}var We=se.hovermode||he.hovermode;if(We&&!Le&&(We="closest"),["x","y","closest","x unified","y unified"].indexOf(We)===-1||!re.calcdata||re.querySelector(".zoombox")||re._dragging)return s.unhoverRaw(re,se);var nt=he.hoverdistance;nt===-1&&(nt=1/0);var qe=he.spikedistance;qe===-1&&(qe=1/0);var Qe=[],tt=[],vt,dt,gt,Mt,Rt,Wt,je,_e,Fe,Be,De,we,ue,me={hLinePoint:null,vLinePoint:null},Re=!1;if(Array.isArray(se))for(We="array",gt=0;gt<se.length;gt++)Rt=re.calcdata[se[gt].curveNumber||0],Rt&&(Wt=Rt[0].trace,Rt[0].trace.hoverinfo!=="skip"&&(tt.push(Rt),Wt.orientation==="h"&&(Re=!0)));else{for(Mt=0;Mt<re.calcdata.length;Mt++)Rt=re.calcdata[Mt],Wt=Rt[0].trace,Wt.hoverinfo!=="skip"&&b.isTraceInSubplots(Wt,oe)&&(tt.push(Rt),Wt.orientation==="h"&&(Re=!0));var Ne=!le,it,ot;if(Ne)"xpx"in se?it=se.xpx:it=Ee[0]._length/2,"ypx"in se?ot=se.ypx:ot=Te[0]._length/2;else{if(g.triggerHandler(re,"plotly_beforehover",se)===!1)return;var wt=le.getBoundingClientRect();it=se.clientX-wt.left,ot=se.clientY-wt.top,he._calcInverseTransform(re);var Ft=C.apply3DTransform(he._invTransform)(it,ot);if(it=Ft[0],ot=Ft[1],it<0||it>Ee[0]._length||ot<0||ot>Te[0]._length)return s.unhoverRaw(re,se)}if(se.pointerX=it+Ee[0]._offset,se.pointerY=ot+Te[0]._offset,"xval"in se?vt=b.flat(oe,se.xval):vt=b.p2c(Ee,it),"yval"in se?dt=b.flat(oe,se.yval):dt=b.p2c(Te,ot),!L(vt[0])||!L(dt[0]))return C.warn("Fx.hover failed",se,re),s.unhoverRaw(re,se)}var Ut=1/0;function Gt(wr,Nr){for(Mt=0;Mt<tt.length;Mt++)if(Rt=tt[Mt],!(!Rt||!Rt[0]||!Rt[0].trace)&&(Wt=Rt[0].trace,!(Wt.visible!==!0||Wt._length===0)&&["carpet","contourcarpet"].indexOf(Wt._module.name)===-1)){if(Wt.type==="splom"?(_e=0,je=oe[_e]):(je=b.getSubplot(Wt),_e=oe.indexOf(je)),Fe=We,b.isUnifiedHover(Fe)&&(Fe=Fe.charAt(0)),we={cd:Rt,trace:Wt,xa:Ee[_e],ya:Te[_e],maxHoverDistance:nt,maxSpikeDistance:qe,index:!1,distance:Math.min(Ut,nt),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:a.defaultLine,name:Wt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},he[je]&&(we.subplot=he[je]._subplot),he._splomScenes&&he._splomScenes[Wt.uid]&&(we.scene=he._splomScenes[Wt.uid]),ue=Qe.length,Fe==="array"){var Vr=se[Mt];"pointNumber"in Vr?(we.index=Vr.pointNumber,Fe="closest"):(Fe="","xval"in Vr&&(Be=Vr.xval,Fe="x"),"yval"in Vr&&(De=Vr.yval,Fe=Fe?"closest":"y"))}else wr!==void 0&&Nr!==void 0?(Be=wr,De=Nr):(Be=vt[_e],De=dt[_e]);if(nt!==0)if(Wt._module&&Wt._module.hoverPoints){var tn=Wt._module.hoverPoints(we,Be,De,Fe,{finiteRange:!0,hoverLayer:he._hoverlayer});if(tn)for(var gn,hn=0;hn<tn.length;hn++)gn=tn[hn],L(gn.x0)&&L(gn.y0)&&Qe.push(U(gn,We))}else C.log("Unrecognized trace type in hover:",Wt);if(We==="closest"&&Qe.length>ue&&(Qe.splice(0,ue),Ut=Qe[0].distance),Se&&qe!==0&&Qe.length===0){we.distance=qe,we.index=!1;var Sn=Wt._module.hoverPoints(we,Be,De,"closest",{hoverLayer:he._hoverlayer});if(Sn&&(Sn=Sn.filter(function(na){return na.spikeDistance<=qe})),Sn&&Sn.length){var In,Jn=Sn.filter(function(na){return na.xa.showspikes&&na.xa.spikesnap!=="hovered data"});if(Jn.length){var ra=Jn[0];L(ra.x0)&&L(ra.y0)&&(In=$t(ra),(!me.vLinePoint||me.vLinePoint.spikeDistance>In.spikeDistance)&&(me.vLinePoint=In))}var ca=Sn.filter(function(na){return na.ya.showspikes&&na.ya.spikesnap!=="hovered data"});if(ca.length){var aa=ca[0];L(aa.x0)&&L(aa.y0)&&(In=$t(aa),(!me.hLinePoint||me.hLinePoint.spikeDistance>In.spikeDistance)&&(me.hLinePoint=In))}}}}}Gt();function Et(wr,Nr,Vr){for(var tn=null,gn=1/0,hn,Sn=0;Sn<wr.length;Sn++)hn=wr[Sn].spikeDistance,Vr&&Sn===0&&(hn=-1/0),hn<=gn&&hn<=Nr&&(tn=wr[Sn],gn=hn);return tn}function $t(wr){return wr?{xa:wr.xa,ya:wr.ya,x:wr.xSpike!==void 0?wr.xSpike:(wr.x0+wr.x1)/2,y:wr.ySpike!==void 0?wr.ySpike:(wr.y0+wr.y1)/2,distance:wr.distance,spikeDistance:wr.spikeDistance,curveNumber:wr.trace.index,color:wr.color,pointNumber:wr.index}:null}var lr={fullLayout:he,container:he._hoverlayer,event:se},Fr=re._spikepoints,yt={vLinePoint:me.vLinePoint,hLinePoint:me.hLinePoint};re._spikepoints=yt;var Kt=function(){Qe.sort(function(wr,Nr){return wr.distance-Nr.distance}),Qe=fe(Qe,We)};Kt();var Zt=We.charAt(0),Ar=(Zt==="x"||Zt==="y")&&Qe[0]&&i[Qe[0].trace.type];if(Se&&qe!==0&&Qe.length!==0){var vr=Qe.filter(function(wr){return wr.ya.showspikes}),ut=Et(vr,qe,Ar);me.hLinePoint=$t(ut);var lt=Qe.filter(function(wr){return wr.xa.showspikes}),xt=Et(lt,qe,Ar);me.vLinePoint=$t(xt)}if(Qe.length===0){var Tt=s.unhoverRaw(re,se);return Se&&(me.hLinePoint!==null||me.vLinePoint!==null)&&J(Fr)&&Z(re,me,lr),Tt}if(Se&&J(Fr)&&Z(re,me,lr),b.isXYhover(Fe)&&Qe[0].length!==0&&Qe[0].trace.type!=="splom"){var Ct=Qe[0];T[Ct.trace.type]?Qe=Qe.filter(function(wr){return wr.trace.index===Ct.trace.index}):Qe=[Ct];var At=Qe.length,zt=K("x",Ct,he),Ht=K("y",Ct,he);Gt(zt,Ht);var qt=[],Qt={},or=0,Lr=function(wr){var Nr=T[wr.trace.type]?A(wr):wr.trace.index;if(!Qt[Nr])or++,Qt[Nr]=or,qt.push(wr);else{var Vr=Qt[Nr]-1,tn=qt[Vr];Vr>0&&Math.abs(wr.distance)<Math.abs(tn.distance)&&(qt[Vr]=wr)}},Ze;for(Ze=0;Ze<At;Ze++)Lr(Qe[Ze]);for(Ze=Qe.length-1;Ze>At-1;Ze--)Lr(Qe[Ze]);Qe=qt,Kt()}var Ye=re._hoverdata,It=[],kt=Y(re),Xt=W(re);for(gt=0;gt<Qe.length;gt++){var ir=Qe[gt],ur=b.makeEventData(ir,ir.trace,ir.cd);if(ir.hovertemplate!==!1){var nr=!1;ir.cd[ir.index]&&ir.cd[ir.index].ht&&(nr=ir.cd[ir.index].ht),ir.hovertemplate=nr||ir.trace.hovertemplate||!1}if(ir.xa&&ir.ya){var Nt=ir.x0+ir.xa._offset,hr=ir.x1+ir.xa._offset,pr=ir.y0+ir.ya._offset,gr=ir.y1+ir.ya._offset,dr=Math.min(Nt,hr),Xr=Math.max(Nt,hr),Br=Math.min(pr,gr),Or=Math.max(pr,gr);ur.bbox={x0:dr+Xt,x1:Xr+Xt,y0:Br+kt,y1:Or+kt}}ir.eventData=[ur],It.push(ur)}re._hoverdata=It;var mn=We==="y"&&(tt.length>1||Qe.length>1)||We==="closest"&&Re&&Qe.length>1,Jr=a.combine(he.plot_bgcolor||a.background,he.paper_bgcolor),_n=_(Qe,{gd:re,hovermode:We,rotateLabels:mn,bgColor:Jr,container:he._hoverlayer,outerContainer:he._paper.node(),commonLabelOpts:he.hoverlabel,hoverdistance:he.hoverdistance}),kn=_n.hoverLabels;if(b.isUnifiedHover(We)||(z(kn,mn,he,_n.commonLabelBoundingBox),F(kn,mn,he._invScaleX,he._invScaleY)),le&&le.tagName){var br=u.getComponentMethod("annotations","hasClickToShow")(re,It);r(p.select(le),br?"pointer":"")}!le||ee||!q(re,se,Ye)||(Ye&&re.emit("plotly_unhover",{event:se,points:Ye}),re.emit("plotly_hover",{event:se,points:re._hoverdata,xaxes:Ee,yaxes:Te,xvals:vt,yvals:dt}))}function A(re){return[re.trace.index,re.index,re.x0,re.y0,re.name,re.attr,re.xa?re.xa._id:"",re.ya?re.ya._id:""].join(",")}var k=/<extra>([\s\S]*)<\/extra>/;function _(re,se){var Q=se.gd,ee=Q._fullLayout,le=se.hovermode,oe=se.rotateLabels,he=se.bgColor,xe=se.container,Ae=se.outerContainer,Se=se.commonLabelOpts||{};if(re.length===0)return[[]];var Oe=se.fontFamily||f.HOVERFONT,Ve=se.fontSize||f.HOVERFONTSIZE,Ee=re[0],Te=Ee.xa,Le=Ee.ya,Ge=le.charAt(0),He=Ge+"Label",ke=Ee[He];if(ke===void 0&&Te.type==="multicategory")for(var We=0;We<re.length&&(ke=re[We][He],ke===void 0);We++);var nt=X(Q,Ae),qe=nt.top,Qe=nt.width,tt=nt.height,vt=ke!==void 0&&Ee.distance<=se.hoverdistance&&(le==="x"||le==="y");if(vt){var dt=!0,gt,Mt;for(gt=0;gt<re.length;gt++)if(dt&&re[gt].zLabel===void 0&&(dt=!1),Mt=re[gt].hoverinfo||re[gt].trace.hoverinfo,Mt){var Rt=Array.isArray(Mt)?Mt:Mt.split("+");if(Rt.indexOf("all")===-1&&Rt.indexOf(le)===-1){vt=!1;break}}dt&&(vt=!1)}var Wt=xe.selectAll("g.axistext").data(vt?[0]:[]);Wt.enter().append("g").classed("axistext",!0),Wt.exit().remove();var je={minX:0,maxX:0,minY:0,maxY:0};if(Wt.each(function(){var At=p.select(this),zt=C.ensureSingle(At,"path","",function(Br){Br.style({"stroke-width":"1px"})}),Ht=C.ensureSingle(At,"text","",function(Br){Br.attr("data-notex",1)}),qt=Se.bgcolor||a.defaultLine,Qt=Se.bordercolor||a.contrast(qt),or=a.contrast(qt),Lr={family:Se.font.family||Oe,size:Se.font.size||Ve,color:Se.font.color||or};zt.style({fill:qt,stroke:Qt}),Ht.text(ke).call(l.font,Lr).call(t.positionText,0,0).call(t.convertToTspans,Q),At.attr("transform","");var Ze=X(Q,Ht.node()),Ye,It;if(le==="x"){var kt=Te.side==="top"?"-":"";Ht.attr("text-anchor","middle").call(t.positionText,0,Te.side==="top"?qe-Ze.bottom-x-E:qe-Ze.top+x+E),Ye=Te._offset+(Ee.x0+Ee.x1)/2,It=Le._offset+(Te.side==="top"?0:Le._length);var Xt=Ze.width/2+E;Ye<Xt?(Ye=Xt,zt.attr("d","M-"+(Xt-x)+",0L-"+(Xt-x*2)+","+kt+x+"H"+Xt+"v"+kt+(E*2+Ze.height)+"H-"+Xt+"V"+kt+x+"Z")):Ye>ee.width-Xt?(Ye=ee.width-Xt,zt.attr("d","M"+(Xt-x)+",0L"+Xt+","+kt+x+"v"+kt+(E*2+Ze.height)+"H-"+Xt+"V"+kt+x+"H"+(Xt-x*2)+"Z")):zt.attr("d","M0,0L"+x+","+kt+x+"H"+Xt+"v"+kt+(E*2+Ze.height)+"H-"+Xt+"V"+kt+x+"H-"+x+"Z"),je.minX=Ye-Xt,je.maxX=Ye+Xt,Te.side==="top"?(je.minY=It-(E*2+Ze.height),je.maxY=It-E):(je.minY=It+E,je.maxY=It+(E*2+Ze.height))}else{var ir,ur,nr;Le.side==="right"?(ir="start",ur=1,nr="",Ye=Te._offset+Te._length):(ir="end",ur=-1,nr="-",Ye=Te._offset),It=Le._offset+(Ee.y0+Ee.y1)/2,Ht.attr("text-anchor",ir),zt.attr("d","M0,0L"+nr+x+","+x+"V"+(E+Ze.height/2)+"h"+nr+(E*2+Ze.width)+"V-"+(E+Ze.height/2)+"H"+nr+x+"V-"+x+"Z"),je.minY=It-(E+Ze.height/2),je.maxY=It+(E+Ze.height/2),Le.side==="right"?(je.minX=Ye+x,je.maxX=Ye+x+(E*2+Ze.width)):(je.minX=Ye-x-(E*2+Ze.width),je.maxX=Ye-x);var Nt=Ze.height/2,hr=qe-Ze.top-Nt,pr="clip"+ee._uid+"commonlabel"+Le._id,gr;if(Ye<Ze.width+2*E+x){gr="M-"+(x+E)+"-"+Nt+"h-"+(Ze.width-E)+"V"+Nt+"h"+(Ze.width-E)+"Z";var dr=Ze.width-Ye+E;t.positionText(Ht,dr,hr),ir==="end"&&Ht.selectAll("tspan").each(function(){var Br=p.select(this),Or=l.tester.append("text").text(Br.text()).call(l.font,Lr),mn=X(Q,Or.node());Math.round(mn.width)<Math.round(Ze.width)&&Br.attr("x",dr-mn.width),Or.remove()})}else t.positionText(Ht,ur*(E+x),hr),gr=null;var Xr=ee._topclips.selectAll("#"+pr).data(gr?[0]:[]);Xr.enter().append("clipPath").attr("id",pr).append("path"),Xr.exit().remove(),Xr.select("path").attr("d",gr),l.setClipUrl(Ht,gr?pr:null,Q)}At.attr("transform",y(Ye,It))}),b.isUnifiedHover(le)){xe.selectAll("g.hovertext").remove();var _e=re.filter(function(At){return At.hoverinfo!=="none"});if(_e.length===0)return[];var Fe=ee.hoverlabel,Be=Fe.font,De={showlegend:!0,legend:{title:{text:ke,font:Be},font:Be,bgcolor:Fe.bgcolor,bordercolor:Fe.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ee.legend?ee.legend.traceorder:void 0,orientation:"v"}},we={font:Be};w(De,we,Q._fullData);var ue=we.legend;ue.entries=[];for(var me=0;me<_e.length;me++){var Re=_e[me];if(Re.hoverinfo!=="none"){var Ne=H(Re,!0,le,ee,ke),it=Ne[0],ot=Ne[1];Re.name=ot,ot!==""?Re.text=ot+" : "+it:Re.text=it;var wt=Re.cd[Re.index];wt&&(wt.mc&&(Re.mc=wt.mc),wt.mcc&&(Re.mc=wt.mcc),wt.mlc&&(Re.mlc=wt.mlc),wt.mlcc&&(Re.mlc=wt.mlcc),wt.mlw&&(Re.mlw=wt.mlw),wt.mrc&&(Re.mrc=wt.mrc),wt.dir&&(Re.dir=wt.dir)),Re._distinct=!0,ue.entries.push([Re])}}ue.entries.sort(function(At,zt){return At[0].trace.index-zt[0].trace.index}),ue.layer=xe,ue._inHover=!0,ue._groupTitleFont=Fe.grouptitlefont,v(Q,ue);var Ft=xe.select("g.legend"),Ut=X(Q,Ft.node()),Gt=Ut.width+2*E,Et=Ut.height+2*E,$t=_e[0],lr=($t.x0+$t.x1)/2,Fr=($t.y0+$t.y1)/2,yt=!(u.traceIs($t.trace,"bar-like")||u.traceIs($t.trace,"box-violin")),Kt,Zt;Ge==="y"?yt?(Zt=Fr-E,Kt=Fr+E):(Zt=Math.min.apply(null,_e.map(function(At){return Math.min(At.y0,At.y1)})),Kt=Math.max.apply(null,_e.map(function(At){return Math.max(At.y0,At.y1)}))):Zt=Kt=C.mean(_e.map(function(At){return(At.y0+At.y1)/2}))-Et/2;var Ar,vr;Ge==="x"?yt?(Ar=lr+E,vr=lr-E):(Ar=Math.max.apply(null,_e.map(function(At){return Math.max(At.x0,At.x1)})),vr=Math.min.apply(null,_e.map(function(At){return Math.min(At.x0,At.x1)}))):Ar=vr=C.mean(_e.map(function(At){return(At.x0+At.x1)/2}))-Gt/2;var ut=Te._offset,lt=Le._offset;Kt+=lt,Ar+=ut,vr+=ut-Gt,Zt+=lt-Et;var xt,Tt;return Ar+Gt<Qe&&Ar>=0?xt=Ar:vr+Gt<Qe&&vr>=0?xt=vr:ut+Gt<Qe?xt=ut:Ar-lr<lr-vr+Gt?xt=Qe-Gt:xt=0,xt+=E,Kt+Et<tt&&Kt>=0?Tt=Kt:Zt+Et<tt&&Zt>=0?Tt=Zt:lt+Et<tt?Tt=lt:Kt-Fr<Fr-Zt+Et?Tt=tt-Et:Tt=0,Tt+=E,Ft.attr("transform",y(xt-1,Tt-1)),Ft}var Ct=xe.selectAll("g.hovertext").data(re,function(At){return A(At)});return Ct.enter().append("g").classed("hovertext",!0).each(function(){var At=p.select(this);At.append("rect").call(a.fill,a.addOpacity(he,.8)),At.append("text").classed("name",!0),At.append("path").style("stroke-width","1px"),At.append("text").classed("nums",!0).call(l.font,Oe,Ve)}),Ct.exit().remove(),Ct.each(function(At){var zt=p.select(this).attr("transform",""),Ht=At.color;Array.isArray(Ht)&&(Ht=Ht[At.eventData[0].pointNumber]);var qt=At.bgcolor||Ht,Qt=a.combine(a.opacity(qt)?qt:a.defaultLine,he),or=a.combine(a.opacity(Ht)?Ht:a.defaultLine,he),Lr=At.borderColor||a.contrast(Qt),Ze=H(At,vt,le,ee,ke,zt),Ye=Ze[0],It=Ze[1],kt=zt.select("text.nums").call(l.font,At.fontFamily||Oe,At.fontSize||Ve,At.fontColor||Lr).text(Ye).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Q),Xt=zt.select("text.name"),ir=0,ur=0;if(It&&It!==Ye){Xt.call(l.font,At.fontFamily||Oe,At.fontSize||Ve,or).text(It).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,Q);var nr=X(Q,Xt.node());ir=nr.width+2*E,ur=nr.height+2*E}else Xt.remove(),zt.select("rect").remove();zt.select("path").style({fill:Qt,stroke:Lr});var Nt=At.xa._offset+(At.x0+At.x1)/2,hr=At.ya._offset+(At.y0+At.y1)/2,pr=Math.abs(At.x1-At.x0),gr=Math.abs(At.y1-At.y0),dr=X(Q,kt.node()),Xr=dr.width/ee._invScaleX,Br=dr.height/ee._invScaleY;At.ty0=(qe-dr.top)/ee._invScaleY,At.bx=Xr+2*E,At.by=Math.max(Br+2*E,ur),At.anchor="start",At.txwidth=Xr,At.tx2width=ir,At.offset=0;var Or=(Xr+x+E+ir)*ee._invScaleX,mn,Jr;if(oe)At.pos=Nt,mn=hr+gr/2+Or<=tt,Jr=hr-gr/2-Or>=0,(At.idealAlign==="top"||!mn)&&Jr?(hr-=gr/2,At.anchor="end"):mn?(hr+=gr/2,At.anchor="start"):At.anchor="middle",At.crossPos=hr;else{if(At.pos=hr,mn=Nt+pr/2+Or<=Qe,Jr=Nt-pr/2-Or>=0,(At.idealAlign==="left"||!mn)&&Jr)Nt-=pr/2,At.anchor="end";else if(mn)Nt+=pr/2,At.anchor="start";else{At.anchor="middle";var _n=Or/2,kn=Nt+_n-Qe,br=Nt-_n;kn>0&&(Nt-=kn),br<0&&(Nt+=-br)}At.crossPos=Nt}kt.attr("text-anchor",At.anchor),ir&&Xt.attr("text-anchor",At.anchor),zt.attr("transform",y(Nt,hr)+(oe?h(o):""))}),{hoverLabels:Ct,commonLabelBoundingBox:je}}function H(re,se,Q,ee,le,oe){var he="",xe="";re.nameOverride!==void 0&&(re.name=re.nameOverride),re.name&&(re.trace._meta&&(re.name=C.templateString(re.name,re.trace._meta)),he=te(re.name,re.nameLength));var Ae=Q.charAt(0),Se=Ae==="x"?"y":"x";re.zLabel!==void 0?(re.xLabel!==void 0&&(xe+="x: "+re.xLabel+"<br>"),re.yLabel!==void 0&&(xe+="y: "+re.yLabel+"<br>"),re.trace.type!=="choropleth"&&re.trace.type!=="choroplethmapbox"&&(xe+=(xe?"z: ":"")+re.zLabel)):se&&re[Ae+"Label"]===le?xe=re[Se+"Label"]||"":re.xLabel===void 0?re.yLabel!==void 0&&re.trace.type!=="scattercarpet"&&(xe=re.yLabel):re.yLabel===void 0?xe=re.xLabel:xe="("+re.xLabel+", "+re.yLabel+")",(re.text||re.text===0)&&!Array.isArray(re.text)&&(xe+=(xe?"<br>":"")+re.text),re.extraText!==void 0&&(xe+=(xe?"<br>":"")+re.extraText),oe&&xe===""&&!re.hovertemplate&&(he===""&&oe.remove(),xe=he);var Oe=re.hovertemplate||!1;if(Oe){var Ve=re.hovertemplateLabels||re;re[Ae+"Label"]!==le&&(Ve[Ae+"other"]=Ve[Ae+"Val"],Ve[Ae+"otherLabel"]=Ve[Ae+"Label"]),xe=C.hovertemplateString(Oe,Ve,ee._d3locale,re.eventData[0]||{},re.trace._meta),xe=xe.replace(k,function(Ee,Te){return he=te(Te,re.nameLength),""})}return[xe,he]}function z(re,se,Q,ee){var le=se?"xa":"ya",oe=se?"ya":"xa",he=0,xe=1,Ae=re.size(),Se=new Array(Ae),Oe=0,Ve=ee.minX,Ee=ee.maxX,Te=ee.minY,Le=ee.maxY,Ge=function(Be){return Be*Q._invScaleX},He=function(Be){return Be*Q._invScaleY};re.each(function(Be){var De=Be[le],we=Be[oe],ue=De._id.charAt(0)==="x",me=De.range;Oe===0&&me&&me[0]>me[1]!==ue&&(xe=-1);var Re=0,Ne=ue?Q.width:Q.height;if(Q.hovermode==="x"||Q.hovermode==="y"){var it=N(Be,se),ot=Be.anchor,wt=ot==="end"?-1:1,Ft,Ut;if(ot==="middle")Ft=Be.crossPos+(ue?He(it.y-Be.by/2):Ge(Be.bx/2+Be.tx2width/2)),Ut=Ft+(ue?He(Be.by):Ge(Be.bx));else if(ue)Ft=Be.crossPos+He(x+it.y)-He(Be.by/2-x),Ut=Ft+He(Be.by);else{var Gt=Ge(wt*x+it.x),Et=Gt+Ge(wt*Be.bx);Ft=Be.crossPos+Math.min(Gt,Et),Ut=Be.crossPos+Math.max(Gt,Et)}ue?Te!==void 0&&Le!==void 0&&Math.min(Ut,Le)-Math.max(Ft,Te)>1&&(we.side==="left"?(Re=we._mainLinePosition,Ne=Q.width):Ne=we._mainLinePosition):Ve!==void 0&&Ee!==void 0&&Math.min(Ut,Ee)-Math.max(Ft,Ve)>1&&(we.side==="top"?(Re=we._mainLinePosition,Ne=Q.height):Ne=we._mainLinePosition)}Se[Oe++]=[{datum:Be,traceIndex:Be.trace.index,dp:0,pos:Be.pos,posref:Be.posref,size:Be.by*(ue?S:1)/2,pmin:Re,pmax:Ne}]}),Se.sort(function(Be,De){return Be[0].posref-De[0].posref||xe*(De[0].traceIndex-Be[0].traceIndex)});var ke,We,nt,qe,Qe,tt,vt;function dt(Be){var De=Be[0],we=Be[Be.length-1];if(We=De.pmin-De.pos-De.dp+De.size,nt=we.pos+we.dp+we.size-De.pmax,We>.01){for(Qe=Be.length-1;Qe>=0;Qe--)Be[Qe].dp+=We;ke=!1}if(!(nt<.01)){if(We<-.01){for(Qe=Be.length-1;Qe>=0;Qe--)Be[Qe].dp-=nt;ke=!1}if(ke){var ue=0;for(qe=0;qe<Be.length;qe++)tt=Be[qe],tt.pos+tt.dp+tt.size>De.pmax&&ue++;for(qe=Be.length-1;qe>=0&&!(ue<=0);qe--)tt=Be[qe],tt.pos>De.pmax-1&&(tt.del=!0,ue--);for(qe=0;qe<Be.length&&!(ue<=0);qe++)if(tt=Be[qe],tt.pos<De.pmin+1)for(tt.del=!0,ue--,nt=tt.size*2,Qe=Be.length-1;Qe>=0;Qe--)Be[Qe].dp-=nt;for(qe=Be.length-1;qe>=0&&!(ue<=0);qe--)tt=Be[qe],tt.pos+tt.dp+tt.size>De.pmax&&(tt.del=!0,ue--)}}}for(;!ke&&he<=Ae;){for(he++,ke=!0,qe=0;qe<Se.length-1;){var gt=Se[qe],Mt=Se[qe+1],Rt=gt[gt.length-1],Wt=Mt[0];if(We=Rt.pos+Rt.dp+Rt.size-Wt.pos-Wt.dp+Wt.size,We>.01&&Rt.pmin===Wt.pmin&&Rt.pmax===Wt.pmax){for(Qe=Mt.length-1;Qe>=0;Qe--)Mt[Qe].dp+=We;for(gt.push.apply(gt,Mt),Se.splice(qe+1,1),vt=0,Qe=gt.length-1;Qe>=0;Qe--)vt+=gt[Qe].dp;for(nt=vt/gt.length,Qe=gt.length-1;Qe>=0;Qe--)gt[Qe].dp-=nt;ke=!1}else qe++}Se.forEach(dt)}for(qe=Se.length-1;qe>=0;qe--){var je=Se[qe];for(Qe=je.length-1;Qe>=0;Qe--){var _e=je[Qe],Fe=_e.datum;Fe.offset=_e.dp,Fe.del=_e.del}}}function N(re,se){var Q=0,ee=re.offset;return se&&(ee*=-P,Q=re.offset*M),{x:Q,y:ee}}function O(re){var se={start:1,end:-1,middle:0}[re.anchor],Q=se*(x+E),ee=Q+se*(re.txwidth+E),le=re.anchor==="middle";return le&&(Q-=re.tx2width/2,ee+=re.txwidth/2+E),{alignShift:se,textShiftX:Q,text2ShiftX:ee}}function F(re,se,Q,ee){var le=function(he){return he*Q},oe=function(he){return he*ee};re.each(function(he){var xe=p.select(this);if(he.del)return xe.remove();var Ae=xe.select("text.nums"),Se=he.anchor,Oe=Se==="end"?-1:1,Ve=O(he),Ee=N(he,se),Te=Ee.x,Le=Ee.y,Ge=Se==="middle";xe.select("path").attr("d",Ge?"M-"+le(he.bx/2+he.tx2width/2)+","+oe(Le-he.by/2)+"h"+le(he.bx)+"v"+oe(he.by)+"h-"+le(he.bx)+"Z":"M0,0L"+le(Oe*x+Te)+","+oe(x+Le)+"v"+oe(he.by/2-x)+"h"+le(Oe*he.bx)+"v-"+oe(he.by)+"H"+le(Oe*x+Te)+"V"+oe(Le-x)+"Z");var He=Te+Ve.textShiftX,ke=Le+he.ty0-he.by/2+E,We=he.textAlign||"auto";We!=="auto"&&(We==="left"&&Se!=="start"?(Ae.attr("text-anchor","start"),He=Ge?-he.bx/2-he.tx2width/2+E:-he.bx-E):We==="right"&&Se!=="end"&&(Ae.attr("text-anchor","end"),He=Ge?he.bx/2-he.tx2width/2-E:he.bx+E)),Ae.call(t.positionText,le(He),oe(ke)),he.tx2width&&(xe.select("text.name").call(t.positionText,le(Ve.text2ShiftX+Ve.alignShift*E+Te),oe(Le+he.ty0-he.by/2+E)),xe.select("rect").call(l.setRect,le(Ve.text2ShiftX+(Ve.alignShift-1)*he.tx2width/2+Te),oe(Le-he.by/2-1),le(he.tx2width),oe(he.by+2)))})}function U(re,se){var Q=re.index,ee=re.trace||{},le=re.cd[0],oe=re.cd[Q]||{};function he(Ee){return Ee||L(Ee)&&Ee===0}var xe=Array.isArray(Q)?function(Ee,Te){var Le=C.castOption(le,Q,Ee);return he(Le)?Le:C.extractOption({},ee,"",Te)}:function(Ee,Te){return C.extractOption(oe,ee,Ee,Te)};function Ae(Ee,Te,Le){var Ge=xe(Te,Le);he(Ge)&&(re[Ee]=Ge)}if(Ae("hoverinfo","hi","hoverinfo"),Ae("bgcolor","hbg","hoverlabel.bgcolor"),Ae("borderColor","hbc","hoverlabel.bordercolor"),Ae("fontFamily","htf","hoverlabel.font.family"),Ae("fontSize","hts","hoverlabel.font.size"),Ae("fontColor","htc","hoverlabel.font.color"),Ae("nameLength","hnl","hoverlabel.namelength"),Ae("textAlign","hta","hoverlabel.align"),re.posref=se==="y"||se==="closest"&&ee.orientation==="h"?re.xa._offset+(re.x0+re.x1)/2:re.ya._offset+(re.y0+re.y1)/2,re.x0=C.constrain(re.x0,0,re.xa._length),re.x1=C.constrain(re.x1,0,re.xa._length),re.y0=C.constrain(re.y0,0,re.ya._length),re.y1=C.constrain(re.y1,0,re.ya._length),re.xLabelVal!==void 0&&(re.xLabel="xLabel"in re?re.xLabel:c.hoverLabelText(re.xa,re.xLabelVal,ee.xhoverformat),re.xVal=re.xa.c2d(re.xLabelVal)),re.yLabelVal!==void 0&&(re.yLabel="yLabel"in re?re.yLabel:c.hoverLabelText(re.ya,re.yLabelVal,ee.yhoverformat),re.yVal=re.ya.c2d(re.yLabelVal)),re.zLabelVal!==void 0&&re.zLabel===void 0&&(re.zLabel=String(re.zLabelVal)),!isNaN(re.xerr)&&!(re.xa.type==="log"&&re.xerr<=0)){var Se=c.tickText(re.xa,re.xa.c2l(re.xerr),"hover").text;re.xerrneg!==void 0?re.xLabel+=" +"+Se+" / -"+c.tickText(re.xa,re.xa.c2l(re.xerrneg),"hover").text:re.xLabel+="  "+Se,se==="x"&&(re.distance+=1)}if(!isNaN(re.yerr)&&!(re.ya.type==="log"&&re.yerr<=0)){var Oe=c.tickText(re.ya,re.ya.c2l(re.yerr),"hover").text;re.yerrneg!==void 0?re.yLabel+=" +"+Oe+" / -"+c.tickText(re.ya,re.ya.c2l(re.yerrneg),"hover").text:re.yLabel+="  "+Oe,se==="y"&&(re.distance+=1)}var Ve=re.hoverinfo||re.trace.hoverinfo;return Ve&&Ve!=="all"&&(Ve=Array.isArray(Ve)?Ve:Ve.split("+"),Ve.indexOf("x")===-1&&(re.xLabel=void 0),Ve.indexOf("y")===-1&&(re.yLabel=void 0),Ve.indexOf("z")===-1&&(re.zLabel=void 0),Ve.indexOf("text")===-1&&(re.text=void 0),Ve.indexOf("name")===-1&&(re.name=void 0)),re}function Z(re,se,Q){var ee=Q.container,le=Q.fullLayout,oe=le._size,he=Q.event,xe=!!se.hLinePoint,Ae=!!se.vLinePoint,Se,Oe;if(ee.selectAll(".spikeline").remove(),!!(Ae||xe)){var Ve=a.combine(le.plot_bgcolor,le.paper_bgcolor);if(xe){var Ee=se.hLinePoint,Te,Le;Se=Ee&&Ee.xa,Oe=Ee&&Ee.ya;var Ge=Oe.spikesnap;Ge==="cursor"?(Te=he.pointerX,Le=he.pointerY):(Te=Se._offset+Ee.x,Le=Oe._offset+Ee.y);var He=n.readability(Ee.color,Ve)<1.5?a.contrast(Ve):Ee.color,ke=Oe.spikemode,We=Oe.spikethickness,nt=Oe.spikecolor||He,qe=c.getPxPosition(re,Oe),Qe,tt;if(ke.indexOf("toaxis")!==-1||ke.indexOf("across")!==-1){if(ke.indexOf("toaxis")!==-1&&(Qe=qe,tt=Te),ke.indexOf("across")!==-1){var vt=Oe._counterDomainMin,dt=Oe._counterDomainMax;Oe.anchor==="free"&&(vt=Math.min(vt,Oe.position),dt=Math.max(dt,Oe.position)),Qe=oe.l+vt*oe.w,tt=oe.l+dt*oe.w}ee.insert("line",":first-child").attr({x1:Qe,x2:tt,y1:Le,y2:Le,"stroke-width":We,stroke:nt,"stroke-dasharray":l.dashStyle(Oe.spikedash,We)}).classed("spikeline",!0).classed("crisp",!0),ee.insert("line",":first-child").attr({x1:Qe,x2:tt,y1:Le,y2:Le,"stroke-width":We+2,stroke:Ve}).classed("spikeline",!0).classed("crisp",!0)}ke.indexOf("marker")!==-1&&ee.insert("circle",":first-child").attr({cx:qe+(Oe.side!=="right"?We:-We),cy:Le,r:We,fill:nt}).classed("spikeline",!0)}if(Ae){var gt=se.vLinePoint,Mt,Rt;Se=gt&&gt.xa,Oe=gt&&gt.ya;var Wt=Se.spikesnap;Wt==="cursor"?(Mt=he.pointerX,Rt=he.pointerY):(Mt=Se._offset+gt.x,Rt=Oe._offset+gt.y);var je=n.readability(gt.color,Ve)<1.5?a.contrast(Ve):gt.color,_e=Se.spikemode,Fe=Se.spikethickness,Be=Se.spikecolor||je,De=c.getPxPosition(re,Se),we,ue;if(_e.indexOf("toaxis")!==-1||_e.indexOf("across")!==-1){if(_e.indexOf("toaxis")!==-1&&(we=De,ue=Rt),_e.indexOf("across")!==-1){var me=Se._counterDomainMin,Re=Se._counterDomainMax;Se.anchor==="free"&&(me=Math.min(me,Se.position),Re=Math.max(Re,Se.position)),we=oe.t+(1-Re)*oe.h,ue=oe.t+(1-me)*oe.h}ee.insert("line",":first-child").attr({x1:Mt,x2:Mt,y1:we,y2:ue,"stroke-width":Fe,stroke:Be,"stroke-dasharray":l.dashStyle(Se.spikedash,Fe)}).classed("spikeline",!0).classed("crisp",!0),ee.insert("line",":first-child").attr({x1:Mt,x2:Mt,y1:we,y2:ue,"stroke-width":Fe+2,stroke:Ve}).classed("spikeline",!0).classed("crisp",!0)}_e.indexOf("marker")!==-1&&ee.insert("circle",":first-child").attr({cx:Mt,cy:De-(Se.side!=="top"?Fe:-Fe),r:Fe,fill:Be}).classed("spikeline",!0)}}}function q(re,se,Q){if(!Q||Q.length!==re._hoverdata.length)return!0;for(var ee=Q.length-1;ee>=0;ee--){var le=Q[ee],oe=re._hoverdata[ee];if(le.curveNumber!==oe.curveNumber||String(le.pointNumber)!==String(oe.pointNumber)||String(le.pointNumbers)!==String(oe.pointNumbers))return!0}return!1}function J(re,se){return!se||se.vLinePoint!==re._spikepoints.vLinePoint||se.hLinePoint!==re._spikepoints.hLinePoint}function te(re,se){return t.plainText(re||"",{len:se,allowedTags:["br","sub","sup","b","i","em"]})}function fe(re,se){for(var Q=se.charAt(0),ee=[],le=[],oe=[],he=0;he<re.length;he++){var xe=re[he];u.traceIs(xe.trace,"bar-like")||u.traceIs(xe.trace,"box-violin")?oe.push(xe):xe.trace[Q+"period"]?le.push(xe):ee.push(xe)}return ee.concat(le).concat(oe)}function K(re,se,Q){var ee=se[re+"a"],le=se[re+"Val"],oe=se.cd[0];if(ee.type==="category"||ee.type==="multicategory")le=ee._categoriesMap[le];else if(ee.type==="date"){var he=se.trace[re+"periodalignment"];if(he){var xe=se.cd[se.index],Ae=xe[re+"Start"];Ae===void 0&&(Ae=xe[re]);var Se=xe[re+"End"];Se===void 0&&(Se=xe[re]);var Oe=Se-Ae;he==="end"?le+=Oe:he==="middle"&&(le+=Oe/2)}le=ee.d2c(le)}return oe&&oe.t&&oe.t.posLetter===ee._id&&(Q.boxmode==="group"||Q.violinmode==="group")&&(le+=oe.t.dPos),le}function Y(re){return re.offsetTop+re.clientTop}function W(re){return re.offsetLeft+re.clientLeft}function X(re,se){var Q=re._fullLayout,ee=se.getBoundingClientRect(),le=ee.left,oe=ee.top,he=le+ee.width,xe=oe+ee.height,Ae=C.apply3DTransform(Q._invTransform)(le,oe),Se=C.apply3DTransform(Q._invTransform)(he,xe),Oe=Ae[0],Ve=Ae[1],Ee=Se[0],Te=Se[1];return{x:Oe,y:Ve,width:Ee-Oe,height:Te-Ve,top:Math.min(Ve,Te),left:Math.min(Oe,Ee),right:Math.max(Oe,Ee),bottom:Math.max(Ve,Te)}}},38048:function(V,B,e){var p=e(71828),L=e(7901),n=e(23469).isUnifiedHover;V.exports=function(y,h,g,t){t=t||{};var r=h.legend;function l(a){t.font[a]||(t.font[a]=r?h.legend.font[a]:h.font[a])}h&&n(h.hovermode)&&(t.font||(t.font={}),l("size"),l("family"),l("color"),r?(t.bgcolor||(t.bgcolor=L.combine(h.legend.bgcolor,h.paper_bgcolor)),t.bordercolor||(t.bordercolor=h.legend.bordercolor)):t.bgcolor||(t.bgcolor=h.paper_bgcolor)),g("hoverlabel.bgcolor",t.bgcolor),g("hoverlabel.bordercolor",t.bordercolor),g("hoverlabel.namelength",t.namelength),p.coerceFont(g,"hoverlabel.font",t.font),g("hoverlabel.align",t.align)}},98212:function(V,B,e){var p=e(71828),L=e(528);V.exports=function(C,y){function h(g,t){return y[g]!==void 0?y[g]:p.coerce(C,y,L,g,t)}return h("clickmode"),h("hovermode")}},30211:function(V,B,e){var p=e(39898),L=e(71828),n=e(28569),C=e(23469),y=e(528),h=e(88335);V.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:y},attributes:e(77914),layoutAttributes:y,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:C.getDistanceFunction,getClosest:C.getClosest,inbox:C.inbox,quadrature:C.quadrature,appendArrayPointValue:C.appendArrayPointValue,castHoverOption:t,castHoverinfo:r,hover:h.hover,unhover:n.unhover,loneHover:h.loneHover,loneUnhover:g,click:e(75914)};function g(l){var a=L.isD3Selection(l)?l:p.select(l);a.selectAll("g.hovertext").remove(),a.selectAll(".spikeline").remove()}function t(l,a,s){return L.castOption(l,a,"hoverlabel."+s)}function r(l,a,s){function c(u){return L.coerceHoverinfo({hoverinfo:u},{_module:l._module},a)}return L.castOption(l,s,"hoverinfo",c)}},528:function(V,B,e){var p=e(26675),L=e(41940),n=L({editType:"none"});n.family.dflt=p.HOVERFONT,n.size.dflt=p.HOVERFONTSIZE,V.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:n,grouptitlefont:L({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(V,B,e){var p=e(71828),L=e(528),n=e(98212),C=e(38048);V.exports=function(h,g){function t(u,b){return p.coerce(h,g,L,u,b)}var r=n(h,g);r&&(t("hoverdistance"),t("spikedistance"));var l=t("dragmode");l==="select"&&t("selectdirection");var a=g._has("mapbox"),s=g._has("geo"),c=g._basePlotModules.length;g.dragmode==="zoom"&&((a||s)&&c===1||a&&s&&c===2)&&(g.dragmode="pan"),C(h,g,t),p.coerceFont(t,"hoverlabel.grouptitlefont",g.hoverlabel.font)}},22774:function(V,B,e){var p=e(71828),L=e(38048),n=e(528);V.exports=function(y,h){function g(t,r){return p.coerce(y,h,n,t,r)}L(y,h,g)}},83312:function(V,B,e){var p=e(71828),L=e(30587).counter,n=e(27670).Y,C=e(85555).idRegex,y=e(44467),h={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[L("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[C.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:n({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function g(s,c,u){var b=c[u+"axes"],f=Object.keys((s._splomAxes||{})[u]||{});if(Array.isArray(b))return b;if(f.length)return f}function t(s,c){var u=s.grid||{},b=g(c,u,"x"),f=g(c,u,"y");if(!s.grid&&!b&&!f)return;var w=Array.isArray(u.subplots)&&Array.isArray(u.subplots[0]),v=Array.isArray(b),o=Array.isArray(f),d=v&&b!==u.xaxes&&o&&f!==u.yaxes,S,M;w?(S=u.subplots.length,M=u.subplots[0].length):(o&&(S=f.length),v&&(M=b.length));var P=y.newContainer(c,"grid");function x(N,O){return p.coerce(u,P,h,N,O)}var E=x("rows",S),T=x("columns",M);if(!(E*T>1)){delete c.grid;return}if(!w&&!v&&!o){var i=x("pattern")==="independent";i&&(w=!0)}P._hasSubplotGrid=w;var R=x("roworder"),A=R==="top to bottom",k=w?.2:.1,_=w?.3:.1,H,z;d&&c._splomGridDflt&&(H=c._splomGridDflt.xside,z=c._splomGridDflt.yside),P._domains={x:r("x",x,k,H,T),y:r("y",x,_,z,E,A)}}function r(s,c,u,b,f,w){var v=c(s+"gap",u),o=c("domain."+s);c(s+"side",b);for(var d=new Array(f),S=o[0],M=(o[1]-S)/(f-v),P=M*(1-v),x=0;x<f;x++){var E=S+M*x;d[w?f-1-x:x]=[E,E+P]}return d}function l(s,c){var u=c.grid;if(!(!u||!u._domains)){var b=s.grid||{},f=c._subplots,w=u._hasSubplotGrid,v=u.rows,o=u.columns,d=u.pattern==="independent",S,M,P,x,E,T,i,R=u._axisMap={};if(w){var A=b.subplots||[];T=u.subplots=new Array(v);var k=1;for(S=0;S<v;S++){var _=T[S]=new Array(o),H=A[S]||[];for(M=0;M<o;M++)if(d?(E=k===1?"xy":"x"+k+"y"+k,k++):E=H[M],_[M]="",f.cartesian.indexOf(E)!==-1){if(i=E.indexOf("y"),P=E.slice(0,i),x=E.slice(i),R[P]!==void 0&&R[P]!==M||R[x]!==void 0&&R[x]!==S)continue;_[M]=E,R[P]=M,R[x]=S}}}else{var z=g(c,b,"x"),N=g(c,b,"y");u.xaxes=a(z,f.xaxis,o,R,"x"),u.yaxes=a(N,f.yaxis,v,R,"y")}var O=u._anchors={},F=u.roworder==="top to bottom";for(var U in R){var Z=U.charAt(0),q=u[Z+"side"],J,te,fe;if(q.length<8)O[U]="free";else if(Z==="x"){if(q.charAt(0)==="t"===F?(J=0,te=1,fe=v):(J=v-1,te=-1,fe=-1),w){var K=R[U];for(S=J;S!==fe;S+=te)if(E=T[S][K],!!E&&(i=E.indexOf("y"),E.slice(0,i)===U)){O[U]=E.slice(i);break}}else for(S=J;S!==fe;S+=te)if(x=u.yaxes[S],f.cartesian.indexOf(U+x)!==-1){O[U]=x;break}}else if(q.charAt(0)==="l"?(J=0,te=1,fe=o):(J=o-1,te=-1,fe=-1),w){var Y=R[U];for(S=J;S!==fe;S+=te)if(E=T[Y][S],!!E&&(i=E.indexOf("y"),E.slice(i)===U)){O[U]=E.slice(0,i);break}}else for(S=J;S!==fe;S+=te)if(P=u.xaxes[S],f.cartesian.indexOf(P+U)!==-1){O[U]=P;break}}}}function a(s,c,u,b,f){var w=new Array(u),v;function o(d,S){c.indexOf(S)!==-1&&b[S]===void 0?(w[d]=S,b[S]=d):w[d]=""}if(Array.isArray(s))for(v=0;v<u;v++)o(v,s[v]);else for(o(0,f),v=1;v<u;v++)o(v,f+(v+1));return w}V.exports={moduleType:"component",name:"grid",schema:{layout:{grid:h}},layoutAttributes:h,sizeDefaults:t,contentDefaults:l}},69819:function(V,B,e){var p=e(85555),L=e(44467).templatedArray;e(24695),V.exports=L("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",p.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",p.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(V,B,e){var p=e(92770),L=e(58163);V.exports=function(C,y,h,g){y=y||{};var t=h==="log"&&y.type==="linear",r=h==="linear"&&y.type==="log";if(t||r){for(var l=C._fullLayout.images,a=y._id.charAt(0),s,c,u=0;u<l.length;u++)if(s=l[u],c="images["+u+"].",s[a+"ref"]===y._id){var b=s[a],f=s["size"+a],w=null,v=null;if(t){w=L(b,y.range);var o=f/Math.pow(10,w)/2;v=2*Math.log(o+Math.sqrt(1+o*o))/Math.LN10}else w=Math.pow(10,b),v=w*(Math.pow(10,f/2)-Math.pow(10,-f/2));p(w)?p(v)||(v=null):(w=null,v=null),g(c+a,w),g(c+"size"+a,v)}}}},81603:function(V,B,e){var p=e(71828),L=e(89298),n=e(85501),C=e(69819),y="images";V.exports=function(t,r){var l={name:y,handleItemDefaults:h};n(t,r,l)};function h(g,t,r){function l(o,d){return p.coerce(g,t,C,o,d)}var a=l("source"),s=l("visible",!!a);if(!s)return t;l("layer"),l("xanchor"),l("yanchor"),l("sizex"),l("sizey"),l("sizing"),l("opacity");for(var c={_fullLayout:r},u=["x","y"],b=0;b<2;b++){var f=u[b],w=L.coerceRef(g,t,c,f,"paper",void 0);if(w!=="paper"){var v=L.getFromId(c,w);v._imgIndices.push(t._index)}L.coercePosition(t,c,l,w,f,0)}return t}},80750:function(V,B,e){var p=e(39898),L=e(91424),n=e(89298),C=e(41675),y=e(77922);V.exports=function(g){var t=g._fullLayout,r=[],l={},a=[],s,c;for(c=0;c<t.images.length;c++){var u=t.images[c];if(u.visible)if(u.layer==="below"&&u.xref!=="paper"&&u.yref!=="paper"){s=C.ref2id(u.xref)+C.ref2id(u.yref);var b=t._plots[s];if(!b){a.push(u);continue}b.mainplot&&(s=b.mainplot.id),l[s]||(l[s]=[]),l[s].push(u)}else u.layer==="above"?r.push(u):a.push(u)}var f={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function w(x){var E=p.select(this);if(this._imgSrc!==x.source)if(E.attr("xmlns",y.svg),x.source&&x.source.slice(0,5)==="data:")E.attr("xlink:href",x.source),this._imgSrc=x.source;else{var T=new Promise((function(i){var R=new Image;this.img=R,R.setAttribute("crossOrigin","anonymous"),R.onerror=A,R.onload=function(){var k=document.createElement("canvas");k.width=this.width,k.height=this.height;var _=k.getContext("2d",{willReadFrequently:!0});_.drawImage(this,0,0);var H=k.toDataURL("image/png");E.attr("xlink:href",H),i()},E.on("error",A),R.src=x.source,this._imgSrc=x.source;function A(){E.remove(),i()}}).bind(this));g._promises.push(T)}}function v(x){var E=p.select(this),T=n.getFromId(g,x.xref),i=n.getFromId(g,x.yref),R=n.getRefType(x.xref)==="domain",A=n.getRefType(x.yref)==="domain",k=t._size,_,H;T!==void 0?_=typeof x.xref=="string"&&R?T._length*x.sizex:Math.abs(T.l2p(x.sizex)-T.l2p(0)):_=x.sizex*k.w,i!==void 0?H=typeof x.yref=="string"&&A?i._length*x.sizey:Math.abs(i.l2p(x.sizey)-i.l2p(0)):H=x.sizey*k.h;var z=_*f.x[x.xanchor].offset,N=H*f.y[x.yanchor].offset,O=f.x[x.xanchor].sizing+f.y[x.yanchor].sizing,F,U;switch(T!==void 0?F=typeof x.xref=="string"&&R?T._length*x.x+T._offset:T.r2p(x.x)+T._offset:F=x.x*k.w+k.l,F+=z,i!==void 0?U=typeof x.yref=="string"&&A?i._length*(1-x.y)+i._offset:i.r2p(x.y)+i._offset:U=k.h-x.y*k.h+k.t,U+=N,x.sizing){case"fill":O+=" slice";break;case"stretch":O="none";break}E.attr({x:F,y:U,width:_,height:H,preserveAspectRatio:O,opacity:x.opacity});var Z=T&&n.getRefType(x.xref)!=="domain"?T._id:"",q=i&&n.getRefType(x.yref)!=="domain"?i._id:"",J=Z+q;L.setClipUrl(E,J?"clip"+t._uid+J:null,g)}var o=t._imageLowerLayer.selectAll("image").data(a),d=t._imageUpperLayer.selectAll("image").data(r);o.enter().append("image"),d.enter().append("image"),o.exit().remove(),d.exit().remove(),o.each(function(x){w.bind(this)(x),v.bind(this)(x)}),d.each(function(x){w.bind(this)(x),v.bind(this)(x)});var S=Object.keys(t._plots);for(c=0;c<S.length;c++){s=S[c];var M=t._plots[s];if(M.imagelayer){var P=M.imagelayer.selectAll("image").data(l[s]||[]);P.enter().append("image"),P.exit().remove(),P.each(function(x){w.bind(this)(x),v.bind(this)(x)})}}}},68804:function(V,B,e){V.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(V,B,e){var p=e(41940),L=e(22399);V.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:p({editType:"legend"}),grouptitlefont:p({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:p({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(V){V.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(V,B,e){var p=e(73972),L=e(71828),n=e(44467),C=e(9012),y=e(33030),h=e(10820),g=e(10130);function t(r,l,a,s){var c=l[r]||{},u=n.newContainer(a,r);function b(J,te){return L.coerce(c,u,y,J,te)}var f=L.coerceFont(b,"font",a.font);b("bgcolor",a.paper_bgcolor),b("bordercolor");var w=b("visible");if(w){for(var v,o=function(J,te){var fe=v._input,K=v;return L.coerce(fe,K,C,J,te)},d=a.font||{},S=L.coerceFont(b,"grouptitlefont",L.extendFlat({},d,{size:Math.round(d.size*1.1)})),M=0,P=!1,x="normal",E=s.filter(function(J){return r===(J.legend||"legend")}),T=0;T<E.length;T++)v=E[T],v.visible&&((v.showlegend||v._dfltShowLegend&&!(v._module&&v._module.attributes&&v._module.attributes.showlegend&&v._module.attributes.showlegend.dflt===!1))&&(M++,v.showlegend&&(P=!0,(p.traceIs(v,"pie-like")||v._input.showlegend===!0)&&M++),L.coerceFont(o,"legendgrouptitle.font",S)),(p.traceIs(v,"bar")&&a.barmode==="stack"||["tonextx","tonexty"].indexOf(v.fill)!==-1)&&(x=g.isGrouped({traceorder:x})?"grouped+reversed":"reversed"),v.legendgroup!==void 0&&v.legendgroup!==""&&(x=g.isReversed({traceorder:x})?"reversed+grouped":"grouped"));var i=L.coerce(l,a,h,"showlegend",P&&M>(r==="legend"?1:0));if(i===!1&&(a[r]=void 0),!(i===!1&&!c.uirevision)&&(b("uirevision",a.uirevision),i!==!1)){b("borderwidth");var R=b("orientation"),A=b("yref"),k=b("xref"),_=R==="h",H=A==="paper",z=k==="paper",N,O,F,U="left";_?(N=0,p.getComponentMethod("rangeslider","isVisible")(l.xaxis)?H?(O=1.1,F="bottom"):(O=1,F="top"):H?(O=-.1,F="top"):(O=0,F="bottom")):(O=1,F="auto",z?N=1.02:(N=1,U="right")),L.coerce(c,u,{x:{valType:"number",editType:"legend",min:z?-2:0,max:z?3:1,dflt:N}},"x"),L.coerce(c,u,{y:{valType:"number",editType:"legend",min:H?-2:0,max:H?3:1,dflt:O}},"y"),b("traceorder",x),g.isGrouped(a[r])&&b("tracegroupgap"),b("entrywidth"),b("entrywidthmode"),b("itemsizing"),b("itemwidth"),b("itemclick"),b("itemdoubleclick"),b("groupclick"),b("xanchor",U),b("yanchor",F),b("valign"),L.noneOrAll(c,u,["x","y"]);var Z=b("title.text");if(Z){b("title.side",_?"left":"top");var q=L.extendFlat({},f,{size:L.bigFont(f.size)});L.coerceFont(b,"title.font",q)}}}}V.exports=function(l,a,s){var c,u=["legend"];for(c=0;c<s.length;c++)L.pushUnique(u,s[c].legend);for(a._legends=[],c=0;c<u.length;c++){var b=u[c];t(b,l,a,s),a[b]&&a[b].visible&&(a[b]._id=b),a._legends.push(b)}}},43969:function(V,B,e){var p=e(39898),L=e(71828),n=e(74875),C=e(73972),y=e(11086),h=e(28569),g=e(91424),t=e(7901),r=e(63893),l=e(85167),a=e(14928),s=e(18783),c=s.LINE_SPACING,u=s.FROM_TL,b=s.FROM_BR,f=e(82424),w=e(53630),v=e(10130),o=1,d=/^legend[0-9]*$/;V.exports=function(F,U){if(U)S(F,U);else{var Z=F._fullLayout,q=Z._legends,J=Z._infolayer.selectAll('[class^="legend"]');J.each(function(){var Y=p.select(this),W=Y.attr("class"),X=W.split(" ")[0];X.match(d)&&q.indexOf(X)===-1&&Y.remove()});for(var te=0;te<q.length;te++){var fe=q[te],K=F._fullLayout[fe];S(F,K)}}};function S(O,F){var U=F||{},Z=O._fullLayout,q=N(U),J,te,fe=U._inHover;if(fe?(te=U.layer,J="hover"):(te=Z._infolayer,J=q),!!te){J+=Z._uid,O._legendMouseDownTime||(O._legendMouseDownTime=0);var K;if(fe){if(!U.entries)return;K=f(U.entries,U)}else{if(!O.calcdata)return;K=Z.showlegend&&f(O.calcdata,U,Z._legends.length>1)}var Y=Z.hiddenlabels||[];if(!fe&&(!Z.showlegend||!K.length))return te.selectAll("."+q).remove(),Z._topdefs.select("#"+J).remove(),n.autoMargin(O,q);var W=L.ensureSingle(te,"g",q,function(xe){fe||xe.attr("pointer-events","all")}),X=L.ensureSingleById(Z._topdefs,"clipPath",J,function(xe){xe.append("rect")}),re=L.ensureSingle(W,"rect","bg",function(xe){xe.attr("shape-rendering","crispEdges")});re.call(t.stroke,U.bordercolor).call(t.fill,U.bgcolor).style("stroke-width",U.borderwidth+"px");var se=L.ensureSingle(W,"g","scrollbox"),Q=U.title;if(U._titleWidth=0,U._titleHeight=0,Q.text){var ee=L.ensureSingle(se,"text",q+"titletext");ee.attr("text-anchor","start").call(g.font,Q.font).text(Q.text),i(ee,se,O,U,o)}else se.selectAll("."+q+"titletext").remove();var le=L.ensureSingle(W,"rect","scrollbar",function(xe){xe.attr(a.scrollBarEnterAttrs).call(t.fill,a.scrollBarColor)}),oe=se.selectAll("g.groups").data(K);oe.enter().append("g").attr("class","groups"),oe.exit().remove();var he=oe.selectAll("g.traces").data(L.identity);he.enter().append("g").attr("class","traces"),he.exit().remove(),he.style("opacity",function(xe){var Ae=xe[0].trace;return C.traceIs(Ae,"pie-like")?Y.indexOf(xe[0].label)!==-1?.5:1:Ae.visible==="legendonly"?.5:1}).each(function(){p.select(this).call(x,O,U)}).call(w,O,U).each(function(){fe||p.select(this).call(T,O,q)}),L.syncOrAsync([n.previousPromises,function(){return k(O,oe,he,U)},function(){var xe=Z._size,Ae=U.borderwidth,Se=U.xref==="paper",Oe=U.yref==="paper";if(!fe){var Ve,Ee;Se?Ve=xe.l+xe.w*U.x-u[H(U)]*U._width:Ve=Z.width*U.x-u[H(U)]*U._width,Oe?Ee=xe.t+xe.h*(1-U.y)-u[z(U)]*U._effHeight:Ee=Z.height*(1-U.y)-u[z(U)]*U._effHeight;var Te=_(O,q,Ve,Ee);if(Te)return;if(Z.margin.autoexpand){var Le=Ve,Ge=Ee;Ve=Se?L.constrain(Ve,0,Z.width-U._width):Le,Ee=Oe?L.constrain(Ee,0,Z.height-U._effHeight):Ge,Ve!==Le&&L.log("Constrain "+q+".x to make legend fit inside graph"),Ee!==Ge&&L.log("Constrain "+q+".y to make legend fit inside graph")}g.setTranslate(W,Ve,Ee)}if(le.on(".drag",null),W.on("wheel",null),fe||U._height<=U._maxHeight||O._context.staticPlot){var He=U._effHeight;fe&&(He=U._height),re.attr({width:U._width-Ae,height:He-Ae,x:Ae/2,y:Ae/2}),g.setTranslate(se,0,0),X.select("rect").attr({width:U._width-2*Ae,height:He-2*Ae,x:Ae,y:Ae}),g.setClipUrl(se,J,O),g.setRect(le,0,0,0,0),delete U._scrollY}else{var ke=Math.max(a.scrollBarMinHeight,U._effHeight*U._effHeight/U._height),We=U._effHeight-ke-2*a.scrollBarMargin,nt=U._height-U._effHeight,qe=We/nt,Qe=Math.min(U._scrollY||0,nt);re.attr({width:U._width-2*Ae+a.scrollBarWidth+a.scrollBarMargin,height:U._effHeight-Ae,x:Ae/2,y:Ae/2}),X.select("rect").attr({width:U._width-2*Ae+a.scrollBarWidth+a.scrollBarMargin,height:U._effHeight-2*Ae,x:Ae,y:Ae+Qe}),g.setClipUrl(se,J,O),je(Qe,ke,qe),W.on("wheel",function(){Qe=L.constrain(U._scrollY+p.event.deltaY/We*nt,0,nt),je(Qe,ke,qe),Qe!==0&&Qe!==nt&&p.event.preventDefault()});var tt,vt,dt,gt=function(we,ue,me){var Re=(me-ue)/qe+we;return L.constrain(Re,0,nt)},Mt=function(we,ue,me){var Re=(ue-me)/qe+we;return L.constrain(Re,0,nt)},Rt=p.behavior.drag().on("dragstart",function(){var we=p.event.sourceEvent;we.type==="touchstart"?tt=we.changedTouches[0].clientY:tt=we.clientY,dt=Qe}).on("drag",function(){var we=p.event.sourceEvent;we.buttons===2||we.ctrlKey||(we.type==="touchmove"?vt=we.changedTouches[0].clientY:vt=we.clientY,Qe=gt(dt,tt,vt),je(Qe,ke,qe))});le.call(Rt);var Wt=p.behavior.drag().on("dragstart",function(){var we=p.event.sourceEvent;we.type==="touchstart"&&(tt=we.changedTouches[0].clientY,dt=Qe)}).on("drag",function(){var we=p.event.sourceEvent;we.type==="touchmove"&&(vt=we.changedTouches[0].clientY,Qe=Mt(dt,tt,vt),je(Qe,ke,qe))});se.call(Wt)}function je(we,ue,me){U._scrollY=O._fullLayout[q]._scrollY=we,g.setTranslate(se,0,-we),g.setRect(le,U._width,a.scrollBarMargin+we*me,a.scrollBarWidth,ue),X.select("rect").attr("y",Ae+we)}if(O._context.edits.legendPosition){var _e,Fe,Be,De;W.classed("cursor-move",!0),h.init({element:W.node(),gd:O,prepFn:function(){var we=g.getTranslate(W);Be=we.x,De=we.y},moveFn:function(we,ue){var me=Be+we,Re=De+ue;g.setTranslate(W,me,Re),_e=h.align(me,U._width,xe.l,xe.l+xe.w,U.xanchor),Fe=h.align(Re+U._height,-U._height,xe.t+xe.h,xe.t,U.yanchor)},doneFn:function(){if(_e!==void 0&&Fe!==void 0){var we={};we[q+".x"]=_e,we[q+".y"]=Fe,C.call("_guiRelayout",O,we)}},clickFn:function(we,ue){var me=te.selectAll("g.traces").filter(function(){var Re=this.getBoundingClientRect();return ue.clientX>=Re.left&&ue.clientX<=Re.right&&ue.clientY>=Re.top&&ue.clientY<=Re.bottom});me.size()>0&&P(O,W,me,we,ue)}})}}],O)}}function M(O,F,U){var Z=O[0],q=Z.width,J=F.entrywidthmode,te=Z.trace.legendwidth||F.entrywidth;return J==="fraction"?F._maxWidth*te:U+(te||q)}function P(O,F,U,Z,q){var J=U.data()[0][0].trace,te={event:q,node:U.node(),curveNumber:J.index,expandedIndex:J._expandedIndex,data:O.data,layout:O.layout,frames:O._transitionData._frames,config:O._context,fullData:O._fullData,fullLayout:O._fullLayout};J._group&&(te.group=J._group),C.traceIs(J,"pie-like")&&(te.label=U.datum()[0].label);var fe=y.triggerHandler(O,"plotly_legendclick",te);if(fe!==!1){if(Z===1)F._clickTimeout=setTimeout(function(){O._fullLayout&&l(U,O,Z)},O._context.doubleClickDelay);else if(Z===2){F._clickTimeout&&clearTimeout(F._clickTimeout),O._legendMouseDownTime=0;var K=y.triggerHandler(O,"plotly_legenddoubleclick",te);K!==!1&&l(U,O,Z)}}}function x(O,F,U){var Z=N(U),q=O.data()[0][0],J=q.trace,te=C.traceIs(J,"pie-like"),fe=!U._inHover&&F._context.edits.legendText&&!te,K=U._maxNameLength,Y,W;q.groupTitle?(Y=q.groupTitle.text,W=q.groupTitle.font):(W=U.font,U.entries?Y=q.text:(Y=te?q.label:J.name,J._meta&&(Y=L.templateString(Y,J._meta))));var X=L.ensureSingle(O,"text",Z+"text");X.attr("text-anchor","start").call(g.font,W).text(fe?E(Y,K):Y);var re=U.itemwidth+a.itemGap*2;r.positionText(X,re,0),fe?X.call(r.makeEditable,{gd:F,text:Y}).call(i,O,F,U).on("edit",function(se){this.text(E(se,K)).call(i,O,F,U);var Q=q.trace._fullInput||{},ee={};if(C.hasTransform(Q,"groupby")){var le=C.getTransformIndices(Q,"groupby"),oe=le[le.length-1],he=L.keyedContainer(Q,"transforms["+oe+"].styles","target","value.name");he.set(q.trace._group,se),ee=he.constructUpdate()}else ee.name=se;return C.call("_guiRestyle",F,ee,J.index)}):i(X,O,F,U)}function E(O,F){var U=Math.max(4,F);if(O&&O.trim().length>=U/2)return O;O=O||"";for(var Z=U-O.length;Z>0;Z--)O+=" ";return O}function T(O,F,U){var Z=F._context.doubleClickDelay,q,J=1,te=L.ensureSingle(O,"rect",U+"toggle",function(fe){F._context.staticPlot||fe.style("cursor","pointer").attr("pointer-events","all"),fe.call(t.fill,"rgba(0,0,0,0)")});F._context.staticPlot||(te.on("mousedown",function(){q=new Date().getTime(),q-F._legendMouseDownTime<Z?J+=1:(J=1,F._legendMouseDownTime=q)}),te.on("mouseup",function(){if(!(F._dragged||F._editing)){var fe=F._fullLayout[U];new Date().getTime()-F._legendMouseDownTime>Z&&(J=Math.max(J-1,1)),P(F,fe,O,J,p.event)}}))}function i(O,F,U,Z,q){Z._inHover&&O.attr("data-notex",!0),r.convertToTspans(O,U,function(){R(F,U,Z,q)})}function R(O,F,U,Z){var q=O.data()[0][0];if(!U._inHover&&q&&!q.trace.showlegend){O.remove();return}var J=O.select("g[class*=math-group]"),te=J.node(),fe=N(U);U||(U=F._fullLayout[fe]);var K=U.borderwidth,Y;Z===o?Y=U.title.font:q.groupTitle?Y=q.groupTitle.font:Y=U.font;var W=Y.size*c,X,re;if(te){var se=g.bBox(te);X=se.height,re=se.width,Z===o?g.setTranslate(J,K,K+X*.75):g.setTranslate(J,0,X*.25)}else{var Q="."+fe+(Z===o?"title":"")+"text",ee=O.select(Q),le=r.lineCount(ee),oe=ee.node();if(X=W*le,re=oe?g.bBox(oe).width:0,Z===o)U.title.side==="left"&&(re+=a.itemGap*2),r.positionText(ee,K+a.titlePad,K+W);else{var he=a.itemGap*2+U.itemwidth;q.groupTitle&&(he=a.itemGap,re-=U.itemwidth),r.positionText(ee,he,-W*((le-1)/2-.3))}}Z===o?(U._titleWidth=re,U._titleHeight=X):(q.lineHeight=W,q.height=Math.max(X,16)+3,q.width=re)}function A(O){var F=0,U=0,Z=O.title.side;return Z&&(Z.indexOf("left")!==-1&&(F=O._titleWidth),Z.indexOf("top")!==-1&&(U=O._titleHeight)),[F,U]}function k(O,F,U,Z){var q=O._fullLayout,J=N(Z);Z||(Z=q[J]);var te=q._size,fe=v.isVertical(Z),K=v.isGrouped(Z),Y=Z.entrywidthmode==="fraction",W=Z.borderwidth,X=2*W,re=a.itemGap,se=Z.itemwidth+re*2,Q=2*(W+re),ee=z(Z),le=Z.y<0||Z.y===0&&ee==="top",oe=Z.y>1||Z.y===1&&ee==="bottom",he=Z.tracegroupgap,xe={};Z._maxHeight=Math.max(le||oe?q.height/2:te.h,30);var Ae=0;Z._width=0,Z._height=0;var Se=A(Z);if(fe)U.each(function(je){var _e=je[0].height;g.setTranslate(this,W+Se[0],W+Se[1]+Z._height+_e/2+re),Z._height+=_e,Z._width=Math.max(Z._width,je[0].width)}),Ae=se+Z._width,Z._width+=re+se+X,Z._height+=Q,K&&(F.each(function(je,_e){g.setTranslate(this,0,_e*Z.tracegroupgap)}),Z._height+=(Z._lgroupsLength-1)*Z.tracegroupgap);else{var Oe=H(Z),Ve=Z.x<0||Z.x===0&&Oe==="right",Ee=Z.x>1||Z.x===1&&Oe==="left",Te=oe||le,Le=q.width/2;Z._maxWidth=Math.max(Ve?Te&&Oe==="left"?te.l+te.w:Le:Ee?Te&&Oe==="right"?te.r+te.w:Le:te.w,2*se);var Ge=0,He=0;U.each(function(je){var _e=M(je,Z,se);Ge=Math.max(Ge,_e),He+=_e}),Ae=null;var ke=0;if(K){var We=0,nt=0,qe=0;F.each(function(){var je=0,_e=0;p.select(this).selectAll("g.traces").each(function(Be){var De=M(Be,Z,se),we=Be[0].height;g.setTranslate(this,Se[0],Se[1]+W+re+we/2+_e),_e+=we,je=Math.max(je,De),xe[Be[0].trace.legendgroup]=je});var Fe=je+re;nt>0&&Fe+W+nt>Z._maxWidth?(ke=Math.max(ke,nt),nt=0,qe+=We+he,We=_e):We=Math.max(We,_e),g.setTranslate(this,nt,qe),nt+=Fe}),Z._width=Math.max(ke,nt)+W,Z._height=qe+We+Q}else{var Qe=U.size(),tt=He+X+(Qe-1)*re<Z._maxWidth,vt=0,dt=0,gt=0,Mt=0;U.each(function(je){var _e=je[0].height,Fe=M(je,Z,se),Be=tt?Fe:Ge;Y||(Be+=re),Be+W+dt-re>=Z._maxWidth&&(ke=Math.max(ke,Mt),dt=0,gt+=vt,Z._height+=vt,vt=0),g.setTranslate(this,Se[0]+W+dt,Se[1]+W+gt+_e/2+re),Mt=dt+Fe+re,dt+=Be,vt=Math.max(vt,_e)}),tt?(Z._width=dt+X,Z._height=vt+Q):(Z._width=Math.max(ke,Mt)+X,Z._height+=vt+Q)}}Z._width=Math.ceil(Math.max(Z._width+Se[0],Z._titleWidth+2*(W+a.titlePad))),Z._height=Math.ceil(Math.max(Z._height+Se[1],Z._titleHeight+2*(W+a.itemGap))),Z._effHeight=Math.min(Z._height,Z._maxHeight);var Rt=O._context.edits,Wt=Rt.legendText||Rt.legendPosition;U.each(function(je){var _e=p.select(this).select("."+J+"toggle"),Fe=je[0].height,Be=je[0].trace.legendgroup,De=M(je,Z,se);K&&Be!==""&&(De=xe[Be]);var we=Wt?se:Ae||De;!fe&&!Y&&(we+=re/2),g.setRect(_e,0,-Fe/2,we,Fe)})}function _(O,F,U,Z){var q=O._fullLayout,J=q[F],te=H(J),fe=z(J),K=J.xref==="paper",Y=J.yref==="paper";O._fullLayout._reservedMargin[F]={};var W=J.y<.5?"b":"t",X=J.x<.5?"l":"r",re={r:q.width-U,l:U+J._width,b:q.height-Z,t:Z+J._effHeight};if(K&&Y)return n.autoMargin(O,F,{x:J.x,y:J.y,l:J._width*u[te],r:J._width*b[te],b:J._effHeight*b[fe],t:J._effHeight*u[fe]});K?O._fullLayout._reservedMargin[F][W]=re[W]:Y||J.orientation==="v"?O._fullLayout._reservedMargin[F][X]=re[X]:O._fullLayout._reservedMargin[F][W]=re[W]}function H(O){return L.isRightAnchor(O)?"right":L.isCenterAnchor(O)?"center":"left"}function z(O){return L.isBottomAnchor(O)?"bottom":L.isMiddleAnchor(O)?"middle":"top"}function N(O){return O._id||"legend"}},82424:function(V,B,e){var p=e(73972),L=e(10130);V.exports=function(C,y,h){var g=y._inHover,t=L.isGrouped(y),r=L.isReversed(y),l={},a=[],s=!1,c={},u=0,b=0,f,w;function v(F,U,Z){if(y.visible!==!1&&!(h&&F!==y._id))if(U===""||!L.isGrouped(y)){var q="~~i"+u;a.push(q),l[q]=[Z],u++}else a.indexOf(U)===-1?(a.push(U),s=!0,l[U]=[Z]):l[U].push(Z)}for(f=0;f<C.length;f++){var o=C[f],d=o[0],S=d.trace,M=S.legend,P=S.legendgroup;if(!(!g&&(!S.visible||!S.showlegend)))if(p.traceIs(S,"pie-like"))for(c[P]||(c[P]={}),w=0;w<o.length;w++){var x=o[w].label;c[P][x]||(v(M,P,{label:x,color:o[w].color,i:o[w].i,trace:S,pts:o[w].pts}),c[P][x]=!0,b=Math.max(b,(x||"").length))}else v(M,P,d),b=Math.max(b,(S.name||"").length)}if(!a.length)return[];var E=!s||!t,T=[];for(f=0;f<a.length;f++){var i=l[a[f]];E?T.push(i[0]):T.push(i)}for(E&&(T=[T]),f=0;f<T.length;f++){var R=1/0;for(w=0;w<T[f].length;w++){var A=T[f][w].trace.legendrank;R>A&&(R=A)}T[f][0]._groupMinRank=R,T[f][0]._preGroupSort=f}var k=function(F,U){return F[0]._groupMinRank-U[0]._groupMinRank||F[0]._preGroupSort-U[0]._preGroupSort},_=function(F,U){return F.trace.legendrank-U.trace.legendrank||F._preSort-U._preSort};for(T.forEach(function(F,U){F[0]._preGroupSort=U}),T.sort(k),f=0;f<T.length;f++){T[f].forEach(function(F,U){F._preSort=U}),T[f].sort(_);var H=T[f][0].trace,z=null;for(w=0;w<T[f].length;w++){var N=T[f][w].trace.legendgrouptitle;if(N&&N.text){z=N,g&&(N.font=y._groupTitleFont);break}}if(r&&T[f].reverse(),z){var O=!1;for(w=0;w<T[f].length;w++)if(p.traceIs(T[f][w].trace,"pie-like")){O=!0;break}T[f].unshift({i:-1,groupTitle:z,noClick:O,trace:{showlegend:H.showlegend,legendgroup:H.legendgroup,visible:y.groupclick==="toggleitem"?!0:H.visible}})}for(w=0;w<T[f].length;w++)T[f][w]=[T[f][w]]}return y._lgroupsLength=T.length,y._maxNameLength=b,T}},85167:function(V,B,e){var p=e(73972),L=e(71828),n=L.pushUnique,C=!0;V.exports=function(h,g,t){var r=g._fullLayout;if(g._dragged||g._editing)return;var l=r.legend.itemclick,a=r.legend.itemdoubleclick,s=r.legend.groupclick;t===1&&l==="toggle"&&a==="toggleothers"&&C&&g.data&&g._context.showTips&&L.notifier(L._(g,"Double-click on legend to isolate one trace"),"long"),C=!1;var c;if(t===1?c=l:t===2&&(c=a),!c)return;var u=s==="togglegroup",b=r.hiddenlabels?r.hiddenlabels.slice():[],f=h.data()[0][0];if(f.groupTitle&&f.noClick)return;var w=g._fullData,v=f.trace,o=v.legendgroup,d,S,M,P,x,E,T={},i=[],R=[],A=[];function k(he,xe,Ae){var Se=i.indexOf(he),Oe=T[xe];return Oe||(Oe=T[xe]=[]),i.indexOf(he)===-1&&(i.push(he),Se=i.length-1),Oe[Se]=Ae,Se}function _(he,xe){if(!(f.groupTitle&&!u)){var Ae=he._fullInput;if(p.hasTransform(Ae,"groupby")){var Se=R[Ae.index];if(!Se){var Oe=p.getTransformIndices(Ae,"groupby"),Ve=Oe[Oe.length-1];Se=L.keyedContainer(Ae,"transforms["+Ve+"].styles","target","value.visible"),R[Ae.index]=Se}var Ee=Se.get(he._group);Ee===void 0&&(Ee=!0),Ee!==!1&&Se.set(he._group,xe),A[Ae.index]=k(Ae.index,"visible",Ae.visible!==!1)}else{var Te=Ae.visible===!1?!1:xe;k(Ae.index,"visible",Te)}}}var H=v.legend;if(p.traceIs(v,"pie-like")){var z=f.label,N=b.indexOf(z);if(c==="toggle")N===-1?b.push(z):b.splice(N,1);else if(c==="toggleothers"){var O=N!==-1,F=[];for(d=0;d<g.calcdata.length;d++){var U=g.calcdata[d];for(S=0;S<U.length;S++){var Z=U[S],q=Z.label;H===U[0].trace.legend&&z!==q&&(b.indexOf(q)===-1&&(O=!0),n(b,q),F.push(q))}}if(!O)for(var J=0;J<F.length;J++){var te=b.indexOf(F[J]);te!==-1&&b.splice(te,1)}}p.call("_guiRelayout",g,"hiddenlabels",b)}else{var fe=o&&o.length,K=[],Y;if(fe)for(d=0;d<w.length;d++)Y=w[d],Y.visible&&Y.legendgroup===o&&K.push(d);if(c==="toggle"){var W;switch(v.visible){case!0:W="legendonly";break;case!1:W=!1;break;case"legendonly":W=!0;break}if(fe)if(u)for(d=0;d<w.length;d++)w[d].visible!==!1&&w[d].legendgroup===o&&_(w[d],W);else _(v,W);else _(v,W)}else if(c==="toggleothers"){var X,re,se,Q,ee=!0;for(d=0;d<w.length;d++)if(X=w[d]===v,se=w[d].showlegend!==!0,!(X||se)&&(re=fe&&w[d].legendgroup===o,!re&&w[d].visible===!0&&!p.traceIs(w[d],"notLegendIsolatable"))){ee=!1;break}for(d=0;d<w.length;d++)if(!(w[d].visible===!1||w[d].legend!==H)&&!p.traceIs(w[d],"notLegendIsolatable"))switch(v.visible){case"legendonly":_(w[d],!0);break;case!0:Q=ee?!0:"legendonly",X=w[d]===v,se=w[d].showlegend!==!0&&!w[d].legendgroup,re=X||fe&&w[d].legendgroup===o,_(w[d],re||se?!0:Q);break}}for(d=0;d<R.length;d++)if(M=R[d],!!M){var le=M.constructUpdate(),oe=Object.keys(le);for(S=0;S<oe.length;S++)P=oe[S],E=T[P]=T[P]||[],E[A[d]]=le[P]}for(x=Object.keys(T),d=0;d<x.length;d++)for(P=x[d],S=0;S<i.length;S++)T[P].hasOwnProperty(S)||(T[P][S]=void 0);p.call("_guiRestyle",g,T,i)}}},10130:function(V,B){B.isGrouped=function(p){return(p.traceorder||"").indexOf("grouped")!==-1},B.isVertical=function(p){return p.orientation!=="h"},B.isReversed=function(p){return(p.traceorder||"").indexOf("reversed")!==-1}},2199:function(V,B,e){V.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(V,B,e){var p=e(39898),L=e(73972),n=e(71828),C=n.strTranslate,y=e(91424),h=e(7901),g=e(52075).extractOpts,t=e(34098),r=e(63463),l=e(53581).castOption,a=e(14928),s=12,c=5,u=2,b=10,f=5;V.exports=function(S,M,P){var x=M._fullLayout;P||(P=x.legend);var E=P.itemsizing==="constant",T=P.itemwidth,i=(T+a.itemGap*2)/2,R=C(i,0),A=function(K,Y,W,X){var re;if(K+1)re=K;else if(Y&&Y.width>0)re=Y.width;else return 0;return E?X:Math.min(re,W)};S.each(function(K){var Y=p.select(this),W=n.ensureSingle(Y,"g","layers");W.style("opacity",K[0].trace.opacity);var X=P.valign,re=K[0].lineHeight,se=K[0].height;if(X==="middle"||!re||!se)W.attr("transform",null);else{var Q={top:1,bottom:-1}[X],ee=Q*(.5*(re-se+3));W.attr("transform",C(0,ee))}var le=W.selectAll("g.legendfill").data([K]);le.enter().append("g").classed("legendfill",!0);var oe=W.selectAll("g.legendlines").data([K]);oe.enter().append("g").classed("legendlines",!0);var he=W.selectAll("g.legendsymbols").data([K]);he.enter().append("g").classed("legendsymbols",!0),he.selectAll("g.legendpoints").data([K]).enter().append("g").classed("legendpoints",!0)}).each(fe).each(H).each(N).each(z).each(F).each(J).each(q).each(k).each(_).each(U).each(Z);function k(K){var Y=v(K),W=Y.showFill,X=Y.showLine,re=Y.showGradientLine,se=Y.showGradientFill,Q=Y.anyFill,ee=Y.anyLine,le=K[0],oe=le.trace,he,xe,Ae=g(oe),Se=Ae.colorscale,Oe=Ae.reversescale,Ve=function(We){if(We.size())if(W)y.fillGroupStyle(We,M);else{var nt="legendfill-"+oe.uid;y.gradient(We,M,nt,w(Oe),Se,"fill")}},Ee=function(We){if(We.size()){var nt="legendline-"+oe.uid;y.lineGroupStyle(We),y.gradient(We,M,nt,w(Oe),Se,"stroke")}},Te=t.hasMarkers(oe)||!Q?"M5,0":ee?"M5,-2":"M5,-3",Le=p.select(this),Ge=Le.select(".legendfill").selectAll("path").data(W||se?[K]:[]);if(Ge.enter().append("path").classed("js-fill",!0),Ge.exit().remove(),Ge.attr("d",Te+"h"+T+"v6h-"+T+"z").call(Ve),X||re){var He=A(void 0,oe.line,b,c);xe=n.minExtend(oe,{line:{width:He}}),he=[n.minExtend(le,{trace:xe})]}var ke=Le.select(".legendlines").selectAll("path").data(X||re?[he]:[]);ke.enter().append("path").classed("js-line",!0),ke.exit().remove(),ke.attr("d",Te+(re?"l"+T+",0.0001":"h"+T)).call(X?y.lineGroupStyle:Ee)}function _(K){var Y=v(K),W=Y.anyFill,X=Y.anyLine,re=Y.showLine,se=Y.showMarker,Q=K[0],ee=Q.trace,le=!se&&!X&&!W&&t.hasText(ee),oe,he;function xe(Ge,He,ke,We){var nt=n.nestedProperty(ee,Ge).get(),qe=n.isArrayOrTypedArray(nt)&&He?He(nt):nt;if(E&&qe&&We!==void 0&&(qe=We),ke){if(qe<ke[0])return ke[0];if(qe>ke[1])return ke[1]}return qe}function Ae(Ge){return Q._distinct&&Q.index&&Ge[Q.index]?Ge[Q.index]:Ge[0]}if(se||le||re){var Se={},Oe={};if(se){Se.mc=xe("marker.color",Ae),Se.mx=xe("marker.symbol",Ae),Se.mo=xe("marker.opacity",n.mean,[.2,1]),Se.mlc=xe("marker.line.color",Ae),Se.mlw=xe("marker.line.width",n.mean,[0,5],u),Oe.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Ve=xe("marker.size",n.mean,[2,16],s);Se.ms=Ve,Oe.marker.size=Ve}re&&(Oe.line={width:xe("line.width",Ae,[0,10],c)}),le&&(Se.tx="Aa",Se.tp=xe("textposition",Ae),Se.ts=10,Se.tc=xe("textfont.color",Ae),Se.tf=xe("textfont.family",Ae)),oe=[n.minExtend(Q,Se)],he=n.minExtend(ee,Oe),he.selectedpoints=null,he.texttemplate=null}var Ee=p.select(this).select("g.legendpoints"),Te=Ee.selectAll("path.scatterpts").data(se?oe:[]);Te.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",R),Te.exit().remove(),Te.call(y.pointStyle,he,M),se&&(oe[0].mrc=3);var Le=Ee.selectAll("g.pointtext").data(le?oe:[]);Le.enter().append("g").classed("pointtext",!0).append("text").attr("transform",R),Le.exit().remove(),Le.selectAll("text").call(y.textPointStyle,he,M)}function H(K){var Y=K[0].trace,W=Y.type==="waterfall";if(K[0]._distinct&&W){var X=K[0].trace[K[0].dir].marker;return K[0].mc=X.color,K[0].mlw=X.line.width,K[0].mlc=X.line.color,O(K,this,"waterfall")}var re=[];Y.visible&&W&&(re=K[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var se=p.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(re);se.enter().append("path").classed("legendwaterfall",!0).attr("transform",R).style("stroke-miterlimit",1),se.exit().remove(),se.each(function(Q){var ee=p.select(this),le=Y[Q[0]].marker,oe=A(void 0,le.line,f,u);ee.attr("d",Q[1]).style("stroke-width",oe+"px").call(h.fill,le.color),oe&&ee.call(h.stroke,le.line.color)})}function z(K){O(K,this)}function N(K){O(K,this,"funnel")}function O(K,Y,W){var X=K[0].trace,re=X.marker||{},se=re.line||{},Q=W?X.visible&&X.type===W:L.traceIs(X,"bar"),ee=p.select(Y).select("g.legendpoints").selectAll("path.legend"+W).data(Q?[K]:[]);ee.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",R),ee.exit().remove(),ee.each(function(le){var oe=p.select(this),he=le[0],xe=A(he.mlw,re.line,f,u);oe.style("stroke-width",xe+"px");var Ae=he.mcc;if(!P._inHover&&"mc"in he){var Se=g(re),Oe=Se.mid;Oe===void 0&&(Oe=(Se.max+Se.min)/2),Ae=y.tryColorscale(re,"")(Oe)}var Ve=Ae||he.mc||re.color,Ee=re.pattern,Te=Ee&&y.getPatternAttr(Ee.shape,0,"");if(Te){var Le=y.getPatternAttr(Ee.bgcolor,0,null),Ge=y.getPatternAttr(Ee.fgcolor,0,null),He=Ee.fgopacity,ke=o(Ee.size,8,10),We=o(Ee.solidity,.5,1),nt="legend-"+X.uid;oe.call(y.pattern,"legend",M,nt,Te,ke,We,Ae,Ee.fillmode,Le,Ge,He)}else oe.call(h.fill,Ve);xe&&h.stroke(oe,he.mlc||se.color)})}function F(K){var Y=K[0].trace,W=p.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Y.visible&&L.traceIs(Y,"box-violin")?[K]:[]);W.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",R),W.exit().remove(),W.each(function(){var X=p.select(this);if((Y.boxpoints==="all"||Y.points==="all")&&h.opacity(Y.fillcolor)===0&&h.opacity((Y.line||{}).color)===0){var re=n.minExtend(Y,{marker:{size:E?s:n.constrain(Y.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});W.call(y.pointStyle,re,M)}else{var se=A(void 0,Y.line,f,u);X.style("stroke-width",se+"px").call(h.fill,Y.fillcolor),se&&h.stroke(X,Y.line.color)}})}function U(K){var Y=K[0].trace,W=p.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Y.visible&&Y.type==="candlestick"?[K,K]:[]);W.enter().append("path").classed("legendcandle",!0).attr("d",function(X,re){return re?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",R).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(X,re){var se=p.select(this),Q=Y[re?"increasing":"decreasing"],ee=A(void 0,Q.line,f,u);se.style("stroke-width",ee+"px").call(h.fill,Q.fillcolor),ee&&h.stroke(se,Q.line.color)})}function Z(K){var Y=K[0].trace,W=p.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Y.visible&&Y.type==="ohlc"?[K,K]:[]);W.enter().append("path").classed("legendohlc",!0).attr("d",function(X,re){return re?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",R).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(X,re){var se=p.select(this),Q=Y[re?"increasing":"decreasing"],ee=A(void 0,Q.line,f,u);se.style("fill","none").call(y.dashLine,Q.line.dash,ee),ee&&h.stroke(se,Q.line.color)})}function q(K){te(K,this,"pie")}function J(K){te(K,this,"funnelarea")}function te(K,Y,W){var X=K[0],re=X.trace,se=W?re.visible&&re.type===W:L.traceIs(re,W),Q=p.select(Y).select("g.legendpoints").selectAll("path.legend"+W).data(se?[K]:[]);if(Q.enter().append("path").classed("legend"+W,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",R),Q.exit().remove(),Q.size()){var ee=re.marker||{},le=A(l(ee.line.width,X.pts),ee.line,f,u),oe="pieLike",he=n.minExtend(re,{marker:{line:{width:le}}},oe),xe=n.minExtend(X,{trace:he},oe);r(Q,xe,he,M)}}function fe(K){var Y=K[0].trace,W,X=[];if(Y.visible)switch(Y.type){case"histogram2d":case"heatmap":X=[["M-15,-2V4H15V-2Z"]],W=!0;break;case"choropleth":case"choroplethmapbox":X=[["M-6,-6V6H6V-6Z"]],W=!0;break;case"densitymapbox":X=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],W="radial";break;case"cone":X=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],W=!1;break;case"streamtube":X=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],W=!1;break;case"surface":X=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],W=!0;break;case"mesh3d":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],W=!1;break;case"volume":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],W=!0;break;case"isosurface":X=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],W=!1;break}var re=p.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(X);re.enter().append("path").classed("legend3dandfriends",!0).attr("transform",R).style("stroke-miterlimit",1),re.exit().remove(),re.each(function(se,Q){var ee=p.select(this),le=g(Y),oe=le.colorscale,he=le.reversescale,xe=function(Ve){if(Ve.size()){var Ee="legendfill-"+Y.uid;y.gradient(Ve,M,Ee,w(he,W==="radial"),oe,"fill")}},Ae;if(oe){if(!W){var Oe=oe.length;Ae=Q===0?oe[he?Oe-1:0][1]:Q===1?oe[he?0:Oe-1][1]:oe[Math.floor((Oe-1)/2)][1]}}else{var Se=Y.vertexcolor||Y.facecolor||Y.color;Ae=n.isArrayOrTypedArray(Se)?Se[Q]||Se[0]:Se}ee.attr("d",se[0]),Ae?ee.call(h.fill,Ae):ee.call(xe)})}};function w(d,S){var M=S?"radial":"horizontal";return M+(d?"":"reversed")}function v(d){var S=d[0].trace,M=S.contours,P=t.hasLines(S),x=t.hasMarkers(S),E=S.visible&&S.fill&&S.fill!=="none",T=!1,i=!1;if(M){var R=M.coloring;R==="lines"?T=!0:P=R==="none"||R==="heatmap"||M.showlines,M.type==="constraint"?E=M._operation!=="=":(R==="fill"||R==="heatmap")&&(i=!0)}return{showMarker:x,showLine:P,showFill:E,showGradientLine:T,showGradientFill:i,anyLine:P||T,anyFill:E||i}}function o(d,S,M){return d&&n.isArrayOrTypedArray(d)?S:d>M?M:d}},42068:function(V,B,e){e(93348),V.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(V,B,e){var p=e(73972),L=e(74875),n=e(41675),C=e(24255),y=e(34031).eraseActiveShape,h=e(71828),g=h._,t=V.exports={};t.toImage={name:"toImage",title:function(d){var S=d._context.toImageButtonOptions||{},M=S.format||"png";return M==="png"?g(d,"Download plot as a png"):g(d,"Download plot")},icon:C.camera,click:function(d){var S=d._context.toImageButtonOptions,M={format:S.format||"png"};h.notifier(g(d,"Taking snapshot - this may take a few seconds"),"long"),M.format!=="svg"&&h.isIE()&&(h.notifier(g(d,"IE only supports svg.  Changing format to svg."),"long"),M.format="svg"),["filename","width","height","scale"].forEach(function(P){P in S&&(M[P]=S[P])}),p.call("downloadImage",d,M).then(function(P){h.notifier(g(d,"Snapshot succeeded")+" - "+P,"long")}).catch(function(){h.notifier(g(d,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(d){return g(d,"Edit in Chart Studio")},icon:C.disk,click:function(d){L.sendDataToCloud(d)}},t.editInChartStudio={name:"editInChartStudio",title:function(d){return g(d,"Edit in Chart Studio")},icon:C.pencil,click:function(d){L.sendDataToCloud(d)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(d){return g(d,"Zoom")},attr:"dragmode",val:"zoom",icon:C.zoombox,click:r},t.pan2d={name:"pan2d",_cat:"pan",title:function(d){return g(d,"Pan")},attr:"dragmode",val:"pan",icon:C.pan,click:r},t.select2d={name:"select2d",_cat:"select",title:function(d){return g(d,"Box Select")},attr:"dragmode",val:"select",icon:C.selectbox,click:r},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(d){return g(d,"Lasso Select")},attr:"dragmode",val:"lasso",icon:C.lasso,click:r},t.drawclosedpath={name:"drawclosedpath",title:function(d){return g(d,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:C.drawclosedpath,click:r},t.drawopenpath={name:"drawopenpath",title:function(d){return g(d,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:C.drawopenpath,click:r},t.drawline={name:"drawline",title:function(d){return g(d,"Draw line")},attr:"dragmode",val:"drawline",icon:C.drawline,click:r},t.drawrect={name:"drawrect",title:function(d){return g(d,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:C.drawrect,click:r},t.drawcircle={name:"drawcircle",title:function(d){return g(d,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:C.drawcircle,click:r},t.eraseshape={name:"eraseshape",title:function(d){return g(d,"Erase active shape")},icon:C.eraseshape,click:y},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:r},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:r},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(d){return g(d,"Autoscale")},attr:"zoom",val:"auto",icon:C.autoscale,click:r},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(d){return g(d,"Reset axes")},attr:"zoom",val:"reset",icon:C.home,click:r},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(d){return g(d,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:r},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(d){return g(d,"Compare data on hover")},attr:"hovermode",val:function(d){return d._fullLayout._isHoriz?"y":"x"},icon:C.tooltip_compare,gravity:"ne",click:r};function r(d,S){var M=S.currentTarget,P=M.getAttribute("data-attr"),x=M.getAttribute("data-val")||!0,E=d._fullLayout,T={},i=n.list(d,null,!0),R=E._cartesianSpikesEnabled,A,k;if(P==="zoom"){var _=x==="in"?.5:2,H=(1+_)/2,z=(1-_)/2,N;for(k=0;k<i.length;k++)if(A=i[k],!A.fixedrange)if(N=A._name,x==="auto")T[N+".autorange"]=!0;else if(x==="reset"){if(A._rangeInitial===void 0)T[N+".autorange"]=!0;else{var O=A._rangeInitial.slice();T[N+".range[0]"]=O[0],T[N+".range[1]"]=O[1]}A._showSpikeInitial!==void 0&&(T[N+".showspikes"]=A._showSpikeInitial,R==="on"&&!A._showSpikeInitial&&(R="off"))}else{var F=[A.r2l(A.range[0]),A.r2l(A.range[1])],U=[H*F[0]+z*F[1],H*F[1]+z*F[0]];T[N+".range[0]"]=A.l2r(U[0]),T[N+".range[1]"]=A.l2r(U[1])}}else P==="hovermode"&&(x==="x"||x==="y")&&(x=E._isHoriz?"y":"x",M.setAttribute("data-val",x)),T[P]=x;E._cartesianSpikesEnabled=R,p.call("_guiRelayout",d,T)}t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(d){return g(d,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:C.zoombox,click:l},t.pan3d={name:"pan3d",_cat:"pan",title:function(d){return g(d,"Pan")},attr:"scene.dragmode",val:"pan",icon:C.pan,click:l},t.orbitRotation={name:"orbitRotation",title:function(d){return g(d,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:C["3d_rotate"],click:l},t.tableRotation={name:"tableRotation",title:function(d){return g(d,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:C["z-axis"],click:l};function l(d,S){for(var M=S.currentTarget,P=M.getAttribute("data-attr"),x=M.getAttribute("data-val")||!0,E=d._fullLayout._subplots.gl3d||[],T={},i=P.split("."),R=0;R<E.length;R++)T[E[R]+"."+i[1]]=x;var A=x==="pan"?x:"zoom";T.dragmode=A,p.call("_guiRelayout",d,T)}t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(d){return g(d,"Reset camera to default")},attr:"resetDefault",icon:C.home,click:a},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(d){return g(d,"Reset camera to last save")},attr:"resetLastSave",icon:C.movie,click:a};function a(d,S){for(var M=S.currentTarget,P=M.getAttribute("data-attr"),x=P==="resetLastSave",E=P==="resetDefault",T=d._fullLayout,i=T._subplots.gl3d||[],R={},A=0;A<i.length;A++){var k=i[A],_=k+".camera",H=k+".aspectratio",z=k+".aspectmode",N=T[k]._scene,O;x?(R[_+".up"]=N.viewInitial.up,R[_+".eye"]=N.viewInitial.eye,R[_+".center"]=N.viewInitial.center,O=!0):E&&(R[_+".up"]=null,R[_+".eye"]=null,R[_+".center"]=null,O=!0),O&&(R[H+".x"]=N.viewInitial.aspectratio.x,R[H+".y"]=N.viewInitial.aspectratio.y,R[H+".z"]=N.viewInitial.aspectratio.z,R[z]=N.viewInitial.aspectmode)}p.call("_guiRelayout",d,R)}t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:c};function s(d,S){var M=S.currentTarget,P=M._previousVal,x=d._fullLayout,E=x._subplots.gl3d||[],T=["xaxis","yaxis","zaxis"],i={},R={};if(P)R=P,M._previousVal=null;else{for(var A=0;A<E.length;A++){var k=E[A],_=x[k],H=k+".hovermode";i[H]=_.hovermode,R[H]=!1;for(var z=0;z<3;z++){var N=T[z],O=k+"."+N+".showspikes";R[O]=!1,i[O]=_[N].showspikes}}M._previousVal=i}return R}function c(d,S){var M=s(d,S);p.call("_guiRelayout",d,M)}t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:u},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:u},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(d){return g(d,"Reset")},attr:"reset",val:null,icon:C.autoscale,click:u},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:f};function u(d,S){for(var M=S.currentTarget,P=M.getAttribute("data-attr"),x=M.getAttribute("data-val")||!0,E=d._fullLayout,T=E._subplots.geo||[],i=0;i<T.length;i++){var R=T[i],A=E[R];if(P==="zoom"){var k=A.projection.scale,_=x==="in"?2*k:.5*k;p.call("_guiRelayout",d,R+".projection.scale",_)}}P==="reset"&&o(d,"geo")}t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:f},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:C.tooltip_basic,gravity:"ne",click:f};function b(d){var S=d._fullLayout;return S.hovermode?!1:S._has("cartesian")?S._isHoriz?"y":"x":"closest"}function f(d){var S=b(d);p.call("_guiRelayout",d,"hovermode",S)}t.resetViewSankey={name:"resetSankeyGroup",title:function(d){return g(d,"Reset view")},icon:C.home,click:function(d){for(var S={"node.groups":[],"node.x":[],"node.y":[]},M=0;M<d._fullData.length;M++){var P=d._fullData[M]._viewInitial;S["node.groups"].push(P.node.groups.slice()),S["node.x"].push(P.node.x.slice()),S["node.y"].push(P.node.y.slice())}p.call("restyle",d,S)}},t.toggleHover={name:"toggleHover",title:function(d){return g(d,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:C.tooltip_basic,gravity:"ne",click:function(d,S){var M=s(d,S);M.hovermode=b(d),p.call("_guiRelayout",d,M)}},t.resetViews={name:"resetViews",title:function(d){return g(d,"Reset views")},icon:C.home,click:function(d,S){var M=S.currentTarget;M.setAttribute("data-attr","zoom"),M.setAttribute("data-val","reset"),r(d,S),M.setAttribute("data-attr","resetLastSave"),a(d,S),o(d,"geo"),o(d,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(d){return g(d,"Toggle Spike Lines")},icon:C.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(d){var S=d._fullLayout,M=S._cartesianSpikesEnabled;S._cartesianSpikesEnabled=M==="on"?"off":"on",p.call("_guiRelayout",d,w(d))}};function w(d){for(var S=d._fullLayout,M=S._cartesianSpikesEnabled==="on",P=n.list(d,null,!0),x={},E=0;E<P.length;E++){var T=P[E];x[T._name+".showspikes"]=M?!0:T._showSpikeInitial}return x}t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(d){return g(d,"Reset view")},attr:"reset",icon:C.home,click:function(d){o(d,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(d){return g(d,"Zoom in")},attr:"zoom",val:"in",icon:C.zoom_plus,click:v},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(d){return g(d,"Zoom out")},attr:"zoom",val:"out",icon:C.zoom_minus,click:v};function v(d,S){for(var M=S.currentTarget,P=M.getAttribute("data-val"),x=d._fullLayout,E=x._subplots.mapbox||[],T=1.05,i={},R=0;R<E.length;R++){var A=E[R],k=x[A].zoom,_=P==="in"?T*k:k/T;i[A+".zoom"]=_}p.call("_guiRelayout",d,i)}function o(d,S){for(var M=d._fullLayout,P=M._subplots[S]||[],x={},E=0;E<P.length;E++)for(var T=P[E],i=M[T]._subplot,R=i.viewInitial,A=Object.keys(R),k=0;k<A.length;k++){var _=A[k];x[T+"."+_]=R[_]}p.call("_guiRelayout",d,x)}},93348:function(V,B,e){var p=e(26023),L=Object.keys(p),n=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],C=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(n),y=[],h=function(g){if(C.indexOf(g._cat||g.name)===-1){var t=g.name,r=(g._cat||g.name).toLowerCase();y.indexOf(t)===-1&&y.push(t),y.indexOf(r)===-1&&y.push(r)}};L.forEach(function(g){h(p[g])}),y.sort(),V.exports={DRAW_MODES:n,backButtons:C,foreButtons:y}},35750:function(V,B,e){var p=e(71828),L=e(7901),n=e(44467),C=e(42068);V.exports=function(h,g){var t=h.modebar||{},r=n.newContainer(g,"modebar");function l(s,c){return p.coerce(t,r,C,s,c)}l("orientation"),l("bgcolor",L.addOpacity(g.paper_bgcolor,.5));var a=L.contrast(L.rgb(g.modebar.bgcolor));l("color",L.addOpacity(a,.3)),l("activecolor",L.addOpacity(a,.7)),l("uirevision",g.uirevision),l("add"),l("remove")}},64168:function(V,B,e){V.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(V,B,e){var p=e(41675),L=e(34098),n=e(73972),C=e(23469).isUnifiedHover,y=e(37676),h=e(26023),g=e(93348).DRAW_MODES,t=e(71828).extendDeep;V.exports=function(f){var w=f._fullLayout,v=f._context,o=w._modeBar;if(!v.displayModeBar&&!v.watermark){o&&(o.destroy(),delete w._modeBar);return}if(!Array.isArray(v.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(v.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=v.modeBarButtons,S;Array.isArray(d)&&d.length?S=u(d):!v.displayModeBar&&v.watermark?S=[]:S=r(f),o?o.update(f,S):w._modeBar=y(f,S)};function r(b){var f=b._fullLayout,w=b._fullData,v=b._context;function o(Q,ee){if(typeof ee=="string"){if(ee.toLowerCase()===Q.toLowerCase())return!0}else{var le=ee.name,oe=ee._cat||ee.name;if(le===Q||oe===Q.toLowerCase())return!0}return!1}var d=f.modebar.add;typeof d=="string"&&(d=[d]);var S=f.modebar.remove;typeof S=="string"&&(S=[S]);var M=v.modeBarButtonsToAdd.concat(d.filter(function(Q){for(var ee=0;ee<v.modeBarButtonsToRemove.length;ee++)if(o(Q,v.modeBarButtonsToRemove[ee]))return!1;return!0})),P=v.modeBarButtonsToRemove.concat(S.filter(function(Q){for(var ee=0;ee<v.modeBarButtonsToAdd.length;ee++)if(o(Q,v.modeBarButtonsToAdd[ee]))return!1;return!0})),x=f._has("cartesian"),E=f._has("gl3d"),T=f._has("geo"),i=f._has("pie"),R=f._has("funnelarea"),A=f._has("gl2d"),k=f._has("ternary"),_=f._has("mapbox"),H=f._has("polar"),z=f._has("smith"),N=f._has("sankey"),O=l(f),F=C(f.hovermode),U=[];function Z(Q){if(Q.length){for(var ee=[],le=0;le<Q.length;le++){for(var oe=Q[le],he=h[oe],xe=he.name.toLowerCase(),Ae=(he._cat||he.name).toLowerCase(),Se=!1,Oe=0;Oe<P.length;Oe++){var Ve=P[Oe].toLowerCase();if(Ve===xe||Ve===Ae){Se=!0;break}}Se||ee.push(h[oe])}U.push(ee)}}var q=["toImage"];v.showEditInChartStudio?q.push("editInChartStudio"):v.showSendToCloud&&q.push("sendDataToCloud"),Z(q);var J=[],te=[],fe=[],K=[];(x||A||i||R||k)+T+E+_+H+z>1?(te=["toggleHover"],fe=["resetViews"]):T?(J=["zoomInGeo","zoomOutGeo"],te=["hoverClosestGeo"],fe=["resetGeo"]):E?(te=["hoverClosest3d"],fe=["resetCameraDefault3d","resetCameraLastSave3d"]):_?(J=["zoomInMapbox","zoomOutMapbox"],te=["toggleHover"],fe=["resetViewMapbox"]):A?te=["hoverClosestGl2d"]:i?te=["hoverClosestPie"]:N?(te=["hoverClosestCartesian","hoverCompareCartesian"],fe=["resetViewSankey"]):te=["toggleHover"],x&&(te=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(s(w)||F)&&(te=[]),(x||A)&&!O&&(J=["zoomIn2d","zoomOut2d","autoScale2d"],fe[0]!=="resetViews"&&(fe=["resetScale2d"])),E?K=["zoom3d","pan3d","orbitRotation","tableRotation"]:(x||A)&&!O||k?K=["zoom2d","pan2d"]:_||T?K=["pan2d"]:H&&(K=["zoom2d"]),a(w)&&K.push("select2d","lasso2d");var Y=[],W=function(Q){Y.indexOf(Q)===-1&&te.indexOf(Q)!==-1&&Y.push(Q)};if(Array.isArray(M)){for(var X=[],re=0;re<M.length;re++){var se=M[re];typeof se=="string"?(se=se.toLowerCase(),g.indexOf(se)!==-1?(f._has("mapbox")||f._has("cartesian"))&&K.push(se):se==="togglespikelines"?W("toggleSpikelines"):se==="togglehover"?W("toggleHover"):se==="hovercompare"?W("hoverCompareCartesian"):se==="hoverclosest"?(W("hoverClosestCartesian"),W("hoverClosestGeo"),W("hoverClosest3d"),W("hoverClosestGl2d"),W("hoverClosestPie")):se==="v1hovermode"&&(W("toggleHover"),W("hoverClosestCartesian"),W("hoverCompareCartesian"),W("hoverClosestGeo"),W("hoverClosest3d"),W("hoverClosestGl2d"),W("hoverClosestPie"))):X.push(se)}M=X}return Z(K),Z(J.concat(fe)),Z(Y),c(U,M)}function l(b){for(var f=p.list({_fullLayout:b},null,!0),w=0;w<f.length;w++)if(!f[w].fixedrange)return!1;return!0}function a(b){for(var f=!1,w=0;w<b.length&&!f;w++){var v=b[w];!v._module||!v._module.selectPoints||(n.traceIs(v,"scatter-like")?(L.hasMarkers(v)||L.hasText(v))&&(f=!0):n.traceIs(v,"box-violin")?(v.boxpoints==="all"||v.points==="all")&&(f=!0):f=!0)}return f}function s(b){for(var f=0;f<b.length;f++)if(!n.traceIs(b[f],"noHover"))return!1;return!0}function c(b,f){if(f.length)if(Array.isArray(f[0]))for(var w=0;w<f.length;w++)b.push(f[w]);else b.push(f);return b}function u(b){for(var f=t([],b),w=0;w<f.length;w++)for(var v=f[w],o=0;o<v.length;o++){var d=v[o];if(typeof d=="string")if(h[d]!==void 0)f[w][o]=h[d];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return f}},37676:function(V,B,e){var p=e(39898),L=e(92770),n=e(71828),C=e(24255),y=e(11506).version,h=new DOMParser;function g(a){this.container=a.container,this.element=document.createElement("div"),this.update(a.graphInfo,a.buttons),this.container.appendChild(this.element)}var t=g.prototype;t.update=function(a,s){this.graphInfo=a;var c=this.graphInfo._context,u=this.graphInfo._fullLayout,b="modebar-"+u._uid;this.element.setAttribute("id",b),this._uid=b,this.element.className="modebar",c.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),u.modebar.orientation==="v"&&(this.element.className+=" vertical",s=s.reverse());var f=u.modebar,w=c.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";n.deleteRelatedStyleRule(b),n.addRelatedStyleRule(b,w+"#"+b+" .modebar-group","background-color: "+f.bgcolor),n.addRelatedStyleRule(b,"#"+b+" .modebar-btn .icon path","fill: "+f.color),n.addRelatedStyleRule(b,"#"+b+" .modebar-btn:hover .icon path","fill: "+f.activecolor),n.addRelatedStyleRule(b,"#"+b+" .modebar-btn.active .icon path","fill: "+f.activecolor);var v=!this.hasButtons(s),o=this.hasLogo!==c.displaylogo,d=this.locale!==c.locale;if(this.locale=c.locale,(v||o||d)&&(this.removeAllButtons(),this.updateButtons(s),c.watermark||c.displaylogo)){var S=this.getLogo();c.watermark&&(S.className=S.className+" watermark"),u.modebar.orientation==="v"?this.element.insertBefore(S,this.element.childNodes[0]):this.element.appendChild(S),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(a){var s=this;this.buttons=a,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(c){var u=s.createGroup();c.forEach(function(b){var f=b.name;if(!f)throw new Error("must provide button 'name' in button config");if(s.buttonsNames.indexOf(f)!==-1)throw new Error("button name '"+f+"' is taken");s.buttonsNames.push(f);var w=s.createButton(b);s.buttonElements.push(w),u.appendChild(w)}),s.element.appendChild(u)})},t.createGroup=function(){var a=document.createElement("div");return a.className="modebar-group",a},t.createButton=function(a){var s=this,c=document.createElement("a");c.setAttribute("rel","tooltip"),c.className="modebar-btn";var u=a.title;u===void 0?u=a.name:typeof u=="function"&&(u=u(this.graphInfo)),(u||u===0)&&c.setAttribute("data-title",u),a.attr!==void 0&&c.setAttribute("data-attr",a.attr);var b=a.val;b!==void 0&&(typeof b=="function"&&(b=b(this.graphInfo)),c.setAttribute("data-val",b));var f=a.click;if(typeof f!="function")throw new Error("must provide button 'click' function in button config");c.addEventListener("click",function(v){a.click(s.graphInfo,v),s.updateActiveButton(v.currentTarget)}),c.setAttribute("data-toggle",a.toggle||!1),a.toggle&&p.select(c).classed("active",!0);var w=a.icon;return typeof w=="function"?c.appendChild(w()):c.appendChild(this.createIcon(w||C.question)),c.setAttribute("data-gravity",a.gravity||"n"),c},t.createIcon=function(a){var s=L(a.height)?Number(a.height):a.ascent-a.descent,c="http://www.w3.org/2000/svg",u;if(a.path){u=document.createElementNS(c,"svg"),u.setAttribute("viewBox",[0,0,a.width,s].join(" ")),u.setAttribute("class","icon");var b=document.createElementNS(c,"path");b.setAttribute("d",a.path),a.transform?b.setAttribute("transform",a.transform):a.ascent!==void 0&&b.setAttribute("transform","matrix(1 0 0 -1 0 "+a.ascent+")"),u.appendChild(b)}if(a.svg){var f=h.parseFromString(a.svg,"application/xml");u=f.childNodes[0]}return u.setAttribute("height","1em"),u.setAttribute("width","1em"),u},t.updateActiveButton=function(a){var s=this.graphInfo._fullLayout,c=a!==void 0?a.getAttribute("data-attr"):null;this.buttonElements.forEach(function(u){var b=u.getAttribute("data-val")||!0,f=u.getAttribute("data-attr"),w=u.getAttribute("data-toggle")==="true",v=p.select(u);if(w)f===c&&v.classed("active",!v.classed("active"));else{var o=f===null?f:n.nestedProperty(s,f).get();v.classed("active",o===b)}})},t.hasButtons=function(a){var s=this.buttons;if(!s||a.length!==s.length)return!1;for(var c=0;c<a.length;++c){if(a[c].length!==s[c].length)return!1;for(var u=0;u<a[c].length;u++)if(a[c][u].name!==s[c][u].name)return!1}return!0};function r(a){return a+" (v"+y+")"}t.getLogo=function(){var a=this.createGroup(),s=document.createElement("a");return s.href="https://plotly.com/",s.target="_blank",s.setAttribute("data-title",r(n._(this.graphInfo,"Produced with Plotly.js"))),s.className="modebar-btn plotlyjsicon modebar-btn--logo",s.appendChild(this.createIcon(C.newplotlylogo)),a.appendChild(s),a},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){n.removeElement(this.container.querySelector(".modebar")),n.deleteRelatedStyleRule(this._uid)};function l(a,s){var c=a._fullLayout,u=new g({graphInfo:a,container:c._modebardiv.node(),buttons:s});return c._privateplot&&p.select(u.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),u}V.exports=l},37113:function(V,B,e){var p=e(41940),L=e(22399),n=e(44467).templatedArray,C=n("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});V.exports={visible:{valType:"boolean",editType:"plot"},buttons:C,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:p({editType:"plot"}),bgcolor:{valType:"color",dflt:L.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:L.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(V){V.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(V,B,e){var p=e(71828),L=e(7901),n=e(44467),C=e(85501),y=e(37113),h=e(89573);V.exports=function(l,a,s,c,u){var b=l.rangeselector||{},f=n.newContainer(a,"rangeselector");function w(M,P){return p.coerce(b,f,y,M,P)}var v=C(b,f,{name:"buttons",handleItemDefaults:g,calendar:u}),o=w("visible",v.length>0);if(o){var d=t(a,s,c);w("x",d[0]),w("y",d[1]),p.noneOrAll(l,a,["x","y"]),w("xanchor"),w("yanchor"),p.coerceFont(w,"font",s.font);var S=w("bgcolor");w("activecolor",L.contrast(S,h.lightAmount,h.darkAmount)),w("bordercolor"),w("borderwidth")}};function g(r,l,a,s){var c=s.calendar;function u(w,v){return p.coerce(r,l,y.buttons,w,v)}var b=u("visible");if(b){var f=u("step");f!=="all"&&(c&&c!=="gregorian"&&(f==="month"||f==="year")?l.stepmode="backward":u("stepmode"),u("count")),u("label")}}function t(r,l,a){for(var s=a.filter(function(f){return l[f].anchor===r._id}),c=0,u=0;u<s.length;u++){var b=l[s[u]].domain;b&&(c=Math.max(b[1],c))}return[r.domain[0],c+h.yPad]}},21598:function(V,B,e){var p=e(39898),L=e(73972),n=e(74875),C=e(7901),y=e(91424),h=e(71828),g=h.strTranslate,t=e(63893),r=e(41675),l=e(18783),a=l.LINE_SPACING,s=l.FROM_TL,c=l.FROM_BR,u=e(89573),b=e(70565);V.exports=function(E){var T=E._fullLayout,i=T._infolayer.selectAll(".rangeselector").data(f(E),w);i.enter().append("g").classed("rangeselector",!0),i.exit().remove(),i.style({cursor:"pointer","pointer-events":"all"}),i.each(function(R){var A=p.select(this),k=R,_=k.rangeselector,H=A.selectAll("g.button").data(h.filterVisible(_.buttons));H.enter().append("g").classed("button",!0),H.exit().remove(),H.each(function(z){var N=p.select(this),O=b(k,z);z._isActive=v(k,z,O),N.call(o,_,z),N.call(S,_,z,E),N.on("click",function(){E._dragged||L.call("_guiRelayout",E,O)}),N.on("mouseover",function(){z._isHovered=!0,N.call(o,_,z)}),N.on("mouseout",function(){z._isHovered=!1,N.call(o,_,z)})}),P(E,H,_,k._name,A)})};function f(x){for(var E=r.list(x,"x",!0),T=[],i=0;i<E.length;i++){var R=E[i];R.rangeselector&&R.rangeselector.visible&&T.push(R)}return T}function w(x){return x._id}function v(x,E,T){if(E.step==="all")return x.autorange===!0;var i=Object.keys(T);return x.range[0]===T[i[0]]&&x.range[1]===T[i[1]]}function o(x,E,T){var i=h.ensureSingle(x,"rect","selector-rect",function(R){R.attr("shape-rendering","crispEdges")});i.attr({rx:u.rx,ry:u.ry}),i.call(C.stroke,E.bordercolor).call(C.fill,d(E,T)).style("stroke-width",E.borderwidth+"px")}function d(x,E){return E._isActive||E._isHovered?x.activecolor:x.bgcolor}function S(x,E,T,i){function R(k){t.convertToTspans(k,i)}var A=h.ensureSingle(x,"text","selector-text",function(k){k.attr("text-anchor","middle")});A.call(y.font,E.font).text(M(T,i._fullLayout._meta)).call(R)}function M(x,E){return x.label?E?h.templateString(x.label,E):x.label:x.step==="all"?"all":x.count+x.step.charAt(0)}function P(x,E,T,i,R){var A=0,k=0,_=T.borderwidth;E.each(function(){var U=p.select(this),Z=U.select(".selector-text"),q=T.font.size*a,J=Math.max(q*t.lineCount(Z),16)+3;k=Math.max(k,J)}),E.each(function(){var U=p.select(this),Z=U.select(".selector-rect"),q=U.select(".selector-text"),J=q.node()&&y.bBox(q.node()).width,te=T.font.size*a,fe=t.lineCount(q),K=Math.max(J+10,u.minButtonWidth);U.attr("transform",g(_+A,_)),Z.attr({x:0,y:0,width:K,height:k}),t.positionText(q,K/2,k/2-(fe-1)*te/2+3),A+=K+5});var H=x._fullLayout._size,z=H.l+H.w*T.x,N=H.t+H.h*(1-T.y),O="left";h.isRightAnchor(T)&&(z-=A,O="right"),h.isCenterAnchor(T)&&(z-=A/2,O="center");var F="top";h.isBottomAnchor(T)&&(N-=k,F="bottom"),h.isMiddleAnchor(T)&&(N-=k/2,F="middle"),A=Math.ceil(A),k=Math.ceil(k),z=Math.round(z),N=Math.round(N),n.autoMargin(x,i+"-range-selector",{x:T.x,y:T.y,l:A*s[O],r:A*c[O],b:k*c[F],t:k*s[F]}),R.attr("transform",g(z,N))}},70565:function(V,B,e){var p=e(81041),L=e(71828).titleCase;V.exports=function(y,h){var g=y._name,t={};if(h.step==="all")t[g+".autorange"]=!0;else{var r=n(y,h);t[g+".range[0]"]=r[0],t[g+".range[1]"]=r[1]}return t};function n(C,y){var h=C.range,g=new Date(C.r2l(h[1])),t=y.step,r=p["utc"+L(t)],l=y.count,a;switch(y.stepmode){case"backward":a=C.l2r(+r.offset(g,-l));break;case"todate":var s=r.offset(g,-l);a=C.l2r(+r.ceil(s));break}var c=h[1];return[a,c]}},97218:function(V,B,e){V.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(V,B,e){var p=e(22399);V.exports={bgcolor:{valType:"color",dflt:p.background,editType:"plot"},bordercolor:{valType:"color",dflt:p.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(V,B,e){var p=e(41675).list,L=e(71739).getAutoRange,n=e(73251);V.exports=function(y){for(var h=p(y,"x",!0),g=0;g<h.length;g++){var t=h[g],r=t[n.name];r&&r.visible&&r.autorange&&(r._input.autorange=!0,r._input.range=r.range=L(y,t))}}},73251:function(V){V.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(V,B,e){var p=e(71828),L=e(44467),n=e(41675),C=e(75148),y=e(47850);V.exports=function(g,t,r){var l=g[r],a=t[r];if(!(l.rangeslider||t._requestRangeslider[a._id]))return;p.isPlainObject(l.rangeslider)||(l.rangeslider={});var s=l.rangeslider,c=L.newContainer(a,"rangeslider");function u(i,R){return p.coerce(s,c,C,i,R)}var b,f;function w(i,R){return p.coerce(b,f,y,i,R)}var v=u("visible");if(v){u("bgcolor",t.plot_bgcolor),u("bordercolor"),u("borderwidth"),u("thickness"),u("autorange",!a.isValidRange(s.range)),u("range");var o=t._subplots;if(o)for(var d=o.cartesian.filter(function(i){return i.substr(0,i.indexOf("y"))===n.name2id(r)}).map(function(i){return i.substr(i.indexOf("y"),i.length)}),S=p.simpleMap(d,n.id2name),M=0;M<S.length;M++){var P=S[M];b=s[P]||{},f=L.newContainer(c,P,"yaxis");var x=t[P],E;b.range&&x.isValidRange(b.range)&&(E="fixed");var T=w("rangemode",E);T!=="match"&&w("range",x.range.slice())}c._input=s}}},72413:function(V,B,e){var p=e(39898),L=e(73972),n=e(74875),C=e(71828),y=C.strTranslate,h=e(91424),g=e(7901),t=e(92998),r=e(93612),l=e(41675),a=e(28569),s=e(6964),c=e(73251);V.exports=function(x){for(var E=x._fullLayout,T=E._rangeSliderData,i=0;i<T.length;i++){var R=T[i][c.name];R._clipId=R._id+"-"+E._uid}function A(_){return _._name}var k=E._infolayer.selectAll("g."+c.containerClassName).data(T,A);k.exit().each(function(_){var H=_[c.name];E._topdefs.select("#"+H._clipId).remove()}).remove(),T.length!==0&&(k.enter().append("g").classed(c.containerClassName,!0).attr("pointer-events","all"),k.each(function(_){var H=p.select(this),z=_[c.name],N=E[l.id2name(_.anchor)],O=z[l.id2name(_.anchor)];if(z.range){var F=C.simpleMap(z.range,_.r2l),U=C.simpleMap(_.range,_.r2l),Z;U[0]<U[1]?Z=[Math.min(F[0],U[0]),Math.max(F[1],U[1])]:Z=[Math.max(F[0],U[0]),Math.min(F[1],U[1])],z.range=z._input.range=C.simpleMap(Z,_.l2r)}_.cleanRange("rangeslider.range");var q=E._size,J=_.domain;z._width=q.w*(J[1]-J[0]);var te=Math.round(q.l+q.w*J[0]),fe=Math.round(q.t+q.h*(1-_._counterDomainMin)+(_.side==="bottom"?_._depth:0)+z._offsetShift+c.extraPad);H.attr("transform",y(te,fe)),z._rl=C.simpleMap(z.range,_.r2l);var K=z._rl[0],Y=z._rl[1],W=Y-K;if(z.p2d=function(Ae){return Ae/z._width*W+K},z.d2p=function(Ae){return(Ae-K)/W*z._width},_.rangebreaks){var X=_.locateBreaks(K,Y);if(X.length){var re,se,Q=0;for(re=0;re<X.length;re++)se=X[re],Q+=se.max-se.min;var ee=z._width/(Y-K-Q),le=[-ee*K];for(re=0;re<X.length;re++)se=X[re],le.push(le[le.length-1]-ee*(se.max-se.min));for(z.d2p=function(Ae){for(var Se=le[0],Oe=0;Oe<X.length;Oe++){var Ve=X[Oe];if(Ae>=Ve.max)Se=le[Oe+1];else if(Ae<Ve.min)break}return Se+ee*Ae},re=0;re<X.length;re++)se=X[re],se.pmin=z.d2p(se.min),se.pmax=z.d2p(se.max);z.p2d=function(Ae){for(var Se=le[0],Oe=0;Oe<X.length;Oe++){var Ve=X[Oe];if(Ae>=Ve.pmax)Se=le[Oe+1];else if(Ae<Ve.pmin)break}return(Ae-Se)/ee}}}if(O.rangemode!=="match"){var oe=N.r2l(O.range[0]),he=N.r2l(O.range[1]),xe=he-oe;z.d2pOppAxis=function(Ae){return(Ae-oe)/xe*z._height}}H.call(w,x,_,z).call(v,x,_,z).call(o,x,_,z).call(S,x,_,z,O).call(M,x,_,z).call(P,x,_,z),u(H,x,_,z),f(H,x,_,z,N,O),_.side==="bottom"&&t.draw(x,_._id+"title",{propContainer:_,propName:_._name+".title",placeholder:E._dfltTitle.x,attributes:{x:_._offset+_._length/2,y:fe+z._height+z._offsetShift+10+1.5*_.title.font.size,"text-anchor":"middle"}})}))};function u(x,E,T,i){if(E._context.staticPlot)return;var R=x.select("rect."+c.slideBoxClassName).node(),A=x.select("rect."+c.grabAreaMinClassName).node(),k=x.select("rect."+c.grabAreaMaxClassName).node();function _(){var H=p.event,z=H.target,N=H.clientX||H.touches[0].clientX,O=N-x.node().getBoundingClientRect().left,F=i.d2p(T._rl[0]),U=i.d2p(T._rl[1]),Z=a.coverSlip();this.addEventListener("touchmove",q),this.addEventListener("touchend",J),Z.addEventListener("mousemove",q),Z.addEventListener("mouseup",J);function q(te){var fe=te.clientX||te.touches[0].clientX,K=+fe-N,Y,W,X;switch(z){case R:if(X="ew-resize",F+K>T._length||U+K<0)return;Y=F+K,W=U+K;break;case A:if(X="col-resize",F+K>T._length)return;Y=F+K,W=U;break;case k:if(X="col-resize",U+K<0)return;Y=F,W=U+K;break;default:X="ew-resize",Y=O,W=O+K;break}if(W<Y){var re=W;W=Y,Y=re}i._pixelMin=Y,i._pixelMax=W,s(p.select(Z),X),b(x,E,T,i)}function J(){Z.removeEventListener("mousemove",q),Z.removeEventListener("mouseup",J),this.removeEventListener("touchmove",q),this.removeEventListener("touchend",J),C.removeElement(Z)}}x.on("mousedown",_),x.on("touchstart",_)}function b(x,E,T,i){function R(_){return T.l2r(C.constrain(_,i._rl[0],i._rl[1]))}var A=R(i.p2d(i._pixelMin)),k=R(i.p2d(i._pixelMax));window.requestAnimationFrame(function(){L.call("_guiRelayout",E,T._name+".range",[A,k])})}function f(x,E,T,i,R,A){var k=c.handleWidth/2;function _(te){return C.constrain(te,0,i._width)}function H(te){return C.constrain(te,0,i._height)}function z(te){return C.constrain(te,-k,i._width+k)}var N=_(i.d2p(T._rl[0])),O=_(i.d2p(T._rl[1]));if(x.select("rect."+c.slideBoxClassName).attr("x",N).attr("width",O-N),x.select("rect."+c.maskMinClassName).attr("width",N),x.select("rect."+c.maskMaxClassName).attr("x",O).attr("width",i._width-O),A.rangemode!=="match"){var F=i._height-H(i.d2pOppAxis(R._rl[1])),U=i._height-H(i.d2pOppAxis(R._rl[0]));x.select("rect."+c.maskMinOppAxisClassName).attr("x",N).attr("height",F).attr("width",O-N),x.select("rect."+c.maskMaxOppAxisClassName).attr("x",N).attr("y",U).attr("height",i._height-U).attr("width",O-N),x.select("rect."+c.slideBoxClassName).attr("y",F).attr("height",U-F)}var Z=.5,q=Math.round(z(N-k))-Z,J=Math.round(z(O-k))+Z;x.select("g."+c.grabberMinClassName).attr("transform",y(q,Z)),x.select("g."+c.grabberMaxClassName).attr("transform",y(J,Z))}function w(x,E,T,i){var R=C.ensureSingle(x,"rect",c.bgClassName,function(H){H.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),A=i.borderwidth%2===0?i.borderwidth:i.borderwidth-1,k=-i._offsetShift,_=h.crispRound(E,i.borderwidth);R.attr({width:i._width+A,height:i._height+A,transform:y(k,k),"stroke-width":_}).call(g.stroke,i.bordercolor).call(g.fill,i.bgcolor)}function v(x,E,T,i){var R=E._fullLayout,A=C.ensureSingleById(R._topdefs,"clipPath",i._clipId,function(k){k.append("rect").attr({x:0,y:0})});A.select("rect").attr({width:i._width,height:i._height})}function o(x,E,T,i){var R=E.calcdata,A=x.selectAll("g."+c.rangePlotClassName).data(T._subplotsWith,C.identity);A.enter().append("g").attr("class",function(_){return c.rangePlotClassName+" "+_}).call(h.setClipUrl,i._clipId,E),A.order(),A.exit().remove();var k;A.each(function(_,H){var z=p.select(this),N=H===0,O=l.getFromId(E,_,"y"),F=O._name,U=i[F],Z={data:[],layout:{xaxis:{type:T.type,domain:[0,1],range:i.range.slice(),calendar:T.calendar},width:i._width,height:i._height,margin:{t:0,b:0,l:0,r:0}},_context:E._context};T.rangebreaks&&(Z.layout.xaxis.rangebreaks=T.rangebreaks),Z.layout[F]={type:O.type,domain:[0,1],range:U.rangemode!=="match"?U.range.slice():O.range.slice(),calendar:O.calendar},O.rangebreaks&&(Z.layout[F].rangebreaks=O.rangebreaks),n.supplyDefaults(Z);var q=Z._fullLayout.xaxis,J=Z._fullLayout[F];q.clearCalc(),q.setScale(),J.clearCalc(),J.setScale();var te={id:_,plotgroup:z,xaxis:q,yaxis:J,isRangePlot:!0};N?k=te:(te.mainplot="xy",te.mainplotinfo=k),r.rangePlot(E,te,d(R,_))})}function d(x,E){for(var T=[],i=0;i<x.length;i++){var R=x[i],A=R[0].trace;A.xaxis+A.yaxis===E&&T.push(R)}return T}function S(x,E,T,i,R){var A=C.ensureSingle(x,"rect",c.maskMinClassName,function(z){z.attr({x:0,y:0,"shape-rendering":"crispEdges"})});A.attr("height",i._height).call(g.fill,c.maskColor);var k=C.ensureSingle(x,"rect",c.maskMaxClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});if(k.attr("height",i._height).call(g.fill,c.maskColor),R.rangemode!=="match"){var _=C.ensureSingle(x,"rect",c.maskMinOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});_.attr("width",i._width).call(g.fill,c.maskOppAxisColor);var H=C.ensureSingle(x,"rect",c.maskMaxOppAxisClassName,function(z){z.attr({y:0,"shape-rendering":"crispEdges"})});H.attr("width",i._width).style("border-top",c.maskOppBorder).call(g.fill,c.maskOppAxisColor)}}function M(x,E,T,i){if(!E._context.staticPlot){var R=C.ensureSingle(x,"rect",c.slideBoxClassName,function(A){A.attr({y:0,cursor:c.slideBoxCursor,"shape-rendering":"crispEdges"})});R.attr({height:i._height,fill:c.slideBoxFill})}}function P(x,E,T,i){var R=C.ensureSingle(x,"g",c.grabberMinClassName),A=C.ensureSingle(x,"g",c.grabberMaxClassName),k={x:0,width:c.handleWidth,rx:c.handleRadius,fill:g.background,stroke:g.defaultLine,"stroke-width":c.handleStrokeWidth,"shape-rendering":"crispEdges"},_={y:Math.round(i._height/4),height:Math.round(i._height/2)},H=C.ensureSingle(R,"rect",c.handleMinClassName,function(U){U.attr(k)});H.attr(_);var z=C.ensureSingle(A,"rect",c.handleMaxClassName,function(U){U.attr(k)});z.attr(_);var N={width:c.grabAreaWidth,x:0,y:0,fill:c.grabAreaFill,cursor:E._context.staticPlot?void 0:c.grabAreaCursor},O=C.ensureSingle(R,"rect",c.grabAreaMinClassName,function(U){U.attr(N)});O.attr("height",i._height);var F=C.ensureSingle(A,"rect",c.grabAreaMaxClassName,function(U){U.attr(N)});F.attr("height",i._height)}},549:function(V,B,e){var p=e(41675),L=e(63893),n=e(73251),C=e(18783).LINE_SPACING,y=n.name;function h(g){var t=g&&g[y];return t&&t.visible}B.isVisible=h,B.makeData=function(g){var t=p.list({_fullLayout:g},"x",!0),r=g.margin,l=[];if(!g._has("gl2d"))for(var a=0;a<t.length;a++){var s=t[a];if(h(s)){l.push(s);var c=s[y];c._id=y+s._id,c._height=(g.height-r.b-r.t)*c.thickness,c._offsetShift=Math.floor(c.borderwidth/2)}}g._rangeSliderData=l},B.autoMarginOpts=function(g,t){var r=g._fullLayout,l=t[y],a=t._id.charAt(0),s=0,c=0;if(t.side==="bottom"&&(s=t._depth,t.title.text!==r._dfltTitle[a])){c=1.5*t.title.font.size+10+l._offsetShift;var u=(t.title.text.match(L.BR_TAG_ALL)||[]).length;c+=u*t.title.font.size*C}return{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:l._height+s+Math.max(r.margin.b,c),pad:n.extraPad+l._offsetShift*2}}},13137:function(V,B,e){var p=e(71828),L=e(75148),n=e(47850),C=e(549);V.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:p.extendFlat({},L,{yaxis:n})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:C.isVisible,makeData:C.makeData,autoMarginOpts:C.autoMarginOpts}},47850:function(V){V.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(V,B,e){var p=e(50215),L=e(82196).line,n=e(79952).P,C=e(1426).extendFlat,y=e(30962).overrideAll,h=e(44467).templatedArray;e(24695),V.exports=y(h("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:C({},p.xref,{}),yref:C({},p.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:L.color,width:C({},L.width,{min:1,dflt:1}),dash:C({},n,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(V){V.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(V,B,e){var p=e(71828),L=e(89298),n=e(85501),C=e(8389),y=e(30477);V.exports=function(t,r){n(t,r,{name:"selections",handleItemDefaults:h});for(var l=r.selections,a=0;a<l.length;a++){var s=l[a];s&&s.path===void 0&&(s.x0===void 0||s.x1===void 0||s.y0===void 0||s.y1===void 0)&&(r.selections[a]=null)}};function h(g,t,r){function l(A,k){return p.coerce(g,t,C,A,k)}var a=l("path"),s=a?"path":"rect",c=l("type",s),u=c!=="path";u&&delete t.path,l("opacity"),l("line.color"),l("line.width"),l("line.dash");for(var b=["x","y"],f=0;f<2;f++){var w=b[f],v={_fullLayout:r},o,d,S,M=L.coerceRef(g,t,v,w);if(o=L.getFromId(v,M),o._selectionIndices.push(t._index),S=y.rangeToShapePosition(o),d=y.shapePositionToRange(o),u){var P=w+"0",x=w+"1",E=g[P],T=g[x];g[P]=d(g[P],!0),g[x]=d(g[x],!0),L.coercePosition(t,v,l,M,P),L.coercePosition(t,v,l,M,x);var i=t[P],R=t[x];i!==void 0&&R!==void 0&&(t[P]=S(i),t[x]=S(R),g[P]=E,g[x]=T)}}u&&p.noneOrAll(g,t,["x0","x1","y0","y1"])}},32485:function(V,B,e){var p=e(60165).readPaths,L=e(42359),n=e(51873).clearOutlineControllers,C=e(7901),y=e(91424),h=e(44467).arrayEditor,g=e(30477),t=g.getPathString;V.exports={draw:r,drawOne:a,activateLastSelection:u};function r(f){var w=f._fullLayout;n(f),w._selectionLayer.selectAll("path").remove();for(var v in w._plots){var o=w._plots[v].selectionLayer;o&&o.selectAll("path").remove()}for(var d=0;d<w.selections.length;d++)a(f,d)}function l(f){return f._context.editSelection}function a(f,w){f._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+w+'"]').remove();var v=g.makeSelectionsOptionsAndPlotinfo(f,w),o=v.options,d=v.plotinfo;if(!o._input)return;S(f._fullLayout._selectionLayer);function S(M){var P=t(f,o),x={"data-index":w,"fill-rule":"evenodd",d:P},E=o.opacity,T="rgba(0,0,0,0)",i=o.line.color||C.contrast(f._fullLayout.plot_bgcolor),R=o.line.width,A=o.line.dash;R||(R=5,A="solid");var k=l(f)&&f._fullLayout._activeSelectionIndex===w;k&&(T=f._fullLayout.activeselection.fillcolor,E=f._fullLayout.activeselection.opacity);for(var _=[],H=1;H>=0;H--){var z=M.append("path").attr(x).style("opacity",H?.1:E).call(C.stroke,i).call(C.fill,T).call(y.dashLine,H?"solid":A,H?4+R:R);if(s(z,f,o),k){var N=h(f.layout,"selections",o);z.style({cursor:"move"});var O={element:z.node(),plotinfo:d,gd:f,editHelpers:N,isActiveSelection:!0},F=p(P,f);L(F,z,O)}else z.style("pointer-events",H?"all":"none");_[H]=z}var U=_[0],Z=_[1];Z.node().addEventListener("click",function(){return c(f,U)})}}function s(f,w,v){var o=v.xref+v.yref;y.setClipUrl(f,"clip"+w._fullLayout._uid+o,w)}function c(f,w){if(l(f)){var v=w.node(),o=+v.getAttribute("data-index");if(o>=0){if(o===f._fullLayout._activeSelectionIndex){b(f);return}f._fullLayout._activeSelectionIndex=o,f._fullLayout._deactivateSelection=b,r(f)}}}function u(f){if(l(f)){var w=f._fullLayout.selections.length-1;f._fullLayout._activeSelectionIndex=w,f._fullLayout._deactivateSelection=b,r(f)}}function b(f){if(l(f)){var w=f._fullLayout._activeSelectionIndex;w>=0&&(n(f),delete f._fullLayout._activeSelectionIndex,r(f))}}},53777:function(V,B,e){var p=e(79952).P,L=e(1426).extendFlat;V.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:L({},p,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(V){V.exports=function(e,p,L){L("newselection.mode");var n=L("newselection.line.width");n&&(L("newselection.line.color"),L("newselection.line.dash")),L("activeselection.fillcolor"),L("activeselection.opacity")}},35855:function(V,B,e){var p=e(64505),L=p.selectMode,n=e(51873),C=n.clearOutline,y=e(60165),h=y.readPaths,g=y.writePaths,t=y.fixDatesForPaths;V.exports=function(l,a){if(l.length){var s=l[0][0];if(s){var c=s.getAttribute("d"),u=a.gd,b=u._fullLayout.newselection,f=a.plotinfo,w=f.xaxis,v=f.yaxis,o=a.isActiveSelection,d=a.dragmode,S=(u.layout||{}).selections||[];if(!L(d)&&o!==void 0){var M=u._fullLayout._activeSelectionIndex;if(M<S.length)switch(u._fullLayout.selections[M].type){case"rect":d="select";break;case"path":d="lasso";break}}var P=h(c,u,f,o),x={xref:w._id,yref:v._id,opacity:b.opacity,line:{color:b.line.color,width:b.line.width,dash:b.line.dash}},E;P.length===1&&(E=P[0]),E&&E.length===5&&d==="select"?(x.type="rect",x.x0=E[0][1],x.y0=E[0][2],x.x1=E[2][1],x.y1=E[2][2]):(x.type="path",w&&v&&t(P,w,v),x.path=g(P),E=null),C(u);for(var T=a.editHelpers,i=(T||{}).modifyItem,R=[],A=0;A<S.length;A++){var k=u._fullLayout.selections[A];if(!k){R[A]=k;continue}if(R[A]=k._input,o!==void 0&&A===u._fullLayout._activeSelectionIndex){var _=x;switch(k.type){case"rect":i("x0",_.x0),i("x1",_.x1),i("y0",_.y0),i("y1",_.y1);break;case"path":i("path",_.path);break}}}return o===void 0?(R.push(x),R):T?T.getUpdateObj():{}}}}},75549:function(V,B,e){var p=e(71828).strTranslate;function L(h,g){switch(h.type){case"log":return h.p2d(g);case"date":return h.p2r(g,0,h.calendar);default:return h.p2r(g)}}function n(h,g){switch(h.type){case"log":return h.d2p(g);case"date":return h.r2p(g,0,h.calendar);default:return h.r2p(g)}}function C(h){var g=h._id.charAt(0)==="y"?1:0;return function(t){return L(h,t[g])}}function y(h){return p(h.xaxis._offset,h.yaxis._offset)}V.exports={p2r:L,r2p:n,axValue:C,getTransform:y}},47322:function(V,B,e){var p=e(32485),L=e(3937);V.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:p.draw,drawOne:p.drawOne,reselect:L.reselect,prepSelect:L.prepSelect,clearOutline:L.clearOutline,clearSelectionsCache:L.clearSelectionsCache,selectOnClick:L.selectOnClick}},3937:function(V,B,e){var p=e(52142),L=e(38258),n=e(73972),C=e(91424).dashStyle,y=e(7901),h=e(30211),g=e(23469).makeEventData,t=e(64505),r=t.freeMode,l=t.rectMode,a=t.drawMode,s=t.openMode,c=t.selectMode,u=e(30477),b=e(21459),f=e(42359),w=e(51873).clearOutline,v=e(60165),o=v.handleEllipse,d=v.readPaths,S=e(90551).newShapes,M=e(35855),P=e(32485).activateLastSelection,x=e(71828),E=x.sorterAsc,T=e(61082),i=e(79990),R=e(41675).getFromId,A=e(33306),k=e(61549).redrawReglTraces,_=e(34122),H=_.MINSELECT,z=T.filter,N=T.tester,O=e(75549),F=O.p2r,U=O.axValue,Z=O.getTransform;function q(Be){return Be.subplot!==void 0}function J(Be,De,we,ue,me){var Re=!q(ue),Ne=r(me),it=l(me),ot=s(me),wt=a(me),Ft=c(me),Ut=me==="drawline",Gt=me==="drawcircle",Et=Ut||Gt,$t=ue.gd,lr=$t._fullLayout,Fr=Ft&&lr.newselection.mode==="immediate"&&Re,yt=lr._zoomlayer,Kt=ue.element.getBoundingClientRect(),Zt=ue.plotinfo,Ar=Z(Zt),vr=De-Kt.left,ut=we-Kt.top;lr._calcInverseTransform($t);var lt=x.apply3DTransform(lr._invTransform)(vr,ut);vr=lt[0],ut=lt[1];var xt=lr._invScaleX,Tt=lr._invScaleY,Ct=vr,At=ut,zt="M"+vr+","+ut,Ht=ue.xaxes[0],qt=ue.yaxes[0],Qt=Ht._length,or=qt._length,Lr=Be.altKey&&!(a(me)&&ot),Ze,Ye,It,kt,Xt,ir,ur;X(Be,$t,ue),Ne&&(Ze=z([[vr,ut]],_.BENDPX));var nr=yt.selectAll("path.select-outline-"+Zt.id).data([1]),Nt=wt?lr.newshape:lr.newselection;wt&&(ue.hasText=Nt.label.text||Nt.label.texttemplate);var hr=wt&&!ot?Nt.fillcolor:"rgba(0,0,0,0)",pr=Nt.line.color||(Re?y.contrast($t._fullLayout.plot_bgcolor):"#7f7f7f");nr.enter().append("path").attr("class","select-outline select-outline-"+Zt.id).style({opacity:wt?Nt.opacity/2:1,"stroke-dasharray":C(Nt.line.dash,Nt.line.width),"stroke-width":Nt.line.width+"px","shape-rendering":"crispEdges"}).call(y.stroke,pr).call(y.fill,hr).attr("fill-rule","evenodd").classed("cursor-move",!!wt).attr("transform",Ar).attr("d",zt+"Z");var gr=yt.append("path").attr("class","zoombox-corners").style({fill:y.background,stroke:y.defaultLine,"stroke-width":1}).attr("transform",Ar).attr("d","M0,0Z");if(wt&&ue.hasText){var dr=yt.select(".label-temp");dr.empty()&&(dr=yt.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Xr=lr._uid+_.SELECTID,Br=[],Or=le($t,ue.xaxes,ue.yaxes,ue.subplot);Fr&&!Be.shiftKey&&(ue._clearSubplotSelections=function(){if(Re){var Jr=Ht._id,_n=qt._id;qe($t,Jr,_n,Or);for(var kn=($t.layout||{}).selections||[],br=[],wr=!1,Nr=0;Nr<kn.length;Nr++){var Vr=lr.selections[Nr];Vr.xref!==Jr||Vr.yref!==_n?br.push(kn[Nr]):wr=!0}wr&&($t._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",$t,{selections:br}))}});var mn=Wt(ue);ue.moveFn=function(Jr,_n){ue._clearSubplotSelections&&(ue._clearSubplotSelections(),ue._clearSubplotSelections=void 0),Ct=Math.max(0,Math.min(Qt,xt*Jr+vr)),At=Math.max(0,Math.min(or,Tt*_n+ut));var kn=Math.abs(Ct-vr),br=Math.abs(At-ut);if(it){var wr,Nr,Vr;if(Ft){var tn=lr.selectdirection;switch(tn==="any"?br<Math.min(kn*.6,H)?wr="h":kn<Math.min(br*.6,H)?wr="v":wr="d":wr=tn,wr){case"h":Nr=Gt?or/2:0,Vr=or;break;case"v":Nr=Gt?Qt/2:0,Vr=Qt;break}}if(wt)switch(lr.newshape.drawdirection){case"vertical":wr="h",Nr=Gt?or/2:0,Vr=or;break;case"horizontal":wr="v",Nr=Gt?Qt/2:0,Vr=Qt;break;case"ortho":kn<br?(wr="h",Nr=ut,Vr=At):(wr="v",Nr=vr,Vr=Ct);break;default:wr="d"}wr==="h"?(kt=Et?o(Gt,[Ct,Nr],[Ct,Vr]):[[vr,Nr],[vr,Vr],[Ct,Vr],[Ct,Nr]],kt.xmin=Et?Ct:Math.min(vr,Ct),kt.xmax=Et?Ct:Math.max(vr,Ct),kt.ymin=Math.min(Nr,Vr),kt.ymax=Math.max(Nr,Vr),gr.attr("d","M"+kt.xmin+","+(ut-H)+"h-4v"+2*H+"h4ZM"+(kt.xmax-1)+","+(ut-H)+"h4v"+2*H+"h-4Z")):wr==="v"?(kt=Et?o(Gt,[Nr,At],[Vr,At]):[[Nr,ut],[Nr,At],[Vr,At],[Vr,ut]],kt.xmin=Math.min(Nr,Vr),kt.xmax=Math.max(Nr,Vr),kt.ymin=Et?At:Math.min(ut,At),kt.ymax=Et?At:Math.max(ut,At),gr.attr("d","M"+(vr-H)+","+kt.ymin+"v-4h"+2*H+"v4ZM"+(vr-H)+","+(kt.ymax-1)+"v4h"+2*H+"v-4Z")):wr==="d"&&(kt=Et?o(Gt,[vr,ut],[Ct,At]):[[vr,ut],[vr,At],[Ct,At],[Ct,ut]],kt.xmin=Math.min(vr,Ct),kt.xmax=Math.max(vr,Ct),kt.ymin=Math.min(ut,At),kt.ymax=Math.max(ut,At),gr.attr("d","M0,0Z"))}else Ne&&(Ze.addPt([Ct,At]),kt=Ze.filtered);if(ue.selectionDefs&&ue.selectionDefs.length?(It=Te(ue.mergedPolygons,kt,Lr),kt.subtract=Lr,Ye=W(ue.selectionDefs.concat([kt]))):(It=[kt],Ye=N(kt)),f(Ge(It,ot),nr,ue),Ft){var gn=ke($t,!1),hn=gn.eventData?gn.eventData.points.slice():[];gn=ke($t,!1,Ye,Or,ue),Ye=gn.selectionTesters,ur=gn.eventData;var Sn;Ze?Sn=Ze.filtered:Sn=gt(It),i.throttle(Xr,_.SELECTDELAY,function(){Br=He(Ye,Or);for(var In=Br.slice(),Jn=0;Jn<hn.length;Jn++){for(var ra=hn[Jn],ca=!1,aa=0;aa<In.length;aa++)if(In[aa].curveNumber===ra.curveNumber&&In[aa].pointNumber===ra.pointNumber){ca=!0;break}ca||In.push(ra)}In.length&&(ur||(ur={}),ur.points=In),mn(ur,Sn),je($t,ur)})}},ue.clickFn=function(Jr,_n){if(gr.remove(),$t._fullLayout._activeShapeIndex>=0){$t._fullLayout._deactivateShape($t);return}if(!wt){var kn=lr.clickmode;i.done(Xr).then(function(){if(i.clear(Xr),Jr===2){for(nr.remove(),Xt=0;Xt<Or.length;Xt++)ir=Or[Xt],ir._module.selectPoints(ir,!1);if(Ve($t,Or),Q(ue),Fe($t),Or.length){var br=Or[0].xaxis,wr=Or[0].yaxis;if(br&&wr){for(var Nr=[],Vr=$t._fullLayout.selections,tn=0;tn<Vr.length;tn++){var gn=Vr[tn];gn&&(gn.xref!==br._id||gn.yref!==wr._id)&&Nr.push(gn)}Nr.length<Vr.length&&($t._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",$t,{selections:Nr}))}}}else kn.indexOf("select")>-1&&te(_n,$t,ue.xaxes,ue.yaxes,ue.subplot,ue,nr),kn==="event"&&_e($t,void 0);h.click($t,_n)}).catch(x.error)}},ue.doneFn=function(){gr.remove(),i.done(Xr).then(function(){i.clear(Xr),!Fr&&kt&&ue.selectionDefs&&(kt.subtract=Lr,ue.selectionDefs.push(kt),ue.mergedPolygons.length=0,[].push.apply(ue.mergedPolygons,It)),(Fr||wt)&&Q(ue,Fr),ue.doneFnCompleted&&ue.doneFnCompleted(Br),Ft&&_e($t,ur)}).catch(x.error)}}function te(Be,De,we,ue,me,Re,Ne){var it=De._hoverdata,ot=De._fullLayout,wt=ot.clickmode,Ft=wt.indexOf("event")>-1,Ut=[],Gt,Et,$t,lr,Fr,yt,Kt,Zt,Ar,vr;if(he(it)){X(Be,De,Re),Gt=le(De,we,ue,me);var ut=xe(it,Gt),lt=ut.pointNumbers.length>0;if(lt?Se(Gt,ut):Oe(Gt)&&(Kt=Ae(ut))){for(Ne&&Ne.remove(),vr=0;vr<Gt.length;vr++)Et=Gt[vr],Et._module.selectPoints(Et,!1);Ve(De,Gt),Q(Re),Ft&&Fe(De)}else{Zt=Be.shiftKey&&(Kt!==void 0?Kt:Ae(ut)),$t=fe(ut.pointNumber,ut.searchInfo,Zt);var xt=Re.selectionDefs.concat([$t]);for(lr=W(xt),vr=0;vr<Gt.length;vr++)if(Fr=Gt[vr]._module.selectPoints(Gt[vr],lr),yt=Le(Fr,Gt[vr]),Ut.length)for(var Tt=0;Tt<yt.length;Tt++)Ut.push(yt[Tt]);else Ut=yt;if(Ar={points:Ut},Ve(De,Gt,Ar),$t&&Re&&Re.selectionDefs.push($t),Ne){var Ct=Re.mergedPolygons,At=s(Re.dragmode);f(Ge(Ct,At),Ne,Re)}Ft&&_e(De,Ar)}}}function fe(Be,De,we){return{pointNumber:Be,searchInfo:De,subtract:!!we}}function K(Be){return"pointNumber"in Be&&"searchInfo"in Be}function Y(Be){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(De,we,ue,me){var Re=Be.searchInfo.cd[0].trace._expandedIndex,Ne=me.cd[0].trace._expandedIndex;return Ne===Re&&ue===Be.pointNumber},isRect:!1,degenerate:!1,subtract:!!Be.subtract}}function W(Be){if(!Be.length)return;for(var De=[],we=K(Be[0])?0:Be[0][0][0],ue=we,me=K(Be[0])?0:Be[0][0][1],Re=me,Ne=0;Ne<Be.length;Ne++)if(K(Be[Ne]))De.push(Y(Be[Ne]));else{var it=N(Be[Ne]);it.subtract=!!Be[Ne].subtract,De.push(it),we=Math.min(we,it.xmin),ue=Math.max(ue,it.xmax),me=Math.min(me,it.ymin),Re=Math.max(Re,it.ymax)}function ot(wt,Ft,Ut,Gt){for(var Et=!1,$t=0;$t<De.length;$t++)De[$t].contains(wt,Ft,Ut,Gt)&&(Et=!De[$t].subtract);return Et}return{xmin:we,xmax:ue,ymin:me,ymax:Re,pts:[],contains:ot,isRect:!1,degenerate:!1}}function X(Be,De,we){var ue=De._fullLayout,me=we.plotinfo,Re=we.dragmode,Ne=ue._lastSelectedSubplot&&ue._lastSelectedSubplot===me.id,it=(Be.shiftKey||Be.altKey)&&!(a(Re)&&s(Re));Ne&&it&&me.selection&&me.selection.selectionDefs&&!we.selectionDefs?(we.selectionDefs=me.selection.selectionDefs,we.mergedPolygons=me.selection.mergedPolygons):(!it||!me.selection)&&Q(we),Ne||(w(De),ue._lastSelectedSubplot=me.id)}function re(Be){return Be._fullLayout._activeShapeIndex>=0}function se(Be){return Be._fullLayout._activeSelectionIndex>=0}function Q(Be,De){var we=Be.dragmode,ue=Be.plotinfo,me=Be.gd;re(me)&&me._fullLayout._deactivateShape(me),se(me)&&me._fullLayout._deactivateSelection(me);var Re=me._fullLayout,Ne=Re._zoomlayer,it=a(we),ot=c(we);if(it||ot){var wt=Ne.selectAll(".select-outline-"+ue.id);if(wt&&me._fullLayout._outlining){var Ft;it&&(Ft=S(wt,Be)),Ft&&n.call("_guiRelayout",me,{shapes:Ft});var Ut;ot&&!q(Be)&&(Ut=M(wt,Be)),Ut&&(me._fullLayout._noEmitSelectedAtStart=!0,n.call("_guiRelayout",me,{selections:Ut}).then(function(){De&&P(me)})),me._fullLayout._outlining=!1}}ue.selection={},ue.selection.selectionDefs=Be.selectionDefs=[],ue.selection.mergedPolygons=Be.mergedPolygons=[]}function ee(Be){return Be._id}function le(Be,De,we,ue){if(!Be.calcdata)return[];var me=[],Re=De.map(ee),Ne=we.map(ee),it,ot,wt;for(wt=0;wt<Be.calcdata.length;wt++)if(it=Be.calcdata[wt],ot=it[0].trace,!(ot.visible!==!0||!ot._module||!ot._module.selectPoints))if(q({subplot:ue})&&(ot.subplot===ue||ot.geo===ue))me.push(oe(ot._module,it,De[0],we[0]));else if(ot.type==="splom"){if(ot._xaxes[Re[0]]&&ot._yaxes[Ne[0]]){var Ft=oe(ot._module,it,De[0],we[0]);Ft.scene=Be._fullLayout._splomScenes[ot.uid],me.push(Ft)}}else if(ot.type==="sankey"){var Ut=oe(ot._module,it,De[0],we[0]);me.push(Ut)}else{if(Re.indexOf(ot.xaxis)===-1||Ne.indexOf(ot.yaxis)===-1)continue;me.push(oe(ot._module,it,R(Be,ot.xaxis),R(Be,ot.yaxis)))}return me}function oe(Be,De,we,ue){return{_module:Be,cd:De,xaxis:we,yaxis:ue}}function he(Be){return Be&&Array.isArray(Be)&&Be[0].hoverOnBox!==!0}function xe(Be,De){var we=Be[0],ue=-1,me=[],Re,Ne;for(Ne=0;Ne<De.length;Ne++)if(Re=De[Ne],we.fullData._expandedIndex===Re.cd[0].trace._expandedIndex){if(we.hoverOnBox===!0)break;we.pointNumber!==void 0?ue=we.pointNumber:we.binNumber!==void 0&&(ue=we.binNumber,me=we.pointNumbers);break}return{pointNumber:ue,pointNumbers:me,searchInfo:Re}}function Ae(Be){var De=Be.searchInfo.cd[0].trace,we=Be.pointNumber,ue=Be.pointNumbers,me=ue.length>0,Re=me?ue[0]:we;return De.selectedpoints?De.selectedpoints.indexOf(Re)>-1:!1}function Se(Be,De){var we=[],ue,me,Re,Ne;for(Ne=0;Ne<Be.length;Ne++)ue=Be[Ne],ue.cd[0].trace.selectedpoints&&ue.cd[0].trace.selectedpoints.length>0&&we.push(ue);if(we.length===1&&(Re=we[0]===De.searchInfo,Re&&(me=De.searchInfo.cd[0].trace,me.selectedpoints.length===De.pointNumbers.length))){for(Ne=0;Ne<De.pointNumbers.length;Ne++)if(me.selectedpoints.indexOf(De.pointNumbers[Ne])<0)return!1;return!0}return!1}function Oe(Be){var De=0,we,ue,me;for(me=0;me<Be.length;me++)if(we=Be[me],ue=we.cd[0].trace,ue.selectedpoints&&(ue.selectedpoints.length>1||(De+=ue.selectedpoints.length,De>1)))return!1;return De===1}function Ve(Be,De,we){var ue;for(ue=0;ue<De.length;ue++){var me=De[ue].cd[0].trace._fullInput,Re=Be._fullLayout._tracePreGUI[me.uid]||{};Re.selectedpoints===void 0&&(Re.selectedpoints=me._input.selectedpoints||null)}var Ne;if(we){var it=we.points||[];for(ue=0;ue<De.length;ue++)Ne=De[ue].cd[0].trace,Ne._input.selectedpoints=Ne._fullInput.selectedpoints=[],Ne._fullInput!==Ne&&(Ne.selectedpoints=[]);for(var ot=0;ot<it.length;ot++){var wt=it[ot],Ft=wt.data,Ut=wt.fullData,Gt=wt.pointIndex,Et=wt.pointIndices;Et?([].push.apply(Ft.selectedpoints,Et),Ne._fullInput!==Ne&&[].push.apply(Ut.selectedpoints,Et)):(Ft.selectedpoints.push(Gt),Ne._fullInput!==Ne&&Ut.selectedpoints.push(Gt))}}else for(ue=0;ue<De.length;ue++)Ne=De[ue].cd[0].trace,delete Ne.selectedpoints,delete Ne._input.selectedpoints,Ne._fullInput!==Ne&&delete Ne._fullInput.selectedpoints;Ee(Be,De)}function Ee(Be,De){for(var we=!1,ue=0;ue<De.length;ue++){var me=De[ue],Re=me.cd;n.traceIs(Re[0].trace,"regl")&&(we=!0);var Ne=me._module,it=Ne.styleOnSelect||Ne.style;it&&(it(Be,Re,Re[0].node3),Re[0].nodeRangePlot3&&it(Be,Re,Re[0].nodeRangePlot3))}we&&(A(Be),k(Be))}function Te(Be,De,we){for(var ue=we?p.difference:p.union,me=ue({regions:Be},{regions:[De]}),Re=me.regions.reverse(),Ne=0;Ne<Re.length;Ne++){var it=Re[Ne];it.subtract=vt(it,Re.slice(0,Ne))}return Re}function Le(Be,De){if(Array.isArray(Be))for(var we=De.cd,ue=De.cd[0].trace,me=0;me<Be.length;me++)Be[me]=g(Be[me],ue,we);return Be}function Ge(Be,De){for(var we=[],ue=0;ue<Be.length;ue++){we[ue]=[];for(var me=0;me<Be[ue].length;me++){we[ue][me]=[],we[ue][me][0]=me?"L":"M";for(var Re=0;Re<Be[ue][me].length;Re++)we[ue][me].push(Be[ue][me][Re])}De||we[ue].push(["Z",we[ue][0][1],we[ue][0][2]])}return we}function He(Be,De){for(var we=[],ue,me,Re=0;Re<De.length;Re++){var Ne=De[Re];me=Ne._module.selectPoints(Ne,Be),ue=Le(me,Ne),we=we.concat(ue)}return we}function ke(Be,De,we,ue,me){var Re=!!ue,Ne,it,ot;me&&(Ne=me.plotinfo,it=me.xaxes[0]._id,ot=me.yaxes[0]._id);var wt=[],Ft=[],Ut=tt(Be),Gt=Be._fullLayout;if(Ne){var Et=Gt._zoomlayer,$t=Gt.dragmode,lr=a($t),Fr=c($t);if(lr||Fr){var yt=R(Be,it,"x"),Kt=R(Be,ot,"y");if(yt&&Kt){var Zt=Et.selectAll(".select-outline-"+Ne.id);if(Zt&&Be._fullLayout._outlining&&Zt.length){for(var Ar=Zt[0][0],vr=Ar.getAttribute("d"),ut=d(vr,Be,Ne),lt=[],xt=0;xt<ut.length;xt++){for(var Tt=ut[xt],Ct=[],At=0;At<Tt.length;At++)Ct.push([dt(yt,Tt[At][1]),dt(Kt,Tt[At][2])]);Ct.xref=it,Ct.yref=ot,Ct.subtract=vt(Ct,lt),lt.push(Ct)}Ut=Ut.concat(lt)}}}}var zt=it&&ot?[it+ot]:Gt._subplots.cartesian;We(Be);for(var Ht={},qt=0;qt<zt.length;qt++){var Qt=zt[qt],or=Qt.indexOf("y"),Lr=Qt.slice(0,or),Ze=Qt.slice(or),Ye=it&&ot?we:void 0;if(Ye=Qe(Ut,Lr,Ze,Ye),Ye){var It=ue;if(!Re){var kt=R(Be,Lr,"x"),Xt=R(Be,Ze,"y");It=le(Be,[kt],[Xt],Qt);for(var ir=0;ir<It.length;ir++){var ur=It[ir],nr=ur.cd[0],Nt=nr.trace;if(ur._module.name==="scattergl"&&!nr.t.xpx){var hr=Nt.x,pr=Nt.y,gr=Nt._length;nr.t.xpx=[],nr.t.ypx=[];for(var dr=0;dr<gr;dr++)nr.t.xpx[dr]=kt.c2p(hr[dr]),nr.t.ypx[dr]=Xt.c2p(pr[dr])}ur._module.name==="splom"&&(Ht[Nt.uid]||(Ht[Nt.uid]=!0))}}var Xr=He(Ye,It);wt=wt.concat(Xr),Ft=Ft.concat(It)}}var Br={points:wt};Ve(Be,Ft,Br);var Or=Gt.clickmode,mn=Or.indexOf("event")>-1&&De;if(!Ne&&De){var Jr=tt(Be,!0);if(Jr.length){var _n=Jr[0].xref,kn=Jr[0].yref;if(_n&&kn){var br=gt(Jr),wr=Rt([R(Be,_n,"x"),R(Be,kn,"y")]);wr(Br,br)}}Be._fullLayout._noEmitSelectedAtStart?Be._fullLayout._noEmitSelectedAtStart=!1:mn&&_e(Be,Br),Gt._reselect=!1}if(!Ne&&Gt._deselect){var Nr=Gt._deselect;it=Nr.xref,ot=Nr.yref,nt(it,ot,Ft)||qe(Be,it,ot,ue),mn&&(Br.points.length?_e(Be,Br):Fe(Be)),Gt._deselect=!1}return{eventData:Br,selectionTesters:we}}function We(Be){var De=Be.calcdata;if(De)for(var we=0;we<De.length;we++){var ue=De[we][0],me=ue.trace,Re=Be._fullLayout._splomScenes;if(Re){var Ne=Re[me.uid];Ne&&(Ne.selectBatch=[])}}}function nt(Be,De,we){for(var ue=0;ue<we.length;ue++){var me=we[ue];if(me.xaxis&&me.xaxis._id===Be&&me.yaxis&&me.yaxis._id===De)return!0}return!1}function qe(Be,De,we,ue){ue=le(Be,[R(Be,De,"x")],[R(Be,we,"y")],De+we);for(var me=0;me<ue.length;me++){var Re=ue[me];Re._module.selectPoints(Re,!1)}Ve(Be,ue)}function Qe(Be,De,we,ue){for(var me,Re=0;Re<Be.length;Re++){var Ne=Be[Re];if(!(De!==Ne.xref||we!==Ne.yref))if(me){var it=!!Ne.subtract;me=Te(me,Ne,it),ue=W(me)}else me=[Ne],ue=N(Ne)}return ue}function tt(Be,De){for(var we=[],ue=Be._fullLayout,me=ue.selections,Re=me.length,Ne=0;Ne<Re;Ne++)if(!(De&&Ne!==ue._activeSelectionIndex)){var it=me[Ne];if(it){var ot=it.xref,wt=it.yref,Ft=R(Be,ot,"x"),Ut=R(Be,wt,"y"),Gt,Et,$t,lr,Fr;if(it.type==="rect"){Fr=[];var yt=dt(Ft,it.x0),Kt=dt(Ft,it.x1),Zt=dt(Ut,it.y0),Ar=dt(Ut,it.y1);Fr=[[yt,Zt],[yt,Ar],[Kt,Ar],[Kt,Zt]],Gt=Math.min(yt,Kt),Et=Math.max(yt,Kt),$t=Math.min(Zt,Ar),lr=Math.max(Zt,Ar),Fr.xmin=Gt,Fr.xmax=Et,Fr.ymin=$t,Fr.ymax=lr,Fr.xref=ot,Fr.yref=wt,Fr.subtract=!1,Fr.isRect=!0,we.push(Fr)}else if(it.type==="path")for(var vr=it.path.split("Z"),ut=[],lt=0;lt<vr.length;lt++){var xt=vr[lt];if(xt){xt+="Z";var Tt=u.extractPathCoords(xt,b.paramIsX,"raw"),Ct=u.extractPathCoords(xt,b.paramIsY,"raw");Gt=1/0,Et=-1/0,$t=1/0,lr=-1/0,Fr=[];for(var At=0;At<Tt.length;At++){var zt=dt(Ft,Tt[At]),Ht=dt(Ut,Ct[At]);Fr.push([zt,Ht]),Gt=Math.min(zt,Gt),Et=Math.max(zt,Et),$t=Math.min(Ht,$t),lr=Math.max(Ht,lr)}Fr.xmin=Gt,Fr.xmax=Et,Fr.ymin=$t,Fr.ymax=lr,Fr.xref=ot,Fr.yref=wt,Fr.subtract=vt(Fr,ut),ut.push(Fr),we.push(Fr)}}}}return we}function vt(Be,De){for(var we=!1,ue=0;ue<De.length;ue++)for(var me=De[ue],Re=0;Re<Be.length;Re++)if(L(Be[Re],me)){we=!we;break}return we}function dt(Be,De){return Be.type==="date"&&(De=De.replace("_"," ")),Be.type==="log"?Be.c2p(De):Be.r2p(De,null,Be.calendar)}function gt(Be){for(var De=Be.length,we=[],ue=0;ue<De;ue++){var me=Be[ue];we=we.concat(me),we=we.concat([me[0]])}return Mt(we)}function Mt(Be){return Be.isRect=Be.length===5&&Be[0][0]===Be[4][0]&&Be[0][1]===Be[4][1]&&Be[0][0]===Be[1][0]&&Be[2][0]===Be[3][0]&&Be[0][1]===Be[3][1]&&Be[1][1]===Be[2][1]||Be[0][1]===Be[1][1]&&Be[2][1]===Be[3][1]&&Be[0][0]===Be[3][0]&&Be[1][0]===Be[2][0],Be.isRect&&(Be.xmin=Math.min(Be[0][0],Be[2][0]),Be.xmax=Math.max(Be[0][0],Be[2][0]),Be.ymin=Math.min(Be[0][1],Be[2][1]),Be.ymax=Math.max(Be[0][1],Be[2][1])),Be}function Rt(Be){return function(De,we){for(var ue,me,Re=0;Re<Be.length;Re++){var Ne=Be[Re],it=Ne._id,ot=it.charAt(0);if(we.isRect){ue||(ue={});var wt=we[ot+"min"],Ft=we[ot+"max"];wt!==void 0&&Ft!==void 0&&(ue[it]=[F(Ne,wt),F(Ne,Ft)].sort(E))}else me||(me={}),me[it]=we.map(U(Ne))}ue&&(De.range=ue),me&&(De.lassoPoints=me)}}function Wt(Be){var De=Be.plotinfo;return De.fillRangeItems||Rt(Be.xaxes.concat(Be.yaxes))}function je(Be,De){Be.emit("plotly_selecting",De)}function _e(Be,De){De&&(De.selections=(Be.layout||{}).selections||[]),Be.emit("plotly_selected",De)}function Fe(Be){Be.emit("plotly_deselect",null)}V.exports={reselect:ke,prepSelect:J,clearOutline:w,clearSelectionsCache:Q,selectOnClick:te}},89827:function(V,B,e){var p=e(50215),L=e(41940),n=e(82196).line,C=e(79952).P,y=e(1426).extendFlat,h=e(44467).templatedArray;e(24695);var g=e(5386).R,t=e(37281);V.exports=h("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:y({},p.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:y({},p.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:y({},n.color,{editType:"arraydraw"}),width:y({},n.width,{editType:"calc+arraydraw"}),dash:y({},C,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:g({},{keys:Object.keys(t)}),font:L({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(V,B,e){var p=e(71828),L=e(89298),n=e(21459),C=e(30477);V.exports=function(l){var a=l._fullLayout,s=p.filterVisible(a.shapes);if(!(!s.length||!l._fullData.length))for(var c=0;c<s.length;c++){var u=s[c];u._extremes={};var b,f,w=L.getRefType(u.xref),v=L.getRefType(u.yref);if(u.xref!=="paper"&&w!=="domain"){var o=u.xsizemode==="pixel"?u.xanchor:u.x0,d=u.xsizemode==="pixel"?u.xanchor:u.x1;b=L.getFromId(l,u.xref),f=t(b,o,d,u.path,n.paramIsX),f&&(u._extremes[b._id]=L.findExtremes(b,f,y(u)))}if(u.yref!=="paper"&&v!=="domain"){var S=u.ysizemode==="pixel"?u.yanchor:u.y0,M=u.ysizemode==="pixel"?u.yanchor:u.y1;b=L.getFromId(l,u.yref),f=t(b,S,M,u.path,n.paramIsY),f&&(u._extremes[b._id]=L.findExtremes(b,f,h(u)))}}};function y(r){return g(r.line.width,r.xsizemode,r.x0,r.x1,r.path,!1)}function h(r){return g(r.line.width,r.ysizemode,r.y0,r.y1,r.path,!0)}function g(r,l,a,s,c,u){var b=r/2,f=u;if(l==="pixel"){var w=c?C.extractPathCoords(c,u?n.paramIsY:n.paramIsX):[a,s],v=p.aggNums(Math.max,null,w),o=p.aggNums(Math.min,null,w),d=o<0?Math.abs(o)+b:b,S=v>0?v+b:b;return{ppad:b,ppadplus:f?d:S,ppadminus:f?S:d}}else return{ppad:b}}function t(r,l,a,s,c){var u=r.type==="category"||r.type==="multicategory"?r.r2c:r.d2c;if(l!==void 0)return[u(l),u(a)];if(s){var b=1/0,f=-1/0,w=s.match(n.segmentRE),v,o,d,S,M;for(r.type==="date"&&(u=C.decodeDate(u)),v=0;v<w.length;v++)o=w[v],d=c[o.charAt(0)].drawn,d!==void 0&&(S=w[v].substr(1).match(n.paramRE),!(!S||S.length<d)&&(M=u(S[d]),M<b&&(b=M),M>f&&(f=M)));if(f>=b)return[b,f]}}},21459:function(V){V.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(V,B,e){var p=e(71828),L=e(89298),n=e(85501),C=e(89827),y=e(30477);V.exports=function(r,l){n(r,l,{name:"shapes",handleItemDefaults:g})};function h(t,r){return t?"bottom":r.indexOf("top")!==-1?"top":r.indexOf("bottom")!==-1?"bottom":"middle"}function g(t,r,l){function a(fe,K){return p.coerce(t,r,C,fe,K)}var s=a("visible");if(s){var c=a("path"),u=c?"path":"rect",b=a("type",u),f=b!=="path";f&&delete r.path,a("editable"),a("layer"),a("opacity"),a("fillcolor"),a("fillrule");var w=a("line.width");w&&(a("line.color"),a("line.dash"));for(var v=a("xsizemode"),o=a("ysizemode"),d=["x","y"],S=0;S<2;S++){var M=d[S],P=M+"anchor",x=M==="x"?v:o,E={_fullLayout:l},T,i,R,A=L.coerceRef(t,r,E,M,void 0,"paper"),k=L.getRefType(A);if(k==="range"?(T=L.getFromId(E,A),T._shapeIndices.push(r._index),R=y.rangeToShapePosition(T),i=y.shapePositionToRange(T)):i=R=p.identity,f){var _=.25,H=.75,z=M+"0",N=M+"1",O=t[z],F=t[N];t[z]=i(t[z],!0),t[N]=i(t[N],!0),x==="pixel"?(a(z,0),a(N,10)):(L.coercePosition(r,E,a,A,z,_),L.coercePosition(r,E,a,A,N,H)),r[z]=R(r[z]),r[N]=R(r[N]),t[z]=O,t[N]=F}if(x==="pixel"){var U=t[P];t[P]=i(t[P],!0),L.coercePosition(r,E,a,A,P,.25),r[P]=R(r[P]),t[P]=U}}f&&p.noneOrAll(t,r,["x0","x1","y0","y1"]);var Z=b==="line",q,J;if(f&&(q=a("label.texttemplate")),q||(J=a("label.text")),J||q){a("label.textangle");var te=a("label.textposition",Z?"middle":"middle center");a("label.xanchor"),a("label.yanchor",h(Z,te)),a("label.padding"),p.coerceFont(a,"label.font",l.font)}}}},48100:function(V,B,e){var p=e(71828),L=e(89298),n=e(63893),C=e(91424),y=e(60165).readPaths,h=e(30477),g=h.getPathString,t=e(37281),r=e(18783).FROM_TL;V.exports=function(c,u,b,f){if(f.selectAll(".shape-label").remove(),!!(b.label.text||b.label.texttemplate)){var w;if(b.label.texttemplate){var v={};if(b.type!=="path"){var o=L.getFromId(c,b.xref),d=L.getFromId(c,b.yref);for(var S in t){var M=t[S](b,o,d);M!==void 0&&(v[S]=M)}}w=p.texttemplateStringForShapes(b.label.texttemplate,{},c._fullLayout._d3locale,v)}else w=b.label.text;var P={"data-index":u},x=b.label.font,E={"data-notex":1},T=f.append("g").attr(P).classed("shape-label",!0),i=T.append("text").attr(E).classed("shape-label-text",!0).text(w),R,A,k,_;if(b.path){var H=g(c,b),z=y(H,c);R=1/0,k=1/0,A=-1/0,_=-1/0;for(var N=0;N<z.length;N++)for(var O=0;O<z[N].length;O++)for(var F=z[N][O],U=1;U<F.length;U+=2){var Z=F[U],q=F[U+1];R=Math.min(R,Z),A=Math.max(A,Z),k=Math.min(k,q),_=Math.max(_,q)}}else{var J=L.getFromId(c,b.xref),te=L.getRefType(b.xref),fe=L.getFromId(c,b.yref),K=L.getRefType(b.yref),Y=h.getDataToPixel(c,J,!1,te),W=h.getDataToPixel(c,fe,!0,K);R=Y(b.x0),A=Y(b.x1),k=W(b.y0),_=W(b.y1)}var X=b.label.textangle;X==="auto"&&(b.type==="line"?X=l(R,k,A,_):X=0),i.call(function(oe){return oe.call(C.font,x).attr({}),n.convertToTspans(oe,c),oe});var re=C.bBox(i.node()),se=a(R,k,A,_,b,X,re),Q=se.textx,ee=se.texty,le=se.xanchor;i.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[le],y:ee,x:Q,transform:"rotate("+X+","+Q+","+ee+")"}).call(n.positionText,Q,ee)}};function l(s,c,u,b){var f,w;return w=Math.abs(u-s),u>=s?f=c-b:f=b-c,-180/Math.PI*Math.atan2(f,w)}function a(s,c,u,b,f,w,v){var o=f.label.textposition,d=f.label.textangle,S=f.label.padding,M=f.type,P=Math.PI/180*w,x=Math.sin(P),E=Math.cos(P),T=f.label.xanchor,i=f.label.yanchor,R,A,k,_;if(M==="line"){o==="start"?(R=s,A=c):o==="end"?(R=u,A=b):(R=(s+u)/2,A=(c+b)/2),T==="auto"&&(o==="start"?d==="auto"?u>s?T="left":u<s?T="right":T="center":u>s?T="right":u<s?T="left":T="center":o==="end"?d==="auto"?u>s?T="right":u<s?T="left":T="center":u>s?T="left":u<s?T="right":T="center":T="center");var H={left:1,center:0,right:-1},z={bottom:-1,middle:0,top:1};if(d==="auto"){var N=z[i];k=-S*x*N,_=S*E*N}else{var O=H[T],F=z[i];k=S*O,_=S*F}R=R+k,A=A+_}else k=S+3,o.indexOf("right")!==-1?(R=Math.max(s,u)-k,T==="auto"&&(T="right")):o.indexOf("left")!==-1?(R=Math.min(s,u)+k,T==="auto"&&(T="left")):(R=(s+u)/2,T==="auto"&&(T="center")),o.indexOf("top")!==-1?A=Math.min(c,b):o.indexOf("bottom")!==-1?A=Math.max(c,b):A=(c+b)/2,_=S,i==="bottom"?A=A-_:i==="top"&&(A=A+_);var U=r[i],Z=f.label.font.size,q=v.height,J=(q*U-Z)*x,te=-(q*U-Z)*E;return{textx:R+J,texty:A+te,xanchor:T}}},42359:function(V,B,e){var p=e(71828),L=p.strTranslate,n=e(28569),C=e(64505),y=C.drawMode,h=C.selectMode,g=e(73972),t=e(7901),r=e(89995),l=r.i000,a=r.i090,s=r.i180,c=r.i270,u=e(51873),b=u.clearOutlineControllers,f=e(60165),w=f.pointsOnRectangle,v=f.pointsOnEllipse,o=f.writePaths,d=e(90551).newShapes,S=e(90551).createShapeObj,M=e(35855),P=e(48100);V.exports=function i(R,A,k,_){_||(_=0);var H=k.gd;function z(){i(R,A,k,_++),(v(R[0])||k.hasText)&&N({redrawing:!0})}function N(Te){var Le={};k.isActiveShape!==void 0&&(k.isActiveShape=!1,Le=d(A,k)),k.isActiveSelection!==void 0&&(k.isActiveSelection=!1,Le=M(A,k),H._fullLayout._reselect=!0),Object.keys(Le).length&&g.call((Te||{}).redrawing?"relayout":"_guiRelayout",H,Le)}var O=H._fullLayout,F=O._zoomlayer,U=k.dragmode,Z=y(U),q=h(U);(Z||q)&&(H._fullLayout._outlining=!0),b(H),A.attr("d",o(R));var J,te,fe,K,Y;if(!_&&(k.isActiveShape||k.isActiveSelection)){Y=x([],R);var W=F.append("g").attr("class","outline-controllers");he(W),Ee()}if(Z&&k.hasText){var X=F.select(".label-temp"),re=S(A,k,k.dragmode);P(H,"label-temp",re,X)}function se(Te){fe=+Te.srcElement.getAttribute("data-i"),K=+Te.srcElement.getAttribute("data-j"),J[fe][K].moveFn=Q}function Q(Te,Le){if(R.length){var Ge=Y[fe][K][1],He=Y[fe][K][2],ke=R[fe],We=ke.length;if(w(ke)){var nt=Te,qe=Le;if(k.isActiveSelection){var Qe=E(ke,K);Qe[1]===ke[K][1]?qe=0:nt=0}for(var tt=0;tt<We;tt++)if(tt!==K){var vt=ke[tt];vt[1]===ke[K][1]&&(vt[1]=Ge+nt),vt[2]===ke[K][2]&&(vt[2]=He+qe)}if(ke[K][1]=Ge+nt,ke[K][2]=He+qe,!w(ke))for(var dt=0;dt<We;dt++)for(var gt=0;gt<ke[dt].length;gt++)ke[dt][gt]=Y[fe][dt][gt]}else ke[K][1]=Ge+Te,ke[K][2]=He+Le;z()}}function ee(){N()}function le(){if(R.length&&R[fe]&&R[fe].length){for(var Te=[],Le=0;Le<R[fe].length;Le++)Le!==K&&Te.push(R[fe][Le]);Te.length>1&&!(Te.length===2&&Te[1][0]==="Z")&&(K===0&&(Te[0][0]="M"),R[fe]=Te,z(),N())}}function oe(Te,Le){if(Te===2){fe=+Le.srcElement.getAttribute("data-i"),K=+Le.srcElement.getAttribute("data-j");var Ge=R[fe];!w(Ge)&&!v(Ge)&&le()}}function he(Te){J=[];for(var Le=0;Le<R.length;Le++){var Ge=R[Le],He=w(Ge),ke=!He&&v(Ge);J[Le]=[];for(var We=Ge.length,nt=0;nt<We;nt++)if(Ge[nt][0]!=="Z"&&!(ke&&nt!==l&&nt!==a&&nt!==s&&nt!==c)){var qe=He&&k.isActiveSelection,Qe;qe&&(Qe=E(Ge,nt));var tt=Ge[nt][1],vt=Ge[nt][2],dt=Te.append(qe?"rect":"circle").attr("data-i",Le).attr("data-j",nt).style({fill:t.background,stroke:t.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(qe){var gt=Qe[1]-tt,Mt=Qe[2]-vt,Rt=Mt?5:Math.max(Math.min(25,Math.abs(gt)-5),5),Wt=gt?5:Math.max(Math.min(25,Math.abs(Mt)-5),5);dt.classed(Mt?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Rt).attr("height",Wt).attr("x",tt-Rt/2).attr("y",vt-Wt/2).attr("transform",L(gt/2,Mt/2))}else dt.classed("cursor-grab",!0).attr("r",5).attr("cx",tt).attr("cy",vt);J[Le][nt]={element:dt.node(),gd:H,prepFn:se,doneFn:ee,clickFn:oe},n.init(J[Le][nt])}}}function xe(Te,Le){if(R.length)for(var Ge=0;Ge<R.length;Ge++)for(var He=0;He<R[Ge].length;He++)for(var ke=0;ke+2<R[Ge][He].length;ke+=2)R[Ge][He][ke+1]=Y[Ge][He][ke+1]+Te,R[Ge][He][ke+2]=Y[Ge][He][ke+2]+Le}function Ae(Te,Le){xe(Te,Le),z()}function Se(Te){fe=+Te.srcElement.getAttribute("data-i"),fe||(fe=0),te[fe].moveFn=Ae}function Oe(){N()}function Ve(Te){Te===2&&T(H)}function Ee(){if(te=[],!!R.length){var Te=0;te[Te]={element:A[0][0],gd:H,prepFn:Se,doneFn:Oe,clickFn:Ve},n.init(te[Te])}}};function x(i,R){for(var A=0;A<R.length;A++){var k=R[A];i[A]=[];for(var _=0;_<k.length;_++){i[A][_]=[];for(var H=0;H<k[_].length;H++)i[A][_][H]=k[_][H]}}return i}function E(i,R){var A=i[R][1],k=i[R][2],_=i.length,H,z,N;return H=(R+1)%_,z=i[H][1],N=i[H][2],z===A&&N===k&&(H=(R+2)%_,z=i[H][1],N=i[H][2]),[H,z,N]}function T(i){if(h(i._fullLayout.dragmode)){b(i);var R=i._fullLayout._activeSelectionIndex,A=(i.layout||{}).selections||[];if(R<A.length){for(var k=[],_=0;_<A.length;_++)_!==R&&k.push(A[_]);delete i._fullLayout._activeSelectionIndex;var H=i._fullLayout.selections[R];i._fullLayout._deselect={xref:H.xref,yref:H.yref},g.call("_guiRelayout",i,{selections:k})}}}},34031:function(V,B,e){var p=e(39898),L=e(73972),n=e(71828),C=e(89298),y=e(60165).readPaths,h=e(42359),g=e(48100),t=e(51873).clearOutlineControllers,r=e(7901),l=e(91424),a=e(44467).arrayEditor,s=e(28569),c=e(6964),u=e(21459),b=e(30477),f=b.getPathString;V.exports={draw:w,drawOne:d,eraseActiveShape:T,drawLabel:g};function w(i){var R=i._fullLayout;R._shapeUpperLayer.selectAll("path").remove(),R._shapeLowerLayer.selectAll("path").remove(),R._shapeUpperLayer.selectAll("text").remove(),R._shapeLowerLayer.selectAll("text").remove();for(var A in R._plots){var k=R._plots[A].shapelayer;k&&(k.selectAll("path").remove(),k.selectAll("text").remove())}for(var _=0;_<R.shapes.length;_++)R.shapes[_].visible&&d(i,_)}function v(i){return!!i._fullLayout._outlining}function o(i){return!i._context.edits.shapePosition}function d(i,R){i._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+R+'"]').remove();var A=b.makeShapesOptionsAndPlotinfo(i,R),k=A.options,_=A.plotinfo;if(!k._input||k.visible===!1)return;if(k.layer!=="below")z(i._fullLayout._shapeUpperLayer);else if(k.xref==="paper"||k.yref==="paper")z(i._fullLayout._shapeLowerLayer);else if(_._hadPlotinfo){var H=_.mainplotinfo||_;z(H.shapelayer)}else z(i._fullLayout._shapeLowerLayer);function z(N){var O=f(i,k),F={"data-index":R,"fill-rule":k.fillrule,d:O},U=k.opacity,Z=k.fillcolor,q=k.line.width?k.line.color:"rgba(0,0,0,0)",J=k.line.width,te=k.line.dash;!J&&k.editable===!0&&(J=5,te="solid");var fe=O[O.length-1]!=="Z",K=o(i)&&k.editable&&i._fullLayout._activeShapeIndex===R;K&&(Z=fe?"rgba(0,0,0,0)":i._fullLayout.activeshape.fillcolor,U=i._fullLayout.activeshape.opacity);var Y=N.append("g").classed("shape-group",!0).attr({"data-index":R}),W=Y.append("path").attr(F).style("opacity",U).call(r.stroke,q).call(r.fill,Z).call(l.dashLine,te,J);S(Y,i,k),g(i,R,k,Y);var X;if((K||i._context.edits.shapePosition)&&(X=a(i.layout,"shapes",k)),K){W.style({cursor:"move"});var re={element:W.node(),plotinfo:_,gd:i,editHelpers:X,hasText:k.label.text||k.label.texttemplate,isActiveShape:!0},se=y(O,i);h(se,W,re)}else i._context.edits.shapePosition?M(i,W,k,R,N,X):k.editable===!0&&W.style("pointer-events",fe||r.opacity(Z)*U<=.5?"stroke":"all");W.node().addEventListener("click",function(){return x(i,W)})}}function S(i,R,A){var k=(A.xref+A.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");l.setClipUrl(i,k?"clip"+R._fullLayout._uid+k:null,R)}function M(i,R,A,k,_,H){var z=10,N=10,O=A.xsizemode==="pixel",F=A.ysizemode==="pixel",U=A.type==="line",Z=A.type==="path",q=H.modifyItem,J,te,fe,K,Y,W,X,re,se,Q,ee,le,oe,he,xe,Ae=p.select(R.node().parentNode),Se=C.getFromId(i,A.xref),Oe=C.getRefType(A.xref),Ve=C.getFromId(i,A.yref),Ee=C.getRefType(A.yref),Te=b.getDataToPixel(i,Se,!1,Oe),Le=b.getDataToPixel(i,Ve,!0,Ee),Ge=b.getPixelToData(i,Se,!1,Oe),He=b.getPixelToData(i,Ve,!0,Ee),ke=qe(),We={element:ke.node(),gd:i,prepFn:vt,doneFn:dt,clickFn:gt},nt;s.init(We),ke.node().onmousemove=tt;function qe(){return U?Qe():R}function Qe(){var Fe=10,Be=Math.max(A.line.width,Fe),De=_.append("g").attr("data-index",k).attr("drag-helper",!0);De.append("path").attr("d",R.attr("d")).style({cursor:"move","stroke-width":Be,"stroke-opacity":"0"});var we={"fill-opacity":"0"},ue=Math.max(Be/2,Fe);return De.append("circle").attr({"data-line-point":"start-point",cx:O?Te(A.xanchor)+A.x0:Te(A.x0),cy:F?Le(A.yanchor)-A.y0:Le(A.y0),r:ue}).style(we).classed("cursor-grab",!0),De.append("circle").attr({"data-line-point":"end-point",cx:O?Te(A.xanchor)+A.x1:Te(A.x1),cy:F?Le(A.yanchor)-A.y1:Le(A.y1),r:ue}).style(we).classed("cursor-grab",!0),De}function tt(Fe){if(v(i)){nt=null;return}if(U)Fe.target.tagName==="path"?nt="move":nt=Fe.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Be=We.element.getBoundingClientRect(),De=Be.right-Be.left,we=Be.bottom-Be.top,ue=Fe.clientX-Be.left,me=Fe.clientY-Be.top,Re=!Z&&De>z&&we>N&&!Fe.shiftKey?s.getCursor(ue/De,1-me/we):"move";c(R,Re),nt=Re.split("-")[0]}}function vt(Fe){v(i)||(O&&(Y=Te(A.xanchor)),F&&(W=Le(A.yanchor)),A.type==="path"?xe=A.path:(J=O?A.x0:Te(A.x0),te=F?A.y0:Le(A.y0),fe=O?A.x1:Te(A.x1),K=F?A.y1:Le(A.y1)),J<fe?(se=J,oe="x0",Q=fe,he="x1"):(se=fe,oe="x1",Q=J,he="x0"),!F&&te<K||F&&te>K?(X=te,ee="y0",re=K,le="y1"):(X=K,ee="y1",re=te,le="y0"),tt(Fe),Wt(_,A),_e(R,A,i),We.moveFn=nt==="move"?Mt:Rt,We.altKey=Fe.altKey)}function dt(){v(i)||(c(R),je(_),S(R,i,A),L.call("_guiRelayout",i,H.getUpdateObj()))}function gt(){v(i)||je(_)}function Mt(Fe,Be){if(A.type==="path"){var De=function(me){return me},we=De,ue=De;O?q("xanchor",A.xanchor=Ge(Y+Fe)):(we=function(Re){return Ge(Te(Re)+Fe)},Se&&Se.type==="date"&&(we=b.encodeDate(we))),F?q("yanchor",A.yanchor=He(W+Be)):(ue=function(Re){return He(Le(Re)+Be)},Ve&&Ve.type==="date"&&(ue=b.encodeDate(ue))),q("path",A.path=P(xe,we,ue))}else O?q("xanchor",A.xanchor=Ge(Y+Fe)):(q("x0",A.x0=Ge(J+Fe)),q("x1",A.x1=Ge(fe+Fe))),F?q("yanchor",A.yanchor=He(W+Be)):(q("y0",A.y0=He(te+Be)),q("y1",A.y1=He(K+Be)));R.attr("d",f(i,A)),Wt(_,A),g(i,k,A,Ae)}function Rt(Fe,Be){if(Z){var De=function(yt){return yt},we=De,ue=De;O?q("xanchor",A.xanchor=Ge(Y+Fe)):(we=function(Kt){return Ge(Te(Kt)+Fe)},Se&&Se.type==="date"&&(we=b.encodeDate(we))),F?q("yanchor",A.yanchor=He(W+Be)):(ue=function(Kt){return He(Le(Kt)+Be)},Ve&&Ve.type==="date"&&(ue=b.encodeDate(ue))),q("path",A.path=P(xe,we,ue))}else if(U){if(nt==="resize-over-start-point"){var me=J+Fe,Re=F?te-Be:te+Be;q("x0",A.x0=O?me:Ge(me)),q("y0",A.y0=F?Re:He(Re))}else if(nt==="resize-over-end-point"){var Ne=fe+Fe,it=F?K-Be:K+Be;q("x1",A.x1=O?Ne:Ge(Ne)),q("y1",A.y1=F?it:He(it))}}else{var ot=function(yt){return nt.indexOf(yt)!==-1},wt=ot("n"),Ft=ot("s"),Ut=ot("w"),Gt=ot("e"),Et=wt?X+Be:X,$t=Ft?re+Be:re,lr=Ut?se+Fe:se,Fr=Gt?Q+Fe:Q;F&&(wt&&(Et=X-Be),Ft&&($t=re-Be)),(!F&&$t-Et>N||F&&Et-$t>N)&&(q(ee,A[ee]=F?Et:He(Et)),q(le,A[le]=F?$t:He($t))),Fr-lr>z&&(q(oe,A[oe]=O?lr:Ge(lr)),q(he,A[he]=O?Fr:Ge(Fr)))}R.attr("d",f(i,A)),Wt(_,A),g(i,k,A,Ae)}function Wt(Fe,Be){(O||F)&&De();function De(){var we=Be.type!=="path",ue=Fe.selectAll(".visual-cue").data([0]),me=1;ue.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":me}).classed("visual-cue",!0);var Re=Te(O?Be.xanchor:n.midRange(we?[Be.x0,Be.x1]:b.extractPathCoords(Be.path,u.paramIsX))),Ne=Le(F?Be.yanchor:n.midRange(we?[Be.y0,Be.y1]:b.extractPathCoords(Be.path,u.paramIsY)));if(Re=b.roundPositionForSharpStrokeRendering(Re,me),Ne=b.roundPositionForSharpStrokeRendering(Ne,me),O&&F){var it="M"+(Re-1-me)+","+(Ne-1-me)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";ue.attr("d",it)}else if(O){var ot="M"+(Re-1-me)+","+(Ne-9-me)+"v18 h2 v-18 Z";ue.attr("d",ot)}else{var wt="M"+(Re-9-me)+","+(Ne-1-me)+"h18 v2 h-18 Z";ue.attr("d",wt)}}}function je(Fe){Fe.selectAll(".visual-cue").remove()}function _e(Fe,Be,De){var we=Be.xref,ue=Be.yref,me=C.getFromId(De,we),Re=C.getFromId(De,ue),Ne="";we!=="paper"&&!me.autorange&&(Ne+=we),ue!=="paper"&&!Re.autorange&&(Ne+=ue),l.setClipUrl(Fe,Ne?"clip"+De._fullLayout._uid+Ne:null,De)}}function P(i,R,A){return i.replace(u.segmentRE,function(k){var _=0,H=k.charAt(0),z=u.paramIsX[H],N=u.paramIsY[H],O=u.numParams[H],F=k.substr(1).replace(u.paramRE,function(U){return _>=O||(z[_]?U=R(U):N[_]&&(U=A(U)),_++),U});return H+F})}function x(i,R){if(o(i)){var A=R.node(),k=+A.getAttribute("data-index");if(k>=0){if(k===i._fullLayout._activeShapeIndex){E(i);return}i._fullLayout._activeShapeIndex=k,i._fullLayout._deactivateShape=E,w(i)}}}function E(i){if(o(i)){var R=i._fullLayout._activeShapeIndex;R>=0&&(t(i),delete i._fullLayout._activeShapeIndex,w(i))}}function T(i){if(o(i)){t(i);var R=i._fullLayout._activeShapeIndex,A=(i.layout||{}).shapes||[];if(R<A.length){for(var k=[],_=0;_<A.length;_++)_!==R&&k.push(A[_]);delete i._fullLayout._activeShapeIndex,L.call("_guiRelayout",i,{shapes:k})}}}},29241:function(V,B,e){var p=e(41940),L=e(79952).P,n=e(1426).extendFlat,C=e(5386).R,y=e(37281);V.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:n({},L,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},label:{text:{valType:"string",dflt:"",editType:"none"},texttemplate:C({newshape:!0,editType:"none"},{keys:Object.keys(y)}),font:p({editType:"none"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"none"},textangle:{valType:"angle",dflt:"auto",editType:"none"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"none"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"none"},padding:{valType:"number",dflt:3,min:0,editType:"none"},editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},89995:function(V){var B=32;V.exports={CIRCLE_SIDES:B,i000:0,i090:B/4,i180:B/2,i270:B/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(V,B,e){var p=e(7901),L=e(71828);function n(C,y){return C?"bottom":y.indexOf("top")!==-1?"top":y.indexOf("bottom")!==-1?"bottom":"middle"}V.exports=function(y,h,g){g("newshape.drawdirection"),g("newshape.layer"),g("newshape.fillcolor"),g("newshape.fillrule"),g("newshape.opacity");var t=g("newshape.line.width");if(t){var r=(y||{}).plot_bgcolor||"#FFF";g("newshape.line.color",p.contrast(r)),g("newshape.line.dash")}var l=y.dragmode==="drawline",a=g("newshape.label.text"),s=g("newshape.label.texttemplate");if(a||s){g("newshape.label.textangle");var c=g("newshape.label.textposition",l?"middle":"middle center");g("newshape.label.xanchor"),g("newshape.label.yanchor",n(l,c)),g("newshape.label.padding"),L.coerceFont(g,"newshape.label.font",h.font)}g("activeshape.fillcolor"),g("activeshape.opacity")}},60165:function(V,B,e){var p=e(95616),L=e(89995),n=L.CIRCLE_SIDES,C=L.SQRT2,y=e(75549),h=y.p2r,g=y.r2p,t=[0,3,4,5,6,1,2],r=[0,3,4,1,2];B.writePaths=function(s){var c=s.length;if(!c)return"M0,0Z";for(var u="",b=0;b<c;b++)for(var f=s[b].length,w=0;w<f;w++){var v=s[b][w][0];if(v==="Z")u+="Z";else for(var o=s[b][w].length,d=0;d<o;d++){var S=d;v==="Q"||v==="S"?S=r[d]:v==="C"&&(S=t[d]),u+=s[b][w][S],d>0&&d<o-1&&(u+=",")}}return u},B.readPaths=function(s,c,u,b){var f=p(s),w=[],v=-1,o=function(){v++,w[v]=[]},d,S=0,M=0,P,x,E=function(){P=S,x=M};E();for(var T=0;T<f.length;T++){var i=[],R,A,k,_,H=f[T][0],z=H;switch(H){case"M":o(),S=+f[T][1],M=+f[T][2],i.push([z,S,M]),E();break;case"Q":case"S":R=+f[T][1],k=+f[T][2],S=+f[T][3],M=+f[T][4],i.push([z,S,M,R,k]);break;case"C":R=+f[T][1],k=+f[T][2],A=+f[T][3],_=+f[T][4],S=+f[T][5],M=+f[T][6],i.push([z,S,M,R,k,A,_]);break;case"T":case"L":S=+f[T][1],M=+f[T][2],i.push([z,S,M]);break;case"H":z="L",S=+f[T][1],i.push([z,S,M]);break;case"V":z="L",M=+f[T][1],i.push([z,S,M]);break;case"A":z="L";var N=+f[T][1],O=+f[T][2];+f[T][4]||(N=-N,O=-O);var F=S-N,U=M;for(d=1;d<=n/2;d++){var Z=2*Math.PI*d/n;i.push([z,F+N*Math.cos(Z),U+O*Math.sin(Z)])}break;case"Z":(S!==P||M!==x)&&(S=P,M=x,i.push([z,S,M]));break}for(var q=(u||{}).domain,J=c._fullLayout._size,te=u&&u.xsizemode==="pixel",fe=u&&u.ysizemode==="pixel",K=b===!1,Y=0;Y<i.length;Y++){for(d=0;d+2<7;d+=2){var W=i[Y][d+1],X=i[Y][d+2];W===void 0||X===void 0||(S=W,M=X,u&&(u.xaxis&&u.xaxis.p2r?(K&&(W-=u.xaxis._offset),te?W=g(u.xaxis,u.xanchor)+W:W=h(u.xaxis,W)):(K&&(W-=J.l),q?W=q.x[0]+W/J.w:W=W/J.w),u.yaxis&&u.yaxis.p2r?(K&&(X-=u.yaxis._offset),fe?X=g(u.yaxis,u.yanchor)-X:X=h(u.yaxis,X)):(K&&(X-=J.t),q?X=q.y[1]-X/J.h:X=1-X/J.h)),i[Y][d+1]=W,i[Y][d+2]=X)}w[v].push(i[Y].slice())}}return w};function l(s,c){return Math.abs(s-c)<=1e-6}function a(s,c){var u=c[1]-s[1],b=c[2]-s[2];return Math.sqrt(u*u+b*b)}B.pointsOnRectangle=function(s){var c=s.length;if(c!==5)return!1;for(var u=1;u<3;u++){var b=s[0][u]-s[1][u],f=s[3][u]-s[2][u];if(!l(b,f))return!1;var w=s[0][u]-s[3][u],v=s[1][u]-s[2][u];if(!l(w,v))return!1}return!l(s[0][1],s[1][1])&&!l(s[0][1],s[3][1])?!1:!!(a(s[0],s[1])*a(s[0],s[3]))},B.pointsOnEllipse=function(s){var c=s.length;if(c!==n+1)return!1;c=n;for(var u=0;u<c;u++){var b=(c*2-u)%c,f=(c/2+b)%c,w=(c/2+u)%c;if(!l(a(s[u],s[w]),a(s[b],s[f])))return!1}return!0},B.handleEllipse=function(s,c,u){if(!s)return[c,u];var b=B.ellipseOver({x0:c[0],y0:c[1],x1:u[0],y1:u[1]}),f=(b.x1+b.x0)/2,w=(b.y1+b.y0)/2,v=(b.x1-b.x0)/2,o=(b.y1-b.y0)/2;v||(v=o=o/C),o||(o=v=v/C);for(var d=[],S=0;S<n;S++){var M=S*2*Math.PI/n;d.push([f+v*Math.cos(M),w+o*Math.sin(M)])}return d},B.ellipseOver=function(s){var c=s.x0,u=s.y0,b=s.x1,f=s.y1,w=b-c,v=f-u;c-=w,u-=v;var o=(c+b)/2,d=(u+f)/2,S=C;return w*=S,v*=S,{x0:o-w,y0:d-v,x1:o+w,y1:d+v}},B.fixDatesForPaths=function(s,c,u){var b=c.type==="date",f=u.type==="date";if(!b&&!f)return s;for(var w=0;w<s.length;w++)for(var v=0;v<s[w].length;v++)for(var o=0;o+2<s[w][v].length;o+=2)b&&(s[w][v][o+1]=s[w][v][o+1].replace(" ","_")),f&&(s[w][v][o+2]=s[w][v][o+2].replace(" ","_"));return s}},90551:function(V,B,e){var p=e(64505),L=p.drawMode,n=p.openMode,C=e(89995),y=C.i000,h=C.i090,g=C.i180,t=C.i270,r=C.cos45,l=C.sin45,a=e(75549),s=a.p2r,c=a.r2p,u=e(51873),b=u.clearOutline,f=e(60165),w=f.readPaths,v=f.writePaths,o=f.ellipseOver,d=f.fixDatesForPaths;function S(P,x){if(P.length){var E=P[0][0];if(E){var T=x.gd,i=x.isActiveShape,R=x.dragmode,A=(T.layout||{}).shapes||[];if(!L(R)&&i!==void 0){var k=T._fullLayout._activeShapeIndex;if(k<A.length)switch(T._fullLayout.shapes[k].type){case"rect":R="drawrect";break;case"circle":R="drawcircle";break;case"line":R="drawline";break;case"path":var _=A[k].path||"";_[_.length-1]==="Z"?R="drawclosedpath":R="drawopenpath";break}}var H=M(P,x,R);b(T);for(var z=x.editHelpers,N=(z||{}).modifyItem,O=[],F=0;F<A.length;F++){var U=T._fullLayout.shapes[F];if(O[F]=U._input,i!==void 0&&F===T._fullLayout._activeShapeIndex){var Z=H;switch(U.type){case"line":case"rect":case"circle":N("x0",Z.x0),N("x1",Z.x1),N("y0",Z.y0),N("y1",Z.y1);break;case"path":N("path",Z.path);break}}}return i===void 0?(O.push(H),O):z?z.getUpdateObj():{}}}}function M(P,x,E){var T=P[0][0],i=x.gd,R=T.getAttribute("d"),A=i._fullLayout.newshape,k=x.plotinfo,_=x.isActiveShape,H=k.xaxis,z=k.yaxis,N=!!k.domain||!k.xaxis,O=!!k.domain||!k.yaxis,F=n(E),U=w(R,i,k,_),Z={editable:!0,label:A.label,xref:N?"paper":H._id,yref:O?"paper":z._id,layer:A.layer,opacity:A.opacity,line:{color:A.line.color,width:A.line.width,dash:A.line.dash}};F||(Z.fillcolor=A.fillcolor,Z.fillrule=A.fillrule);var q;if(U.length===1&&(q=U[0]),q&&q.length===5&&E==="drawrect")Z.type="rect",Z.x0=q[0][1],Z.y0=q[0][2],Z.x1=q[2][1],Z.y1=q[2][2];else if(q&&E==="drawline")Z.type="line",Z.x0=q[0][1],Z.y0=q[0][2],Z.x1=q[1][1],Z.y1=q[1][2];else if(q&&E==="drawcircle"){Z.type="circle";var J=q[y][1],te=q[h][1],fe=q[g][1],K=q[t][1],Y=q[y][2],W=q[h][2],X=q[g][2],re=q[t][2],se=k.xaxis&&(k.xaxis.type==="date"||k.xaxis.type==="log"),Q=k.yaxis&&(k.yaxis.type==="date"||k.yaxis.type==="log");se&&(J=c(k.xaxis,J),te=c(k.xaxis,te),fe=c(k.xaxis,fe),K=c(k.xaxis,K)),Q&&(Y=c(k.yaxis,Y),W=c(k.yaxis,W),X=c(k.yaxis,X),re=c(k.yaxis,re));var ee=(te+K)/2,le=(Y+X)/2,oe=(K-te+fe-J)/2,he=(re-W+X-Y)/2,xe=o({x0:ee,y0:le,x1:ee+oe*r,y1:le+he*l});se&&(xe.x0=s(k.xaxis,xe.x0),xe.x1=s(k.xaxis,xe.x1)),Q&&(xe.y0=s(k.yaxis,xe.y0),xe.y1=s(k.yaxis,xe.y1)),Z.x0=xe.x0,Z.y0=xe.y0,Z.x1=xe.x1,Z.y1=xe.y1}else Z.type="path",H&&z&&d(U,H,z),Z.path=v(U),q=null;return Z}V.exports={newShapes:S,createShapeObj:M}},51873:function(V){function B(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".outline-controllers").remove()}function e(p){var L=p._fullLayout._zoomlayer;L&&L.selectAll(".select-outline").remove(),p._fullLayout._outlining=!1}V.exports={clearOutlineControllers:B,clearOutline:e}},30477:function(V,B,e){var p=e(21459),L=e(71828),n=e(89298);B.rangeToShapePosition=function(y){return y.type==="log"?y.r2d:function(h){return h}},B.shapePositionToRange=function(y){return y.type==="log"?y.d2r:function(h){return h}},B.decodeDate=function(y){return function(h){return h.replace&&(h=h.replace("_"," ")),y(h)}},B.encodeDate=function(y){return function(h){return y(h).replace(" ","_")}},B.extractPathCoords=function(y,h,g){var t=[],r=y.match(p.segmentRE);return r.forEach(function(l){var a=h[l.charAt(0)].drawn;if(a!==void 0){var s=l.substr(1).match(p.paramRE);if(!(!s||s.length<a)){var c=s[a],u=g?c:L.cleanNumber(c);t.push(u)}}}),t},B.getDataToPixel=function(y,h,g,t){var r=y._fullLayout._size,l;if(h)if(t==="domain")l=function(s){return h._length*(g?1-s:s)+h._offset};else{var a=B.shapePositionToRange(h);l=function(s){return h._offset+h.r2p(a(s,!0))},h.type==="date"&&(l=B.decodeDate(l))}else g?l=function(s){return r.t+r.h*(1-s)}:l=function(s){return r.l+r.w*s};return l},B.getPixelToData=function(y,h,g,t){var r=y._fullLayout._size,l;if(h)if(t==="domain")l=function(s){var c=(s-h._offset)/h._length;return g?1-c:c};else{var a=B.rangeToShapePosition(h);l=function(s){return a(h.p2r(s-h._offset))}}else g?l=function(s){return 1-(s-r.t)/r.h}:l=function(s){return(s-r.l)/r.w};return l},B.roundPositionForSharpStrokeRendering=function(y,h){var g=Math.round(h%2)===1,t=Math.round(y);return g?t+.5:t},B.makeShapesOptionsAndPlotinfo=function(y,h){var g=y._fullLayout.shapes[h]||{},t=y._fullLayout._plots[g.xref+g.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},g.xref&&g.xref!=="paper"&&(t.xaxis=y._fullLayout[g.xref+"axis"]),g.yref&&g.yref!=="paper"&&(t.yaxis=y._fullLayout[g.yref+"axis"])),t.xsizemode=g.xsizemode,t.ysizemode=g.ysizemode,t.xanchor=g.xanchor,t.yanchor=g.yanchor,{options:g,plotinfo:t}},B.makeSelectionsOptionsAndPlotinfo=function(y,h){var g=y._fullLayout.selections[h]||{},t=y._fullLayout._plots[g.xref+g.yref],r=!!t;return r?t._hadPlotinfo=!0:(t={},g.xref&&(t.xaxis=y._fullLayout[g.xref+"axis"]),g.yref&&(t.yaxis=y._fullLayout[g.yref+"axis"])),{options:g,plotinfo:t}},B.getPathString=function(y,h){var g=h.type,t=n.getRefType(h.xref),r=n.getRefType(h.yref),l=n.getFromId(y,h.xref),a=n.getFromId(y,h.yref),s=y._fullLayout._size,c,u,b,f,w,v,o,d;if(l?t==="domain"?u=function(k){return l._offset+l._length*k}:(c=B.shapePositionToRange(l),u=function(k){return l._offset+l.r2p(c(k,!0))}):u=function(k){return s.l+s.w*k},a?r==="domain"?f=function(k){return a._offset+a._length*(1-k)}:(b=B.shapePositionToRange(a),f=function(k){return a._offset+a.r2p(b(k,!0))}):f=function(k){return s.t+s.h*(1-k)},g==="path")return l&&l.type==="date"&&(u=B.decodeDate(u)),a&&a.type==="date"&&(f=B.decodeDate(f)),C(h,u,f);if(h.xsizemode==="pixel"){var S=u(h.xanchor);w=S+h.x0,v=S+h.x1}else w=u(h.x0),v=u(h.x1);if(h.ysizemode==="pixel"){var M=f(h.yanchor);o=M-h.y0,d=M-h.y1}else o=f(h.y0),d=f(h.y1);if(g==="line")return"M"+w+","+o+"L"+v+","+d;if(g==="rect")return"M"+w+","+o+"H"+v+"V"+d+"H"+w+"Z";var P=(w+v)/2,x=(o+d)/2,E=Math.abs(P-w),T=Math.abs(x-o),i="A"+E+","+T,R=P+E+","+x,A=P+","+(x-T);return"M"+R+i+" 0 1,1 "+A+i+" 0 0,1 "+R+"Z"};function C(y,h,g){var t=y.path,r=y.xsizemode,l=y.ysizemode,a=y.xanchor,s=y.yanchor;return t.replace(p.segmentRE,function(c){var u=0,b=c.charAt(0),f=p.paramIsX[b],w=p.paramIsY[b],v=p.numParams[b],o=c.substr(1).replace(p.paramRE,function(d){return f[u]?r==="pixel"?d=h(a)+Number(d):d=h(d):w[u]&&(l==="pixel"?d=g(s)-Number(d):d=g(d)),u++,u>v&&(d="X"),d});return u>v&&(o=o.replace(/[\s,]*X.*/,""),L.log("Ignoring extra params in segment "+c)),b+o})}},89853:function(V,B,e){var p=e(34031);V.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:p.draw,drawOne:p.drawOne}},37281:function(V){function B(c,u){return u?u.d2l(c):c}function e(c,u){return u?u.l2d(c):c}function p(c){return c.x0}function L(c){return c.x1}function n(c){return c.y0}function C(c){return c.y1}function y(c,u){return B(c.x1,u)-B(c.x0,u)}function h(c,u,b){return B(c.y1,b)-B(c.y0,b)}function g(c,u){return Math.abs(y(c,u))}function t(c,u,b){return Math.abs(h(c,u,b))}function r(c,u,b){return c.type!=="line"?void 0:Math.sqrt(Math.pow(y(c,u),2)+Math.pow(h(c,u,b),2))}function l(c,u){return e((B(c.x1,u)+B(c.x0,u))/2,u)}function a(c,u,b){return e((B(c.y1,b)+B(c.y0,b))/2,b)}function s(c,u,b){return c.type!=="line"?void 0:h(c,u,b)/y(c,u)}V.exports={x0:p,x1:L,y0:n,y1:C,slope:s,dx:y,dy:h,width:g,height:t,length:r,xcenter:l,ycenter:a}},75067:function(V,B,e){var p=e(41940),L=e(35025),n=e(1426).extendDeepAll,C=e(30962).overrideAll,y=e(85594),h=e(44467).templatedArray,g=e(98292),t=h("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});V.exports=C(h("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:n(L({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:y.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:p({})},font:p({}),activebgcolor:{valType:"color",dflt:g.gripBgActiveColor},bgcolor:{valType:"color",dflt:g.railBgColor},bordercolor:{valType:"color",dflt:g.railBorderColor},borderwidth:{valType:"number",min:0,dflt:g.railBorderWidth},ticklen:{valType:"number",min:0,dflt:g.tickLength},tickcolor:{valType:"color",dflt:g.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:g.minorTickLength}}),"arraydraw","from-root")},98292:function(V){V.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(V,B,e){var p=e(71828),L=e(85501),n=e(75067),C=e(98292),y=C.name,h=n.steps;V.exports=function(l,a){L(l,a,{name:y,handleItemDefaults:g})};function g(r,l,a){function s(d,S){return p.coerce(r,l,n,d,S)}for(var c=L(r,l,{name:"steps",handleItemDefaults:t}),u=0,b=0;b<c.length;b++)c[b].visible&&u++;var f;if(u<2?f=l.visible=!1:f=s("visible"),!!f){l._stepCount=u;var w=l._visibleSteps=p.filterVisible(c),v=s("active");(c[v]||{}).visible||(l.active=w[0]._index),s("x"),s("y"),p.noneOrAll(r,l,["x","y"]),s("xanchor"),s("yanchor"),s("len"),s("lenmode"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),p.coerceFont(s,"font",a.font);var o=s("currentvalue.visible");o&&(s("currentvalue.xanchor"),s("currentvalue.prefix"),s("currentvalue.suffix"),s("currentvalue.offset"),p.coerceFont(s,"currentvalue.font",l.font)),s("transition.duration"),s("transition.easing"),s("bgcolor"),s("activebgcolor"),s("bordercolor"),s("borderwidth"),s("ticklen"),s("tickwidth"),s("tickcolor"),s("minorticklen")}}function t(r,l){function a(u,b){return p.coerce(r,l,h,u,b)}var s;if(r.method!=="skip"&&!Array.isArray(r.args)?s=l.visible=!1:s=a("visible"),s){a("method"),a("args");var c=a("label","step-"+l._index);a("value",c),a("execute")}}},44504:function(V,B,e){var p=e(39898),L=e(74875),n=e(7901),C=e(91424),y=e(71828),h=y.strTranslate,g=e(63893),t=e(44467).arrayEditor,r=e(98292),l=e(18783),a=l.LINE_SPACING,s=l.FROM_TL,c=l.FROM_BR;V.exports=function(N){var O=N._context.staticPlot,F=N._fullLayout,U=b(F,N),Z=F._infolayer.selectAll("g."+r.containerClassName).data(U.length>0?[0]:[]);Z.enter().append("g").classed(r.containerClassName,!0).style("cursor",O?null:"ew-resize");function q(K){K._commandObserver&&(K._commandObserver.remove(),delete K._commandObserver),L.autoMargin(N,u(K))}if(Z.exit().each(function(){p.select(this).selectAll("g."+r.groupClassName).each(q)}).remove(),U.length!==0){var J=Z.selectAll("g."+r.groupClassName).data(U,f);J.enter().append("g").classed(r.groupClassName,!0),J.exit().each(q).remove();for(var te=0;te<U.length;te++){var fe=U[te];w(N,fe)}J.each(function(K){var Y=p.select(this);i(K),L.manageCommandObserver(N,K,K._visibleSteps,function(W){var X=Y.data()[0];X.active!==W.index&&(X._dragging||x(N,Y,X,W.index,!1,!0))}),v(N,p.select(this),K)})}};function u(z){return r.autoMarginIdRoot+z._index}function b(z,N){for(var O=z[r.name],F=[],U=0;U<O.length;U++){var Z=O[U];Z.visible&&(Z._gd=N,F.push(Z))}return F}function f(z){return z._index}function w(z,N){var O=C.tester.selectAll("g."+r.labelGroupClass).data(N._visibleSteps);O.enter().append("g").classed(r.labelGroupClass,!0);var F=0,U=0;O.each(function(re){var se=p.select(this),Q=S(se,{step:re},N),ee=Q.node();if(ee){var le=C.bBox(ee);U=Math.max(U,le.height),F=Math.max(F,le.width)}}),O.remove();var Z=N._dims={};Z.inputAreaWidth=Math.max(r.railWidth,r.gripHeight);var q=z._fullLayout._size;Z.lx=q.l+q.w*N.x,Z.ly=q.t+q.h*(1-N.y),N.lenmode==="fraction"?Z.outerLength=Math.round(q.w*N.len):Z.outerLength=N.len,Z.inputAreaStart=0,Z.inputAreaLength=Math.round(Z.outerLength-N.pad.l-N.pad.r);var J=Z.inputAreaLength-2*r.stepInset,te=J/(N._stepCount-1),fe=F+r.labelPadding;if(Z.labelStride=Math.max(1,Math.ceil(fe/te)),Z.labelHeight=U,Z.currentValueMaxWidth=0,Z.currentValueHeight=0,Z.currentValueTotalHeight=0,Z.currentValueMaxLines=1,N.currentvalue.visible){var K=C.tester.append("g");O.each(function(re){var se=o(K,N,re.label),Q=se.node()&&C.bBox(se.node())||{width:0,height:0},ee=g.lineCount(se);Z.currentValueMaxWidth=Math.max(Z.currentValueMaxWidth,Math.ceil(Q.width)),Z.currentValueHeight=Math.max(Z.currentValueHeight,Math.ceil(Q.height)),Z.currentValueMaxLines=Math.max(Z.currentValueMaxLines,ee)}),Z.currentValueTotalHeight=Z.currentValueHeight+N.currentvalue.offset,K.remove()}Z.height=Z.currentValueTotalHeight+r.tickOffset+N.ticklen+r.labelOffset+Z.labelHeight+N.pad.t+N.pad.b;var Y="left";y.isRightAnchor(N)&&(Z.lx-=Z.outerLength,Y="right"),y.isCenterAnchor(N)&&(Z.lx-=Z.outerLength/2,Y="center");var W="top";y.isBottomAnchor(N)&&(Z.ly-=Z.height,W="bottom"),y.isMiddleAnchor(N)&&(Z.ly-=Z.height/2,W="middle"),Z.outerLength=Math.ceil(Z.outerLength),Z.height=Math.ceil(Z.height),Z.lx=Math.round(Z.lx),Z.ly=Math.round(Z.ly);var X={y:N.y,b:Z.height*c[W],t:Z.height*s[W]};N.lenmode==="fraction"?(X.l=0,X.xl=N.x-N.len*s[Y],X.r=0,X.xr=N.x+N.len*c[Y]):(X.x=N.x,X.l=Z.outerLength*s[Y],X.r=Z.outerLength*c[Y]),L.autoMargin(z,u(N),X)}function v(z,N,O){(O.steps[O.active]||{}).visible||(O.active=O._visibleSteps[0]._index),N.call(o,O).call(H,O).call(M,O).call(T,O).call(_,z,O).call(d,z,O);var F=O._dims;C.setTranslate(N,F.lx+O.pad.l,F.ly+O.pad.t),N.call(R,O,!1),N.call(o,O)}function o(z,N,O){if(N.currentvalue.visible){var F=N._dims,U,Z;switch(N.currentvalue.xanchor){case"right":U=F.inputAreaLength-r.currentValueInset-F.currentValueMaxWidth,Z="left";break;case"center":U=F.inputAreaLength*.5,Z="middle";break;default:U=r.currentValueInset,Z="left"}var q=y.ensureSingle(z,"text",r.labelClass,function(W){W.attr({"text-anchor":Z,"data-notex":1})}),J=N.currentvalue.prefix?N.currentvalue.prefix:"";if(typeof O=="string")J+=O;else{var te=N.steps[N.active].label,fe=N._gd._fullLayout._meta;fe&&(te=y.templateString(te,fe)),J+=te}N.currentvalue.suffix&&(J+=N.currentvalue.suffix),q.call(C.font,N.currentvalue.font).text(J).call(g.convertToTspans,N._gd);var K=g.lineCount(q),Y=(F.currentValueMaxLines+1-K)*N.currentvalue.font.size*a;return g.positionText(q,U,Y),q}}function d(z,N,O){var F=y.ensureSingle(z,"rect",r.gripRectClass,function(U){U.call(E,N,z,O).style("pointer-events","all")});F.attr({width:r.gripWidth,height:r.gripHeight,rx:r.gripRadius,ry:r.gripRadius}).call(n.stroke,O.bordercolor).call(n.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function S(z,N,O){var F=y.ensureSingle(z,"text",r.labelClass,function(q){q.attr({"text-anchor":"middle","data-notex":1})}),U=N.step.label,Z=O._gd._fullLayout._meta;return Z&&(U=y.templateString(U,Z)),F.call(C.font,O.font).text(U).call(g.convertToTspans,O._gd),F}function M(z,N){var O=y.ensureSingle(z,"g",r.labelsClass),F=N._dims,U=O.selectAll("g."+r.labelGroupClass).data(F.labelSteps);U.enter().append("g").classed(r.labelGroupClass,!0),U.exit().remove(),U.each(function(Z){var q=p.select(this);q.call(S,Z,N),C.setTranslate(q,A(N,Z.fraction),r.tickOffset+N.ticklen+N.font.size*a+r.labelOffset+F.currentValueTotalHeight)})}function P(z,N,O,F,U){var Z=Math.round(F*(O._stepCount-1)),q=O._visibleSteps[Z]._index;q!==O.active&&x(z,N,O,q,!0,U)}function x(z,N,O,F,U,Z){var q=O.active;O.active=F,t(z.layout,r.name,O).applyUpdate("active",F);var J=O.steps[O.active];N.call(R,O,Z),N.call(o,O),z.emit("plotly_sliderchange",{slider:O,step:O.steps[O.active],interaction:U,previousActive:q}),J&&J.method&&U&&(N._nextMethod?(N._nextMethod.step=J,N._nextMethod.doCallback=U,N._nextMethod.doTransition=Z):(N._nextMethod={step:J,doCallback:U,doTransition:Z},N._nextMethodRaf=window.requestAnimationFrame(function(){var te=N._nextMethod.step;te.method&&(te.execute&&L.executeAPICommand(z,te.method,te.args),N._nextMethod=null,N._nextMethodRaf=null)})))}function E(z,N,O){if(N._context.staticPlot)return;var F=O.node(),U=p.select(N);function Z(){return O.data()[0]}function q(){var J=Z();N.emit("plotly_sliderstart",{slider:J});var te=O.select("."+r.gripRectClass);p.event.stopPropagation(),p.event.preventDefault(),te.call(n.fill,J.activebgcolor);var fe=k(J,p.mouse(F)[0]);P(N,O,J,fe,!0),J._dragging=!0;function K(){var W=Z(),X=k(W,p.mouse(F)[0]);P(N,O,W,X,!1)}U.on("mousemove",K),U.on("touchmove",K);function Y(){var W=Z();W._dragging=!1,te.call(n.fill,W.bgcolor),U.on("mouseup",null),U.on("mousemove",null),U.on("touchend",null),U.on("touchmove",null),N.emit("plotly_sliderend",{slider:W,step:W.steps[W.active]})}U.on("mouseup",Y),U.on("touchend",Y)}z.on("mousedown",q),z.on("touchstart",q)}function T(z,N){var O=z.selectAll("rect."+r.tickRectClass).data(N._visibleSteps),F=N._dims;O.enter().append("rect").classed(r.tickRectClass,!0),O.exit().remove(),O.attr({width:N.tickwidth+"px","shape-rendering":"crispEdges"}),O.each(function(U,Z){var q=Z%F.labelStride===0,J=p.select(this);J.attr({height:q?N.ticklen:N.minorticklen}).call(n.fill,N.tickcolor),C.setTranslate(J,A(N,Z/(N._stepCount-1))-.5*N.tickwidth,(q?r.tickOffset:r.minorTickOffset)+F.currentValueTotalHeight)})}function i(z){var N=z._dims;N.labelSteps=[];for(var O=z._stepCount,F=0;F<O;F+=N.labelStride)N.labelSteps.push({fraction:F/(O-1),step:z._visibleSteps[F]})}function R(z,N,O){for(var F=z.select("rect."+r.gripRectClass),U=0,Z=0;Z<N._stepCount;Z++)if(N._visibleSteps[Z]._index===N.active){U=Z;break}var q=A(N,U/(N._stepCount-1));if(!N._invokingCommand){var J=F;O&&N.transition.duration>0&&(J=J.transition().duration(N.transition.duration).ease(N.transition.easing)),J.attr("transform",h(q-r.gripWidth*.5,N._dims.currentValueTotalHeight))}}function A(z,N){var O=z._dims;return O.inputAreaStart+r.stepInset+(O.inputAreaLength-2*r.stepInset)*Math.min(1,Math.max(0,N))}function k(z,N){var O=z._dims;return Math.min(1,Math.max(0,(N-r.stepInset-O.inputAreaStart)/(O.inputAreaLength-2*r.stepInset-2*O.inputAreaStart)))}function _(z,N,O){var F=O._dims,U=y.ensureSingle(z,"rect",r.railTouchRectClass,function(Z){Z.call(E,N,z,O).style("pointer-events","all")});U.attr({width:F.inputAreaLength,height:Math.max(F.inputAreaWidth,r.tickOffset+O.ticklen+F.labelHeight)}).call(n.fill,O.bgcolor).attr("opacity",0),C.setTranslate(U,0,F.currentValueTotalHeight)}function H(z,N){var O=N._dims,F=O.inputAreaLength-r.railInset*2,U=y.ensureSingle(z,"rect",r.railRectClass);U.attr({width:F,height:r.railWidth,rx:r.railRadius,ry:r.railRadius,"shape-rendering":"crispEdges"}).call(n.stroke,N.bordercolor).call(n.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px"),C.setTranslate(U,r.railInset,(O.inputAreaWidth-r.railWidth)*.5+O.currentValueTotalHeight)}},23243:function(V,B,e){var p=e(98292);V.exports={moduleType:"component",name:p.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(V,B,e){var p=e(39898),L=e(92770),n=e(74875),C=e(73972),y=e(71828),h=y.strTranslate,g=e(91424),t=e(7901),r=e(63893),l=e(37822),a=e(18783).OPPOSITE_SIDE,s=/ [XY][0-9]* /;function c(u,b,f){var w=f.propContainer,v=f.propName,o=f.placeholder,d=f.traceIndex,S=f.avoid||{},M=f.attributes,P=f.transform,x=f.containerGroup,E=u._fullLayout,T=1,i=!1,R=w.title,A=(R&&R.text?R.text:"").trim(),k=R&&R.font?R.font:{},_=k.family,H=k.size,z=k.color,N;v==="title.text"?N="titleText":v.indexOf("axis")!==-1?N="axisTitleText":v.indexOf("colorbar"!==-1)&&(N="colorbarTitleText");var O=u._context.edits[N];A===""?T=0:A.replace(s," % ")===o.replace(s," % ")&&(T=.2,i=!0,O||(A="")),f._meta?A=y.templateString(A,f._meta):E._meta&&(A=y.templateString(A,E._meta));var F=A||O,U;x||(x=y.ensureSingle(E._infolayer,"g","g-"+b),U=E._hColorbarMoveTitle);var Z=x.selectAll("text").data(F?[0]:[]);if(Z.enter().append("text"),Z.text(A).attr("class",b),Z.exit().remove(),!F)return x;function q(K){y.syncOrAsync([J,te],K)}function J(K){var Y;return!P&&U&&(P={}),P?(Y="",P.rotate&&(Y+="rotate("+[P.rotate,M.x,M.y]+")"),(P.offset||U)&&(Y+=h(0,(P.offset||0)-(U||0)))):Y=null,K.attr("transform",Y),K.style({"font-family":_,"font-size":p.round(H,2)+"px",fill:t.rgb(z),opacity:T*t.opacity(z),"font-weight":n.fontWeight}).attr(M).call(r.convertToTspans,u),n.previousPromises(u)}function te(K){var Y=p.select(K.node().parentNode);if(S&&S.selection&&S.side&&A){Y.attr("transform",null);var W=a[S.side],X=S.side==="left"||S.side==="top"?-1:1,re=L(S.pad)?S.pad:2,se=g.bBox(Y.node()),Q={t:0,b:0,l:0,r:0},ee=u._fullLayout._reservedMargin;for(var le in ee)for(var oe in ee[le]){var he=ee[le][oe];Q[oe]=Math.max(Q[oe],he)}var xe={left:Q.l,top:Q.t,right:E.width-Q.r,bottom:E.height-Q.b},Ae=S.maxShift||X*(xe[S.side]-se[S.side]),Se=0;if(Ae<0)Se=Ae;else{var Oe=S.offsetLeft||0,Ve=S.offsetTop||0;se.left-=Oe,se.right-=Oe,se.top-=Ve,se.bottom-=Ve,S.selection.each(function(){var Te=g.bBox(this);y.bBoxIntersect(se,Te,re)&&(Se=Math.max(Se,X*(Te[S.side]-se[W])+re))}),Se=Math.min(Ae,Se),w._titleScoot=Math.abs(Se)}if(Se>0||Ae<0){var Ee={left:[-Se,0],right:[Se,0],top:[0,-Se],bottom:[0,Se]}[S.side];Y.attr("transform",h(Ee[0],Ee[1]))}}}Z.call(q);function fe(){T=0,i=!0,Z.text(o).on("mouseover.opacity",function(){p.select(this).transition().duration(l.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){p.select(this).transition().duration(l.HIDE_PLACEHOLDER).style("opacity",0)})}return O&&(A?Z.on(".opacity",null):fe(),Z.call(r.makeEditable,{gd:u}).on("edit",function(K){d!==void 0?C.call("_guiRestyle",u,v,K,d):C.call("_guiRelayout",u,v,K)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(q)}).on("input",function(K){this.text(K||" ").call(r.positionText,M.x,M.y)})),Z.classed("js-placeholder",i),x}V.exports={draw:c}},7163:function(V,B,e){var p=e(41940),L=e(22399),n=e(1426).extendFlat,C=e(30962).overrideAll,y=e(35025),h=e(44467).templatedArray,g=h("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});V.exports=C(h("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:g,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:n(y({editType:"arraydraw"}),{}),font:p({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:L.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(V){V.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},64897:function(V,B,e){var p=e(71828),L=e(85501),n=e(7163),C=e(75909),y=C.name,h=n.buttons;V.exports=function(l,a){var s={name:y,handleItemDefaults:g};L(l,a,s)};function g(r,l,a){function s(b,f){return p.coerce(r,l,n,b,f)}var c=L(r,l,{name:"buttons",handleItemDefaults:t}),u=s("visible",c.length>0);u&&(s("active"),s("direction"),s("type"),s("showactive"),s("x"),s("y"),p.noneOrAll(r,l,["x","y"]),s("xanchor"),s("yanchor"),s("pad.t"),s("pad.r"),s("pad.b"),s("pad.l"),p.coerceFont(s,"font",a.font),s("bgcolor",a.paper_bgcolor),s("bordercolor"),s("borderwidth"))}function t(r,l){function a(c,u){return p.coerce(r,l,h,c,u)}var s=a("visible",r.method==="skip"||Array.isArray(r.args));s&&(a("method"),a("args"),a("args2"),a("label"),a("execute"))}},13689:function(V,B,e){var p=e(39898),L=e(74875),n=e(7901),C=e(91424),y=e(71828),h=e(63893),g=e(44467).arrayEditor,t=e(18783).LINE_SPACING,r=e(75909),l=e(25849);V.exports=function(k){var _=k._fullLayout,H=y.filterVisible(_[r.name]);function z(te){L.autoMargin(k,T(te))}var N=_._menulayer.selectAll("g."+r.containerClassName).data(H.length>0?[0]:[]);if(N.enter().append("g").classed(r.containerClassName,!0).style("cursor","pointer"),N.exit().each(function(){p.select(this).selectAll("g."+r.headerGroupClassName).each(z)}).remove(),H.length!==0){var O=N.selectAll("g."+r.headerGroupClassName).data(H,a);O.enter().append("g").classed(r.headerGroupClassName,!0);for(var F=y.ensureSingle(N,"g",r.dropdownButtonGroupClassName,function(te){te.style("pointer-events","all")}),U=0;U<H.length;U++){var Z=H[U];E(k,Z)}var q="updatemenus"+_._uid,J=new l(k,F,q);O.enter().size()&&(F.node().parentNode.appendChild(F.node()),F.call(R)),O.exit().each(function(te){F.call(R),z(te)}).remove(),O.each(function(te){var fe=p.select(this),K=te.type==="dropdown"?F:null;L.manageCommandObserver(k,te,te.buttons,function(Y){u(k,te,te.buttons[Y.index],fe,K,J,Y.index,!0)}),te.type==="dropdown"?(b(k,fe,F,J,te),c(F,te)&&f(k,fe,F,J,te)):f(k,fe,null,null,te)})}};function a(A){return A._index}function s(A){return+A.attr(r.menuIndexAttrName)==-1}function c(A,k){return+A.attr(r.menuIndexAttrName)===k._index}function u(A,k,_,H,z,N,O,F){k.active=O,g(A.layout,r.name,k).applyUpdate("active",O),k.type==="buttons"?f(A,H,null,null,k):k.type==="dropdown"&&(z.attr(r.menuIndexAttrName,"-1"),b(A,H,z,N,k),F||f(A,H,z,N,k))}function b(A,k,_,H,z){var N=y.ensureSingle(k,"g",r.headerClassName,function(te){te.style("pointer-events","all")}),O=z._dims,F=z.active,U=z.buttons[F]||r.blankHeaderOpts,Z={y:z.pad.t,yPad:0,x:z.pad.l,xPad:0,index:0},q={width:O.headerWidth,height:O.headerHeight};N.call(o,z,U,A).call(i,z,Z,q);var J=y.ensureSingle(k,"text",r.headerArrowClassName,function(te){te.attr("text-anchor","end").call(C.font,z.font).text(r.arrowSymbol[z.direction])});J.attr({x:O.headerWidth-r.arrowOffsetX+z.pad.l,y:O.headerHeight/2+r.textOffsetY+z.pad.t}),N.on("click",function(){_.call(R,String(c(_,z)?-1:z._index)),f(A,k,_,H,z)}),N.on("mouseover",function(){N.call(P)}),N.on("mouseout",function(){N.call(x,z)}),C.setTranslate(k,O.lx,O.ly)}function f(A,k,_,H,z){_||(_=k,_.attr("pointer-events","all"));var N=!s(_)||z.type==="buttons"?z.buttons:[],O=z.type==="dropdown"?r.dropdownButtonClassName:r.buttonClassName,F=_.selectAll("g."+O).data(y.filterVisible(N)),U=F.enter().append("g").classed(O,!0),Z=F.exit();z.type==="dropdown"?(U.attr("opacity","0").transition().attr("opacity","1"),Z.transition().attr("opacity","0").remove()):Z.remove();var q=0,J=0,te=z._dims,fe=["up","down"].indexOf(z.direction)!==-1;z.type==="dropdown"&&(fe?J=te.headerHeight+r.gapButtonHeader:q=te.headerWidth+r.gapButtonHeader),z.type==="dropdown"&&z.direction==="up"&&(J=-r.gapButtonHeader+r.gapButton-te.openHeight),z.type==="dropdown"&&z.direction==="left"&&(q=-r.gapButtonHeader+r.gapButton-te.openWidth);var K={x:te.lx+q+z.pad.l,y:te.ly+J+z.pad.t,yPad:r.gapButton,xPad:r.gapButton,index:0},Y={l:K.x+z.borderwidth,t:K.y+z.borderwidth};F.each(function(W,X){var re=p.select(this);re.call(o,z,W,A).call(i,z,K),re.on("click",function(){p.event.defaultPrevented||(W.execute&&(W.args2&&z.active===X?(u(A,z,W,k,_,H,-1),L.executeAPICommand(A,W.method,W.args2)):(u(A,z,W,k,_,H,X),L.executeAPICommand(A,W.method,W.args))),A.emit("plotly_buttonclicked",{menu:z,button:W,active:z.active}))}),re.on("mouseover",function(){re.call(P)}),re.on("mouseout",function(){re.call(x,z),F.call(M,z)})}),F.call(M,z),fe?(Y.w=Math.max(te.openWidth,te.headerWidth),Y.h=K.y-Y.t):(Y.w=K.x-Y.l,Y.h=Math.max(te.openHeight,te.headerHeight)),Y.direction=z.direction,H&&(F.size()?w(A,k,_,H,z,Y):v(H))}function w(A,k,_,H,z,N){var O=z.direction,F=O==="up"||O==="down",U=z._dims,Z=z.active,q,J,te;if(F)for(J=0,te=0;te<Z;te++)J+=U.heights[te]+r.gapButton;else for(q=0,te=0;te<Z;te++)q+=U.widths[te]+r.gapButton;H.enable(N,q,J),H.hbar&&H.hbar.attr("opacity","0").transition().attr("opacity","1"),H.vbar&&H.vbar.attr("opacity","0").transition().attr("opacity","1")}function v(A){var k=!!A.hbar,_=!!A.vbar;k&&A.hbar.transition().attr("opacity","0").each("end",function(){k=!1,_||A.disable()}),_&&A.vbar.transition().attr("opacity","0").each("end",function(){_=!1,k||A.disable()})}function o(A,k,_,H){A.call(d,k).call(S,k,_,H)}function d(A,k){var _=y.ensureSingle(A,"rect",r.itemRectClassName,function(H){H.attr({rx:r.rx,ry:r.ry,"shape-rendering":"crispEdges"})});_.call(n.stroke,k.bordercolor).call(n.fill,k.bgcolor).style("stroke-width",k.borderwidth+"px")}function S(A,k,_,H){var z=y.ensureSingle(A,"text",r.itemTextClassName,function(F){F.attr({"text-anchor":"start","data-notex":1})}),N=_.label,O=H._fullLayout._meta;O&&(N=y.templateString(N,O)),z.call(C.font,k.font).text(N).call(h.convertToTspans,H)}function M(A,k){var _=k.active;A.each(function(H,z){var N=p.select(this);z===_&&k.showactive&&N.select("rect."+r.itemRectClassName).call(n.fill,r.activeColor)})}function P(A){A.select("rect."+r.itemRectClassName).call(n.fill,r.hoverColor)}function x(A,k){A.select("rect."+r.itemRectClassName).call(n.fill,k.bgcolor)}function E(A,k){var _=k._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},H=C.tester.selectAll("g."+r.dropdownButtonClassName).data(y.filterVisible(k.buttons));H.enter().append("g").classed(r.dropdownButtonClassName,!0);var z=["up","down"].indexOf(k.direction)!==-1;H.each(function(q,J){var te=p.select(this);te.call(o,k,q,A);var fe=te.select("."+r.itemTextClassName),K=fe.node()&&C.bBox(fe.node()).width,Y=Math.max(K+r.textPadX,r.minWidth),W=k.font.size*t,X=h.lineCount(fe),re=Math.max(W*X,r.minHeight)+r.textOffsetY;re=Math.ceil(re),Y=Math.ceil(Y),_.widths[J]=Y,_.heights[J]=re,_.height1=Math.max(_.height1,re),_.width1=Math.max(_.width1,Y),z?(_.totalWidth=Math.max(_.totalWidth,Y),_.openWidth=_.totalWidth,_.totalHeight+=re+r.gapButton,_.openHeight+=re+r.gapButton):(_.totalWidth+=Y+r.gapButton,_.openWidth+=Y+r.gapButton,_.totalHeight=Math.max(_.totalHeight,re),_.openHeight=_.totalHeight)}),z?_.totalHeight-=r.gapButton:_.totalWidth-=r.gapButton,_.headerWidth=_.width1+r.arrowPadX,_.headerHeight=_.height1,k.type==="dropdown"&&(z?(_.width1+=r.arrowPadX,_.totalHeight=_.height1):_.totalWidth=_.width1,_.totalWidth+=r.arrowPadX),H.remove();var N=_.totalWidth+k.pad.l+k.pad.r,O=_.totalHeight+k.pad.t+k.pad.b,F=A._fullLayout._size;_.lx=F.l+F.w*k.x,_.ly=F.t+F.h*(1-k.y);var U="left";y.isRightAnchor(k)&&(_.lx-=N,U="right"),y.isCenterAnchor(k)&&(_.lx-=N/2,U="center");var Z="top";y.isBottomAnchor(k)&&(_.ly-=O,Z="bottom"),y.isMiddleAnchor(k)&&(_.ly-=O/2,Z="middle"),_.totalWidth=Math.ceil(_.totalWidth),_.totalHeight=Math.ceil(_.totalHeight),_.lx=Math.round(_.lx),_.ly=Math.round(_.ly),L.autoMargin(A,T(k),{x:k.x,y:k.y,l:N*({right:1,center:.5}[U]||0),r:N*({left:1,center:.5}[U]||0),b:O*({top:1,middle:.5}[Z]||0),t:O*({bottom:1,middle:.5}[Z]||0)})}function T(A){return r.autoMarginIdRoot+A._index}function i(A,k,_,H){H=H||{};var z=A.select("."+r.itemRectClassName),N=A.select("."+r.itemTextClassName),O=k.borderwidth,F=_.index,U=k._dims;C.setTranslate(A,O+_.x,O+_.y);var Z=["up","down"].indexOf(k.direction)!==-1,q=H.height||(Z?U.heights[F]:U.height1);z.attr({x:0,y:0,width:H.width||(Z?U.width1:U.widths[F]),height:q});var J=k.font.size*t,te=h.lineCount(N),fe=(te-1)*J/2;h.positionText(N,r.textOffsetX,q/2-fe+r.textOffsetY),Z?_.y+=U.heights[F]+_.yPad:_.x+=U.widths[F]+_.xPad,_.index++}function R(A,k){A.attr(r.menuIndexAttrName,k||"-1").selectAll("g."+r.dropdownButtonClassName).remove()}},20763:function(V,B,e){var p=e(75909);V.exports={moduleType:"component",name:p.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(V,B,e){V.exports=y;var p=e(39898),L=e(7901),n=e(91424),C=e(71828);function y(h,g,t){this.gd=h,this.container=g,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}y.barWidth=2,y.barLength=20,y.barRadius=2,y.barPad=1,y.barColor="#808BA4",y.prototype.enable=function(g,t,r){var l=this.gd._fullLayout,a=l.width,s=l.height;this.position=g;var c=this.position.l,u=this.position.w,b=this.position.t,f=this.position.h,w=this.position.direction,v=w==="down",o=w==="left",d=w==="right",S=w==="up",M=u,P=f,x,E,T,i;!v&&!o&&!d&&!S&&(this.position.direction="down",v=!0);var R=v||S;R?(x=c,E=x+M,v?(T=b,i=Math.min(T+P,s),P=i-T):(i=b+P,T=Math.max(i-P,0),P=i-T)):(T=b,i=T+P,o?(E=c+M,x=Math.max(E-M,0),M=E-x):(x=c,E=Math.min(x+M,a),M=E-x)),this._box={l:x,t:T,w:M,h:P};var A=u>M,k=y.barLength+2*y.barPad,_=y.barWidth+2*y.barPad,H=c,z=b+f;z+_>s&&(z=s-_);var N=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);N.exit().on(".drag",null).remove(),N.enter().append("rect").classed("scrollbar-horizontal",!0).call(L.fill,y.barColor),A?(this.hbar=N.attr({rx:y.barRadius,ry:y.barRadius,x:H,y:z,width:k,height:_}),this._hbarXMin=H+k/2,this._hbarTranslateMax=M-k):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=f>P,F=y.barWidth+2*y.barPad,U=y.barLength+2*y.barPad,Z=c+u,q=b;Z+F>a&&(Z=a-F);var J=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);J.exit().on(".drag",null).remove(),J.enter().append("rect").classed("scrollbar-vertical",!0).call(L.fill,y.barColor),O?(this.vbar=J.attr({rx:y.barRadius,ry:y.barRadius,x:Z,y:q,width:F,height:U}),this._vbarYMin=q+U/2,this._vbarTranslateMax=P-U):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var te=this.id,fe=x-.5,K=O?E+F+.5:E+.5,Y=T-.5,W=A?i+_+.5:i+.5,X=l._topdefs.selectAll("#"+te).data(A||O?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",te).append("rect"),A||O?(this._clipRect=X.select("rect").attr({x:Math.floor(fe),y:Math.floor(Y),width:Math.ceil(K)-Math.floor(fe),height:Math.ceil(W)-Math.floor(Y)}),this.container.call(n.setClipUrl,te,this.gd),this.bg.attr({x:c,y:b,width:u,height:f})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),A||O){var re=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(re);var se=p.behavior.drag().on("dragstart",function(){p.event.sourceEvent.preventDefault(),p.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call(se),O&&this.vbar.on(".drag",null).call(se)}this.setTranslate(t,r)},y.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(n.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},y.prototype._onBoxDrag=function(){var g=this.translateX,t=this.translateY;this.hbar&&(g-=p.event.dx),this.vbar&&(t-=p.event.dy),this.setTranslate(g,t)},y.prototype._onBoxWheel=function(){var g=this.translateX,t=this.translateY;this.hbar&&(g+=p.event.deltaY),this.vbar&&(t+=p.event.deltaY),this.setTranslate(g,t)},y.prototype._onBarDrag=function(){var g=this.translateX,t=this.translateY;if(this.hbar){var r=g+this._hbarXMin,l=r+this._hbarTranslateMax,a=C.constrain(p.event.x,r,l),s=(a-r)/(l-r),c=this.position.w-this._box.w;g=s*c}if(this.vbar){var u=t+this._vbarYMin,b=u+this._vbarTranslateMax,f=C.constrain(p.event.y,u,b),w=(f-u)/(b-u),v=this.position.h-this._box.h;t=w*v}this.setTranslate(g,t)},y.prototype.setTranslate=function(g,t){var r=this.position.w-this._box.w,l=this.position.h-this._box.h;if(g=C.constrain(g||0,0,r),t=C.constrain(t||0,0,l),this.translateX=g,this.translateY=t,this.container.call(n.setTranslate,this._box.l-this.position.l-g,this._box.t-this.position.t-t),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+g-.5),y:Math.floor(this.position.t+t-.5)}),this.hbar){var a=g/r;this.hbar.call(n.setTranslate,g+a*this._hbarTranslateMax,t)}if(this.vbar){var s=t/l;this.vbar.call(n.setTranslate,g,t+s*this._vbarTranslateMax)}}},18783:function(V){V.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(V){V.exports={axisRefDescription:function(B,e,p){return["If set to a",B,"axis id (e.g. *"+B+"* or","*"+B+"2*), the `"+B+"` position refers to a",B,"coordinate. If set to *paper*, the `"+B+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+p+"). If set to a",B,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+B+"2 domain* refers to the domain of the second",B," axis and a",B,"position of 0.5 refers to the","point between the",e,"and the",p,"of the domain of the","second",B,"axis."].join(" ")}}},22372:function(V){V.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:""},DECREASING:{COLOR:"#FF4136",SYMBOL:""}}},31562:function(V){V.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(V){V.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(V){V.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(V){V.exports={circle:"","circle-open":"",square:"","square-open":"",diamond:"","diamond-open":"",cross:"+",x:""}},37822:function(V){V.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(V){V.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:""}},32396:function(V,B){B.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],B.STYLE=B.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(V,B){B.xmlns="http://www.w3.org/2000/xmlns/",B.svg="http://www.w3.org/2000/svg",B.xlink="http://www.w3.org/1999/xlink",B.svgAttrs={xmlns:B.svg,"xmlns:xlink":B.xlink}},8729:function(V,B,e){B.version=e(11506).version,e(7417),e(98847);for(var p=e(73972),L=B.register=p.register,n=e(10641),C=Object.keys(n),y=0;y<C.length;y++){var h=C[y];h.charAt(0)!=="_"&&(B[h]=n[h]),L({moduleType:"apiMethod",name:h,fn:n[h]})}L(e(67368)),L([e(2199),e(30211),e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(64168)]),L([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(L(window.PlotlyLocales),delete window.PlotlyLocales),B.Icons=e(24255);var g=e(30211),t=e(74875);B.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},B.Fx={hover:g.hover,unhover:g.unhover,loneHover:g.loneHover,loneUnhover:g.loneUnhover},B.Snapshot=e(44511),B.PlotSchema=e(86281)},24255:function(V){V.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(V,B){B.isLeftAnchor=function(p){return p.xanchor==="left"||p.xanchor==="auto"&&p.x<=.3333333333333333},B.isCenterAnchor=function(p){return p.xanchor==="center"||p.xanchor==="auto"&&p.x>.3333333333333333&&p.x<.6666666666666666},B.isRightAnchor=function(p){return p.xanchor==="right"||p.xanchor==="auto"&&p.x>=.6666666666666666},B.isTopAnchor=function(p){return p.yanchor==="top"||p.yanchor==="auto"&&p.y>=.6666666666666666},B.isMiddleAnchor=function(p){return p.yanchor==="middle"||p.yanchor==="auto"&&p.y>.3333333333333333&&p.y<.6666666666666666},B.isBottomAnchor=function(p){return p.yanchor==="bottom"||p.yanchor==="auto"&&p.y<=.3333333333333333}},26348:function(V,B,e){var p=e(64872),L=p.mod,n=p.modHalf,C=Math.PI,y=2*C;function h(w){return w/180*C}function g(w){return w/C*180}function t(w){return Math.abs(w[1]-w[0])>y-1e-14}function r(w,v){return n(v-w,y)}function l(w,v){return Math.abs(r(w,v))}function a(w,v){if(t(v))return!0;var o,d;v[0]<v[1]?(o=v[0],d=v[1]):(o=v[1],d=v[0]),o=L(o,y),d=L(d,y),o>d&&(d+=y);var S=L(w,y),M=S+y;return S>=o&&S<=d||M>=o&&M<=d}function s(w,v,o,d){if(!a(v,d))return!1;var S,M;return o[0]<o[1]?(S=o[0],M=o[1]):(S=o[1],M=o[0]),w>=S&&w<=M}function c(w,v,o,d,S,M,P){S=S||0,M=M||0;var x=t([o,d]),E,T,i,R,A;x?(E=0,T=C,i=y):o<d?(E=o,i=d):(E=d,i=o),w<v?(R=w,A=v):(R=v,A=w);function k(N,O){return[N*Math.cos(O)+S,M-N*Math.sin(O)]}var _=Math.abs(i-E)<=C?0:1;function H(N,O,F){return"A"+[N,N]+" "+[0,_,F]+" "+k(N,O)}var z;return x?R===null?z="M"+k(A,E)+H(A,T,0)+H(A,i,0)+"Z":z="M"+k(R,E)+H(R,T,0)+H(R,i,0)+"ZM"+k(A,E)+H(A,T,1)+H(A,i,1)+"Z":R===null?(z="M"+k(A,E)+H(A,i,0),P&&(z+="L0,0Z")):z="M"+k(R,E)+"L"+k(A,E)+H(A,i,0)+"L"+k(R,i)+H(R,E,1)+"Z",z}function u(w,v,o,d,S){return c(null,w,v,o,d,S,0)}function b(w,v,o,d,S){return c(null,w,v,o,d,S,1)}function f(w,v,o,d,S,M){return c(w,v,o,d,S,M,1)}V.exports={deg2rad:h,rad2deg:g,angleDelta:r,angleDist:l,isFullCircle:t,isAngleInsideSector:a,isPtInsideSector:s,pathArc:u,pathSector:b,pathAnnulus:f}},73627:function(V,B){var e=Array.isArray,p=ArrayBuffer,L=DataView;function n(g){return p.isView(g)&&!(g instanceof L)}B.isTypedArray=n;function C(g){return e(g)||n(g)}B.isArrayOrTypedArray=C;function y(g){return!C(g[0])}B.isArray1D=y,B.ensureArray=function(g,t){return e(g)||(g=[]),g.length=t,g},B.concat=function(){var g=[],t=!0,r=0,l,a,s,c,u,b,f,w;for(s=0;s<arguments.length;s++)c=arguments[s],b=c.length,b&&(a?g.push(c):(a=c,u=b),e(c)?l=!1:(t=!1,r?l!==c.constructor&&(l=!1):l=c.constructor),r+=b);if(!r)return[];if(!g.length)return a;if(t)return a.concat.apply(a,g);if(l){for(f=new l(r),f.set(a),s=0;s<g.length;s++)c=g[s],f.set(c,u),u+=c.length;return f}for(f=new Array(r),w=0;w<a.length;w++)f[w]=a[w];for(s=0;s<g.length;s++){for(c=g[s],w=0;w<c.length;w++)f[u+w]=c[w];u+=w}return f},B.maxRowLength=function(g){return h(g,Math.max,0)},B.minRowLength=function(g){return h(g,Math.min,1/0)};function h(g,t,r){if(C(g))if(C(g[0])){for(var l=r,a=0;a<g.length;a++)l=t(l,g[a].length);return l}else return g.length;return 0}},95218:function(V,B,e){var p=e(92770),L=e(50606).BADNUM,n=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;V.exports=function(y){return typeof y=="string"&&(y=y.replace(n,"")),p(y)?Number(y):L}},33306:function(V){V.exports=function(e){var p=e._fullLayout;p._glcanvas&&p._glcanvas.size()&&p._glcanvas.each(function(L){L.regl&&L.regl.clear({color:!0,depth:!0})})}},86367:function(V){V.exports=function(e){e._responsiveChartHandler&&(window.removeEventListener("resize",e._responsiveChartHandler),delete e._responsiveChartHandler)}},96554:function(V,B,e){var p=e(92770),L=e(84267),n=e(9012),C=e(63282),y=e(7901),h=e(37822).DESELECTDIM,g=e(65487),t=e(30587).counter,r=e(64872).modHalf,l=e(73627).isArrayOrTypedArray;B.valObjectMeta={data_array:{coerceFunction:function(s,c,u){l(s)?c.set(s):u!==void 0&&c.set(u)}},enumerated:{coerceFunction:function(s,c,u,b){b.coerceNumber&&(s=+s),b.values.indexOf(s)===-1?c.set(u):c.set(s)},validateFunction:function(s,c){c.coerceNumber&&(s=+s);for(var u=c.values,b=0;b<u.length;b++){var f=String(u[b]);if(f.charAt(0)==="/"&&f.charAt(f.length-1)==="/"){var w=new RegExp(f.substr(1,f.length-2));if(w.test(s))return!0}else if(s===u[b])return!0}return!1}},boolean:{coerceFunction:function(s,c,u){s===!0||s===!1?c.set(s):c.set(u)}},number:{coerceFunction:function(s,c,u,b){!p(s)||b.min!==void 0&&s<b.min||b.max!==void 0&&s>b.max?c.set(u):c.set(+s)}},integer:{coerceFunction:function(s,c,u,b){s%1||!p(s)||b.min!==void 0&&s<b.min||b.max!==void 0&&s>b.max?c.set(u):c.set(+s)}},string:{coerceFunction:function(s,c,u,b){if(typeof s!="string"){var f=typeof s=="number";b.strict===!0||!f?c.set(u):c.set(String(s))}else b.noBlank&&!s?c.set(u):c.set(s)}},color:{coerceFunction:function(s,c,u){L(s).isValid()?c.set(s):c.set(u)}},colorlist:{coerceFunction:function(s,c,u){function b(f){return L(f).isValid()}!Array.isArray(s)||!s.length?c.set(u):s.every(b)?c.set(s):c.set(u)}},colorscale:{coerceFunction:function(s,c,u){c.set(C.get(s,u))}},angle:{coerceFunction:function(s,c,u){s==="auto"?c.set("auto"):p(s)?c.set(r(+s,360)):c.set(u)}},subplotid:{coerceFunction:function(s,c,u,b){var f=b.regex||t(u);if(typeof s=="string"&&f.test(s)){c.set(s);return}c.set(u)},validateFunction:function(s,c){var u=c.dflt;return s===u?!0:typeof s!="string"?!1:!!t(u).test(s)}},flaglist:{coerceFunction:function(s,c,u,b){if((b.extras||[]).indexOf(s)!==-1){c.set(s);return}if(typeof s!="string"){c.set(u);return}for(var f=s.split("+"),w=0;w<f.length;){var v=f[w];b.flags.indexOf(v)===-1||f.indexOf(v)<w?f.splice(w,1):w++}f.length?c.set(f.join("+")):c.set(u)}},any:{coerceFunction:function(s,c,u){s===void 0?c.set(u):c.set(s)}},info_array:{coerceFunction:function(s,c,u,b){function f(k,_,H){var z,N={set:function(O){z=O}};return H===void 0&&(H=_.dflt),B.valObjectMeta[_.valType].coerceFunction(k,N,H,_),z}var w=b.dimensions===2||b.dimensions==="1-2"&&Array.isArray(s)&&Array.isArray(s[0]);if(!Array.isArray(s)){c.set(u);return}var v=b.items,o=[],d=Array.isArray(v),S=d&&w&&Array.isArray(v[0]),M=w&&d&&!S,P=d&&!M?v.length:s.length,x,E,T,i,R,A;if(u=Array.isArray(u)?u:[],w)for(x=0;x<P;x++)for(o[x]=[],T=Array.isArray(s[x])?s[x]:[],M?R=v.length:d?R=v[x].length:R=T.length,E=0;E<R;E++)M?i=v[E]:d?i=v[x][E]:i=v,A=f(T[E],i,(u[x]||[])[E]),A!==void 0&&(o[x][E]=A);else for(x=0;x<P;x++)A=f(s[x],d?v[x]:v,u[x]),A!==void 0&&(o[x]=A);c.set(o)},validateFunction:function(s,c){if(!Array.isArray(s))return!1;var u=c.items,b=Array.isArray(u),f=c.dimensions===2;if(!c.freeLength&&s.length!==u.length)return!1;for(var w=0;w<s.length;w++)if(f){if(!Array.isArray(s[w])||!c.freeLength&&s[w].length!==u[w].length)return!1;for(var v=0;v<s[w].length;v++)if(!a(s[w][v],b?u[w][v]:u))return!1}else if(!a(s[w],b?u[w]:u))return!1;return!0}}},B.coerce=function(s,c,u,b,f){var w=g(u,b).get(),v=g(s,b),o=g(c,b),d=v.get(),S=c._template;if(d===void 0&&S&&(d=g(S,b).get(),S=0),f===void 0&&(f=w.dflt),w.arrayOk&&l(d))return o.set(d),d;var M=B.valObjectMeta[w.valType].coerceFunction;M(d,o,f,w);var P=o.get();return S&&P===f&&!a(d,w)&&(d=g(S,b).get(),M(d,o,f,w),P=o.get()),P},B.coerce2=function(s,c,u,b,f){var w=g(s,b),v=B.coerce(s,c,u,b,f),o=w.get();return o!=null?v:!1},B.coerceFont=function(s,c,u){var b={};return u=u||{},b.family=s(c+".family",u.family),b.size=s(c+".size",u.size),b.color=s(c+".color",u.color),b},B.coercePattern=function(s,c,u,b){var f=s(c+".shape");if(f){s(c+".solidity"),s(c+".size");var w=s(c+".fillmode"),v=w==="overlay";if(!b){var o=s(c+".bgcolor",v?u:void 0);s(c+".fgcolor",v?y.contrast(o):u)}s(c+".fgopacity",v?.5:1)}},B.coerceHoverinfo=function(s,c,u){var b=c._module.attributes,f=b.hoverinfo?b:n,w=f.hoverinfo,v;if(u._dataLength===1){var o=w.dflt==="all"?w.flags.slice():w.dflt.split("+");o.splice(o.indexOf("name"),1),v=o.join("+")}return B.coerce(s,c,f,"hoverinfo",v)},B.coerceSelectionMarkerOpacity=function(s,c){if(s.marker){var u=s.marker.opacity;if(u!==void 0){var b,f;!l(u)&&!s.selected&&!s.unselected&&(b=u,f=h*u),c("selected.marker.opacity",b),c("unselected.marker.opacity",f)}}};function a(s,c){var u=B.valObjectMeta[c.valType];if(c.arrayOk&&l(s))return!0;if(u.validateFunction)return u.validateFunction(s,c);var b={},f=b,w={set:function(v){f=v}};return u.coerceFunction(s,w,b,c),f!==b}B.validate=a},41631:function(V,B,e){var p=e(84096).i$,L=e(92770),n=e(47769),C=e(64872).mod,y=e(50606),h=y.BADNUM,g=y.ONEDAY,t=y.ONEHOUR,r=y.ONEMIN,l=y.ONESEC,a=y.EPOCHJD,s=e(73972),c=e(84096).g0,u=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,f=new Date().getFullYear()-70;function w(z){return z&&s.componentsRegistry.calendars&&typeof z=="string"&&z!=="gregorian"}B.dateTick0=function(z,N){var O=v(z,!!N);if(N<2)return O;var F=B.dateTime2ms(O,z);return F+=g*(N-1),B.ms2DateTime(F,0,z)};function v(z,N){return w(z)?N?s.getComponentMethod("calendars","CANONICAL_SUNDAY")[z]:s.getComponentMethod("calendars","CANONICAL_TICK")[z]:N?"2000-01-02":"2000-01-01"}B.dfltRange=function(z){return w(z)?s.getComponentMethod("calendars","DFLTRANGE")[z]:["2000-01-01","2001-01-01"]},B.isJSDate=function(z){return typeof z=="object"&&z!==null&&typeof z.getTime=="function"};var o,d;B.dateTime2ms=function(z,N){if(B.isJSDate(z)){var O=z.getTimezoneOffset()*r,F=(z.getUTCMinutes()-z.getMinutes())*r+(z.getUTCSeconds()-z.getSeconds())*l+(z.getUTCMilliseconds()-z.getMilliseconds());if(F){var U=3*r;O=O-U/2+C(F-O+U/2,U)}return z=Number(z)-O,z>=o&&z<=d?z:h}if(typeof z!="string"&&typeof z!="number")return h;z=String(z);var Z=w(N),q=z.charAt(0);Z&&(q==="G"||q==="g")&&(z=z.substr(1),N="");var J=Z&&N.substr(0,7)==="chinese",te=z.match(J?b:u);if(!te)return h;var fe=te[1],K=te[3]||"1",Y=Number(te[5]||1),W=Number(te[7]||0),X=Number(te[9]||0),re=Number(te[11]||0);if(Z){if(fe.length===2)return h;fe=Number(fe);var se;try{var Q=s.getComponentMethod("calendars","getCal")(N);if(J){var ee=K.charAt(K.length-1)==="i";K=parseInt(K,10),se=Q.newDate(fe,Q.toMonthIndex(fe,K,ee),Y)}else se=Q.newDate(fe,Number(K),Y)}catch{return h}return se?(se.toJD()-a)*g+W*t+X*r+re*l:h}fe.length===2?fe=(Number(fe)+2e3-f)%100+f:fe=Number(fe),K-=1;var le=new Date(Date.UTC(2e3,K,Y,W,X));return le.setUTCFullYear(fe),le.getUTCMonth()!==K||le.getUTCDate()!==Y?h:le.getTime()+re*l},o=B.MIN_MS=B.dateTime2ms("-9999"),d=B.MAX_MS=B.dateTime2ms("9999-12-31 23:59:59.9999"),B.isDateTime=function(z,N){return B.dateTime2ms(z,N)!==h};function S(z,N){return String(z+Math.pow(10,N)).substr(1)}var M=90*g,P=3*t,x=5*r;B.ms2DateTime=function(z,N,O){if(typeof z!="number"||!(z>=o&&z<=d))return h;N||(N=0);var F=Math.floor(C(z+.05,1)*10),U=Math.round(z-F/10),Z,q,J,te,fe,K;if(w(O)){var Y=Math.floor(U/g)+a,W=Math.floor(C(z,g));try{Z=s.getComponentMethod("calendars","getCal")(O).fromJD(Y).formatDate("yyyy-mm-dd")}catch{Z=c("G%Y-%m-%d")(new Date(U))}if(Z.charAt(0)==="-")for(;Z.length<11;)Z="-0"+Z.substr(1);else for(;Z.length<10;)Z="0"+Z;q=N<M?Math.floor(W/t):0,J=N<M?Math.floor(W%t/r):0,te=N<P?Math.floor(W%r/l):0,fe=N<x?W%l*10+F:0}else K=new Date(U),Z=c("%Y-%m-%d")(K),q=N<M?K.getUTCHours():0,J=N<M?K.getUTCMinutes():0,te=N<P?K.getUTCSeconds():0,fe=N<x?K.getUTCMilliseconds()*10+F:0;return E(Z,q,J,te,fe)},B.ms2DateTimeLocal=function(z){if(!(z>=o+g&&z<=d-g))return h;var N=Math.floor(C(z+.05,1)*10),O=new Date(Math.round(z-N/10)),F=p("%Y-%m-%d")(O),U=O.getHours(),Z=O.getMinutes(),q=O.getSeconds(),J=O.getUTCMilliseconds()*10+N;return E(F,U,Z,q,J)};function E(z,N,O,F,U){if((N||O||F||U)&&(z+=" "+S(N,2)+":"+S(O,2),(F||U)&&(z+=":"+S(F,2),U))){for(var Z=4;U%10===0;)Z-=1,U/=10;z+="."+S(U,Z)}return z}B.cleanDate=function(z,N,O){if(z===h)return N;if(B.isJSDate(z)||typeof z=="number"&&isFinite(z)){if(w(O))return n.error("JS Dates and milliseconds are incompatible with world calendars",z),N;if(z=B.ms2DateTimeLocal(+z),!z&&N!==void 0)return N}else if(!B.isDateTime(z,O))return n.error("unrecognized date",z),N;return z};var T=/%\d?f/g,i=/%h/g,R={1:"1",2:"1",3:"2",4:"2"};function A(z,N,O,F){z=z.replace(T,function(Z){var q=Math.min(+Z.charAt(1)||6,6),J=(N/1e3%1+2).toFixed(q).substr(2).replace(/0+$/,"")||"0";return J});var U=new Date(Math.floor(N+.05));if(z=z.replace(i,function(){return R[O("%q")(U)]}),w(F))try{z=s.getComponentMethod("calendars","worldCalFmt")(z,N,F)}catch{return"Invalid"}return O(z)(U)}var k=[59,59.9,59.99,59.999,59.9999];function _(z,N){var O=C(z+.05,g),F=S(Math.floor(O/t),2)+":"+S(C(Math.floor(O/r),60),2);if(N!=="M"){L(N)||(N=0);var U=Math.min(C(z/l,60),k[N]),Z=(100+U).toFixed(N).substr(1);N>0&&(Z=Z.replace(/0+$/,"").replace(/[\.]$/,"")),F+=":"+Z}return F}B.formatDate=function(z,N,O,F,U,Z){if(U=w(U)&&U,!N)if(O==="y")N=Z.year;else if(O==="m")N=Z.month;else if(O==="d")N=Z.dayMonth+`
`+Z.year;else return _(z,O)+`
`+A(Z.dayMonthYear,z,F,U);return A(N,z,F,U)};var H=3*g;B.incrementMonth=function(z,N,O){O=w(O)&&O;var F=C(z,g);if(z=Math.round(z-F),O)try{var U=Math.round(z/g)+a,Z=s.getComponentMethod("calendars","getCal")(O),q=Z.fromJD(U);return N%12?Z.add(q,N,"m"):Z.add(q,N/12,"y"),(q.toJD()-a)*g+F}catch{n.error("invalid ms "+z+" in calendar "+O)}var J=new Date(z+H);return J.setUTCMonth(J.getUTCMonth()+N)+F-H},B.findExactDates=function(z,N){for(var O=0,F=0,U=0,Z=0,q,J,te=w(N)&&s.getComponentMethod("calendars","getCal")(N),fe=0;fe<z.length;fe++){if(J=z[fe],!L(J)){Z++;continue}if(!(J%g))if(te)try{q=te.fromJD(J/g+a),q.day()===1?q.month()===1?O++:F++:U++}catch{}else q=new Date(J),q.getUTCDate()===1?q.getUTCMonth()===0?O++:F++:U++}F+=O,U+=F;var K=z.length-Z;return{exactYears:O/K,exactMonths:F/K,exactDays:U/K}}},24401:function(V,B,e){var p=e(39898),L=e(47769),n=e(35657),C=e(79576);function y(f){var w;if(typeof f=="string"){if(w=document.getElementById(f),w===null)throw new Error("No DOM element with id '"+f+"' exists on the page.");return w}else if(f==null)throw new Error("DOM element provided is null or undefined");return f}function h(f){var w=p.select(f);return w.node()instanceof HTMLElement&&w.size()&&w.classed("js-plotly-plot")}function g(f){var w=f&&f.parentNode;w&&w.removeChild(f)}function t(f,w){r("global",f,w)}function r(f,w,v){var o="plotly.js-style-"+f,d=document.getElementById(o);d||(d=document.createElement("style"),d.setAttribute("id",o),d.appendChild(document.createTextNode("")),document.head.appendChild(d));var S=d.sheet;S.insertRule?S.insertRule(w+"{"+v+"}",0):S.addRule?S.addRule(w,v,0):L.warn("addStyleRule failed")}function l(f){var w="plotly.js-style-"+f,v=document.getElementById(w);v&&g(v)}function a(f){var w=c(f),v=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return w.forEach(function(o){var d=s(o);if(d){var S=n.convertCssMatrix(d);v=C.multiply(v,v,S)}}),v}function s(f){var w=window.getComputedStyle(f,null),v=w.getPropertyValue("-webkit-transform")||w.getPropertyValue("-moz-transform")||w.getPropertyValue("-ms-transform")||w.getPropertyValue("-o-transform")||w.getPropertyValue("transform");return v==="none"?null:v.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function c(f){for(var w=[];u(f);)w.push(f),f=f.parentNode;return w}function u(f){return f&&(f instanceof Element||f instanceof HTMLElement)}function b(f,w){return f&&w&&f.top===w.top&&f.left===w.left&&f.right===w.right&&f.bottom===w.bottom}V.exports={getGraphDiv:y,isPlotDiv:h,removeElement:g,addStyleRule:t,addRelatedStyleRule:r,deleteRelatedStyleRule:l,getFullTransformMatrix:a,getElementTransformMatrix:s,getElementAndAncestors:c,equalDomRects:b}},11086:function(V,B,e){var p=e(15398).EventEmitter,L={init:function(n){if(n._ev instanceof p)return n;var C=new p,y=new p;return n._ev=C,n._internalEv=y,n.on=C.on.bind(C),n.once=C.once.bind(C),n.removeListener=C.removeListener.bind(C),n.removeAllListeners=C.removeAllListeners.bind(C),n._internalOn=y.on.bind(y),n._internalOnce=y.once.bind(y),n._removeInternalListener=y.removeListener.bind(y),n._removeAllInternalListeners=y.removeAllListeners.bind(y),n.emit=function(h,g){typeof jQuery<"u"&&jQuery(n).trigger(h,g),C.emit(h,g),y.emit(h,g)},n},triggerHandler:function(n,C,y){var h,g;typeof jQuery<"u"&&(h=jQuery(n).triggerHandler(C,y));var t=n._ev;if(!t)return h;var r=t._events[C];if(!r)return h;function l(s){if(s.listener){if(t.removeListener(C,s.listener),!s.fired)return s.fired=!0,s.listener.apply(t,[y])}else return s.apply(t,[y])}r=Array.isArray(r)?r:[r];var a;for(a=0;a<r.length-1;a++)l(r[a]);return g=l(r[a]),h!==void 0?h:g},purge:function(n){return delete n._ev,delete n.on,delete n.once,delete n.removeListener,delete n.removeAllListeners,delete n.emit,delete n._ev,delete n._internalEv,delete n._internalOn,delete n._internalOnce,delete n._removeInternalListener,delete n._removeAllInternalListeners,n}};V.exports=L},1426:function(V,B,e){var p=e(41965),L=Array.isArray;function n(y,h){var g,t;for(g=0;g<y.length;g++){if(t=y[g],t!==null&&typeof t=="object")return!1;t!==void 0&&(h[g]=t)}return!0}B.extendFlat=function(){return C(arguments,!1,!1,!1)},B.extendDeep=function(){return C(arguments,!0,!1,!1)},B.extendDeepAll=function(){return C(arguments,!0,!0,!1)},B.extendDeepNoArrays=function(){return C(arguments,!0,!1,!0)};function C(y,h,g,t){var r=y[0],l=y.length,a,s,c,u,b,f,w;if(l===2&&L(r)&&L(y[1])&&r.length===0){if(w=n(y[1],r),w)return r;r.splice(0,r.length)}for(var v=1;v<l;v++){a=y[v];for(s in a)c=r[s],u=a[s],t&&L(u)?r[s]=u:h&&u&&(p(u)||(b=L(u)))?(b?(b=!1,f=c&&L(c)?c:[]):f=c&&p(c)?c:{},r[s]=C([f,u],h,g,t)):(typeof u<"u"||g)&&(r[s]=u)}return r}},75744:function(V){V.exports=function(e){for(var p={},L=[],n=0,C=0;C<e.length;C++){var y=e[C];p[y]!==1&&(p[y]=1,L[n++]=y)}return L}},76756:function(V){V.exports=function(n){for(var C=p(n)?e:B,y=[],h=0;h<n.length;h++){var g=n[h];C(g)&&y.push(g)}return y};function B(L){return L.visible===!0}function e(L){var n=L[0].trace;return n.visible===!0&&n._length!==0}function p(L){return Array.isArray(L)&&Array.isArray(L[0])&&L[0][0]&&L[0][0].trace}},41327:function(V,B,e){var p=e(39898),L=e(24138),n=e(30774),C=e(29261),y=e(85268),h=e(23389),g=e(47769),t=e(41965),r=e(65487),l=e(61082),a=Object.keys(L),s={"ISO-3":h,"USA-states":h,"country names":c};function c(S){for(var M=0;M<a.length;M++){var P=a[M],x=new RegExp(L[P]);if(x.test(S.trim().toLowerCase()))return P}return g.log("Unrecognized country name: "+S+"."),!1}function u(S,M,P){if(!M||typeof M!="string")return!1;var x=s[S](M),E,T,i;if(x){if(S==="USA-states")for(E=[],i=0;i<P.length;i++)T=P[i],T.properties&&T.properties.gu&&T.properties.gu==="USA"&&E.push(T);else E=P;for(i=0;i<E.length;i++)if(T=E[i],T.id===x)return T;g.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1}function b(S){var M=S.geometry,P=M.coordinates,x=S.id,E=[],T,i,R,A;function k(_){for(var H=0;H<_.length-1;H++)if(_[H][0]>0&&_[H+1][0]<0)return H;return null}switch(x==="RUS"||x==="FJI"?T=function(_){var H;if(k(_)===null)H=_;else for(H=new Array(_.length),A=0;A<_.length;A++)H[A]=[_[A][0]<0?_[A][0]+360:_[A][0],_[A][1]];E.push(l.tester(H))}:x==="ATA"?T=function(_){var H=k(_);if(H===null)return E.push(l.tester(_));var z=new Array(_.length+1),N=0;for(A=0;A<_.length;A++)A>H?z[N++]=[_[A][0]+360,_[A][1]]:A===H?(z[N++]=_[A],z[N++]=[_[A][0],-90]):z[N++]=_[A];var O=l.tester(z);O.pts.pop(),E.push(O)}:T=function(_){E.push(l.tester(_))},M.type){case"MultiPolygon":for(i=0;i<P.length;i++)for(R=0;R<P[i].length;R++)T(P[i][R]);break;case"Polygon":for(i=0;i<P.length;i++)T(P[i]);break}return E}function f(S){var M=S.geojson,P=window.PlotlyGeoAssets||{},x=typeof M=="string"?P[M]:M;return t(x)?x:(g.error("Oops ... something went wrong when fetching "+M),!1)}function w(S){var M=S[0].trace,P=f(M);if(!P)return!1;var x={},E=[],T;for(T=0;T<M._length;T++){var i=S[T];(i.loc||i.loc===0)&&(x[i.loc]=i)}function R(_){var H=r(_,M.featureidkey||"id").get(),z=x[H];if(z){var N=_.geometry;if(N.type==="Polygon"||N.type==="MultiPolygon"){var O={type:"Feature",id:H,geometry:N,properties:{}};O.properties.ct=v(O),z.fIn=_,z.fOut=O,E.push(O)}else g.log(["Location",z.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete x[H]}switch(P.type){case"FeatureCollection":var A=P.features;for(T=0;T<A.length;T++)R(A[T]);break;case"Feature":R(P);break;default:return g.warn(["Invalid GeoJSON type",(P.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var k in x)g.log(["Location *"+k+"*","does not have a matching feature with id-key","*"+M.featureidkey+"*."].join(" "));return E}function v(S){var M=S.geometry,P;if(M.type==="MultiPolygon")for(var x=M.coordinates,E=0,T=0;T<x.length;T++){var i={type:"Polygon",coordinates:x[T]},R=n.default(i);R>E&&(E=R,P=i)}else P=M;return C.default(P).geometry.coordinates}function o(S){var M=window.PlotlyGeoAssets||{},P=[];function x(A){return new Promise(function(k,_){p.json(A,function(H,z){if(H){delete M[A];var N=H.status===404?'GeoJSON at URL "'+A+'" does not exist.':"Unexpected error while fetching from "+A;return _(new Error(N))}return M[A]=z,k(z)})})}function E(A){return new Promise(function(k,_){var H=0,z=setInterval(function(){if(M[A]&&M[A]!=="pending")return clearInterval(z),k(M[A]);if(H>100)return clearInterval(z),_("Unexpected error while fetching from "+A);H++},50)})}for(var T=0;T<S.length;T++){var i=S[T][0].trace,R=i.geojson;typeof R=="string"&&(M[R]?M[R]==="pending"&&P.push(E(R)):(M[R]="pending",P.push(x(R))))}return P}function d(S){return y.default(S)}V.exports={locationToFeature:u,feature2polygons:b,getTraceGeojson:f,extractTraceFeature:w,fetchTraceGeoData:o,computeBbox:d}},18214:function(V,B,e){var p=e(50606).BADNUM;B.calcTraceToLineCoords=function(L){for(var n=L[0].trace,C=n.connectgaps,y=[],h=[],g=0;g<L.length;g++){var t=L[g],r=t.lonlat;r[0]!==p?h.push(r):!C&&h.length>0&&(y.push(h),h=[])}return h.length>0&&y.push(h),y},B.makeLine=function(L){return L.length===1?{type:"LineString",coordinates:L[0]}:{type:"MultiLineString",coordinates:L}},B.makePolygon=function(L){if(L.length===1)return{type:"Polygon",coordinates:L};for(var n=new Array(L.length),C=0;C<L.length;C++)n[C]=[L[C]];return{type:"MultiPolygon",coordinates:n}},B.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(V,B,e){var p=e(64872).mod;B.segmentsIntersect=L;function L(g,t,r,l,a,s,c,u){var b=r-g,f=a-g,w=c-a,v=l-t,o=s-t,d=u-s,S=b*d-w*v;if(S===0)return null;var M=(f*d-w*o)/S,P=(f*v-b*o)/S;return P<0||P>1||M<0||M>1?null:{x:g+b*M,y:t+v*M}}B.segmentDistance=function(t,r,l,a,s,c,u,b){if(L(t,r,l,a,s,c,u,b))return 0;var f=l-t,w=a-r,v=u-s,o=b-c,d=f*f+w*w,S=v*v+o*o,M=Math.min(n(f,w,d,s-t,c-r),n(f,w,d,u-t,b-r),n(v,o,S,t-s,r-c),n(v,o,S,l-s,a-c));return Math.sqrt(M)};function n(g,t,r,l,a){var s=l*g+a*t;if(s<0)return l*l+a*a;if(s>r){var c=l-g,u=a-t;return c*c+u*u}else{var b=l*t-a*g;return b*b/r}}var C,y,h;B.getTextLocation=function(t,r,l,a){if((t!==y||a!==h)&&(C={},y=t,h=a),C[l])return C[l];var s=t.getPointAtLength(p(l-a/2,r)),c=t.getPointAtLength(p(l+a/2,r)),u=Math.atan((c.y-s.y)/(c.x-s.x)),b=t.getPointAtLength(p(l,r)),f=(b.x*4+s.x+c.x)/6,w=(b.y*4+s.y+c.y)/6,v={x:f,y:w,theta:u};return C[l]=v,v},B.clearLocationCache=function(){y=null},B.getVisibleSegment=function(t,r,l){var a=r.left,s=r.right,c=r.top,u=r.bottom,b=0,f=t.getTotalLength(),w=f,v,o;function d(M){var P=t.getPointAtLength(M);M===0?v=P:M===f&&(o=P);var x=P.x<a?a-P.x:P.x>s?P.x-s:0,E=P.y<c?c-P.y:P.y>u?P.y-u:0;return Math.sqrt(x*x+E*E)}for(var S=d(b);S;){if(b+=S+l,b>w)return;S=d(b)}for(S=d(w);S;){if(w-=S+l,b>w)return;S=d(w)}return{min:b,max:w,len:w-b,total:f,isClosed:b===0&&w===f&&Math.abs(v.x-o.x)<.1&&Math.abs(v.y-o.y)<.1}},B.findPointOnPath=function(t,r,l,a){a=a||{};for(var s=a.pathLength||t.getTotalLength(),c=a.tolerance||.001,u=a.iterationLimit||30,b=t.getPointAtLength(0)[l]>t.getPointAtLength(s)[l]?-1:1,f=0,w=0,v=s,o,d,S;f<u;){if(o=(w+v)/2,d=t.getPointAtLength(o),S=d[l]-r,Math.abs(S)<c)return d;b*S>0?v=o:w=o,f++}return d}},81697:function(V,B,e){var p=e(92770),L=e(84267),n=e(25075),C=e(21081),y=e(22399).defaultLine,h=e(73627).isArrayOrTypedArray,g=n(y),t=1;function r(u,b){var f=u;return f[3]*=b,f}function l(u){if(p(u))return g;var b=n(u);return b.length?b:g}function a(u){return p(u)?u:t}function s(u,b,f){var w=u.color,v=h(w),o=h(b),d=C.extractOpts(u),S=[],M,P,x,E,T;if(d.colorscale!==void 0?M=C.makeColorScaleFuncFromTrace(u):M=l,v?P=function(R,A){return R[A]===void 0?g:n(M(R[A]))}:P=l,o?x=function(R,A){return R[A]===void 0?t:a(R[A])}:x=a,v||o)for(var i=0;i<f;i++)E=P(w,i),T=x(b,i),S[i]=r(E,T);else S=r(n(w),b);return S}function c(u){var b=C.extractOpts(u),f=b.colorscale;return b.reversescale&&(f=C.flipScale(b.colorscale)),f.map(function(w){var v=w[0],o=L(w[1]),d=o.toRgb();return{index:v,rgb:[d.r,d.g,d.b,d.a]}})}V.exports={formatColor:s,parseColorScale:c}},28984:function(V,B,e){var p=e(23389);function L(n){return[n]}V.exports={keyFun:function(n){return n.key},repeat:L,descend:p,wrap:L,unwrap:function(n){return n[0]}}},23389:function(V){V.exports=function(e){return e}},39240:function(V){V.exports=function(e,p){if(!p)return e;var L=1/Math.abs(p),n=L>1?(L*e+L*p)/L:e+p,C=String(n).length;if(C>16){var y=String(p).length,h=String(e).length;if(C>=h+y){var g=parseFloat(n).toPrecision(12);g.indexOf("e+")===-1&&(n=+g)}}return n}},71828:function(V,B,e){var p=e(39898),L=e(84096).g0,n=e(60721).WU,C=e(92770),y=e(50606),h=y.FP_SAFE,g=-h,t=y.BADNUM,r=V.exports={};r.adjustFormat=function(re){return!re||/^\d[.]\df/.test(re)||/[.]\d%/.test(re)?re:re==="0.f"?"~f":/^\d%/.test(re)?"~%":/^\ds/.test(re)?"~s":!/^[~,.0$]/.test(re)&&/[&fps]/.test(re)?"~"+re:re};var l={};r.warnBadFormat=function(X){var re=String(X);l[re]||(l[re]=1,r.warn('encountered bad format: "'+re+'"'))},r.noFormat=function(X){return String(X)},r.numberFormat=function(X){var re;try{re=n(r.adjustFormat(X))}catch{return r.warnBadFormat(X),r.noFormat}return re},r.nestedProperty=e(65487),r.keyedContainer=e(66636),r.relativeAttr=e(6962),r.isPlainObject=e(41965),r.toLogRange=e(58163),r.relinkPrivateKeys=e(51332);var a=e(73627);r.isTypedArray=a.isTypedArray,r.isArrayOrTypedArray=a.isArrayOrTypedArray,r.isArray1D=a.isArray1D,r.ensureArray=a.ensureArray,r.concat=a.concat,r.maxRowLength=a.maxRowLength,r.minRowLength=a.minRowLength;var s=e(64872);r.mod=s.mod,r.modHalf=s.modHalf;var c=e(96554);r.valObjectMeta=c.valObjectMeta,r.coerce=c.coerce,r.coerce2=c.coerce2,r.coerceFont=c.coerceFont,r.coercePattern=c.coercePattern,r.coerceHoverinfo=c.coerceHoverinfo,r.coerceSelectionMarkerOpacity=c.coerceSelectionMarkerOpacity,r.validate=c.validate;var u=e(41631);r.dateTime2ms=u.dateTime2ms,r.isDateTime=u.isDateTime,r.ms2DateTime=u.ms2DateTime,r.ms2DateTimeLocal=u.ms2DateTimeLocal,r.cleanDate=u.cleanDate,r.isJSDate=u.isJSDate,r.formatDate=u.formatDate,r.incrementMonth=u.incrementMonth,r.dateTick0=u.dateTick0,r.dfltRange=u.dfltRange,r.findExactDates=u.findExactDates,r.MIN_MS=u.MIN_MS,r.MAX_MS=u.MAX_MS;var b=e(65888);r.findBin=b.findBin,r.sorterAsc=b.sorterAsc,r.sorterDes=b.sorterDes,r.distinctVals=b.distinctVals,r.roundUp=b.roundUp,r.sort=b.sort,r.findIndexOfMin=b.findIndexOfMin,r.sortObjectKeys=e(78607);var f=e(80038);r.aggNums=f.aggNums,r.len=f.len,r.mean=f.mean,r.median=f.median,r.midRange=f.midRange,r.variance=f.variance,r.stdev=f.stdev,r.interp=f.interp;var w=e(35657);r.init2dArray=w.init2dArray,r.transposeRagged=w.transposeRagged,r.dot=w.dot,r.translationMatrix=w.translationMatrix,r.rotationMatrix=w.rotationMatrix,r.rotationXYMatrix=w.rotationXYMatrix,r.apply3DTransform=w.apply3DTransform,r.apply2DTransform=w.apply2DTransform,r.apply2DTransform2=w.apply2DTransform2,r.convertCssMatrix=w.convertCssMatrix,r.inverseTransformMatrix=w.inverseTransformMatrix;var v=e(26348);r.deg2rad=v.deg2rad,r.rad2deg=v.rad2deg,r.angleDelta=v.angleDelta,r.angleDist=v.angleDist,r.isFullCircle=v.isFullCircle,r.isAngleInsideSector=v.isAngleInsideSector,r.isPtInsideSector=v.isPtInsideSector,r.pathArc=v.pathArc,r.pathSector=v.pathSector,r.pathAnnulus=v.pathAnnulus;var o=e(99863);r.isLeftAnchor=o.isLeftAnchor,r.isCenterAnchor=o.isCenterAnchor,r.isRightAnchor=o.isRightAnchor,r.isTopAnchor=o.isTopAnchor,r.isMiddleAnchor=o.isMiddleAnchor,r.isBottomAnchor=o.isBottomAnchor;var d=e(87642);r.segmentsIntersect=d.segmentsIntersect,r.segmentDistance=d.segmentDistance,r.getTextLocation=d.getTextLocation,r.clearLocationCache=d.clearLocationCache,r.getVisibleSegment=d.getVisibleSegment,r.findPointOnPath=d.findPointOnPath;var S=e(1426);r.extendFlat=S.extendFlat,r.extendDeep=S.extendDeep,r.extendDeepAll=S.extendDeepAll,r.extendDeepNoArrays=S.extendDeepNoArrays;var M=e(47769);r.log=M.log,r.warn=M.warn,r.error=M.error;var P=e(30587);r.counterRegex=P.counter;var x=e(79990);r.throttle=x.throttle,r.throttleDone=x.done,r.clearThrottle=x.clear;var E=e(24401);r.getGraphDiv=E.getGraphDiv,r.isPlotDiv=E.isPlotDiv,r.removeElement=E.removeElement,r.addStyleRule=E.addStyleRule,r.addRelatedStyleRule=E.addRelatedStyleRule,r.deleteRelatedStyleRule=E.deleteRelatedStyleRule,r.getFullTransformMatrix=E.getFullTransformMatrix,r.getElementTransformMatrix=E.getElementTransformMatrix,r.getElementAndAncestors=E.getElementAndAncestors,r.equalDomRects=E.equalDomRects,r.clearResponsive=e(86367),r.preserveDrawingBuffer=e(45142),r.makeTraceGroups=e(77310),r._=e(15867),r.notifier=e(75046),r.filterUnique=e(75744),r.filterVisible=e(76756),r.pushUnique=e(75138),r.increment=e(39240),r.cleanNumber=e(95218),r.ensureNumber=function(re){return C(re)?(re=Number(re),re>h||re<g?t:re):t},r.isIndex=function(X,re){return re!==void 0&&X>=re?!1:C(X)&&X>=0&&X%1===0},r.noop=e(64213),r.identity=e(23389),r.repeat=function(X,re){for(var se=new Array(re),Q=0;Q<re;Q++)se[Q]=X;return se},r.swapAttrs=function(X,re,se,Q){se||(se="x"),Q||(Q="y");for(var ee=0;ee<re.length;ee++){var le=re[ee],oe=r.nestedProperty(X,le.replace("?",se)),he=r.nestedProperty(X,le.replace("?",Q)),xe=oe.get();oe.set(he.get()),he.set(xe)}},r.raiseToTop=function(re){re.parentNode.appendChild(re)},r.cancelTransition=function(X){return X.transition().duration(0)},r.constrain=function(X,re,se){return re>se?Math.max(se,Math.min(re,X)):Math.max(re,Math.min(se,X))},r.bBoxIntersect=function(X,re,se){return se=se||0,X.left<=re.right+se&&re.left<=X.right+se&&X.top<=re.bottom+se&&re.top<=X.bottom+se},r.simpleMap=function(X,re,se,Q,ee){for(var le=X.length,oe=new Array(le),he=0;he<le;he++)oe[he]=re(X[he],se,Q,ee);return oe},r.randstr=function X(re,se,Q,ee){if(Q||(Q=16),se===void 0&&(se=24),se<=0)return"0";var le=Math.log(Math.pow(2,se))/Math.log(Q),oe="",he,xe,Ae;for(he=2;le===1/0;he*=2)le=Math.log(Math.pow(2,se/he))/Math.log(Q)*he;var Se=le-Math.floor(le);for(he=0;he<Math.floor(le);he++)Ae=Math.floor(Math.random()*Q).toString(Q),oe=Ae+oe;Se&&(xe=Math.pow(Q,Se),Ae=Math.floor(Math.random()*xe).toString(Q),oe=Ae+oe);var Oe=parseInt(oe,Q);return re&&re[oe]||Oe!==1/0&&Oe>=Math.pow(2,se)?ee>10?(r.warn("randstr failed uniqueness"),oe):X(re,se,Q,(ee||0)+1):oe},r.OptionControl=function(X,re){X||(X={}),re||(re="opt");var se={};return se.optionList=[],se._newoption=function(Q){Q[re]=X,se[Q.name]=Q,se.optionList.push(Q)},se["_"+re]=X,se},r.smooth=function(X,re){if(re=Math.round(re)||0,re<2)return X;var se=X.length,Q=2*se,ee=2*re-1,le=new Array(ee),oe=new Array(se),he,xe,Ae,Se;for(he=0;he<ee;he++)le[he]=(1-Math.cos(Math.PI*(he+1)/re))/(2*re);for(he=0;he<se;he++){for(Se=0,xe=0;xe<ee;xe++)Ae=he+xe+1-re,Ae<-se?Ae-=Q*Math.round(Ae/Q):Ae>=Q&&(Ae-=Q*Math.floor(Ae/Q)),Ae<0?Ae=-1-Ae:Ae>=se&&(Ae=Q-1-Ae),Se+=X[Ae]*le[xe];oe[he]=Se}return oe},r.syncOrAsync=function(X,re,se){var Q,ee;function le(){return r.syncOrAsync(X,re,se)}for(;X.length;)if(ee=X.splice(0,1)[0],Q=ee(re),Q&&Q.then)return Q.then(le);return se&&se(re)},r.stripTrailingSlash=function(X){return X.substr(-1)==="/"?X.substr(0,X.length-1):X},r.noneOrAll=function(X,re,se){if(X){var Q=!1,ee=!0,le,oe;for(le=0;le<se.length;le++)oe=X[se[le]],oe!=null?Q=!0:ee=!1;if(Q&&!ee)for(le=0;le<se.length;le++)X[se[le]]=re[se[le]]}},r.mergeArray=function(X,re,se,Q){var ee=typeof Q=="function";if(r.isArrayOrTypedArray(X))for(var le=Math.min(X.length,re.length),oe=0;oe<le;oe++){var he=X[oe];re[oe][se]=ee?Q(he):he}},r.mergeArrayCastPositive=function(X,re,se){return r.mergeArray(X,re,se,function(Q){var ee=+Q;return isFinite(ee)&&ee>0?ee:0})},r.fillArray=function(X,re,se,Q){if(Q=Q||r.identity,r.isArrayOrTypedArray(X))for(var ee=0;ee<re.length;ee++)re[ee][se]=Q(X[ee])},r.castOption=function(X,re,se,Q){Q=Q||r.identity;var ee=r.nestedProperty(X,se).get();return r.isArrayOrTypedArray(ee)?Array.isArray(re)&&r.isArrayOrTypedArray(ee[re[0]])?Q(ee[re[0]][re[1]]):Q(ee[re]):ee},r.extractOption=function(X,re,se,Q){if(se in X)return X[se];var ee=r.nestedProperty(re,Q).get();if(!Array.isArray(ee))return ee};function T(X){var re={};for(var se in X)for(var Q=X[se],ee=0;ee<Q.length;ee++)re[Q[ee]]=+se;return re}r.tagSelected=function(X,re,se){var Q=re.selectedpoints,ee=re._indexToPoints,le;ee&&(le=T(ee));function oe(Oe){return Oe!==void 0&&Oe<X.length}for(var he=0;he<Q.length;he++){var xe=Q[he];if(r.isIndex(xe)||r.isArrayOrTypedArray(xe)&&r.isIndex(xe[0])&&r.isIndex(xe[1])){var Ae=le?le[xe]:xe,Se=se?se[Ae]:Ae;oe(Se)&&(X[Se].selected=1)}}},r.selIndices2selPoints=function(X){var re=X.selectedpoints,se=X._indexToPoints;if(se){for(var Q=T(se),ee=[],le=0;le<re.length;le++){var oe=re[le];if(r.isIndex(oe)){var he=Q[oe];r.isIndex(he)&&ee.push(he)}}return ee}else return re},r.getTargetArray=function(X,re){var se=re.target;if(typeof se=="string"&&se){var Q=r.nestedProperty(X,se).get();return Array.isArray(Q)?Q:!1}else if(Array.isArray(se))return se;return!1};function i(X,re,se){var Q={};typeof re!="object"&&(re={});var ee=se==="pieLike"?-1:3,le=Object.keys(X),oe,he,xe;for(oe=0;oe<le.length;oe++)he=le[oe],xe=X[he],!(he.charAt(0)==="_"||typeof xe=="function")&&(he==="module"?Q[he]=xe:Array.isArray(xe)?he==="colorscale"||ee===-1?Q[he]=xe.slice():Q[he]=xe.slice(0,ee):r.isTypedArray(xe)?ee===-1?Q[he]=xe.subarray():Q[he]=xe.subarray(0,ee):xe&&typeof xe=="object"?Q[he]=i(X[he],re[he],se):Q[he]=xe);for(le=Object.keys(re),oe=0;oe<le.length;oe++)he=le[oe],xe=re[he],(typeof xe!="object"||!(he in Q)||typeof Q[he]!="object")&&(Q[he]=xe);return Q}r.minExtend=i,r.titleCase=function(X){return X.charAt(0).toUpperCase()+X.substr(1)},r.containsAny=function(X,re){for(var se=0;se<re.length;se++)if(X.indexOf(re[se])!==-1)return!0;return!1},r.isIE=function(){return typeof window.navigator.msSaveBlob<"u"};var R=/Version\/[\d\.]+.*Safari/;r.isSafari=function(){return R.test(window.navigator.userAgent)};var A=/iPad|iPhone|iPod/;r.isIOS=function(){return A.test(window.navigator.userAgent)};var k=/Firefox\/(\d+)\.\d+/;r.getFirefoxVersion=function(){var X=k.exec(window.navigator.userAgent);if(X&&X.length===2){var re=parseInt(X[1]);if(!isNaN(re))return re}return null},r.isD3Selection=function(X){return X instanceof p.selection},r.ensureSingle=function(X,re,se,Q){var ee=X.select(re+(se?"."+se:""));if(ee.size())return ee;var le=X.append(re);return se&&le.classed(se,!0),Q&&le.call(Q),le},r.ensureSingleById=function(X,re,se,Q){var ee=X.select(re+"#"+se);if(ee.size())return ee;var le=X.append(re).attr("id",se);return Q&&le.call(Q),le},r.objectFromPath=function(X,re){for(var se=X.split("."),Q,ee=Q={},le=0;le<se.length;le++){var oe=se[le],he=null,xe=se[le].match(/(.*)\[([0-9]+)\]/);xe?(oe=xe[1],he=xe[2],Q=Q[oe]=[],le===se.length-1?Q[he]=re:Q[he]={},Q=Q[he]):(le===se.length-1?Q[oe]=re:Q[oe]={},Q=Q[oe])}return ee};var _=/^([^\[\.]+)\.(.+)?/,H=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;r.expandObjectPaths=function(X){var re,se,Q,ee,le,oe,he;if(typeof X=="object"&&!Array.isArray(X))for(se in X)X.hasOwnProperty(se)&&((re=se.match(_))?(ee=X[se],Q=re[1],delete X[se],X[Q]=r.extendDeepNoArrays(X[Q]||{},r.objectFromPath(se,r.expandObjectPaths(ee))[Q])):(re=se.match(H))?(ee=X[se],Q=re[1],le=parseInt(re[2]),delete X[se],X[Q]=X[Q]||[],re[3]==="."?(he=re[4],oe=X[Q][le]=X[Q][le]||{},r.extendDeepNoArrays(oe,r.objectFromPath(he,r.expandObjectPaths(ee)))):X[Q][le]=r.expandObjectPaths(ee)):X[se]=r.expandObjectPaths(X[se]));return X},r.numSeparate=function(X,re,se){if(se||(se=!1),typeof re!="string"||re.length===0)throw new Error("Separator string required for formatting!");typeof X=="number"&&(X=String(X));var Q=/(\d+)(\d{3})/,ee=re.charAt(0),le=re.charAt(1),oe=X.split("."),he=oe[0],xe=oe.length>1?ee+oe[1]:"";if(le&&(oe.length>1||he.length>4||se))for(;Q.test(he);)he=he.replace(Q,"$1"+le+"$2");return he+xe},r.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var z=/^\w*$/;r.templateString=function(X,re){var se={};return X.replace(r.TEMPLATE_STRING_REGEX,function(Q,ee){var le;return z.test(ee)?le=re[ee]:(se[ee]=se[ee]||r.nestedProperty(re,ee).get,le=se[ee]()),r.isValidTextValue(le)?le:""})};var N={max:10,count:0,name:"hovertemplate"};r.hovertemplateString=function(){return J.apply(N,arguments)};var O={max:10,count:0,name:"texttemplate"};r.texttemplateString=function(){return J.apply(O,arguments)};var F=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function U(X){var re=X.match(F);return re?{key:re[1],op:re[2],number:Number(re[3])}:{key:X,op:null,number:null}}var Z={max:10,count:0,name:"texttemplate",parseMultDiv:!0};r.texttemplateStringForShapes=function(){return J.apply(Z,arguments)};var q=/^[:|\|]/;function J(X,re,se){var Q=this,ee=arguments;re||(re={});var le={};return X.replace(r.TEMPLATE_STRING_REGEX,function(oe,he,xe){var Ae=he==="xother"||he==="yother",Se=he==="_xother"||he==="_yother",Oe=he==="_xother_"||he==="_yother_",Ve=he==="xother_"||he==="yother_",Ee=Ae||Se||Ve||Oe,Te=he;(Se||Oe)&&(Te=Te.substring(1)),(Ve||Oe)&&(Te=Te.substring(0,Te.length-1));var Le=null,Ge=null;if(Q.parseMultDiv){var He=U(Te);Te=He.key,Le=He.op,Ge=He.number}var ke;if(Ee){if(ke=re[Te],ke===void 0)return""}else{var We,nt;for(nt=3;nt<ee.length;nt++)if(We=ee[nt],!!We){if(We.hasOwnProperty(Te)){ke=We[Te];break}if(z.test(Te)||(ke=r.nestedProperty(We,Te).get(),ke=le[Te]||r.nestedProperty(We,Te).get(),ke&&(le[Te]=ke)),ke!==void 0)break}}if(ke!==void 0&&(Le==="*"&&(ke*=Ge),Le==="/"&&(ke/=Ge)),ke===void 0&&Q)return Q.count<Q.max&&(r.warn("Variable '"+Te+"' in "+Q.name+" could not be found!"),ke=oe),Q.count===Q.max&&r.warn("Too many "+Q.name+" warnings - additional warnings will be suppressed"),Q.count++,oe;if(xe){var qe;if(xe[0]===":"&&(qe=se?se.numberFormat:r.numberFormat,ke=qe(xe.replace(q,""))(ke)),xe[0]==="|"){qe=se?se.timeFormat:L;var Qe=r.dateTime2ms(ke);ke=r.formatDate(Qe,xe.replace(q,""),!1,qe)}}else{var tt=Te+"Label";re.hasOwnProperty(tt)&&(ke=re[tt])}return Ee&&(ke="("+ke+")",(Se||Oe)&&(ke=" "+ke),(Ve||Oe)&&(ke=ke+" ")),ke})}var te=48,fe=57;r.subplotSort=function(X,re){for(var se=Math.min(X.length,re.length)+1,Q=0,ee=0,le=0;le<se;le++){var oe=X.charCodeAt(le)||0,he=re.charCodeAt(le)||0,xe=oe>=te&&oe<=fe,Ae=he>=te&&he<=fe;if(xe&&(Q=10*Q+oe-te),Ae&&(ee=10*ee+he-te),!xe||!Ae){if(Q!==ee)return Q-ee;if(oe!==he)return oe-he}}return ee-Q};var K=2e9;r.seedPseudoRandom=function(){K=2e9},r.pseudoRandom=function(){var X=K;return K=(69069*K+1)%4294967296,Math.abs(K-X)<429496729?r.pseudoRandom():K/4294967296},r.fillText=function(X,re,se){var Q=Array.isArray(se)?function(oe){se.push(oe)}:function(oe){se.text=oe},ee=r.extractOption(X,re,"htx","hovertext");if(r.isValidTextValue(ee))return Q(ee);var le=r.extractOption(X,re,"tx","text");if(r.isValidTextValue(le))return Q(le)},r.isValidTextValue=function(X){return X||X===0},r.formatPercent=function(X,re){re=re||0;for(var se=(Math.round(100*X*Math.pow(10,re))*Math.pow(.1,re)).toFixed(re)+"%",Q=0;Q<re;Q++)se.indexOf(".")!==-1&&(se=se.replace("0%","%"),se=se.replace(".%","%"));return se},r.isHidden=function(X){var re=window.getComputedStyle(X).display;return!re||re==="none"},r.strTranslate=function(X,re){return X||re?"translate("+X+","+re+")":""},r.strRotate=function(X){return X?"rotate("+X+")":""},r.strScale=function(X){return X!==1?"scale("+X+")":""},r.getTextTransform=function(X){var re=X.noCenter,se=X.textX,Q=X.textY,ee=X.targetX,le=X.targetY,oe=X.anchorX||0,he=X.anchorY||0,xe=X.rotate,Ae=X.scale;return Ae?Ae>1&&(Ae=1):Ae=0,r.strTranslate(ee-Ae*(se+oe),le-Ae*(Q+he))+r.strScale(Ae)+(xe?"rotate("+xe+(re?"":" "+se+" "+Q)+")":"")},r.setTransormAndDisplay=function(X,re){X.attr("transform",r.getTextTransform(re)),X.style("display",re.scale?null:"none")},r.ensureUniformFontSize=function(X,re){var se=r.extendFlat({},re);return se.size=Math.max(re.size,X._fullLayout.uniformtext.minsize||0),se},r.join2=function(X,re,se){var Q=X.length;return Q>1?X.slice(0,-1).join(re)+se+X[Q-1]:X.join(re)},r.bigFont=function(X){return Math.round(1.2*X)};var Y=r.getFirefoxVersion(),W=Y!==null&&Y<86;r.getPositionFromD3Event=function(){return W?[p.event.layerX,p.event.layerY]:[p.event.offsetX,p.event.offsetY]}},41965:function(V){V.exports=function(e){return window&&window.process&&window.process.versions?Object.prototype.toString.call(e)==="[object Object]":Object.prototype.toString.call(e)==="[object Object]"&&Object.getPrototypeOf(e).hasOwnProperty("hasOwnProperty")}},66636:function(V,B,e){var p=e(65487),L=/^\w*$/,n=0,C=1,y=2,h=3,g=4;V.exports=function(r,l,a,s){a=a||"name",s=s||"value";var c,u,b,f={};l&&l.length?(b=p(r,l),u=b.get()):u=r,l=l||"";var w={};if(u)for(c=0;c<u.length;c++)w[u[c][a]]=c;var v=L.test(s),o={set:function(d,S){var M=S===null?g:n;if(!u){if(!b||M===g)return;u=[],b.set(u)}var P=w[d];if(P===void 0){if(M===g)return;M=M|h,P=u.length,w[d]=P}else S!==(v?u[P][s]:p(u[P],s).get())&&(M=M|y);var x=u[P]=u[P]||{};return x[a]=d,v?x[s]=S:p(x,s).set(S),S!==null&&(M=M&~g),f[P]=f[P]|M,o},get:function(d){if(u){var S=w[d];if(S!==void 0)return v?u[S][s]:p(u[S],s).get()}},rename:function(d,S){var M=w[d];return M===void 0||(f[M]=f[M]|C,w[S]=M,delete w[d],u[M][a]=S),o},remove:function(d){var S=w[d];if(S===void 0)return o;var M=u[S];if(Object.keys(M).length>2)return f[S]=f[S]|y,o.set(d,null);if(v){for(c=S;c<u.length;c++)f[c]=f[c]|h;for(c=S;c<u.length;c++)w[u[c][a]]--;u.splice(S,1),delete w[d]}else p(M,s).set(null),f[S]=f[S]|y|g;return o},constructUpdate:function(){for(var d,S,M={},P=Object.keys(f),x=0;x<P.length;x++)S=P[x],d=l+"["+S+"]",u[S]?(f[S]&C&&(M[d+"."+a]=u[S][a]),f[S]&y&&(v?M[d+"."+s]=f[S]&g?null:u[S][s]:M[d+"."+s]=f[S]&g?null:p(u[S],s).get())):M[d]=null;return M}};return o}},15867:function(V,B,e){var p=e(73972);V.exports=function(n,C){for(var y=n._context.locale,h=0;h<2;h++){for(var g=n._context.locales,t=0;t<2;t++){var r=(g[y]||{}).dictionary;if(r){var l=r[C];if(l)return l}g=p.localeRegistry}var a=y.split("-")[0];if(a===y)break;y=a}return C}},47769:function(V,B,e){var p=e(72075).dfltConfig,L=e(75046),n=V.exports={};n.log=function(){var C;if(p.logging>1){var y=["LOG:"];for(C=0;C<arguments.length;C++)y.push(arguments[C]);console.trace.apply(console,y)}if(p.notifyOnLogging>1){var h=[];for(C=0;C<arguments.length;C++)h.push(arguments[C]);L(h.join("<br>"),"long")}},n.warn=function(){var C;if(p.logging>0){var y=["WARN:"];for(C=0;C<arguments.length;C++)y.push(arguments[C]);console.trace.apply(console,y)}if(p.notifyOnLogging>0){var h=[];for(C=0;C<arguments.length;C++)h.push(arguments[C]);L(h.join("<br>"),"stick")}},n.error=function(){var C;if(p.logging>0){var y=["ERROR:"];for(C=0;C<arguments.length;C++)y.push(arguments[C]);console.error.apply(console,y)}if(p.notifyOnLogging>0){var h=[];for(C=0;C<arguments.length;C++)h.push(arguments[C]);L(h.join("<br>"),"stick")}}},77310:function(V,B,e){var p=e(39898);V.exports=function(n,C,y){var h=n.selectAll("g."+y.replace(/\s/g,".")).data(C,function(t){return t[0].trace.uid});h.exit().remove(),h.enter().append("g").attr("class",y),h.order();var g=n.classed("rangeplot")?"nodeRangePlot3":"node3";return h.each(function(t){t[0][g]=p.select(this)}),h}},35657:function(V,B,e){var p=e(79576);B.init2dArray=function(L,n){for(var C=new Array(L),y=0;y<L;y++)C[y]=new Array(n);return C},B.transposeRagged=function(L){var n=0,C=L.length,y,h;for(y=0;y<C;y++)n=Math.max(n,L[y].length);var g=new Array(n);for(y=0;y<n;y++)for(g[y]=new Array(C),h=0;h<C;h++)g[y][h]=L[h][y];return g},B.dot=function(L,n){if(!(L.length&&n.length)||L.length!==n.length)return null;var C=L.length,y,h;if(L[0].length)for(y=new Array(C),h=0;h<C;h++)y[h]=B.dot(L[h],n);else if(n[0].length){var g=B.transposeRagged(n);for(y=new Array(g.length),h=0;h<g.length;h++)y[h]=B.dot(L,g[h])}else for(y=0,h=0;h<C;h++)y+=L[h]*n[h];return y},B.translationMatrix=function(L,n){return[[1,0,L],[0,1,n],[0,0,1]]},B.rotationMatrix=function(L){var n=L*Math.PI/180;return[[Math.cos(n),-Math.sin(n),0],[Math.sin(n),Math.cos(n),0],[0,0,1]]},B.rotationXYMatrix=function(L,n,C){return B.dot(B.dot(B.translationMatrix(n,C),B.rotationMatrix(L)),B.translationMatrix(-n,-C))},B.apply3DTransform=function(L){return function(){var n=arguments,C=arguments.length===1?n[0]:[n[0],n[1],n[2]||0];return B.dot(L,[C[0],C[1],C[2],1]).slice(0,3)}},B.apply2DTransform=function(L){return function(){var n=arguments;n.length===3&&(n=n[0]);var C=arguments.length===1?n[0]:[n[0],n[1]];return B.dot(L,[C[0],C[1],1]).slice(0,2)}},B.apply2DTransform2=function(L){var n=B.apply2DTransform(L);return function(C){return n(C.slice(0,2)).concat(n(C.slice(2,4)))}},B.convertCssMatrix=function(L){if(L){var n=L.length;if(n===16)return L;if(n===6)return[L[0],L[1],0,0,L[2],L[3],0,0,0,0,1,0,L[4],L[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},B.inverseTransformMatrix=function(L){var n=[];return p.invert(n,L),[[n[0],n[1],n[2],n[3]],[n[4],n[5],n[6],n[7]],[n[8],n[9],n[10],n[11]],[n[12],n[13],n[14],n[15]]]}},64872:function(V){function B(p,L){var n=p%L;return n<0?n+L:n}function e(p,L){return Math.abs(p)>L/2?p-Math.round(p/L)*L:p}V.exports={mod:B,modHalf:e}},65487:function(V,B,e){var p=e(92770),L=e(73627).isArrayOrTypedArray;V.exports=function(s,c){if(p(c))c=String(c);else if(typeof c!="string"||c.substr(c.length-4)==="[-1]")throw"bad property string";for(var u=0,b=c.split("."),f,w,v;u<b.length;){if(f=String(b[u]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),f){if(f[1])b[u]=f[1];else if(u===0)b.splice(0,1);else throw"bad property string";for(w=f[2].substr(1,f[2].length-2).split("]["),v=0;v<w.length;v++)u++,b.splice(u,0,Number(w[v]))}u++}return typeof s!="object"?l(s,c,b):{set:h(s,b,c),get:n(s,b),astr:c,parts:b,obj:s}};function n(a,s){return function(){var c=a,u,b,f,w,v;for(w=0;w<s.length-1;w++){if(u=s[w],u===-1){for(b=!0,f=[],v=0;v<c.length;v++)f[v]=n(c[v],s.slice(w+1))(),f[v]!==f[0]&&(b=!1);return b?f[0]:f}if(typeof u=="number"&&!L(c)||(c=c[u],typeof c!="object"||c===null))return}if(!(typeof c!="object"||c===null)&&(f=c[s[w]],f!==null))return f}}var C=/(^|\.)args\[/;function y(a,s){return a===void 0||a===null&&!s.match(C)}function h(a,s,c){return function(u){var b=a,f="",w=y(u,c),v,o;for(o=0;o<s.length-1;o++){if(v=s[o],typeof v=="number"&&!L(b))throw"array index but container is not an array";if(v===-1){if(w=!t(b,s.slice(o+1),u,c),w)break;return}if(!r(b,v,s[o+1],w))break;if(b=b[v],typeof b!="object"||b===null)throw"container is not an object";f=g(f,v)}if(w){if(o===s.length-1&&(delete b[s[o]],Array.isArray(b)&&+s[o]===b.length-1))for(;b.length&&b[b.length-1]===void 0;)b.pop()}else b[s[o]]=u}}function g(a,s){var c=s;return p(s)?c="["+s+"]":a&&(c="."+s),a+c}function t(a,s,c,u){var b=L(c),f=!0,w=c,v=u.replace("-1",0),o=b?!1:y(c,v),d=s[0],S;for(S=0;S<a.length;S++)v=u.replace("-1",S),b&&(w=c[S%c.length],o=y(w,v)),o&&(f=!1),r(a,S,d,o)&&h(a[S],s,u.replace("-1",S))(w);return f}function r(a,s,c,u){if(a[s]===void 0){if(u)return!1;typeof c=="number"?a[s]=[]:a[s]={}}return!0}function l(a,s,c){return{set:function(){throw"bad container"},get:function(){},astr:s,parts:c,obj:a}}},64213:function(V){V.exports=function(){}},75046:function(V,B,e){var p=e(39898),L=e(92770),n=[];V.exports=function(C,y){if(n.indexOf(C)!==-1)return;n.push(C);var h=1e3;L(y)?h=y:y==="long"&&(h=3e3);var g=p.select("body").selectAll(".plotly-notifier").data([0]);g.enter().append("div").classed("plotly-notifier",!0);var t=g.selectAll(".notifier-note").data(n);function r(l){l.duration(700).style("opacity",0).each("end",function(a){var s=n.indexOf(a);s!==-1&&n.splice(s,1),p.select(this).remove()})}t.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(l){var a=p.select(this);a.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){a.transition().call(r)});for(var s=a.append("p"),c=l.split(/<br\s*\/?>/g),u=0;u<c.length;u++)u&&s.append("br"),s.append("span").text(c[u]);y==="stick"?a.transition().duration(350).style("opacity",1):a.transition().duration(700).style("opacity",1).transition().delay(h).call(r)})}},39918:function(V,B,e){var p=e(6964),L="data-savedcursor",n="!!";V.exports=function(y,h){var g=y.attr(L);if(h){if(!g){for(var t=(y.attr("class")||"").split(" "),r=0;r<t.length;r++){var l=t[r];l.indexOf("cursor-")===0&&y.attr(L,l.substr(7)).classed(l,!1)}y.attr(L)||y.attr(L,n)}p(y,h)}else g&&(y.attr(L,null),g===n?p(y):p(y,g))}},61082:function(V,B,e){var p=e(35657).dot,L=e(50606).BADNUM,n=V.exports={};n.tester=function(y){var h=y.slice(),g=h[0][0],t=g,r=h[0][1],l=r,a;for((h[h.length-1][0]!==h[0][0]||h[h.length-1][1]!==h[0][1])&&h.push(h[0]),a=1;a<h.length;a++)g=Math.min(g,h[a][0]),t=Math.max(t,h[a][0]),r=Math.min(r,h[a][1]),l=Math.max(l,h[a][1]);var s=!1,c;h.length===5&&(h[0][0]===h[1][0]?h[2][0]===h[3][0]&&h[0][1]===h[3][1]&&h[1][1]===h[2][1]&&(s=!0,c=function(v){return v[0]===h[0][0]}):h[0][1]===h[1][1]&&h[2][1]===h[3][1]&&h[0][0]===h[3][0]&&h[1][0]===h[2][0]&&(s=!0,c=function(v){return v[1]===h[0][1]}));function u(v,o){var d=v[0],S=v[1];return!(d===L||d<g||d>t||S===L||S<r||S>l||o&&c(v))}function b(v,o){var d=v[0],S=v[1];if(d===L||d<g||d>t||S===L||S<r||S>l)return!1;var M=h.length,P=h[0][0],x=h[0][1],E=0,T,i,R,A,k;for(T=1;T<M;T++)if(i=P,R=x,P=h[T][0],x=h[T][1],A=Math.min(i,P),!(d<A||d>Math.max(i,P)||S>Math.max(R,x)))if(S<Math.min(R,x))d!==A&&E++;else{if(P===i?k=S:k=R+(d-i)*(x-R)/(P-i),S===k)return!(T===1&&o);S<=k&&d!==A&&E++}return E%2===1}var f=!0,w=h[0];for(a=1;a<h.length;a++)if(w[0]!==h[a][0]||w[1]!==h[a][1]){f=!1;break}return{xmin:g,xmax:t,ymin:r,ymax:l,pts:h,contains:s?u:b,isRect:s,degenerate:f}},n.isSegmentBent=function(y,h,g,t){var r=y[h],l=[y[g][0]-r[0],y[g][1]-r[1]],a=p(l,l),s=Math.sqrt(a),c=[-l[1]/s,l[0]/s],u,b,f;for(u=h+1;u<g;u++)if(b=[y[u][0]-r[0],y[u][1]-r[1]],f=p(b,l),f<0||f>a||Math.abs(p(b,c))>t)return!0;return!1},n.filter=function(y,h){var g=[y[0]],t=0,r=0;function l(s){y.push(s);var c=g.length,u=t;g.splice(r+1);for(var b=u+1;b<y.length;b++)(b===y.length-1||n.isSegmentBent(y,u,b+1,h))&&(g.push(y[b]),g.length<c-2&&(t=b,r=g.length-1),u=b)}if(y.length>1){var a=y.pop();l(a)}return{addPt:l,raw:y,filtered:g}}},79749:function(V,B,e){var p=e(58617),L=e(98580);V.exports=function(C,y,h){var g=C._fullLayout,t=!0;return g._glcanvas.each(function(r){if(r.regl){r.regl.preloadCachedCode(h);return}if(!(r.pick&&!g._has("parcoords"))){try{r.regl=L({canvas:this,attributes:{antialias:!r.pick,preserveDrawingBuffer:!0},pixelRatio:C._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:y||[],cachedCode:h||{}})}catch{t=!1}r.regl||(t=!1),t&&this.addEventListener("webglcontextlost",function(l){C&&C.emit&&C.emit("plotly_webglcontextlost",{event:l,layer:r.key})},!1)}}),t||p({container:g._glcontainer.node()}),t}},45142:function(V,B,e){var p=e(92770),L=e(35791);V.exports=function(y){var h;if(y&&y.hasOwnProperty("userAgent")?h=y.userAgent:h=n(),typeof h!="string")return!0;var g=L({ua:{headers:{"user-agent":h}},tablet:!0,featureDetect:!1});if(!g)for(var t=h.split(" "),r=1;r<t.length;r++){var l=t[r];if(l.indexOf("Safari")!==-1)for(var a=r-1;a>-1;a--){var s=t[a];if(s.substr(0,8)==="Version/"){var c=s.substr(8).split(".")[0];if(p(c)&&(c=+c),c>=13)return!0}}}return g};function n(){var C;return typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),C}},75138:function(V){V.exports=function(e,p){if(p instanceof RegExp){for(var L=p.toString(),n=0;n<e.length;n++)if(e[n]instanceof RegExp&&e[n].toString()===L)return e;e.push(p)}else(p||p===0)&&e.indexOf(p)===-1&&e.push(p);return e}},10847:function(V,B,e){var p=e(71828),L=e(72075).dfltConfig;function n(y,h){for(var g=[],t,r=0;r<h.length;r++)t=h[r],t===y?g[r]=t:typeof t=="object"?g[r]=Array.isArray(t)?p.extendDeep([],t):p.extendDeepAll({},t):g[r]=t;return g}var C={};C.add=function(y,h,g,t,r){var l,a;if(y.undoQueue=y.undoQueue||{index:0,queue:[],sequence:!1},a=y.undoQueue.index,y.autoplay){y.undoQueue.inSequence||(y.autoplay=!1);return}!y.undoQueue.sequence||y.undoQueue.beginSequence?(l={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},y.undoQueue.queue.splice(a,y.undoQueue.queue.length-a,l),y.undoQueue.index+=1):l=y.undoQueue.queue[a-1],y.undoQueue.beginSequence=!1,l&&(l.undo.calls.unshift(h),l.undo.args.unshift(g),l.redo.calls.push(t),l.redo.args.push(r)),y.undoQueue.queue.length>L.queueLength&&(y.undoQueue.queue.shift(),y.undoQueue.index--)},C.startSequence=function(y){y.undoQueue=y.undoQueue||{index:0,queue:[],sequence:!1},y.undoQueue.sequence=!0,y.undoQueue.beginSequence=!0},C.stopSequence=function(y){y.undoQueue=y.undoQueue||{index:0,queue:[],sequence:!1},y.undoQueue.sequence=!1,y.undoQueue.beginSequence=!1},C.undo=function(h){var g,t;if(!(h.undoQueue===void 0||isNaN(h.undoQueue.index)||h.undoQueue.index<=0)){for(h.undoQueue.index--,g=h.undoQueue.queue[h.undoQueue.index],h.undoQueue.inSequence=!0,t=0;t<g.undo.calls.length;t++)C.plotDo(h,g.undo.calls[t],g.undo.args[t]);h.undoQueue.inSequence=!1,h.autoplay=!1}},C.redo=function(h){var g,t;if(!(h.undoQueue===void 0||isNaN(h.undoQueue.index)||h.undoQueue.index>=h.undoQueue.queue.length)){for(g=h.undoQueue.queue[h.undoQueue.index],h.undoQueue.inSequence=!0,t=0;t<g.redo.calls.length;t++)C.plotDo(h,g.redo.calls[t],g.redo.args[t]);h.undoQueue.inSequence=!1,h.autoplay=!1,h.undoQueue.index++}},C.plotDo=function(y,h,g){y.autoplay=!0,g=n(y,g),h.apply(null,g)},V.exports=C},30587:function(V,B){B.counter=function(e,p,L,n){var C=(p||"")+(L?"":"$"),y=n===!1?"":"^";return e==="xy"?new RegExp(y+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+C):new RegExp(y+e+"([2-9]|[1-9][0-9]+)?"+C)}},6962:function(V){var B=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;V.exports=function(p,L){for(;L;){var n=p.match(B);if(n)p=n[1];else if(p.match(e))p="";else throw new Error("bad relativeAttr call:"+[p,L]);if(L.charAt(0)==="^")L=L.slice(1);else break}return p&&L.charAt(0)!=="["?p+"."+L:p+L}},51332:function(V,B,e){var p=e(73627).isArrayOrTypedArray,L=e(41965);V.exports=function n(C,y){for(var h in y){var g=y[h],t=C[h];if(t!==g)if(h.charAt(0)==="_"||typeof g=="function"){if(h in C)continue;C[h]=g}else if(p(g)&&p(t)&&L(g[0])){if(h==="customdata"||h==="ids")continue;for(var r=Math.min(g.length,t.length),l=0;l<r;l++)t[l]!==g[l]&&L(g[l])&&L(t[l])&&n(t[l],g[l])}else L(g)&&L(t)&&(n(t,g),Object.keys(t).length||delete C[h])}}},65888:function(V,B,e){var p=e(92770),L=e(47769),n=e(23389),C=e(50606).BADNUM,y=1e-9;B.findBin=function(l,a,s){if(p(a.start))return s?Math.ceil((l-a.start)/a.size-y)-1:Math.floor((l-a.start)/a.size+y);var c=0,u=a.length,b=0,f=u>1?(a[u-1]-a[0])/(u-1):1,w,v;for(f>=0?v=s?h:g:v=s?r:t,l+=f*y*(s?-1:1)*(f>=0?1:-1);c<u&&b++<100;)w=Math.floor((c+u)/2),v(a[w],l)?c=w+1:u=w;return b>90&&L.log("Long binary search..."),c-1};function h(l,a){return l<a}function g(l,a){return l<=a}function t(l,a){return l>a}function r(l,a){return l>=a}B.sorterAsc=function(l,a){return l-a},B.sorterDes=function(l,a){return a-l},B.distinctVals=function(l){var a=l.slice();a.sort(B.sorterAsc);var s;for(s=a.length-1;s>-1&&a[s]===C;s--);for(var c=a[s]-a[0]||1,u=c/(s||1)/1e4,b=[],f,w=0;w<=s;w++){var v=a[w],o=v-f;f===void 0?(b.push(v),f=v):o>u&&(c=Math.min(c,o),b.push(v),f=v)}return{vals:b,minDiff:c}},B.roundUp=function(l,a,s){for(var c=0,u=a.length-1,b,f=0,w=s?0:1,v=s?1:0,o=s?Math.ceil:Math.floor;c<u&&f++<100;)b=o((c+u)/2),a[b]<=l?c=b+w:u=b-v;return a[c]},B.sort=function(l,a){for(var s=0,c=0,u=1;u<l.length;u++){var b=a(l[u],l[u-1]);if(b<0?s=1:b>0&&(c=1),s&&c)return l.sort(a)}return c?l:l.reverse()},B.findIndexOfMin=function(l,a){a=a||n;for(var s=1/0,c,u=0;u<l.length;u++){var b=a(l[u]);b<s&&(s=b,c=u)}return c}},6964:function(V){V.exports=function(e,p){(e.attr("class")||"").split(" ").forEach(function(L){L.indexOf("cursor-")===0&&e.classed(L,!1)}),p&&e.classed("cursor-"+p,!0)}},58617:function(V,B,e){var p=e(7901),L=function(){};V.exports=function(C){for(var y in C)typeof C[y]=="function"&&(C[y]=L);C.destroy=function(){C.container.parentNode.removeChild(C.container)};var h=document.createElement("div");h.className="no-webgl",h.style.cursor="pointer",h.style.fontSize="24px",h.style.color=p.defaults[0],h.style.position="absolute",h.style.left=h.style.top="0px",h.style.width=h.style.height="100%",h.style["background-color"]=p.lightLine,h.style["z-index"]=30;var g=document.createElement("p");return g.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",g.style.position="relative",g.style.top="50%",g.style.left="50%",g.style.height="30%",g.style.width="50%",g.style.margin="-15% 0 0 -25%",h.appendChild(g),C.container.appendChild(h),C.container.style.background="#FFFFFF",C.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(V){V.exports=function(e){return Object.keys(e).sort()}},80038:function(V,B,e){var p=e(92770),L=e(73627).isArrayOrTypedArray;B.aggNums=function(n,C,y,h){var g,t;if((!h||h>y.length)&&(h=y.length),p(C)||(C=!1),L(y[0])){for(t=new Array(h),g=0;g<h;g++)t[g]=B.aggNums(n,C,y[g]);y=t}for(g=0;g<h;g++)p(C)?p(y[g])&&(C=n(+C,+y[g])):C=y[g];return C},B.len=function(n){return B.aggNums(function(C){return C+1},0,n)},B.mean=function(n,C){return C||(C=B.len(n)),B.aggNums(function(y,h){return y+h},0,n)/C},B.midRange=function(n){if(!(n===void 0||n.length===0))return(B.aggNums(Math.max,null,n)+B.aggNums(Math.min,null,n))/2},B.variance=function(n,C,y){return C||(C=B.len(n)),p(y)||(y=B.mean(n,C)),B.aggNums(function(h,g){return h+Math.pow(g-y,2)},0,n)/C},B.stdev=function(n,C,y){return Math.sqrt(B.variance(n,C,y))},B.median=function(n){var C=n.slice().sort();return B.interp(C,.5)},B.interp=function(n,C){if(!p(C))throw"n should be a finite number";if(C=C*n.length-.5,C<0)return n[0];if(C>n.length-1)return n[n.length-1];var y=C%1;return y*n[Math.ceil(C)]+(1-y)*n[Math.floor(C)]}},78614:function(V,B,e){var p=e(25075);function L(n){return n?p(n):[0,0,0,1]}V.exports=L},3883:function(V,B,e){var p=e(32396),L=e(91424),n=e(71828),C=null;function y(){if(C!==null)return C;C=!1;var h=n.isIE()||n.isSafari()||n.isIOS();if(window.navigator.userAgent&&!h){var g=Array.from(p.CSS_DECLARATIONS).reverse(),t=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof t=="function")C=g.some(function(s){return t.apply(null,s)});else{var r=L.tester.append("image").attr("style",p.STYLE),l=window.getComputedStyle(r.node()),a=l.imageRendering;C=g.some(function(s){var c=s[1];return a===c||a===c.toLowerCase()}),r.remove()}}return C}V.exports=y},63893:function(V,B,e){var p=e(39898),L=e(71828),n=L.strTranslate,C=e(77922),y=e(18783).LINE_SPACING,h=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;B.convertToTspans=function(O,F,U){var Z=O.text(),q=!O.attr("data-notex")&&F&&F._context.typesetMath&&typeof MathJax<"u"&&Z.match(h),J=p.select(O.node().parentNode);if(J.empty())return;var te=O.attr("class")?O.attr("class").split(" ")[0]:"text";te+="-math",J.selectAll("svg."+te).remove(),J.selectAll("g."+te+"-group").remove(),O.style("display",null).attr({"data-unformatted":Z,"data-math":"N"});function fe(){J.empty()||(te=O.attr("class")+"-math",J.select("svg."+te).remove()),O.text("").style("white-space","pre");var K=_(O.node(),Z);K&&O.style("pointer-events","all"),B.positionText(O),U&&U.call(O)}return q?(F&&F._promises||[]).push(new Promise(function(K){O.style("display","none");var Y=parseInt(O.node().style.fontSize,10),W={fontSize:Y};a(q[2],W,function(X,re,se){J.selectAll("svg."+te).remove(),J.selectAll("g."+te+"-group").remove();var Q=X&&X.select("svg");if(!Q||!Q.node()){fe(),K();return}var ee=J.append("g").classed(te+"-group",!0).attr({"pointer-events":"none","data-unformatted":Z,"data-math":"Y"});ee.node().appendChild(Q.node()),re&&re.node()&&Q.node().insertBefore(re.node().cloneNode(!0),Q.node().firstChild);var le=se.width,oe=se.height;Q.attr({class:te,height:oe,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var he=O.node().style.fill||"black",xe=Q.select("g");xe.attr({fill:he,stroke:he});var Ae=xe.node().getBoundingClientRect(),Se=Ae.width,Oe=Ae.height;(Se>le||Oe>oe)&&(Q.style("overflow","hidden"),Ae=Q.node().getBoundingClientRect(),Se=Ae.width,Oe=Ae.height);var Ve=+O.attr("x"),Ee=+O.attr("y"),Te=Y||O.node().getBoundingClientRect().height,Le=-Te/4;if(te[0]==="y")ee.attr({transform:"rotate("+[-90,Ve,Ee]+")"+n(-Se/2,Le-Oe/2)});else if(te[0]==="l")Ee=Le-Oe/2;else if(te[0]==="a"&&te.indexOf("atitle")!==0)Ve=0,Ee=Le;else{var Ge=O.attr("text-anchor");Ve=Ve-Se*(Ge==="middle"?.5:Ge==="end"?1:0),Ee=Ee+Le-Oe/2}Q.attr({x:Ve,y:Ee}),U&&U.call(O,ee),K(ee)})})):fe(),O};var g=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g;function r(O){return O.replace(g,"\\lt ").replace(t,"\\gt ")}var l=[["$","$"],["\\(","\\)"]];function a(O,F,U){var Z=parseInt((MathJax.version||"").split(".")[0]);if(Z!==2&&Z!==3){L.warn("No MathJax version:",MathJax.version);return}var q,J,te,fe,K=function(){return J=L.extendDeepAll({},MathJax.Hub.config),te=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:l},displayAlign:"left"})},Y=function(){J=L.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=l},W=function(){if(q=MathJax.Hub.config.menuSettings.renderer,q!=="SVG")return MathJax.Hub.setRenderer("SVG")},X=function(){q=MathJax.config.startup.output,q!=="svg"&&(MathJax.config.startup.output="svg")},re=function(){var he="math-output-"+L.randstr({},64);fe=p.select("body").append("div").attr({id:he}).style({visibility:"hidden",position:"absolute","font-size":F.fontSize+"px"}).text(r(O));var xe=fe.node();return Z===2?MathJax.Hub.Typeset(xe):MathJax.typeset([xe])},se=function(){var he=fe.select(Z===2?".MathJax_SVG":".MathJax"),xe=!he.empty()&&fe.select("svg").node();if(!xe)L.log("There was an error in the tex syntax.",O),U();else{var Ae=xe.getBoundingClientRect(),Se;Z===2?Se=p.select("body").select("#MathJax_SVG_glyphs"):Se=he.select("defs"),U(he,Se,Ae)}fe.remove()},Q=function(){if(q!=="SVG")return MathJax.Hub.setRenderer(q)},ee=function(){q!=="svg"&&(MathJax.config.startup.output=q)},le=function(){return te!==void 0&&(MathJax.Hub.processSectionDelay=te),MathJax.Hub.Config(J)},oe=function(){MathJax.config=J};Z===2?MathJax.Hub.Queue(K,W,re,se,Q,le):Z===3&&(Y(),X(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){re(),se(),ee(),oe()}))}var s={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},c={sub:"0.3em",sup:"-0.6em"},u={sub:"-0.21em",sup:"0.42em"},b="",f=["http:","https:","mailto:","",void 0,":"],w=B.NEWLINES=/(\r\n?|\n)/g,v=/(<[^<>]*>)/,o=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;B.BR_TAG_ALL=/<br(\s+.*)?>/gi;var S=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,M=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,P=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,x=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function E(O,F){if(!O)return null;var U=O.match(F),Z=U&&(U[3]||U[4]);return Z&&A(Z)}var T=/(^|;)\s*color:/;B.plainText=function(O,F){F=F||{};for(var U=F.len!==void 0&&F.len!==-1?F.len:1/0,Z=F.allowedTags!==void 0?F.allowedTags:["br"],q="...",J=q.length,te=O.split(v),fe=[],K="",Y=0,W=0;W<te.length;W++){var X=te[W],re=X.match(o),se=re&&re[2].toLowerCase();if(se)Z.indexOf(se)!==-1&&(fe.push(X),K=se);else{var Q=X.length;if(Y+Q<U)fe.push(X),Y+=Q;else if(Y<U){var ee=U-Y;K&&(K!=="br"||ee<=J||Q<=J)&&fe.pop(),U>J?fe.push(X.substr(0,ee-J)+q):fe.push(X.substr(0,ee));break}K=""}}return fe.join("")};var i={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},R=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function A(O){return O.replace(R,function(F,U){var Z;return U.charAt(0)==="#"?Z=k(U.charAt(1)==="x"?parseInt(U.substr(2),16):parseInt(U.substr(1),10)):Z=i[U],Z||F})}B.convertEntities=A;function k(O){if(!(O>1114111)){var F=String.fromCodePoint;if(F)return F(O);var U=String.fromCharCode;return O<=65535?U(O):U((O>>10)+55232,O%1024+56320)}}function _(O,F){F=F.replace(w," ");var U=!1,Z=[],q,J=-1;function te(){J++;var Oe=document.createElementNS(C.svg,"tspan");p.select(Oe).attr({class:"line",dy:J*y+"em"}),O.appendChild(Oe),q=Oe;var Ve=Z;if(Z=[{node:Oe}],Ve.length>1)for(var Ee=1;Ee<Ve.length;Ee++)fe(Ve[Ee])}function fe(Oe){var Ve=Oe.type,Ee={},Te;if(Ve==="a"){Te="a";var Le=Oe.target,Ge=Oe.href,He=Oe.popup;Ge&&(Ee={"xlink:xlink:show":Le==="_blank"||Le.charAt(0)!=="_"?"new":"replace",target:Le,"xlink:xlink:href":Ge},He&&(Ee.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+He+'");return false;'))}else Te="tspan";Oe.style&&(Ee.style=Oe.style);var ke=document.createElementNS(C.svg,Te);if(Ve==="sup"||Ve==="sub"){K(q,b),q.appendChild(ke);var We=document.createElementNS(C.svg,"tspan");K(We,b),p.select(We).attr("dy",u[Ve]),Ee.dy=c[Ve],q.appendChild(ke),q.appendChild(We)}else q.appendChild(ke);p.select(ke).attr(Ee),q=Oe.node=ke,Z.push(Oe)}function K(Oe,Ve){Oe.appendChild(document.createTextNode(Ve))}function Y(Oe){if(Z.length===1){L.log("Ignoring unexpected end tag </"+Oe+">.",F);return}var Ve=Z.pop();Oe!==Ve.type&&L.log("Start tag <"+Ve.type+"> doesnt match end tag <"+Oe+">. Pretending it did match.",F),q=Z[Z.length-1].node}var W=d.test(F);W?te():(q=O,Z=[{node:O}]);for(var X=F.split(v),re=0;re<X.length;re++){var se=X[re],Q=se.match(o),ee=Q&&Q[2].toLowerCase(),le=s[ee];if(ee==="br")te();else if(le===void 0)K(q,A(se));else if(Q[1])Y(ee);else{var oe=Q[4],he={type:ee},xe=E(oe,S);if(xe?(xe=xe.replace(T,"$1 fill:"),le&&(xe+=";"+le)):le&&(xe=le),xe&&(he.style=xe),ee==="a"){U=!0;var Ae=E(oe,M);if(Ae){var Se=H(Ae);Se&&(he.href=Se,he.target=E(oe,P)||"_blank",he.popup=E(oe,x))}}fe(he)}}return U}function H(O){var F=encodeURI(decodeURI(O)),U=document.createElement("a"),Z=document.createElement("a");U.href=O,Z.href=F;var q=U.protocol,J=Z.protocol;return f.indexOf(q)!==-1&&f.indexOf(J)!==-1?F:""}B.sanitizeHTML=function(F){F=F.replace(w," ");for(var U=document.createElement("p"),Z=U,q=[],J=F.split(v),te=0;te<J.length;te++){var fe=J[te],K=fe.match(o),Y=K&&K[2].toLowerCase();if(Y in s)if(K[1])q.length&&(Z=q.pop());else{var W=K[4],X=E(W,S),re=X?{style:X}:{};if(Y==="a"){var se=E(W,M);if(se){var Q=H(se);if(Q){re.href=Q;var ee=E(W,P);ee&&(re.target=ee)}}}var le=document.createElement(Y);Z.appendChild(le),p.select(le).attr(re),Z=le,q.push(le)}else Z.appendChild(document.createTextNode(A(fe)))}var oe="innerHTML";return U[oe]},B.lineCount=function(F){return F.selectAll("tspan.line").size()||1},B.positionText=function(F,U,Z){return F.each(function(){var q=p.select(this);function J(K,Y){return Y===void 0?(Y=q.attr(K),Y===null&&(q.attr(K,0),Y=0)):q.attr(K,Y),Y}var te=J("x",U),fe=J("y",Z);this.nodeName==="text"&&q.selectAll("tspan.line").attr({x:te,y:fe})})};function z(O,F,U){var Z=U.horizontalAlign,q=U.verticalAlign||"top",J=O.node().getBoundingClientRect(),te=F.node().getBoundingClientRect(),fe,K,Y;return q==="bottom"?K=function(){return J.bottom-fe.height}:q==="middle"?K=function(){return J.top+(J.height-fe.height)/2}:K=function(){return J.top},Z==="right"?Y=function(){return J.right-fe.width}:Z==="center"?Y=function(){return J.left+(J.width-fe.width)/2}:Y=function(){return J.left},function(){fe=this.node().getBoundingClientRect();var W=Y()-te.left,X=K()-te.top,re=U.gd||{};if(U.gd){re._fullLayout._calcInverseTransform(re);var se=L.apply3DTransform(re._fullLayout._invTransform)(W,X);W=se[0],X=se[1]}return this.style({top:X+"px",left:W+"px","z-index":1e3}),this}}var N="1px ";B.makeTextShadow=function(O){var F=N,U=N,Z=N;return F+U+Z+O+", -"+F+"-"+U+Z+O+", "+F+"-"+U+Z+O+", -"+F+U+Z+O},B.makeEditable=function(O,F){var U=F.gd,Z=F.delegate,q=p.dispatch("edit","input","cancel"),J=Z||O;if(O.style({"pointer-events":Z?"none":"all"}),O.size()!==1)throw new Error("boo");function te(){K(),O.style({opacity:0});var Y=J.attr("class"),W;Y?W="."+Y.split(" ")[0]+"-math-group":W="[class*=-math-group]",W&&p.select(O.node().parentNode).select(W).style({opacity:0})}function fe(Y){var W=Y.node(),X=document.createRange();X.selectNodeContents(W);var re=window.getSelection();re.removeAllRanges(),re.addRange(X),W.focus()}function K(){var Y=p.select(U),W=Y.select(".svg-container"),X=W.append("div"),re=O.node().style,se=parseFloat(re.fontSize||12),Q=F.text;Q===void 0&&(Q=O.attr("data-unformatted")),X.classed("plugin-editable editable",!0).style({position:"absolute","font-family":re.fontFamily||"Arial","font-size":se,color:F.fill||re.fill||"black",opacity:1,"background-color":F.background||"transparent",outline:"#ffffff33 1px solid",margin:[-se/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(Q).call(z(O,W,F)).on("blur",function(){U._editing=!1,O.text(this.textContent).style({opacity:1});var ee=p.select(this).attr("class"),le;ee?le="."+ee.split(" ")[0]+"-math-group":le="[class*=-math-group]",le&&p.select(O.node().parentNode).select(le).style({opacity:0});var oe=this.textContent;p.select(this).transition().duration(0).remove(),p.select(document).on("mouseup",null),q.edit.call(O,oe)}).on("focus",function(){var ee=this;U._editing=!0,p.select(document).on("mouseup",function(){if(p.event.target===ee)return!1;document.activeElement===X.node()&&X.node().blur()})}).on("keyup",function(){p.event.which===27?(U._editing=!1,O.style({opacity:1}),p.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),q.cancel.call(O,this.textContent)):(q.input.call(O,this.textContent),p.select(this).call(z(O,W,F)))}).on("keydown",function(){p.event.which===13&&this.blur()}).call(fe)}return F.immediate?te():J.on("click",te),p.rebind(O,q,"on")}},79990:function(V,B){var e={};B.throttle=function(n,C,y){var h=e[n],g=Date.now();if(!h){for(var t in e)e[t].ts<g-6e4&&delete e[t];h=e[n]={ts:0,timer:null}}p(h);function r(){y(),h.ts=Date.now(),h.onDone&&(h.onDone(),h.onDone=null)}if(g>h.ts+C){r();return}h.timer=setTimeout(function(){r(),h.timer=null},C)},B.done=function(L){var n=e[L];return!n||!n.timer?Promise.resolve():new Promise(function(C){var y=n.onDone;n.onDone=function(){y&&y(),C(),n.onDone=null}})},B.clear=function(L){if(L)p(e[L]),delete e[L];else for(var n in e)B.clear(n)};function p(L){L&&L.timer!==null&&(clearTimeout(L.timer),L.timer=null)}},58163:function(V,B,e){var p=e(92770);V.exports=function(n,C){if(n>0)return Math.log(n)/Math.LN10;var y=Math.log(Math.min(C[0],C[1]))/Math.LN10;return p(y)||(y=Math.log(Math.max(C[0],C[1]))/Math.LN10-6),y}},90973:function(V,B,e){var p=V.exports={},L=e(78776).locationmodeToLayer,n=e(96892).zL;p.getTopojsonName=function(C){return[C.scope.replace(/ /g,"-"),"_",C.resolution.toString(),"m"].join("")},p.getTopojsonPath=function(C,y){return C+y+".json"},p.getTopojsonFeatures=function(C,y){var h=L[C.locationmode],g=y.objects[h];return n(y,g).features}},37815:function(V){V.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(V){V.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(V,B,e){var p=e(73972);V.exports=function(n){for(var C=p.layoutArrayContainers,y=p.layoutArrayRegexes,h=n.split("[")[0],g,t,r=0;r<y.length;r++)if(t=n.match(y[r]),t&&t.index===0){g=t[0];break}if(g||(g=C[C.indexOf(h)]),!g)return!1;var l=n.substr(g.length);return l?(t=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),t?{array:g,index:Number(t[1]),property:t[3]||""}:!1):{array:g,index:"",property:""}}},30962:function(V,B,e){var p=e(71828),L=p.extendFlat,n=p.isPlainObject,C={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},y={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},h=C.flags.slice().concat(["fullReplot"]),g=y.flags.slice().concat("layoutReplot");V.exports={traces:C,layout:y,traceFlags:function(){return t(h)},layoutFlags:function(){return t(g)},update:function(a,s){var c=s.editType;if(c&&c!=="none")for(var u=c.split("+"),b=0;b<u.length;b++)a[u[b]]=!0},overrideAll:r};function t(a){for(var s={},c=0;c<a.length;c++)s[a[c]]=!1;return s}function r(a,s,c){var u=L({},a);for(var b in u){var f=u[b];n(f)&&(u[b]=l(f,s,c,b))}return c==="from-root"&&(u.editType=s),u}function l(a,s,c,u){if(a.valType){var b=L({},a);if(b.editType=s,Array.isArray(a.items)){b.items=new Array(a.items.length);for(var f=0;f<a.items.length;f++)b.items[f]=l(a.items[f],s)}return b}else return r(a,s,u.charAt(0)==="_"?"nested":"from-root")}},58377:function(V,B,e){var p=e(92770),L=e(27812),n=e(73972),C=e(71828),y=e(74875),h=e(41675),g=e(7901),t=h.cleanId,r=h.getFromTrace,l=n.traceIs;B.clearPromiseQueue=function(d){Array.isArray(d._promises)&&d._promises.length>0&&C.log("Clearing previous rejected promises from queue."),d._promises=[]},B.cleanLayout=function(d){var S,M;d||(d={}),d.xaxis1&&(d.xaxis||(d.xaxis=d.xaxis1),delete d.xaxis1),d.yaxis1&&(d.yaxis||(d.yaxis=d.yaxis1),delete d.yaxis1),d.scene1&&(d.scene||(d.scene=d.scene1),delete d.scene1);var P=(y.subplotsRegistry.cartesian||{}).attrRegex,x=(y.subplotsRegistry.polar||{}).attrRegex,E=(y.subplotsRegistry.ternary||{}).attrRegex,T=(y.subplotsRegistry.gl3d||{}).attrRegex,i=Object.keys(d);for(S=0;S<i.length;S++){var R=i[S];if(P&&P.test(R)){var A=d[R];A.anchor&&A.anchor!=="free"&&(A.anchor=t(A.anchor)),A.overlaying&&(A.overlaying=t(A.overlaying)),A.type||(A.isdate?A.type="date":A.islog?A.type="log":A.isdate===!1&&A.islog===!1&&(A.type="linear")),(A.autorange==="withzero"||A.autorange==="tozero")&&(A.autorange=!0,A.rangemode="tozero"),delete A.islog,delete A.isdate,delete A.categories,f(A,"domain")&&delete A.domain,A.autotick!==void 0&&(A.tickmode===void 0&&(A.tickmode=A.autotick?"auto":"linear"),delete A.autotick),s(A)}else if(x&&x.test(R)){var k=d[R];s(k.radialaxis)}else if(E&&E.test(R)){var _=d[R];s(_.aaxis),s(_.baxis),s(_.caxis)}else if(T&&T.test(R)){var H=d[R],z=H.cameraposition;if(Array.isArray(z)&&z[0].length===4){var N=z[0],O=z[1],F=z[2],U=L([],N),Z=[];for(M=0;M<3;++M)Z[M]=O[M]+F*U[2+4*M];H.camera={eye:{x:Z[0],y:Z[1],z:Z[2]},center:{x:O[0],y:O[1],z:O[2]},up:{x:0,y:0,z:1}},delete H.cameraposition}s(H.xaxis),s(H.yaxis),s(H.zaxis)}}var q=Array.isArray(d.annotations)?d.annotations.length:0;for(S=0;S<q;S++){var J=d.annotations[S];C.isPlainObject(J)&&(J.ref&&(J.ref==="paper"?(J.xref="paper",J.yref="paper"):J.ref==="data"&&(J.xref="x",J.yref="y"),delete J.ref),a(J,"xref"),a(J,"yref"))}var te=Array.isArray(d.shapes)?d.shapes.length:0;for(S=0;S<te;S++){var fe=d.shapes[S];C.isPlainObject(fe)&&(a(fe,"xref"),a(fe,"yref"))}var K=Array.isArray(d.images)?d.images.length:0;for(S=0;S<K;S++){var Y=d.images[S];C.isPlainObject(Y)&&(a(Y,"xref"),a(Y,"yref"))}var W=d.legend;return W&&(W.x>3?(W.x=1.02,W.xanchor="left"):W.x<-2&&(W.x=-.02,W.xanchor="right"),W.y>3?(W.y=1.02,W.yanchor="bottom"):W.y<-2&&(W.y=-.02,W.yanchor="top")),s(d),d.dragmode==="rotate"&&(d.dragmode="orbit"),g.clean(d),d.template&&d.template.layout&&B.cleanLayout(d.template.layout),d};function a(d,S){var M=d[S],P=S.charAt(0);M&&M!=="paper"&&(d[S]=t(M,P,!0))}function s(d){d&&((typeof d.title=="string"||typeof d.title=="number")&&(d.title={text:d.title}),S("titlefont","font"),S("titleposition","position"),S("titleside","side"),S("titleoffset","offset"));function S(M,P){var x=d[M],E=d.title&&d.title[P];x&&!E&&(d.title||(d.title={}),d.title[P]=d[M],delete d[M])}}B.cleanData=function(d){for(var S=0;S<d.length;S++){var M=d[S],P;if(M.type==="histogramy"&&"xbins"in M&&!("ybins"in M)&&(M.ybins=M.xbins,delete M.xbins),M.error_y&&"opacity"in M.error_y){var x=g.defaults,E=M.error_y.color||(l(M,"bar")?g.defaultLine:x[S%x.length]);M.error_y.color=g.addOpacity(g.rgb(E),g.opacity(E)*M.error_y.opacity),delete M.error_y.opacity}if("bardir"in M&&(M.bardir==="h"&&(l(M,"bar")||M.type.substr(0,9)==="histogram")&&(M.orientation="h",B.swapXYData(M)),delete M.bardir),M.type==="histogramy"&&B.swapXYData(M),(M.type==="histogramx"||M.type==="histogramy")&&(M.type="histogram"),"scl"in M&&!("colorscale"in M)&&(M.colorscale=M.scl,delete M.scl),"reversescl"in M&&!("reversescale"in M)&&(M.reversescale=M.reversescl,delete M.reversescl),M.xaxis&&(M.xaxis=t(M.xaxis,"x")),M.yaxis&&(M.yaxis=t(M.yaxis,"y")),l(M,"gl3d")&&M.scene&&(M.scene=y.subplotsRegistry.gl3d.cleanId(M.scene)),!l(M,"pie-like")&&!l(M,"bar-like"))if(Array.isArray(M.textposition))for(P=0;P<M.textposition.length;P++)M.textposition[P]=b(M.textposition[P]);else M.textposition&&(M.textposition=b(M.textposition));var T=n.getModule(M);if(T&&T.colorbar){var i=T.colorbar.container,R=i?M[i]:M;R&&R.colorscale&&(R.colorscale==="YIGnBu"&&(R.colorscale="YlGnBu"),R.colorscale==="YIOrRd"&&(R.colorscale="YlOrRd"))}if(M.type==="surface"&&C.isPlainObject(M.contours)){var A=["x","y","z"];for(P=0;P<A.length;P++){var k=M.contours[A[P]];C.isPlainObject(k)&&(k.highlightColor&&(k.highlightcolor=k.highlightColor,delete k.highlightColor),k.highlightWidth&&(k.highlightwidth=k.highlightWidth,delete k.highlightWidth))}}if(M.type==="candlestick"||M.type==="ohlc"){var _=(M.increasing||{}).showlegend!==!1,H=(M.decreasing||{}).showlegend!==!1,z=c(M.increasing),N=c(M.decreasing);if(z!==!1&&N!==!1){var O=u(z,N,_,H);O&&(M.name=O)}else(z||N)&&!M.name&&(M.name=z||N)}if(Array.isArray(M.transforms)){var F=M.transforms;for(P=0;P<F.length;P++){var U=F[P];if(C.isPlainObject(U))switch(U.type){case"filter":U.filtersrc&&(U.target=U.filtersrc,delete U.filtersrc),U.calendar&&(U.valuecalendar||(U.valuecalendar=U.calendar),delete U.calendar);break;case"groupby":if(U.styles=U.styles||U.style,U.styles&&!Array.isArray(U.styles)){var Z=U.styles,q=Object.keys(Z);U.styles=[];for(var J=0;J<q.length;J++)U.styles.push({target:q[J],value:Z[q[J]]})}break}}}f(M,"line")&&delete M.line,"marker"in M&&(f(M.marker,"line")&&delete M.marker.line,f(M,"marker")&&delete M.marker),g.clean(M),M.autobinx&&(delete M.autobinx,delete M.xbins),M.autobiny&&(delete M.autobiny,delete M.ybins),s(M),M.colorbar&&s(M.colorbar),M.marker&&M.marker.colorbar&&s(M.marker.colorbar),M.line&&M.line.colorbar&&s(M.line.colorbar),M.aaxis&&s(M.aaxis),M.baxis&&s(M.baxis)}};function c(d){if(!C.isPlainObject(d))return!1;var S=d.name;return delete d.name,delete d.showlegend,(typeof S=="string"||typeof S=="number")&&String(S)}function u(d,S,M,P){if(M&&!P)return d;if(P&&!M||!d.trim())return S;if(!S.trim())return d;var x=Math.min(d.length,S.length),E;for(E=0;E<x&&d.charAt(E)===S.charAt(E);E++);var T=d.substr(0,E);return T.trim()}function b(d){var S="middle",M="center";return typeof d=="string"&&(d.indexOf("top")!==-1?S="top":d.indexOf("bottom")!==-1&&(S="bottom"),d.indexOf("left")!==-1?M="left":d.indexOf("right")!==-1&&(M="right")),S+" "+M}function f(d,S){return S in d&&typeof d[S]=="object"&&Object.keys(d[S]).length===0}B.swapXYData=function(d){var S;if(C.swapAttrs(d,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(d.z)&&Array.isArray(d.z[0])&&(d.transpose?delete d.transpose:d.transpose=!0),d.error_x&&d.error_y){var M=d.error_y,P="copy_ystyle"in M?M.copy_ystyle:!(M.color||M.thickness||M.width);C.swapAttrs(d,["error_?.copy_ystyle"]),P&&C.swapAttrs(d,["error_?.color","error_?.thickness","error_?.width"])}if(typeof d.hoverinfo=="string"){var x=d.hoverinfo.split("+");for(S=0;S<x.length;S++)x[S]==="x"?x[S]="y":x[S]==="y"&&(x[S]="x");d.hoverinfo=x.join("+")}},B.coerceTraceIndices=function(d,S){if(p(S))return[S];if(!Array.isArray(S)||!S.length)return d.data.map(function(x,E){return E});if(Array.isArray(S)){for(var M=[],P=0;P<S.length;P++)C.isIndex(S[P],d.data.length)?M.push(S[P]):C.warn("trace index (",S[P],") is not a number or is out of bounds");return M}return S},B.manageArrayContainers=function(d,S,M){var P=d.obj,x=d.parts,E=x.length,T=x[E-1],i=p(T);if(i&&S===null){var R=x.slice(0,E-1).join("."),A=C.nestedProperty(P,R).get();A.splice(T,1)}else i&&d.get()===void 0&&d.get()===void 0&&(M[d.astr]=null),d.set(S)};var w=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function v(d){var S=d.search(w);if(S>0)return d.substr(0,S)}B.hasParent=function(d,S){for(var M=v(S);M;){if(M in d)return!0;M=v(M)}return!1};var o=["x","y","z"];B.clearAxisTypes=function(d,S,M){for(var P=0;P<S.length;P++)for(var x=d._fullData[P],E=0;E<3;E++){var T=r(d,x,o[E]);if(T&&T.type!=="log"){var i=T._name,R=T._id.substr(1);if(R.substr(0,5)==="scene"){if(M[R]!==void 0)continue;i=R+"."+i}var A=i+".type";M[i]===void 0&&M[A]===void 0&&C.nestedProperty(d.layout,A).set(null)}}}},10641:function(V,B,e){var p=e(72391);B._doPlot=p._doPlot,B.newPlot=p.newPlot,B.restyle=p.restyle,B.relayout=p.relayout,B.redraw=p.redraw,B.update=p.update,B._guiRestyle=p._guiRestyle,B._guiRelayout=p._guiRelayout,B._guiUpdate=p._guiUpdate,B._storeDirectGUIEdit=p._storeDirectGUIEdit,B.react=p.react,B.extendTraces=p.extendTraces,B.prependTraces=p.prependTraces,B.addTraces=p.addTraces,B.deleteTraces=p.deleteTraces,B.moveTraces=p.moveTraces,B.purge=p.purge,B.addFrames=p.addFrames,B.deleteFrames=p.deleteFrames,B.animate=p.animate,B.setPlotConfig=p.setPlotConfig,B.toImage=e(403),B.validate=e(84936),B.downloadImage=e(7239);var L=e(96318);B.makeTemplate=L.makeTemplate,B.validateTemplate=L.validateTemplate},6611:function(V,B,e){var p=e(41965),L=e(64213),n=e(47769),C=e(65888).sorterAsc,y=e(73972);B.containerArrayMatch=e(14458);var h=B.isAddVal=function(r){return r==="add"||p(r)},g=B.isRemoveVal=function(r){return r===null||r==="remove"};B.applyContainerArrayChanges=function(r,l,a,s,c){var u=l.astr,b=y.getComponentMethod(u,"supplyLayoutDefaults"),f=y.getComponentMethod(u,"draw"),w=y.getComponentMethod(u,"drawOne"),v=s.replot||s.recalc||b===L||f===L,o=r.layout,d=r._fullLayout;if(a[""]){Object.keys(a).length>1&&n.warn("Full array edits are incompatible with other edits",u);var S=a[""][""];if(g(S))l.set(null);else if(Array.isArray(S))l.set(S);else return n.warn("Unrecognized full array edit value",u,S),!0;return v?!1:(b(o,d),f(r),!0)}var M=Object.keys(a).map(Number).sort(C),P=l.get(),x=P||[],E=c(d,u).get(),T=[],i=-1,R=x.length,A,k,_,H,z,N,O,F;for(A=0;A<M.length;A++){if(_=M[A],H=a[_],z=Object.keys(H),N=H[""],O=h(N),_<0||_>x.length-(O?0:1)){n.warn("index out of range",u,_);continue}if(N!==void 0)z.length>1&&n.warn("Insertion & removal are incompatible with edits to the same index.",u,_),g(N)?T.push(_):O?(N==="add"&&(N={}),x.splice(_,0,N),E&&E.splice(_,0,{})):n.warn("Unrecognized full object edit value",u,_,N),i===-1&&(i=_);else for(k=0;k<z.length;k++)F=u+"["+_+"].",c(x[_],z[k],F).set(H[z[k]])}for(A=T.length-1;A>=0;A--)x.splice(T[A],1),E&&E.splice(T[A],1);if(x.length?P||l.set(x):l.set(null),v)return!1;if(b(o,d),w!==L){var U;if(i===-1)U=M;else{for(R=Math.max(x.length,R),U=[],A=0;A<M.length&&(_=M[A],!(_>=i));A++)U.push(_);for(A=i;A<R;A++)U.push(A)}for(A=0;A<U.length;A++)w(r,U[A])}else f(r);return!0}},72391:function(V,B,e){var p=e(39898),L=e(92770),n=e(57035),C=e(71828),y=C.nestedProperty,h=e(11086),g=e(10847),t=e(73972),r=e(86281),l=e(74875),a=e(89298),s=e(91424),c=e(7901),u=e(4305).initInteractions,b=e(77922),f=e(47322).clearOutline,w=e(72075).dfltConfig,v=e(6611),o=e(58377),d=e(61549),S=e(30962),M=e(85555).AX_NAME_PATTERN,P=0,x=5;function E(ue,me,Re,Ne){var it;if(ue=C.getGraphDiv(ue),h.init(ue),C.isPlainObject(me)){var ot=me;me=ot.data,Re=ot.layout,Ne=ot.config,it=ot.frames}var wt=h.triggerHandler(ue,"plotly_beforeplot",[me,Re,Ne]);if(wt===!1)return Promise.reject();!me&&!Re&&!C.isPlotDiv(ue)&&C.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",ue);function Ft(){if(it)return B.addFrames(ue,it)}k(ue,Ne),Re||(Re={}),p.select(ue).classed("js-plotly-plot",!0),s.makeTester(),Array.isArray(ue._promises)||(ue._promises=[]);var Ut=(ue.data||[]).length===0&&Array.isArray(me);Array.isArray(me)&&(o.cleanData(me),Ut?ue.data=me:ue.data.push.apply(ue.data,me),ue.empty=!1),(!ue.layout||Ut)&&(ue.layout=o.cleanLayout(Re)),l.supplyDefaults(ue);var Gt=ue._fullLayout,Et=Gt._has("cartesian");Gt._replotting=!0,(Ut||Gt._shouldCreateBgLayer)&&(we(ue),Gt._shouldCreateBgLayer&&delete Gt._shouldCreateBgLayer),s.initGradients(ue),s.initPatterns(ue),Ut&&a.saveShowSpikeInitial(ue);var $t=!ue.calcdata||ue.calcdata.length!==(ue._fullData||[]).length;$t&&l.doCalcdata(ue);for(var lr=0;lr<ue.calcdata.length;lr++)ue.calcdata[lr][0].trace=ue._fullData[lr];ue._context.responsive?ue._responsiveChartHandler||(ue._responsiveChartHandler=function(){C.isHidden(ue)||l.resize(ue)},window.addEventListener("resize",ue._responsiveChartHandler)):C.clearResponsive(ue);var Fr=C.extendFlat({},Gt._size),yt=0;function Kt(){for(var At=Gt._basePlotModules,zt=0;zt<At.length;zt++)At[zt].drawFramework&&At[zt].drawFramework(ue);!Gt._glcanvas&&Gt._has("gl")&&(Gt._glcanvas=Gt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(or){return or.key}),Gt._glcanvas.enter().append("canvas").attr("class",function(or){return"gl-canvas gl-canvas-"+or.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Ht=ue._context.plotGlPixelRatio;if(Gt._glcanvas){Gt._glcanvas.attr("width",Gt.width*Ht).attr("height",Gt.height*Ht).style("width",Gt.width+"px").style("height",Gt.height+"px");var qt=Gt._glcanvas.data()[0].regl;if(qt&&(Math.floor(Gt.width*Ht)!==qt._gl.drawingBufferWidth||Math.floor(Gt.height*Ht)!==qt._gl.drawingBufferHeight)){var Qt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(yt)C.error(Qt);else return C.log(Qt+" Clearing graph and plotting again."),l.cleanPlot([],{},ue._fullData,Gt),l.supplyDefaults(ue),Gt=ue._fullLayout,l.doCalcdata(ue),yt++,Kt()}}return Gt.modebar.orientation==="h"?Gt._modebardiv.style("height",null).style("width","100%"):Gt._modebardiv.style("width",null).style("height",Gt.height+"px"),l.previousPromises(ue)}function Zt(){if(l.clearAutoMarginIds(ue),d.drawMarginPushers(ue),a.allowAutoMargin(ue),ue._fullLayout.title.text&&ue._fullLayout.title.automargin&&l.allowAutoMargin(ue,"title.automargin"),Gt._has("pie"))for(var At=ue._fullData,zt=0;zt<At.length;zt++){var Ht=At[zt];Ht.type==="pie"&&Ht.automargin&&l.allowAutoMargin(ue,"pie."+Ht.uid+".automargin")}return l.doAutoMargin(ue),l.previousPromises(ue)}function Ar(){if(l.didMarginChange(Fr,Gt._size))return C.syncOrAsync([Zt,d.layoutStyles],ue)}function vr(){if(!$t){ut();return}return C.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),ut],ue)}function ut(){ue._transitioning||(d.doAutoRangeAndConstraints(ue),Ut&&a.saveRangeInitial(ue),t.getComponentMethod("rangeslider","calcAutorange")(ue))}function lt(){return a.draw(ue,Ut?"":"redraw")}var xt=[l.previousPromises,Ft,Kt,Zt,Ar];Et&&xt.push(vr),xt.push(d.layoutStyles),Et&&xt.push(lt,function(zt){zt._fullLayout._insideTickLabelsAutorange&&he(zt,zt._fullLayout._insideTickLabelsAutorange).then(function(){zt._fullLayout._insideTickLabelsAutorange=void 0})}),xt.push(d.drawData,d.finalDraw,u,l.addLinks,l.rehover,l.redrag,l.reselect,l.doAutoMargin,Tt,l.previousPromises);function Tt(At){At._fullLayout._insideTickLabelsAutorange&&Ut&&a.saveRangeInitial(At,!0)}var Ct=C.syncOrAsync(xt,ue);return(!Ct||!Ct.then)&&(Ct=Promise.resolve()),Ct.then(function(){return T(ue),ue})}function T(ue){var me=ue._fullLayout;me._redrawFromAutoMarginCount?me._redrawFromAutoMarginCount--:ue.emit("plotly_afterplot")}function i(ue){return C.extendFlat(w,ue)}function R(ue,me){try{ue._fullLayout._paper.style("background",me)}catch(Re){C.error(Re)}}function A(ue,me){var Re=c.combine(me,"white");R(ue,Re)}function k(ue,me){if(!ue._context){ue._context=C.extendDeep({},w);var Re=p.select("base");ue._context._baseUrl=Re.size()&&Re.attr("href")?window.location.href.split("#")[0]:""}var Ne=ue._context,it,ot,wt;if(me){for(ot=Object.keys(me),it=0;it<ot.length;it++)wt=ot[it],!(wt==="editable"||wt==="edits")&&wt in Ne&&(wt==="setBackground"&&me[wt]==="opaque"?Ne[wt]=A:Ne[wt]=me[wt]);me.plot3dPixelRatio&&!Ne.plotGlPixelRatio&&(Ne.plotGlPixelRatio=Ne.plot3dPixelRatio);var Ft=me.editable;if(Ft!==void 0)for(Ne.editable=Ft,ot=Object.keys(Ne.edits),it=0;it<ot.length;it++)Ne.edits[ot[it]]=Ft;if(me.edits)for(ot=Object.keys(me.edits),it=0;it<ot.length;it++)wt=ot[it],wt in Ne.edits&&(Ne.edits[wt]=me.edits[wt]);Ne._exportedPlot=me._exportedPlot}Ne.staticPlot&&(Ne.editable=!1,Ne.edits={},Ne.autosizable=!1,Ne.scrollZoom=!1,Ne.doubleClick=!1,Ne.showTips=!1,Ne.showLink=!1,Ne.displayModeBar=!1),Ne.displayModeBar==="hover"&&!n&&(Ne.displayModeBar=!0),(Ne.setBackground==="transparent"||typeof Ne.setBackground!="function")&&(Ne.setBackground=R),Ne._hasZeroHeight=Ne._hasZeroHeight||ue.clientHeight===0,Ne._hasZeroWidth=Ne._hasZeroWidth||ue.clientWidth===0;var Ut=Ne.scrollZoom,Gt=Ne._scrollZoom={};if(Ut===!0)Gt.cartesian=1,Gt.gl3d=1,Gt.geo=1,Gt.mapbox=1;else if(typeof Ut=="string"){var Et=Ut.split("+");for(it=0;it<Et.length;it++)Gt[Et[it]]=1}else Ut!==!1&&(Gt.gl3d=1,Gt.geo=1,Gt.mapbox=1)}function _(ue){if(ue=C.getGraphDiv(ue),!C.isPlotDiv(ue))throw new Error("This element is not a Plotly plot: "+ue);return o.cleanData(ue.data),o.cleanLayout(ue.layout),ue.calcdata=void 0,B._doPlot(ue).then(function(){return ue.emit("plotly_redraw"),ue})}function H(ue,me,Re,Ne){return ue=C.getGraphDiv(ue),l.cleanPlot([],{},ue._fullData||[],ue._fullLayout||{}),l.purge(ue),B._doPlot(ue,me,Re,Ne)}function z(ue,me){var Re=me+1,Ne=[],it,ot;for(it=0;it<ue.length;it++)ot=ue[it],ot<0?Ne.push(Re+ot):Ne.push(ot);return Ne}function N(ue,me,Re){var Ne,it;for(Ne=0;Ne<me.length;Ne++){if(it=me[Ne],it!==parseInt(it,10))throw new Error("all values in "+Re+" must be integers");if(it>=ue.data.length||it<-ue.data.length)throw new Error(Re+" must be valid indices for gd.data.");if(me.indexOf(it,Ne+1)>-1||it>=0&&me.indexOf(-ue.data.length+it)>-1||it<0&&me.indexOf(ue.data.length+it)>-1)throw new Error("each index in "+Re+" must be unique.")}}function O(ue,me,Re){if(!Array.isArray(ue.data))throw new Error("gd.data must be an array.");if(typeof me>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(me)||(me=[me]),N(ue,me,"currentIndices"),typeof Re<"u"&&!Array.isArray(Re)&&(Re=[Re]),typeof Re<"u"&&N(ue,Re,"newIndices"),typeof Re<"u"&&me.length!==Re.length)throw new Error("current and new indices must be of equal length.")}function F(ue,me,Re){var Ne,it;if(!Array.isArray(ue.data))throw new Error("gd.data must be an array.");if(typeof me>"u")throw new Error("traces must be defined.");for(Array.isArray(me)||(me=[me]),Ne=0;Ne<me.length;Ne++)if(it=me[Ne],typeof it!="object"||Array.isArray(it)||it===null)throw new Error("all values in traces array must be non-array objects");if(typeof Re<"u"&&!Array.isArray(Re)&&(Re=[Re]),typeof Re<"u"&&Re.length!==me.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function U(ue,me,Re,Ne){var it=C.isPlainObject(Ne);if(!Array.isArray(ue.data))throw new Error("gd.data must be an array");if(!C.isPlainObject(me))throw new Error("update must be a key:value object");if(typeof Re>"u")throw new Error("indices must be an integer or array of integers");N(ue,Re,"indices");for(var ot in me){if(!Array.isArray(me[ot])||me[ot].length!==Re.length)throw new Error("attribute "+ot+" must be an array of length equal to indices array length");if(it&&(!(ot in Ne)||!Array.isArray(Ne[ot])||Ne[ot].length!==me[ot].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function Z(ue,me,Re,Ne){var it=C.isPlainObject(Ne),ot=[],wt,Ft,Ut,Gt,Et;Array.isArray(Re)||(Re=[Re]),Re=z(Re,ue.data.length-1);for(var $t in me)for(var lr=0;lr<Re.length;lr++){if(wt=ue.data[Re[lr]],Ut=y(wt,$t),Ft=Ut.get(),Gt=me[$t][lr],!C.isArrayOrTypedArray(Gt))throw new Error("attribute: "+$t+" index: "+lr+" must be an array");if(!C.isArrayOrTypedArray(Ft))throw new Error("cannot extend missing or non-array attribute: "+$t);if(Ft.constructor!==Gt.constructor)throw new Error("cannot extend array with an array of a different type: "+$t);Et=it?Ne[$t][lr]:Ne,L(Et)||(Et=-1),ot.push({prop:Ut,target:Ft,insert:Gt,maxp:Math.floor(Et)})}return ot}function q(ue,me,Re,Ne,it){U(ue,me,Re,Ne);for(var ot=Z(ue,me,Re,Ne),wt={},Ft={},Ut=0;Ut<ot.length;Ut++){var Gt=ot[Ut].prop,Et=ot[Ut].maxp,$t=it(ot[Ut].target,ot[Ut].insert,Et);Gt.set($t[0]),Array.isArray(wt[Gt.astr])||(wt[Gt.astr]=[]),wt[Gt.astr].push($t[1]),Array.isArray(Ft[Gt.astr])||(Ft[Gt.astr]=[]),Ft[Gt.astr].push(ot[Ut].target.length)}return{update:wt,maxPoints:Ft}}function J(ue,me){var Re=new ue.constructor(ue.length+me.length);return Re.set(ue),Re.set(me,ue.length),Re}function te(ue,me,Re,Ne){ue=C.getGraphDiv(ue);function it(Ut,Gt,Et){var $t,lr;if(C.isTypedArray(Ut))if(Et<0){var Fr=new Ut.constructor(0),yt=J(Ut,Gt);Et<0?($t=yt,lr=Fr):($t=Fr,lr=yt)}else if($t=new Ut.constructor(Et),lr=new Ut.constructor(Ut.length+Gt.length-Et),Et===Gt.length)$t.set(Gt),lr.set(Ut);else if(Et<Gt.length){var Kt=Gt.length-Et;$t.set(Gt.subarray(Kt)),lr.set(Ut),lr.set(Gt.subarray(0,Kt),Ut.length)}else{var Zt=Et-Gt.length,Ar=Ut.length-Zt;$t.set(Ut.subarray(Ar)),$t.set(Gt,Zt),lr.set(Ut.subarray(0,Ar))}else $t=Ut.concat(Gt),lr=Et>=0&&Et<$t.length?$t.splice(0,$t.length-Et):[];return[$t,lr]}var ot=q(ue,me,Re,Ne,it),wt=B.redraw(ue),Ft=[ue,ot.update,Re,ot.maxPoints];return g.add(ue,B.prependTraces,Ft,te,arguments),wt}function fe(ue,me,Re,Ne){ue=C.getGraphDiv(ue);function it(Ut,Gt,Et){var $t,lr;if(C.isTypedArray(Ut))if(Et<=0){var Fr=new Ut.constructor(0),yt=J(Gt,Ut);Et<0?($t=yt,lr=Fr):($t=Fr,lr=yt)}else if($t=new Ut.constructor(Et),lr=new Ut.constructor(Ut.length+Gt.length-Et),Et===Gt.length)$t.set(Gt),lr.set(Ut);else if(Et<Gt.length){var Kt=Gt.length-Et;$t.set(Gt.subarray(0,Kt)),lr.set(Gt.subarray(Kt)),lr.set(Ut,Kt)}else{var Zt=Et-Gt.length;$t.set(Gt),$t.set(Ut.subarray(0,Zt),Gt.length),lr.set(Ut.subarray(Zt))}else $t=Gt.concat(Ut),lr=Et>=0&&Et<$t.length?$t.splice(Et,$t.length):[];return[$t,lr]}var ot=q(ue,me,Re,Ne,it),wt=B.redraw(ue),Ft=[ue,ot.update,Re,ot.maxPoints];return g.add(ue,B.extendTraces,Ft,fe,arguments),wt}function K(ue,me,Re){ue=C.getGraphDiv(ue);var Ne=[],it=B.deleteTraces,ot=K,wt=[ue,Ne],Ft=[ue,me],Ut,Gt;for(F(ue,me,Re),Array.isArray(me)||(me=[me]),me=me.map(function(Et){return C.extendFlat({},Et)}),o.cleanData(me),Ut=0;Ut<me.length;Ut++)ue.data.push(me[Ut]);for(Ut=0;Ut<me.length;Ut++)Ne.push(-me.length+Ut);if(typeof Re>"u")return Gt=B.redraw(ue),g.add(ue,it,wt,ot,Ft),Gt;Array.isArray(Re)||(Re=[Re]);try{O(ue,Ne,Re)}catch(Et){throw ue.data.splice(ue.data.length-me.length,me.length),Et}return g.startSequence(ue),g.add(ue,it,wt,ot,Ft),Gt=B.moveTraces(ue,Ne,Re),g.stopSequence(ue),Gt}function Y(ue,me){ue=C.getGraphDiv(ue);var Re=[],Ne=B.addTraces,it=Y,ot=[ue,Re,me],wt=[ue,me],Ft,Ut;if(typeof me>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(me)||(me=[me]),N(ue,me,"indices"),me=z(me,ue.data.length-1),me.sort(C.sorterDes),Ft=0;Ft<me.length;Ft+=1)Ut=ue.data.splice(me[Ft],1)[0],Re.push(Ut);var Gt=B.redraw(ue);return g.add(ue,Ne,ot,it,wt),Gt}function W(ue,me,Re){ue=C.getGraphDiv(ue);var Ne=[],it=[],ot=W,wt=W,Ft=[ue,Re,me],Ut=[ue,me,Re],Gt;if(O(ue,me,Re),me=Array.isArray(me)?me:[me],typeof Re>"u")for(Re=[],Gt=0;Gt<me.length;Gt++)Re.push(-me.length+Gt);for(Re=Array.isArray(Re)?Re:[Re],me=z(me,ue.data.length-1),Re=z(Re,ue.data.length-1),Gt=0;Gt<ue.data.length;Gt++)me.indexOf(Gt)===-1&&Ne.push(ue.data[Gt]);for(Gt=0;Gt<me.length;Gt++)it.push({newIndex:Re[Gt],trace:ue.data[me[Gt]]});for(it.sort(function($t,lr){return $t.newIndex-lr.newIndex}),Gt=0;Gt<it.length;Gt+=1)Ne.splice(it[Gt].newIndex,0,it[Gt].trace);ue.data=Ne;var Et=B.redraw(ue);return g.add(ue,ot,Ft,wt,Ut),Et}function X(ue,me,Re,Ne){ue=C.getGraphDiv(ue),o.clearPromiseQueue(ue);var it={};if(typeof me=="string")it[me]=Re;else if(C.isPlainObject(me))it=C.extendFlat({},me),Ne===void 0&&(Ne=Re);else return C.warn("Restyle fail.",me,Re,Ne),Promise.reject();Object.keys(it).length&&(ue.changed=!0);var ot=o.coerceTraceIndices(ue,Ne),wt=le(ue,it,ot),Ft=wt.flags;Ft.calc&&(ue.calcdata=void 0),Ft.clearAxisTypes&&o.clearAxisTypes(ue,ot,{});var Ut=[];Ft.fullReplot?Ut.push(B._doPlot):(Ut.push(l.previousPromises),l.supplyDefaults(ue),Ft.markerSize&&(l.doCalcdata(ue),Ae(Ut)),Ft.style&&Ut.push(d.doTraceStyle),Ft.colorbars&&Ut.push(d.doColorBars),Ut.push(T)),Ut.push(l.rehover,l.redrag,l.reselect),g.add(ue,X,[ue,wt.undoit,wt.traces],X,[ue,wt.redoit,wt.traces]);var Gt=C.syncOrAsync(Ut,ue);return(!Gt||!Gt.then)&&(Gt=Promise.resolve()),Gt.then(function(){return ue.emit("plotly_restyle",wt.eventData),ue})}function re(ue){return ue===void 0?null:ue}function se(ue,me){return me?function(Re,Ne,it){var ot=y(Re,Ne),wt=ot.set;return ot.set=function(Ft){var Ut=(it||"")+Ne;Q(Ut,ot.get(),Ft,ue),wt(Ft)},ot}:y}function Q(ue,me,Re,Ne){if(Array.isArray(me)||Array.isArray(Re))for(var it=Array.isArray(me)?me:[],ot=Array.isArray(Re)?Re:[],wt=Math.max(it.length,ot.length),Ft=0;Ft<wt;Ft++)Q(ue+"["+Ft+"]",it[Ft],ot[Ft],Ne);else if(C.isPlainObject(me)||C.isPlainObject(Re)){var Ut=C.isPlainObject(me)?me:{},Gt=C.isPlainObject(Re)?Re:{},Et=C.extendFlat({},Ut,Gt);for(var $t in Et)Q(ue+"."+$t,Ut[$t],Gt[$t],Ne)}else Ne[ue]===void 0&&(Ne[ue]=re(me))}function ee(ue,me,Re){for(var Ne in Re){var it=y(ue,Ne);Q(Ne,it.get(),Re[Ne],me)}}function le(ue,me,Re){var Ne=ue._fullLayout,it=ue._fullData,ot=ue.data,wt=Ne._guiEditing,Ft=se(Ne._preGUI,wt),Ut=C.extendDeepAll({},me),Gt;oe(me);var Et=S.traceFlags(),$t={},lr={},Fr;function yt(){return Re.map(function(){})}function Kt(Jr){var _n=a.id2name(Jr);Fr.indexOf(_n)===-1&&Fr.push(_n)}function Zt(Jr){return"LAYOUT"+Jr+".autorange"}function Ar(Jr){return"LAYOUT"+Jr+".range"}function vr(Jr){for(var _n=Jr;_n<it.length;_n++)if(it[_n]._input===ot[Jr])return it[_n]}function ut(Jr,_n,kn){if(Array.isArray(Jr)){Jr.forEach(function(Vr){ut(Vr,_n,kn)});return}if(!(Jr in me||o.hasParent(me,Jr))){var br;if(Jr.substr(0,6)==="LAYOUT")br=Ft(ue.layout,Jr.replace("LAYOUT",""));else{var wr=Re[kn],Nr=Ne._tracePreGUI[vr(wr)._fullInput.uid];br=se(Nr,wt)(ot[wr],Jr)}Jr in lr||(lr[Jr]=yt()),lr[Jr][kn]===void 0&&(lr[Jr][kn]=re(br.get())),_n!==void 0&&br.set(_n)}}function lt(Jr){return function(_n){return it[_n][Jr]}}function xt(Jr){return function(_n,kn){return _n===!1?it[Re[kn]][Jr]:null}}for(var Tt in me){if(o.hasParent(me,Tt))throw new Error("cannot set "+Tt+" and a parent attribute simultaneously");var Ct=me[Tt],At,zt,Ht,qt,Qt,or;if((Tt==="autobinx"||Tt==="autobiny")&&(Tt=Tt.charAt(Tt.length-1)+"bins",Array.isArray(Ct)?Ct=Ct.map(xt(Tt)):Ct===!1?Ct=Re.map(lt(Tt)):Ct=null),$t[Tt]=Ct,Tt.substr(0,6)==="LAYOUT"){Ht=Ft(ue.layout,Tt.replace("LAYOUT","")),lr[Tt]=[re(Ht.get())],Ht.set(Array.isArray(Ct)?Ct[0]:Ct),Et.calc=!0;continue}for(lr[Tt]=yt(),Gt=0;Gt<Re.length;Gt++){At=ot[Re[Gt]],zt=vr(Re[Gt]);var Lr=Ne._tracePreGUI[zt._fullInput.uid];if(Ht=se(Lr,wt)(At,Tt),qt=Ht.get(),Qt=Array.isArray(Ct)?Ct[Gt%Ct.length]:Ct,Qt!==void 0){var Ze=Ht.parts[Ht.parts.length-1],Ye=Tt.substr(0,Tt.length-Ze.length-1),It=Ye?Ye+".":"",kt=Ye?y(zt,Ye).get():zt;if(or=r.getTraceValObject(zt,Ht.parts),or&&or.impliedEdits&&Qt!==null)for(var Xt in or.impliedEdits)ut(C.relativeAttr(Tt,Xt),or.impliedEdits[Xt],Gt);else if((Ze==="thicknessmode"||Ze==="lenmode")&&qt!==Qt&&(Qt==="fraction"||Qt==="pixels")&&kt){var ir=Ne._size,ur=kt.orient,nr=ur==="top"||ur==="bottom";if(Ze==="thicknessmode"){var Nt=nr?ir.h:ir.w;ut(It+"thickness",kt.thickness*(Qt==="fraction"?1/Nt:Nt),Gt)}else{var hr=nr?ir.w:ir.h;ut(It+"len",kt.len*(Qt==="fraction"?1/hr:hr),Gt)}}else if(Tt==="type"&&(Qt==="pie"!=(qt==="pie")||Qt==="funnelarea"!=(qt==="funnelarea"))){var pr="x",gr="y";(Qt==="bar"||qt==="bar")&&At.orientation==="h"&&(pr="y",gr="x"),C.swapAttrs(At,["?","?src"],"labels",pr),C.swapAttrs(At,["d?","?0"],"label",pr),C.swapAttrs(At,["?","?src"],"values",gr),qt==="pie"||qt==="funnelarea"?(y(At,"marker.color").set(y(At,"marker.colors").get()),Ne._pielayer.selectAll("g.trace").remove()):t.traceIs(At,"cartesian")&&y(At,"marker.colors").set(y(At,"marker.color").get())}lr[Tt][Gt]=re(qt);var dr=["swapxy","swapxyaxes","orientation","orientationaxes"];if(dr.indexOf(Tt)!==-1){if(Tt==="orientation"){Ht.set(Qt);var Xr=At.x&&!At.y?"h":"v";if((Ht.get()||Xr)===zt.orientation)continue}else Tt==="orientationaxes"&&(At.orientation={v:"h",h:"v"}[zt.orientation]);o.swapXYData(At),Et.calc=Et.clearAxisTypes=!0}else l.dataArrayContainers.indexOf(Ht.parts[0])!==-1?(o.manageArrayContainers(Ht,Qt,lr),Et.calc=!0):(or?or.arrayOk&&!t.traceIs(zt,"regl")&&(C.isArrayOrTypedArray(Qt)||C.isArrayOrTypedArray(qt))?Et.calc=!0:S.update(Et,or):Et.calc=!0,Ht.set(Qt))}}if(["swapxyaxes","orientationaxes"].indexOf(Tt)!==-1&&a.swap(ue,Re),Tt==="orientationaxes"){var Br=y(ue.layout,"hovermode"),Or=Br.get();Or==="x"?Br.set("y"):Or==="y"?Br.set("x"):Or==="x unified"?Br.set("y unified"):Or==="y unified"&&Br.set("x unified")}if(["orientation","type"].indexOf(Tt)!==-1){for(Fr=[],Gt=0;Gt<Re.length;Gt++){var mn=ot[Re[Gt]];t.traceIs(mn,"cartesian")&&(Kt(mn.xaxis||"x"),Kt(mn.yaxis||"y"))}ut(Fr.map(Zt),!0,0),ut(Fr.map(Ar),[0,1],0)}}return(Et.calc||Et.plot)&&(Et.fullReplot=!0),{flags:Et,undoit:lr,redoit:$t,traces:Re,eventData:C.extendDeepNoArrays([],[Ut,Re])}}function oe(ue){var me=C.counterRegex("axis",".title",!1,!1),Re=/colorbar\.title$/,Ne=Object.keys(ue),it,ot,wt;for(it=0;it<Ne.length;it++)ot=Ne[it],wt=ue[ot],(ot==="title"||me.test(ot)||Re.test(ot))&&(typeof wt=="string"||typeof wt=="number")?Ft(ot,ot.replace("title","title.text")):ot.indexOf("titlefont")>-1&&ot.indexOf("grouptitlefont")===-1?Ft(ot,ot.replace("titlefont","title.font")):ot.indexOf("titleposition")>-1?Ft(ot,ot.replace("titleposition","title.position")):ot.indexOf("titleside")>-1?Ft(ot,ot.replace("titleside","title.side")):ot.indexOf("titleoffset")>-1&&Ft(ot,ot.replace("titleoffset","title.offset"));function Ft(Ut,Gt){ue[Gt]=ue[Ut],delete ue[Ut]}}function he(ue,me,Re){ue=C.getGraphDiv(ue),o.clearPromiseQueue(ue);var Ne={};if(typeof me=="string")Ne[me]=Re;else if(C.isPlainObject(me))Ne=C.extendFlat({},me);else return C.warn("Relayout fail.",me,Re),Promise.reject();Object.keys(Ne).length&&(ue.changed=!0);var it=Ee(ue,Ne),ot=it.flags;ot.calc&&(ue.calcdata=void 0);var wt=[l.previousPromises];ot.layoutReplot?wt.push(d.layoutReplot):Object.keys(Ne).length&&(xe(ue,ot,it)||l.supplyDefaults(ue),ot.legend&&wt.push(d.doLegend),ot.layoutstyle&&wt.push(d.layoutStyles),ot.axrange&&Ae(wt,it.rangesAltered),ot.ticks&&wt.push(d.doTicksRelayout),ot.modebar&&wt.push(d.doModeBar),ot.camera&&wt.push(d.doCamera),ot.colorbars&&wt.push(d.doColorBars),wt.push(T)),wt.push(l.rehover,l.redrag,l.reselect),g.add(ue,he,[ue,it.undoit],he,[ue,it.redoit]);var Ft=C.syncOrAsync(wt,ue);return(!Ft||!Ft.then)&&(Ft=Promise.resolve(ue)),Ft.then(function(){return ue.emit("plotly_relayout",it.eventData),ue})}function xe(ue,me,Re){var Ne=ue._fullLayout;if(!me.axrange)return!1;for(var it in me)if(it!=="axrange"&&me[it])return!1;for(var ot in Re.rangesAltered){var wt=a.id2name(ot),Ft=ue.layout[wt],Ut=Ne[wt];if(Ut.autorange=Ft.autorange,Ft.range&&(Ut.range=Ft.range.slice()),Ut.cleanRange(),Ut._matchGroup){for(var Gt in Ut._matchGroup)if(Gt!==ot){var Et=Ne[a.id2name(Gt)];Et.autorange=Ut.autorange,Et.range=Ut.range.slice(),Et._input.range=Ut.range.slice()}}}return!0}function Ae(ue,me){var Re=me?function(Ne){var it=[],ot=!0;for(var wt in me){var Ft=a.getFromId(Ne,wt);if(it.push(wt),(Ft.ticklabelposition||"").indexOf("inside")!==-1&&Ft._anchorAxis&&it.push(Ft._anchorAxis._id),Ft._matchGroup)for(var Ut in Ft._matchGroup)me[Ut]||it.push(Ut)}return a.draw(Ne,it,{skipTitle:ot})}:function(Ne){return a.draw(Ne,"redraw")};ue.push(f,d.doAutoRangeAndConstraints,Re,d.drawData,d.finalDraw)}var Se=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Oe=/^[xyz]axis[0-9]*\.autorange$/,Ve=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Ee(ue,me){var Re=ue.layout,Ne=ue._fullLayout,it=Ne._guiEditing,ot=se(Ne._preGUI,it),wt=Object.keys(me),Ft=a.list(ue),Ut=C.extendDeepAll({},me),Gt={},Et,$t,lr;for(oe(me),wt=Object.keys(me),$t=0;$t<wt.length;$t++)if(wt[$t].indexOf("allaxes")===0){for(lr=0;lr<Ft.length;lr++){var Fr=Ft[lr]._id.substr(1),yt=Fr.indexOf("scene")!==-1?Fr+".":"",Kt=wt[$t].replace("allaxes",yt+Ft[lr]._name);me[Kt]||(me[Kt]=me[wt[$t]])}delete me[wt[$t]]}var Zt=S.layoutFlags(),Ar={},vr={};function ut(wr,Nr){if(Array.isArray(wr)){wr.forEach(function(tn){ut(tn,Nr)});return}if(!(wr in me||o.hasParent(me,wr))){var Vr=ot(Re,wr);wr in vr||(vr[wr]=re(Vr.get())),Nr!==void 0&&Vr.set(Nr)}}var lt={},xt;function Tt(wr){var Nr=a.name2id(wr.split(".")[0]);return lt[Nr]=1,Nr}for(var Ct in me){if(o.hasParent(me,Ct))throw new Error("cannot set "+Ct+" and a parent attribute simultaneously");for(var At=ot(Re,Ct),zt=me[Ct],Ht=At.parts.length,qt=Ht-1;qt>0&&typeof At.parts[qt]!="string";)qt--;var Qt=At.parts[qt],or=At.parts[qt-1]+"."+Qt,Lr=At.parts.slice(0,qt).join("."),Ze=y(ue.layout,Lr).get(),Ye=y(Ne,Lr).get(),It=At.get();if(zt!==void 0){Ar[Ct]=zt,vr[Ct]=Qt==="reverse"?zt:re(It);var kt=r.getLayoutValObject(Ne,At.parts);if(kt&&kt.impliedEdits&&zt!==null)for(var Xt in kt.impliedEdits)ut(C.relativeAttr(Ct,Xt),kt.impliedEdits[Xt]);if(["width","height"].indexOf(Ct)!==-1)if(zt){ut("autosize",null);var ir=Ct==="height"?"width":"height";ut(ir,Ne[ir])}else Ne[Ct]=ue._initialAutoSize[Ct];else if(Ct==="autosize")ut("width",zt?null:Ne.width),ut("height",zt?null:Ne.height);else if(or.match(Se))Tt(or),y(Ne,Lr+"._inputRange").set(null);else if(or.match(Oe)){Tt(or),y(Ne,Lr+"._inputRange").set(null);var ur=y(Ne,Lr).get();ur._inputDomain&&(ur._input.domain=ur._inputDomain.slice())}else or.match(Ve)&&y(Ne,Lr+"._inputDomain").set(null);if(Qt==="type"){xt=Ze;var nr=Ye.type==="linear"&&zt==="log",Nt=Ye.type==="log"&&zt==="linear";if(nr||Nt){if(!xt||!xt.range)ut(Lr+".autorange",!0);else if(Ye.autorange)nr&&(xt.range=xt.range[1]>xt.range[0]?[1,2]:[2,1]);else{var hr=xt.range[0],pr=xt.range[1];nr?(hr<=0&&pr<=0&&ut(Lr+".autorange",!0),hr<=0?hr=pr/1e6:pr<=0&&(pr=hr/1e6),ut(Lr+".range[0]",Math.log(hr)/Math.LN10),ut(Lr+".range[1]",Math.log(pr)/Math.LN10)):(ut(Lr+".range[0]",Math.pow(10,hr)),ut(Lr+".range[1]",Math.pow(10,pr)))}Array.isArray(Ne._subplots.polar)&&Ne._subplots.polar.length&&Ne[At.parts[0]]&&At.parts[1]==="radialaxis"&&delete Ne[At.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(ue,Ye,zt,ut),t.getComponentMethod("images","convertCoords")(ue,Ye,zt,ut)}else ut(Lr+".autorange",!0),ut(Lr+".range",null);y(Ne,Lr+"._inputRange").set(null)}else if(Qt.match(M)){var gr=y(Ne,Ct).get(),dr=(zt||{}).type;(!dr||dr==="-")&&(dr="linear"),t.getComponentMethod("annotations","convertCoords")(ue,gr,dr,ut),t.getComponentMethod("images","convertCoords")(ue,gr,dr,ut)}var Xr=v.containerArrayMatch(Ct);if(Xr){Et=Xr.array,$t=Xr.index;var Br=Xr.property,Or=kt||{editType:"calc"};$t!==""&&Br===""&&(v.isAddVal(zt)?vr[Ct]=null:v.isRemoveVal(zt)?vr[Ct]=(y(Re,Et).get()||[])[$t]:C.warn("unrecognized full object value",me)),S.update(Zt,Or),Gt[Et]||(Gt[Et]={});var mn=Gt[Et][$t];mn||(mn=Gt[Et][$t]={}),mn[Br]=zt,delete me[Ct]}else Qt==="reverse"?(Ze.range?Ze.range.reverse():(ut(Lr+".autorange",!0),Ze.range=[1,0]),Ye.autorange?Zt.calc=!0:Zt.plot=!0):(Ct==="dragmode"&&(zt===!1&&It!==!1||zt!==!1&&It===!1)||Ne._has("scatter-like")&&Ne._has("regl")&&Ct==="dragmode"&&(zt==="lasso"||zt==="select")&&!(It==="lasso"||It==="select")||Ne._has("gl2d")?Zt.plot=!0:kt?S.update(Zt,kt):Zt.calc=!0,At.set(zt))}}for(Et in Gt){var Jr=v.applyContainerArrayChanges(ue,ot(Re,Et),Gt[Et],Zt,ot);Jr||(Zt.plot=!0)}for(var _n in lt){xt=a.getFromId(ue,_n);var kn=xt&&xt._constraintGroup;if(kn){Zt.calc=!0;for(var br in kn)lt[br]||(a.getFromId(ue,br)._constraintShrinkable=!0)}}return(Te(ue)||me.height||me.width)&&(Zt.plot=!0),(Zt.plot||Zt.calc)&&(Zt.layoutReplot=!0),{flags:Zt,rangesAltered:lt,undoit:vr,redoit:Ar,eventData:Ut}}function Te(ue){var me=ue._fullLayout,Re=me.width,Ne=me.height;return ue.layout.autosize&&l.plotAutoSize(ue,ue.layout,me),me.width!==Re||me.height!==Ne}function Le(ue,me,Re,Ne){ue=C.getGraphDiv(ue),o.clearPromiseQueue(ue),C.isPlainObject(me)||(me={}),C.isPlainObject(Re)||(Re={}),Object.keys(me).length&&(ue.changed=!0),Object.keys(Re).length&&(ue.changed=!0);var it=o.coerceTraceIndices(ue,Ne),ot=le(ue,C.extendFlat({},me),it),wt=ot.flags,Ft=Ee(ue,C.extendFlat({},Re)),Ut=Ft.flags;(wt.calc||Ut.calc)&&(ue.calcdata=void 0),wt.clearAxisTypes&&o.clearAxisTypes(ue,it,Re);var Gt=[];Ut.layoutReplot?Gt.push(d.layoutReplot):wt.fullReplot?Gt.push(B._doPlot):(Gt.push(l.previousPromises),xe(ue,Ut,Ft)||l.supplyDefaults(ue),wt.style&&Gt.push(d.doTraceStyle),(wt.colorbars||Ut.colorbars)&&Gt.push(d.doColorBars),Ut.legend&&Gt.push(d.doLegend),Ut.layoutstyle&&Gt.push(d.layoutStyles),Ut.axrange&&Ae(Gt,Ft.rangesAltered),Ut.ticks&&Gt.push(d.doTicksRelayout),Ut.modebar&&Gt.push(d.doModeBar),Ut.camera&&Gt.push(d.doCamera),Gt.push(T)),Gt.push(l.rehover,l.redrag,l.reselect),g.add(ue,Le,[ue,ot.undoit,Ft.undoit,ot.traces],Le,[ue,ot.redoit,Ft.redoit,ot.traces]);var Et=C.syncOrAsync(Gt,ue);return(!Et||!Et.then)&&(Et=Promise.resolve(ue)),Et.then(function(){return ue.emit("plotly_update",{data:ot.eventData,layout:Ft.eventData}),ue})}function Ge(ue){return function(Re){Re._fullLayout._guiEditing=!0;var Ne=ue.apply(null,arguments);return Re._fullLayout._guiEditing=!1,Ne}}var He=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ke=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function We(ue,me){for(var Re=0;Re<me.length;Re++){var Ne=me[Re],it=ue.match(Ne.pattern);if(it){var ot=it[1]||"";return{head:ot,tail:ue.substr(ot.length+1),attr:Ne.attr}}}}function nt(ue,me){var Re=y(me,ue).get();if(Re!==void 0)return Re;var Ne=ue.split(".");for(Ne.pop();Ne.length>1;)if(Ne.pop(),Re=y(me,Ne.join(".")+".uirevision").get(),Re!==void 0)return Re;return me.uirevision}function qe(ue,me){for(var Re=0;Re<me.length;Re++)if(me[Re]._fullInput.uid===ue)return Re;return-1}function Qe(ue,me,Re){for(var Ne=0;Ne<me.length;Ne++)if(me[Ne].uid===ue)return Ne;return!me[Re]||me[Re].uid?-1:Re}function tt(ue,me){var Re=C.isPlainObject(ue),Ne=Array.isArray(ue);return Re||Ne?(Re&&C.isPlainObject(me)||Ne&&Array.isArray(me))&&JSON.stringify(ue)===JSON.stringify(me):ue===me}function vt(ue,me,Re,Ne){var it=Ne._preGUI,ot,wt,Ft,Ut,Gt,Et,$t,lr,Fr,yt,Kt=[],Zt={},Ar={};for(ot in it){if(Gt=We(ot,He),Gt){if(Fr=Gt.head,yt=Gt.tail,wt=Gt.attr||Fr+".uirevision",Ft=y(Ne,wt).get(),Ut=Ft&&nt(wt,me),Ut&&Ut===Ft){if(Et=it[ot],Et===null&&(Et=void 0),$t=y(me,ot),lr=$t.get(),tt(lr,Et)){lr===void 0&&yt==="autorange"&&Kt.push(Fr),$t.set(re(y(Ne,ot).get()));continue}else if(yt==="autorange"||yt.substr(0,6)==="range["){var vr=it[Fr+".range[0]"],ut=it[Fr+".range[1]"],lt=it[Fr+".autorange"];if(lt||lt===null&&vr===null&&ut===null){if(!(Fr in Zt)){var xt=y(me,Fr).get();Zt[Fr]=xt&&(xt.autorange||xt.autorange!==!1&&(!xt.range||xt.range.length!==2))}if(Zt[Fr]){$t.set(re(y(Ne,ot).get()));continue}}}}}else C.warn("unrecognized GUI edit: "+ot);delete it[ot],Gt&&Gt.tail.substr(0,6)==="range["&&(Ar[Gt.head]=1)}for(var Tt=0;Tt<Kt.length;Tt++){var Ct=Kt[Tt];if(Ar[Ct]){var At=y(me,Ct).get();At&&delete At.autorange}}var zt=Ne._tracePreGUI;for(var Ht in zt){var qt=zt[Ht],Qt=null,or;for(ot in qt){if(!Qt){var Lr=qe(Ht,Re);if(Lr<0){delete zt[Ht];break}var Ze=Re[Lr];or=Ze._fullInput;var Ye=Qe(Ht,ue,or.index);if(Ye<0){delete zt[Ht];break}Qt=ue[Ye]}if(Gt=We(ot,ke),Gt){if(Gt.attr?(Ft=y(Ne,Gt.attr).get(),Ut=Ft&&nt(Gt.attr,me)):(Ft=or.uirevision,Ut=Qt.uirevision,Ut===void 0&&(Ut=me.uirevision)),Ut&&Ut===Ft&&(Et=qt[ot],Et===null&&(Et=void 0),$t=y(Qt,ot),lr=$t.get(),tt(lr,Et))){$t.set(re(y(or,ot).get()));continue}}else C.warn("unrecognized GUI edit: "+ot+" in trace uid "+Ht);delete qt[ot]}}}function dt(ue,me,Re,Ne){var it,ot;function wt(){return B.addFrames(ue,it)}ue=C.getGraphDiv(ue),o.clearPromiseQueue(ue);var Ft=ue._fullData,Ut=ue._fullLayout;if(!C.isPlotDiv(ue)||!Ft||!Ut)ot=B.newPlot(ue,me,Re,Ne);else{if(C.isPlainObject(me)){var Gt=me;me=Gt.data,Re=Gt.layout,Ne=Gt.config,it=Gt.frames}var Et=!1;if(Ne){var $t=C.extendDeep({},ue._context);ue._context=void 0,k(ue,Ne),Et=Wt($t,ue._context)}ue.data=me||[],o.cleanData(ue.data),ue.layout=Re||{},o.cleanLayout(ue.layout),vt(ue.data,ue.layout,Ft,Ut),l.supplyDefaults(ue,{skipUpdateCalc:!0});var lr=ue._fullData,Fr=ue._fullLayout,yt=Fr.datarevision===void 0,Kt=Fr.transition,Zt=Mt(ue,Ut,Fr,yt,Kt),Ar=Zt.newDataRevision,vr=gt(ue,Ft,lr,yt,Kt,Ar);if(Te(ue)&&(Zt.layoutReplot=!0),vr.calc||Zt.calc){ue.calcdata=void 0;for(var ut=Object.getOwnPropertyNames(Fr),lt=0;lt<ut.length;lt++){var xt=ut[lt],Tt=xt.substring(0,5);if(Tt==="xaxis"||Tt==="yaxis"){var Ct=Fr[xt]._emptyCategories;Ct&&Ct()}}}else l.supplyDefaultsUpdateCalc(ue.calcdata,lr);var At=[];if(it&&(ue._transitionData={},l.createTransitionData(ue),At.push(wt)),Fr.transition&&!Et&&(vr.anim||Zt.anim))Zt.ticks&&At.push(d.doTicksRelayout),l.doCalcdata(ue),d.doAutoRangeAndConstraints(ue),At.push(function(){return l.transitionFromReact(ue,vr,Zt,Ut)});else if(vr.fullReplot||Zt.layoutReplot||Et)ue._fullLayout._skipDefaults=!0,At.push(B._doPlot);else{for(var zt in Zt.arrays){var Ht=Zt.arrays[zt];if(Ht.length){var qt=t.getComponentMethod(zt,"drawOne");if(qt!==C.noop)for(var Qt=0;Qt<Ht.length;Qt++)qt(ue,Ht[Qt]);else{var or=t.getComponentMethod(zt,"draw");if(or===C.noop)throw new Error("cannot draw components: "+zt);or(ue)}}}At.push(l.previousPromises),vr.style&&At.push(d.doTraceStyle),(vr.colorbars||Zt.colorbars)&&At.push(d.doColorBars),Zt.legend&&At.push(d.doLegend),Zt.layoutstyle&&At.push(d.layoutStyles),Zt.axrange&&Ae(At),Zt.ticks&&At.push(d.doTicksRelayout),Zt.modebar&&At.push(d.doModeBar),Zt.camera&&At.push(d.doCamera),At.push(T)}At.push(l.rehover,l.redrag,l.reselect),ot=C.syncOrAsync(At,ue),(!ot||!ot.then)&&(ot=Promise.resolve(ue))}return ot.then(function(){return ue.emit("plotly_react",{data:me,layout:Re}),ue})}function gt(ue,me,Re,Ne,it,ot){var wt=me.length===Re.length;if(!it&&!wt)return{fullReplot:!0,calc:!0};var Ft=S.traceFlags();Ft.arrays={},Ft.nChanges=0,Ft.nChangesAnim=0;var Ut,Gt;function Et(Fr){var yt=r.getTraceValObject(Gt,Fr);return!Gt._module.animatable&&yt.anim&&(yt.anim=!1),yt}var $t={getValObject:Et,flags:Ft,immutable:Ne,transition:it,newDataRevision:ot,gd:ue},lr={};for(Ut=0;Ut<me.length;Ut++)if(Re[Ut]){if(Gt=Re[Ut]._fullInput,l.hasMakesDataTransform(Gt)&&(Gt=Re[Ut]),lr[Gt.uid])continue;lr[Gt.uid]=1,Rt(me[Ut]._fullInput,Gt,[],$t)}return(Ft.calc||Ft.plot)&&(Ft.fullReplot=!0),it&&Ft.nChanges&&Ft.nChangesAnim&&(Ft.anim=Ft.nChanges===Ft.nChangesAnim&&wt?"all":"some"),Ft}function Mt(ue,me,Re,Ne,it){var ot=S.layoutFlags();ot.arrays={},ot.rangesAltered={},ot.nChanges=0,ot.nChangesAnim=0;function wt(Ut){return r.getLayoutValObject(Re,Ut)}var Ft={getValObject:wt,flags:ot,immutable:Ne,transition:it,gd:ue};return Rt(me,Re,[],Ft),(ot.plot||ot.calc)&&(ot.layoutReplot=!0),it&&ot.nChanges&&ot.nChangesAnim&&(ot.anim=ot.nChanges===ot.nChangesAnim?"all":"some"),ot}function Rt(ue,me,Re,Ne){var it,ot,wt,Ft=Ne.getValObject,Ut=Ne.flags,Gt=Ne.immutable,Et=Ne.inArray,$t=Ne.arrayIndex;function lr(){var Lr=it.editType;if(Et&&Lr.indexOf("arraydraw")!==-1){C.pushUnique(Ut.arrays[Et],$t);return}S.update(Ut,it),Lr!=="none"&&Ut.nChanges++,Ne.transition&&it.anim&&Ut.nChangesAnim++,(Se.test(wt)||Oe.test(wt))&&(Ut.rangesAltered[Re[0]]=1),Ve.test(wt)&&y(me,"_inputDomain").set(null),ot==="datarevision"&&(Ut.newDataRevision=1)}function Fr(Lr){return Lr.valType==="data_array"||Lr.arrayOk}for(ot in ue){if(Ut.calc&&!Ne.transition)return;var yt=ue[ot],Kt=me[ot],Zt=Re.concat(ot);if(wt=Zt.join("."),!(ot.charAt(0)==="_"||typeof yt=="function"||yt===Kt)){if((ot==="tick0"||ot==="dtick")&&Re[0]!=="geo"){var Ar=me.tickmode;if(Ar==="auto"||Ar==="array"||!Ar)continue}if(!(ot==="range"&&me.autorange)&&!((ot==="zmin"||ot==="zmax")&&me.type==="contourcarpet")&&(it=Ft(Zt),!!it&&!(it._compareAsJSON&&JSON.stringify(yt)===JSON.stringify(Kt)))){var vr=it.valType,ut,lt=Fr(it),xt=Array.isArray(yt),Tt=Array.isArray(Kt);if(xt&&Tt){var Ct="_input_"+ot,At=ue[Ct],zt=me[Ct];if(Array.isArray(At)&&At===zt)continue}if(Kt===void 0)lt&&xt?Ut.calc=!0:lr();else if(it._isLinkedToArray){var Ht=[],qt=!1;Et||(Ut.arrays[ot]=Ht);var Qt=Math.min(yt.length,Kt.length),or=Math.max(yt.length,Kt.length);if(Qt!==or)if(it.editType==="arraydraw")qt=!0;else{lr();continue}for(ut=0;ut<Qt;ut++)Rt(yt[ut],Kt[ut],Zt.concat(ut),C.extendFlat({inArray:ot,arrayIndex:ut},Ne));if(qt)for(ut=Qt;ut<or;ut++)Ht.push(ut)}else!vr&&C.isPlainObject(yt)?Rt(yt,Kt,Zt,Ne):lt?xt&&Tt?(Gt&&(Ut.calc=!0),(Gt||Ne.newDataRevision)&&lr()):xt!==Tt?Ut.calc=!0:lr():xt&&Tt?(yt.length!==Kt.length||String(yt)!==String(Kt))&&lr():lr()}}}for(ot in me)if(!(ot in ue||ot.charAt(0)==="_"||typeof me[ot]=="function"))if(it=Ft(Re.concat(ot)),Fr(it)&&Array.isArray(me[ot])){Ut.calc=!0;return}else lr()}function Wt(ue,me){var Re;for(Re in ue)if(Re.charAt(0)!=="_"){var Ne=ue[Re],it=me[Re];if(Ne!==it)if(C.isPlainObject(Ne)&&C.isPlainObject(it)){if(Wt(Ne,it))return!0}else if(Array.isArray(Ne)&&Array.isArray(it)){if(Ne.length!==it.length)return!0;for(var ot=0;ot<Ne.length;ot++)if(Ne[ot]!==it[ot])if(C.isPlainObject(Ne[ot])&&C.isPlainObject(it[ot])){if(Wt(Ne[ot],it[ot]))return!0}else return!0}else return!0}}function je(ue,me,Re){if(ue=C.getGraphDiv(ue),!C.isPlotDiv(ue))throw new Error("This element is not a Plotly plot: "+ue+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Ne=ue._transitionData;Ne._frameQueue||(Ne._frameQueue=[]),Re=l.supplyAnimationDefaults(Re);var it=Re.transition,ot=Re.frame;Ne._frameWaitingCnt===void 0&&(Ne._frameWaitingCnt=0);function wt(Gt){return Array.isArray(it)?Gt>=it.length?it[0]:it[Gt]:it}function Ft(Gt){return Array.isArray(ot)?Gt>=ot.length?ot[0]:ot[Gt]:ot}function Ut(Gt,Et){var $t=0;return function(){if(Gt&&++$t===Et)return Gt()}}return new Promise(function(Gt,Et){function $t(){if(Ne._frameQueue.length!==0){for(;Ne._frameQueue.length;){var Qt=Ne._frameQueue.pop();Qt.onInterrupt&&Qt.onInterrupt()}ue.emit("plotly_animationinterrupted",[])}}function lr(Qt){if(Qt.length!==0){for(var or=0;or<Qt.length;or++){var Lr;Qt[or].type==="byname"?Lr=l.computeFrame(ue,Qt[or].name):Lr=Qt[or].data;var Ze=Ft(or),Ye=wt(or);Ye.duration=Math.min(Ye.duration,Ze.duration);var It={frame:Lr,name:Qt[or].name,frameOpts:Ze,transitionOpts:Ye};or===Qt.length-1&&(It.onComplete=Ut(Gt,2),It.onInterrupt=Et),Ne._frameQueue.push(It)}Re.mode==="immediate"&&(Ne._lastFrameAt=-1/0),Ne._animationRaf||Kt()}}function Fr(){ue.emit("plotly_animated"),window.cancelAnimationFrame(Ne._animationRaf),Ne._animationRaf=null}function yt(){Ne._currentFrame&&Ne._currentFrame.onComplete&&Ne._currentFrame.onComplete();var Qt=Ne._currentFrame=Ne._frameQueue.shift();if(Qt){var or=Qt.name?Qt.name.toString():null;ue._fullLayout._currentFrame=or,Ne._lastFrameAt=Date.now(),Ne._timeToNext=Qt.frameOpts.duration,l.transition(ue,Qt.frame.data,Qt.frame.layout,o.coerceTraceIndices(ue,Qt.frame.traces),Qt.frameOpts,Qt.transitionOpts).then(function(){Qt.onComplete&&Qt.onComplete()}),ue.emit("plotly_animatingframe",{name:or,frame:Qt.frame,animation:{frame:Qt.frameOpts,transition:Qt.transitionOpts}})}else Fr()}function Kt(){ue.emit("plotly_animating"),Ne._lastFrameAt=-1/0,Ne._timeToNext=0,Ne._runningTransitions=0,Ne._currentFrame=null;var Qt=function(){Ne._animationRaf=window.requestAnimationFrame(Qt),Date.now()-Ne._lastFrameAt>Ne._timeToNext&&yt()};Qt()}var Zt=0;function Ar(Qt){return Array.isArray(it)?Zt>=it.length?Qt.transitionOpts=it[Zt]:Qt.transitionOpts=it[0]:Qt.transitionOpts=it,Zt++,Qt}var vr,ut,lt=[],xt=me==null,Tt=Array.isArray(me),Ct=!xt&&!Tt&&C.isPlainObject(me);if(Ct)lt.push({type:"object",data:Ar(C.extendFlat({},me))});else if(xt||["string","number"].indexOf(typeof me)!==-1)for(vr=0;vr<Ne._frames.length;vr++)ut=Ne._frames[vr],ut&&(xt||String(ut.group)===String(me))&&lt.push({type:"byname",name:String(ut.name),data:Ar({name:ut.name})});else if(Tt)for(vr=0;vr<me.length;vr++){var At=me[vr];["number","string"].indexOf(typeof At)!==-1?(At=String(At),lt.push({type:"byname",name:At,data:Ar({name:At})})):C.isPlainObject(At)&&lt.push({type:"object",data:Ar(C.extendFlat({},At))})}for(vr=0;vr<lt.length;vr++)if(ut=lt[vr],ut.type==="byname"&&!Ne._frameHash[ut.data.name]){C.warn('animate failure: frame not found: "'+ut.data.name+'"'),Et();return}["next","immediate"].indexOf(Re.mode)!==-1&&$t(),Re.direction==="reverse"&&lt.reverse();var zt=ue._fullLayout._currentFrame;if(zt&&Re.fromcurrent){var Ht=-1;for(vr=0;vr<lt.length;vr++)if(ut=lt[vr],ut.type==="byname"&&ut.name===zt){Ht=vr;break}if(Ht>0&&Ht<lt.length-1){var qt=[];for(vr=0;vr<lt.length;vr++)ut=lt[vr],(lt[vr].type!=="byname"||vr>Ht)&&qt.push(ut);lt=qt}}lt.length>0?lr(lt):(ue.emit("plotly_animated"),Gt())})}function _e(ue,me,Re){if(ue=C.getGraphDiv(ue),me==null)return Promise.resolve();if(!C.isPlotDiv(ue))throw new Error("This element is not a Plotly plot: "+ue+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Ne,it,ot,wt,Ft=ue._transitionData._frames,Ut=ue._transitionData._frameHash;if(!Array.isArray(me))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+me);var Gt=Ft.length+me.length*2,Et=[],$t={};for(Ne=me.length-1;Ne>=0;Ne--)if(C.isPlainObject(me[Ne])){var lr=me[Ne].name,Fr=(Ut[lr]||$t[lr]||{}).name,yt=me[Ne].name,Kt=Ut[Fr]||$t[Fr];Fr&&yt&&typeof yt=="number"&&Kt&&P<x&&(P++,C.warn('addFrames: overwriting frame "'+(Ut[Fr]||$t[Fr]).name+'" with a frame whose name of type "number" also equates to "'+Fr+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),P===x&&C.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),$t[lr]={name:lr},Et.push({frame:l.supplyFrameDefaults(me[Ne]),index:Re&&Re[Ne]!==void 0&&Re[Ne]!==null?Re[Ne]:Gt+Ne})}Et.sort(function(Ct,At){return Ct.index>At.index?-1:Ct.index<At.index?1:0});var Zt=[],Ar=[],vr=Ft.length;for(Ne=Et.length-1;Ne>=0;Ne--){if(it=Et[Ne].frame,typeof it.name=="number"&&C.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!it.name)for(;Ut[it.name="frame "+ue._transitionData._counter++];);if(Ut[it.name]){for(ot=0;ot<Ft.length&&(Ft[ot]||{}).name!==it.name;ot++);Zt.push({type:"replace",index:ot,value:it}),Ar.unshift({type:"replace",index:ot,value:Ft[ot]})}else wt=Math.max(0,Math.min(Et[Ne].index,vr)),Zt.push({type:"insert",index:wt,value:it}),Ar.unshift({type:"delete",index:wt}),vr++}var ut=l.modifyFrames,lt=l.modifyFrames,xt=[ue,Ar],Tt=[ue,Zt];return g&&g.add(ue,ut,xt,lt,Tt),l.modifyFrames(ue,Zt)}function Fe(ue,me){if(ue=C.getGraphDiv(ue),!C.isPlotDiv(ue))throw new Error("This element is not a Plotly plot: "+ue);var Re,Ne,it=ue._transitionData._frames,ot=[],wt=[];if(!me)for(me=[],Re=0;Re<it.length;Re++)me.push(Re);for(me=me.slice(),me.sort(),Re=me.length-1;Re>=0;Re--)Ne=me[Re],ot.push({type:"delete",index:Ne}),wt.unshift({type:"insert",index:Ne,value:it[Ne]});var Ft=l.modifyFrames,Ut=l.modifyFrames,Gt=[ue,wt],Et=[ue,ot];return g&&g.add(ue,Ft,Gt,Ut,Et),l.modifyFrames(ue,ot)}function Be(ue){ue=C.getGraphDiv(ue);var me=ue._fullLayout||{},Re=ue._fullData||[];return l.cleanPlot([],{},Re,me),l.purge(ue),h.purge(ue),me._container&&me._container.remove(),delete ue._context,ue}function De(ue){var me=ue._fullLayout,Re=ue.getBoundingClientRect();if(!C.equalDomRects(Re,me._lastBBox)){var Ne=me._invTransform=C.inverseTransformMatrix(C.getFullTransformMatrix(ue));me._invScaleX=Math.sqrt(Ne[0][0]*Ne[0][0]+Ne[0][1]*Ne[0][1]+Ne[0][2]*Ne[0][2]),me._invScaleY=Math.sqrt(Ne[1][0]*Ne[1][0]+Ne[1][1]*Ne[1][1]+Ne[1][2]*Ne[1][2]),me._lastBBox=Re}}function we(ue){var me=p.select(ue),Re=ue._fullLayout;if(Re._calcInverseTransform=De,Re._calcInverseTransform(ue),Re._container=me.selectAll(".plot-container").data([0]),Re._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Re._paperdiv=Re._container.selectAll(".svg-container").data([0]),Re._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Re._glcontainer=Re._paperdiv.selectAll(".gl-container").data([{}]),Re._glcontainer.enter().append("div").classed("gl-container",!0),Re._paperdiv.selectAll(".main-svg").remove(),Re._paperdiv.select(".modebar-container").remove(),Re._paper=Re._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Re._toppaper=Re._paperdiv.append("svg").classed("main-svg",!0),Re._modebardiv=Re._paperdiv.append("div"),delete Re._modeBar,Re._hoverpaper=Re._paperdiv.append("svg").classed("main-svg",!0),!Re._uid){var Ne={};p.selectAll("defs").each(function(){this.id&&(Ne[this.id.split("-")[1]]=1)}),Re._uid=C.randstr(Ne)}Re._paperdiv.selectAll(".main-svg").attr(b.svgAttrs),Re._defs=Re._paper.append("defs").attr("id","defs-"+Re._uid),Re._clips=Re._defs.append("g").classed("clips",!0),Re._topdefs=Re._toppaper.append("defs").attr("id","topdefs-"+Re._uid),Re._topclips=Re._topdefs.append("g").classed("clips",!0),Re._bgLayer=Re._paper.append("g").classed("bglayer",!0),Re._draggers=Re._paper.append("g").classed("draglayer",!0);var it=Re._paper.append("g").classed("layer-below",!0);Re._imageLowerLayer=it.append("g").classed("imagelayer",!0),Re._shapeLowerLayer=it.append("g").classed("shapelayer",!0),Re._cartesianlayer=Re._paper.append("g").classed("cartesianlayer",!0),Re._polarlayer=Re._paper.append("g").classed("polarlayer",!0),Re._smithlayer=Re._paper.append("g").classed("smithlayer",!0),Re._ternarylayer=Re._paper.append("g").classed("ternarylayer",!0),Re._geolayer=Re._paper.append("g").classed("geolayer",!0),Re._funnelarealayer=Re._paper.append("g").classed("funnelarealayer",!0),Re._pielayer=Re._paper.append("g").classed("pielayer",!0),Re._iciclelayer=Re._paper.append("g").classed("iciclelayer",!0),Re._treemaplayer=Re._paper.append("g").classed("treemaplayer",!0),Re._sunburstlayer=Re._paper.append("g").classed("sunburstlayer",!0),Re._indicatorlayer=Re._toppaper.append("g").classed("indicatorlayer",!0),Re._glimages=Re._paper.append("g").classed("glimages",!0);var ot=Re._toppaper.append("g").classed("layer-above",!0);Re._imageUpperLayer=ot.append("g").classed("imagelayer",!0),Re._shapeUpperLayer=ot.append("g").classed("shapelayer",!0),Re._selectionLayer=Re._toppaper.append("g").classed("selectionlayer",!0),Re._infolayer=Re._toppaper.append("g").classed("infolayer",!0),Re._menulayer=Re._toppaper.append("g").classed("menulayer",!0),Re._zoomlayer=Re._toppaper.append("g").classed("zoomlayer",!0),Re._hoverlayer=Re._hoverpaper.append("g").classed("hoverlayer",!0),Re._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ue.emit("plotly_framework")}B.animate=je,B.addFrames=_e,B.deleteFrames=Fe,B.addTraces=K,B.deleteTraces=Y,B.extendTraces=te,B.moveTraces=W,B.prependTraces=fe,B.newPlot=H,B._doPlot=E,B.purge=Be,B.react=dt,B.redraw=_,B.relayout=he,B.restyle=X,B.setPlotConfig=i,B.update=Le,B._guiRelayout=Ge(he),B._guiRestyle=Ge(X),B._guiUpdate=Ge(Le),B._storeDirectGUIEdit=ee},72075:function(V){var B={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};function p(L,n){for(var C in L){var y=L[C];y.valType?n[C]=y.dflt:(n[C]||(n[C]={}),p(y,n[C]))}}p(B,e),V.exports={configAttributes:B,dfltConfig:e}},86281:function(V,B,e){var p=e(73972),L=e(71828),n=e(9012),C=e(10820),y=e(31391),h=e(85594),g=e(72075).configAttributes,t=e(30962),r=L.extendDeepAll,l=L.isPlainObject,a=L.isArrayOrTypedArray,s=L.nestedProperty,c=L.valObjectMeta,u="_isSubplotObj",b="_isLinkedToArray",f="_arrayAttrRegexps",w="_deprecated",v=[u,b,f,w];B.IS_SUBPLOT_OBJ=u,B.IS_LINKED_TO_ARRAY=b,B.DEPRECATED=w,B.UNDERSCORE_ATTRS=v,B.get=function(){var H={};p.allTypes.forEach(function(N){H[N]=M(N)});var z={};return Object.keys(p.transformsRegistry).forEach(function(N){z[N]=x(N)}),{defs:{valObjects:c,metaKeys:v.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:H,layout:P(),transforms:z,frames:E(),animation:T(h),config:T(g)}},B.crawl=function(H,z,N,O){var F=N||0;O=O||"",Object.keys(H).forEach(function(U){var Z=H[U];if(v.indexOf(U)===-1){var q=(O?O+".":"")+U;z(Z,U,H,F,q),!B.isValObject(Z)&&l(Z)&&U!=="impliedEdits"&&B.crawl(Z,z,F+1,q)}})},B.isValObject=function(H){return H&&H.valType!==void 0},B.findArrayAttributes=function(H){var z=[],N=[],O=[],F,U;function Z(Y,W,X,re){N=N.slice(0,re).concat([W]),O=O.slice(0,re).concat([Y&&Y._isLinkedToArray]);var se=Y&&(Y.valType==="data_array"||Y.arrayOk===!0)&&!(N[re-1]==="colorbar"&&(W==="ticktext"||W==="tickvals"));se&&q(F,0,"")}function q(Y,W,X){var re=Y[N[W]],se=X+N[W];if(W===N.length-1)a(re)&&z.push(U+se);else if(O[W]){if(Array.isArray(re))for(var Q=0;Q<re.length;Q++)l(re[Q])&&q(re[Q],W+1,se+"["+Q+"].")}else l(re)&&q(re,W+1,se+".")}F=H,U="",B.crawl(n,Z),H._module&&H._module.attributes&&B.crawl(H._module.attributes,Z);var J=H.transforms;if(J)for(var te=0;te<J.length;te++){var fe=J[te],K=fe._module;K&&(U="transforms["+te+"].",F=fe,B.crawl(K.attributes,Z))}return z},B.getTraceValObject=function(H,z){var N=z[0],O=1,F,U;if(N==="transforms"){if(z.length===1)return n.transforms;var Z=H.transforms;if(!Array.isArray(Z)||!Z.length)return!1;var q=z[1];if(!S(q)||q>=Z.length)return!1;F=(p.transformsRegistry[Z[q].type]||{}).attributes,U=F&&F[z[2]],O=3}else{var J=H._module;if(J||(J=(p.modules[H.type||n.type.dflt]||{})._module),!J)return!1;if(F=J.attributes,U=F&&F[N],!U){var te=J.basePlotModule;te&&te.attributes&&(U=te.attributes[N])}U||(U=n[N])}return d(U,z,O)},B.getLayoutValObject=function(H,z){var N=o(H,z[0]);return d(N,z,1)};function o(H,z){var N,O,F,U,Z=H._basePlotModules;if(Z){var q;for(N=0;N<Z.length;N++){if(F=Z[N],F.attrRegex&&F.attrRegex.test(z)){if(F.layoutAttrOverrides)return F.layoutAttrOverrides;!q&&F.layoutAttributes&&(q=F.layoutAttributes)}var J=F.baseLayoutAttrOverrides;if(J&&z in J)return J[z]}if(q)return q}var te=H._modules;if(te){for(N=0;N<te.length;N++)if(U=te[N].layoutAttributes,U&&z in U)return U[z]}for(O in p.componentsRegistry){if(F=p.componentsRegistry[O],F.name==="colorscale"&&z.indexOf("coloraxis")===0)return F.layoutAttributes[z];if(!F.schema&&z===F.name)return F.layoutAttributes}return z in C?C[z]:!1}function d(H,z,N){if(!H)return!1;if(H._isLinkedToArray){if(S(z[N]))N++;else if(N<z.length)return!1}for(;N<z.length;N++){var O=H[z[N]];if(l(O))H=O;else break;if(N===z.length-1)break;if(H._isLinkedToArray){if(N++,!S(z[N]))return!1}else if(H.valType==="info_array"){N++;var F=z[N];if(!S(F))return!1;var U=H.items;if(Array.isArray(U)){if(F>=U.length)return!1;if(H.dimensions===2){if(N++,z.length===N)return H;var Z=z[N];if(!S(Z))return!1;H=U[F][Z]}else H=U[F]}else H=U}}return H}function S(H){return H===Math.round(H)&&H>=0}function M(H){var z,N;z=p.modules[H]._module,N=z.basePlotModule;var O={};O.type=null;var F=r({},n),U=r({},z.attributes);B.crawl(U,function(J,te,fe,K,Y){s(F,Y).set(void 0),J===void 0&&s(U,Y).set(void 0)}),r(O,F),p.traceIs(H,"noOpacity")&&delete O.opacity,p.traceIs(H,"showLegend")||(delete O.showlegend,delete O.legendgroup),p.traceIs(H,"noHover")&&(delete O.hoverinfo,delete O.hoverlabel),z.selectPoints||delete O.selectedpoints,r(O,U),N.attributes&&r(O,N.attributes),O.type=H;var Z={meta:z.meta||{},categories:z.categories||{},animatable:!!z.animatable,type:H,attributes:T(O)};if(z.layoutAttributes){var q={};r(q,z.layoutAttributes),Z.layoutAttributes=T(q)}return z.animatable||B.crawl(Z,function(J){B.isValObject(J)&&"anim"in J&&delete J.anim}),Z}function P(){var H={},z,N;r(H,C);for(z in p.subplotsRegistry)if(N=p.subplotsRegistry[z],!!N.layoutAttributes)if(Array.isArray(N.attr))for(var O=0;O<N.attr.length;O++)k(H,N,N.attr[O]);else{var F=N.attr==="subplot"?N.name:N.attr;k(H,N,F)}for(z in p.componentsRegistry){N=p.componentsRegistry[z];var U=N.schema;if(U&&(U.subplots||U.layout)){var Z=U.subplots;if(Z&&Z.xaxis&&!Z.yaxis)for(var q in Z.xaxis)delete H.yaxis[q];delete H.xaxis.shift,delete H.xaxis.autoshift}else N.name==="colorscale"?r(H,N.layoutAttributes):N.layoutAttributes&&_(H,N.layoutAttributes,N.name)}return{layoutAttributes:T(H)}}function x(H){var z=p.transformsRegistry[H],N=r({},z.attributes);return Object.keys(p.componentsRegistry).forEach(function(O){var F=p.componentsRegistry[O];F.schema&&F.schema.transforms&&F.schema.transforms[H]&&Object.keys(F.schema.transforms[H]).forEach(function(U){_(N,F.schema.transforms[H][U],U)})}),{attributes:T(N)}}function E(){var H={frames:r({},y)};return T(H),H.frames}function T(H){return i(H),R(H),A(H),H}function i(H){function z(O){return{valType:"string",editType:"none"}}function N(O,F,U){B.isValObject(O)?(O.arrayOk===!0||O.valType==="data_array")&&(U[F+"src"]=z()):l(O)&&(O.role="object")}B.crawl(H,N)}function R(H){function z(N,O,F){if(N){var U=N[b];U&&(delete N[b],F[O]={items:{}},F[O].items[U]=N,F[O].role="object")}}B.crawl(H,z)}function A(H){function z(N){for(var O in N)if(l(N[O]))z(N[O]);else if(Array.isArray(N[O]))for(var F=0;F<N[O].length;F++)z(N[O][F]);else N[O]instanceof RegExp&&(N[O]=N[O].toString())}z(H)}function k(H,z,N){var O=s(H,N),F=r({},z.layoutAttributes);F[u]=!0,O.set(F)}function _(H,z,N){var O=s(H,N);O.set(r(O.get()||{},z))}},44467:function(V,B,e){var p=e(71828),L=e(9012),n="templateitemname",C={name:{valType:"string",editType:"none"}};C[n]={valType:"string",editType:"calc"},B.templatedArray=function(g,t){return t._isLinkedToArray=g,t.name=C.name,t[n]=C[n],t},B.traceTemplater=function(g){var t={},r,l;for(r in g)l=g[r],Array.isArray(l)&&l.length&&(t[r]=0);function a(s){r=p.coerce(s,{},L,"type");var c={type:r,_template:null};if(r in t){l=g[r];var u=t[r]%l.length;t[r]++,c._template=l[u]}return c}return{newTrace:a}},B.newContainer=function(g,t,r){var l=g._template,a=l&&(l[t]||r&&l[r]);p.isPlainObject(a)||(a=null);var s=g[t]={_template:a};return s},B.arrayTemplater=function(g,t,r){var l=g._template,a=l&&l[h(t)],s=l&&l[t];(!Array.isArray(s)||!s.length)&&(s=[]);var c={};function u(f){var w={name:f.name,_input:f},v=w[n]=f[n];if(!y(v))return w._template=a,w;for(var o=0;o<s.length;o++){var d=s[o];if(d.name===v)return c[v]=1,w._template=d,w}return w[r]=f[r]||!1,w._template=!1,w}function b(){for(var f=[],w=0;w<s.length;w++){var v=s[w],o=v.name;if(y(o)&&!c[o]){var d={_template:v,name:o,_input:{_templateitemname:o}};d[n]=v[n],f.push(d),c[o]=1}}return f}return{newItem:u,defaultItems:b}};function y(g){return g&&typeof g=="string"}function h(g){var t=g.length-1;return g.charAt(t)!=="s"&&p.warn("bad argument to arrayDefaultKey: "+g),g.substr(0,g.length-1)+"defaults"}B.arrayDefaultKey=h,B.arrayEditor=function(g,t,r){var l=(p.nestedProperty(g,t).get()||[]).length,a=r._index,s=a>=l&&(r._input||{})._templateitemname;s&&(a=l);var c=t+"["+a+"]",u;function b(){u={},s&&(u[c]={},u[c][n]=s)}b();function f(d,S){u[d]=S}function w(d,S){s?p.nestedProperty(u[c],d).set(S):u[c+"."+d]=S}function v(){var d=u;return b(),d}function o(d,S){d&&w(d,S);var M=v();for(var P in M)p.nestedProperty(g,P).set(M[P])}return{modifyBase:f,modifyItem:w,getUpdateObj:v,applyUpdate:o}}},61549:function(V,B,e){var p=e(39898),L=e(73972),n=e(74875),C=e(71828),y=e(63893),h=e(33306),g=e(7901),t=e(91424),r=e(92998),l=e(64168),a=e(89298),s=e(18783),c=e(99082),u=c.enforce,b=c.clean,f=e(71739).doAutoRange,w="start",v="middle",o="end";B.layoutStyles=function(N){return C.syncOrAsync([n.doAutoMargin,S],N)};function d(N,O,F){for(var U=0;U<F.length;U++){var Z=F[U][0],q=F[U][1];if(!(Z[0]>=N[1]||Z[1]<=N[0])&&q[0]<O[1]&&q[1]>O[0])return!0}return!1}function S(N){var O=N._fullLayout,F=O._size,U=F.p,Z=a.list(N,"",!0),q,J,te,fe,K,Y;if(O._paperdiv.style({width:N._context.responsive&&O.autosize&&!N._context._hasZeroWidth&&!N.layout.width?"100%":O.width+"px",height:N._context.responsive&&O.autosize&&!N._context._hasZeroHeight&&!N.layout.height?"100%":O.height+"px"}).selectAll(".main-svg").call(t.setSize,O.width,O.height),N._context.setBackground(N,O.paper_bgcolor),B.drawMainTitle(N),l.manage(N),!O._has("cartesian"))return n.previousPromises(N);function W(we,ue,me){var Re=we._lw/2;if(we._id.charAt(0)==="x"){if(ue){if(me==="top")return ue._offset-U-Re}else return F.t+F.h*(1-(we.position||0))+Re%1;return ue._offset+ue._length+U+Re}if(ue){if(me==="right")return ue._offset+ue._length+U+Re}else return F.l+F.w*(we.position||0)+Re%1;return ue._offset-U-Re}for(q=0;q<Z.length;q++){fe=Z[q];var X=fe._anchorAxis;fe._linepositions={},fe._lw=t.crispRound(N,fe.linewidth,1),fe._mainLinePosition=W(fe,X,fe.side),fe._mainMirrorPosition=fe.mirror&&X?W(fe,X,s.OPPOSITE_SIDE[fe.side]):null}var re=[],se=[],Q=[],ee=g.opacity(O.paper_bgcolor)===1&&g.opacity(O.plot_bgcolor)===1&&O.paper_bgcolor===O.plot_bgcolor;for(J in O._plots)if(te=O._plots[J],te.mainplot)te.bg&&te.bg.remove(),te.bg=void 0;else{var le=te.xaxis.domain,oe=te.yaxis.domain,he=te.plotgroup;if(d(le,oe,Q)){var xe=he.node(),Ae=te.bg=C.ensureSingle(he,"rect","bg");xe.insertBefore(Ae.node(),xe.childNodes[0]),se.push(J)}else he.select("rect.bg").remove(),Q.push([le,oe]),ee||(re.push(J),se.push(J))}var Se=O._bgLayer.selectAll(".bg").data(re);for(Se.enter().append("rect").classed("bg",!0),Se.exit().remove(),Se.each(function(we){O._plots[we].bg=p.select(this)}),q=0;q<se.length;q++)te=O._plots[se[q]],K=te.xaxis,Y=te.yaxis,te.bg&&K._offset!==void 0&&Y._offset!==void 0&&te.bg.call(t.setRect,K._offset-U,Y._offset-U,K._length+2*U,Y._length+2*U).call(g.fill,O.plot_bgcolor).style("stroke-width",0);if(!O._hasOnlyLargeSploms)for(J in O._plots){te=O._plots[J],K=te.xaxis,Y=te.yaxis;var Oe=te.clipId="clip"+O._uid+J+"plot",Ve=C.ensureSingleById(O._clips,"clipPath",Oe,function(we){we.classed("plotclip",!0).append("rect")});te.clipRect=Ve.select("rect").attr({width:K._length,height:Y._length}),t.setTranslate(te.plot,K._offset,Y._offset);var Ee,Te;te._hasClipOnAxisFalse?(Ee=null,Te=Oe):(Ee=Oe,Te=null),t.setClipUrl(te.plot,Ee,N),te.layerClipId=Te}var Le,Ge,He,ke,We,nt,qe,Qe,tt,vt,dt,gt,Mt;function Rt(we){return"M"+Le+","+we+"H"+Ge}function Wt(we){return"M"+K._offset+","+we+"h"+K._length}function je(we){return"M"+we+","+Qe+"V"+qe}function _e(we){return Y._shift!==void 0&&(we+=Y._shift),"M"+we+","+Y._offset+"v"+Y._length}function Fe(we,ue,me){if(!we.showline||J!==we._mainSubplot)return"";if(!we._anchorAxis)return me(we._mainLinePosition);var Re=ue(we._mainLinePosition);return we.mirror&&(Re+=ue(we._mainMirrorPosition)),Re}for(J in O._plots){te=O._plots[J],K=te.xaxis,Y=te.yaxis;var Be="M0,0";M(K,J)&&(We=x(K,"left",Y,Z),Le=K._offset-(We?U+We:0),nt=x(K,"right",Y,Z),Ge=K._offset+K._length+(nt?U+nt:0),He=W(K,Y,"bottom"),ke=W(K,Y,"top"),Mt=!K._anchorAxis||J!==K._mainSubplot,Mt&&(K.mirror==="allticks"||K.mirror==="all")&&(K._linepositions[J]=[He,ke]),Be=Fe(K,Rt,Wt),Mt&&K.showline&&(K.mirror==="all"||K.mirror==="allticks")&&(Be+=Rt(He)+Rt(ke)),te.xlines.style("stroke-width",K._lw+"px").call(g.stroke,K.showline?K.linecolor:"rgba(0,0,0,0)")),te.xlines.attr("d",Be);var De="M0,0";M(Y,J)&&(dt=x(Y,"bottom",K,Z),qe=Y._offset+Y._length+(dt?U:0),gt=x(Y,"top",K,Z),Qe=Y._offset-(gt?U:0),tt=W(Y,K,"left"),vt=W(Y,K,"right"),Mt=!Y._anchorAxis||J!==Y._mainSubplot,Mt&&(Y.mirror==="allticks"||Y.mirror==="all")&&(Y._linepositions[J]=[tt,vt]),De=Fe(Y,je,_e),Mt&&Y.showline&&(Y.mirror==="all"||Y.mirror==="allticks")&&(De+=je(tt)+je(vt)),te.ylines.style("stroke-width",Y._lw+"px").call(g.stroke,Y.showline?Y.linecolor:"rgba(0,0,0,0)")),te.ylines.attr("d",De)}return a.makeClipPaths(N),n.previousPromises(N)}function M(N,O){return(N.ticks||N.showline)&&(O===N._mainSubplot||N.mirror==="all"||N.mirror==="allticks")}function P(N,O,F){if(!F.showline||!F._lw)return!1;if(F.mirror==="all"||F.mirror==="allticks")return!0;var U=F._anchorAxis;if(!U)return!1;var Z=s.FROM_BL[O];return F.side===O?U.domain[Z]===N.domain[Z]:F.mirror&&U.domain[1-Z]===N.domain[1-Z]}function x(N,O,F,U){if(P(N,O,F))return F._lw;for(var Z=0;Z<U.length;Z++){var q=U[Z];if(q._mainAxis===F._mainAxis&&P(N,O,q))return q._lw}return 0}B.drawMainTitle=function(N){var O=N._fullLayout.title,F=N._fullLayout,U=H(F),Z=z(F),q=k(F,Z),J=A(F,U);if(r.draw(N,"gtitle",{propContainer:F,propName:"title.text",placeholder:F._dfltTitle.plot,attributes:{x:J,y:q,"text-anchor":U,dy:Z}}),O.text&&O.automargin){var te=p.selectAll(".gtitle"),fe=t.bBox(te.node()).height,K=i(N,O,fe);K>0&&(R(N,q,K,fe),te.attr({x:J,y:q,"text-anchor":U,dy:_(O.yanchor)}).call(y.positionText,J,q))}};function E(N,O,F,U,Z){var q=O.yref==="paper"?N._fullLayout._size.h:N._fullLayout.height,J=C.isTopAnchor(O)?U:U-Z,te=F==="b"?q-J:J;return C.isTopAnchor(O)&&F==="t"||C.isBottomAnchor(O)&&F==="b"?!1:te<Z}function T(N,O,F,U,Z){var q=0;return F==="middle"&&(q+=Z/2),N==="t"?(F==="top"&&(q+=Z),q+=U-O*U):(F==="bottom"&&(q+=Z),q+=O*U),q}function i(N,O,F){var U=O.y,Z=O.yanchor,q=U>.5?"t":"b",J=N._fullLayout.margin[q],te=0;return O.yref==="paper"?te=F+O.pad.t+O.pad.b:O.yref==="container"&&(te=T(q,U,Z,N._fullLayout.height,F)+O.pad.t+O.pad.b),te>J?te:0}function R(N,O,F,U){var Z="title.automargin",q=N._fullLayout.title,J=q.y>.5?"t":"b",te={x:q.x,y:q.y,t:0,b:0},fe={};q.yref==="paper"&&E(N,q,J,O,U)?te[J]=F:q.yref==="container"&&(fe[J]=F,N._fullLayout._reservedMargin[Z]=fe),n.allowAutoMargin(N,Z),n.autoMargin(N,Z,te)}function A(N,O){var F=N.title,U=N._size,Z=0;switch(O===w?Z=F.pad.l:O===o&&(Z=-F.pad.r),F.xref){case"paper":return U.l+U.w*F.x+Z;case"container":default:return N.width*F.x+Z}}function k(N,O){var F=N.title,U=N._size,Z=0;if(O==="0em"||!O?Z=-F.pad.b:O===s.CAP_SHIFT+"em"&&(Z=F.pad.t),F.y==="auto")return U.t/2;switch(F.yref){case"paper":return U.t+U.h-U.h*F.y+Z;case"container":default:return N.height-N.height*F.y+Z}}function _(N){return N==="top"?s.CAP_SHIFT+.3+"em":N==="bottom"?"-0.3em":s.MID_SHIFT+"em"}function H(N){var O=N.title,F=v;return C.isRightAnchor(O)?F=o:C.isLeftAnchor(O)&&(F=w),F}function z(N){var O=N.title,F="0em";return C.isTopAnchor(O)?F=s.CAP_SHIFT+"em":C.isMiddleAnchor(O)&&(F=s.MID_SHIFT+"em"),F}B.doTraceStyle=function(N){var O=N.calcdata,F=[],U;for(U=0;U<O.length;U++){var Z=O[U],q=Z[0]||{},J=q.trace||{},te=J._module||{},fe=te.arraysToCalcdata;fe&&fe(Z,J);var K=te.editStyle;K&&F.push({fn:K,cd0:q})}if(F.length){for(U=0;U<F.length;U++){var Y=F[U];Y.fn(N,Y.cd0)}h(N),B.redrawReglTraces(N)}return n.style(N),L.getComponentMethod("legend","draw")(N),n.previousPromises(N)},B.doColorBars=function(N){return L.getComponentMethod("colorbar","draw")(N),n.previousPromises(N)},B.layoutReplot=function(N){var O=N.layout;return N.layout=void 0,L.call("_doPlot",N,"",O)},B.doLegend=function(N){return L.getComponentMethod("legend","draw")(N),n.previousPromises(N)},B.doTicksRelayout=function(N){return a.draw(N,"redraw"),N._fullLayout._hasOnlyLargeSploms&&(L.subplotsRegistry.splom.updateGrid(N),h(N),B.redrawReglTraces(N)),B.drawMainTitle(N),n.previousPromises(N)},B.doModeBar=function(N){var O=N._fullLayout;l.manage(N);for(var F=0;F<O._basePlotModules.length;F++){var U=O._basePlotModules[F].updateFx;U&&U(N)}return n.previousPromises(N)},B.doCamera=function(N){for(var O=N._fullLayout,F=O._subplots.gl3d,U=0;U<F.length;U++){var Z=O[F[U]],q=Z._scene;q.setViewport(Z)}},B.drawData=function(N){var O=N._fullLayout;h(N);for(var F=O._basePlotModules,U=0;U<F.length;U++)F[U].plot(N);return B.redrawReglTraces(N),n.style(N),L.getComponentMethod("selections","draw")(N),L.getComponentMethod("shapes","draw")(N),L.getComponentMethod("annotations","draw")(N),L.getComponentMethod("images","draw")(N),O._replotting=!1,n.previousPromises(N)},B.redrawReglTraces=function(N){var O=N._fullLayout;if(O._has("regl")){var F=N._fullData,U=[],Z=[],q,J;for(O._hasOnlyLargeSploms&&O._splomGrid.draw(),q=0;q<F.length;q++){var te=F[q];te.visible===!0&&te._length!==0&&(te.type==="splom"?O._splomScenes[te.uid].draw():te.type==="scattergl"?C.pushUnique(U,te.xaxis+te.yaxis):te.type==="scatterpolargl"&&C.pushUnique(Z,te.subplot))}for(q=0;q<U.length;q++)J=O._plots[U[q]],J._scene&&J._scene.draw();for(q=0;q<Z.length;q++)J=O[Z[q]]._subplot,J._scene&&J._scene.draw()}},B.doAutoRangeAndConstraints=function(N){for(var O=a.list(N,"",!0),F,U={},Z=0;Z<O.length;Z++)if(F=O[Z],!U[F._id]){U[F._id]=1,b(N,F),f(N,F);var q=F._matchGroup;if(q)for(var J in q){var te=a.getFromId(N,J);f(N,te,F.range),U[J]=1}}u(N)},B.finalDraw=function(N){L.getComponentMethod("rangeslider","draw")(N),L.getComponentMethod("rangeselector","draw")(N)},B.drawMarginPushers=function(N){L.getComponentMethod("legend","draw")(N),L.getComponentMethod("rangeselector","draw")(N),L.getComponentMethod("sliders","draw")(N),L.getComponentMethod("updatemenus","draw")(N),L.getComponentMethod("colorbar","draw")(N)}},96318:function(V,B,e){var p=e(71828),L=p.isPlainObject,n=e(86281),C=e(74875),y=e(9012),h=e(44467),g=e(72075).dfltConfig;B.makeTemplate=function(f){f=p.isPlainObject(f)?f:p.getGraphDiv(f),f=p.extendDeep({_context:g},{data:f.data,layout:f.layout}),C.supplyDefaults(f);var w=f.data||[],v=f.layout||{};v._basePlotModules=f._fullLayout._basePlotModules,v._modules=f._fullLayout._modules;var o={data:{},layout:{}};w.forEach(function(A){var k={};l(A,k,s.bind(null,A));var _=p.coerce(A,{},y,"type"),H=o.data[_];H||(H=o.data[_]=[]),H.push(k)}),l(v,o.layout,a.bind(null,v)),delete o.layout.template;var d=v.template;if(L(d)){var S=d.layout,M,P,x,E,T,i;L(S)&&t(S,o.layout);var R=d.data;if(L(R)){for(P in o.data)if(x=R[P],Array.isArray(x)){for(T=o.data[P],i=T.length,E=x.length,M=0;M<i;M++)t(x[M%E],T[M]);for(M=i;M<E;M++)T.push(p.extendDeep({},x[M]))}for(P in R)P in o.data||(o.data[P]=p.extendDeep([],R[P]))}}return o};function t(f,w){f=p.extendDeep({},f);var v=Object.keys(f).sort(),o,d;function S(T,i,R){if(L(i)&&L(T))t(T,i);else if(Array.isArray(i)&&Array.isArray(T)){var A=h.arrayTemplater({_template:f},R);for(d=0;d<i.length;d++){var k=i[d],_=A.newItem(k)._template;_&&t(_,k)}var H=A.defaultItems();for(d=0;d<H.length;d++)i.push(H[d]._template);for(d=0;d<i.length;d++)delete i[d].templateitemname}}for(o=0;o<v.length;o++){var M=v[o],P=f[M];if(M in w?S(P,w[M],M):w[M]=P,r(M)===M)for(var x in w){var E=r(x);x!==E&&E===M&&!(x in f)&&S(P,w[x],M)}}}function r(f){return f.replace(/[0-9]+$/,"")}function l(f,w,v,o,d){var S=d&&v(d);for(var M in f){var P=f[M],x=c(f,M,o),E=c(f,M,d),T=v(E);if(!T){var i=r(M);i!==M&&(E=c(f,i,d),T=v(E))}if(!(S&&S===T)&&!(!T||T._noTemplating||T.valType==="data_array"||T.arrayOk&&Array.isArray(P)))if(!T.valType&&L(P))l(P,w,v,x,E);else if(T._isLinkedToArray&&Array.isArray(P))for(var R=!1,A=0,k={},_=0;_<P.length;_++){var H=P[_];if(L(H)){var z=H.name;if(z)k[z]||(l(H,w,v,c(P,A,x),c(P,A,E)),A++,k[z]=1);else if(!R){var N=h.arrayDefaultKey(M),O=c(f,N,o),F=c(P,A,x);l(H,w,v,F,c(P,A,E));var U=p.nestedProperty(w,F),Z=p.nestedProperty(w,O);Z.set(U.get()),U.set(null),R=!0}}}else{var q=p.nestedProperty(w,x);q.set(P)}}}function a(f,w){return n.getLayoutValObject(f,p.nestedProperty({},w).parts)}function s(f,w){return n.getTraceValObject(f,p.nestedProperty({},w).parts)}function c(f,w,v){var o;return v?Array.isArray(f)?o=v+"["+w+"]":o=v+"."+w:o=w,o}B.validateTemplate=function(f,w){var v=p.extendDeep({},{_context:g,data:f.data,layout:f.layout}),o=v.layout||{};L(w)||(w=o.template||{});var d=w.layout,S=w.data,M=[];v.layout=o,v.layout.template=w,C.supplyDefaults(v);var P=v._fullLayout,x=v._fullData,E={};function T(O,F){for(var U in O)if(U.charAt(0)!=="_"&&L(O[U])){var Z=r(U),q=[],J;for(J=0;J<F.length;J++)q.push(c(O,U,F[J])),Z!==U&&q.push(c(O,Z,F[J]));for(J=0;J<q.length;J++)E[q[J]]=1;T(O[U],q)}}function i(O,F){for(var U in O)if(U.indexOf("defaults")===-1&&L(O[U])){var Z=c(O,U,F);E[Z]?i(O[U],Z):M.push({code:"unused",path:Z})}}if(L(d)?(T(P,["layout"]),i(d,"layout")):M.push({code:"layout"}),!L(S))M.push({code:"data"});else{for(var R={},A,k=0;k<x.length;k++){var _=x[k];A=_.type,R[A]=(R[A]||0)+1,_._fullInput._template||M.push({code:"missing",index:_._fullInput.index,traceType:A})}for(A in S){var H=S[A].length,z=R[A]||0;H>z?M.push({code:"unused",traceType:A,templateCount:H,dataCount:z}):z>H&&M.push({code:"reused",traceType:A,templateCount:H,dataCount:z})}}function N(O,F){for(var U in O)if(U.charAt(0)!=="_"){var Z=O[U],q=c(O,U,F);L(Z)?(Array.isArray(O)&&Z._template===!1&&Z.templateitemname&&M.push({code:"missing",path:q,templateitemname:Z.templateitemname}),N(Z,q)):Array.isArray(Z)&&u(Z)&&N(Z,q)}}if(N({data:x,layout:P},""),M.length)return M.map(b)};function u(f){for(var w=0;w<f.length;w++)if(L(f[w]))return!0}function b(f){var w;switch(f.code){case"data":w="The template has no key data.";break;case"layout":w="The template has no key layout.";break;case"missing":f.path?w="There are no templates for item "+f.path+" with name "+f.templateitemname:w="There are no templates for trace "+f.index+", of type "+f.traceType+".";break;case"unused":f.path?w="The template item at "+f.path+" was not used in constructing the plot.":f.dataCount?w="Some of the templates of type "+f.traceType+" were not used. The template has "+f.templateCount+" traces, the data only has "+f.dataCount+" of this type.":w="The template has "+f.templateCount+" traces of type "+f.traceType+" but there are none in the data.";break;case"reused":w="Some of the templates of type "+f.traceType+" were used more than once. The template has "+f.templateCount+" traces, the data has "+f.dataCount+" of this type.";break}return f.msg=w,f}},403:function(V,B,e){var p=e(92770),L=e(72391),n=e(74875),C=e(71828),y=e(25095),h=e(5900),g=e(70942),t=e(11506).version,r={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function l(a,s){s=s||{};var c,u,b,f;C.isPlainObject(a)?(c=a.data||[],u=a.layout||{},b=a.config||{},f={}):(a=C.getGraphDiv(a),c=C.extendDeep([],a.data),u=C.extendDeep({},a.layout),b=a._context,f=a._fullLayout||{});function w(z){return!(z in s)||C.validate(s[z],r[z])}if(!w("width")&&s.width!==null||!w("height")&&s.height!==null)throw new Error("Height and width should be pixel values.");if(!w("format"))throw new Error("Export format is not "+C.join2(r.format.values,", "," or ")+".");var v={};function o(z,N){return C.coerce(s,v,r,z,N)}var d=o("format"),S=o("width"),M=o("height"),P=o("scale"),x=o("setBackground"),E=o("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var i=C.extendFlat({},u);S?i.width=S:s.width===null&&p(f.width)&&(i.width=f.width),M?i.height=M:s.height===null&&p(f.height)&&(i.height=f.height);var R=C.extendFlat({},b,{_exportedPlot:!0,staticPlot:!0,setBackground:x}),A=y.getRedrawFunc(T);function k(){return new Promise(function(z){setTimeout(z,y.getDelay(T._fullLayout))})}function _(){return new Promise(function(z,N){var O=h(T,d,P),F=T._fullLayout.width,U=T._fullLayout.height;function Z(){L.purge(T),document.body.removeChild(T)}if(d==="full-json"){var q=n.graphJson(T,!1,"keepdata","object",!0,!0);return q.version=t,q=JSON.stringify(q),Z(),z(E?q:y.encodeJSON(q))}if(Z(),d==="svg")return z(E?O:y.encodeSVG(O));var J=document.createElement("canvas");J.id=C.randstr(),g({format:d,width:F,height:U,scale:P,canvas:J,svg:O,promise:!0}).then(z).catch(N)})}function H(z){return E?z.replace(y.IMAGE_URL_PREFIX,""):z}return new Promise(function(z,N){L.newPlot(T,c,i,R).then(A).then(k).then(_).then(function(O){z(H(O))}).catch(function(O){N(O)})})}V.exports=l},84936:function(V,B,e){var p=e(71828),L=e(74875),n=e(86281),C=e(72075).dfltConfig,y=p.isPlainObject,h=Array.isArray,g=p.isArrayOrTypedArray;V.exports=function(o,d){o===void 0&&(o=[]),d===void 0&&(d={});var S=n.get(),M=[],P={_context:p.extendFlat({},C)},x,E;h(o)?(P.data=p.extendDeep([],o),x=o):(P.data=[],x=[],M.push(s("array","data"))),y(d)?(P.layout=p.extendDeep({},d),E=d):(P.layout={},E={},arguments.length>1&&M.push(s("object","layout"))),L.supplyDefaults(P);for(var T=P._fullData,i=x.length,R=0;R<i;R++){var A=x[R],k=["data",R];if(!y(A)){M.push(s("object",k));continue}var _=T[R],H=_.type,z=S.traces[H].attributes;z.type={valType:"enumerated",values:[H]},_.visible===!1&&A.visible!==!1&&M.push(s("invisible",k)),t(A,_,z,M,k);var N=A.transforms,O=_.transforms;if(N){h(N)||M.push(s("array",k,["transforms"])),k.push("transforms");for(var F=0;F<N.length;F++){var U=["transforms",F],Z=N[F].type;if(!y(N[F])){M.push(s("object",k,U));continue}var q=S.transforms[Z]?S.transforms[Z].attributes:{};q.type={valType:"enumerated",values:Object.keys(S.transforms)},t(N[F],O[F],q,M,k,U)}}}var J=P._fullLayout,te=r(S,T);return t(E,J,te,M,"layout"),M.length===0?void 0:M};function t(v,o,d,S,M,P){P=P||[];for(var x=Object.keys(v),E=0;E<x.length;E++){var T=x[E];if(T!=="transforms"){var i=P.slice();i.push(T);var R=v[T],A=o[T],k=u(d,T),_=(k||{}).valType,H=_==="info_array",z=_==="colorscale",N=(k||{}).items;if(!c(d,T))S.push(s("schema",M,i));else if(y(R)&&y(A)&&_!=="any")t(R,A,k,S,M,i);else if(H&&h(R)){R.length>A.length&&S.push(s("unused",M,i.concat(A.length)));var O=A.length,F=Array.isArray(N);F&&(O=Math.min(O,N.length));var U,Z,q,J,te;if(k.dimensions===2)for(Z=0;Z<O;Z++)if(h(R[Z])){R[Z].length>A[Z].length&&S.push(s("unused",M,i.concat(Z,A[Z].length)));var fe=A[Z].length;for(U=0;U<(F?Math.min(fe,N[Z].length):fe);U++)q=F?N[Z][U]:N,J=R[Z][U],te=A[Z][U],p.validate(J,q)?te!==J&&te!==+J&&S.push(s("dynamic",M,i.concat(Z,U),J,te)):S.push(s("value",M,i.concat(Z,U),J))}else S.push(s("array",M,i.concat(Z),R[Z]));else for(Z=0;Z<O;Z++)q=F?N[Z]:N,J=R[Z],te=A[Z],p.validate(J,q)?te!==J&&te!==+J&&S.push(s("dynamic",M,i.concat(Z),J,te)):S.push(s("value",M,i.concat(Z),J))}else if(k.items&&!H&&h(R)){var K=N[Object.keys(N)[0]],Y=[],W,X;for(W=0;W<A.length;W++){var re=A[W]._index||W;if(X=i.slice(),X.push(re),y(R[re])&&y(A[W])){Y.push(re);var se=R[re],Q=A[W];y(se)&&se.visible!==!1&&Q.visible===!1?S.push(s("invisible",M,X)):t(se,Q,K,S,M,X)}}for(W=0;W<R.length;W++)X=i.slice(),X.push(W),y(R[W])?Y.indexOf(W)===-1&&S.push(s("unused",M,X)):S.push(s("object",M,X,R[W]))}else!y(R)&&y(A)?S.push(s("object",M,i,R)):!g(R)&&g(A)&&!H&&!z?S.push(s("array",M,i,R)):T in o?p.validate(R,k)?k.valType==="enumerated"&&(k.coerceNumber&&R!==+A||R!==A)&&S.push(s("dynamic",M,i,R,A)):S.push(s("value",M,i,R)):S.push(s("unused",M,i,R))}}return S}function r(v,o){for(var d=v.layout.layoutAttributes,S=0;S<o.length;S++){var M=o[S],P=v.traces[M.type],x=P.layoutAttributes;x&&(M.subplot?p.extendFlat(d[P.attributes.subplot.dflt],x):p.extendFlat(d,x))}return d}var l={object:function(v,o){var d;return v==="layout"&&o===""?d="The layout argument":v[0]==="data"&&o===""?d="Trace "+v[1]+" in the data argument":d=a(v)+"key "+o,d+" must be linked to an object container"},array:function(v,o){var d;return v==="data"?d="The data argument":d=a(v)+"key "+o,d+" must be linked to an array container"},schema:function(v,o){return a(v)+"key "+o+" is not part of the schema"},unused:function(v,o,d){var S=y(d)?"container":"key";return a(v)+S+" "+o+" did not get coerced"},dynamic:function(v,o,d,S){return[a(v)+"key",o,"(set to '"+d+"')","got reset to","'"+S+"'","during defaults."].join(" ")},invisible:function(v,o){return(o?a(v)+"item "+o:"Trace "+v[1])+" got defaulted to be not visible"},value:function(v,o,d){return[a(v)+"key "+o,"is set to an invalid value ("+d+")"].join(" ")}};function a(v){return h(v)?"In data trace "+v[1]+", ":"In "+v+", "}function s(v,o,d,S,M){d=d||"";var P,x;h(o)?(P=o[0],x=o[1]):(P=o,x=null);var E=w(d),T=l[v](o,E,S,M);return p.log(T),{code:v,container:P,trace:x,path:d,astr:E,msg:T}}function c(v,o){var d=f(o),S=d.keyMinusId,M=d.id;return S in v&&v[S]._isSubplotObj&&M?!0:o in v}function u(v,o){if(o in v)return v[o];var d=f(o);return v[d.keyMinusId]}var b=p.counterRegex("([a-z]+)");function f(v){var o=v.match(b);return{keyMinusId:o&&o[1],id:o&&o[2]}}function w(v){if(!h(v))return String(v);for(var o="",d=0;d<v.length;d++){var S=v[d];typeof S=="number"?o=o.substr(0,o.length-1)+"["+S+"]":o+=S,d<v.length-1&&(o+=".")}return o}},85594:function(V){V.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(V,B,e){var p=e(71828),L=e(44467);V.exports=function(C,y,h){var g=h.name,t=h.inclusionAttr||"visible",r=y[g],l=p.isArrayOrTypedArray(C[g])?C[g]:[],a=y[g]=[],s=L.arrayTemplater(y,g,t),c,u;for(c=0;c<l.length;c++){var b=l[c];p.isPlainObject(b)?u=s.newItem(b):(u=s.newItem({}),u[t]=!1),u._index=c,u[t]!==!1&&h.handleItemDefaults(b,u,y,h),a.push(u)}var f=s.defaultItems();for(c=0;c<f.length;c++)u=f[c],u._index=a.length,h.handleItemDefaults({},u,y,h,{}),a.push(u);if(p.isArrayOrTypedArray(r)){var w=Math.min(r.length,a.length);for(c=0;c<w;c++)p.relinkPrivateKeys(a[c],r[c])}return a}},9012:function(V,B,e){var p=e(41940),L=e(77914);V.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:p({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:L.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(V,B,e){var p=e(92770),L=e(71828),n=L.dateTime2ms,C=L.incrementMonth,y=e(50606),h=y.ONEAVGMONTH;V.exports=function(t,r,l,a){if(r.type!=="date")return{vals:a};var s=t[l+"periodalignment"];if(!s)return{vals:a};var c=t[l+"period"],u;if(p(c)){if(c=+c,c<=0)return{vals:a}}else if(typeof c=="string"&&c.charAt(0)==="M"){var b=+c.substring(1);if(b>0&&Math.round(b)===b)u=b;else return{vals:a}}for(var f=r.calendar,w=s==="start",v=s==="end",o=t[l+"period0"],d=n(o,f)||0,S=[],M=[],P=[],x=a.length,E=0;E<x;E++){var T=a[E],i,R,A;if(u){for(i=Math.round((T-d)/(u*h)),A=C(d,u*i,f);A>T;)A=C(A,-u,f);for(;A<=T;)A=C(A,u,f);R=C(A,-u,f)}else{for(i=Math.round((T-d)/c),A=d+i*c;A>T;)A-=c;for(;A<=T;)A+=c;R=A-c}S[E]=w?R:v?A:(R+A)/2,M[E]=R,P[E]=A}return{vals:S,starts:M,ends:P}}},89502:function(V){V.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(V,B,e){var p=e(39898),L=e(92770),n=e(71828),C=e(50606).FP_SAFE,y=e(73972),h=e(91424),g=e(41675),t=g.getFromId,r=g.isLinked;V.exports={getAutoRange:l,makePadFn:s,doAutoRange:f,findExtremes:w,concatExtremes:b};function l(x,E){var T,i,R=[],A=x._fullLayout,k=s(A,E,0),_=s(A,E,1),H=b(x,E),z=H.min,N=H.max;if(z.length===0||N.length===0)return n.simpleMap(E.range,E.r2l);var O=z[0].val,F=N[0].val;for(T=1;T<z.length&&O===F;T++)O=Math.min(O,z[T].val);for(T=1;T<N.length&&O===F;T++)F=Math.max(F,N[T].val);var U=!1;if(E.range){var Z=n.simpleMap(E.range,E.r2l);U=Z[1]<Z[0]}E.autorange==="reversed"&&(U=!0,E.autorange=!0);var q=E.rangemode,J=q==="tozero",te=q==="nonnegative",fe=E._length,K=fe/10,Y=0,W,X,re,se,Q,ee;for(T=0;T<z.length;T++)for(W=z[T],i=0;i<N.length;i++)X=N[i],ee=X.val-W.val-a(E,W.val,X.val),ee>0&&(Q=fe-k(W)-_(X),Q>K?ee/Q>Y&&(re=W,se=X,Y=ee/Q):ee/fe>Y&&(re={val:W.val,nopad:1},se={val:X.val,nopad:1},Y=ee/fe));function le(Se,Oe){return Math.max(Se,_(Oe))}if(O===F){var oe=O-1,he=O+1;if(J)if(O===0)R=[0,1];else{var xe=(O>0?N:z).reduce(le,0),Ae=O/(1-Math.min(.5,xe/fe));R=O>0?[0,Ae]:[Ae,0]}else te?R=[Math.max(0,oe),Math.max(1,he)]:R=[oe,he]}else J?(re.val>=0&&(re={val:0,nopad:1}),se.val<=0&&(se={val:0,nopad:1})):te&&(re.val-Y*k(re)<0&&(re={val:0,nopad:1}),se.val<=0&&(se={val:1,nopad:1})),Y=(se.val-re.val-a(E,W.val,X.val))/(fe-k(re)-_(se)),R=[re.val-Y*k(re),se.val+Y*_(se)];return U&&R.reverse(),n.simpleMap(R,E.l2r||Number)}function a(x,E,T){var i=0;if(x.rangebreaks)for(var R=x.locateBreaks(E,T),A=0;A<R.length;A++){var k=R[A];i+=k.max-k.min}return i}function s(x,E,T){var i=.05*E._length,R=E._anchorAxis||{};if((E.ticklabelposition||"").indexOf("inside")!==-1||(R.ticklabelposition||"").indexOf("inside")!==-1){var A=E.autorange==="reversed";if(!A){var k=n.simpleMap(E.range,E.r2l);A=k[1]<k[0]}A&&(T=!T)}var _=0;return r(x,E._id)||(_=u(x,E,T)),i=Math.max(_,i),E.constrain==="domain"&&E._inputDomain&&(i*=(E._inputDomain[1]-E._inputDomain[0])/(E.domain[1]-E.domain[0])),function(z){return z.nopad?0:z.pad+(z.extrapad?i:_)}}var c=3;function u(x,E,T){var i=0,R=E._id.charAt(0)==="x";for(var A in x._plots){var k=x._plots[A];if(!(E._id!==k.xaxis._id&&E._id!==k.yaxis._id)){var _=(R?k.yaxis:k.xaxis)||{};if((_.ticklabelposition||"").indexOf("inside")!==-1&&(!T&&(_.side==="left"||_.side==="bottom")||T&&(_.side==="top"||_.side==="right"))){if(_._vals){var H=n.deg2rad(_._tickAngles[_._id+"tick"]||0),z=Math.abs(Math.cos(H)),N=Math.abs(Math.sin(H));if(!_._vals[0].bb){var O=_._id+"tick",F=_._selections[O];F.each(function(fe){var K=p.select(this),Y=K.select(".text-math-group");Y.empty()&&(fe.bb=h.bBox(K.node()))})}for(var U=0;U<_._vals.length;U++){var Z=_._vals[U],q=Z.bb;if(q){var J=2*c+q.width,te=2*c+q.height;i=Math.max(i,R?Math.max(J*z,te*N):Math.max(te*z,J*N))}}}_.ticks==="inside"&&_.ticklabelposition==="inside"&&(i+=_.ticklen||0)}}}return i}function b(x,E,T){var i=E._id,R=x._fullData,A=x._fullLayout,k=[],_=[],H,z,N;function O(J,te){for(H=0;H<te.length;H++){var fe=J[te[H]],K=(fe._extremes||{})[i];if(fe.visible===!0&&K){for(z=0;z<K.min.length;z++)N=K.min[z],v(k,N.val,N.pad,{extrapad:N.extrapad});for(z=0;z<K.max.length;z++)N=K.max[z],o(_,N.val,N.pad,{extrapad:N.extrapad})}}}if(O(R,E._traceIndices),O(A.annotations||[],E._annIndices||[]),O(A.shapes||[],E._shapeIndices||[]),E._matchGroup&&!T){for(var F in E._matchGroup)if(F!==E._id){var U=t(x,F),Z=b(x,U,!0),q=E._length/U._length;for(z=0;z<Z.min.length;z++)N=Z.min[z],v(k,N.val,N.pad*q,{extrapad:N.extrapad});for(z=0;z<Z.max.length;z++)N=Z.max[z],o(_,N.val,N.pad*q,{extrapad:N.extrapad})}}return{min:k,max:_}}function f(x,E,T){if(E.setScale(),E.autorange){E.range=T?T.slice():l(x,E),E._r=E.range.slice(),E._rl=n.simpleMap(E._r,E.r2l);var i=E._input,R={};R[E._attr+".range"]=E.range,R[E._attr+".autorange"]=E.autorange,y.call("_storeDirectGUIEdit",x.layout,x._fullLayout._preGUI,R),i.range=E.range.slice(),i.autorange=E.autorange}var A=E._anchorAxis;if(A&&A.rangeslider){var k=A.rangeslider[E._name];k&&k.rangemode==="auto"&&(k.range=l(x,E)),A._input.rangeslider[E._name]=n.extendFlat({},k)}}function w(x,E,T){T||(T={}),x._m||x.setScale();var i=[],R=[],A=E.length,k=T.padded||!1,_=T.tozero&&(x.type==="linear"||x.type==="-"),H=x.type==="log",z=!1,N=T.vpadLinearized||!1,O,F,U,Z,q,J,te,fe,K;function Y(oe){if(Array.isArray(oe))return z=!0,function(xe){return Math.max(Number(oe[xe]||0),0)};var he=Math.max(Number(oe||0),0);return function(){return he}}var W=Y((x._m>0?T.ppadplus:T.ppadminus)||T.ppad||0),X=Y((x._m>0?T.ppadminus:T.ppadplus)||T.ppad||0),re=Y(T.vpadplus||T.vpad),se=Y(T.vpadminus||T.vpad);if(!z){if(fe=1/0,K=-1/0,H)for(O=0;O<A;O++)F=E[O],F<fe&&F>0&&(fe=F),F>K&&F<C&&(K=F);else for(O=0;O<A;O++)F=E[O],F<fe&&F>-C&&(fe=F),F>K&&F<C&&(K=F);E=[fe,K],A=2}var Q={tozero:_,extrapad:k};function ee(oe){U=E[oe],L(U)&&(J=W(oe),te=X(oe),N?(Z=x.c2l(U)-se(oe),q=x.c2l(U)+re(oe)):(fe=U-se(oe),K=U+re(oe),H&&fe<K/10&&(fe=K/10),Z=x.c2l(fe),q=x.c2l(K)),_&&(Z=Math.min(0,Z),q=Math.max(0,q)),S(Z)&&v(i,Z,te,Q),S(q)&&o(R,q,J,Q))}var le=Math.min(6,A);for(O=0;O<le;O++)ee(O);for(O=A-1;O>=le;O--)ee(O);return{min:i,max:R,opts:T}}function v(x,E,T,i){d(x,E,T,i,M)}function o(x,E,T,i){d(x,E,T,i,P)}function d(x,E,T,i,R){for(var A=i.tozero,k=i.extrapad,_=!0,H=0;H<x.length&&_;H++){var z=x[H];if(R(z.val,E)&&z.pad>=T&&(z.extrapad||!k)){_=!1;break}else R(E,z.val)&&z.pad<=T&&(k||!z.extrapad)&&(x.splice(H,1),H--)}if(_){var N=A&&E===0;x.push({val:E,pad:N?0:T,extrapad:N?!1:k})}}function S(x){return L(x)&&Math.abs(x)<C}function M(x,E){return x<=E}function P(x,E){return x>=E}},89298:function(V,B,e){var p=e(39898),L=e(92770),n=e(74875),C=e(73972),y=e(71828),h=y.strTranslate,g=e(63893),t=e(92998),r=e(7901),l=e(91424),a=e(13838),s=e(66287),c=e(50606),u=c.ONEMAXYEAR,b=c.ONEAVGYEAR,f=c.ONEMINYEAR,w=c.ONEMAXQUARTER,v=c.ONEAVGQUARTER,o=c.ONEMINQUARTER,d=c.ONEMAXMONTH,S=c.ONEAVGMONTH,M=c.ONEMINMONTH,P=c.ONEWEEK,x=c.ONEDAY,E=x/2,T=c.ONEHOUR,i=c.ONEMIN,R=c.ONESEC,A=c.MINUS_SIGN,k=c.BADNUM,_={K:"zeroline"},H={K:"gridline",L:"path"},z={K:"minor-gridline",L:"path"},N={K:"tick",L:"path"},O={K:"tick",L:"text"},F={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},U=e(18783),Z=U.MID_SHIFT,q=U.CAP_SHIFT,J=U.LINE_SPACING,te=U.OPPOSITE_SIDE,fe=3,K=V.exports={};K.setConvert=e(21994);var Y=e(4322),W=e(41675),X=W.idSort,re=W.isLinked;K.id2name=W.id2name,K.name2id=W.name2id,K.cleanId=W.cleanId,K.list=W.list,K.listIds=W.listIds,K.getFromId=W.getFromId,K.getFromTrace=W.getFromTrace;var se=e(71739);K.getAutoRange=se.getAutoRange,K.findExtremes=se.findExtremes;var Q=1e-4;function ee(Ze){var Ye=(Ze[1]-Ze[0])*Q;return[Ze[0]-Ye,Ze[1]+Ye]}K.coerceRef=function(Ze,Ye,It,kt,Xt,ir){var ur=kt.charAt(kt.length-1),nr=It._fullLayout._subplots[ur+"axis"],Nt=kt+"ref",hr={};return Xt||(Xt=nr[0]||(typeof ir=="string"?ir:ir[0])),ir||(ir=Xt),nr=nr.concat(nr.map(function(pr){return pr+" domain"})),hr[Nt]={valType:"enumerated",values:nr.concat(ir?typeof ir=="string"?[ir]:ir:[]),dflt:Xt},y.coerce(Ze,Ye,hr,Nt)},K.getRefType=function(Ze){return Ze===void 0?Ze:Ze==="paper"?"paper":Ze==="pixel"?"pixel":/( domain)$/.test(Ze)?"domain":"range"},K.coercePosition=function(Ze,Ye,It,kt,Xt,ir){var ur,nr,Nt=K.getRefType(kt);if(Nt!=="range")ur=y.ensureNumber,nr=It(Xt,ir);else{var hr=K.getFromId(Ye,kt);ir=hr.fraction2r(ir),nr=It(Xt,ir),ur=hr.cleanPos}Ze[Xt]=ur(nr)},K.cleanPosition=function(Ze,Ye,It){var kt=It==="paper"||It==="pixel"?y.ensureNumber:K.getFromId(Ye,It).cleanPos;return kt(Ze)},K.redrawComponents=function(Ze,Ye){Ye=Ye||K.listIds(Ze);var It=Ze._fullLayout;function kt(Xt,ir,ur,nr){for(var Nt=C.getComponentMethod(Xt,ir),hr={},pr=0;pr<Ye.length;pr++)for(var gr=It[K.id2name(Ye[pr])],dr=gr[ur],Xr=0;Xr<dr.length;Xr++){var Br=dr[Xr];if(!hr[Br]&&(Nt(Ze,Br),hr[Br]=1,nr))return}}kt("annotations","drawOne","_annIndices"),kt("shapes","drawOne","_shapeIndices"),kt("images","draw","_imgIndices",!0),kt("selections","drawOne","_selectionIndices")};var le=K.getDataConversions=function(Ze,Ye,It,kt){var Xt,ir=It==="x"||It==="y"||It==="z"?It:kt;if(Array.isArray(ir)){if(Xt={type:Y(kt,void 0,{autotypenumbers:Ze._fullLayout.autotypenumbers}),_categories:[]},K.setConvert(Xt),Xt.type==="category")for(var ur=0;ur<kt.length;ur++)Xt.d2c(kt[ur])}else Xt=K.getFromTrace(Ze,Ye,ir);return Xt?{d2c:Xt.d2c,c2d:Xt.c2d}:ir==="ids"?{d2c:he,c2d:he}:{d2c:oe,c2d:oe}};function oe(Ze){return+Ze}function he(Ze){return String(Ze)}K.getDataToCoordFunc=function(Ze,Ye,It,kt){return le(Ze,Ye,It,kt).d2c},K.counterLetter=function(Ze){var Ye=Ze.charAt(0);if(Ye==="x")return"y";if(Ye==="y")return"x"},K.minDtick=function(Ze,Ye,It,kt){["log","category","multicategory"].indexOf(Ze.type)!==-1||!kt?Ze._minDtick=0:Ze._minDtick===void 0?(Ze._minDtick=Ye,Ze._forceTick0=It):Ze._minDtick&&((Ze._minDtick/Ye+1e-6)%1<2e-6&&((It-Ze._forceTick0)/Ye%1+1.000001)%1<2e-6?(Ze._minDtick=Ye,Ze._forceTick0=It):((Ye/Ze._minDtick+1e-6)%1>2e-6||((It-Ze._forceTick0)/Ze._minDtick%1+1.000001)%1>2e-6)&&(Ze._minDtick=0))},K.saveRangeInitial=function(Ze,Ye){for(var It=K.list(Ze,"",!0),kt=!1,Xt=0;Xt<It.length;Xt++){var ir=It[Xt],ur=ir._rangeInitial===void 0,nr=ur||!(ir.range[0]===ir._rangeInitial[0]&&ir.range[1]===ir._rangeInitial[1]);(ur&&ir.autorange===!1||Ye&&nr)&&(ir._rangeInitial=ir.range.slice(),kt=!0)}return kt},K.saveShowSpikeInitial=function(Ze,Ye){for(var It=K.list(Ze,"",!0),kt=!1,Xt="on",ir=0;ir<It.length;ir++){var ur=It[ir],nr=ur._showSpikeInitial===void 0,Nt=nr||ur.showspikes!==ur._showspikes;(nr||Ye&&Nt)&&(ur._showSpikeInitial=ur.showspikes,kt=!0),Xt==="on"&&!ur.showspikes&&(Xt="off")}return Ze._fullLayout._cartesianSpikesEnabled=Xt,kt},K.autoBin=function(Ze,Ye,It,kt,Xt,ir){var ur=y.aggNums(Math.min,null,Ze),nr=y.aggNums(Math.max,null,Ze);if(Ye.type==="category"||Ye.type==="multicategory")return{start:ur-.5,end:nr+.5,size:Math.max(1,Math.round(ir)||1),_dataSpan:nr-ur};Xt||(Xt=Ye.calendar);var Nt;if(Ye.type==="log"?Nt={type:"linear",range:[ur,nr]}:Nt={type:Ye.type,range:y.simpleMap([ur,nr],Ye.c2r,0,Xt),calendar:Xt},K.setConvert(Nt),ir=ir&&s.dtick(ir,Nt.type),ir)Nt.dtick=ir,Nt.tick0=s.tick0(void 0,Nt.type,Xt);else{var hr;if(It)hr=(nr-ur)/It;else{var pr=y.distinctVals(Ze),gr=Math.pow(10,Math.floor(Math.log(pr.minDiff)/Math.LN10)),dr=gr*y.roundUp(pr.minDiff/gr,[.9,1.9,4.9,9.9],!0);hr=Math.max(dr,2*y.stdev(Ze)/Math.pow(Ze.length,kt?.25:.4)),L(hr)||(hr=1)}K.autoTicks(Nt,hr)}var Xr=Nt.dtick,Br=K.tickIncrement(K.tickFirst(Nt),Xr,"reverse",Xt),Or,mn;if(typeof Xr=="number")Br=xe(Br,Ze,Nt,ur,nr),mn=1+Math.floor((nr-Br)/Xr),Or=Br+mn*Xr;else for(Nt.dtick.charAt(0)==="M"&&(Br=Ae(Br,Ze,Xr,ur,Xt)),Or=Br,mn=0;Or<=nr;)Or=K.tickIncrement(Or,Xr,!1,Xt),mn++;return{start:Ye.c2r(Br,0,Xt),end:Ye.c2r(Or,0,Xt),size:Xr,_dataSpan:nr-ur}};function xe(Ze,Ye,It,kt,Xt){var ir=0,ur=0,nr=0,Nt=0;function hr(Xr){return(1+(Xr-Ze)*100/It.dtick)%100<2}for(var pr=0;pr<Ye.length;pr++)Ye[pr]%1===0?nr++:L(Ye[pr])||Nt++,hr(Ye[pr])&&ir++,hr(Ye[pr]+It.dtick/2)&&ur++;var gr=Ye.length-Nt;if(nr===gr&&It.type!=="date")It.dtick<1?Ze=kt-.5*It.dtick:(Ze-=.5,Ze+It.dtick<kt&&(Ze+=It.dtick));else if(ur<gr*.1&&(ir>gr*.3||hr(kt)||hr(Xt))){var dr=It.dtick/2;Ze+=Ze+dr<kt?dr:-dr}return Ze}function Ae(Ze,Ye,It,kt,Xt){var ir=y.findExactDates(Ye,Xt),ur=.8;if(ir.exactDays>ur){var nr=Number(It.substr(1));ir.exactYears>ur&&nr%12===0?Ze=K.tickIncrement(Ze,"M6","reverse")+x*1.5:ir.exactMonths>ur?Ze=K.tickIncrement(Ze,"M1","reverse")+x*15.5:Ze-=E;var Nt=K.tickIncrement(Ze,It);if(Nt<=kt)return Nt}return Ze}K.prepMinorTicks=function(Ze,Ye,It){if(!Ye.minor.dtick){delete Ze.dtick;var kt=Ye.dtick&&L(Ye._tmin),Xt;if(kt){var ir=K.tickIncrement(Ye._tmin,Ye.dtick,!0);Xt=[Ye._tmin,ir*.99+Ye._tmin*.01]}else{var ur=y.simpleMap(Ye.range,Ye.r2l);Xt=[ur[0],.8*ur[0]+.2*ur[1]]}if(Ze.range=y.simpleMap(Xt,Ye.l2r),Ze._isMinor=!0,K.prepTicks(Ze,It),kt){var nr=L(Ye.dtick),Nt=L(Ze.dtick),hr=nr?Ye.dtick:+Ye.dtick.substring(1),pr=Nt?Ze.dtick:+Ze.dtick.substring(1);nr&&Nt?Se(hr,pr)?hr===2*P&&pr===2*x&&(Ze.dtick=P):hr===2*P&&pr===3*x?Ze.dtick=P:hr===P&&!(Ye._input.minor||{}).nticks?Ze.dtick=x:Oe(hr/pr,2.5)?Ze.dtick=hr/2:Ze.dtick=hr:String(Ye.dtick).charAt(0)==="M"?Nt?Ze.dtick="M1":Se(hr,pr)?hr>=12&&pr===2&&(Ze.dtick="M3"):Ze.dtick=Ye.dtick:String(Ze.dtick).charAt(0)==="L"?String(Ye.dtick).charAt(0)==="L"?Se(hr,pr)||(Ze.dtick=Oe(hr/pr,2.5)?Ye.dtick/2:Ye.dtick):Ze.dtick="D1":Ze.dtick==="D2"&&+Ye.dtick>1&&(Ze.dtick=1)}Ze.range=Ye.range}Ye.minor._tick0Init===void 0&&(Ze.tick0=Ye.tick0)};function Se(Ze,Ye){return Math.abs((Ze/Ye+.5)%1-.5)<.001}function Oe(Ze,Ye){return Math.abs(Ze/Ye-1)<.001}K.prepTicks=function(Ze,Ye){var It=y.simpleMap(Ze.range,Ze.r2l,void 0,void 0,Ye);if(Ze.tickmode==="auto"||!Ze.dtick){var kt=Ze.nticks,Xt;kt||(Ze.type==="category"||Ze.type==="multicategory"?(Xt=Ze.tickfont?y.bigFont(Ze.tickfont.size||12):15,kt=Ze._length/Xt):(Xt=Ze._id.charAt(0)==="y"?40:80,kt=y.constrain(Ze._length/Xt,4,9)+1),Ze._name==="radialaxis"&&(kt*=2)),Ze.minor&&Ze.minor.tickmode!=="array"||Ze.tickmode==="array"&&(kt*=100),Ze._roughDTick=Math.abs(It[1]-It[0])/kt,K.autoTicks(Ze,Ze._roughDTick),Ze._minDtick>0&&Ze.dtick<Ze._minDtick*2&&(Ze.dtick=Ze._minDtick,Ze.tick0=Ze.l2r(Ze._forceTick0))}Ze.ticklabelmode==="period"&&Ee(Ze),Ze.tick0||(Ze.tick0=Ze.type==="date"?"2000-01-01":0),Ze.type==="date"&&Ze.dtick<.1&&(Ze.dtick=.1),gt(Ze)};function Ve(Ze){return+Ze.substring(1)}function Ee(Ze){var Ye;function It(){return!(L(Ze.dtick)||Ze.dtick.charAt(0)!=="M")}var kt=It(),Xt=K.getTickFormat(Ze);if(Xt){var ir=Ze._dtickInit!==Ze.dtick;/%[fLQsSMX]/.test(Xt)||(/%[HI]/.test(Xt)?(Ye=T,ir&&!kt&&Ze.dtick<T&&(Ze.dtick=T)):/%p/.test(Xt)?(Ye=E,ir&&!kt&&Ze.dtick<E&&(Ze.dtick=E)):/%[Aadejuwx]/.test(Xt)?(Ye=x,ir&&!kt&&Ze.dtick<x&&(Ze.dtick=x)):/%[UVW]/.test(Xt)?(Ye=P,ir&&!kt&&Ze.dtick<P&&(Ze.dtick=P)):/%[Bbm]/.test(Xt)?(Ye=S,ir&&(kt?Ve(Ze.dtick)<1:Ze.dtick<M)&&(Ze.dtick="M1")):/%[q]/.test(Xt)?(Ye=v,ir&&(kt?Ve(Ze.dtick)<3:Ze.dtick<o)&&(Ze.dtick="M3")):/%[Yy]/.test(Xt)&&(Ye=b,ir&&(kt?Ve(Ze.dtick)<12:Ze.dtick<f)&&(Ze.dtick="M12")))}kt=It(),kt&&Ze.tick0===Ze._dowTick0&&(Ze.tick0=Ze._rawTick0),Ze._definedDelta=Ye}function Te(Ze,Ye,It){for(var kt=0;kt<Ze.length;kt++){var Xt=Ze[kt].value,ir=kt,ur=kt+1;kt<Ze.length-1?(ir=kt,ur=kt+1):kt>0?(ir=kt-1,ur=kt):(ir=kt,ur=kt);var nr=Ze[ir].value,Nt=Ze[ur].value,hr=Math.abs(Nt-nr),pr=It||hr,gr=0;pr>=f?hr>=f&&hr<=u?gr=hr:gr=b:It===v&&pr>=o?hr>=o&&hr<=w?gr=hr:gr=v:pr>=M?hr>=M&&hr<=d?gr=hr:gr=S:It===P&&pr>=P?gr=P:pr>=x?gr=x:It===E&&pr>=E?gr=E:It===T&&pr>=T&&(gr=T);var dr;gr>=hr&&(gr=hr,dr=!0);var Xr=Xt+gr;if(Ye.rangebreaks&&gr>0){for(var Br=84,Or=0,mn=0;mn<Br;mn++){var Jr=(mn+.5)/Br;Ye.maskBreaks(Xt*(1-Jr)+Jr*Xr)!==k&&Or++}gr*=Or/Br,gr||(Ze[kt].drop=!0),dr&&hr>P&&(gr=hr)}(gr>0||kt===0)&&(Ze[kt].periodX=Xt+gr/2)}}K.calcTicks=function(Ye,It){for(var kt=Ye.type,Xt=Ye.calendar,ir=Ye.ticklabelstep,ur=Ye.ticklabelmode==="period",nr=y.simpleMap(Ye.range,Ye.r2l,void 0,void 0,It),Nt=nr[1]<nr[0],hr=Math.min(nr[0],nr[1]),pr=Math.max(nr[0],nr[1]),gr=Math.max(1e3,Ye._length||0),dr=[],Xr=[],Br=[],Or=[],mn=Ye.minor&&(Ye.minor.ticks||Ye.minor.showgrid),Jr=1;Jr>=(mn?0:1);Jr--){var _n=!Jr;Jr?(Ye._dtickInit=Ye.dtick,Ye._tick0Init=Ye.tick0):(Ye.minor._dtickInit=Ye.minor.dtick,Ye.minor._tick0Init=Ye.minor.tick0);var kn=Jr?Ye:y.extendFlat({},Ye,Ye.minor);if(_n?K.prepMinorTicks(kn,Ye,It):K.prepTicks(kn,It),kn.tickmode==="array"){Jr?(Br=[],dr=He(Ye)):(Or=[],Xr=He(Ye));continue}if(kn.tickmode==="sync"){Br=[],dr=Ge(Ye);continue}var br=ee(nr),wr=br[0],Nr=br[1],Vr=L(kn.dtick),tn=kt==="log"&&!(Vr||kn.dtick.charAt(0)==="L"),gn=K.tickFirst(kn,It);if(Jr){if(Ye._tmin=gn,gn<wr!==Nt)break;(kt==="category"||kt==="multicategory")&&(Nr=Nt?Math.max(-.5,Nr):Math.min(Ye._categories.length-.5,Nr))}var hn=null,Sn=gn,In;if(Jr){var Jn;Vr?Jn=Ye.dtick:kt==="date"?typeof Ye.dtick=="string"&&Ye.dtick.charAt(0)==="M"&&(Jn=S*Ye.dtick.substring(1)):Jn=Ye._roughDTick,In=Math.round((Ye.r2l(Sn)-Ye.r2l(Ye.tick0))/Jn)-1}var ra=kn.dtick;for(kn.rangebreaks&&kn._tick0Init!==kn.tick0&&(Sn=Ht(Sn,Ye),Nt||(Sn=K.tickIncrement(Sn,ra,!Nt,Xt))),Jr&&ur&&(Sn=K.tickIncrement(Sn,ra,!Nt,Xt),In--);Nt?Sn>=Nr:Sn<=Nr;Sn=K.tickIncrement(Sn,ra,Nt,Xt)){if(Jr&&In++,kn.rangebreaks&&!Nt){if(Sn<wr)continue;if(kn.maskBreaks(Sn)===k&&Ht(Sn,kn)>=pr)break}if(Br.length>gr||Sn===hn)break;hn=Sn;var ca={value:Sn};Jr?(tn&&Sn!==(Sn|0)&&(ca.simpleLabel=!0),ir>1&&In%ir&&(ca.skipLabel=!0),Br.push(ca)):(ca.minor=!0,Or.push(ca))}}if(mn){var aa=Ye.minor.ticks==="inside"&&Ye.ticks==="outside"||Ye.minor.ticks==="outside"&&Ye.ticks==="inside";if(!aa){for(var na=Br.map(function(An){return An.value}),Cr=[],ln=0;ln<Or.length;ln++){var on=Or[ln],yn=on.value;if(na.indexOf(yn)===-1){for(var Hn=!1,Ln=0;!Hn&&Ln<Br.length;Ln++)1e7+Br[Ln].value===1e7+yn&&(Hn=!0);Hn||Cr.push(on)}}Or=Cr}}ur&&Te(Br,Ye,Ye._definedDelta);var Pn;if(Ye.rangebreaks){var Wn=Ye._id.charAt(0)==="y",la=1;Ye.tickmode==="auto"&&(la=Ye.tickfont?Ye.tickfont.size:12);var za=NaN;for(Pn=Br.length-1;Pn>-1;Pn--){if(Br[Pn].drop){Br.splice(Pn,1);continue}Br[Pn].value=Ht(Br[Pn].value,Ye);var ni=Ye.c2p(Br[Pn].value);(Wn?za>ni-la:za<ni+la)?Br.splice(Nt?Pn+1:Pn,1):za=ni}}zt(Ye)&&Math.abs(nr[1]-nr[0])===360&&Br.pop(),Ye._tmax=(Br[Br.length-1]||{}).value,Ye._prevDateHead="",Ye._inCalcTicks=!0;var jt,Sr=function(An){An.text="",Ye._prevDateHead=jt};Br=Br.concat(Or);var sn,vn;for(Pn=0;Pn<Br.length;Pn++){var dn=Br[Pn].minor,Rn=Br[Pn].value;dn?Xr.push({x:Rn,minor:!0}):(jt=Ye._prevDateHead,sn=K.tickText(Ye,Rn,!1,Br[Pn].simpleLabel),vn=Br[Pn].periodX,vn!==void 0&&(sn.periodX=vn,(vn>pr||vn<hr)&&(vn>pr&&(sn.periodX=pr),vn<hr&&(sn.periodX=hr),Sr(sn))),Br[Pn].skipLabel&&Sr(sn),dr.push(sn))}return dr=dr.concat(Xr),Ye._inCalcTicks=!1,ur&&dr.length&&(dr[0].noTick=!0),dr};function Le(Ze,Ye){return Ze.rangebreaks&&(Ye=Ye.filter(function(It){return Ze.maskBreaks(It.x)!==k})),Ye}function Ge(Ze){var Ye=Ze._mainAxis,It=[];if(Ye._vals){for(var kt=0;kt<Ye._vals.length;kt++)if(!Ye._vals[kt].noTick){var Xt=Ye.l2p(Ye._vals[kt].x),ir=Ze.p2l(Xt),ur=K.tickText(Ze,ir);Ye._vals[kt].minor&&(ur.minor=!0,ur.text=""),It.push(ur)}}return It=Le(Ze,It),It}function He(Ze){var Ye=y.simpleMap(Ze.range,Ze.r2l),It=ee(Ye),kt=Math.min(It[0],It[1]),Xt=Math.max(It[0],It[1]),ir=Ze.type==="category"?Ze.d2l_noadd:Ze.d2l;Ze.type==="log"&&String(Ze.dtick).charAt(0)!=="L"&&(Ze.dtick="L"+Math.pow(10,Math.floor(Math.min(Ze.range[0],Ze.range[1]))-1));for(var ur=[],nr=0;nr<=1;nr++)if(!(nr&&!Ze.minor)){var Nt=nr?Ze.minor.tickvals:Ze.tickvals,hr=nr?[]:Ze.ticktext;if(Nt){Array.isArray(hr)||(hr=[]);for(var pr=0;pr<Nt.length;pr++){var gr=ir(Nt[pr]);if(gr>kt&&gr<Xt){var dr=hr[pr]===void 0?K.tickText(Ze,gr):Mt(Ze,gr,String(hr[pr]));nr&&(dr.minor=!0,dr.text=""),ur.push(dr)}}}}return ur=Le(Ze,ur),ur}var ke=[2,5,10],We=[1,2,3,6,12],nt=[1,2,5,10,15,30],qe=[1,2,3,7,14],Qe=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],tt=[-.301,0,.301,.699,1],vt=[15,30,45,90,180];function dt(Ze,Ye,It){return Ye*y.roundUp(Ze/Ye,It)}K.autoTicks=function(Ze,Ye,It){var kt;function Xt(gr){return Math.pow(gr,Math.floor(Math.log(Ye)/Math.LN10))}if(Ze.type==="date"){Ze.tick0=y.dateTick0(Ze.calendar,0);var ir=2*Ye;if(ir>b)Ye/=b,kt=Xt(10),Ze.dtick="M"+12*dt(Ye,kt,ke);else if(ir>S)Ye/=S,Ze.dtick="M"+dt(Ye,1,We);else if(ir>x){if(Ze.dtick=dt(Ye,x,Ze._hasDayOfWeekBreaks?[1,2,7,14]:qe),!It){var ur=K.getTickFormat(Ze),nr=Ze.ticklabelmode==="period";nr&&(Ze._rawTick0=Ze.tick0),/%[uVW]/.test(ur)?Ze.tick0=y.dateTick0(Ze.calendar,2):Ze.tick0=y.dateTick0(Ze.calendar,1),nr&&(Ze._dowTick0=Ze.tick0)}}else ir>T?Ze.dtick=dt(Ye,T,We):ir>i?Ze.dtick=dt(Ye,i,nt):ir>R?Ze.dtick=dt(Ye,R,nt):(kt=Xt(10),Ze.dtick=dt(Ye,kt,ke))}else if(Ze.type==="log"){Ze.tick0=0;var Nt=y.simpleMap(Ze.range,Ze.r2l);if(Ze._isMinor&&(Ye*=1.5),Ye>.7)Ze.dtick=Math.ceil(Ye);else if(Math.abs(Nt[1]-Nt[0])<1){var hr=1.5*Math.abs((Nt[1]-Nt[0])/Ye);Ye=Math.abs(Math.pow(10,Nt[1])-Math.pow(10,Nt[0]))/hr,kt=Xt(10),Ze.dtick="L"+dt(Ye,kt,ke)}else Ze.dtick=Ye>.3?"D2":"D1"}else Ze.type==="category"||Ze.type==="multicategory"?(Ze.tick0=0,Ze.dtick=Math.ceil(Math.max(Ye,1))):zt(Ze)?(Ze.tick0=0,kt=1,Ze.dtick=dt(Ye,kt,vt)):(Ze.tick0=0,kt=Xt(10),Ze.dtick=dt(Ye,kt,ke));if(Ze.dtick===0&&(Ze.dtick=1),!L(Ze.dtick)&&typeof Ze.dtick!="string"){var pr=Ze.dtick;throw Ze.dtick=1,"ax.dtick error: "+String(pr)}};function gt(Ze){var Ye=Ze.dtick;if(Ze._tickexponent=0,!L(Ye)&&typeof Ye!="string"&&(Ye=1),(Ze.type==="category"||Ze.type==="multicategory")&&(Ze._tickround=null),Ze.type==="date"){var It=Ze.r2l(Ze.tick0),kt=Ze.l2r(It).replace(/(^-|i)/g,""),Xt=kt.length;if(String(Ye).charAt(0)==="M")Xt>10||kt.substr(5)!=="01-01"?Ze._tickround="d":Ze._tickround=+Ye.substr(1)%12===0?"y":"m";else if(Ye>=x&&Xt<=10||Ye>=x*15)Ze._tickround="d";else if(Ye>=i&&Xt<=16||Ye>=T)Ze._tickround="M";else if(Ye>=R&&Xt<=19||Ye>=i)Ze._tickround="S";else{var ir=Ze.l2r(It+Ye).replace(/^-/,"").length;Ze._tickround=Math.max(Xt,ir)-20,Ze._tickround<0&&(Ze._tickround=4)}}else if(L(Ye)||Ye.charAt(0)==="L"){var ur=Ze.range.map(Ze.r2d||Number);L(Ye)||(Ye=Number(Ye.substr(1))),Ze._tickround=2-Math.floor(Math.log(Ye)/Math.LN10+.01);var nr=Math.max(Math.abs(ur[0]),Math.abs(ur[1])),Nt=Math.floor(Math.log(nr)/Math.LN10+.01),hr=Ze.minexponent===void 0?3:Ze.minexponent;Math.abs(Nt)>hr&&(ue(Ze.exponentformat)&&!me(Nt)?Ze._tickexponent=3*Math.round((Nt-1)/3):Ze._tickexponent=Nt)}else Ze._tickround=null}K.tickIncrement=function(Ze,Ye,It,kt){var Xt=It?-1:1;if(L(Ye))return y.increment(Ze,Xt*Ye);var ir=Ye.charAt(0),ur=Xt*Number(Ye.substr(1));if(ir==="M")return y.incrementMonth(Ze,ur,kt);if(ir==="L")return Math.log(Math.pow(10,Ze)+ur)/Math.LN10;if(ir==="D"){var nr=Ye==="D2"?tt:Qe,Nt=Ze+Xt*.01,hr=y.roundUp(y.mod(Nt,1),nr,It);return Math.floor(Nt)+Math.log(p.round(Math.pow(10,hr),1))/Math.LN10}throw"unrecognized dtick "+String(Ye)},K.tickFirst=function(Ze,Ye){var It=Ze.r2l||Number,kt=y.simpleMap(Ze.range,It,void 0,void 0,Ye),Xt=kt[1]<kt[0],ir=Xt?Math.floor:Math.ceil,ur=ee(kt)[0],nr=Ze.dtick,Nt=It(Ze.tick0);if(L(nr)){var hr=ir((ur-Nt)/nr)*nr+Nt;return(Ze.type==="category"||Ze.type==="multicategory")&&(hr=y.constrain(hr,0,Ze._categories.length-1)),hr}var pr=nr.charAt(0),gr=Number(nr.substr(1));if(pr==="M"){for(var dr=0,Xr=Nt,Br,Or,mn;dr<10;){if(Br=K.tickIncrement(Xr,nr,Xt,Ze.calendar),(Br-ur)*(Xr-ur)<=0)return Xt?Math.min(Xr,Br):Math.max(Xr,Br);Or=(ur-(Xr+Br)/2)/(Br-Xr),mn=pr+(Math.abs(Math.round(Or))||1)*gr,Xr=K.tickIncrement(Xr,mn,Or<0?!Xt:Xt,Ze.calendar),dr++}return y.error("tickFirst did not converge",Ze),Xr}else{if(pr==="L")return Math.log(ir((Math.pow(10,ur)-Nt)/gr)*gr+Nt)/Math.LN10;if(pr==="D"){var Jr=nr==="D2"?tt:Qe,_n=y.roundUp(y.mod(ur,1),Jr,Xt);return Math.floor(ur)+Math.log(p.round(Math.pow(10,_n),1))/Math.LN10}else throw"unrecognized dtick "+String(nr)}},K.tickText=function(Ze,Ye,It,kt){var Xt=Mt(Ze,Ye),ir=Ze.tickmode==="array",ur=It||ir,nr=Ze.type,Nt=nr==="category"?Ze.d2l_noadd:Ze.d2l,hr;if(ir&&Array.isArray(Ze.ticktext)){var pr=y.simpleMap(Ze.range,Ze.r2l),gr=(Math.abs(pr[1]-pr[0])-(Ze._lBreaks||0))/1e4;for(hr=0;hr<Ze.ticktext.length&&!(Math.abs(Ye-Nt(Ze.tickvals[hr]))<gr);hr++);if(hr<Ze.ticktext.length)return Xt.text=String(Ze.ticktext[hr]),Xt}function dr(mn){if(mn===void 0)return!0;if(It)return mn==="none";var Jr={first:Ze._tmin,last:Ze._tmax}[mn];return mn!=="all"&&Ye!==Jr}var Xr=It?"never":Ze.exponentformat!=="none"&&dr(Ze.showexponent)?"hide":"";if(nr==="date"?Rt(Ze,Xt,It,ur):nr==="log"?Wt(Ze,Xt,It,ur,Xr):nr==="category"?je(Ze,Xt):nr==="multicategory"?_e(Ze,Xt,It):zt(Ze)?Be(Ze,Xt,It,ur,Xr):Fe(Ze,Xt,It,ur,Xr),kt||(Ze.tickprefix&&!dr(Ze.showtickprefix)&&(Xt.text=Ze.tickprefix+Xt.text),Ze.ticksuffix&&!dr(Ze.showticksuffix)&&(Xt.text+=Ze.ticksuffix)),Ze.labelalias&&Ze.labelalias.hasOwnProperty(Xt.text)){var Br=Ze.labelalias[Xt.text];typeof Br=="string"&&(Xt.text=Br)}if(Ze.tickson==="boundaries"||Ze.showdividers){var Or=function(mn){var Jr=Ze.l2p(mn);return Jr>=0&&Jr<=Ze._length?mn:null};Xt.xbnd=[Or(Xt.x-.5),Or(Xt.x+Ze.dtick-.5)]}return Xt},K.hoverLabelText=function(Ze,Ye,It){It&&(Ze=y.extendFlat({},Ze,{hoverformat:It}));var kt=Array.isArray(Ye)?Ye[0]:Ye,Xt=Array.isArray(Ye)?Ye[1]:void 0;if(Xt!==void 0&&Xt!==kt)return K.hoverLabelText(Ze,kt,It)+" - "+K.hoverLabelText(Ze,Xt,It);var ir=Ze.type==="log"&&kt<=0,ur=K.tickText(Ze,Ze.c2l(ir?-kt:kt),"hover").text;return ir?kt===0?"0":A+ur:ur};function Mt(Ze,Ye,It){var kt=Ze.tickfont||{};return{x:Ye,dx:0,dy:0,text:It||"",fontSize:kt.size,font:kt.family,fontColor:kt.color}}function Rt(Ze,Ye,It,kt){var Xt=Ze._tickround,ir=It&&Ze.hoverformat||K.getTickFormat(Ze);kt&&(L(Xt)?Xt=4:Xt={y:"m",m:"d",d:"M",M:"S",S:4}[Xt]);var ur=y.formatDate(Ye.x,ir,Xt,Ze._dateFormat,Ze.calendar,Ze._extraFormat),nr,Nt=ur.indexOf(`
`);if(Nt!==-1&&(nr=ur.substr(Nt+1),ur=ur.substr(0,Nt)),kt&&(ur==="00:00:00"||ur==="00:00"?(ur=nr,nr=""):ur.length===8&&(ur=ur.replace(/:00$/,""))),nr)if(It)Xt==="d"?ur+=", "+nr:ur=nr+(ur?", "+ur:"");else if(!Ze._inCalcTicks||Ze._prevDateHead!==nr)Ze._prevDateHead=nr,ur+="<br>"+nr;else{var hr=qt(Ze),pr=Ze._trueSide||Ze.side;(!hr&&pr==="top"||hr&&pr==="bottom")&&(ur+="<br> ")}Ye.text=ur}function Wt(Ze,Ye,It,kt,Xt){var ir=Ze.dtick,ur=Ye.x,nr=Ze.tickformat,Nt=typeof ir=="string"&&ir.charAt(0);if(Xt==="never"&&(Xt=""),kt&&Nt!=="L"&&(ir="L3",Nt="L"),nr||Nt==="L")Ye.text=Re(Math.pow(10,ur),Ze,Xt,kt);else if(L(ir)||Nt==="D"&&y.mod(ur+.01,1)<.1){var hr=Math.round(ur),pr=Math.abs(hr),gr=Ze.exponentformat;gr==="power"||ue(gr)&&me(hr)?(hr===0?Ye.text=1:hr===1?Ye.text="10":Ye.text="10<sup>"+(hr>1?"":A)+pr+"</sup>",Ye.fontSize*=1.25):(gr==="e"||gr==="E")&&pr>2?Ye.text="1"+gr+(hr>0?"+":A)+pr:(Ye.text=Re(Math.pow(10,ur),Ze,"","fakehover"),ir==="D1"&&Ze._id.charAt(0)==="y"&&(Ye.dy-=Ye.fontSize/6))}else if(Nt==="D")Ye.text=String(Math.round(Math.pow(10,y.mod(ur,1)))),Ye.fontSize*=.75;else throw"unrecognized dtick "+String(ir);if(Ze.dtick==="D1"){var dr=String(Ye.text).charAt(0);(dr==="0"||dr==="1")&&(Ze._id.charAt(0)==="y"?Ye.dx-=Ye.fontSize/4:(Ye.dy+=Ye.fontSize/2,Ye.dx+=(Ze.range[1]>Ze.range[0]?1:-1)*Ye.fontSize*(ur<0?.5:.25)))}}function je(Ze,Ye){var It=Ze._categories[Math.round(Ye.x)];It===void 0&&(It=""),Ye.text=String(It)}function _e(Ze,Ye,It){var kt=Math.round(Ye.x),Xt=Ze._categories[kt]||[],ir=Xt[1]===void 0?"":String(Xt[1]),ur=Xt[0]===void 0?"":String(Xt[0]);It?Ye.text=ur+" - "+ir:(Ye.text=ir,Ye.text2=ur)}function Fe(Ze,Ye,It,kt,Xt){Xt==="never"?Xt="":Ze.showexponent==="all"&&Math.abs(Ye.x/Ze.dtick)<1e-6&&(Xt="hide"),Ye.text=Re(Ye.x,Ze,Xt,kt)}function Be(Ze,Ye,It,kt,Xt){if(Ze.thetaunit==="radians"&&!It){var ir=Ye.x/180;if(ir===0)Ye.text="0";else{var ur=De(ir);if(ur[1]>=100)Ye.text=Re(y.deg2rad(Ye.x),Ze,Xt,kt);else{var nr=Ye.x<0;ur[1]===1?ur[0]===1?Ye.text="":Ye.text=ur[0]+"":Ye.text=["<sup>",ur[0],"</sup>","","<sub>",ur[1],"</sub>",""].join(""),nr&&(Ye.text=A+Ye.text)}}}else Ye.text=Re(Ye.x,Ze,Xt,kt)}function De(Ze){function Ye(nr,Nt){return Math.abs(nr-Nt)<=1e-6}function It(nr,Nt){return Ye(Nt,0)?nr:It(Nt,nr%Nt)}function kt(nr){for(var Nt=1;!Ye(Math.round(nr*Nt)/Nt,nr);)Nt*=10;return Nt}var Xt=kt(Ze),ir=Ze*Xt,ur=Math.abs(It(ir,Xt));return[Math.round(ir/ur),Math.round(Xt/ur)]}var we=["f","p","n","","m","","k","M","G","T"];function ue(Ze){return Ze==="SI"||Ze==="B"}function me(Ze){return Ze>14||Ze<-15}function Re(Ze,Ye,It,kt){var Xt=Ze<0,ir=Ye._tickround,ur=It||Ye.exponentformat||"B",nr=Ye._tickexponent,Nt=K.getTickFormat(Ye),hr=Ye.separatethousands;if(kt){var pr={exponentformat:ur,minexponent:Ye.minexponent,dtick:Ye.showexponent==="none"?Ye.dtick:L(Ze)&&Math.abs(Ze)||1,range:Ye.showexponent==="none"?Ye.range.map(Ye.r2d):[0,Ze||1]};gt(pr),ir=(Number(pr._tickround)||0)+4,nr=pr._tickexponent,Ye.hoverformat&&(Nt=Ye.hoverformat)}if(Nt)return Ye._numFormat(Nt)(Ze).replace(/-/g,A);var gr=Math.pow(10,-ir)/2;if(ur==="none"&&(nr=0),Ze=Math.abs(Ze),Ze<gr)Ze="0",Xt=!1;else{if(Ze+=gr,nr&&(Ze*=Math.pow(10,-nr),ir+=nr),ir===0)Ze=String(Math.floor(Ze));else if(ir<0){Ze=String(Math.round(Ze)),Ze=Ze.substr(0,Ze.length+ir);for(var dr=ir;dr<0;dr++)Ze+="0"}else{Ze=String(Ze);var Xr=Ze.indexOf(".")+1;Xr&&(Ze=Ze.substr(0,Xr+ir).replace(/\.?0+$/,""))}Ze=y.numSeparate(Ze,Ye._separators,hr)}if(nr&&ur!=="hide"){ue(ur)&&me(nr)&&(ur="power");var Br;nr<0?Br=A+-nr:ur!=="power"?Br="+"+nr:Br=String(nr),ur==="e"||ur==="E"?Ze+=ur+Br:ur==="power"?Ze+="10<sup>"+Br+"</sup>":ur==="B"&&nr===9?Ze+="B":ue(ur)&&(Ze+=we[nr/3+5])}return Xt?A+Ze:Ze}K.getTickFormat=function(Ze){var Ye;function It(Nt){return typeof Nt!="string"?Nt:Number(Nt.replace("M",""))*S}function kt(Nt,hr){var pr=["L","D"];if(typeof Nt==typeof hr){if(typeof Nt=="number")return Nt-hr;var gr=pr.indexOf(Nt.charAt(0)),dr=pr.indexOf(hr.charAt(0));return gr===dr?Number(Nt.replace(/(L|D)/g,""))-Number(hr.replace(/(L|D)/g,"")):gr-dr}else return typeof Nt=="number"?1:-1}function Xt(Nt,hr,pr){var gr=pr||function(Br){return Br},dr=hr[0],Xr=hr[1];return(!dr&&typeof dr!="number"||gr(dr)<=gr(Nt))&&(!Xr&&typeof Xr!="number"||gr(Xr)>=gr(Nt))}function ir(Nt,hr){var pr=hr[0]===null,gr=hr[1]===null,dr=kt(Nt,hr[0])>=0,Xr=kt(Nt,hr[1])<=0;return(pr||dr)&&(gr||Xr)}var ur,nr;if(Ze.tickformatstops&&Ze.tickformatstops.length>0)switch(Ze.type){case"date":case"linear":{for(Ye=0;Ye<Ze.tickformatstops.length;Ye++)if(nr=Ze.tickformatstops[Ye],nr.enabled&&Xt(Ze.dtick,nr.dtickrange,It)){ur=nr;break}break}case"log":{for(Ye=0;Ye<Ze.tickformatstops.length;Ye++)if(nr=Ze.tickformatstops[Ye],nr.enabled&&ir(Ze.dtick,nr.dtickrange)){ur=nr;break}break}}return ur?ur.value:Ze.tickformat},K.getSubplots=function(Ze,Ye){var It=Ze._fullLayout._subplots,kt=It.cartesian.concat(It.gl2d||[]),Xt=Ye?K.findSubplotsWithAxis(kt,Ye):kt;return Xt.sort(function(ir,ur){var nr=ir.substr(1).split("y"),Nt=ur.substr(1).split("y");return nr[0]===Nt[0]?+nr[1]-+Nt[1]:+nr[0]-+Nt[0]}),Xt},K.findSubplotsWithAxis=function(Ze,Ye){for(var It=new RegExp(Ye._id.charAt(0)==="x"?"^"+Ye._id+"y":Ye._id+"$"),kt=[],Xt=0;Xt<Ze.length;Xt++){var ir=Ze[Xt];It.test(ir)&&kt.push(ir)}return kt},K.makeClipPaths=function(Ze){var Ye=Ze._fullLayout;if(!Ye._hasOnlyLargeSploms){var It={_offset:0,_length:Ye.width,_id:""},kt={_offset:0,_length:Ye.height,_id:""},Xt=K.list(Ze,"x",!0),ir=K.list(Ze,"y",!0),ur=[],nr,Nt;for(nr=0;nr<Xt.length;nr++)for(ur.push({x:Xt[nr],y:kt}),Nt=0;Nt<ir.length;Nt++)nr===0&&ur.push({x:It,y:ir[Nt]}),ur.push({x:Xt[nr],y:ir[Nt]});var hr=Ye._clips.selectAll(".axesclip").data(ur,function(pr){return pr.x._id+pr.y._id});hr.enter().append("clipPath").classed("axesclip",!0).attr("id",function(pr){return"clip"+Ye._uid+pr.x._id+pr.y._id}).append("rect"),hr.exit().remove(),hr.each(function(pr){p.select(this).select("rect").attr({x:pr.x._offset||0,y:pr.y._offset||0,width:pr.x._length||1,height:pr.y._length||1})})}},K.draw=function(Ze,Ye,It){var kt=Ze._fullLayout;Ye==="redraw"&&kt._paper.selectAll("g.subplot").each(function(Nt){var hr=Nt[0],pr=kt._plots[hr];if(pr){var gr=pr.xaxis,dr=pr.yaxis;pr.xaxislayer.selectAll("."+gr._id+"tick").remove(),pr.yaxislayer.selectAll("."+dr._id+"tick").remove(),pr.xaxislayer.selectAll("."+gr._id+"tick2").remove(),pr.yaxislayer.selectAll("."+dr._id+"tick2").remove(),pr.xaxislayer.selectAll("."+gr._id+"divider").remove(),pr.yaxislayer.selectAll("."+dr._id+"divider").remove(),pr.minorGridlayer&&pr.minorGridlayer.selectAll("path").remove(),pr.gridlayer&&pr.gridlayer.selectAll("path").remove(),pr.zerolinelayer&&pr.zerolinelayer.selectAll("path").remove(),kt._infolayer.select(".g-"+gr._id+"title").remove(),kt._infolayer.select(".g-"+dr._id+"title").remove()}});var Xt=!Ye||Ye==="redraw"?K.listIds(Ze):Ye,ir=K.list(Ze),ur=ir.filter(function(Nt){return Nt.autoshift}).map(function(Nt){return Nt.overlaying});Xt.map(function(Nt){var hr=K.getFromId(Ze,Nt);if(hr.tickmode==="sync"&&hr.overlaying){var pr=Xt.findIndex(function(gr){return gr===hr.overlaying});pr>=0&&Xt.unshift(Xt.splice(pr,1).shift())}});var nr={false:{left:0,right:0}};return y.syncOrAsync(Xt.map(function(Nt){return function(){if(Nt){var hr=K.getFromId(Ze,Nt);It||(It={}),It.axShifts=nr,It.overlayingShiftedAx=ur;var pr=K.drawOne(Ze,hr,It);return hr._shiftPusher&&or(hr,hr._fullDepth||0,nr,!0),hr._r=hr.range.slice(),hr._rl=y.simpleMap(hr._r,hr.r2l),pr}}}))},K.drawOne=function(Ze,Ye,It){It=It||{};var kt=It.axShifts||{},Xt=It.overlayingShiftedAx||[],ir,ur,nr;Ye.setScale();var Nt=Ze._fullLayout,hr=Ye._id,pr=hr.charAt(0),gr=K.counterLetter(hr),dr=Nt._plots[Ye._mainSubplot];if(!dr)return;if(Ye._shiftPusher=Ye.autoshift||Xt.indexOf(Ye._id)!==-1||Xt.indexOf(Ye.overlaying)!==-1,Ye._shiftPusher&Ye.anchor==="free"){var Xr=Ye.linewidth/2||0;Ye.ticks==="inside"&&(Xr+=Ye.ticklen),or(Ye,Xr,kt,!0),or(Ye,Ye.shift||0,kt,!1)}(It.skipTitle!==!0||Ye._shift===void 0)&&(Ye._shift=Lr(Ye,kt));var Br=dr[pr+"axislayer"],Or=Ye._mainLinePosition,mn=Or+=Ye._shift,Jr=Ye._mainMirrorPosition,_n=Ye._vals=K.calcTicks(Ye),kn=[Ye.mirror,mn,Jr].join("_");for(ir=0;ir<_n.length;ir++)_n[ir].axInfo=kn;Ye._selections={},Ye._tickAngles&&(Ye._prevTickAngles=Ye._tickAngles),Ye._tickAngles={},Ye._depth=null;var br={};function wr(zr){var pn=hr+(zr||"tick");return br[pn]||(br[pn]=Ft(Ye,pn)),br[pn]}if(Ye.visible){var Nr=K.makeTransTickFn(Ye),Vr=K.makeTransTickLabelFn(Ye),tn,gn,hn=Ye.ticks==="inside",Sn=Ye.ticks==="outside";if(Ye.tickson==="boundaries"){var In=it(Ye,_n);gn=K.clipEnds(Ye,In),tn=hn?gn:In}else gn=K.clipEnds(Ye,_n),tn=hn&&Ye.ticklabelmode!=="period"?gn:_n;var Jn=Ye._gridVals=gn,ra=wt(Ye,_n);if(!Nt._hasOnlyLargeSploms){var ca=Ye._subplotsWith,aa={};for(ir=0;ir<ca.length;ir++){ur=ca[ir],nr=Nt._plots[ur];var na=nr[gr+"axis"],Cr=na._mainAxis._id;if(!aa[Cr]){aa[Cr]=1;var ln=pr==="x"?"M0,"+na._offset+"v"+na._length:"M"+na._offset+",0h"+na._length;K.drawGrid(Ze,Ye,{vals:Jn,counterAxis:na,layer:nr.gridlayer.select("."+hr),minorLayer:nr.minorGridlayer.select("."+hr),path:ln,transFn:Nr}),K.drawZeroLine(Ze,Ye,{counterAxis:na,layer:nr.zerolinelayer,path:ln,transFn:Nr})}}}var on,yn=K.getTickSigns(Ye),Hn=K.getTickSigns(Ye,"minor");if(Ye.ticks||Ye.minor&&Ye.minor.ticks){var Ln=K.makeTickPath(Ye,mn,yn[2]),Pn=K.makeTickPath(Ye,mn,Hn[2],{minor:!0}),Wn,la,za,ni;if(Ye._anchorAxis&&Ye.mirror&&Ye.mirror!==!0?(Wn=K.makeTickPath(Ye,Jr,yn[3]),la=K.makeTickPath(Ye,Jr,Hn[3],{minor:!0}),za=Ln+Wn,ni=Pn+la):(Wn="",la="",za=Ln,ni=Pn),Ye.showdividers&&Sn&&Ye.tickson==="boundaries"){var jt={};for(ir=0;ir<ra.length;ir++)jt[ra[ir].x]=1;on=function(zr){return jt[zr.x]?Wn:za}}else on=function(zr){return zr.minor?ni:za}}if(K.drawTicks(Ze,Ye,{vals:tn,layer:Br,path:on,transFn:Nr}),Ye.mirror==="allticks"){var Sr=Object.keys(Ye._linepositions||{});for(ir=0;ir<Sr.length;ir++){ur=Sr[ir],nr=Nt._plots[ur];var sn=Ye._linepositions[ur]||[],vn=sn[0],dn=sn[1],Rn=sn[2],An=K.makeTickPath(Ye,vn,Rn?yn[0]:Hn[0],{minor:Rn})+K.makeTickPath(Ye,dn,Rn?yn[1]:Hn[1],{minor:Rn});K.drawTicks(Ze,Ye,{vals:tn,layer:nr[pr+"axislayer"],path:An,transFn:Nr})}}var cn=[];if(cn.push(function(){return K.drawLabels(Ze,Ye,{vals:_n,layer:Br,plotinfo:nr,transFn:Vr,labelFns:K.makeLabelFns(Ye,mn)})}),Ye.type==="multicategory"){var Dr={x:2,y:10}[pr];cn.push(function(){var zr={x:"height",y:"width"}[pr],pn=wr()[zr]+Dr+(Ye._tickAngles[hr+"tick"]?Ye.tickfont.size*J:0);return K.drawLabels(Ze,Ye,{vals:ot(Ye,_n),layer:Br,cls:hr+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Nr,labelFns:K.makeLabelFns(Ye,mn+pn*yn[4])})}),cn.push(function(){return Ye._depth=yn[4]*(wr("tick2")[Ye.side]-mn),$t(Ze,Ye,{vals:ra,layer:Br,path:K.makeTickPath(Ye,mn,yn[4],{len:Ye._depth}),transFn:Nr})})}else Ye.title.hasOwnProperty("standoff")&&cn.push(function(){Ye._depth=yn[4]*(wr()[Ye.side]-mn)});var Pr=C.getComponentMethod("rangeslider","isVisible")(Ye);return!It.skipTitle&&!(Pr&&Ye.side==="bottom")&&cn.push(function(){return Fr(Ze,Ye)}),cn.push(function(){var zr=Ye.side.charAt(0),pn=te[Ye.side].charAt(0),zn=K.getPxPosition(Ze,Ye),Zn=Sn?Ye.ticklen:0,xn,Nn,ta,ha;(Ye.automargin||Pr||Ye._shiftPusher)&&(Ye.type==="multicategory"?xn=wr("tick2"):(xn=wr(),pr==="x"&&zr==="b"&&(Ye._depth=Math.max(xn.width>0?xn.bottom-zn:0,Zn))));var ua=0,fa=0;if(Ye._shiftPusher&&(ua=Math.max(Zn,xn.height>0?zr==="l"?zn-xn.left:xn.right-zn:0),Ye.title.text!==Nt._dfltTitle[pr]&&(fa=(Ye._titleStandoff||0)+(Ye._titleScoot||0),zr==="l"&&(fa+=lr(Ye))),Ye._fullDepth=Math.max(ua,fa)),Ye.automargin){Nn={x:0,y:0,r:0,l:0,t:0,b:0};var ma=[0,1],yo=typeof Ye._shift=="number"?Ye._shift:0;if(pr==="x"){if(zr==="b"?Nn[zr]=Ye._depth:(Nn[zr]=Ye._depth=Math.max(xn.width>0?zn-xn.top:0,Zn),ma.reverse()),xn.width>0){var ko=xn.right-(Ye._offset+Ye._length);ko>0&&(Nn.xr=1,Nn.r=ko);var No=Ye._offset-xn.left;No>0&&(Nn.xl=0,Nn.l=No)}}else if(zr==="l"?(Ye._depth=Math.max(xn.height>0?zn-xn.left:0,Zn),Nn[zr]=Ye._depth-yo):(Ye._depth=Math.max(xn.height>0?xn.right-zn:0,Zn),Nn[zr]=Ye._depth+yo,ma.reverse()),xn.height>0){var jo=xn.bottom-(Ye._offset+Ye._length);jo>0&&(Nn.yb=0,Nn.b=jo);var Vo=Ye._offset-xn.top;Vo>0&&(Nn.yt=1,Nn.t=Vo)}Nn[gr]=Ye.anchor==="free"?Ye.position:Ye._anchorAxis.domain[ma[0]],Ye.title.text!==Nt._dfltTitle[pr]&&(Nn[zr]+=lr(Ye)+(Ye.title.standoff||0)),Ye.mirror&&Ye.anchor!=="free"&&(ta={x:0,y:0,r:0,l:0,t:0,b:0},ta[pn]=Ye.linewidth,Ye.mirror&&Ye.mirror!==!0&&(ta[pn]+=Zn),Ye.mirror===!0||Ye.mirror==="ticks"?ta[gr]=Ye._anchorAxis.domain[ma[1]]:(Ye.mirror==="all"||Ye.mirror==="allticks")&&(ta[gr]=[Ye._counterDomainMin,Ye._counterDomainMax][ma[1]]))}Pr&&(ha=C.getComponentMethod("rangeslider","autoMarginOpts")(Ze,Ye)),typeof Ye.automargin=="string"&&(Ne(Nn,Ye.automargin),Ne(ta,Ye.automargin)),n.autoMargin(Ze,vr(Ye),Nn),n.autoMargin(Ze,ut(Ye),ta),n.autoMargin(Ze,lt(Ye),ha)}),y.syncOrAsync(cn)}};function Ne(Ze,Ye){if(Ze){var It=Object.keys(F).reduce(function(kt,Xt){return Ye.indexOf(Xt)!==-1&&F[Xt].forEach(function(ir){kt[ir]=1}),kt},{});Object.keys(Ze).forEach(function(kt){It[kt]||(kt.length===1?Ze[kt]=0:delete Ze[kt])})}}function it(Ze,Ye){var It=[],kt,Xt=function(ir,ur){var nr=ir.xbnd[ur];nr!==null&&It.push(y.extendFlat({},ir,{x:nr}))};if(Ye.length){for(kt=0;kt<Ye.length;kt++)Xt(Ye[kt],0);Xt(Ye[kt-1],1)}return It}function ot(Ze,Ye){for(var It=[],kt={},Xt=0;Xt<Ye.length;Xt++){var ir=Ye[Xt];kt[ir.text2]?kt[ir.text2].push(ir.x):kt[ir.text2]=[ir.x]}for(var ur in kt)It.push(Mt(Ze,y.interp(kt[ur],.5),ur));return It}function wt(Ze,Ye){var It=[],kt,Xt,ir=Ye.length&&Ye[Ye.length-1].x<Ye[0].x,ur=function(Nt,hr){var pr=Nt.xbnd[hr];pr!==null&&It.push(y.extendFlat({},Nt,{x:pr}))};if(Ze.showdividers&&Ye.length){for(kt=0;kt<Ye.length;kt++){var nr=Ye[kt];nr.text2!==Xt&&ur(nr,ir?1:0),Xt=nr.text2}ur(Ye[kt-1],ir?0:1)}return It}function Ft(Ze,Ye){var It,kt,Xt,ir;return Ze._selections[Ye].size()?(It=1/0,kt=-1/0,Xt=1/0,ir=-1/0,Ze._selections[Ye].each(function(){var ur=Ar(this),nr=l.bBox(ur.node().parentNode);It=Math.min(It,nr.top),kt=Math.max(kt,nr.bottom),Xt=Math.min(Xt,nr.left),ir=Math.max(ir,nr.right)})):(It=0,kt=0,Xt=0,ir=0),{top:It,bottom:kt,left:Xt,right:ir,height:kt-It,width:ir-Xt}}K.getTickSigns=function(Ze,Ye){var It=Ze._id.charAt(0),kt={x:"top",y:"right"}[It],Xt=Ze.side===kt?1:-1,ir=[-1,1,Xt,-Xt],ur=Ye?(Ze.minor||{}).ticks:Ze.ticks;return ur!=="inside"==(It==="x")&&(ir=ir.map(function(nr){return-nr})),Ze.side&&ir.push({l:-1,t:-1,r:1,b:1}[Ze.side.charAt(0)]),ir},K.makeTransTickFn=function(Ze){return Ze._id.charAt(0)==="x"?function(Ye){return h(Ze._offset+Ze.l2p(Ye.x),0)}:function(Ye){return h(0,Ze._offset+Ze.l2p(Ye.x))}},K.makeTransTickLabelFn=function(Ze){var Ye=Gt(Ze),It=Ye[0],kt=Ye[1];return Ze._id.charAt(0)==="x"?function(Xt){return h(It+Ze._offset+Ze.l2p(Ut(Xt)),kt)}:function(Xt){return h(kt,It+Ze._offset+Ze.l2p(Ut(Xt)))}};function Ut(Ze){return Ze.periodX!==void 0?Ze.periodX:Ze.x}function Gt(Ze){var Ye=Ze.ticklabelposition||"",It=function(Xr){return Ye.indexOf(Xr)!==-1},kt=It("top"),Xt=It("left"),ir=It("right"),ur=It("bottom"),nr=It("inside"),Nt=ur||Xt||kt||ir;if(!Nt&&!nr)return[0,0];var hr=Ze.side,pr=Nt?(Ze.tickwidth||0)/2:0,gr=fe,dr=Ze.tickfont?Ze.tickfont.size:12;return(ur||kt)&&(pr+=dr*q,gr+=(Ze.linewidth||0)/2),(Xt||ir)&&(pr+=(Ze.linewidth||0)/2,gr+=fe),nr&&hr==="top"&&(gr-=dr*(1-q)),(Xt||kt)&&(pr=-pr),(hr==="bottom"||hr==="right")&&(gr=-gr),[Nt?pr:0,nr?gr:0]}K.makeTickPath=function(Ze,Ye,It,kt){kt||(kt={});var Xt=kt.minor;if(Xt&&!Ze.minor)return"";var ir=kt.len!==void 0?kt.len:Xt?Ze.minor.ticklen:Ze.ticklen,ur=Ze._id.charAt(0),nr=(Ze.linewidth||1)/2;return ur==="x"?"M0,"+(Ye+nr*It)+"v"+ir*It:"M"+(Ye+nr*It)+",0h"+ir*It},K.makeLabelFns=function(Ze,Ye,It){var kt=Ze.ticklabelposition||"",Xt=function(In){return kt.indexOf(In)!==-1},ir=Xt("top"),ur=Xt("left"),nr=Xt("right"),Nt=Xt("bottom"),hr=Nt||ur||ir||nr,pr=Xt("inside"),gr=kt==="inside"&&Ze.ticks==="inside"||!pr&&Ze.ticks==="outside"&&Ze.tickson!=="boundaries",dr=0,Xr=0,Br=gr?Ze.ticklen:0;if(pr?Br*=-1:hr&&(Br=0),gr&&(dr+=Br,It)){var Or=y.deg2rad(It);dr=Br*Math.cos(Or)+1,Xr=Br*Math.sin(Or)}Ze.showticklabels&&(gr||Ze.showline)&&(dr+=.2*Ze.tickfont.size),dr+=(Ze.linewidth||1)/2*(pr?-1:1);var mn={labelStandoff:dr,labelShift:Xr},Jr,_n,kn,br,wr=0,Nr=Ze.side,Vr=Ze._id.charAt(0),tn=Ze.tickangle,gn;if(Vr==="x")gn=!pr&&Nr==="bottom"||pr&&Nr==="top",br=gn?1:-1,pr&&(br*=-1),Jr=Xr*br,_n=Ye+dr*br,kn=gn?1:-.2,Math.abs(tn)===90&&(pr?kn+=Z:tn===-90&&Nr==="bottom"?kn=q:tn===90&&Nr==="top"?kn=Z:kn=.5,wr=Z/2*(tn/90)),mn.xFn=function(In){return In.dx+Jr+wr*In.fontSize},mn.yFn=function(In){return In.dy+_n+In.fontSize*kn},mn.anchorFn=function(In,Jn){if(hr){if(ur)return"end";if(nr)return"start"}return!L(Jn)||Jn===0||Jn===180?"middle":Jn*br<0!==pr?"end":"start"},mn.heightFn=function(In,Jn,ra){return Jn<-60||Jn>60?-.5*ra:Ze.side==="top"!==pr?-ra:0};else if(Vr==="y"){if(gn=!pr&&Nr==="left"||pr&&Nr==="right",br=gn?1:-1,pr&&(br*=-1),Jr=dr,_n=Xr*br,kn=0,!pr&&Math.abs(tn)===90&&(tn===-90&&Nr==="left"||tn===90&&Nr==="right"?kn=q:kn=.5),pr){var hn=L(tn)?+tn:0;if(hn!==0){var Sn=y.deg2rad(hn);wr=Math.abs(Math.sin(Sn))*q*br,kn=0}}mn.xFn=function(In){return In.dx+Ye-(Jr+In.fontSize*kn)*br+wr*In.fontSize},mn.yFn=function(In){return In.dy+_n+In.fontSize*Z},mn.anchorFn=function(In,Jn){return L(Jn)&&Math.abs(Jn)===90?"middle":gn?"end":"start"},mn.heightFn=function(In,Jn,ra){return Ze.side==="right"&&(Jn*=-1),Jn<-30?-ra:Jn<30?-.5*ra:0}}return mn};function Et(Ze){return[Ze.text,Ze.x,Ze.axInfo,Ze.font,Ze.fontSize,Ze.fontColor].join("_")}K.drawTicks=function(Ze,Ye,It){It=It||{};var kt=Ye._id+"tick",Xt=[].concat(Ye.minor&&Ye.minor.ticks?It.vals.filter(function(ur){return ur.minor&&!ur.noTick}):[]).concat(Ye.ticks?It.vals.filter(function(ur){return!ur.minor&&!ur.noTick}):[]),ir=It.layer.selectAll("path."+kt).data(Xt,Et);ir.exit().remove(),ir.enter().append("path").classed(kt,1).classed("ticks",1).classed("crisp",It.crisp!==!1).each(function(ur){return r.stroke(p.select(this),ur.minor?Ye.minor.tickcolor:Ye.tickcolor)}).style("stroke-width",function(ur){return l.crispRound(Ze,ur.minor?Ye.minor.tickwidth:Ye.tickwidth,1)+"px"}).attr("d",It.path).style("display",null),Qt(Ye,[N]),ir.attr("transform",It.transFn)},K.drawGrid=function(Ze,Ye,It){if(It=It||{},Ye.tickmode!=="sync"){var kt=Ye._id+"grid",Xt=Ye.minor&&Ye.minor.showgrid,ir=Xt?It.vals.filter(function(Jr){return Jr.minor}):[],ur=Ye.showgrid?It.vals.filter(function(Jr){return!Jr.minor}):[],nr=It.counterAxis;if(nr&&K.shouldShowZeroLine(Ze,Ye,nr))for(var Nt=Ye.tickmode==="array",hr=0;hr<ur.length;hr++){var pr=ur[hr].x;if(Nt?!pr:Math.abs(pr)<Ye.dtick/100)if(ur=ur.slice(0,hr).concat(ur.slice(hr+1)),Nt)hr--;else break}Ye._gw=l.crispRound(Ze,Ye.gridwidth,1);for(var gr=Xt?l.crispRound(Ze,Ye.minor.gridwidth,1):0,dr=It.layer,Xr=It.minorLayer,Br=1;Br>=0;Br--){var Or=Br?dr:Xr;if(Or){var mn=Or.selectAll("path."+kt).data(Br?ur:ir,Et);mn.exit().remove(),mn.enter().append("path").classed(kt,1).classed("crisp",It.crisp!==!1),mn.attr("transform",It.transFn).attr("d",It.path).each(function(Jr){return r.stroke(p.select(this),Jr.minor?Ye.minor.gridcolor:Ye.gridcolor||"#ddd")}).style("stroke-dasharray",function(Jr){return l.dashStyle(Jr.minor?Ye.minor.griddash:Ye.griddash,Jr.minor?Ye.minor.gridwidth:Ye.gridwidth)}).style("stroke-width",function(Jr){return(Jr.minor?gr:Ye._gw)+"px"}).style("display",null),typeof It.path=="function"&&mn.attr("d",It.path)}}Qt(Ye,[H,z])}},K.drawZeroLine=function(Ze,Ye,It){It=It||It;var kt=Ye._id+"zl",Xt=K.shouldShowZeroLine(Ze,Ye,It.counterAxis),ir=It.layer.selectAll("path."+kt).data(Xt?[{x:0,id:Ye._id}]:[]);ir.exit().remove(),ir.enter().append("path").classed(kt,1).classed("zl",1).classed("crisp",It.crisp!==!1).each(function(){It.layer.selectAll("path").sort(function(ur,nr){return X(ur.id,nr.id)})}),ir.attr("transform",It.transFn).attr("d",It.path).call(r.stroke,Ye.zerolinecolor||r.defaultLine).style("stroke-width",l.crispRound(Ze,Ye.zerolinewidth,Ye._gw||1)+"px").style("display",null),Qt(Ye,[_])},K.drawLabels=function(Ze,Ye,It){It=It||{};var kt=Ze._fullLayout,Xt=Ye._id,ir=Xt.charAt(0),ur=It.cls||Xt+"tick",nr=It.vals.filter(function(br){return br.text}),Nt=It.labelFns,hr=It.secondary?0:Ye.tickangle,pr=(Ye._prevTickAngles||{})[ur],gr=It.layer.selectAll("g."+ur).data(Ye.showticklabels?nr:[],Et),dr=[];gr.enter().append("g").classed(ur,1).append("text").attr("text-anchor","middle").each(function(br){var wr=p.select(this),Nr=Ze._promises.length;wr.call(g.positionText,Nt.xFn(br),Nt.yFn(br)).call(l.font,br.font,br.fontSize,br.fontColor).text(br.text).call(g.convertToTspans,Ze),Ze._promises[Nr]?dr.push(Ze._promises.pop().then(function(){Xr(wr,hr)})):Xr(wr,hr)}),Qt(Ye,[O]),gr.exit().remove(),It.repositionOnUpdate&&gr.each(function(br){p.select(this).select("text").call(g.positionText,Nt.xFn(br),Nt.yFn(br))});function Xr(br,wr){br.each(function(Nr){var Vr=p.select(this),tn=Vr.select(".text-math-group"),gn=Nt.anchorFn(Nr,wr),hn=It.transFn.call(Vr.node(),Nr)+(L(wr)&&+wr!=0?" rotate("+wr+","+Nt.xFn(Nr)+","+(Nt.yFn(Nr)-Nr.fontSize/2)+")":""),Sn=g.lineCount(Vr),In=J*Nr.fontSize,Jn=Nt.heightFn(Nr,L(wr)?+wr:0,(Sn-1)*In);if(Jn&&(hn+=h(0,Jn)),tn.empty()){var ra=Vr.select("text");ra.attr({transform:hn,"text-anchor":gn}),ra.style("opacity",1),Ye._adjustTickLabelsOverflow&&Ye._adjustTickLabelsOverflow()}else{var ca=l.bBox(tn.node()).width,aa=ca*{end:-.5,start:.5}[gn];tn.attr("transform",hn+h(aa,0))}})}Ye._adjustTickLabelsOverflow=function(){var br=Ye.ticklabeloverflow;if(!(!br||br==="allow")){var wr=br.indexOf("hide")!==-1,Nr=Ye._id.charAt(0)==="x",Vr=0,tn=Nr?Ze._fullLayout.width:Ze._fullLayout.height;if(br.indexOf("domain")!==-1){var gn=y.simpleMap(Ye.range,Ye.r2l);Vr=Ye.l2p(gn[0])+Ye._offset,tn=Ye.l2p(gn[1])+Ye._offset}var hn=Math.min(Vr,tn),Sn=Math.max(Vr,tn),In=Ye.side,Jn=1/0,ra=-1/0;gr.each(function(Cr){var ln=p.select(this),on=ln.select(".text-math-group");if(on.empty()){var yn=l.bBox(ln.node()),Hn=0;Nr?(yn.right>Sn||yn.left<hn)&&(Hn=1):(yn.bottom>Sn||yn.top+(Ye.tickangle?0:Cr.fontSize/4)<hn)&&(Hn=1);var Ln=ln.select("text");Hn?wr&&Ln.style("opacity",0):(Ln.style("opacity",1),In==="bottom"||In==="right"?Jn=Math.min(Jn,Nr?yn.top:yn.left):Jn=-1/0,In==="top"||In==="left"?ra=Math.max(ra,Nr?yn.bottom:yn.right):ra=1/0)}});for(var ca in kt._plots){var aa=kt._plots[ca];if(!(Ye._id!==aa.xaxis._id&&Ye._id!==aa.yaxis._id)){var na=Nr?aa.yaxis:aa.xaxis;na&&(na["_visibleLabelMin_"+Ye._id]=Jn,na["_visibleLabelMax_"+Ye._id]=ra)}}}},Ye._hideCounterAxisInsideTickLabels=function(br){var wr=Ye._id.charAt(0)==="x",Nr=[];for(var Vr in kt._plots){var tn=kt._plots[Vr];Ye._id!==tn.xaxis._id&&Ye._id!==tn.yaxis._id||Nr.push(wr?tn.yaxis:tn.xaxis)}Nr.forEach(function(gn,hn){gn&&qt(gn)&&(br||[_,z,H,N,O]).forEach(function(Sn){var In=Sn.K==="tick"&&Sn.L==="text"&&Ye.ticklabelmode==="period",Jn=kt._plots[Ye._mainSubplot],ra;Sn.K===_.K?ra=Jn.zerolinelayer.selectAll("."+Ye._id+"zl"):Sn.K===z.K?ra=Jn.minorGridlayer.selectAll("."+Ye._id):Sn.K===H.K?ra=Jn.gridlayer.selectAll("."+Ye._id):ra=Jn[Ye._id.charAt(0)+"axislayer"],ra.each(function(){var ca=p.select(this);Sn.L&&(ca=ca.selectAll(Sn.L)),ca.each(function(aa){var na=Ye.l2p(In?Ut(aa):aa.x)+Ye._offset,Cr=p.select(this);na<Ye["_visibleLabelMax_"+gn._id]&&na>Ye["_visibleLabelMin_"+gn._id]?Cr.style("display","none"):Sn.K==="tick"&&!hn&&Cr.style("display",null)})})})})},Xr(gr,pr+1?pr:hr);function Br(){return dr.length&&Promise.all(dr)}var Or=null;function mn(){if(Xr(gr,hr),nr.length&&ir==="x"&&!L(hr)&&(Ye.type!=="log"||String(Ye.dtick).charAt(0)!=="D")){Or=0;var br=0,wr=[],Nr;if(gr.each(function(yn){br=Math.max(br,yn.fontSize);var Hn=Ye.l2p(yn.x),Ln=Ar(this),Pn=l.bBox(Ln.node());wr.push({top:0,bottom:10,height:10,left:Hn-Pn.width/2,right:Hn+Pn.width/2+2,width:Pn.width+2})}),(Ye.tickson==="boundaries"||Ye.showdividers)&&!It.secondary){var Vr=2;for(Ye.ticks&&(Vr+=Ye.tickwidth/2),Nr=0;Nr<wr.length;Nr++){var tn=nr[Nr].xbnd,gn=wr[Nr];if(tn[0]!==null&&gn.left-Ye.l2p(tn[0])<Vr||tn[1]!==null&&Ye.l2p(tn[1])-gn.right<Vr){Or=90;break}}}else{var hn=nr.length,Sn=Math.abs((nr[hn-1].x-nr[0].x)*Ye._m)/(hn-1),In=Ye.ticklabelposition||"",Jn=function(yn){return In.indexOf(yn)!==-1},ra=Jn("top"),ca=Jn("left"),aa=Jn("right"),na=Jn("bottom"),Cr=na||ca||ra||aa,ln=Cr?(Ye.tickwidth||0)+2*fe:0,on=Sn<br*2.5||Ye.type==="multicategory"||Ye._name==="realaxis";for(Nr=0;Nr<wr.length-1;Nr++)if(y.bBoxIntersect(wr[Nr],wr[Nr+1],ln)){Or=on?90:30;break}}Or&&Xr(gr,Or)}}Ye._selections&&(Ye._selections[ur]=gr);var Jr=[Br];Ye.automargin&&kt._redrawFromAutoMarginCount&&pr===90?(Or=90,Jr.push(function(){Xr(gr,pr)})):Jr.push(mn),Ye._tickAngles&&Jr.push(function(){Ye._tickAngles[ur]=Or===null?L(hr)?hr:0:Or});var _n=Ye._anchorAxis;_n&&_n.autorange&&qt(Ye)&&!re(kt,Ye._id)&&(kt._insideTickLabelsAutorange||(kt._insideTickLabelsAutorange={}),kt._insideTickLabelsAutorange[_n._name+".autorange"]=_n.autorange,Jr.push(function(){gr.each(function(wr,Nr){var Vr=Ar(this),tn=Vr.select(".text-math-group");tn.empty()&&(Ye._vals[Nr].bb=l.bBox(Vr.node()))})}));var kn=y.syncOrAsync(Jr);return kn&&kn.then&&Ze._promises.push(kn),kn};function $t(Ze,Ye,It){var kt=Ye._id+"divider",Xt=It.vals,ir=It.layer.selectAll("path."+kt).data(Xt,Et);ir.exit().remove(),ir.enter().insert("path",":first-child").classed(kt,1).classed("crisp",1).call(r.stroke,Ye.dividercolor).style("stroke-width",l.crispRound(Ze,Ye.dividerwidth,1)+"px"),ir.attr("transform",It.transFn).attr("d",It.path)}K.getPxPosition=function(Ze,Ye){var It=Ze._fullLayout._size,kt=Ye._id.charAt(0),Xt=Ye.side,ir;if(Ye.anchor!=="free"?ir=Ye._anchorAxis:kt==="x"?ir={_offset:It.t+(1-(Ye.position||0))*It.h,_length:0}:kt==="y"&&(ir={_offset:It.l+(Ye.position||0)*It.w+Ye._shift,_length:0}),Xt==="top"||Xt==="left")return ir._offset;if(Xt==="bottom"||Xt==="right")return ir._offset+ir._length};function lr(Ze){var Ye=Ze.title.font.size,It=(Ze.title.text.match(g.BR_TAG_ALL)||[]).length;return Ze.title.hasOwnProperty("standoff")?It?Ye*(q+It*J):Ye*q:It?Ye*(It+1)*J:Ye}function Fr(Ze,Ye){var It=Ze._fullLayout,kt=Ye._id,Xt=kt.charAt(0),ir=Ye.title.font.size,ur;if(Ye.title.hasOwnProperty("standoff"))ur=Ye._depth+Ye.title.standoff+lr(Ye);else{var nr=qt(Ye);if(Ye.type==="multicategory")ur=Ye._depth;else{var Nt=1.5*ir;nr&&(Nt=.5*ir,Ye.ticks==="outside"&&(Nt+=Ye.ticklen)),ur=10+Nt+(Ye.linewidth?Ye.linewidth-1:0)}nr||(Xt==="x"?ur+=Ye.side==="top"?ir*(Ye.showticklabels?1:0):ir*(Ye.showticklabels?1.5:.5):ur+=Ye.side==="right"?ir*(Ye.showticklabels?1:.5):ir*(Ye.showticklabels?.5:0))}var hr=K.getPxPosition(Ze,Ye),pr,gr,dr;Xt==="x"?(gr=Ye._offset+Ye._length/2,dr=Ye.side==="top"?hr-ur:hr+ur):(dr=Ye._offset+Ye._length/2,gr=Ye.side==="right"?hr+ur:hr-ur,pr={rotate:"-90",offset:0});var Xr;if(Ye.type!=="multicategory"){var Br=Ye._selections[Ye._id+"tick"];if(Xr={selection:Br,side:Ye.side},Br&&Br.node()&&Br.node().parentNode){var Or=l.getTranslate(Br.node().parentNode);Xr.offsetLeft=Or.x,Xr.offsetTop=Or.y}Ye.title.hasOwnProperty("standoff")&&(Xr.pad=0)}return Ye._titleStandoff=ur,t.draw(Ze,kt+"title",{propContainer:Ye,propName:Ye._name+".title.text",placeholder:It._dfltTitle[Xt],avoid:Xr,transform:pr,attributes:{x:gr,y:dr,"text-anchor":"middle"}})}K.shouldShowZeroLine=function(Ze,Ye,It){var kt=y.simpleMap(Ye.range,Ye.r2l);return kt[0]*kt[1]<=0&&Ye.zeroline&&(Ye.type==="linear"||Ye.type==="-")&&!(Ye.rangebreaks&&Ye.maskBreaks(0)===k)&&(yt(Ye,0)||!Kt(Ze,Ye,It,kt)||Zt(Ze,Ye))},K.clipEnds=function(Ze,Ye){return Ye.filter(function(It){return yt(Ze,It.x)})};function yt(Ze,Ye){var It=Ze.l2p(Ye);return It>1&&It<Ze._length-1}function Kt(Ze,Ye,It,kt){var Xt=It._mainAxis;if(!Xt)return;var ir=Ze._fullLayout,ur=Ye._id.charAt(0),nr=K.counterLetter(Ye._id),Nt=Ye._offset+(Math.abs(kt[0])<Math.abs(kt[1])==(ur==="x")?0:Ye._length);function hr(Br){if(!Br.showline||!Br.linewidth)return!1;var Or=Math.max((Br.linewidth+Ye.zerolinewidth)/2,1);function mn(kn){return typeof kn=="number"&&Math.abs(kn-Nt)<Or}if(mn(Br._mainLinePosition)||mn(Br._mainMirrorPosition))return!0;var Jr=Br._linepositions||{};for(var _n in Jr)if(mn(Jr[_n][0])||mn(Jr[_n][1]))return!0}var pr=ir._plots[It._mainSubplot];if(!(pr.mainplotinfo||pr).overlays.length)return hr(It);for(var gr=K.list(Ze,nr),dr=0;dr<gr.length;dr++){var Xr=gr[dr];if(Xr._mainAxis===Xt&&hr(Xr))return!0}}function Zt(Ze,Ye){for(var It=Ze._fullData,kt=Ye._mainSubplot,Xt=Ye._id.charAt(0),ir=0;ir<It.length;ir++){var ur=It[ir];if(ur.visible===!0&&ur.xaxis+ur.yaxis===kt&&(C.traceIs(ur,"bar-like")&&ur.orientation==={x:"h",y:"v"}[Xt]||ur.fill&&ur.fill.charAt(ur.fill.length-1)===Xt))return!0}return!1}function Ar(Ze){var Ye=p.select(Ze),It=Ye.select(".text-math-group");return It.empty()?Ye.select("text"):It}K.allowAutoMargin=function(Ze){for(var Ye=K.list(Ze,"",!0),It=0;It<Ye.length;It++){var kt=Ye[It];kt.automargin&&(n.allowAutoMargin(Ze,vr(kt)),kt.mirror&&n.allowAutoMargin(Ze,ut(kt))),C.getComponentMethod("rangeslider","isVisible")(kt)&&n.allowAutoMargin(Ze,lt(kt))}};function vr(Ze){return Ze._id+".automargin"}function ut(Ze){return vr(Ze)+".mirror"}function lt(Ze){return Ze._id+".rangeslider"}K.swap=function(Ze,Ye){for(var It=xt(Ze,Ye),kt=0;kt<It.length;kt++)Ct(Ze,It[kt].x,It[kt].y)};function xt(Ze,Ye){var It=[],kt,Xt;for(kt=0;kt<Ye.length;kt++){var ir=[],ur=Ze._fullData[Ye[kt]].xaxis,nr=Ze._fullData[Ye[kt]].yaxis;if(!(!ur||!nr)){for(Xt=0;Xt<It.length;Xt++)(It[Xt].x.indexOf(ur)!==-1||It[Xt].y.indexOf(nr)!==-1)&&ir.push(Xt);if(!ir.length){It.push({x:[ur],y:[nr]});continue}var Nt=It[ir[0]],hr;if(ir.length>1)for(Xt=1;Xt<ir.length;Xt++)hr=It[ir[Xt]],Tt(Nt.x,hr.x),Tt(Nt.y,hr.y);Tt(Nt.x,[ur]),Tt(Nt.y,[nr])}}return It}function Tt(Ze,Ye){for(var It=0;It<Ye.length;It++)Ze.indexOf(Ye[It])===-1&&Ze.push(Ye[It])}function Ct(Ze,Ye,It){var kt=[],Xt=[],ir=Ze.layout,ur,nr;for(ur=0;ur<Ye.length;ur++)kt.push(K.getFromId(Ze,Ye[ur]));for(ur=0;ur<It.length;ur++)Xt.push(K.getFromId(Ze,It[ur]));var Nt=Object.keys(a),hr=["anchor","domain","overlaying","position","side","tickangle","editType"],pr=["linear","log"];for(ur=0;ur<Nt.length;ur++){var gr=Nt[ur],dr=kt[0][gr],Xr=Xt[0][gr],Br=!0,Or=!1,mn=!1;if(!(gr.charAt(0)==="_"||typeof dr=="function"||hr.indexOf(gr)!==-1)){for(nr=1;nr<kt.length&&Br;nr++){var Jr=kt[nr][gr];gr==="type"&&pr.indexOf(dr)!==-1&&pr.indexOf(Jr)!==-1&&dr!==Jr?Or=!0:Jr!==dr&&(Br=!1)}for(nr=1;nr<Xt.length&&Br;nr++){var _n=Xt[nr][gr];gr==="type"&&pr.indexOf(Xr)!==-1&&pr.indexOf(_n)!==-1&&Xr!==_n?mn=!0:Xt[nr][gr]!==Xr&&(Br=!1)}Br&&(Or&&(ir[kt[0]._name].type="linear"),mn&&(ir[Xt[0]._name].type="linear"),At(ir,gr,kt,Xt,Ze._fullLayout._dfltTitle))}}for(ur=0;ur<Ze._fullLayout.annotations.length;ur++){var kn=Ze._fullLayout.annotations[ur];Ye.indexOf(kn.xref)!==-1&&It.indexOf(kn.yref)!==-1&&y.swapAttrs(ir.annotations[ur],["?"])}}function At(Ze,Ye,It,kt,Xt){var ir=y.nestedProperty,ur=ir(Ze[It[0]._name],Ye).get(),nr=ir(Ze[kt[0]._name],Ye).get(),Nt;for(Ye==="title"&&(ur&&ur.text===Xt.x&&(ur.text=Xt.y),nr&&nr.text===Xt.y&&(nr.text=Xt.x)),Nt=0;Nt<It.length;Nt++)ir(Ze,It[Nt]._name+"."+Ye).set(nr);for(Nt=0;Nt<kt.length;Nt++)ir(Ze,kt[Nt]._name+"."+Ye).set(ur)}function zt(Ze){return Ze._id==="angularaxis"}function Ht(Ze,Ye){for(var It=Ye._rangebreaks.length,kt=0;kt<It;kt++){var Xt=Ye._rangebreaks[kt];if(Ze>=Xt.min&&Ze<Xt.max)return Xt.max}return Ze}function qt(Ze){return(Ze.ticklabelposition||"").indexOf("inside")!==-1}function Qt(Ze,Ye){qt(Ze._anchorAxis||{})&&Ze._hideCounterAxisInsideTickLabels&&Ze._hideCounterAxisInsideTickLabels(Ye)}function or(Ze,Ye,It,kt){var Xt=Ze.anchor!=="free"&&(Ze.overlaying===void 0||Ze.overlaying===!1)?Ze._id:Ze.overlaying,ir;kt?ir=Ze.side==="right"?Ye:-Ye:ir=Ye,Xt in It||(It[Xt]={}),Ze.side in It[Xt]||(It[Xt][Ze.side]=0),It[Xt][Ze.side]+=ir}function Lr(Ze,Ye){return Ze.autoshift?Ye[Ze.overlaying][Ze.side]:Ze.shift||0}},4322:function(V,B,e){var p=e(92770),L=e(71828),n=e(50606).BADNUM,C=L.isArrayOrTypedArray,y=L.isDateTime,h=L.cleanNumber,g=Math.round;V.exports=function(b,f,w){var v=b,o=w.noMultiCategory;if(C(v)&&!v.length)return"-";if(!o&&c(v))return"multicategory";if(o&&Array.isArray(v[0])){for(var d=[],S=0;S<v.length;S++)if(C(v[S]))for(var M=0;M<v[S].length;M++)d.push(v[S][M]);v=d}if(l(v,f))return"date";var P=w.autotypenumbers!=="strict";return s(v,P)?"category":r(v,P)?"linear":"-"};function t(u,b){return b?p(u):typeof u=="number"}function r(u,b){for(var f=u.length,w=0;w<f;w++)if(t(u[w],b))return!0;return!1}function l(u,b){for(var f=u.length,w=a(f),v=0,o=0,d={},S=0;S<f;S+=w){var M=g(S),P=u[M],x=String(P);d[x]||(d[x]=1,y(P,b)&&v++,p(P)&&o++)}return v>o*2}function a(u){return Math.max(1,(u-1)/1e3)}function s(u,b){for(var f=u.length,w=a(f),v=0,o=0,d={},S=0;S<f;S+=w){var M=g(S),P=u[M],x=String(P);if(!d[x]){d[x]=1;var E=typeof P;E==="boolean"?o++:(b?h(P)!==n:E==="number")?v++:E==="string"&&o++}}return o>v*2}function c(u){return C(u[0])&&C(u[1])}},71453:function(V,B,e){var p=e(92770),L=e(73972),n=e(71828),C=e(44467),y=e(85501),h=e(13838),g=e(26218),t=e(38701),r=e(96115),l=e(89426),a=e(15258),s=e(92128),c=e(21994),u=e(85555).WEEKDAY_PATTERN,b=e(85555).HOUR_PATTERN;V.exports=function(d,S,M,P,x){var E=P.letter,T=P.font||{},i=P.splomStash||{},R=M("visible",!P.visibleDflt),A=S._template||{},k=S.type||A.type||"-",_;if(k==="date"){var H=L.getComponentMethod("calendars","handleDefaults");H(d,S,"calendar",P.calendar),P.noTicklabelmode||(_=M("ticklabelmode"))}var z="";(!P.noTicklabelposition||k==="multicategory")&&(z=n.coerce(d,S,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:_==="period"?["outside","inside"]:E==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),P.noTicklabeloverflow||M("ticklabeloverflow",z.indexOf("inside")!==-1?"hide past domain":k==="category"||k==="multicategory"?"allow":"hide past div"),c(S,x);var N=!S.isValidRange(d.range);N&&P.reverseDflt&&(N="reversed");var O=M("autorange",N);O&&(k==="linear"||k==="-")&&M("rangemode"),M("range"),S.cleanRange(),a(d,S,M,P),k!=="category"&&!P.noHover&&M("hoverformat");var F=M("color"),U=F!==h.color.dflt?F:T.color,Z=i.label||x._dfltTitle[E];if(l(d,S,M,k,P),!R)return S;M("title.text",Z),n.coerceFont(M,"title.font",{family:T.family,size:n.bigFont(T.size),color:U}),g(d,S,M,k);var q=P.hasMinor;if(q&&(C.newContainer(S,"minor"),g(d,S,M,k,{isMinor:!0})),r(d,S,M,k,P),t(d,S,M,P),q){var J=P.isMinor;P.isMinor=!0,t(d,S,M,P),P.isMinor=J}s(d,S,M,{dfltColor:F,bgColor:P.bgColor,showGrid:P.showGrid,hasMinor:q,attributes:h}),q&&!S.minor.ticks&&!S.minor.showgrid&&delete S.minor,(S.showline||S.ticks)&&M("mirror");var te=k==="multicategory";if(!P.noTickson&&(k==="category"||te)&&(S.ticks||S.showgrid)){var fe;te&&(fe="boundaries");var K=M("tickson",fe);K==="boundaries"&&delete S.ticklabelposition}if(te){var Y=M("showdividers");Y&&(M("dividercolor"),M("dividerwidth"))}if(k==="date")if(y(d,S,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:f}),!S.rangebreaks.length)delete S.rangebreaks;else{for(var W=0;W<S.rangebreaks.length;W++)if(S.rangebreaks[W].pattern===u){S._hasDayOfWeekBreaks=!0;break}if(c(S,x),x._has("scattergl")||x._has("splom"))for(var X=0;X<P.data.length;X++){var re=P.data[X];(re.type==="scattergl"||re.type==="splom")&&(re.visible=!1,n.warn(re.type+" traces do not work on axes with rangebreaks. Setting trace "+re.index+" to `visible: false`."))}}return S};function f(o,d,S){function M(_,H){return n.coerce(o,d,h.rangebreaks,_,H)}var P=M("enabled");if(P){var x=M("bounds");if(x&&x.length>=2){var E="",T,i;if(x.length===2){for(T=0;T<2;T++)if(i=v(x[T]),i){E=u;break}}var R=M("pattern",E);if(R===u)for(T=0;T<2;T++)i=v(x[T]),i&&(d.bounds[T]=x[T]=i-1);if(R)for(T=0;T<2;T++)switch(i=x[T],R){case u:if(!p(i)){d.enabled=!1;return}if(i=+i,i!==Math.floor(i)||i<0||i>=7){d.enabled=!1;return}d.bounds[T]=x[T]=i;break;case b:if(!p(i)){d.enabled=!1;return}if(i=+i,i<0||i>24){d.enabled=!1;return}d.bounds[T]=x[T]=i;break}if(S.autorange===!1){var A=S.range;if(A[0]<A[1]){if(x[0]<A[0]&&x[1]>A[1]){d.enabled=!1;return}}else if(x[0]>A[0]&&x[1]<A[1]){d.enabled=!1;return}}}else{var k=M("values");if(k&&k.length)M("dvalue");else{d.enabled=!1;return}}}}var w={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function v(o){if(typeof o=="string")return w[o.substr(0,3).toLowerCase()]}},12663:function(V,B,e){var p=e(31562),L=p.FORMAT_LINK,n=p.DATE_FORMAT_LINK;function C(g,t){return{valType:"string",dflt:"",editType:"none",description:(t?y:h)("hover text",g)+["By default the values are formatted using "+(t?"generic number format":"`"+g+"axis.hoverformat`")+"."].join(" ")}}function y(g,t){return["Sets the "+g+" formatting rule"+(t?"for `"+t+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+L+"."].join(" ")}function h(g,t){return y(g,t)+[" And for dates see: "+n+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}V.exports={axisHoverFormat:C,descriptionOnlyNumbers:y,descriptionWithDates:h}},41675:function(V,B,e){var p=e(73972),L=e(85555);B.id2name=function(y){if(!(typeof y!="string"||!y.match(L.AX_ID_PATTERN))){var h=y.split(" ")[0].substr(1);return h==="1"&&(h=""),y.charAt(0)+"axis"+h}},B.name2id=function(y){if(y.match(L.AX_NAME_PATTERN)){var h=y.substr(5);return h==="1"&&(h=""),y.charAt(0)+h}},B.cleanId=function(y,h,g){var t=/( domain)$/.test(y);if(!(typeof y!="string"||!y.match(L.AX_ID_PATTERN))&&!(h&&y.charAt(0)!==h)&&!(t&&!g)){var r=y.split(" ")[0].substr(1).replace(/^0+/,"");return r==="1"&&(r=""),y.charAt(0)+r+(t&&g?" domain":"")}},B.list=function(C,y,h){var g=C._fullLayout;if(!g)return[];var t=B.listIds(C,y),r=new Array(t.length),l;for(l=0;l<t.length;l++){var a=t[l];r[l]=g[a.charAt(0)+"axis"+a.substr(1)]}if(!h){var s=g._subplots.gl3d||[];for(l=0;l<s.length;l++){var c=g[s[l]];y?r.push(c[y+"axis"]):r.push(c.xaxis,c.yaxis,c.zaxis)}}return r},B.listIds=function(C,y){var h=C._fullLayout;if(!h)return[];var g=h._subplots;return y?g[y+"axis"]:g.xaxis.concat(g.yaxis)},B.getFromId=function(C,y,h){var g=C._fullLayout;return y=y===void 0||typeof y!="string"?y:y.replace(" domain",""),h==="x"?y=y.replace(/y[0-9]*/,""):h==="y"&&(y=y.replace(/x[0-9]*/,"")),g[B.id2name(y)]},B.getFromTrace=function(C,y,h){var g=C._fullLayout,t=null;if(p.traceIs(y,"gl3d")){var r=y.scene;r.substr(0,5)==="scene"&&(t=g[r][h+"axis"])}else t=B.getFromId(C,y[h+"axis"]||h);return t},B.idSort=function(C,y){var h=C.charAt(0),g=y.charAt(0);return h!==g?h>g?1:-1:+(C.substr(1)||1)-+(y.substr(1)||1)},B.ref2id=function(C){return/^[xyz]/.test(C)?C.split(" ")[0]:!1};function n(C,y){if(y&&y.length){for(var h=0;h<y.length;h++)if(y[h][C])return!0}return!1}B.isLinked=function(C,y){return n(y,C._axisMatchGroups)||n(y,C._axisConstraintGroups)}},15258:function(V){function B(e,p){var L=p.dataAttr||e._id.charAt(0),n={},C,y,h;if(p.axData)C=p.axData;else for(C=[],y=0;y<p.data.length;y++){var g=p.data[y];g[L+"axis"]===e._id&&C.push(g)}for(y=0;y<C.length;y++){var t=C[y][L];for(h=0;h<t.length;h++){var r=t[h];r!=null&&(n[r]=1)}}return Object.keys(n)}V.exports=function(p,L,n,C){if(L.type==="category"){var y=p.categoryarray,h=Array.isArray(y)&&y.length>0,g;h&&(g="array");var t=n("categoryorder",g),r;t==="array"&&(r=n("categoryarray")),!h&&t==="array"&&(t=L.categoryorder="trace"),t==="trace"?L._initialCategories=[]:t==="array"?L._initialCategories=r.slice():(r=B(L,C).sort(),t==="category ascending"?L._initialCategories=r:t==="category descending"&&(L._initialCategories=r.reverse()))}}},66287:function(V,B,e){var p=e(92770),L=e(71828),n=e(50606),C=n.ONEDAY,y=n.ONEWEEK;B.dtick=function(h,g){var t=g==="log",r=g==="date",l=g==="category",a=r?C:1;if(!h)return a;if(p(h))return h=Number(h),h<=0?a:l?Math.max(1,Math.round(h)):r?Math.max(.1,h):h;if(typeof h!="string"||!(r||t))return a;var s=h.charAt(0),c=h.substr(1);return c=p(c)?Number(c):0,c<=0||!(r&&s==="M"&&c===Math.round(c)||t&&s==="L"||t&&s==="D"&&(c===1||c===2))?a:h},B.tick0=function(h,g,t,r){if(g==="date")return L.cleanDate(h,L.dateTick0(t,r%y===0?1:0));if(!(r==="D1"||r==="D2"))return p(h)?Number(h):0}},85555:function(V,B,e){var p=e(30587).counter;V.exports={idRegex:{x:p("x","( domain)?"),y:p("y","( domain)?")},attrRegex:p("[xy]axis"),xAxisMatch:p("xaxis"),yAxisMatch:p("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(V,B,e){var p=e(71828),L=e(71739),n=e(41675).id2name,C=e(13838),y=e(42449),h=e(21994),g=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;B.handleDefaults=function(f,w,v){var o=v.axIds,d=v.axHasImage,S=w._axisConstraintGroups=[],M=w._axisMatchGroups=[],P,x,E,T,i,R,A,k;for(P=0;P<o.length;P++)T=n(o[P]),i=f[T],R=w[T],r(i,R,{axIds:o,layoutOut:w,hasImage:d[T]});function _(J,te){for(P=0;P<J.length;P++){x=J[P];for(E in x)w[n(E)][te]=x}}for(_(M,"_matchGroup"),P=0;P<S.length;P++){x=S[P];for(E in x)if(R=w[n(E)],R.fixedrange){for(var H in x){var z=n(H);(f[z]||{}).fixedrange===!1&&p.warn("fixedrange was specified as false for axis "+z+" but was overridden because another axis in its constraint group has fixedrange true"),w[z].fixedrange=!0}break}}for(P=0;P<S.length;){x=S[P];for(E in x){R=w[n(E)],R._matchGroup&&Object.keys(R._matchGroup).length===Object.keys(x).length&&(S.splice(P,1),P--);break}P++}_(S,"_constraintGroup");var N=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],O=!1,F=!1;function U(){k=R[A],A==="rangebreaks"&&(F=R._hasDayOfWeekBreaks)}for(P=0;P<M.length;P++){x=M[P];for(var Z=0;Z<N.length;Z++){A=N[Z],k=null;var q;for(E in x)if(T=n(E),i=f[T],R=w[T],A in R){if(!R.matches&&(q=R,A in i)){U();break}k===null&&A in i&&U()}if(A==="range"&&k&&(O=!0),A==="autorange"&&k===null&&O&&(k=!1),k===null&&A in q&&(k=q[A]),k!==null)for(E in x)R=w[n(E)],R[A]=A==="range"?k.slice():k,A==="rangebreaks"&&(R._hasDayOfWeekBreaks=F,h(R,w))}}};function r(f,w,v){var o=v.axIds,d=v.layoutOut,S=v.hasImage,M=d._axisConstraintGroups,P=d._axisMatchGroups,x=w._id,E=x.charAt(0),T=((d._splomAxes||{})[E]||{})[x]||{},i=w._id,R=i.charAt(0)==="x";w._matchGroup=null,w._constraintGroup=null;function A(Y,W){return p.coerce(f,w,C,Y,W)}A("constrain",S?"domain":"range"),p.coerce(f,w,{constraintoward:{valType:"enumerated",values:R?["left","center","right"]:["bottom","middle","top"],dflt:R?"center":"middle"}},"constraintoward");var k=w.type,_,H,z=[];for(_=0;_<o.length;_++)if(H=o[_],H!==i){var N=d[n(H)];N.type===k&&z.push(H)}var O=a(M,i);if(O){var F=[];for(_=0;_<z.length;_++)H=z[_],O[H]||F.push(H);z=F}var U=z.length,Z,q;U&&(f.matches||T.matches)&&(Z=p.coerce(f,w,{matches:{valType:"enumerated",values:z,dflt:z.indexOf(T.matches)!==-1?T.matches:void 0}},"matches"));var J=S&&!R?w.anchor:void 0;if(U&&!Z&&(f.scaleanchor||J)&&(q=p.coerce(f,w,{scaleanchor:{valType:"enumerated",values:z}},"scaleanchor",J)),Z){w._matchGroup=s(P,i,Z,1);var te=d[n(Z)],fe=l(d,w)/l(d,te);R!==(Z.charAt(0)==="x")&&(fe=(R?"x":"y")+fe),s(M,i,Z,fe)}else f.matches&&o.indexOf(f.matches)!==-1&&p.warn("ignored "+w._name+'.matches: "'+f.matches+'" to avoid an infinite loop');if(q){var K=A("scaleratio");K||(K=w.scaleratio=1),s(M,i,q,K)}else f.scaleanchor&&o.indexOf(f.scaleanchor)!==-1&&p.warn("ignored "+w._name+'.scaleanchor: "'+f.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function l(f,w){var v=w.domain;return v||(v=f[n(w.overlaying)].domain),v[1]-v[0]}function a(f,w){for(var v=0;v<f.length;v++)if(f[v][w])return f[v];return null}function s(f,w,v,o){var d,S,M,P,x,E=a(f,w);E===null?(E={},E[w]=1,x=f.length,f.push(E)):x=f.indexOf(E);var T=Object.keys(E);for(d=0;d<f.length;d++)if(M=f[d],d!==x&&M[v]){var i=M[v];for(S=0;S<T.length;S++)P=T[S],M[P]=c(i,c(o,E[P]));f.splice(x,1);return}if(o!==1)for(S=0;S<T.length;S++){var R=T[S];E[R]=c(o,E[R])}E[v]=1}function c(f,w){var v="",o="",d,S;typeof f=="string"&&(v=f.match(/^[xy]*/)[0],d=v.length,f=+f.substr(d)),typeof w=="string"&&(o=w.match(/^[xy]*/)[0],S=o.length,w=+w.substr(S));var M=f*w;return!d&&!S?M:!d||!S||v.charAt(0)===o.charAt(0)?v+o+f*w:d===S?M:(d>S?v.substr(S):o.substr(d))+M}function u(f,w){for(var v=w._size,o=v.h/v.w,d={},S=Object.keys(f),M=0;M<S.length;M++){var P=S[M],x=f[P];if(typeof x=="string"){var E=x.match(/^[xy]*/)[0],T=E.length;x=+x.substr(T);for(var i=E.charAt(0)==="y"?o:1/o,R=0;R<T;R++)x*=i}d[P]=x}return d}B.enforce=function(w){var v=w._fullLayout,o=v._axisConstraintGroups||[],d,S,M,P,x,E,T,i;for(d=0;d<o.length;d++){M=u(o[d],v);var R=Object.keys(M),A=1/0,k=0,_=1/0,H={},z={},N=!1;for(S=0;S<R.length;S++)P=R[S],z[P]=x=v[n(P)],x._inputDomain?x.domain=x._inputDomain.slice():x._inputDomain=x.domain.slice(),x._inputRange||(x._inputRange=x.range.slice()),x.setScale(),H[P]=E=Math.abs(x._m)/M[P],A=Math.min(A,E),(x.constrain==="domain"||!x._constraintShrinkable)&&(_=Math.min(_,E)),delete x._constraintShrinkable,k=Math.max(k,E),x.constrain==="domain"&&(N=!0);if(!(A>g*k&&!N)){for(S=0;S<R.length;S++)if(P=R[S],E=H[P],x=z[P],T=x.constrain,E!==_||T==="domain")if(i=E/_,T==="range")y(x,i);else{var O=x._inputDomain,F=(x.domain[1]-x.domain[0])/(O[1]-O[0]),U=(x.r2l(x.range[1])-x.r2l(x.range[0]))/(x.r2l(x._inputRange[1])-x.r2l(x._inputRange[0]));if(i/=F,i*U<1){x.domain=x._input.domain=O.slice(),y(x,i);continue}if(U<1&&(x.range=x._input.range=x._inputRange.slice(),i*=U),x.autorange){var Z=x.r2l(x.range[0]),q=x.r2l(x.range[1]),J=(Z+q)/2,te=J,fe=J,K=Math.abs(q-J),Y=J-K*i*1.0001,W=J+K*i*1.0001,X=L.makePadFn(v,x,0),re=L.makePadFn(v,x,1);b(x,i);var se=Math.abs(x._m),Q=L.concatExtremes(w,x),ee=Q.min,le=Q.max,oe,he;for(he=0;he<ee.length;he++)oe=ee[he].val-X(ee[he])/se,oe>Y&&oe<te&&(te=oe);for(he=0;he<le.length;he++)oe=le[he].val+re(le[he])/se,oe<W&&oe>fe&&(fe=oe);var xe=(fe-te)/(2*K);i/=xe,te=x.l2r(te),fe=x.l2r(fe),x.range=x._input.range=Z<q?[te,fe]:[fe,te]}b(x,i)}}}},B.getAxisGroup=function(w,v){for(var o=w._axisMatchGroups,d=0;d<o.length;d++){var S=o[d];if(S[v])return"g"+d}return v},B.clean=function(w,v){if(v._inputDomain){for(var o=!1,d=v._id,S=w._fullLayout._axisConstraintGroups,M=0;M<S.length;M++)if(S[M][d]){o=!0;break}(!o||v.constrain!=="domain")&&(v._input.domain=v.domain=v._inputDomain,delete v._inputDomain)}};function b(f,w){var v=f._inputDomain,o=t[f.constraintoward],d=v[0]+(v[1]-v[0])*o;f.domain=f._input.domain=[d+(v[0]-d)/w,d+(v[1]-d)/w],f.setScale()}},29323:function(V,B,e){var p=e(39898),L=e(71828),n=L.numberFormat,C=e(84267),y=e(38520),h=e(73972),g=L.strTranslate,t=e(63893),r=e(7901),l=e(91424),a=e(30211),s=e(89298),c=e(6964),u=e(28569),b=e(64505),f=b.selectingOrDrawing,w=b.freeMode,v=e(18783).FROM_TL,o=e(33306),d=e(61549).redrawReglTraces,S=e(74875),M=e(41675).getFromId,P=e(47322).prepSelect,x=e(47322).clearOutline,E=e(47322).selectOnClick,T=e(42449),i=e(85555),R=i.MINDRAG,A=i.MINZOOM,k=!0;function _(oe,he,xe,Ae,Se,Oe,Ve,Ee){var Te=oe._fullLayout._zoomlayer,Le=Ve+Ee==="nsew",Ge=(Ve+Ee).length===1,He,ke,We,nt,qe,Qe,tt,vt,dt,gt,Mt,Rt,Wt,je,_e,Fe,Be,De,we,ue,me,Re,Ne;xe+=he.yaxis._shift;function it(){if(He=he.xaxis,ke=he.yaxis,dt=He._length,gt=ke._length,tt=He._offset,vt=ke._offset,We={},We[He._id]=He,nt={},nt[ke._id]=ke,Ve&&Ee)for(var nr=he.overlays,Nt=0;Nt<nr.length;Nt++){var hr=nr[Nt].xaxis;We[hr._id]=hr;var pr=nr[Nt].yaxis;nt[pr._id]=pr}qe=le(We),Qe=le(nt),Wt=N(qe,Ee),je=N(Qe,Ve),_e=!je&&!Wt,Rt=Q(oe,oe._fullLayout._axisMatchGroups,We,nt),Mt=Q(oe,oe._fullLayout._axisConstraintGroups,We,nt,Rt);var gr=Mt.isSubplotConstrained||Rt.isSubplotConstrained;Fe=Ee||gr,Be=Ve||gr;var dr=oe._fullLayout;De=dr._has("scattergl"),we=dr._has("splom"),ue=dr._has("svg")}it();var ot=q(je+Wt,oe._fullLayout.dragmode,Le),wt=z(he,Ve+Ee+"drag",ot,xe,Ae,Se,Oe);if(_e&&!Le)return wt.onmousedown=null,wt.style.pointerEvents="none",wt;var Ft={element:wt,gd:oe,plotinfo:he};Ft.prepFn=function(nr,Nt,hr){var pr=Ft.dragmode,gr=oe._fullLayout.dragmode;gr!==pr&&(Ft.dragmode=gr),it(),Re=oe._fullLayout._invScaleX,Ne=oe._fullLayout._invScaleY,_e||(Le?nr.shiftKey?gr==="pan"?gr="zoom":f(gr)||(gr="pan"):nr.ctrlKey&&(gr="pan"):gr="pan"),w(gr)?Ft.minDrag=1:Ft.minDrag=void 0,f(gr)?(Ft.xaxes=qe,Ft.yaxes=Qe,P(nr,Nt,hr,Ft,gr)):(Ft.clickFn=Gt,f(pr)&&Ut(),_e||(gr==="zoom"?(Ft.moveFn=xt,Ft.doneFn=Ct,Ft.minDrag=1,lt(nr,Nt,hr)):gr==="pan"&&(Ft.moveFn=or,Ft.doneFn=It))),oe._fullLayout._redrag=function(){var dr=oe._dragdata;if(dr&&dr.element===wt){var Xr=oe._fullLayout.dragmode;f(Xr)||(it(),kt([0,0,dt,gt]),Ft.moveFn(dr.dx,dr.dy))}}};function Ut(){Ft.plotinfo.selection=!1,x(oe)}function Gt(nr,Nt){var hr=Ft.gd;if(hr._fullLayout._activeShapeIndex>=0){hr._fullLayout._deactivateShape(hr);return}var pr=hr._fullLayout.clickmode;if(Y(hr),nr===2&&!Ge&&Ye(),Le)pr.indexOf("select")>-1&&E(Nt,hr,qe,Qe,he.id,Ft),pr.indexOf("event")>-1&&a.click(hr,Nt,he.id);else if(nr===1&&Ge){var gr=Ve?ke:He,dr=Ve==="s"||Ee==="w"?0:1,Xr=gr._name+".range["+dr+"]",Br=O(gr,dr),Or="left",mn="middle";if(gr.fixedrange)return;Ve?(mn=Ve==="n"?"top":"bottom",gr.side==="right"&&(Or="right")):Ee==="e"&&(Or="right"),hr._context.showAxisRangeEntryBoxes&&p.select(wt).call(t.makeEditable,{gd:hr,immediate:!0,background:hr._fullLayout.paper_bgcolor,text:String(Br),fill:gr.tickfont?gr.tickfont.color:"#444",horizontalAlign:Or,verticalAlign:mn}).on("edit",function(Jr){var _n=gr.d2r(Jr);_n!==void 0&&h.call("_guiRelayout",hr,Xr,_n)})}}u.init(Ft);var Et,$t,lr,Fr,yt,Kt,Zt,Ar,vr,ut;function lt(nr,Nt,hr){var pr=wt.getBoundingClientRect();Et=Nt-pr.left,$t=hr-pr.top,oe._fullLayout._calcInverseTransform(oe);var gr=L.apply3DTransform(oe._fullLayout._invTransform)(Et,$t);Et=gr[0],$t=gr[1],lr={l:Et,r:Et,w:0,t:$t,b:$t,h:0},Fr=oe._hmpixcount?oe._hmlumcount/oe._hmpixcount:C(oe._fullLayout.plot_bgcolor).getLuminance(),yt="M0,0H"+dt+"V"+gt+"H0V0",Kt=!1,Zt="xy",ut=!1,Ar=J(Te,Fr,tt,vt,yt),vr=te(Te,tt,vt)}function xt(nr,Nt){if(oe._transitioningWithDuration)return!1;var hr=Math.max(0,Math.min(dt,Re*nr+Et)),pr=Math.max(0,Math.min(gt,Ne*Nt+$t)),gr=Math.abs(hr-Et),dr=Math.abs(pr-$t);lr.l=Math.min(Et,hr),lr.r=Math.max(Et,hr),lr.t=Math.min($t,pr),lr.b=Math.max($t,pr);function Xr(){Zt="",lr.r=lr.l,lr.t=lr.b,vr.attr("d","M0,0Z")}if(Mt.isSubplotConstrained)gr>A||dr>A?(Zt="xy",gr/dt>dr/gt?(dr=gr*gt/dt,$t>pr?lr.t=$t-dr:lr.b=$t+dr):(gr=dr*dt/gt,Et>hr?lr.l=Et-gr:lr.r=Et+gr),vr.attr("d",se(lr))):Xr();else if(Rt.isSubplotConstrained)if(gr>A||dr>A){Zt="xy";var Br=Math.min(lr.l/dt,(gt-lr.b)/gt),Or=Math.max(lr.r/dt,(gt-lr.t)/gt);lr.l=Br*dt,lr.r=Or*dt,lr.b=(1-Br)*gt,lr.t=(1-Or)*gt,vr.attr("d",se(lr))}else Xr();else!je||dr<Math.min(Math.max(gr*.6,R),A)?gr<R||!Wt?Xr():(lr.t=0,lr.b=gt,Zt="x",vr.attr("d",X(lr,$t))):!Wt||gr<Math.min(dr*.6,A)?(lr.l=0,lr.r=dt,Zt="y",vr.attr("d",re(lr,Et))):(Zt="xy",vr.attr("d",se(lr)));lr.w=lr.r-lr.l,lr.h=lr.b-lr.t,Zt&&(ut=!0),oe._dragged=ut,fe(Ar,vr,lr,yt,Kt,Fr),Tt(),oe.emit("plotly_relayouting",me),Kt=!0}function Tt(){me={},(Zt==="xy"||Zt==="x")&&(F(qe,lr.l/dt,lr.r/dt,me,Mt.xaxes),Lr("x",me)),(Zt==="xy"||Zt==="y")&&(F(Qe,(gt-lr.b)/gt,(gt-lr.t)/gt,me,Mt.yaxes),Lr("y",me))}function Ct(){Tt(),Y(oe),It(),W(oe)}var At=[0,0,dt,gt],zt=null,Ht=i.REDRAWDELAY,qt=he.mainplot?oe._fullLayout._plots[he.mainplot]:he;function Qt(nr){if(!oe._context._scrollZoom.cartesian&&!oe._fullLayout._enablescrollzoom)return;if(Ut(),oe._transitioningWithDuration){nr.preventDefault(),nr.stopPropagation();return}it(),clearTimeout(zt);var Nt=-nr.deltaY;if(isFinite(Nt)||(Nt=nr.wheelDelta/10),!isFinite(Nt)){L.log("Did not find wheel motion attributes: ",nr);return}var hr=Math.exp(-Math.min(Math.max(Nt,-20),20)/200),pr=qt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),gr=(nr.clientX-pr.left)/pr.width,dr=(pr.bottom-nr.clientY)/pr.height,Xr;function Br(Or,mn,Jr){if(Or.fixedrange)return;var _n=L.simpleMap(Or.range,Or.r2l),kn=_n[0]+(_n[1]-_n[0])*mn;function br(wr){return Or.l2r(kn+(wr-kn)*Jr)}Or.range=_n.map(br)}if(Fe){for(Ee||(gr=.5),Xr=0;Xr<qe.length;Xr++)Br(qe[Xr],gr,hr);Lr("x"),At[2]*=hr,At[0]+=At[2]*gr*(1/hr-1)}if(Be){for(Ve||(dr=.5),Xr=0;Xr<Qe.length;Xr++)Br(Qe[Xr],dr,hr);Lr("y"),At[3]*=hr,At[1]+=At[3]*(1-dr)*(1/hr-1)}kt(At),Ze(),oe.emit("plotly_relayouting",me),zt=setTimeout(function(){oe._fullLayout&&(At=[0,0,dt,gt],It())},Ht),nr.preventDefault()}Ve.length*Ee.length!==1&&ee(wt,Qt);function or(nr,Nt){if(nr=nr*Re,Nt=Nt*Ne,oe._transitioningWithDuration)return;if(oe._fullLayout._replotting=!0,Wt==="ew"||je==="ns"){var hr=Wt?-nr:0,pr=je?-Nt:0;if(Rt.isSubplotConstrained){if(Wt&&je){var gr=(nr/dt-Nt/gt)/2;nr=gr*dt,Nt=-gr*gt,hr=-nr,pr=-Nt}je?hr=-pr*dt/gt:pr=-hr*gt/dt}Wt&&(U(qe,nr),Lr("x")),je&&(U(Qe,Nt),Lr("y")),kt([hr,pr,dt,gt]),Ze(),oe.emit("plotly_relayouting",me);return}function dr(br,wr,Nr){for(var Vr=1-wr,tn,gn,hn=0;hn<br.length;hn++){var Sn=br[hn];if(!Sn.fixedrange){tn=Sn,gn=Sn._rl[Vr]+(Sn._rl[wr]-Sn._rl[Vr])/Z(Nr/Sn._length);var In=Sn.l2r(gn);In!==!1&&In!==void 0&&(Sn.range[wr]=In)}}return tn._length*(tn._rl[wr]-gn)/(tn._rl[wr]-tn._rl[Vr])}var Xr=Wt==="w"==(je==="n")?1:-1;if(Wt&&je&&(Mt.isSubplotConstrained||Rt.isSubplotConstrained)){var Br=(nr/dt+Xr*Nt/gt)/2;nr=Br*dt,Nt=Xr*Br*gt}var Or,mn;if(Wt==="w"?nr=dr(qe,0,nr):Wt==="e"?nr=dr(qe,1,-nr):Wt||(nr=0),je==="n"?Nt=dr(Qe,1,Nt):je==="s"?Nt=dr(Qe,0,-Nt):je||(Nt=0),Or=Wt==="w"?nr:0,mn=je==="n"?Nt:0,Mt.isSubplotConstrained&&!Rt.isSubplotConstrained||Rt.isSubplotConstrained&&Wt&&je&&Xr>0){var Jr;if(Rt.isSubplotConstrained||!Wt&&je.length===1){for(Jr=0;Jr<qe.length;Jr++)qe[Jr].range=qe[Jr]._r.slice(),T(qe[Jr],1-Nt/gt);nr=Nt*dt/gt,Or=nr/2}if(Rt.isSubplotConstrained||!je&&Wt.length===1){for(Jr=0;Jr<Qe.length;Jr++)Qe[Jr].range=Qe[Jr]._r.slice(),T(Qe[Jr],1-nr/dt);Nt=nr*gt/dt,mn=Nt/2}}(!Rt.isSubplotConstrained||!je)&&Lr("x"),(!Rt.isSubplotConstrained||!Wt)&&Lr("y");var _n=dt-nr,kn=gt-Nt;Rt.isSubplotConstrained&&!(Wt&&je)&&(Wt?(mn=Or?0:nr*gt/dt,kn=_n*gt/dt):(Or=mn?0:Nt*dt/gt,_n=kn*dt/gt)),kt([Or,mn,_n,kn]),Ze(),oe.emit("plotly_relayouting",me)}function Lr(nr,Nt){for(var hr=Rt.isSubplotConstrained?{x:Qe,y:qe}[nr]:Rt[nr+"axes"],pr=Rt.isSubplotConstrained?{x:qe,y:Qe}[nr]:[],gr=0;gr<hr.length;gr++){var dr=hr[gr],Xr=dr._id,Br=Rt.xLinks[Xr]||Rt.yLinks[Xr],Or=pr[0]||We[Br]||nt[Br];Or&&(Nt?(Nt[dr._name+".range[0]"]=Nt[Or._name+".range[0]"],Nt[dr._name+".range[1]"]=Nt[Or._name+".range[1]"]):dr.range=Or.range.slice())}}function Ze(){var nr=[],Nt;function hr(Xr){for(Nt=0;Nt<Xr.length;Nt++)Xr[Nt].fixedrange||nr.push(Xr[Nt]._id)}function pr(Xr,Br){for(Nt=0;Nt<Xr.length;Nt++){var Or=Xr[Nt],mn=Or[Br];!Or.fixedrange&&mn.tickmode==="sync"&&nr.push(mn._id)}}for(Fe&&(hr(qe),hr(Mt.xaxes),hr(Rt.xaxes),pr(he.overlays,"xaxis")),Be&&(hr(Qe),hr(Mt.yaxes),hr(Rt.yaxes),pr(he.overlays,"yaxis")),me={},Nt=0;Nt<nr.length;Nt++){var gr=nr[Nt],dr=M(oe,gr);s.drawOne(oe,dr,{skipTitle:!0}),me[dr._name+".range[0]"]=dr.range[0],me[dr._name+".range[1]"]=dr.range[1]}s.redrawComponents(oe,nr)}function Ye(){if(!oe._transitioningWithDuration){var nr=oe._context.doubleClick,Nt=[];Wt&&(Nt=Nt.concat(qe)),je&&(Nt=Nt.concat(Qe)),Rt.xaxes&&(Nt=Nt.concat(Rt.xaxes)),Rt.yaxes&&(Nt=Nt.concat(Rt.yaxes));var hr={},pr,gr,dr;if(nr==="reset+autosize"){for(nr="autosize",gr=0;gr<Nt.length;gr++)if(pr=Nt[gr],pr._rangeInitial&&(pr.range[0]!==pr._rangeInitial[0]||pr.range[1]!==pr._rangeInitial[1])||!pr._rangeInitial&&!pr.autorange){nr="reset";break}}if(nr==="autosize")for(gr=0;gr<Nt.length;gr++)pr=Nt[gr],pr.fixedrange||(hr[pr._name+".autorange"]=!0);else if(nr==="reset")for((Wt||Mt.isSubplotConstrained)&&(Nt=Nt.concat(Mt.xaxes)),je&&!Mt.isSubplotConstrained&&(Nt=Nt.concat(Mt.yaxes)),Mt.isSubplotConstrained&&(Wt?je||(Nt=Nt.concat(Qe)):Nt=Nt.concat(qe)),gr=0;gr<Nt.length;gr++)pr=Nt[gr],pr.fixedrange||(pr._rangeInitial?(dr=pr._rangeInitial,hr[pr._name+".range[0]"]=dr[0],hr[pr._name+".range[1]"]=dr[1]):hr[pr._name+".autorange"]=!0);oe.emit("plotly_doubleclick",null),h.call("_guiRelayout",oe,hr)}}function It(){kt([0,0,dt,gt]),L.syncOrAsync([S.previousPromises,function(){oe._fullLayout._replotting=!1,h.call("_guiRelayout",oe,me)}],oe)}function kt(nr){var Nt=oe._fullLayout,hr=Nt._plots,pr=Nt._subplots.cartesian,gr,dr,Xr,Br;if(we&&h.subplotsRegistry.splom.drag(oe),De){for(gr=0;gr<pr.length;gr++)if(dr=hr[pr[gr]],Xr=dr.xaxis,Br=dr.yaxis,dr._scene){var Or=L.simpleMap(Xr.range,Xr.r2l),mn=L.simpleMap(Br.range,Br.r2l);dr._scene.update({range:[Or[0],mn[0],Or[1],mn[1]]})}}if((we||De)&&(o(oe),d(oe)),ue){var Jr=nr[2]/He._length,_n=nr[3]/ke._length;for(gr=0;gr<pr.length;gr++){dr=hr[pr[gr]],Xr=dr.xaxis,Br=dr.yaxis;var kn=(Fe||Rt.isSubplotConstrained)&&!Xr.fixedrange&&We[Xr._id],br=(Be||Rt.isSubplotConstrained)&&!Br.fixedrange&&nt[Br._id],wr,Nr,Vr,tn;if(kn?(wr=Jr,Vr=Ee||Rt.isSubplotConstrained?nr[0]:ur(Xr,wr)):Rt.xaHash[Xr._id]?(wr=Jr,Vr=nr[0]*Xr._length/He._length):Rt.yaHash[Xr._id]?(wr=_n,Vr=je==="ns"?-nr[1]*Xr._length/ke._length:ur(Xr,wr,{n:"top",s:"bottom"}[je])):(wr=Xt(Xr,Jr,_n),Vr=ir(Xr,wr)),br?(Nr=_n,tn=Ve||Rt.isSubplotConstrained?nr[1]:ur(Br,Nr)):Rt.yaHash[Br._id]?(Nr=_n,tn=nr[1]*Br._length/ke._length):Rt.xaHash[Br._id]?(Nr=Jr,tn=Wt==="ew"?-nr[0]*Br._length/He._length:ur(Br,Nr,{e:"right",w:"left"}[Wt])):(Nr=Xt(Br,Jr,_n),tn=ir(Br,Nr)),!(!wr&&!Nr)){wr||(wr=1),Nr||(Nr=1);var gn=Xr._offset-Vr/wr,hn=Br._offset-tn/Nr;dr.clipRect.call(l.setTranslate,Vr,tn).call(l.setScale,wr,Nr),dr.plot.call(l.setTranslate,gn,hn).call(l.setScale,1/wr,1/Nr),(wr!==dr.xScaleFactor||Nr!==dr.yScaleFactor)&&(l.setPointGroupScale(dr.zoomScalePts,wr,Nr),l.setTextPointsScale(dr.zoomScaleTxt,wr,Nr)),l.hideOutsideRangePoints(dr.clipOnAxisFalseTraces,dr),dr.xScaleFactor=wr,dr.yScaleFactor=Nr}}}}function Xt(nr,Nt,hr){return nr.fixedrange?0:Fe&&Mt.xaHash[nr._id]?Nt:Be&&(Mt.isSubplotConstrained?Mt.xaHash:Mt.yaHash)[nr._id]?hr:0}function ir(nr,Nt){return Nt?(nr.range=nr._r.slice(),T(nr,Nt),ur(nr,Nt)):0}function ur(nr,Nt,hr){return nr._length*(1-Nt)*v[hr||nr.constraintoward||"middle"]}return wt}function H(oe,he,xe,Ae){var Se=L.ensureSingle(oe.draglayer,he,xe,function(Oe){Oe.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",oe.id)});return Se.call(c,Ae),Se.node()}function z(oe,he,xe,Ae,Se,Oe,Ve){var Ee=H(oe,"rect",he,xe);return p.select(Ee).call(l.setRect,Ae,Se,Oe,Ve),Ee}function N(oe,he){for(var xe=0;xe<oe.length;xe++)if(!oe[xe].fixedrange)return he;return""}function O(oe,he){var xe=oe.range[he],Ae=Math.abs(xe-oe.range[1-he]),Se;return oe.type==="date"?xe:oe.type==="log"?(Se=Math.ceil(Math.max(0,-Math.log(Ae)/Math.LN10))+3,n("."+Se+"g")(Math.pow(10,xe))):(Se=Math.floor(Math.log(Math.abs(xe))/Math.LN10)-Math.floor(Math.log(Ae)/Math.LN10)+4,n("."+String(Se)+"g")(xe))}function F(oe,he,xe,Ae,Se){for(var Oe=0;Oe<oe.length;Oe++){var Ve=oe[Oe];if(!Ve.fixedrange)if(Ve.rangebreaks){var Ee=Ve._id.charAt(0)==="y",Te=Ee?1-he:he,Le=Ee?1-xe:xe;Ae[Ve._name+".range[0]"]=Ve.l2r(Ve.p2l(Te*Ve._length)),Ae[Ve._name+".range[1]"]=Ve.l2r(Ve.p2l(Le*Ve._length))}else{var Ge=Ve._rl[0],He=Ve._rl[1]-Ge;Ae[Ve._name+".range[0]"]=Ve.l2r(Ge+He*he),Ae[Ve._name+".range[1]"]=Ve.l2r(Ge+He*xe)}}if(Se&&Se.length){var ke=(he+(1-xe))/2;F(Se,ke,1-ke,Ae,[])}}function U(oe,he){for(var xe=0;xe<oe.length;xe++){var Ae=oe[xe];if(!Ae.fixedrange)if(Ae.rangebreaks){var Se=0,Oe=Ae._length,Ve=Ae.p2l(Se+he)-Ae.p2l(Se),Ee=Ae.p2l(Oe+he)-Ae.p2l(Oe),Te=(Ve+Ee)/2;Ae.range=[Ae.l2r(Ae._rl[0]-Te),Ae.l2r(Ae._rl[1]-Te)]}else Ae.range=[Ae.l2r(Ae._rl[0]-he/Ae._m),Ae.l2r(Ae._rl[1]-he/Ae._m)]}}function Z(oe){return 1-(oe>=0?Math.min(oe,.9):1/(1/Math.max(oe,-.3)+3.222))}function q(oe,he,xe){return oe?oe==="nsew"?xe?"":he==="pan"?"move":"crosshair":oe.toLowerCase()+"-resize":"pointer"}function J(oe,he,xe,Ae,Se){return oe.append("path").attr("class","zoombox").style({fill:he>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",g(xe,Ae)).attr("d",Se+"Z")}function te(oe,he,xe){return oe.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1,opacity:0}).attr("transform",g(he,xe)).attr("d","M0,0Z")}function fe(oe,he,xe,Ae,Se,Oe){oe.attr("d",Ae+"M"+xe.l+","+xe.t+"v"+xe.h+"h"+xe.w+"v-"+xe.h+"h-"+xe.w+"Z"),K(oe,he,Se,Oe)}function K(oe,he,xe,Ae){xe||(oe.transition().style("fill",Ae>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),he.transition().style("opacity",1).duration(200))}function Y(oe){p.select(oe).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function W(oe){k&&oe.data&&oe._context.showTips&&(L.notifier(L._(oe,"Double-click to zoom back out"),"long"),k=!1)}function X(oe,he){return"M"+(oe.l-.5)+","+(he-A-.5)+"h-3v"+(2*A+1)+"h3ZM"+(oe.r+.5)+","+(he-A-.5)+"h3v"+(2*A+1)+"h-3Z"}function re(oe,he){return"M"+(he-A-.5)+","+(oe.t-.5)+"v-3h"+(2*A+1)+"v3ZM"+(he-A-.5)+","+(oe.b+.5)+"v3h"+(2*A+1)+"v-3Z"}function se(oe){var he=Math.floor(Math.min(oe.b-oe.t,oe.r-oe.l,A)/2);return"M"+(oe.l-3.5)+","+(oe.t-.5+he)+"h3v"+-he+"h"+he+"v-3h-"+(he+3)+"ZM"+(oe.r+3.5)+","+(oe.t-.5+he)+"h-3v"+-he+"h"+-he+"v-3h"+(he+3)+"ZM"+(oe.r+3.5)+","+(oe.b+.5-he)+"h-3v"+he+"h"+-he+"v3h"+(he+3)+"ZM"+(oe.l-3.5)+","+(oe.b+.5-he)+"h3v"+he+"h"+he+"v3h-"+(he+3)+"Z"}function Q(oe,he,xe,Ae,Se){for(var Oe=!1,Ve={},Ee={},Te,Le,Ge,He,ke=(Se||{}).xaHash,We=(Se||{}).yaHash,nt=0;nt<he.length;nt++){var qe=he[nt];for(Te in xe)if(qe[Te]){for(Ge in qe)!(Se&&(ke[Ge]||We[Ge]))&&!(Ge.charAt(0)==="x"?xe:Ae)[Ge]&&(Ve[Ge]=Te);for(Le in Ae)!(Se&&(ke[Le]||We[Le]))&&qe[Le]&&(Oe=!0)}for(Le in Ae)if(qe[Le])for(He in qe)!(Se&&(ke[He]||We[He]))&&!(He.charAt(0)==="x"?xe:Ae)[He]&&(Ee[He]=Le)}Oe&&(L.extendFlat(Ve,Ee),Ee={});var Qe={},tt=[];for(Ge in Ve){var vt=M(oe,Ge);tt.push(vt),Qe[vt._id]=vt}var dt={},gt=[];for(He in Ee){var Mt=M(oe,He);gt.push(Mt),dt[Mt._id]=Mt}return{xaHash:Qe,yaHash:dt,xaxes:tt,yaxes:gt,xLinks:Ve,yLinks:Ee,isSubplotConstrained:Oe}}function ee(oe,he){if(!y)oe.onwheel!==void 0?oe.onwheel=he:oe.onmousewheel!==void 0?oe.onmousewheel=he:oe.isAddedWheelEvent||(oe.isAddedWheelEvent=!0,oe.addEventListener("wheel",he,{passive:!1}));else{var xe=oe.onwheel!==void 0?"wheel":"mousewheel";oe._onwheel&&oe.removeEventListener(xe,oe._onwheel),oe._onwheel=he,oe.addEventListener(xe,he,{passive:!1})}}function le(oe){var he=[];for(var xe in oe)he.push(oe[xe]);return he}V.exports={makeDragBox:_,makeDragger:H,makeRectDragger:z,makeZoombox:J,makeCorners:te,updateZoombox:fe,xyCorners:se,transitionZoombox:K,removeZoombox:Y,showDoubleClickNotifier:W,attachWheelEventHandler:ee}},4305:function(V,B,e){var p=e(39898),L=e(30211),n=e(28569),C=e(6964),y=e(29323).makeDragBox,h=e(85555).DRAGGERSIZE;B.initInteractions=function(t){var r=t._fullLayout;if(t._context.staticPlot){p.select(t).selectAll(".drag").remove();return}if(!(!r._has("cartesian")&&!r._has("splom"))){var l=Object.keys(r._plots||{}).sort(function(s,c){if((r._plots[s].mainplot&&!0)===(r._plots[c].mainplot&&!0)){var u=s.split("y"),b=c.split("y");return u[0]===b[0]?Number(u[1]||1)-Number(b[1]||1):Number(u[0]||1)-Number(b[0]||1)}return r._plots[s].mainplot?1:-1});l.forEach(function(s){var c=r._plots[s],u=c.xaxis,b=c.yaxis;if(!c.mainplot){var f=y(t,c,u._offset,b._offset,u._length,b._length,"ns","ew");f.onmousemove=function(o){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===s&&t._fullLayout._plots[s]&&L.hover(t,o,s)},L.hover(t,o,s),t._fullLayout._lasthover=f,t._fullLayout._hoversubplot=s},f.onmouseout=function(o){t._dragging||(t._fullLayout._hoversubplot=null,n.unhover(t,o))},t._context.showAxisDragHandles&&(y(t,c,u._offset-h,b._offset-h,h,h,"n","w"),y(t,c,u._offset+u._length,b._offset-h,h,h,"n","e"),y(t,c,u._offset-h,b._offset+b._length,h,h,"s","w"),y(t,c,u._offset+u._length,b._offset+b._length,h,h,"s","e"))}if(t._context.showAxisDragHandles){if(s===u._mainSubplot){var w=u._mainLinePosition;u.side==="top"&&(w-=h),y(t,c,u._offset+u._length*.1,w,u._length*.8,h,"","ew"),y(t,c,u._offset,w,u._length*.1,h,"","w"),y(t,c,u._offset+u._length*.9,w,u._length*.1,h,"","e")}if(s===b._mainSubplot){var v=b._mainLinePosition;b.side!=="right"&&(v-=h),y(t,c,v,b._offset+b._length*.1,h,b._length*.8,"ns",""),y(t,c,v,b._offset+b._length*.9,h,b._length*.1,"s",""),y(t,c,v,b._offset,h,b._length*.1,"n","")}}});var a=r._hoverlayer.node();a.onmousemove=function(s){s.target=t._fullLayout._lasthover,L.hover(t,s,r._hoversubplot)},a.onclick=function(s){s.target=t._fullLayout._lasthover,L.click(t,s)},a.onmousedown=function(s){t._fullLayout._lasthover.onmousedown(s)},B.updateFx(t)}},B.updateFx=function(g){var t=g._fullLayout,r=t.dragmode==="pan"?"move":"crosshair";C(t._draggers,r)}},76325:function(V,B,e){var p=e(73972),L=e(71828),n=e(41675);V.exports=function(y){return function(g,t){var r=g[y];if(Array.isArray(r))for(var l=p.subplotsRegistry.cartesian,a=l.idRegex,s=t._subplots,c=s.xaxis,u=s.yaxis,b=s.cartesian,f=t._has("cartesian")||t._has("gl2d"),w=0;w<r.length;w++){var v=r[w];if(L.isPlainObject(v)){var o=n.cleanId(v.xref,"x",!1),d=n.cleanId(v.yref,"y",!1),S=a.x.test(o),M=a.y.test(d);if(S||M){f||L.pushUnique(t._basePlotModules,l);var P=!1;S&&c.indexOf(o)===-1&&(c.push(o),P=!0),M&&u.indexOf(d)===-1&&(u.push(d),P=!0),P&&S&&M&&b.push(o+d)}}}}}},93612:function(V,B,e){var p=e(39898),L=e(73972),n=e(71828),C=e(74875),y=e(91424),h=e(27659).a0,g=e(41675),t=e(85555),r=e(77922),l=n.ensureSingle;function a(w,v,o){return n.ensureSingle(w,v,o,function(d){d.datum(o)})}B.name="cartesian",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=t.idRegex,B.attrRegex=t.attrRegex,B.attributes=e(89502),B.layoutAttributes=e(13838),B.supplyLayoutDefaults=e(86763),B.transitionAxes=e(66847),B.finalizeSubplots=function(w,v){var o=v._subplots,d=o.xaxis,S=o.yaxis,M=o.cartesian,P=M.concat(o.gl2d||[]),x={},E={},T,i,R;for(T=0;T<P.length;T++){var A=P[T].split("y");x[A[0]]=1,E["y"+A[1]]=1}for(T=0;T<d.length;T++)i=d[T],x[i]||(R=(w[g.id2name(i)]||{}).anchor,t.idRegex.y.test(R)||(R="y"),M.push(i+R),P.push(i+R),E[R]||(E[R]=1,n.pushUnique(S,R)));for(T=0;T<S.length;T++)R=S[T],E[R]||(i=(w[g.id2name(R)]||{}).anchor,t.idRegex.x.test(i)||(i="x"),M.push(i+R),P.push(i+R),x[i]||(x[i]=1,n.pushUnique(d,i)));if(!P.length){i="",R="";for(var k in w)if(t.attrRegex.test(k)){var _=k.charAt(0);_==="x"?(!i||+k.substr(5)<+i.substr(5))&&(i=k):(!R||+k.substr(5)<+R.substr(5))&&(R=k)}i=i?g.name2id(i):"x",R=R?g.name2id(R):"y",d.push(i),S.push(R),M.push(i+R)}},B.plot=function(w,v,o,d){var S=w._fullLayout,M=S._subplots.cartesian,P=w.calcdata,x;if(!Array.isArray(v))for(v=[],x=0;x<P.length;x++)v.push(x);for(x=0;x<M.length;x++){for(var E=M[x],T=S._plots[E],i=[],R,A=0;A<P.length;A++){var k=P[A],_=k[0].trace;_.xaxis+_.yaxis===E&&((v.indexOf(_.index)!==-1||_.carpet)&&(R&&R[0].trace.xaxis+R[0].trace.yaxis===E&&["tonextx","tonexty","tonext"].indexOf(_.fill)!==-1&&i.indexOf(R)===-1&&i.push(R),i.push(k)),R=k)}s(w,T,i,o,d)}};function s(w,v,o,d,S){for(var M=t.traceLayerClasses,P=w._fullLayout,x=P._modules,E,T,i,R=[],A=[],k=0;k<x.length;k++){E=x[k];var _=E.name,H=L.modules[_].categories;if(H.svg){var z=E.layerName||_+"layer",N=E.plot;T=h(o,N),i=T[0],o=T[1],i.length&&R.push({i:M.indexOf(z),className:z,plotMethod:N,cdModule:i}),H.zoomScale&&A.push("."+z)}}R.sort(function(U,Z){return U.i-Z.i});var O=v.plot.selectAll("g.mlayer").data(R,function(U){return U.className});if(O.enter().append("g").attr("class",function(U){return U.className}).classed("mlayer",!0).classed("rangeplot",v.isRangePlot),O.exit().remove(),O.order(),O.each(function(U){var Z=p.select(this),q=U.className;U.plotMethod(w,v,U.cdModule,Z,d,S),t.clipOnAxisFalseQuery.indexOf("."+q)===-1&&y.setClipUrl(Z,v.layerClipId,w)}),P._has("scattergl")&&(E=L.getModule("scattergl"),i=h(o,E)[0],E.plot(w,v,i)),!w._context.staticPlot&&(v._hasClipOnAxisFalse&&(v.clipOnAxisFalseTraces=v.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),A.length)){var F=v.plot.selectAll(A.join(",")).selectAll(".trace");v.zoomScalePts=F.selectAll("path.point"),v.zoomScaleTxt=F.selectAll(".textpoint")}}B.clean=function(w,v,o,d){var S=d._plots||{},M=v._plots||{},P=d._subplots||{},x,E,T;if(d._hasOnlyLargeSploms&&!v._hasOnlyLargeSploms)for(T in S)x=S[T],x.plotgroup&&x.plotgroup.remove();var i=d._has&&d._has("gl"),R=v._has&&v._has("gl");if(i&&!R)for(T in S)x=S[T],x._scene&&x._scene.destroy();if(P.xaxis&&P.yaxis){var A=g.listIds({_fullLayout:d});for(E=0;E<A.length;E++){var k=A[E];v[g.id2name(k)]||d._infolayer.selectAll(".g-"+k+"title").remove()}}var _=d._has&&d._has("cartesian"),H=v._has&&v._has("cartesian");if(_&&!H)b(d._cartesianlayer.selectAll(".subplot"),d),d._defs.selectAll(".axesclip").remove(),delete d._axisConstraintGroups,delete d._axisMatchGroups;else if(P.cartesian)for(E=0;E<P.cartesian.length;E++){var z=P.cartesian[E];if(!M[z]){var N="."+z+",."+z+"-x,."+z+"-y";d._cartesianlayer.selectAll(N).remove(),f(z,d)}}},B.drawFramework=function(w){var v=w._fullLayout,o=c(w),d=v._cartesianlayer.selectAll(".subplot").data(o,String);d.enter().append("g").attr("class",function(S){return"subplot "+S[0]}),d.order(),d.exit().call(b,v),d.each(function(S){var M=S[0],P=v._plots[M];P.plotgroup=p.select(this),u(w,P),P.draglayer=l(v._draggers,"g",M)})},B.rangePlot=function(w,v,o){u(w,v),s(w,v,o),C.style(w)};function c(w){var v=w._fullLayout,o=v._subplots.cartesian,d=o.length,S,M,P,x,E,T,i=[],R=[];for(S=0;S<d;S++){P=o[S],x=v._plots[P],E=x.xaxis,T=x.yaxis;var A=E._mainAxis,k=T._mainAxis,_=A._id+k._id,H=v._plots[_];x.overlays=[],_!==P&&H?(x.mainplot=_,x.mainplotinfo=H,R.push(P)):(x.mainplot=void 0,x.mainplotinfo=void 0,i.push(P))}for(S=0;S<R.length;S++)P=R[S],x=v._plots[P],x.mainplotinfo.overlays.push(x);var z=i.concat(R),N=new Array(d);for(S=0;S<d;S++){P=z[S],x=v._plots[P],E=x.xaxis,T=x.yaxis;var O=[P,E.layer,T.layer,E.overlaying||"",T.overlaying||""];for(M=0;M<x.overlays.length;M++)O.push(x.overlays[M].id);N[S]=O}return N}function u(w,v){var o=v.plotgroup,d=v.id,S=t.layerValue2layerClass[v.xaxis.layer],M=t.layerValue2layerClass[v.yaxis.layer],P=w._fullLayout._hasOnlyLargeSploms;if(v.mainplot){var E=v.mainplotinfo,T=E.plotgroup,i=d+"-x",R=d+"-y";v.minorGridlayer=E.minorGridlayer,v.gridlayer=E.gridlayer,v.zerolinelayer=E.zerolinelayer,l(E.overlinesBelow,"path",i),l(E.overlinesBelow,"path",R),l(E.overaxesBelow,"g",i),l(E.overaxesBelow,"g",R),v.plot=l(E.overplot,"g",d),l(E.overlinesAbove,"path",i),l(E.overlinesAbove,"path",R),l(E.overaxesAbove,"g",i),l(E.overaxesAbove,"g",R),v.xlines=T.select(".overlines-"+S).select("."+i),v.ylines=T.select(".overlines-"+M).select("."+R),v.xaxislayer=T.select(".overaxes-"+S).select("."+i),v.yaxislayer=T.select(".overaxes-"+M).select("."+R)}else if(P)v.xlines=l(o,"path","xlines-above"),v.ylines=l(o,"path","ylines-above"),v.xaxislayer=l(o,"g","xaxislayer-above"),v.yaxislayer=l(o,"g","yaxislayer-above");else{var x=l(o,"g","layer-subplot");v.shapelayer=l(x,"g","shapelayer"),v.imagelayer=l(x,"g","imagelayer"),v.minorGridlayer=l(o,"g","minor-gridlayer"),v.gridlayer=l(o,"g","gridlayer"),v.zerolinelayer=l(o,"g","zerolinelayer"),l(o,"path","xlines-below"),l(o,"path","ylines-below"),v.overlinesBelow=l(o,"g","overlines-below"),l(o,"g","xaxislayer-below"),l(o,"g","yaxislayer-below"),v.overaxesBelow=l(o,"g","overaxes-below"),v.plot=l(o,"g","plot"),v.overplot=l(o,"g","overplot"),v.xlines=l(o,"path","xlines-above"),v.ylines=l(o,"path","ylines-above"),v.overlinesAbove=l(o,"g","overlines-above"),l(o,"g","xaxislayer-above"),l(o,"g","yaxislayer-above"),v.overaxesAbove=l(o,"g","overaxes-above"),v.xlines=o.select(".xlines-"+S),v.ylines=o.select(".ylines-"+M),v.xaxislayer=o.select(".xaxislayer-"+S),v.yaxislayer=o.select(".yaxislayer-"+M)}P||(a(v.minorGridlayer,"g",v.xaxis._id),a(v.minorGridlayer,"g",v.yaxis._id),v.minorGridlayer.selectAll("g").map(function(A){return A[0]}).sort(g.idSort),a(v.gridlayer,"g",v.xaxis._id),a(v.gridlayer,"g",v.yaxis._id),v.gridlayer.selectAll("g").map(function(A){return A[0]}).sort(g.idSort)),v.xlines.style("fill","none").classed("crisp",!0),v.ylines.style("fill","none").classed("crisp",!0)}function b(w,v){if(w){var o={};w.each(function(E){var T=E[0],i=p.select(this);i.remove(),f(T,v),o[T]=!0});for(var d in v._plots)for(var S=v._plots[d],M=S.overlays||[],P=0;P<M.length;P++){var x=M[P];o[x.id]&&x.plot.selectAll(".trace").remove()}}}function f(w,v){v._draggers.selectAll("g."+w).remove(),v._defs.select("#clip"+v._uid+w+"plot").remove()}B.toSVG=function(w){var v=w._fullLayout._glimages,o=p.select(w).selectAll(".svg-container"),d=o.filter(function(M,P){return P===o.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function S(){var M=this,P=M.toDataURL("image/png"),x=v.append("svg:image");x.attr({xmlns:r.svg,"xlink:href":P,preserveAspectRatio:"none",x:0,y:0,width:M.style.width,height:M.style.height})}d.each(S)},B.updateFx=e(4305).updateFx},13838:function(V,B,e){var p=e(41940),L=e(22399),n=e(79952).P,C=e(1426).extendFlat,y=e(44467).templatedArray,h=e(12663).descriptionWithDates,g=e(50606).ONEDAY,t=e(85555),r=t.HOUR_PATTERN,l=t.WEEKDAY_PATTERN,a={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},s=C({},a,{values:a.values.slice().concat(["sync"])});function c(E){return{valType:"integer",min:0,dflt:E?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},b={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},f={valType:"data_array",editType:"ticks"},w={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function v(E){var T={valType:"number",min:0,editType:"ticks"};return E||(T.dflt=5),T}function o(E){var T={valType:"number",min:0,editType:"ticks"};return E||(T.dflt=1),T}var d={valType:"color",dflt:L.defaultLine,editType:"ticks"},S={valType:"color",dflt:L.lightLine,editType:"ticks"};function M(E){var T={valType:"number",min:0,editType:"ticks"};return E||(T.dflt=1),T}var P=C({},n,{editType:"ticks"}),x={valType:"boolean",editType:"ticks"};V.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:L.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:p({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:y("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[l,r,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:g},editType:"calc"}),tickmode:s,nticks:c(),tick0:u,dtick:b,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:f,ticktext:{valType:"data_array",editType:"ticks"},ticks:w,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:v(),tickwidth:o(),tickcolor:d,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:C({},n,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:p({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:h("tick label")},tickformatstops:y("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:h("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:x,gridcolor:S,gridwidth:M(),griddash:P,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:L.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:a,nticks:c("minor"),tick0:u,dtick:b,tickvals:f,ticks:w,ticklen:v("minor"),tickwidth:o("minor"),tickcolor:d,gridcolor:S,gridwidth:M("minor"),griddash:P,showgrid:x,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:p({editType:"ticks"})}}},86763:function(V,B,e){var p=e(71828),L=e(7901),n=e(23469).isUnifiedHover,C=e(98212),y=e(44467),h=e(10820),g=e(13838),t=e(951),r=e(71453),l=e(99082),a=e(52830),s=e(41675),c=s.id2name,u=s.name2id,b=e(85555).AX_ID_PATTERN,f=e(73972),w=f.traceIs,v=f.getComponentMethod;function o(d,S,M){Array.isArray(d[S])?d[S].push(M):d[S]=[M]}V.exports=function(S,M,P){var x=M.autotypenumbers,E={},T={},i={},R={},A={},k={},_={},H={},z={},N={},O,F;for(O=0;O<P.length;O++){var U=P[O];if(!(!w(U,"cartesian")&&!w(U,"gl2d"))){var Z;if(U.xaxis)Z=c(U.xaxis),o(E,Z,U);else if(U.xaxes)for(F=0;F<U.xaxes.length;F++)o(E,c(U.xaxes[F]),U);var q;if(U.yaxis)q=c(U.yaxis),o(E,q,U);else if(U.yaxes)for(F=0;F<U.yaxes.length;F++)o(E,c(U.yaxes[F]),U);if(U.type==="funnel"?U.orientation==="h"?(Z&&(T[Z]=!0),q&&(_[q]=!0)):q&&(i[q]=!0):U.type==="image"?(q&&(H[q]=!0),Z&&(H[Z]=!0)):(q&&(A[q]=!0,k[q]=!0),(!w(U,"carpet")||U.type==="carpet"&&!U._cheater)&&Z&&(R[Z]=!0)),U.type==="carpet"&&U._cheater&&Z&&(T[Z]=!0),w(U,"2dMap")&&(z[Z]=!0,z[q]=!0),w(U,"oriented")){var J=U.orientation==="h"?q:Z;N[J]=!0}}}var te=M._subplots,fe=te.xaxis,K=te.yaxis,Y=p.simpleMap(fe,c),W=p.simpleMap(K,c),X=Y.concat(W),re=L.background;fe.length&&K.length&&(re=p.coerce(S,M,h,"plot_bgcolor"));var se=L.combine(re,M.paper_bgcolor),Q,ee,le,oe,he;function xe(){var Re=E[Q]||[];he._traceIndices=Re.map(function(Ne){return Ne._expandedIndex}),he._annIndices=[],he._shapeIndices=[],he._selectionIndices=[],he._imgIndices=[],he._subplotsWith=[],he._counterAxes=[],he._name=he._attr=Q,he._id=ee}function Ae(Re,Ne){return p.coerce(oe,he,g,Re,Ne)}function Se(Re,Ne){return p.coerce2(oe,he,g,Re,Ne)}function Oe(Re){return Re==="x"?K:fe}function Ve(Re,Ne){for(var it=Re==="x"?Y:W,ot=[],wt=0;wt<it.length;wt++){var Ft=it[wt];Ft!==Ne&&!(S[Ft]||{}).overlaying&&ot.push(u(Ft))}return ot}var Ee={x:Oe("x"),y:Oe("y")},Te=Ee.x.concat(Ee.y),Le={},Ge=[];function He(){var Re=oe.matches;b.test(Re)&&Te.indexOf(Re)===-1&&(Le[Re]=oe.type,Ge=Object.keys(Le))}var ke=C(S,M),We=n(ke);for(O=0;O<X.length;O++){Q=X[O],ee=u(Q),le=Q.charAt(0),p.isPlainObject(S[Q])||(S[Q]={}),oe=S[Q],he=y.newContainer(M,Q,le+"axis"),xe();var nt=le==="x"&&!R[Q]&&T[Q]||le==="y"&&!A[Q]&&i[Q],qe=le==="y"&&(!k[Q]&&_[Q]||H[Q]),Qe={hasMinor:!0,letter:le,font:M.font,outerTicks:z[Q],showGrid:!N[Q],data:E[Q]||[],bgColor:se,calendar:M.calendar,automargin:!0,visibleDflt:nt,reverseDflt:qe,autotypenumbersDflt:x,splomStash:((M._splomAxes||{})[le]||{})[ee]};Ae("uirevision",M.uirevision),t(oe,he,Ae,Qe),r(oe,he,Ae,Qe,M);var tt=We&&le===ke.charAt(0),vt=Se("spikecolor",We?he.color:void 0),dt=Se("spikethickness",We?1.5:void 0),gt=Se("spikedash",We?"dot":void 0),Mt=Se("spikemode",We?"across":void 0),Rt=Se("spikesnap"),Wt=Ae("showspikes",!!tt||!!vt||!!dt||!!gt||!!Mt||!!Rt);Wt||(delete he.spikecolor,delete he.spikethickness,delete he.spikedash,delete he.spikemode,delete he.spikesnap);var je=c(oe.overlaying),_e=[0,1];if(M[je]!==void 0){var Fe=c(M[je].anchor);M[Fe]!==void 0&&(_e=M[Fe].domain)}a(oe,he,Ae,{letter:le,counterAxes:Ee[le],overlayableAxes:Ve(le,Q),grid:M.grid,overlayingDomain:_e}),Ae("title.standoff"),He(),he._input=oe}for(O=0;O<Ge.length;){ee=Ge[O++],Q=c(ee),le=Q.charAt(0),p.isPlainObject(S[Q])||(S[Q]={}),oe=S[Q],he=y.newContainer(M,Q,le+"axis"),xe();var Be={letter:le,font:M.font,outerTicks:z[Q],showGrid:!N[Q],data:[],bgColor:se,calendar:M.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:x,splomStash:((M._splomAxes||{})[le]||{})[ee]};Ae("uirevision",M.uirevision),he.type=Le[ee]||"linear",r(oe,he,Ae,Be,M),a(oe,he,Ae,{letter:le,counterAxes:Ee[le],overlayableAxes:Ve(le,Q),grid:M.grid}),Ae("fixedrange"),He(),he._input=oe}var De=v("rangeslider","handleDefaults"),we=v("rangeselector","handleDefaults");for(O=0;O<Y.length;O++)Q=Y[O],oe=S[Q],he=M[Q],De(S,M,Q),he.type==="date"&&we(oe,he,M,W,he.calendar),Ae("fixedrange");for(O=0;O<W.length;O++){Q=W[O],oe=S[Q],he=M[Q];var ue=M[c(he.anchor)],me=v("rangeslider","isVisible")(ue);Ae("fixedrange",me)}l.handleDefaults(S,M,{axIds:Te.concat(Ge).sort(s.idSort),axHasImage:H})}},92128:function(V,B,e){var p=e(84267).mix,L=e(22399),n=e(71828);V.exports=function(y,h,g,t){t=t||{};var r=t.dfltColor;function l(i,R){return n.coerce2(y,h,t.attributes,i,R)}var a=l("linecolor",r),s=l("linewidth"),c=g("showline",t.showLine||!!a||!!s);c||(delete h.linecolor,delete h.linewidth);var u=p(r,t.bgColor,t.blend||L.lightFraction).toRgbString(),b=l("gridcolor",u),f=l("gridwidth"),w=l("griddash"),v=g("showgrid",t.showGrid||!!b||!!f||!!w);if(v||(delete h.gridcolor,delete h.gridwidth,delete h.griddash),t.hasMinor){var o=p(h.gridcolor,t.bgColor,67).toRgbString(),d=l("minor.gridcolor",o),S=l("minor.gridwidth",h.gridwidth||1),M=l("minor.griddash",h.griddash||"solid"),P=g("minor.showgrid",!!d||!!S||!!M);P||(delete h.minor.gridcolor,delete h.minor.gridwidth,delete h.minor.griddash)}if(!t.noZeroLine){var x=l("zerolinecolor",r),E=l("zerolinewidth"),T=g("zeroline",t.showGrid||!!x||!!E);T||(delete h.zerolinecolor,delete h.zerolinewidth)}}},52830:function(V,B,e){var p=e(92770),L=e(71828);V.exports=function(C,y,h,g){var t=g.counterAxes||[],r=g.overlayableAxes||[],l=g.letter,a=g.grid,s=g.overlayingDomain,c,u,b,f,w,v;a&&(u=a._domains[l][a._axisMap[y._id]],c=a._anchors[y._id],u&&(b=a[l+"side"].split(" ")[0],f=a.domain[l][b==="right"||b==="top"?1:0])),u=u||[0,1],c=c||(p(C.position)?"free":t[0]||"free"),b=b||(l==="x"?"bottom":"left"),f=f||0,w=0,v=!1;var o=L.coerce(C,y,{anchor:{valType:"enumerated",values:["free"].concat(t),dflt:c}},"anchor"),d=L.coerce(C,y,{side:{valType:"enumerated",values:l==="x"?["bottom","top"]:["left","right"],dflt:b}},"side");if(o==="free"){if(l==="y"){var S=h("autoshift");S&&(f=d==="left"?s[0]:s[1],v=y.automargin?y.automargin:!0,w=d==="left"?-3:3),h("shift",w)}h("position",f)}h("automargin",v);var M=!1;if(r.length&&(M=L.coerce(C,y,{overlaying:{valType:"enumerated",values:[!1].concat(r),dflt:!1}},"overlaying")),!M){var P=h("domain",u);P[0]>P[1]-.000244140625&&(y.domain=u),L.noneOrAll(C.domain,y.domain,u),y.tickmode==="sync"&&(y.tickmode="auto")}return h("layer"),y}},89426:function(V,B,e){var p=e(59652);V.exports=function(n,C,y,h,g){g||(g={});var t=g.tickSuffixDflt,r=p(n),l=y("tickprefix");l&&y("showtickprefix",r);var a=y("ticksuffix",t);a&&y("showticksuffix",r)}},42449:function(V,B,e){var p=e(18783).FROM_BL;V.exports=function(n,C,y){y===void 0&&(y=p[n.constraintoward||"center"]);var h=[n.r2l(n.range[0]),n.r2l(n.range[1])],g=h[0]+(h[1]-h[0])*y;n.range=n._input.range=[n.l2r(g+(h[0]-g)*C),n.l2r(g+(h[1]-g)*C)],n.setScale()}},21994:function(V,B,e){var p=e(39898),L=e(84096).g0,n=e(71828),C=n.numberFormat,y=e(92770),h=n.cleanNumber,g=n.ms2DateTime,t=n.dateTime2ms,r=n.ensureNumber,l=n.isArrayOrTypedArray,a=e(50606),s=a.FP_SAFE,c=a.BADNUM,u=a.LOG_CLIP,b=a.ONEWEEK,f=a.ONEDAY,w=a.ONEHOUR,v=a.ONEMIN,o=a.ONESEC,d=e(41675),S=e(85555),M=S.HOUR_PATTERN,P=S.WEEKDAY_PATTERN;function x(T){return Math.pow(10,T)}function E(T){return T!=null}V.exports=function(i,R){R=R||{};var A=i._id||"x",k=A.charAt(0);function _(X,re){if(X>0)return Math.log(X)/Math.LN10;if(X<=0&&re&&i.range&&i.range.length===2){var se=i.range[0],Q=i.range[1];return .5*(se+Q-2*u*Math.abs(se-Q))}else return c}function H(X,re,se,Q){if((Q||{}).msUTC&&y(X))return+X;var ee=t(X,se||i.calendar);if(ee===c)if(y(X)){X=+X;var le=Math.floor(n.mod(X+.05,1)*10),oe=Math.round(X-le/10);ee=t(new Date(oe))+le/10}else return c;return ee}function z(X,re,se){return g(X,re,se||i.calendar)}function N(X){return i._categories[Math.round(X)]}function O(X){if(E(X)){if(i._categoriesMap===void 0&&(i._categoriesMap={}),i._categoriesMap[X]!==void 0)return i._categoriesMap[X];i._categories.push(typeof X=="number"?String(X):X);var re=i._categories.length-1;return i._categoriesMap[X]=re,re}return c}function F(X,re){for(var se=new Array(re),Q=0;Q<re;Q++){var ee=(X[0]||[])[Q],le=(X[1]||[])[Q];se[Q]=U([ee,le])}return se}function U(X){if(i._categoriesMap)return i._categoriesMap[X]}function Z(X){var re=U(X);if(re!==void 0)return re;if(y(X))return+X}function q(X){return y(X)?+X:U(X)}function J(X,re,se){return p.round(se+re*X,2)}function te(X,re,se){return(X-se)/re}var fe=function(re){return y(re)?J(re,i._m,i._b):c},K=function(X){return te(X,i._m,i._b)};if(i.rangebreaks){var Y=k==="y";fe=function(X){if(!y(X))return c;var re=i._rangebreaks.length;if(!re)return J(X,i._m,i._b);var se=Y;i.range[0]>i.range[1]&&(se=!se);for(var Q=se?-1:1,ee=Q*X,le=0,oe=0;oe<re;oe++){var he=Q*i._rangebreaks[oe].min,xe=Q*i._rangebreaks[oe].max;if(ee<he)break;if(ee>xe)le=oe+1;else{le=ee<(he+xe)/2?oe:oe+1;break}}var Ae=i._B[le]||0;return isFinite(Ae)?J(X,i._m2,Ae):0},K=function(X){var re=i._rangebreaks.length;if(!re)return te(X,i._m,i._b);for(var se=0,Q=0;Q<re&&!(X<i._rangebreaks[Q].pmin);Q++)X>i._rangebreaks[Q].pmax&&(se=Q+1);return te(X,i._m2,i._B[se])}}i.c2l=i.type==="log"?_:r,i.l2c=i.type==="log"?x:r,i.l2p=fe,i.p2l=K,i.c2p=i.type==="log"?function(X,re){return fe(_(X,re))}:fe,i.p2c=i.type==="log"?function(X){return x(K(X))}:K,["linear","-"].indexOf(i.type)!==-1?(i.d2r=i.r2d=i.d2c=i.r2c=i.d2l=i.r2l=h,i.c2d=i.c2r=i.l2d=i.l2r=r,i.d2p=i.r2p=function(X){return i.l2p(h(X))},i.p2d=i.p2r=K,i.cleanPos=r):i.type==="log"?(i.d2r=i.d2l=function(X,re){return _(h(X),re)},i.r2d=i.r2c=function(X){return x(h(X))},i.d2c=i.r2l=h,i.c2d=i.l2r=r,i.c2r=_,i.l2d=x,i.d2p=function(X,re){return i.l2p(i.d2r(X,re))},i.p2d=function(X){return x(K(X))},i.r2p=function(X){return i.l2p(h(X))},i.p2r=K,i.cleanPos=r):i.type==="date"?(i.d2r=i.r2d=n.identity,i.d2c=i.r2c=i.d2l=i.r2l=H,i.c2d=i.c2r=i.l2d=i.l2r=z,i.d2p=i.r2p=function(X,re,se){return i.l2p(H(X,0,se))},i.p2d=i.p2r=function(X,re,se){return z(K(X),re,se)},i.cleanPos=function(X){return n.cleanDate(X,c,i.calendar)}):i.type==="category"?(i.d2c=i.d2l=O,i.r2d=i.c2d=i.l2d=N,i.d2r=i.d2l_noadd=Z,i.r2c=function(X){var re=q(X);return re!==void 0?re:i.fraction2r(.5)},i.l2r=i.c2r=r,i.r2l=q,i.d2p=function(X){return i.l2p(i.r2c(X))},i.p2d=function(X){return N(K(X))},i.r2p=i.d2p,i.p2r=K,i.cleanPos=function(X){return typeof X=="string"&&X!==""?X:r(X)}):i.type==="multicategory"&&(i.r2d=i.c2d=i.l2d=N,i.d2r=i.d2l_noadd=Z,i.r2c=function(X){var re=Z(X);return re!==void 0?re:i.fraction2r(.5)},i.r2c_just_indices=U,i.l2r=i.c2r=r,i.r2l=Z,i.d2p=function(X){return i.l2p(i.r2c(X))},i.p2d=function(X){return N(K(X))},i.r2p=i.d2p,i.p2r=K,i.cleanPos=function(X){return Array.isArray(X)||typeof X=="string"&&X!==""?X:r(X)},i.setupMultiCategory=function(X){var re=i._traceIndices,se,Q,ee=i._matchGroup;if(ee&&i._categories.length===0){for(var le in ee)if(le!==A){var oe=R[d.id2name(le)];re=re.concat(oe._traceIndices)}}var he=[[0,{}],[0,{}]],xe=[];for(se=0;se<re.length;se++){var Ae=X[re[se]];if(k in Ae){var Se=Ae[k],Oe=Ae._length||n.minRowLength(Se);if(l(Se[0])&&l(Se[1]))for(Q=0;Q<Oe;Q++){var Ve=Se[0][Q],Ee=Se[1][Q];E(Ve)&&E(Ee)&&(xe.push([Ve,Ee]),Ve in he[0][1]||(he[0][1][Ve]=he[0][0]++),Ee in he[1][1]||(he[1][1][Ee]=he[1][0]++))}}}for(xe.sort(function(Te,Le){var Ge=he[0][1],He=Ge[Te[0]]-Ge[Le[0]];if(He)return He;var ke=he[1][1];return ke[Te[1]]-ke[Le[1]]}),se=0;se<xe.length;se++)O(xe[se])}),i.fraction2r=function(X){var re=i.r2l(i.range[0]),se=i.r2l(i.range[1]);return i.l2r(re+X*(se-re))},i.r2fraction=function(X){var re=i.r2l(i.range[0]),se=i.r2l(i.range[1]);return(i.r2l(X)-re)/(se-re)},i.cleanRange=function(X,re){re||(re={}),X||(X="range");var se=n.nestedProperty(i,X).get(),Q,ee;if(i.type==="date"?ee=n.dfltRange(i.calendar):k==="y"?ee=S.DFLTRANGEY:i._name==="realaxis"?ee=[0,1]:ee=re.dfltRange||S.DFLTRANGEX,ee=ee.slice(),(i.rangemode==="tozero"||i.rangemode==="nonnegative")&&(ee[0]=0),!se||se.length!==2){n.nestedProperty(i,X).set(ee);return}for(i.type==="date"&&!i.autorange&&(se[0]=n.cleanDate(se[0],c,i.calendar),se[1]=n.cleanDate(se[1],c,i.calendar)),Q=0;Q<2;Q++)if(i.type==="date"){if(!n.isDateTime(se[Q],i.calendar)){i[X]=ee;break}if(i.r2l(se[0])===i.r2l(se[1])){var le=n.constrain(i.r2l(se[0]),n.MIN_MS+1e3,n.MAX_MS-1e3);se[0]=i.l2r(le-1e3),se[1]=i.l2r(le+1e3);break}}else{if(!y(se[Q]))if(y(se[1-Q]))se[Q]=se[1-Q]*(Q?10:.1);else{i[X]=ee;break}if(se[Q]<-s?se[Q]=-s:se[Q]>s&&(se[Q]=s),se[0]===se[1]){var oe=Math.max(1,Math.abs(se[0]*1e-6));se[0]-=oe,se[1]+=oe}}},i.setScale=function(X){var re=R._size;if(i.overlaying){var se=d.getFromId({_fullLayout:R},i.overlaying);i.domain=se.domain}var Q=X&&i._r?"_r":"range",ee=i.calendar;i.cleanRange(Q);var le=i.r2l(i[Q][0],ee),oe=i.r2l(i[Q][1],ee),he=k==="y";if(he?(i._offset=re.t+(1-i.domain[1])*re.h,i._length=re.h*(i.domain[1]-i.domain[0]),i._m=i._length/(le-oe),i._b=-i._m*oe):(i._offset=re.l+i.domain[0]*re.w,i._length=re.w*(i.domain[1]-i.domain[0]),i._m=i._length/(oe-le),i._b=-i._m*le),i._rangebreaks=[],i._lBreaks=0,i._m2=0,i._B=[],i.rangebreaks){var xe,Ae;if(i._rangebreaks=i.locateBreaks(Math.min(le,oe),Math.max(le,oe)),i._rangebreaks.length){for(xe=0;xe<i._rangebreaks.length;xe++)Ae=i._rangebreaks[xe],i._lBreaks+=Math.abs(Ae.max-Ae.min);var Se=he;le>oe&&(Se=!Se),Se&&i._rangebreaks.reverse();var Oe=Se?-1:1;for(i._m2=Oe*i._length/(Math.abs(oe-le)-i._lBreaks),i._B.push(-i._m2*(he?oe:le)),xe=0;xe<i._rangebreaks.length;xe++)Ae=i._rangebreaks[xe],i._B.push(i._B[i._B.length-1]-Oe*i._m2*(Ae.max-Ae.min));for(xe=0;xe<i._rangebreaks.length;xe++)Ae=i._rangebreaks[xe],Ae.pmin=fe(Ae.min),Ae.pmax=fe(Ae.max)}}if(!isFinite(i._m)||!isFinite(i._b)||i._length<0)throw R._replotting=!1,new Error("Something went wrong with axis scaling")},i.maskBreaks=function(X){var re=i.rangebreaks||[],se,Q,ee,le,oe;re._cachedPatterns||(re._cachedPatterns=re.map(function(Ge){return Ge.enabled&&Ge.bounds?n.simpleMap(Ge.bounds,Ge.pattern?h:i.d2c):null})),re._cachedValues||(re._cachedValues=re.map(function(Ge){return Ge.enabled&&Ge.values?n.simpleMap(Ge.values,i.d2c).sort(n.sorterAsc):null}));for(var he=0;he<re.length;he++){var xe=re[he];if(xe.enabled){if(xe.bounds){var Ae=xe.pattern;switch(se=re._cachedPatterns[he],Q=se[0],ee=se[1],Ae){case P:oe=new Date(X),le=oe.getUTCDay(),Q>ee&&(ee+=7,le<Q&&(le+=7));break;case M:oe=new Date(X);var Se=oe.getUTCHours(),Oe=oe.getUTCMinutes(),Ve=oe.getUTCSeconds(),Ee=oe.getUTCMilliseconds();le=Se+(Oe/60+Ve/3600+Ee/36e5),Q>ee&&(ee+=24,le<Q&&(le+=24));break;case"":le=X;break}if(le>=Q&&le<ee)return c}else for(var Te=re._cachedValues[he],Le=0;Le<Te.length;Le++)if(Q=Te[Le],ee=Q+xe.dvalue,X>=Q&&X<ee)return c}}return X},i.locateBreaks=function(X,re){var se,Q,ee,le,oe=[];if(!i.rangebreaks)return oe;var he=i.rangebreaks.slice().sort(function(ke,We){return ke.pattern===P&&We.pattern===M?-1:We.pattern===P&&ke.pattern===M?1:0}),xe=function(ke,We){if(ke=n.constrain(ke,X,re),We=n.constrain(We,X,re),ke!==We){for(var nt=!0,qe=0;qe<oe.length;qe++){var Qe=oe[qe];ke<Qe.max&&We>=Qe.min&&(ke<Qe.min&&(Qe.min=ke),We>Qe.max&&(Qe.max=We),nt=!1)}nt&&oe.push({min:ke,max:We})}};for(se=0;se<he.length;se++){var Ae=he[se];if(Ae.enabled)if(Ae.bounds){var Se=X,Oe=re;Ae.pattern&&(Se=Math.floor(Se)),Q=n.simpleMap(Ae.bounds,Ae.pattern?h:i.r2l),ee=Q[0],le=Q[1];var Ve=new Date(Se),Ee,Te;switch(Ae.pattern){case P:Te=b,Ee=((le<ee?7:0)+(le-ee))*f,Se+=ee*f-(Ve.getUTCDay()*f+Ve.getUTCHours()*w+Ve.getUTCMinutes()*v+Ve.getUTCSeconds()*o+Ve.getUTCMilliseconds());break;case M:Te=f,Ee=((le<ee?24:0)+(le-ee))*w,Se+=ee*w-(Ve.getUTCHours()*w+Ve.getUTCMinutes()*v+Ve.getUTCSeconds()*o+Ve.getUTCMilliseconds());break;default:Se=Math.min(Q[0],Q[1]),Oe=Math.max(Q[0],Q[1]),Te=Oe-Se,Ee=Te}for(var Le=Se;Le<Oe;Le+=Te)xe(Le,Le+Ee)}else for(var Ge=n.simpleMap(Ae.values,i.d2c),He=0;He<Ge.length;He++)ee=Ge[He],le=ee+Ae.dvalue,xe(ee,le)}return oe.sort(function(ke,We){return ke.min-We.min}),oe},i.makeCalcdata=function(X,re,se){var Q,ee,le,oe,he=i.type,xe=he==="date"&&X[re+"calendar"];if(re in X){if(Q=X[re],oe=X._length||n.minRowLength(Q),n.isTypedArray(Q)&&(he==="linear"||he==="log")){if(oe===Q.length)return Q;if(Q.subarray)return Q.subarray(0,oe)}if(he==="multicategory")return F(Q,oe);for(ee=new Array(oe),le=0;le<oe;le++)ee[le]=i.d2c(Q[le],0,xe,se)}else{var Ae=re+"0"in X?i.d2c(X[re+"0"],0,xe):0,Se=X["d"+re]?Number(X["d"+re]):1;for(Q=X[{x:"y",y:"x"}[re]],oe=X._length||Q.length,ee=new Array(oe),le=0;le<oe;le++)ee[le]=Ae+le*Se}if(i.rangebreaks)for(le=0;le<oe;le++)ee[le]=i.maskBreaks(ee[le]);return ee},i.isValidRange=function(X){return Array.isArray(X)&&X.length===2&&y(i.r2l(X[0]))&&y(i.r2l(X[1]))},i.isPtWithinRange=function(X,re){var se=i.c2l(X[k],null,re),Q=i.r2l(i.range[0]),ee=i.r2l(i.range[1]);return Q<ee?Q<=se&&se<=ee:ee<=se&&se<=Q},i._emptyCategories=function(){i._categories=[],i._categoriesMap={}},i.clearCalc=function(){var X=i._matchGroup;if(X){var re=null,se=null;for(var Q in X){var ee=R[d.id2name(Q)];if(ee._categories){re=ee._categories,se=ee._categoriesMap;break}}re&&se?(i._categories=re,i._categoriesMap=se):i._emptyCategories()}else i._emptyCategories();if(i._initialCategories)for(var le=0;le<i._initialCategories.length;le++)O(i._initialCategories[le])},i.sortByInitialCategories=function(){var X=[];if(i._emptyCategories(),i._initialCategories)for(var re=0;re<i._initialCategories.length;re++)O(i._initialCategories[re]);X=X.concat(i._traceIndices);var se=i._matchGroup;for(var Q in se)if(A!==Q){var ee=R[d.id2name(Q)];ee._categories=i._categories,ee._categoriesMap=i._categoriesMap,X=X.concat(ee._traceIndices)}return X};var W=R._d3locale;i.type==="date"&&(i._dateFormat=W?W.timeFormat:L,i._extraFormat=R._extraFormat),i._separators=R.separators,i._numFormat=W?W.numberFormat:C,delete i._minDtick,delete i._forceTick0}},59652:function(V){V.exports=function(e){var p=["showexponent","showtickprefix","showticksuffix"],L=p.filter(function(C){return e[C]!==void 0}),n=function(C){return e[C]===e[L[0]]};if(L.every(n)||L.length===1)return e[L[0]]}},96115:function(V,B,e){var p=e(71828),L=e(7901).contrast,n=e(13838),C=e(59652),y=e(85501);V.exports=function(t,r,l,a,s){s||(s={});var c=l("labelalias");p.isPlainObject(c)||delete r.labelalias;var u=C(t),b=l("showticklabels");if(b){var f=s.font||{},w=r.color,v=r.ticklabelposition||"",o=v.indexOf("inside")!==-1?L(s.bgColor):w&&w!==n.color.dflt?w:f.color;if(p.coerceFont(l,"tickfont",{family:f.family,size:f.size,color:o}),!s.noTicklabelstep&&a!=="multicategory"&&a!=="log"&&l("ticklabelstep"),s.noAng||l("tickangle"),a!=="category"){var d=l("tickformat");y(t,r,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:h}),r.tickformatstops.length||delete r.tickformatstops,!s.noExp&&!d&&a!=="date"&&(l("showexponent",u),l("exponentformat"),l("minexponent"),l("separatethousands"))}}};function h(g,t){function r(a,s){return p.coerce(g,t,n.tickformatstops,a,s)}var l=r("enabled");l&&(r("dtickrange"),r("value"))}},38701:function(V,B,e){var p=e(71828),L=e(13838);V.exports=function(C,y,h,g){var t=g.isMinor,r=t?C.minor||{}:C,l=t?y.minor:y,a=t?L.minor:L,s=t?"minor.":"",c=p.coerce2(r,l,a,"ticklen",t?(y.ticklen||5)*.6:void 0),u=p.coerce2(r,l,a,"tickwidth",t?y.tickwidth||1:void 0),b=p.coerce2(r,l,a,"tickcolor",(t?y.tickcolor:void 0)||l.color),f=h(s+"ticks",!t&&g.outerTicks||c||u||b?"outside":"");f||(delete l.ticklen,delete l.tickwidth,delete l.tickcolor)}},26218:function(V,B,e){var p=e(66287),L=e(71828).isArrayOrTypedArray;V.exports=function(C,y,h,g,t){t||(t={});var r=t.isMinor,l=r?C.minor||{}:C,a=r?y.minor:y,s=r?"minor.":"";function c(S){var M=l[S];return M!==void 0?M:(a._template||{})[S]}var u=c("tick0"),b=c("dtick"),f=c("tickvals"),w=L(f)?"array":b?"linear":"auto",v=h(s+"tickmode",w);if(v==="auto"||v==="sync")h(s+"nticks");else if(v==="linear"){var o=a.dtick=p.dtick(b,g);a.tick0=p.tick0(u,g,y.calendar,o)}else if(g!=="multicategory"){var d=h(s+"tickvals");d===void 0?a.tickmode="auto":r||h("ticktext")}}},66847:function(V,B,e){var p=e(39898),L=e(73972),n=e(71828),C=e(91424),y=e(89298);V.exports=function(g,t,r,l){var a=g._fullLayout;if(t.length===0){y.redrawComponents(g);return}function s(M){var P=M.xaxis,x=M.yaxis;a._defs.select("#"+M.clipId+"> rect").call(C.setTranslate,0,0).call(C.setScale,1,1),M.plot.call(C.setTranslate,P._offset,x._offset).call(C.setScale,1,1);var E=M.plot.selectAll(".scatterlayer .trace");E.selectAll(".point").call(C.setPointGroupScale,1,1),E.selectAll(".textpoint").call(C.setTextPointsScale,1,1),E.call(C.hideOutsideRangePoints,M)}function c(M,P){var x=M.plotinfo,E=x.xaxis,T=x.yaxis,i=E._length,R=T._length,A=!!M.xr1,k=!!M.yr1,_=[];if(A){var H=n.simpleMap(M.xr0,E.r2l),z=n.simpleMap(M.xr1,E.r2l),N=H[1]-H[0],O=z[1]-z[0];_[0]=(H[0]*(1-P)+P*z[0]-H[0])/(H[1]-H[0])*i,_[2]=i*(1-P+P*O/N),E.range[0]=E.l2r(H[0]*(1-P)+P*z[0]),E.range[1]=E.l2r(H[1]*(1-P)+P*z[1])}else _[0]=0,_[2]=i;if(k){var F=n.simpleMap(M.yr0,T.r2l),U=n.simpleMap(M.yr1,T.r2l),Z=F[1]-F[0],q=U[1]-U[0];_[1]=(F[1]*(1-P)+P*U[1]-F[1])/(F[0]-F[1])*R,_[3]=R*(1-P+P*q/Z),T.range[0]=E.l2r(F[0]*(1-P)+P*U[0]),T.range[1]=T.l2r(F[1]*(1-P)+P*U[1])}else _[1]=0,_[3]=R;y.drawOne(g,E,{skipTitle:!0}),y.drawOne(g,T,{skipTitle:!0}),y.redrawComponents(g,[E._id,T._id]);var J=A?i/_[2]:1,te=k?R/_[3]:1,fe=A?_[0]:0,K=k?_[1]:0,Y=A?_[0]/_[2]*i:0,W=k?_[1]/_[3]*R:0,X=E._offset-Y,re=T._offset-W;x.clipRect.call(C.setTranslate,fe,K).call(C.setScale,1/J,1/te),x.plot.call(C.setTranslate,X,re).call(C.setScale,J,te),C.setPointGroupScale(x.zoomScalePts,1/J,1/te),C.setTextPointsScale(x.zoomScaleTxt,1/J,1/te)}var u;l&&(u=l());function b(){for(var M={},P=0;P<t.length;P++){var x=t[P],E=x.plotinfo.xaxis,T=x.plotinfo.yaxis;x.xr1&&(M[E._name+".range"]=x.xr1.slice()),x.yr1&&(M[T._name+".range"]=x.yr1.slice())}return u&&u(),L.call("relayout",g,M).then(function(){for(var i=0;i<t.length;i++)s(t[i].plotinfo)})}function f(){for(var M={},P=0;P<t.length;P++){var x=t[P],E=x.plotinfo.xaxis,T=x.plotinfo.yaxis;x.xr0&&(M[E._name+".range"]=x.xr0.slice()),x.yr0&&(M[T._name+".range"]=x.yr0.slice())}return L.call("relayout",g,M).then(function(){for(var i=0;i<t.length;i++)s(t[i].plotinfo)})}var w,v,o,d=p.ease(r.easing);g._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(o),o=null,f()});function S(){v=Date.now();for(var M=Math.min(1,(v-w)/r.duration),P=d(M),x=0;x<t.length;x++)c(t[x],P);v-w>r.duration?(b(),o=window.cancelAnimationFrame(S)):o=window.requestAnimationFrame(S)}return w=Date.now(),o=window.requestAnimationFrame(S),Promise.resolve()}},951:function(V,B,e){var p=e(73972).traceIs,L=e(4322);V.exports=function(t,r,l,a){l("autotypenumbers",a.autotypenumbersDflt);var s=l("type",(a.splomStash||{}).type);s==="-"&&(n(r,a.data),r.type==="-"?r.type="linear":t.type=r.type)};function n(g,t){if(g.type==="-"){var r=g._id,l=r.charAt(0),a;r.indexOf("scene")!==-1&&(r=l);var s=C(t,r,l);if(s){if(s.type==="histogram"&&l==={v:"y",h:"x"}[s.orientation||"v"]){g.type="linear";return}var c=l+"calendar",u=s[c],b={noMultiCategory:!p(s,"cartesian")||p(s,"noMultiCategory")};if(s.type==="box"&&s._hasPreCompStats&&l==={h:"x",v:"y"}[s.orientation||"v"]&&(b.noMultiCategory=!0),b.autotypenumbers=g.autotypenumbers,h(s,l)){var f=y(s),w=[];for(a=0;a<t.length;a++){var v=t[a];!p(v,"box-violin")||(v[l+"axis"]||l)!==r||(v[f]!==void 0?w.push(v[f][0]):v.name!==void 0?w.push(v.name):w.push("text"),v[c]!==u&&(u=void 0))}g.type=L(w,u,b)}else if(s.type==="splom"){var o=s.dimensions,d=o[s._axesDim[r]];d.visible&&(g.type=L(d.values,u,b))}else g.type=L(s[l]||[s[l+"0"]],u,b)}}}function C(g,t,r){for(var l=0;l<g.length;l++){var a=g[l];if(a.type==="splom"&&a._length>0&&(a["_"+r+"axes"]||{})[t])return a;if((a[r+"axis"]||r)===t){if(h(a,r))return a;if((a[r]||[]).length||a[r+"0"])return a}}}function y(g){return{v:"x",h:"y"}[g.orientation||"v"]}function h(g,t){var r=y(g),l=p(g,"box-violin"),a=p(g._fullInput||{},"candlestick");return l&&!a&&t===r&&g[r]===void 0&&g[r+"0"]===void 0}},31137:function(V,B,e){var p=e(73972),L=e(71828);B.manageCommandObserver=function(t,r,l,a){var s={},c=!0;r&&r._commandObserver&&(s=r._commandObserver),s.cache||(s.cache={}),s.lookupTable={};var u=B.hasSimpleAPICommandBindings(t,l,s.lookupTable);if(r&&r._commandObserver){if(u)return s;if(r._commandObserver.remove)return r._commandObserver.remove(),r._commandObserver=null,s}if(u){n(t,u,s.cache),s.check=function(){if(c){var v=n(t,u,s.cache);return v.changed&&a&&s.lookupTable[v.value]!==void 0&&(s.disable(),Promise.resolve(a({value:v.value,type:u.type,prop:u.prop,traces:u.traces,index:s.lookupTable[v.value]})).then(s.enable,s.enable)),v.changed}};for(var b=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],f=0;f<b.length;f++)t._internalOn(b[f],s.check);s.remove=function(){for(var w=0;w<b.length;w++)t._removeInternalListener(b[w],s.check)}}else L.log("Unable to automatically bind plot updates to API command"),s.lookupTable={},s.remove=function(){};return s.disable=function(){c=!1},s.enable=function(){c=!0},r&&(r._commandObserver=s),s},B.hasSimpleAPICommandBindings=function(t,r,l){var a,s=r.length,c;for(a=0;a<s;a++){var u,b=r[a],f=b.method,w=b.args;if(Array.isArray(w)||(w=[]),!f)return!1;var v=B.computeAPICommandBindings(t,f,w);if(v.length!==1)return!1;if(!c)c=v[0],Array.isArray(c.traces)&&c.traces.sort();else{if(u=v[0],u.type!==c.type||u.prop!==c.prop)return!1;if(Array.isArray(c.traces))if(Array.isArray(u.traces)){u.traces.sort();for(var o=0;o<c.traces.length;o++)if(c.traces[o]!==u.traces[o])return!1}else return!1;else if(u.prop!==c.prop)return!1}u=v[0];var d=u.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;l&&(l[d]=a)}return c};function n(t,r,l){var a,s,c,u=!1;if(r.type==="data")a=t._fullData[r.traces!==null?r.traces[0]:0];else if(r.type==="layout")a=t._fullLayout;else return!1;return s=L.nestedProperty(a,r.prop).get(),c=l[r.type]=l[r.type]||{},c.hasOwnProperty(r.prop)&&c[r.prop]!==s&&(u=!0),c[r.prop]=s,{changed:u,value:s}}B.executeAPICommand=function(t,r,l){if(r==="skip")return Promise.resolve();var a=p.apiMethodRegistry[r],s=[t];Array.isArray(l)||(l=[]);for(var c=0;c<l.length;c++)s.push(l[c]);return a.apply(null,s).catch(function(u){return L.warn("API call to Plotly."+r+" rejected.",u),Promise.reject(u)})},B.computeAPICommandBindings=function(t,r,l){var a;switch(Array.isArray(l)||(l=[]),r){case"restyle":a=h(t,l);break;case"relayout":a=y(t,l);break;case"update":a=h(t,[l[0],l[2]]).concat(y(t,[l[1]]));break;case"animate":a=C(t,l);break;default:a=[]}return a};function C(t,r){return Array.isArray(r[0])&&r[0].length===1&&["string","number"].indexOf(typeof r[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:r[0][0].toString()}]:[]}function y(t,r){var l=[],a=r[0],s={};if(typeof a=="string")s[a]=r[1];else if(L.isPlainObject(a))s=a;else return l;return g(s,function(c,u,b){l.push({type:"layout",prop:c,value:b})},"",0),l}function h(t,r){var l,a,s,c,u=[];if(a=r[0],s=r[1],l=r[2],c={},typeof a=="string")c[a]=s;else if(L.isPlainObject(a))c=a,l===void 0&&(l=s);else return u;return l===void 0&&(l=null),g(c,function(b,f,w){var v,o;if(Array.isArray(w)){o=w.slice();var d=Math.min(o.length,t.data.length);l&&(d=Math.min(d,l.length)),v=[];for(var S=0;S<d;S++)v[S]=l?l[S]:S}else o=w,v=l?l.slice():null;if(v===null)Array.isArray(o)&&(o=o[0]);else if(Array.isArray(v)){if(!Array.isArray(o)){var M=o;o=[];for(var P=0;P<v.length;P++)o[P]=M}o.length=Math.min(v.length,o.length)}u.push({type:"data",prop:b,traces:v,value:o})},"",0),u}function g(t,r,l,a){Object.keys(t).forEach(function(s){var c=t[s];if(s[0]!=="_"){var u=l+(a>0?".":"")+s;L.isPlainObject(c)?g(c,r,u,a+1):r(u,s,c)}})}},27670:function(V,B,e){var p=e(1426).extendFlat;B.Y=function(L,n){L=L||{},n=n||{};var C={valType:"info_array",editType:L.editType,items:[{valType:"number",min:0,max:1,editType:L.editType},{valType:"number",min:0,max:1,editType:L.editType}],dflt:[0,1]};L.name&&L.name+"",L.trace,n.description&&""+n.description;var y={x:p({},C,{}),y:p({},C,{}),editType:L.editType};return L.noGridCell||(y.row={valType:"integer",min:0,dflt:0,editType:L.editType},y.column={valType:"integer",min:0,dflt:0,editType:L.editType}),y},B.c=function(L,n,C,y){var h=y&&y.x||[0,1],g=y&&y.y||[0,1],t=n.grid;if(t){var r=C("domain.column");r!==void 0&&(r<t.columns?h=t._domains.x[r]:delete L.domain.column);var l=C("domain.row");l!==void 0&&(l<t.rows?g=t._domains.y[l]:delete L.domain.row)}var a=C("domain.x",h),s=C("domain.y",g);a[0]<a[1]||(L.domain.x=h.slice()),s[0]<s[1]||(L.domain.y=g.slice())}},41940:function(V){V.exports=function(B){var e=B.editType,p=B.colorEditType;p===void 0&&(p=e);var L={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:p},editType:e};return B.autoSize&&(L.size.dflt="auto"),B.autoColor&&(L.color.dflt="auto"),B.arrayOk&&(L.family.arrayOk=!0,L.size.arrayOk=!0,L.color.arrayOk=!0),L}},31391:function(V){V.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(V,B){B.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},B.axesNames=["lonaxis","lataxis"],B.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},B.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},B.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},B.clipPad=.001,B.precision=.1,B.landColor="#F0DC82",B.waterColor="#3399FF",B.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},B.sphereSVG={type:"Sphere"},B.fillLayers={ocean:1,land:1,lakes:1},B.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},B.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],B.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],B.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(V,B,e){var p=e(39898),L=e(27362),n=L.geoPath,C=L.geoDistance,y=e(65704),h=e(73972),g=e(71828),t=g.strTranslate,r=e(7901),l=e(91424),a=e(30211),s=e(74875),c=e(89298),u=e(71739).getAutoRange,b=e(28569),f=e(47322).prepSelect,w=e(47322).clearOutline,v=e(47322).selectOnClick,o=e(74455),d=e(78776),S=e(41327),M=e(90973),P=e(96892).zL;function x(A){this.id=A.id,this.graphDiv=A.graphDiv,this.container=A.container,this.topojsonURL=A.topojsonURL,this.isStatic=A.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var E=x.prototype;V.exports=function(k){return new x(k)},E.plot=function(A,k,_,H){var z=this;if(H)return z.update(A,k,!0);z._geoCalcData=A,z._fullLayout=k;var N=k[this.id],O=[],F=!1;for(var U in d.layerNameToAdjective)if(U!=="frame"&&N["show"+U]){F=!0;break}for(var Z=!1,q=0;q<A.length;q++){var J=A[0][0].trace;J._geo=z,J.locationmode&&(F=!0);var te=J.marker;if(te){var fe=te.angle,K=te.angleref;(fe||K==="north"||K==="previous")&&(Z=!0)}}if(this._hasMarkerAngles=Z,F){var Y=M.getTopojsonName(N);(z.topojson===null||Y!==z.topojsonName)&&(z.topojsonName=Y,PlotlyGeoAssets.topojson[z.topojsonName]===void 0&&O.push(z.fetchTopojson()))}O=O.concat(S.fetchTraceGeoData(A)),_.push(new Promise(function(W,X){Promise.all(O).then(function(){z.topojson=PlotlyGeoAssets.topojson[z.topojsonName],z.update(A,k),W()}).catch(X)}))},E.fetchTopojson=function(){var A=this,k=M.getTopojsonPath(A.topojsonURL,A.topojsonName);return new Promise(function(_,H){p.json(k,function(z,N){if(z)return z.status===404?H(new Error(["plotly.js could not find topojson file at",k+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):H(new Error(["unexpected error while fetching topojson file at",k].join(" ")));PlotlyGeoAssets.topojson[A.topojsonName]=N,_()})})},E.update=function(A,k,_){var H=k[this.id];this.hasChoropleth=!1;for(var z=0;z<A.length;z++){var N=A[z],O=N[0].trace;O.type==="choropleth"&&(this.hasChoropleth=!0),O.visible===!0&&O._length>0&&O._module.calcGeoJSON(N,k)}if(!_){var F=this.updateProjection(A,k);if(F)return;(!this.viewInitial||this.scope!==H.scope)&&this.saveViewInitial(H)}this.scope=H.scope,this.updateBaseLayers(k,H),this.updateDims(k,H),this.updateFx(k,H),s.generalUpdatePerTraceModule(this.graphDiv,this,A,H);var U=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=U.selectAll(".point"),this.dataPoints.text=U.selectAll("text"),this.dataPaths.line=U.selectAll(".js-line");var Z=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=Z.selectAll("path"),this._render()},E.updateProjection=function(A,k){var _=this.graphDiv,H=k[this.id],z=k._size,N=H.domain,O=H.projection,F=H.lonaxis,U=H.lataxis,Z=F._ax,q=U._ax,J=this.projection=T(H),te=[[z.l+z.w*N.x[0],z.t+z.h*(1-N.y[1])],[z.l+z.w*N.x[1],z.t+z.h*(1-N.y[0])]],fe=H.center||{},K=O.rotation||{},Y=F.range||[],W=U.range||[];if(H.fitbounds){Z._length=te[1][0]-te[0][0],q._length=te[1][1]-te[0][1],Z.range=u(_,Z),q.range=u(_,q);var X=(Z.range[0]+Z.range[1])/2,re=(q.range[0]+q.range[1])/2;if(H._isScoped)fe={lon:X,lat:re};else if(H._isClipped){fe={lon:X,lat:re},K={lon:X,lat:re,roll:K.roll};var se=O.type,Q=d.lonaxisSpan[se]/2||180,ee=d.lataxisSpan[se]/2||90;Y=[X-Q,X+Q],W=[re-ee,re+ee]}else fe={lon:X,lat:re},K={lon:X,lat:K.lat,roll:K.roll}}J.center([fe.lon-K.lon,fe.lat-K.lat]).rotate([-K.lon,-K.lat,K.roll]).parallels(O.parallels);var le=R(Y,W);J.fitExtent(te,le);var oe=this.bounds=J.getBounds(le),he=this.fitScale=J.scale(),xe=J.translate();if(H.fitbounds){var Ae=J.getBounds(R(Z.range,q.range)),Se=Math.min((oe[1][0]-oe[0][0])/(Ae[1][0]-Ae[0][0]),(oe[1][1]-oe[0][1])/(Ae[1][1]-Ae[0][1]));isFinite(Se)?J.scale(Se*he):g.warn("Something went wrong during"+this.id+"fitbounds computations.")}else J.scale(O.scale*he);var Oe=this.midPt=[(oe[0][0]+oe[1][0])/2,(oe[0][1]+oe[1][1])/2];if(J.translate([xe[0]+(Oe[0]-xe[0]),xe[1]+(Oe[1]-xe[1])]).clipExtent(oe),H._isAlbersUsa){var Ve=J([fe.lon,fe.lat]),Ee=J.translate();J.translate([Ee[0]-(Ve[0]-Ee[0]),Ee[1]-(Ve[1]-Ee[1])])}},E.updateBaseLayers=function(A,k){var _=this,H=_.topojson,z=_.layers,N=_.basePaths;function O(te){return te==="lonaxis"||te==="lataxis"}function F(te){return!!d.lineLayers[te]}function U(te){return!!d.fillLayers[te]}var Z=this.hasChoropleth?d.layersForChoropleth:d.layers,q=Z.filter(function(te){return F(te)||U(te)?k["show"+te]:O(te)?k[te].showgrid:!0}),J=_.framework.selectAll(".layer").data(q,String);J.exit().each(function(te){delete z[te],delete N[te],p.select(this).remove()}),J.enter().append("g").attr("class",function(te){return"layer "+te}).each(function(te){var fe=z[te]=p.select(this);te==="bg"?_.bgRect=fe.append("rect").style("pointer-events","all"):O(te)?N[te]=fe.append("path").style("fill","none"):te==="backplot"?fe.append("g").classed("choroplethlayer",!0):te==="frontplot"?fe.append("g").classed("scatterlayer",!0):F(te)?N[te]=fe.append("path").style("fill","none").style("stroke-miterlimit",2):U(te)&&(N[te]=fe.append("path").style("stroke","none"))}),J.order(),J.each(function(te){var fe=N[te],K=d.layerNameToAdjective[te];te==="frame"?fe.datum(d.sphereSVG):F(te)||U(te)?fe.datum(P(H,H.objects[te])):O(te)&&fe.datum(i(te,k,A)).call(r.stroke,k[te].gridcolor).call(l.dashLine,k[te].griddash,k[te].gridwidth),F(te)?fe.call(r.stroke,k[K+"color"]).call(l.dashLine,"",k[K+"width"]):U(te)&&fe.call(r.fill,k[K+"color"])})},E.updateDims=function(A,k){var _=this.bounds,H=(k.framewidth||0)/2,z=_[0][0]-H,N=_[0][1]-H,O=_[1][0]-z+H,F=_[1][1]-N+H;l.setRect(this.clipRect,z,N,O,F),this.bgRect.call(l.setRect,z,N,O,F).call(r.fill,k.bgcolor),this.xaxis._offset=z,this.xaxis._length=O,this.yaxis._offset=N,this.yaxis._length=F},E.updateFx=function(A,k){var _=this,H=_.graphDiv,z=_.bgRect,N=A.dragmode,O=A.clickmode;if(_.isStatic)return;function F(){var J=_.viewInitial,te={};for(var fe in J)te[_.id+"."+fe]=J[fe];h.call("_guiRelayout",H,te),H.emit("plotly_doubleclick",null)}function U(J){return _.projection.invert([J[0]+_.xaxis._offset,J[1]+_.yaxis._offset])}var Z=function(J,te){if(te.isRect){var fe=J.range={};fe[_.id]=[U([te.xmin,te.ymin]),U([te.xmax,te.ymax])]}else{var K=J.lassoPoints={};K[_.id]=te.map(U)}},q={element:_.bgRect.node(),gd:H,plotinfo:{id:_.id,xaxis:_.xaxis,yaxis:_.yaxis,fillRangeItems:Z},xaxes:[_.xaxis],yaxes:[_.yaxis],subplot:_.id,clickFn:function(J){J===2&&w(H)}};N==="pan"?(z.node().onmousedown=null,z.call(o(_,k)),z.on("dblclick.zoom",F),H._context._scrollZoom.geo||z.on("wheel.zoom",null)):(N==="select"||N==="lasso")&&(z.on(".zoom",null),q.prepFn=function(J,te,fe){f(J,te,fe,q,N)},b.init(q)),z.on("mousemove",function(){var J=_.projection.invert(g.getPositionFromD3Event());if(!J)return b.unhover(H,p.event);_.xaxis.p2c=function(){return J[0]},_.yaxis.p2c=function(){return J[1]},a.hover(H,p.event,_.id)}),z.on("mouseout",function(){H._dragging||b.unhover(H,p.event)}),z.on("click",function(){N!=="select"&&N!=="lasso"&&(O.indexOf("select")>-1&&v(p.event,H,[_.xaxis],[_.yaxis],_.id,q),O.indexOf("event")>-1&&a.click(H,p.event))})},E.makeFramework=function(){var A=this,k=A.graphDiv,_=k._fullLayout,H="clip"+_._uid+A.id;A.clipDef=_._clips.append("clipPath").attr("id",H),A.clipRect=A.clipDef.append("rect"),A.framework=p.select(A.container).append("g").attr("class","geo "+A.id).call(l.setClipUrl,H,k),A.project=function(z){var N=A.projection(z);return N?[N[0]-A.xaxis._offset,N[1]-A.yaxis._offset]:[null,null]},A.xaxis={_id:"x",c2p:function(z){return A.project(z)[0]}},A.yaxis={_id:"y",c2p:function(z){return A.project(z)[1]}},A.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},c.setConvert(A.mockAxis,_)},E.saveViewInitial=function(A){var k=A.center||{},_=A.projection,H=_.rotation||{};this.viewInitial={fitbounds:A.fitbounds,"projection.scale":_.scale};var z;A._isScoped?z={"center.lon":k.lon,"center.lat":k.lat}:A._isClipped?z={"projection.rotation.lon":H.lon,"projection.rotation.lat":H.lat}:z={"center.lon":k.lon,"center.lat":k.lat,"projection.rotation.lon":H.lon},g.extendFlat(this.viewInitial,z)},E.render=function(A){this._hasMarkerAngles&&A?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},E._render=function(){var A=this.projection,k=A.getPath(),_;function H(N){var O=A(N.lonlat);return O?t(O[0],O[1]):null}function z(N){return A.isLonLatOverEdges(N.lonlat)?"none":null}for(_ in this.basePaths)this.basePaths[_].attr("d",k);for(_ in this.dataPaths)this.dataPaths[_].attr("d",function(N){return k(N.geojson)});for(_ in this.dataPoints)this.dataPoints[_].attr("display",z).attr("transform",H)};function T(A){var k=A.projection,_=k.type,H=d.projNames[_];H="geo"+g.titleCase(H);for(var z=L[H]||y[H],N=z(),O=A._isSatellite?Math.acos(1/k.distance)*180/Math.PI:A._isClipped?d.lonaxisSpan[_]/2:null,F=["center","rotate","parallels","clipExtent"],U=function(J){return J?N:[]},Z=0;Z<F.length;Z++){var q=F[Z];typeof N[q]!="function"&&(N[q]=U)}return N.isLonLatOverEdges=function(J){if(N(J)===null)return!0;if(O){var te=N.rotate(),fe=C(J,[-te[0],-te[1]]),K=O*Math.PI/180;return fe>K}else return!1},N.getPath=function(){return n().projection(N)},N.getBounds=function(J){return N.getPath().bounds(J)},N.precision(d.precision),A._isSatellite&&N.tilt(k.tilt).distance(k.distance),O&&N.clipAngle(O-d.clipPad),N}function i(A,k,_){var H=1e-6,z=2.5,N=k[A],O=d.scopeDefaults[k.scope],F,U,Z;A==="lonaxis"?(F=O.lonaxisRange,U=O.lataxisRange,Z=function(re,se){return[re,se]}):A==="lataxis"&&(F=O.lataxisRange,U=O.lonaxisRange,Z=function(re,se){return[se,re]});var q={type:"linear",range:[F[0],F[1]-H],tick0:N.tick0,dtick:N.dtick};c.setConvert(q,_);var J=c.calcTicks(q);!k.isScoped&&A==="lonaxis"&&J.pop();for(var te=J.length,fe=new Array(te),K=0;K<te;K++)for(var Y=J[K].x,W=fe[K]=[],X=U[0];X<U[1]+z;X+=z)W.push(Z(Y,X));return{type:"MultiLineString",coordinates:fe}}function R(A,k){var _=d.clipPad,H=A[0]+_,z=A[1]-_,N=k[0]+_,O=k[1]-_;H>0&&z<0&&(z+=360);var F=(z-H)/4;return{type:"Polygon",coordinates:[[[H,N],[H,O],[H+F,O],[H+2*F,O],[H+3*F,O],[z,O],[z,N],[z-F,N],[z-2*F,N],[z-3*F,N],[H,N]]]}}},44622:function(V,B,e){var p=e(27659).AU,L=e(71828).counterRegex,n=e(69082),C="geo",y=L(C),h={};h[C]={valType:"subplotid",dflt:C,editType:"calc"};function g(l){for(var a=l._fullLayout,s=l.calcdata,c=a._subplots[C],u=0;u<c.length;u++){var b=c[u],f=p(s,C,b),w=a[b],v=w._subplot;v||(v=n({id:b,graphDiv:l,container:a._geolayer.node(),topojsonURL:l._context.topojsonURL,staticPlot:l._context.staticPlot}),a[b]._subplot=v),v.plot(f,a,l._promises)}}function t(l,a,s,c){for(var u=c._subplots[C]||[],b=0;b<u.length;b++){var f=u[b],w=c[f]._subplot;!a[f]&&w&&(w.framework.remove(),w.clipDef.remove())}}function r(l){for(var a=l._fullLayout,s=a._subplots[C],c=0;c<s.length;c++){var u=a[s[c]],b=u._subplot;b.updateFx(a,u)}}V.exports={attr:C,name:C,idRoot:C,idRegex:y,attrRegex:y,attributes:h,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:g,updateFx:r,clean:t}},77519:function(V,B,e){var p=e(22399),L=e(27670).Y,n=e(79952).P,C=e(78776),y=e(30962).overrideAll,h=e(78607),g={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:p.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:n},t=V.exports=y({domain:L({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:h(C.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:h(C.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:p.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:C.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:C.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:C.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:C.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:p.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:p.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:p.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:p.background},lonaxis:g,lataxis:g},"plot","from-root");t.uirevision={valType:"any",editType:"none"}},82161:function(V,B,e){var p=e(71828),L=e(49119),n=e(27659).NG,C=e(78776),y=e(77519),h=C.axesNames;V.exports=function(r,l,a){L(r,l,a,{type:"geo",attributes:y,handleDefaults:g,fullData:a,partition:"y"})};function g(t,r,l,a){var s=n(a.fullData,"geo",a.id),c=s.map(function(W){return W._expandedIndex}),u=l("resolution"),b=l("scope"),f=C.scopeDefaults[b],w=l("projection.type",f.projType),v=r._isAlbersUsa=w==="albers usa";v&&(b=r.scope="usa");var o=r._isScoped=b!=="world",d=r._isSatellite=w==="satellite",S=r._isConic=w.indexOf("conic")!==-1||w==="albers",M=r._isClipped=!!C.lonaxisSpan[w];if(t.visible===!1){var P=p.extendDeep({},r._template);P.showcoastlines=!1,P.showcountries=!1,P.showframe=!1,P.showlakes=!1,P.showland=!1,P.showocean=!1,P.showrivers=!1,P.showsubunits=!1,P.lonaxis&&(P.lonaxis.showgrid=!1),P.lataxis&&(P.lataxis.showgrid=!1),r._template=P}for(var x=l("visible"),E,T=0;T<h.length;T++){var i=h[T],R=[30,10][T],A;if(o)A=f[i+"Range"];else{var k=C[i+"Span"],_=(k[w]||k["*"])/2,H=l("projection.rotation."+i.substr(0,3),f.projRotate[T]);A=[H-_,H+_]}var z=l(i+".range",A);l(i+".tick0"),l(i+".dtick",R),E=l(i+".showgrid",x?void 0:!1),E&&(l(i+".gridcolor"),l(i+".gridwidth"),l(i+".griddash")),r[i]._ax={type:"linear",_id:i.slice(0,3),_traceIndices:c,setScale:p.identity,c2l:p.identity,r2l:p.identity,autorange:!0,range:z.slice(),_m:1,_input:{}}}var N=r.lonaxis.range,O=r.lataxis.range,F=N[0],U=N[1];F>0&&U<0&&(U+=360);var Z=(F+U)/2,q;if(!v){var J=o?f.projRotate:[Z,0,0];q=l("projection.rotation.lon",J[0]),l("projection.rotation.lat",J[1]),l("projection.rotation.roll",J[2]),E=l("showcoastlines",!o&&x),E&&(l("coastlinecolor"),l("coastlinewidth")),E=l("showocean",x?void 0:!1),E&&l("oceancolor")}var te,fe;if(v?(te=-96.6,fe=38.7):(te=o?Z:q,fe=(O[0]+O[1])/2),l("center.lon",te),l("center.lat",fe),d&&(l("projection.tilt"),l("projection.distance")),S){var K=f.projParallels||[0,60];l("projection.parallels",K)}l("projection.scale"),E=l("showland",x?void 0:!1),E&&l("landcolor"),E=l("showlakes",x?void 0:!1),E&&l("lakecolor"),E=l("showrivers",x?void 0:!1),E&&(l("rivercolor"),l("riverwidth")),E=l("showcountries",o&&b!=="usa"&&x),E&&(l("countrycolor"),l("countrywidth")),(b==="usa"||b==="north america"&&u===50)&&(l("showsubunits",x),l("subunitcolor"),l("subunitwidth")),o||(E=l("showframe",x),E&&(l("framecolor"),l("framewidth"))),l("bgcolor");var Y=l("fitbounds");Y&&(delete r.projection.scale,o?(delete r.center.lon,delete r.center.lat):M?(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon,delete r.projection.rotation.lat,delete r.lonaxis.range,delete r.lataxis.range):(delete r.center.lon,delete r.center.lat,delete r.projection.rotation.lon))}},74455:function(V,B,e){var p=e(39898),L=e(71828),n=e(73972),C=Math.PI/180,y=180/Math.PI,h={cursor:"pointer"},g={cursor:"auto"};function t(i,R){var A=i.projection,k;return R._isScoped?k=a:R._isClipped?k=c:k=s,k(i,A)}V.exports=t;function r(i,R){return p.behavior.zoom().translate(R.translate()).scale(R.scale())}function l(i,R,A){var k=i.id,_=i.graphDiv,H=_.layout,z=H[k],N=_._fullLayout,O=N[k],F={},U={};function Z(q,J){F[k+"."+q]=L.nestedProperty(z,q).get(),n.call("_storeDirectGUIEdit",H,N._preGUI,F);var te=L.nestedProperty(O,q);te.get()!==J&&(te.set(J),L.nestedProperty(z,q).set(J),U[k+"."+q]=J)}A(Z),Z("projection.scale",R.scale()/i.fitScale),Z("fitbounds",!1),_.emit("plotly_relayout",U)}function a(i,R){var A=r(i,R);function k(){p.select(this).style(h)}function _(){R.scale(p.event.scale).translate(p.event.translate),i.render(!0);var N=R.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":R.scale()/i.fitScale,"geo.center.lon":N[0],"geo.center.lat":N[1]})}function H(N){var O=R.invert(i.midPt);N("center.lon",O[0]),N("center.lat",O[1])}function z(){p.select(this).style(g),l(i,R,H)}return A.on("zoomstart",k).on("zoom",_).on("zoomend",z),A}function s(i,R){var A=r(i,R),k=2,_,H,z,N,O,F,U,Z,q;function J(X){return R.invert(X)}function te(X){var re=J(X);if(!re)return!0;var se=R(re);return Math.abs(se[0]-X[0])>k||Math.abs(se[1]-X[1])>k}function fe(){p.select(this).style(h),_=p.mouse(this),H=R.rotate(),z=R.translate(),N=H,O=J(_)}function K(){if(F=p.mouse(this),te(_)){A.scale(R.scale()),A.translate(R.translate());return}R.scale(p.event.scale),R.translate([z[0],p.event.translate[1]]),O?J(F)&&(Z=J(F),U=[N[0]+(Z[0]-O[0]),H[1],H[2]],R.rotate(U),N=U):(_=F,O=J(_)),q=!0,i.render(!0);var X=R.rotate(),re=R.invert(i.midPt);i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":R.scale()/i.fitScale,"geo.center.lon":re[0],"geo.center.lat":re[1],"geo.projection.rotation.lon":-X[0]})}function Y(){p.select(this).style(g),q&&l(i,R,W)}function W(X){var re=R.rotate(),se=R.invert(i.midPt);X("projection.rotation.lon",-re[0]),X("center.lon",se[0]),X("center.lat",se[1])}return A.on("zoomstart",fe).on("zoom",K).on("zoomend",Y),A}function c(i,R){R.rotate(),R.scale();var A=r(i,R),k=T(A,"zoomstart","zoom","zoomend"),_=0,H=A.on,z;A.on("zoomstart",function(){p.select(this).style(h);var Z=p.mouse(this),q=R.rotate(),J=q,te=R.translate(),fe=b(q);z=u(R,Z),H.call(A,"zoom",function(){var K=p.mouse(this);if(R.scale(p.event.scale),!z)Z=K,z=u(R,Z);else if(u(R,K)){R.rotate(q).translate(te);var Y=u(R,K),W=w(z,Y),X=M(f(fe,W)),re=v(X,z,J);(!isFinite(re[0])||!isFinite(re[1])||!isFinite(re[2]))&&(re=J),R.rotate(re),J=re}O(k.of(this,arguments))}),N(k.of(this,arguments))}).on("zoomend",function(){p.select(this).style(g),H.call(A,"zoom",null),F(k.of(this,arguments)),l(i,R,U)}).on("zoom.redraw",function(){i.render(!0);var Z=R.rotate();i.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":R.scale()/i.fitScale,"geo.projection.rotation.lon":-Z[0],"geo.projection.rotation.lat":-Z[1]})});function N(Z){_++||Z({type:"zoomstart"})}function O(Z){Z({type:"zoom"})}function F(Z){--_||Z({type:"zoomend"})}function U(Z){var q=R.rotate();Z("projection.rotation.lon",-q[0]),Z("projection.rotation.lat",-q[1])}return p.rebind(A,k,"on")}function u(i,R){var A=i.invert(R);return A&&isFinite(A[0])&&isFinite(A[1])&&P(A)}function b(i){var R=.5*i[0]*C,A=.5*i[1]*C,k=.5*i[2]*C,_=Math.sin(R),H=Math.cos(R),z=Math.sin(A),N=Math.cos(A),O=Math.sin(k),F=Math.cos(k);return[H*N*F+_*z*O,_*N*F-H*z*O,H*z*F+_*N*O,H*N*O-_*z*F]}function f(i,R){var A=i[0],k=i[1],_=i[2],H=i[3],z=R[0],N=R[1],O=R[2],F=R[3];return[A*z-k*N-_*O-H*F,A*N+k*z+_*F-H*O,A*O-k*F+_*z+H*N,A*F+k*O-_*N+H*z]}function w(i,R){if(!(!i||!R)){var A=E(i,R),k=Math.sqrt(x(A,A)),_=.5*Math.acos(Math.max(-1,Math.min(1,x(i,R)))),H=Math.sin(_)/k;return k&&[Math.cos(_),A[2]*H,-A[1]*H,A[0]*H]}}function v(i,R,A){var k=S(R,2,i[0]);k=S(k,1,i[1]),k=S(k,0,i[2]-A[2]);var _=R[0],H=R[1],z=R[2],N=k[0],O=k[1],F=k[2],U=Math.atan2(H,_)*y,Z=Math.sqrt(_*_+H*H),q,J;Math.abs(O)>Z?(J=(O>0?90:-90)-U,q=0):(J=Math.asin(O/Z)*y-U,q=Math.sqrt(Z*Z-O*O));var te=180-J-2*U,fe=(Math.atan2(F,N)-Math.atan2(z,q))*y,K=(Math.atan2(F,N)-Math.atan2(z,-q))*y,Y=o(A[0],A[1],J,fe),W=o(A[0],A[1],te,K);return Y<=W?[J,fe,A[2]]:[te,K,A[2]]}function o(i,R,A,k){var _=d(A-i),H=d(k-R);return Math.sqrt(_*_+H*H)}function d(i){return(i%360+540)%360-180}function S(i,R,A){var k=A*C,_=i.slice(),H=R===0?1:0,z=R===2?1:2,N=Math.cos(k),O=Math.sin(k);return _[H]=i[H]*N-i[z]*O,_[z]=i[z]*N+i[H]*O,_}function M(i){return[Math.atan2(2*(i[0]*i[1]+i[2]*i[3]),1-2*(i[1]*i[1]+i[2]*i[2]))*y,Math.asin(Math.max(-1,Math.min(1,2*(i[0]*i[2]-i[3]*i[1]))))*y,Math.atan2(2*(i[0]*i[3]+i[1]*i[2]),1-2*(i[2]*i[2]+i[3]*i[3]))*y]}function P(i){var R=i[0]*C,A=i[1]*C,k=Math.cos(A);return[k*Math.cos(R),k*Math.sin(R),Math.sin(A)]}function x(i,R){for(var A=0,k=0,_=i.length;k<_;++k)A+=i[k]*R[k];return A}function E(i,R){return[i[1]*R[2]-i[2]*R[1],i[2]*R[0]-i[0]*R[2],i[0]*R[1]-i[1]*R[0]]}function T(i){for(var R=0,A=arguments.length,k=[];++R<A;)k.push(arguments[R]);var _=p.dispatch.apply(null,k);return _.of=function(H,z){return function(N){var O;try{O=N.sourceEvent=p.event,N.target=i,p.event=N,_[N.type].apply(H,z)}finally{p.event=O}}},_}},27659:function(V,B,e){var p=e(73972),L=e(85555).SUBPLOT_PATTERN;B.AU=function(n,C,y){var h=p.subplotsRegistry[C];if(!h)return[];for(var g=h.attr,t=[],r=0;r<n.length;r++){var l=n[r],a=l[0].trace;a[g]===y&&t.push(l)}return t},B.a0=function(n,C){var y=[],h=[],g;if(typeof C=="string"?g=p.getModule(C).plot:typeof C=="function"?g=C:g=C.plot,!g)return[y,n];for(var t=0;t<n.length;t++){var r=n[t],l=r[0].trace;l.visible!==!0||l._length===0||(l._module.plot===g?y.push(r):h.push(r))}return[y,h]},B.NG=function(C,y,h){if(!p.subplotsRegistry[y])return[];var g=p.subplotsRegistry[y].attr,t=[],r,l,a;if(y==="gl2d"){var s=h.match(L);l="x"+s[1],a="y"+s[2]}for(var c=0;c<C.length;c++)r=C[c],y==="gl2d"&&p.traceIs(r,"gl2d")?r[g[0]]===l&&r[g[1]]===a&&t.push(r):r[g]===h&&t.push(r);return t}},75071:function(V,B,e){var p=e(16825),L=e(1195),n=e(48956),C=e(85555),y=e(38520);V.exports=g;function h(t,r){this.element=t,this.plot=r,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}function g(t){var r=t.mouseContainer,l=t.glplot,a=new h(r,l);function s(){t.xaxis.autorange=!1,t.yaxis.autorange=!1}function c(){for(var b=t.graphDiv._fullLayout._axisConstraintGroups,f=t.xaxis._id,w=t.yaxis._id,v=0;v<b.length;v++)if(b[v][f]!==-1){if(b[v][w]!==-1)return!0;break}return!1}a.mouseListener=p(r,u),r.addEventListener("touchstart",function(b){var f=n(b.changedTouches[0],r);u(0,f[0],f[1]),u(1,f[0],f[1]),b.preventDefault()},y?{passive:!1}:!1),r.addEventListener("touchmove",function(b){b.preventDefault();var f=n(b.changedTouches[0],r);u(1,f[0],f[1]),b.preventDefault()},y?{passive:!1}:!1),r.addEventListener("touchend",function(b){u(0,a.lastPos[0],a.lastPos[1]),b.preventDefault()},y?{passive:!1}:!1);function u(b,f,w){var v=t.calcDataBox(),o=l.viewBox,d=a.lastPos[0],S=a.lastPos[1],M=C.MINDRAG*l.pixelRatio,P=C.MINZOOM*l.pixelRatio,x,E;f*=l.pixelRatio,w*=l.pixelRatio,w=o[3]-o[1]-w;function T(H,z,N){var O=Math.min(z,N),F=Math.max(z,N);O!==F?(v[H]=O,v[H+2]=F,a.dataBox=v,t.setRanges(v)):(t.selectBox.selectBox=[0,0,1,1],t.glplot.setDirty())}switch(t.fullLayout.dragmode){case"zoom":if(b){var i=f/(o[2]-o[0])*(v[2]-v[0])+v[0],R=w/(o[3]-o[1])*(v[3]-v[1])+v[1];a.boxInited||(a.boxStart[0]=i,a.boxStart[1]=R,a.dragStart[0]=f,a.dragStart[1]=w),a.boxEnd[0]=i,a.boxEnd[1]=R,a.boxInited=!0,!a.boxEnabled&&(a.boxStart[0]!==a.boxEnd[0]||a.boxStart[1]!==a.boxEnd[1])&&(a.boxEnabled=!0);var A=Math.abs(a.dragStart[0]-f)<P,k=Math.abs(a.dragStart[1]-w)<P;if(c()&&!(A&&k)){x=a.boxEnd[0]-a.boxStart[0],E=a.boxEnd[1]-a.boxStart[1];var _=(v[3]-v[1])/(v[2]-v[0]);Math.abs(x*_)>Math.abs(E)?(a.boxEnd[1]=a.boxStart[1]+Math.abs(x)*_*(E>=0?1:-1),a.boxEnd[1]<v[1]?(a.boxEnd[1]=v[1],a.boxEnd[0]=a.boxStart[0]+(v[1]-a.boxStart[1])/Math.abs(_)):a.boxEnd[1]>v[3]&&(a.boxEnd[1]=v[3],a.boxEnd[0]=a.boxStart[0]+(v[3]-a.boxStart[1])/Math.abs(_))):(a.boxEnd[0]=a.boxStart[0]+Math.abs(E)/_*(x>=0?1:-1),a.boxEnd[0]<v[0]?(a.boxEnd[0]=v[0],a.boxEnd[1]=a.boxStart[1]+(v[0]-a.boxStart[0])*Math.abs(_)):a.boxEnd[0]>v[2]&&(a.boxEnd[0]=v[2],a.boxEnd[1]=a.boxStart[1]+(v[2]-a.boxStart[0])*Math.abs(_)))}else A&&(a.boxEnd[0]=a.boxStart[0]),k&&(a.boxEnd[1]=a.boxStart[1])}else a.boxEnabled?(x=a.boxStart[0]!==a.boxEnd[0],E=a.boxStart[1]!==a.boxEnd[1],x||E?(x&&(T(0,a.boxStart[0],a.boxEnd[0]),t.xaxis.autorange=!1),E&&(T(1,a.boxStart[1],a.boxEnd[1]),t.yaxis.autorange=!1),t.relayoutCallback()):t.glplot.setDirty(),a.boxEnabled=!1,a.boxInited=!1):a.boxInited&&(a.boxInited=!1);break;case"pan":a.boxEnabled=!1,a.boxInited=!1,b?(a.panning||(a.dragStart[0]=f,a.dragStart[1]=w),Math.abs(a.dragStart[0]-f)<M&&(f=a.dragStart[0]),Math.abs(a.dragStart[1]-w)<M&&(w=a.dragStart[1]),x=(d-f)*(v[2]-v[0])/(l.viewBox[2]-l.viewBox[0]),E=(S-w)*(v[3]-v[1])/(l.viewBox[3]-l.viewBox[1]),v[0]+=x,v[2]+=x,v[1]+=E,v[3]+=E,t.setRanges(v),a.panning=!0,a.lastInputTime=Date.now(),s(),t.cameraChanged(),t.handleAnnotations()):a.panning&&(a.panning=!1,t.relayoutCallback());break}a.lastPos[0]=f,a.lastPos[1]=w}return a.wheelListener=L(r,function(b,f){if(!t.scrollZoom)return!1;var w=t.calcDataBox(),v=l.viewBox,o=a.lastPos[0],d=a.lastPos[1],S=Math.exp(5*f/(v[3]-v[1])),M=o/(v[2]-v[0])*(w[2]-w[0])+w[0],P=d/(v[3]-v[1])*(w[3]-w[1])+w[1];return w[0]=(w[0]-M)*S+M,w[2]=(w[2]-M)*S+M,w[1]=(w[1]-P)*S+P,w[3]=(w[3]-P)*S+P,t.setRanges(w),a.lastInputTime=Date.now(),s(),t.cameraChanged(),t.handleAnnotations(),t.relayoutCallback(),!0},!0),a}},82961:function(V,B,e){var p=e(89298),L=e(78614);function n(g){this.scene=g,this.gl=g.gl,this.pixelRatio=g.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var C=n.prototype,y=["xaxis","yaxis"];C.merge=function(g){this.titleEnable=!1,this.backgroundColor=L(g.plot_bgcolor);var t,r,l,a,s,c,u,b,f,w,v;for(w=0;w<2;++w){t=y[w];var o=t.charAt(0);for(r=g[this.scene[t]._name],l=r.title.text===this.scene.fullLayout._dfltTitle[o]?"":r.title.text,v=0;v<=2;v+=2)this.labelEnable[w+v]=!1,this.labels[w+v]=l,this.labelColor[w+v]=L(r.title.font.color),this.labelFont[w+v]=r.title.font.family,this.labelSize[w+v]=r.title.font.size,this.labelPad[w+v]=this.getLabelPad(t,r),this.tickEnable[w+v]=!1,this.tickColor[w+v]=L((r.tickfont||{}).color),this.tickAngle[w+v]=r.tickangle==="auto"?0:Math.PI*-r.tickangle/180,this.tickPad[w+v]=this.getTickPad(r),this.tickMarkLength[w+v]=0,this.tickMarkWidth[w+v]=r.tickwidth||0,this.tickMarkColor[w+v]=L(r.tickcolor),this.borderLineEnable[w+v]=!1,this.borderLineColor[w+v]=L(r.linecolor),this.borderLineWidth[w+v]=r.linewidth||0;u=this.hasSharedAxis(r),s=this.hasAxisInDfltPos(t,r)&&!u,c=this.hasAxisInAltrPos(t,r)&&!u,a=r.mirror||!1,b=u?String(a).indexOf("all")!==-1:!!a,f=u?a==="allticks":String(a).indexOf("ticks")!==-1,s?this.labelEnable[w]=!0:c&&(this.labelEnable[w+2]=!0),s?this.tickEnable[w]=r.showticklabels:c&&(this.tickEnable[w+2]=r.showticklabels),(s||b)&&(this.borderLineEnable[w]=r.showline),(c||b)&&(this.borderLineEnable[w+2]=r.showline),(s||f)&&(this.tickMarkLength[w]=this.getTickMarkLength(r)),(c||f)&&(this.tickMarkLength[w+2]=this.getTickMarkLength(r)),this.gridLineEnable[w]=r.showgrid,this.gridLineColor[w]=L(r.gridcolor),this.gridLineWidth[w]=r.gridwidth,this.zeroLineEnable[w]=r.zeroline,this.zeroLineColor[w]=L(r.zerolinecolor),this.zeroLineWidth[w]=r.zerolinewidth}},C.hasSharedAxis=function(g){var t=this.scene,r=t.fullLayout._subplots.gl2d,l=p.findSubplotsWithAxis(r,g);return l.indexOf(t.id)!==0},C.hasAxisInDfltPos=function(g,t){var r=t.side;if(g==="xaxis")return r==="bottom";if(g==="yaxis")return r==="left"},C.hasAxisInAltrPos=function(g,t){var r=t.side;if(g==="xaxis")return r==="top";if(g==="yaxis")return r==="right"},C.getLabelPad=function(g,t){var r=1.5,l=t.title.font.size,a=t.showticklabels;if(g==="xaxis")return t.side==="top"?-10+l*(r+(a?1:0)):-10+l*(r+(a?.5:0));if(g==="yaxis")return t.side==="right"?10+l*(r+(a?1:.5)):10+l*(r+(a?.5:0))},C.getTickPad=function(g){return g.ticks==="outside"?10+g.ticklen:15},C.getTickMarkLength=function(g){if(!g.ticks)return 0;var t=g.ticklen;return g.ticks==="inside"?-t:t};function h(g){return new n(g)}V.exports=h},4796:function(V,B,e){var p=e(30962).overrideAll,L=e(92918),n=e(10820),C=e(77922),y=e(85555),h=e(93612),g=e(528),t=e(27659).NG;B.name="gl2d",B.attr=["xaxis","yaxis"],B.idRoot=["x","y"],B.idRegex=y.idRegex,B.attrRegex=y.attrRegex,B.attributes=e(89502),B.supplyLayoutDefaults=function(r,l,a){l._has("cartesian")||h.supplyLayoutDefaults(r,l,a)},B.layoutAttrOverrides=p(h.layoutAttributes,"plot","from-root"),B.baseLayoutAttrOverrides=p({plot_bgcolor:n.plot_bgcolor,hoverlabel:g.hoverlabel},"plot","nested"),B.plot=function(l){for(var a=l._fullLayout,s=l._fullData,c=a._subplots.gl2d,u=0;u<c.length;u++){var b=c[u],f=a._plots[b],w=t(s,"gl2d",b),v=f._scene2d;v===void 0&&(v=new L({id:b,graphDiv:l,container:l.querySelector(".gl-container"),staticPlot:l._context.staticPlot,plotGlPixelRatio:l._context.plotGlPixelRatio},a),f._scene2d=v),v.plot(w,l.calcdata,a,l.layout)}},B.clean=function(r,l,a,s){for(var c=s._subplots.gl2d||[],u=0;u<c.length;u++){var b=c[u],f=s._plots[b];if(f._scene2d){var w=t(r,"gl2d",b);w.length===0&&(f._scene2d.destroy(),delete s._plots[b])}}h.clean.apply(this,arguments)},B.drawFramework=function(r){r._context.staticPlot||h.drawFramework(r)},B.toSVG=function(r){for(var l=r._fullLayout,a=l._subplots.gl2d,s=0;s<a.length;s++){var c=l._plots[a[s]],u=c._scene2d,b=u.toImage("png"),f=l._glimages.append("svg:image");f.attr({xmlns:C.svg,"xlink:href":b,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),u.destroy()}},B.updateFx=function(r){for(var l=r._fullLayout,a=l._subplots.gl2d,s=0;s<a.length;s++){var c=l._plots[a[s]]._scene2d;c.updateFx(l.dragmode)}}},92918:function(V,B,e){var p=e(73972),L=e(89298),n=e(30211),C=e(9330).gl_plot2d,y=e(9330).gl_spikes2d,h=e(9330).gl_select_box,g=e(40372),t=e(82961),r=e(75071),l=e(58617),a=e(99082),s=a.enforce,c=a.clean,u=e(71739).doAutoRange,b=e(64505),f=b.drawMode,w=b.selectMode,v=["xaxis","yaxis"],o,d,S=e(85555).SUBPLOT_PATTERN;function M(E,T){this.container=E.container,this.graphDiv=E.graphDiv,this.pixelRatio=E.plotGlPixelRatio||window.devicePixelRatio,this.id=E.id,this.staticPlot=!!E.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(T),this.makeFramework(),!this.stopped&&(this.glplotOptions=t(this),this.glplotOptions.merge(T),this.glplot=C(this.glplotOptions),this.camera=r(this),this.traces={},this.spikes=y(this.glplot),this.selectBox=h(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}V.exports=M;var P=M.prototype;P.makeFramework=function(){if(this.staticPlot){if(!d&&(o=document.createElement("canvas"),d=g({canvas:o,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}),!d))throw new Error("Error creating static canvas/context for image server");this.canvas=o,this.gl=d}else{var E=this.container.querySelector(".gl-canvas-focus"),T=g({canvas:E,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!T){l(this),this.stopped=!0;return}this.canvas=E,this.gl=T}var i=this.canvas;i.style.width="100%",i.style.height="100%",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style["pointer-events"]="none",this.updateSize(i);var R=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");R.style.position="absolute",R.style.top=R.style.left="0px",R.style.width=R.style.height="100%",R.style["z-index"]=20,R.style["pointer-events"]="none";var A=this.mouseContainer=document.createElement("div");A.style.position="absolute",A.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var k=this.container;k.appendChild(R),k.appendChild(A);var _=this;A.addEventListener("mouseout",function(){_.isMouseOver=!1,_.unhover()}),A.addEventListener("mouseover",function(){_.isMouseOver=!0})},P.toImage=function(E){E||(E="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(o),this.updateSize(this.canvas);var T=this.glplot.gl,i=T.drawingBufferWidth,R=T.drawingBufferHeight;T.clearColor(1,1,1,0),T.clear(T.COLOR_BUFFER_BIT|T.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),T.bindFramebuffer(T.FRAMEBUFFER,null);var A=new Uint8Array(i*R*4);T.readPixels(0,0,i,R,T.RGBA,T.UNSIGNED_BYTE,A);for(var k=0,_=R-1;k<_;++k,--_)for(var H=0;H<i;++H)for(var z=0;z<4;++z){var N=A[4*(i*k+H)+z];A[4*(i*k+H)+z]=A[4*(i*_+H)+z],A[4*(i*_+H)+z]=N}var O=document.createElement("canvas");O.width=i,O.height=R;var F=O.getContext("2d",{willReadFrequently:!0}),U=F.createImageData(i,R);U.data.set(A),F.putImageData(U,0,0);var Z;switch(E){case"jpeg":Z=O.toDataURL("image/jpeg");break;case"webp":Z=O.toDataURL("image/webp");break;default:Z=O.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(o),Z},P.updateSize=function(E){E||(E=this.canvas);var T=this.pixelRatio,i=this.fullLayout,R=i.width,A=i.height,k=Math.ceil(T*R)|0,_=Math.ceil(T*A)|0;return(E.width!==k||E.height!==_)&&(E.width=k,E.height=_),E},P.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var E=[L.calcTicks(this.xaxis),L.calcTicks(this.yaxis)],T=0;T<2;++T)for(var i=0;i<E[T].length;++i)E[T][i].text=E[T][i].text+"";return E};function x(E,T){for(var i=0;i<2;++i){var R=E[i],A=T[i];if(R.length!==A.length)return!0;for(var k=0;k<R.length;++k)if(R[k].x!==A[k].x)return!0}return!1}P.updateRefs=function(E){this.fullLayout=E;var T=this.id.match(S),i="xaxis"+T[1],R="yaxis"+T[2];this.xaxis=this.fullLayout[i],this.yaxis=this.fullLayout[R]},P.relayoutCallback=function(){var E=this.graphDiv,T=this.xaxis,i=this.yaxis,R=E.layout,A={},k=A[T._name+".range"]=T.range.slice(),_=A[i._name+".range"]=i.range.slice();A[T._name+".autorange"]=T.autorange,A[i._name+".autorange"]=i.autorange,p.call("_storeDirectGUIEdit",E.layout,E._fullLayout._preGUI,A);var H=R[T._name];H.range=k,H.autorange=T.autorange;var z=R[i._name];z.range=_,z.autorange=i.autorange,A.lastInputTime=this.camera.lastInputTime,E.emit("plotly_relayout",A)},P.cameraChanged=function(){var E=this.camera;this.glplot.setDataBox(this.calcDataBox());var T=this.computeTickMarks(),i=this.glplotOptions.ticks;x(T,i)&&(this.glplotOptions.ticks=T,this.glplotOptions.dataBox=E.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},P.handleAnnotations=function(){for(var E=this.graphDiv,T=this.fullLayout.annotations,i=0;i<T.length;i++){var R=T[i];R.xref===this.xaxis._id&&R.yref===this.yaxis._id&&p.getComponentMethod("annotations","drawOne")(E,i)}},P.destroy=function(){if(this.glplot){var E=this.traces;E&&Object.keys(E).map(function(T){E[T].dispose(),delete E[T]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},P.plot=function(E,T,i){var R=this.glplot;this.updateRefs(i),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(E,T),this.updateFx(i.dragmode);var A=i.width,k=i.height;this.updateSize(this.canvas);var _=this.glplotOptions;_.merge(i),_.screenBox=[0,0,A,k];var H={_fullLayout:{_axisConstraintGroups:i._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:i._size}};c(H,this.xaxis),c(H,this.yaxis);var z=i._size,N=this.xaxis.domain,O=this.yaxis.domain;_.viewBox=[z.l+N[0]*z.w,z.b+O[0]*z.h,A-z.r-(1-N[1])*z.w,k-z.t-(1-O[1])*z.h],this.mouseContainer.style.width=z.w*(N[1]-N[0])+"px",this.mouseContainer.style.height=z.h*(O[1]-O[0])+"px",this.mouseContainer.height=z.h*(O[1]-O[0]),this.mouseContainer.style.left=z.l+N[0]*z.w+"px",this.mouseContainer.style.top=z.t+(1-O[1])*z.h+"px";var F,U;for(U=0;U<2;++U)F=this[v[U]],F._length=_.viewBox[U+2]-_.viewBox[U],u(this.graphDiv,F),F.setScale();s(H),_.ticks=this.computeTickMarks(),_.dataBox=this.calcDataBox(),_.merge(i),R.update(_),this.glplot.draw()},P.calcDataBox=function(){var E=this.xaxis,T=this.yaxis,i=E.range,R=T.range,A=E.r2l,k=T.r2l;return[A(i[0]),k(R[0]),A(i[1]),k(R[1])]},P.setRanges=function(E){var T=this.xaxis,i=this.yaxis,R=T.l2r,A=i.l2r;T.range=[R(E[0]),R(E[2])],i.range=[A(E[1]),A(E[3])]},P.updateTraces=function(E,T){var i=Object.keys(this.traces),R,A,k;this.fullData=E;e:for(R=0;R<i.length;R++){var _=i[R],H=this.traces[_];for(A=0;A<E.length;A++)if(k=E[A],k.uid===_&&k.type===H.type)continue e;H.dispose(),delete this.traces[_]}for(R=0;R<E.length;R++){k=E[R];var z=T[R],N=this.traces[k.uid];N?N.update(k,z):(N=k._module.plot(this,k,z),this.traces[k.uid]=N)}this.glplot.objects.sort(function(O,F){return O._trace.index-F._trace.index})},P.updateFx=function(E){w(E)||f(E)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),E==="pan"?this.mouseContainer.style.cursor="move":E==="zoom"?this.mouseContainer.style.cursor="crosshair":this.mouseContainer.style.cursor=null},P.emitPointAction=function(E,T){for(var i=E.trace.uid,R=E.pointIndex,A,k=0;k<this.fullData.length;k++)this.fullData[k].uid===i&&(A=this.fullData[k]);var _={x:E.traceCoord[0],y:E.traceCoord[1],curveNumber:A.index,pointNumber:R,data:A._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};n.appendArrayPointValue(_,A,R),this.graphDiv.emit(T,{points:[_]})},P.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var E=this.glplot,T=this.camera,i=T.mouseListener,R=this.lastButtonState===1&&i.buttons===0,A=this.fullLayout;this.lastButtonState=i.buttons,this.cameraChanged();var k=i.x*E.pixelRatio,_=this.canvas.height-E.pixelRatio*i.y,H;if(T.boxEnabled&&A.dragmode==="zoom"){this.selectBox.enabled=!0;for(var z=this.selectBox.selectBox=[Math.min(T.boxStart[0],T.boxEnd[0]),Math.min(T.boxStart[1],T.boxEnd[1]),Math.max(T.boxStart[0],T.boxEnd[0]),Math.max(T.boxStart[1],T.boxEnd[1])],N=0;N<2;N++)T.boxStart[N]===T.boxEnd[N]&&(z[N]=E.dataBox[N],z[N+2]=E.dataBox[N+2]);E.setDirty()}else if(!T.panning&&this.isMouseOver){this.selectBox.enabled=!1;var O=A._size,F=this.xaxis.domain,U=this.yaxis.domain;H=E.pick(k/E.pixelRatio+O.l+F[0]*O.w,_/E.pixelRatio-(O.t+(1-U[1])*O.h));var Z=H&&H.object._trace.handlePick(H);if(Z&&R&&this.emitPointAction(Z,"plotly_click"),H&&H.object._trace.hoverinfo!=="skip"&&A.hovermode&&Z&&(!this.lastPickResult||this.lastPickResult.traceUid!==Z.trace.uid||this.lastPickResult.dataCoord[0]!==Z.dataCoord[0]||this.lastPickResult.dataCoord[1]!==Z.dataCoord[1])){var q=Z;this.lastPickResult={traceUid:Z.trace?Z.trace.uid:null,dataCoord:Z.dataCoord.slice()},this.spikes.update({center:H.dataCoord}),q.screenCoord=[((E.viewBox[2]-E.viewBox[0])*(H.dataCoord[0]-E.dataBox[0])/(E.dataBox[2]-E.dataBox[0])+E.viewBox[0])/E.pixelRatio,(this.canvas.height-(E.viewBox[3]-E.viewBox[1])*(H.dataCoord[1]-E.dataBox[1])/(E.dataBox[3]-E.dataBox[1])-E.viewBox[1])/E.pixelRatio],this.emitPointAction(Z,"plotly_hover");var J=this.fullData[q.trace.index]||{},te=q.pointIndex,fe=n.castHoverinfo(J,A,te);if(fe&&fe!=="all"){var K=fe.split("+");K.indexOf("x")===-1&&(q.traceCoord[0]=void 0),K.indexOf("y")===-1&&(q.traceCoord[1]=void 0),K.indexOf("z")===-1&&(q.traceCoord[2]=void 0),K.indexOf("text")===-1&&(q.textLabel=void 0),K.indexOf("name")===-1&&(q.name=void 0)}n.loneHover({x:q.screenCoord[0],y:q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",q.traceCoord[1]),zLabel:q.traceCoord[2],text:q.textLabel,name:q.name,color:n.castHoverOption(J,te,"bgcolor")||q.color,borderColor:n.castHoverOption(J,te,"bordercolor"),fontFamily:n.castHoverOption(J,te,"font.family"),fontSize:n.castHoverOption(J,te,"font.size"),fontColor:n.castHoverOption(J,te,"font.color"),nameLength:n.castHoverOption(J,te,"namelength"),textAlign:n.castHoverOption(J,te,"align")},{container:this.svgContainer,gd:this.graphDiv})}}H||this.unhover(),E.draw()}},P.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),n.loneUnhover(this.svgContainer))},P.hoverFormatter=function(E,T){if(T!==void 0){var i=this[E];return L.tickText(i,i.c2l(T),"hover").text}}},58547:function(V,B,e){var p=e(30962).overrideAll,L=e(528),n=e(33539),C=e(27659).NG,y=e(71828),h=e(77922),g="gl3d",t="scene";B.name=g,B.attr=t,B.idRoot=t,B.idRegex=B.attrRegex=y.counterRegex("scene"),B.attributes=e(59084),B.layoutAttributes=e(65500),B.baseLayoutAttrOverrides=p({hoverlabel:L.hoverlabel},"plot","nested"),B.supplyLayoutDefaults=e(24682),B.plot=function(l){for(var a=l._fullLayout,s=l._fullData,c=a._subplots[g],u=0;u<c.length;u++){var b=c[u],f=C(s,g,b),w=a[b],v=w.camera,o=w._scene;o||(o=new n({id:b,graphDiv:l,container:l.querySelector(".gl-container"),staticPlot:l._context.staticPlot,plotGlPixelRatio:l._context.plotGlPixelRatio,camera:v},a),w._scene=o),o.viewInitial||(o.viewInitial={up:{x:v.up.x,y:v.up.y,z:v.up.z},eye:{x:v.eye.x,y:v.eye.y,z:v.eye.z},center:{x:v.center.x,y:v.center.y,z:v.center.z}}),o.plot(f,a,l.layout)}},B.clean=function(r,l,a,s){for(var c=s._subplots[g]||[],u=0;u<c.length;u++){var b=c[u];!l[b]&&s[b]._scene&&(s[b]._scene.destroy(),s._infolayer&&s._infolayer.selectAll(".annotation-"+b).remove())}},B.toSVG=function(r){for(var l=r._fullLayout,a=l._subplots[g],s=l._size,c=0;c<a.length;c++){var u=l[a[c]],b=u.domain,f=u._scene,w=f.toImage("png"),v=l._glimages.append("svg:image");v.attr({xmlns:h.svg,"xlink:href":w,x:s.l+s.w*b.x[0],y:s.t+s.h*(1-b.y[1]),width:s.w*(b.x[1]-b.x[0]),height:s.h*(b.y[1]-b.y[0]),preserveAspectRatio:"none"}),f.destroy()}},B.cleanId=function(l){if(l.match(/^scene[0-9]*$/)){var a=l.substr(5);return a==="1"&&(a=""),t+a}},B.updateFx=function(r){for(var l=r._fullLayout,a=l._subplots[g],s=0;s<a.length;s++){var c=l[a[s]]._scene;c.updateFx(l.dragmode,l.hovermode)}}},59084:function(V){V.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(V,B,e){var p=e(7901),L=e(13838),n=e(1426).extendFlat,C=e(30962).overrideAll;V.exports=C({visible:L.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:p.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:L.color,categoryorder:L.categoryorder,categoryarray:L.categoryarray,title:{text:L.title.text,font:L.title.font},type:n({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:L.autorange,rangemode:L.rangemode,range:n({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,mirror:L.mirror,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,tickfont:L.tickfont,tickangle:L.tickangle,tickprefix:L.tickprefix,showtickprefix:L.showtickprefix,ticksuffix:L.ticksuffix,showticksuffix:L.showticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickformat:L.tickformat,tickformatstops:L.tickformatstops,hoverformat:L.hoverformat,showline:L.showline,linecolor:L.linecolor,linewidth:L.linewidth,showgrid:L.showgrid,gridcolor:n({},L.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:L.gridwidth,zeroline:L.zeroline,zerolinecolor:L.zerolinecolor,zerolinewidth:L.zerolinewidth,_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}},"plot","from-root")},3277:function(V,B,e){var p=e(84267).mix,L=e(71828),n=e(44467),C=e(77894),y=e(951),h=e(71453),g=["xaxis","yaxis","zaxis"],t=100*(204-68)/(255-68);V.exports=function(l,a,s){var c,u;function b(v,o){return L.coerce(c,u,C,v,o)}for(var f=0;f<g.length;f++){var w=g[f];c=l[w]||{},u=n.newContainer(a,w),u._id=w[0]+s.scene,u._name=w,y(c,u,b,s),h(c,u,b,{font:s.font,letter:w[0],data:s.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,bgColor:s.bgColor,calendar:s.calendar},s.fullLayout),b("gridcolor",p(u.color,s.bgColor,t).toRgbString()),b("title.text",w[0]),u.setScale=L.noop,b("showspikes")&&(b("spikesides"),b("spikethickness"),b("spikecolor",u.color)),b("showaxeslabels"),b("showbackground")&&b("backgroundcolor")}}},30422:function(V,B,e){var p=e(78614),L=e(71828),n=["xaxis","yaxis","zaxis"];function C(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}var y=C.prototype;y.merge=function(g,t){for(var r=this,l=0;l<3;++l){var a=t[n[l]];if(!a.visible){r.tickEnable[l]=!1,r.labelEnable[l]=!1,r.lineEnable[l]=!1,r.lineTickEnable[l]=!1,r.gridEnable[l]=!1,r.zeroEnable[l]=!1,r.backgroundEnable[l]=!1;continue}r.labels[l]=g._meta?L.templateString(a.title.text,g._meta):a.title.text,"font"in a.title&&(a.title.font.color&&(r.labelColor[l]=p(a.title.font.color)),a.title.font.family&&(r.labelFont[l]=a.title.font.family),a.title.font.size&&(r.labelSize[l]=a.title.font.size)),"showline"in a&&(r.lineEnable[l]=a.showline),"linecolor"in a&&(r.lineColor[l]=p(a.linecolor)),"linewidth"in a&&(r.lineWidth[l]=a.linewidth),"showgrid"in a&&(r.gridEnable[l]=a.showgrid),"gridcolor"in a&&(r.gridColor[l]=p(a.gridcolor)),"gridwidth"in a&&(r.gridWidth[l]=a.gridwidth),a.type==="log"?r.zeroEnable[l]=!1:"zeroline"in a&&(r.zeroEnable[l]=a.zeroline),"zerolinecolor"in a&&(r.zeroLineColor[l]=p(a.zerolinecolor)),"zerolinewidth"in a&&(r.zeroLineWidth[l]=a.zerolinewidth),"ticks"in a&&a.ticks?r.lineTickEnable[l]=!0:r.lineTickEnable[l]=!1,"ticklen"in a&&(r.lineTickLength[l]=r._defaultLineTickLength[l]=a.ticklen),"tickcolor"in a&&(r.lineTickColor[l]=p(a.tickcolor)),"tickwidth"in a&&(r.lineTickWidth[l]=a.tickwidth),"tickangle"in a&&(r.tickAngle[l]=a.tickangle==="auto"?-3600:Math.PI*-a.tickangle/180),"showticklabels"in a&&(r.tickEnable[l]=a.showticklabels),"tickfont"in a&&(a.tickfont.color&&(r.tickColor[l]=p(a.tickfont.color)),a.tickfont.family&&(r.tickFont[l]=a.tickfont.family),a.tickfont.size&&(r.tickSize[l]=a.tickfont.size)),"mirror"in a?["ticks","all","allticks"].indexOf(a.mirror)!==-1?(r.lineTickMirror[l]=!0,r.lineMirror[l]=!0):a.mirror===!0?(r.lineTickMirror[l]=!1,r.lineMirror[l]=!0):(r.lineTickMirror[l]=!1,r.lineMirror[l]=!1):r.lineMirror[l]=!1,"showbackground"in a&&a.showbackground!==!1?(r.backgroundEnable[l]=!0,r.backgroundColor[l]=p(a.backgroundcolor)):r.backgroundEnable[l]=!1}};function h(g,t){var r=new C;return r.merge(g,t),r}V.exports=h},24682:function(V,B,e){var p=e(71828),L=e(7901),n=e(73972),C=e(49119),y=e(3277),h=e(65500),g=e(27659).NG,t="gl3d";V.exports=function(a,s,c){var u=s._basePlotModules.length>1;function b(f){if(!u){var w=p.validate(a[f],h[f]);if(w)return a[f]}}C(a,s,c,{type:t,attributes:h,handleDefaults:r,fullLayout:s,font:s.font,fullData:c,getDfltFromLayout:b,autotypenumbersDflt:s.autotypenumbers,paper_bgcolor:s.paper_bgcolor,calendar:s.calendar})};function r(l,a,s,c){for(var u=s("bgcolor"),b=L.combine(u,c.paper_bgcolor),f=["up","center","eye"],w=0;w<f.length;w++)s("camera."+f[w]+".x"),s("camera."+f[w]+".y"),s("camera."+f[w]+".z");s("camera.projection.type");var v=!!s("aspectratio.x")&&!!s("aspectratio.y")&&!!s("aspectratio.z"),o=v?"manual":"auto",d=s("aspectmode",o);v||(l.aspectratio=a.aspectratio={x:1,y:1,z:1},d==="manual"&&(a.aspectmode="auto"),l.aspectmode=a.aspectmode);var S=g(c.fullData,t,c.id);y(l,a,{font:c.font,scene:c.id,data:S,bgColor:b,calendar:c.calendar,autotypenumbersDflt:c.autotypenumbersDflt,fullLayout:c.fullLayout}),n.getComponentMethod("annotations3d","handleDefaults")(l,a,c);var M=c.getDfltFromLayout("dragmode");if(M!==!1&&!M)if(M="orbit",l.camera&&l.camera.up){var P=l.camera.up.x,x=l.camera.up.y,E=l.camera.up.z;E!==0&&(!P||!x||!E||E/Math.sqrt(P*P+x*x+E*E)>.999)&&(M="turntable")}else M="turntable";s("dragmode",M),s("hovermode",c.getDfltFromLayout("hovermode"))}},65500:function(V,B,e){var p=e(77894),L=e(27670).Y,n=e(1426).extendFlat,C=e(71828).counterRegex;function y(h,g,t){return{x:{valType:"number",dflt:h,editType:"camera"},y:{valType:"number",dflt:g,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}V.exports={_arrayAttrRegexps:[C("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:n(y(0,0,1),{}),center:n(y(0,0,0),{}),eye:n(y(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:L({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:p,yaxis:p,zaxis:p,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(V,B,e){var p=e(78614),L=["xaxis","yaxis","zaxis"];function n(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}var C=n.prototype;C.merge=function(h){for(var g=0;g<3;++g){var t=h[L[g]];if(!t.visible){this.enabled[g]=!1,this.drawSides[g]=!1;continue}this.enabled[g]=t.showspikes,this.colors[g]=p(t.spikecolor),this.drawSides[g]=t.spikesides,this.lineWidth[g]=t.spikethickness}};function y(h){var g=new n;return g.merge(h),g}V.exports=y},96085:function(V,B,e){V.exports=y;var p=e(89298),L=e(71828),n=["xaxis","yaxis","zaxis"];function C(h){for(var g=new Array(3),t=0;t<3;++t){for(var r=h[t],l=new Array(r.length),a=0;a<r.length;++a)l[a]=r[a].x;g[t]=l}return g}function y(h){for(var g=h.axesOptions,t=h.glplot.axesPixels,r=h.fullSceneLayout,l=[[],[],[]],a=0;a<3;++a){var s=r[n[a]];if(s._length=(t[a].hi-t[a].lo)*t[a].pixelsPerDataUnit/h.dataScale[a],Math.abs(s._length)===1/0||isNaN(s._length))l[a]=[];else{s._input_range=s.range.slice(),s.range[0]=t[a].lo/h.dataScale[a],s.range[1]=t[a].hi/h.dataScale[a],s._m=1/(h.dataScale[a]*t[a].pixelsPerDataUnit),s.range[0]===s.range[1]&&(s.range[0]-=1,s.range[1]+=1);var c=s.tickmode;if(s.tickmode==="auto"){s.tickmode="linear";var u=s.nticks||L.constrain(s._length/40,4,9);p.autoTicks(s,Math.abs(s.range[1]-s.range[0])/u)}for(var b=p.calcTicks(s,{msUTC:!0}),f=0;f<b.length;++f)b[f].x=b[f].x*h.dataScale[a],s.type==="date"&&(b[f].text=b[f].text.replace(/\<br\>/g," "));l[a]=b,s.tickmode=c}}g.ticks=l;for(var a=0;a<3;++a){.5*(h.glplot.bounds[0][a]+h.glplot.bounds[1][a]);for(var f=0;f<2;++f)g.bounds[f][a]=h.glplot.bounds[f][a]}h.contourLevels=C(l)}},63538:function(V){function B(p,L){var n=[0,0,0,0],C,y;for(C=0;C<4;++C)for(y=0;y<4;++y)n[y]+=p[4*C+y]*L[C];return n}function e(p,L){var n=B(p.projection,B(p.view,B(p.model,[L[0],L[1],L[2],1])));return n}V.exports=e},33539:function(V,B,e){var p=e(9330).gl_plot3d,L=p.createCamera,n=p.createScene,C=e(40372),y=e(38520),h=e(73972),g=e(71828),t=g.preserveDrawingBuffer(),r=e(89298),l=e(30211),a=e(78614),s=e(58617),c=e(63538),u=e(30422),b=e(13133),f=e(96085),w,v,o=!1;function d(k,_){var H=document.createElement("div"),z=k.container;this.graphDiv=k.graphDiv;var N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.style.position="absolute",N.style.top=N.style.left="0px",N.style.width=N.style.height="100%",N.style["z-index"]=20,N.style["pointer-events"]="none",H.appendChild(N),this.svgContainer=N,H.id=k.id,H.style.position="absolute",H.style.top=H.style.left="0px",H.style.width=H.style.height="100%",z.appendChild(H),this.fullLayout=_,this.id=k.id||"scene",this.fullSceneLayout=_[this.id],this.plotArgs=[[],{},{}],this.axesOptions=u(_,_[this.id]),this.spikeOptions=b(_[this.id]),this.container=H,this.staticMode=!!k.staticPlot,this.pixelRatio=this.pixelRatio||k.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=h.getComponentMethod("annotations3d","convert"),this.drawAnnotations=h.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var S=d.prototype;S.prepareOptions=function(){var k=this,_={canvas:k.canvas,gl:k.gl,glOptions:{preserveDrawingBuffer:t,premultipliedAlpha:!0,antialias:!0},container:k.container,axes:k.axesOptions,spikes:k.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:k.camera,pixelRatio:k.pixelRatio};if(k.staticMode){if(!v&&(w=document.createElement("canvas"),v=C({canvas:w,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}),!v))throw new Error("error creating static canvas/context for image server");_.gl=v,_.canvas=w}return _};var M=!0;S.tryCreatePlot=function(){var k=this,_=k.prepareOptions(),H=!0;try{k.glplot=n(_)}catch{if(k.staticMode||!M||t)H=!1;else{g.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{t=_.glOptions.preserveDrawingBuffer=!0,k.glplot=n(_)}catch{t=_.glOptions.preserveDrawingBuffer=!1,H=!1}}}return M=!1,H},S.initializeGLCamera=function(){var k=this,_=k.fullSceneLayout.camera,H=_.projection.type==="orthographic";k.camera=L(k.container,{center:[_.center.x,_.center.y,_.center.z],eye:[_.eye.x,_.eye.y,_.eye.z],up:[_.up.x,_.up.y,_.up.z],_ortho:H,zoomMin:.01,zoomMax:100,mode:"orbit"})},S.initializeGLPlot=function(){var k=this;k.initializeGLCamera();var _=k.tryCreatePlot();if(!_)return s(k);k.traces={},k.make4thDimension();var H=k.graphDiv,z=H.layout,N=function(){var F={};return k.isCameraChanged(z)&&(F[k.id+".camera"]=k.getCamera()),k.isAspectChanged(z)&&(F[k.id+".aspectratio"]=k.glplot.getAspectratio(),z[k.id].aspectmode!=="manual"&&(k.fullSceneLayout.aspectmode=z[k.id].aspectmode=F[k.id+".aspectmode"]="manual")),F},O=function(F){if(F.fullSceneLayout.dragmode!==!1){var U=N();F.saveLayout(z),F.graphDiv.emit("plotly_relayout",U)}};return k.glplot.canvas&&(k.glplot.canvas.addEventListener("mouseup",function(){O(k)}),k.glplot.canvas.addEventListener("touchstart",function(){o=!0}),k.glplot.canvas.addEventListener("wheel",function(F){if(H._context._scrollZoom.gl3d){if(k.camera._ortho){var U=F.deltaX>F.deltaY?1.1:.9090909090909091,Z=k.glplot.getAspectratio();k.glplot.setAspectratio({x:U*Z.x,y:U*Z.y,z:U*Z.z})}O(k)}},y?{passive:!1}:!1),k.glplot.canvas.addEventListener("mousemove",function(){if(k.fullSceneLayout.dragmode!==!1&&k.camera.mouseListener.buttons!==0){var F=N();k.graphDiv.emit("plotly_relayouting",F)}}),k.staticMode||k.glplot.canvas.addEventListener("webglcontextlost",function(F){H&&H.emit&&H.emit("plotly_webglcontextlost",{event:F,layer:k.id})},!1)),k.glplot.oncontextloss=function(){k.recoverContext()},k.glplot.onrender=function(){k.render()},!0},S.render=function(){var k=this,_=k.graphDiv,H,z=k.svgContainer,N=k.container.getBoundingClientRect();_._fullLayout._calcInverseTransform(_);var O=_._fullLayout._invScaleX,F=_._fullLayout._invScaleY,U=N.width*O,Z=N.height*F;z.setAttributeNS(null,"viewBox","0 0 "+U+" "+Z),z.setAttributeNS(null,"width",U),z.setAttributeNS(null,"height",Z),f(k),k.glplot.axes.update(k.axesOptions);for(var q=Object.keys(k.traces),J=null,te=k.glplot.selection,fe=0;fe<q.length;++fe)H=k.traces[q[fe]],H.data.hoverinfo!=="skip"&&H.handlePick(te)&&(J=H),H.setContourLevels&&H.setContourLevels();function K(Se,Oe,Ve){var Ee=k.fullSceneLayout[Se+"axis"];return Ee.type!=="log"&&(Oe=Ee.d2l(Oe)),r.hoverLabelText(Ee,Oe,Ve)}if(J!==null){var Y=c(k.glplot.cameraParams,te.dataCoordinate);H=J.data;var W=_._fullData[H.index],X=te.index,re={xLabel:K("x",te.traceCoordinate[0],H.xhoverformat),yLabel:K("y",te.traceCoordinate[1],H.yhoverformat),zLabel:K("z",te.traceCoordinate[2],H.zhoverformat)},se=l.castHoverinfo(W,k.fullLayout,X),Q=(se||"").split("+"),ee=se&&se==="all";!W.hovertemplate&&!ee&&(Q.indexOf("x")===-1&&(re.xLabel=void 0),Q.indexOf("y")===-1&&(re.yLabel=void 0),Q.indexOf("z")===-1&&(re.zLabel=void 0),Q.indexOf("text")===-1&&(te.textLabel=void 0),Q.indexOf("name")===-1&&(J.name=void 0));var le,oe=[];H.type==="cone"||H.type==="streamtube"?(re.uLabel=K("x",te.traceCoordinate[3],H.uhoverformat),(ee||Q.indexOf("u")!==-1)&&oe.push("u: "+re.uLabel),re.vLabel=K("y",te.traceCoordinate[4],H.vhoverformat),(ee||Q.indexOf("v")!==-1)&&oe.push("v: "+re.vLabel),re.wLabel=K("z",te.traceCoordinate[5],H.whoverformat),(ee||Q.indexOf("w")!==-1)&&oe.push("w: "+re.wLabel),re.normLabel=te.traceCoordinate[6].toPrecision(3),(ee||Q.indexOf("norm")!==-1)&&oe.push("norm: "+re.normLabel),H.type==="streamtube"&&(re.divergenceLabel=te.traceCoordinate[7].toPrecision(3),(ee||Q.indexOf("divergence")!==-1)&&oe.push("divergence: "+re.divergenceLabel)),te.textLabel&&oe.push(te.textLabel),le=oe.join("<br>")):H.type==="isosurface"||H.type==="volume"?(re.valueLabel=r.hoverLabelText(k._mockAxis,k._mockAxis.d2l(te.traceCoordinate[3]),H.valuehoverformat),oe.push("value: "+re.valueLabel),te.textLabel&&oe.push(te.textLabel),le=oe.join("<br>")):le=te.textLabel;var he={x:te.traceCoordinate[0],y:te.traceCoordinate[1],z:te.traceCoordinate[2],data:W._input,fullData:W,curveNumber:W.index,pointNumber:X};l.appendArrayPointValue(he,W,X),H._module.eventData&&(he=W._module.eventData(he,te,W,{},X));var xe={points:[he]};if(k.fullSceneLayout.hovermode){var Ae=[];l.loneHover({trace:W,x:(.5+.5*Y[0]/Y[3])*U,y:(.5-.5*Y[1]/Y[3])*Z,xLabel:re.xLabel,yLabel:re.yLabel,zLabel:re.zLabel,text:le,name:J.name,color:l.castHoverOption(W,X,"bgcolor")||J.color,borderColor:l.castHoverOption(W,X,"bordercolor"),fontFamily:l.castHoverOption(W,X,"font.family"),fontSize:l.castHoverOption(W,X,"font.size"),fontColor:l.castHoverOption(W,X,"font.color"),nameLength:l.castHoverOption(W,X,"namelength"),textAlign:l.castHoverOption(W,X,"align"),hovertemplate:g.castOption(W,X,"hovertemplate"),hovertemplateLabels:g.extendFlat({},he,re),eventData:[he]},{container:z,gd:_,inOut_bbox:Ae}),he.bbox=Ae[0]}te.distance<5&&(te.buttons||o)?_.emit("plotly_click",xe):_.emit("plotly_hover",xe),this.oldEventData=xe}else l.loneUnhover(z),this.oldEventData&&_.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;k.drawAnnotations(k)},S.recoverContext=function(){var k=this;k.glplot.dispose();var _=function(){if(k.glplot.gl.isContextLost()){requestAnimationFrame(_);return}if(!k.initializeGLPlot()){g.error("Catastrophic and unrecoverable WebGL error. Context lost.");return}k.plot.apply(k,k.plotArgs)};requestAnimationFrame(_)};var P=["xaxis","yaxis","zaxis"];function x(k,_,H){for(var z=k.fullSceneLayout,N=0;N<3;N++){var O=P[N],F=O.charAt(0),U=z[O],Z=_[F],q=_[F+"calendar"],J=_["_"+F+"length"];if(!g.isArrayOrTypedArray(Z))H[0][N]=Math.min(H[0][N],0),H[1][N]=Math.max(H[1][N],J-1);else for(var te,fe=0;fe<(J||Z.length);fe++)if(g.isArrayOrTypedArray(Z[fe]))for(var K=0;K<Z[fe].length;++K)te=U.d2l(Z[fe][K],0,q),!isNaN(te)&&isFinite(te)&&(H[0][N]=Math.min(H[0][N],te),H[1][N]=Math.max(H[1][N],te));else te=U.d2l(Z[fe],0,q),!isNaN(te)&&isFinite(te)&&(H[0][N]=Math.min(H[0][N],te),H[1][N]=Math.max(H[1][N],te))}}function E(k,_){for(var H=k.fullSceneLayout,z=H.annotations||[],N=0;N<3;N++)for(var O=P[N],F=O.charAt(0),U=H[O],Z=0;Z<z.length;Z++){var q=z[Z];if(q.visible){var J=U.r2l(q[F]);!isNaN(J)&&isFinite(J)&&(_[0][N]=Math.min(_[0][N],J),_[1][N]=Math.max(_[1][N],J))}}}S.plot=function(k,_,H){var z=this;if(z.plotArgs=[k,_,H],!z.glplot.contextLost){var N,O,F,U,Z,q,J=_[z.id],te=H[z.id];z.fullLayout=_,z.fullSceneLayout=J,z.axesOptions.merge(_,J),z.spikeOptions.merge(J),z.setViewport(J),z.updateFx(J.dragmode,J.hovermode),z.camera.enableWheel=z.graphDiv._context._scrollZoom.gl3d,z.glplot.setClearColor(a(J.bgcolor)),z.setConvert(Z),k?Array.isArray(k)||(k=[k]):k=[];var fe=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(F=0;F<k.length;++F)N=k[F],!(N.visible!==!0||N._length===0)&&x(this,N,fe);E(this,fe);var K=[1,1,1];for(U=0;U<3;++U)fe[1][U]===fe[0][U]?K[U]=1:K[U]=1/(fe[1][U]-fe[0][U]);for(z.dataScale=K,z.convertAnnotations(this),F=0;F<k.length;++F)N=k[F],!(N.visible!==!0||N._length===0)&&(O=z.traces[N.uid],O?O.data.type===N.type?O.update(N):(O.dispose(),O=N._module.plot(this,N),z.traces[N.uid]=O):(O=N._module.plot(this,N),z.traces[N.uid]=O),O.name=N.name);var Y=Object.keys(z.traces);e:for(F=0;F<Y.length;++F){for(U=0;U<k.length;++U)if(k[U].uid===Y[F]&&k[U].visible===!0&&k[U]._length!==0)continue e;O=z.traces[Y[F]],O.dispose(),delete z.traces[Y[F]]}z.glplot.objects.sort(function(nt,qe){return nt._trace.data.index-qe._trace.data.index});var W=[[0,0,0],[0,0,0]],X={};for(F=0;F<3;++F){if(Z=J[P[F]],q=Z.type,q in X?(X[q].acc*=K[F],X[q].count+=1):X[q]={acc:K[F],count:1},Z.autorange){W[0][F]=1/0,W[1][F]=-1/0;var re=z.glplot.objects,se=z.fullSceneLayout.annotations||[],Q=Z._name.charAt(0);for(U=0;U<re.length;U++){var ee=re[U],le=ee.bounds,oe=ee._trace.data._pad||0;ee.constructor.name==="ErrorBars"&&Z._lowerLogErrorBound?W[0][F]=Math.min(W[0][F],Z._lowerLogErrorBound):W[0][F]=Math.min(W[0][F],le[0][F]/K[F]-oe),W[1][F]=Math.max(W[1][F],le[1][F]/K[F]+oe)}for(U=0;U<se.length;U++){var he=se[U];if(he.visible){var xe=Z.r2l(he[Q]);W[0][F]=Math.min(W[0][F],xe),W[1][F]=Math.max(W[1][F],xe)}}if("rangemode"in Z&&Z.rangemode==="tozero"&&(W[0][F]=Math.min(W[0][F],0),W[1][F]=Math.max(W[1][F],0)),W[0][F]>W[1][F])W[0][F]=-1,W[1][F]=1;else{var Ae=W[1][F]-W[0][F];W[0][F]-=Ae/32,W[1][F]+=Ae/32}if(Z.autorange==="reversed"){var Se=W[0][F];W[0][F]=W[1][F],W[1][F]=Se}}else{var Oe=Z.range;W[0][F]=Z.r2l(Oe[0]),W[1][F]=Z.r2l(Oe[1])}W[0][F]===W[1][F]&&(W[0][F]-=1,W[1][F]+=1),z.glplot.setBounds(F,{min:W[0][F]*K[F],max:W[1][F]*K[F]})}var Ve,Ee=J.aspectmode;if(Ee==="cube")Ve=[1,1,1];else if(Ee==="manual"){var Te=J.aspectratio;Ve=[Te.x,Te.y,Te.z]}else if(Ee==="auto"||Ee==="data"){var Le=[1,1,1];for(F=0;F<3;++F){Z=J[P[F]],q=Z.type;var Ge=X[q];Le[F]=Math.pow(Ge.acc,1/Ge.count)/K[F]}Ee==="data"||Math.max.apply(null,Le)/Math.min.apply(null,Le)<=4?Ve=Le:Ve=[1,1,1]}else throw new Error("scene.js aspectRatio was not one of the enumerated types");J.aspectratio.x=te.aspectratio.x=Ve[0],J.aspectratio.y=te.aspectratio.y=Ve[1],J.aspectratio.z=te.aspectratio.z=Ve[2],z.glplot.setAspectratio(J.aspectratio),z.viewInitial.aspectratio||(z.viewInitial.aspectratio={x:J.aspectratio.x,y:J.aspectratio.y,z:J.aspectratio.z}),z.viewInitial.aspectmode||(z.viewInitial.aspectmode=J.aspectmode);var He=J.domain||null,ke=_._size||null;if(He&&ke){var We=z.container.style;We.position="absolute",We.left=ke.l+He.x[0]*ke.w+"px",We.top=ke.t+(1-He.y[1])*ke.h+"px",We.width=ke.w*(He.x[1]-He.x[0])+"px",We.height=ke.h*(He.y[1]-He.y[0])+"px"}z.glplot.redraw()}},S.destroy=function(){var k=this;k.glplot&&(k.camera.mouseListener.enabled=!1,k.container.removeEventListener("wheel",k.camera.wheelListener),k.camera=null,k.glplot.dispose(),k.container.parentNode.removeChild(k.container),k.glplot=null)};function T(k){return[[k.eye.x,k.eye.y,k.eye.z],[k.center.x,k.center.y,k.center.z],[k.up.x,k.up.y,k.up.z]]}function i(k){return{up:{x:k.up[0],y:k.up[1],z:k.up[2]},center:{x:k.center[0],y:k.center[1],z:k.center[2]},eye:{x:k.eye[0],y:k.eye[1],z:k.eye[2]},projection:{type:k._ortho===!0?"orthographic":"perspective"}}}S.getCamera=function(){var k=this;return k.camera.view.recalcMatrix(k.camera.view.lastT()),i(k.camera)},S.setViewport=function(k){var _=this,H=k.camera;_.camera.lookAt.apply(this,T(H)),_.glplot.setAspectratio(k.aspectratio);var z=H.projection.type==="orthographic",N=_.camera._ortho;z!==N&&(_.glplot.redraw(),_.glplot.clearRGBA(),_.glplot.dispose(),_.initializeGLPlot())},S.isCameraChanged=function(k){var _=this,H=_.getCamera(),z=g.nestedProperty(k,_.id+".camera"),N=z.get();function O(q,J,te,fe){var K=["up","center","eye"],Y=["x","y","z"];return J[K[te]]&&q[K[te]][Y[fe]]===J[K[te]][Y[fe]]}var F=!1;if(N===void 0)F=!0;else{for(var U=0;U<3;U++)for(var Z=0;Z<3;Z++)if(!O(H,N,U,Z)){F=!0;break}(!N.projection||H.projection&&H.projection.type!==N.projection.type)&&(F=!0)}return F},S.isAspectChanged=function(k){var _=this,H=_.glplot.getAspectratio(),z=g.nestedProperty(k,_.id+".aspectratio"),N=z.get();return N===void 0||N.x!==H.x||N.y!==H.y||N.z!==H.z},S.saveLayout=function(k){var _=this,H=_.fullLayout,z,N,O,F,U,Z,q=_.isCameraChanged(k),J=_.isAspectChanged(k),te=q||J;if(te){var fe={};if(q&&(z=_.getCamera(),N=g.nestedProperty(k,_.id+".camera"),O=N.get(),fe[_.id+".camera"]=O),J&&(F=_.glplot.getAspectratio(),U=g.nestedProperty(k,_.id+".aspectratio"),Z=U.get(),fe[_.id+".aspectratio"]=Z),h.call("_storeDirectGUIEdit",k,H._preGUI,fe),q){N.set(z);var K=g.nestedProperty(H,_.id+".camera");K.set(z)}if(J){U.set(F);var Y=g.nestedProperty(H,_.id+".aspectratio");Y.set(F),_.glplot.redraw()}}return te},S.updateFx=function(k,_){var H=this,z=H.camera;if(z)if(k==="orbit")z.mode="orbit",z.keyBindingMode="rotate";else if(k==="turntable"){z.up=[0,0,1],z.mode="turntable",z.keyBindingMode="rotate";var N=H.graphDiv,O=N._fullLayout,F=H.fullSceneLayout.camera,U=F.up.x,Z=F.up.y,q=F.up.z;if(q/Math.sqrt(U*U+Z*Z+q*q)<.999){var J=H.id+".camera.up",te={x:0,y:0,z:1},fe={};fe[J]=te;var K=N.layout;h.call("_storeDirectGUIEdit",K,O._preGUI,fe),F.up=te,g.nestedProperty(K,J).set(te)}}else z.keyBindingMode=k;H.fullSceneLayout.hovermode=_};function R(k,_,H){for(var z=0,N=H-1;z<N;++z,--N)for(var O=0;O<_;++O)for(var F=0;F<4;++F){var U=4*(_*z+O)+F,Z=4*(_*N+O)+F,q=k[U];k[U]=k[Z],k[Z]=q}}function A(k,_,H){for(var z=0;z<H;++z)for(var N=0;N<_;++N){var O=4*(_*z+N),F=k[O+3];if(F>0)for(var U=255/F,Z=0;Z<3;++Z)k[O+Z]=Math.min(U*k[O+Z],255)}}S.toImage=function(k){var _=this;k||(k="png"),_.staticMode&&_.container.appendChild(w),_.glplot.redraw();var H=_.glplot.gl,z=H.drawingBufferWidth,N=H.drawingBufferHeight;H.bindFramebuffer(H.FRAMEBUFFER,null);var O=new Uint8Array(z*N*4);H.readPixels(0,0,z,N,H.RGBA,H.UNSIGNED_BYTE,O),R(O,z,N),A(O,z,N);var F=document.createElement("canvas");F.width=z,F.height=N;var U=F.getContext("2d",{willReadFrequently:!0}),Z=U.createImageData(z,N);Z.data.set(O),U.putImageData(Z,0,0);var q;switch(k){case"jpeg":q=F.toDataURL("image/jpeg");break;case"webp":q=F.toDataURL("image/webp");break;default:q=F.toDataURL("image/png")}return _.staticMode&&_.container.removeChild(w),q},S.setConvert=function(){for(var k=this,_=0;_<3;_++){var H=k.fullSceneLayout[P[_]];r.setConvert(H,k.fullLayout),H.setScale=g.noop}},S.make4thDimension=function(){var k=this,_=k.graphDiv,H=_._fullLayout;k._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},r.setConvert(k._mockAxis,H)},V.exports=d},90060:function(V){V.exports=function(e,p,L,n){n=n||e.length;for(var C=new Array(n),y=0;y<n;y++)C[y]=[e[y],p[y],L[y]];return C}},10820:function(V,B,e){var p=e(41940),L=e(85594),n=e(22399),C=e(29241),y=e(53777),h=e(35025),g=e(1426).extendFlat,t=p({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=n.defaultLine,V.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:p({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:g(h({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:n.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:n.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:n.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:C.newshape,activeshape:C.activeshape,newselection:y.newselection,activeselection:y.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:g({},L.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:p({editType:"layoutstyle"})}}},77734:function(V,B,e){var p=e(78607),L="1.10.1",n=' <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',C=[' <a target="_blank" href="https://carto.com/">Carto</a>',n].join(" "),y=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),h=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),g={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:n,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}]},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}]},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}]},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:C,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}]},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:y,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}]},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:y,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}]},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:h,tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}]}},t=p(g);V.exports={requiredVersion:L,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:g,styleValuesNonMapbox:t,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+L+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",t.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(V,B,e){var p=e(71828);V.exports=function(n,C){var y=n.split(" "),h=y[0],g=y[1],t=p.isArrayOrTypedArray(C)?p.mean(C):C,r=.5+t/100,l=1.5+t/100,a=["",""],s=[0,0];switch(h){case"top":a[0]="top",s[1]=-l;break;case"bottom":a[0]="bottom",s[1]=l;break}switch(g){case"left":a[1]="right",s[0]=-r;break;case"right":a[1]="left",s[0]=r;break}var c;return a[0]&&a[1]?c=a.join("-"):a[0]?c=a[0]:a[1]?c=a[1]:c="center",{anchor:c,offset:s}}},50101:function(V,B,e){var p=e(44517),L=e(71828),n=L.strTranslate,C=L.strScale,y=e(27659).AU,h=e(77922),g=e(39898),t=e(91424),r=e(63893),l=e(10481),a="mapbox",s=B.constants=e(77734);B.name=a,B.attr="subplot",B.idRoot=a,B.idRegex=B.attrRegex=L.counterRegex(a),B.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},B.layoutAttributes=e(23585),B.supplyLayoutDefaults=e(77882),B.plot=function(f){var w=f._fullLayout,v=f.calcdata,o=w._subplots[a];if(p.version!==s.requiredVersion)throw new Error(s.wrongVersionErrorMsg);var d=c(f,o);p.accessToken=d;for(var S=0;S<o.length;S++){var M=o[S],P=y(v,a,M),x=w[M],E=x._subplot;E||(E=new l(f,M),w[M]._subplot=E),E.viewInitial||(E.viewInitial={center:L.extendFlat({},x.center),zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),E.plot(P,w,f._promises)}},B.clean=function(b,f,w,v){for(var o=v._subplots[a]||[],d=0;d<o.length;d++){var S=o[d];!f[S]&&v[S]._subplot&&v[S]._subplot.destroy()}},B.toSVG=function(b){for(var f=b._fullLayout,w=f._subplots[a],v=f._size,o=0;o<w.length;o++){var d=f[w[o]],S=d.domain,M=d._subplot,P=M.toImage("png"),x=f._glimages.append("svg:image");x.attr({xmlns:h.svg,"xlink:href":P,x:v.l+v.w*S.x[0],y:v.t+v.h*(1-S.y[1]),width:v.w*(S.x[1]-S.x[0]),height:v.h*(S.y[1]-S.y[0]),preserveAspectRatio:"none"});var E=g.select(d._subplot.div),T=E.select(".mapboxgl-ctrl-logo").node().offsetParent===null;if(!T){var i=f._glimages.append("g");i.attr("transform",n(v.l+v.w*S.x[0]+10,v.t+v.h*(1-S.y[0])-31)),i.append("path").attr("d",s.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),i.append("path").attr("d",s.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),i.append("path").attr("d",s.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),i.append("polygon").attr("points",s.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var R=E.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),A=f._glimages.append("g"),k=A.append("text");k.text(R).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":R});var _=t.bBox(k.node()),H=v.w*(S.x[1]-S.x[0]);if(_.width>H/2){var z=R.split("|").join("<br>");k.text(z).attr("data-unformatted",z).call(r.convertToTspans,b),_=t.bBox(k.node())}k.attr("transform",n(-3,-_.height+8)),A.insert("rect",".static-attribution").attr({x:-_.width-6,y:-_.height-3,width:_.width+6,height:_.height+3,fill:"rgba(255, 255, 255, 0.75)"});var N=1;_.width+6>H&&(N=H/(_.width+6));var O=[v.l+v.w*S.x[1],v.t+v.h*(1-S.y[0])];A.attr("transform",n(O[0],O[1])+C(N))}};function c(b,f){var w=b._fullLayout,v=b._context;if(v.mapboxAccessToken==="")return"";for(var o=[],d=[],S=!1,M=!1,P=0;P<f.length;P++){var x=w[f[P]],E=x.accesstoken;u(x.style)&&(E?L.pushUnique(o,E):(u(x._input.style)&&(L.error("Uses Mapbox map style, but did not set an access token."),S=!0),M=!0)),E&&L.pushUnique(d,E)}if(M){var T=S?s.noAccessTokenErrorMsg:s.missingStyleErrorMsg;throw L.error(T),new Error(T)}return o.length?(o.length>1&&L.warn(s.multipleTokensErrorMsg),o[0]):(d.length&&L.log(["Listed mapbox access token(s)",d.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}function u(b){return typeof b=="string"&&(s.styleValuesMapbox.indexOf(b)!==-1||b.indexOf("mapbox://")===0)}B.updateFx=function(b){for(var f=b._fullLayout,w=f._subplots[a],v=0;v<w.length;v++){var o=f[w[v]]._subplot;o.updateFx(f)}}},67911:function(V,B,e){var p=e(71828),L=e(63893).sanitizeHTML,n=e(13056),C=e(77734);function y(l,a){this.subplot=l,this.uid=l.uid+"-"+a,this.index=a,this.idSource="source-"+this.uid,this.idLayer=C.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var h=y.prototype;h.update=function(a){this.visible?this.needsNewImage(a)?this.updateImage(a):this.needsNewSource(a)?(this.removeLayer(),this.updateSource(a),this.updateLayer(a)):this.needsNewLayer(a)?this.updateLayer(a):this.updateStyle(a):(this.updateSource(a),this.updateLayer(a)),this.visible=g(a)},h.needsNewImage=function(l){var a=this.subplot.map;return a.getSource(this.idSource)&&this.sourceType==="image"&&l.sourcetype==="image"&&(this.source!==l.source||JSON.stringify(this.coordinates)!==JSON.stringify(l.coordinates))},h.needsNewSource=function(l){return this.sourceType!==l.sourcetype||JSON.stringify(this.source)!==JSON.stringify(l.source)||this.layerType!==l.type},h.needsNewLayer=function(l){return this.layerType!==l.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},h.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},h.updateImage=function(l){var a=this.subplot.map;a.getSource(this.idSource).updateImage({url:l.source,coordinates:l.coordinates});var s=this.findFollowingMapboxLayerId(this.lookupBelow());s!==null&&this.subplot.map.moveLayer(this.idLayer,s)},h.updateSource=function(l){var a=this.subplot.map;if(a.getSource(this.idSource)&&a.removeSource(this.idSource),this.sourceType=l.sourcetype,this.source=l.source,!!g(l)){var s=r(l);a.addSource(this.idSource,s)}},h.findFollowingMapboxLayerId=function(l){if(l==="traces")for(var a=this.subplot.getMapLayers(),s=0;s<a.length;s++){var c=a[s].id;if(typeof c=="string"&&c.indexOf(C.traceLayerPrefix)===0){l=c;break}}return l},h.updateLayer=function(l){var a=this.subplot,s=t(l),c=this.lookupBelow(),u=this.findFollowingMapboxLayerId(c);this.removeLayer(),g(l)&&a.addLayer({id:this.idLayer,source:this.idSource,"source-layer":l.sourcelayer||"",type:l.type,minzoom:l.minzoom,maxzoom:l.maxzoom,layout:s.layout,paint:s.paint},u),this.layerType=l.type,this.below=c},h.updateStyle=function(l){if(g(l)){var a=t(l);this.subplot.setOptions(this.idLayer,"setLayoutProperty",a.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",a.paint)}},h.removeLayer=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer)},h.dispose=function(){var l=this.subplot.map;l.getLayer(this.idLayer)&&l.removeLayer(this.idLayer),l.getSource(this.idSource)&&l.removeSource(this.idSource)};function g(l){if(!l.visible)return!1;var a=l.source;if(Array.isArray(a)&&a.length>0){for(var s=0;s<a.length;s++)if(typeof a[s]!="string"||a[s].length===0)return!1;return!0}return p.isPlainObject(a)||typeof a=="string"&&a.length>0}function t(l){var a={},s={};switch(l.type){case"circle":p.extendFlat(s,{"circle-radius":l.circle.radius,"circle-color":l.color,"circle-opacity":l.opacity});break;case"line":p.extendFlat(s,{"line-width":l.line.width,"line-color":l.color,"line-opacity":l.opacity,"line-dasharray":l.line.dash});break;case"fill":p.extendFlat(s,{"fill-color":l.color,"fill-outline-color":l.fill.outlinecolor,"fill-opacity":l.opacity});break;case"symbol":var c=l.symbol,u=n(c.textposition,c.iconsize);p.extendFlat(a,{"icon-image":c.icon+"-15","icon-size":c.iconsize/10,"text-field":c.text,"text-size":c.textfont.size,"text-anchor":u.anchor,"text-offset":u.offset,"symbol-placement":c.placement}),p.extendFlat(s,{"icon-color":l.color,"text-color":c.textfont.color,"text-opacity":l.opacity});break;case"raster":p.extendFlat(s,{"raster-fade-duration":0,"raster-opacity":l.opacity});break}return{layout:a,paint:s}}function r(l){var a=l.sourcetype,s=l.source,c={type:a},u;return a==="geojson"?u="data":a==="vector"?u=typeof s=="string"?"url":"tiles":a==="raster"?(u="tiles",c.tileSize=256):a==="image"&&(u="url",c.coordinates=l.coordinates),c[u]=s,l.sourceattribution&&(c.attribution=L(l.sourceattribution)),c}V.exports=function(a,s,c){var u=new y(a,s);return u.update(c),u}},23585:function(V,B,e){var p=e(71828),L=e(7901).defaultLine,n=e(27670).Y,C=e(41940),y=e(82196).textposition,h=e(30962).overrideAll,g=e(44467).templatedArray,t=e(77734),r=C({});r.family.dflt="Open Sans Regular, Arial Unicode MS Regular";var l=V.exports=h({_arrayAttrRegexps:[p.counterRegex("mapbox",".layers",!0)],domain:n({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:g("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:L},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:L}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:r,textposition:p.extendFlat({},y,{arrayOk:!1})}})},"plot","from-root");l.uirevision={valType:"any",editType:"none"}},77882:function(V,B,e){var p=e(71828),L=e(49119),n=e(85501),C=e(23585);V.exports=function(t,r,l){L(t,r,l,{type:"mapbox",attributes:C,handleDefaults:y,partition:"y",accessToken:r._mapboxAccessToken})};function y(g,t,r,l){r("accesstoken",l.accessToken),r("style"),r("center.lon"),r("center.lat"),r("zoom"),r("bearing"),r("pitch");var a=r("bounds.west"),s=r("bounds.east"),c=r("bounds.south"),u=r("bounds.north");(a===void 0||s===void 0||c===void 0||u===void 0)&&delete t.bounds,n(g,t,{name:"layers",handleItemDefaults:h}),t._input=g}function h(g,t){function r(b,f){return p.coerce(g,t,C.layers,b,f)}var l=r("visible");if(l){var a=r("sourcetype"),s=a==="raster"||a==="image";r("source"),r("sourceattribution"),a==="vector"&&r("sourcelayer"),a==="image"&&r("coordinates");var c;s&&(c="raster");var u=r("type",c);s&&u!=="raster"&&(u=t.type="raster",p.log("Source types *raster* and *image* must drawn *raster* layer type.")),r("below"),r("color"),r("opacity"),r("minzoom"),r("maxzoom"),u==="circle"&&r("circle.radius"),u==="line"&&(r("line.width"),r("line.dash")),u==="fill"&&r("fill.outlinecolor"),u==="symbol"&&(r("symbol.icon"),r("symbol.iconsize"),r("symbol.text"),p.coerceFont(r,"symbol.textfont"),r("symbol.textposition"),r("symbol.placement"))}}},10481:function(V,B,e){var p=e(44517),L=e(71828),n=e(41327),C=e(73972),y=e(89298),h=e(28569),g=e(30211),t=e(64505),r=t.drawMode,l=t.selectMode,a=e(47322).prepSelect,s=e(47322).clearOutline,c=e(47322).clearSelectionsCache,u=e(47322).selectOnClick,b=e(77734),f=e(67911);function w(P,x){this.id=x,this.gd=P;var E=P._fullLayout,T=P._context;this.container=E._glcontainer.node(),this.isStatic=T.staticPlot,this.uid=E._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(E),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var v=w.prototype;v.plot=function(P,x,E){var T=this,i=x[T.id];T.map&&i.accesstoken!==T.accessToken&&(T.map.remove(),T.map=null,T.styleObj=null,T.traceHash={},T.layerList=[]);var R;T.map?R=new Promise(function(A,k){T.updateMap(P,x,A,k)}):R=new Promise(function(A,k){T.createMap(P,x,A,k)}),E.push(R)},v.createMap=function(P,x,E,T){var i=this,R=x[i.id],A=i.styleObj=d(R.style);i.accessToken=R.accesstoken;var k=R.bounds,_=k?[[k.west,k.south],[k.east,k.north]]:null,H=i.map=new p.Map({container:i.div,style:A.style,center:M(R.center),zoom:R.zoom,bearing:R.bearing,pitch:R.pitch,maxBounds:_,interactive:!i.isStatic,preserveDrawingBuffer:i.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new p.AttributionControl({compact:!0}));H._canvas.style.left="0px",H._canvas.style.top="0px",i.rejectOnError(T),i.isStatic||i.initFx(P,x);var z=[];z.push(new Promise(function(N){H.once("load",N)})),z=z.concat(n.fetchTraceGeoData(P)),Promise.all(z).then(function(){i.fillBelowLookup(P,x),i.updateData(P),i.updateLayout(x),i.resolveOnRender(E)}).catch(T)},v.updateMap=function(P,x,E,T){var i=this,R=i.map,A=x[this.id];i.rejectOnError(T);var k=[],_=d(A.style);JSON.stringify(i.styleObj)!==JSON.stringify(_)&&(i.styleObj=_,R.setStyle(_.style),i.traceHash={},k.push(new Promise(function(H){R.once("styledata",H)}))),k=k.concat(n.fetchTraceGeoData(P)),Promise.all(k).then(function(){i.fillBelowLookup(P,x),i.updateData(P),i.updateLayout(x),i.resolveOnRender(E)}).catch(T)},v.fillBelowLookup=function(P,x){var E=x[this.id],T=E.layers,i,R,A=this.belowLookup={},k=!1;for(i=0;i<P.length;i++){var _=P[i][0].trace,H=_._module;typeof _.below=="string"?R=_.below:H.getBelow&&(R=H.getBelow(_,this)),R===""&&(k=!0),A["trace-"+_.uid]=R||""}for(i=0;i<T.length;i++){var z=T[i];typeof z.below=="string"?R=z.below:k?R="traces":R="",A["layout-"+i]=R}var N={},O,F;for(O in A)R=A[O],N[R]?N[R].push(O):N[R]=[O];for(R in N){var U=N[R];if(U.length>1)for(i=0;i<U.length;i++)O=U[i],O.indexOf("trace-")===0?(F=O.split("trace-")[1],this.traceHash[F]&&(this.traceHash[F].below=null)):O.indexOf("layout-")===0&&(F=O.split("layout-")[1],this.layerList[F]&&(this.layerList[F].below=null))}};var o={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};v.updateData=function(P){var x=this.traceHash,E,T,i,R,A=P.slice().sort(function(N,O){return o[N[0].trace.type]-o[O[0].trace.type]});for(i=0;i<A.length;i++){var k=A[i];T=k[0].trace,E=x[T.uid];var _=!1;E&&(E.type===T.type?(E.update(k),_=!0):E.dispose()),!_&&T._module&&(x[T.uid]=T._module.plot(this,k))}var H=Object.keys(x);e:for(i=0;i<H.length;i++){var z=H[i];for(R=0;R<P.length;R++)if(T=P[R][0].trace,z===T.uid)continue e;E=x[z],E.dispose(),delete x[z]}},v.updateLayout=function(P){var x=this.map,E=P[this.id];!this.dragging&&!this.wheeling&&(x.setCenter(M(E.center)),x.setZoom(E.zoom),x.setBearing(E.bearing),x.setPitch(E.pitch)),this.updateLayers(P),this.updateFramework(P),this.updateFx(P),this.map.resize(),this.gd._context._scrollZoom.mapbox?x.scrollZoom.enable():x.scrollZoom.disable()},v.resolveOnRender=function(P){var x=this.map;x.on("render",function E(){x.loaded()&&(x.off("render",E),setTimeout(P,10))})},v.rejectOnError=function(P){var x=this.map;function E(){P(new Error(b.mapOnErrorMsg))}x.once("error",E),x.once("style.error",E),x.once("source.error",E),x.once("tile.error",E),x.once("layer.error",E)},v.createFramework=function(P){var x=this,E=x.div=document.createElement("div");E.id=x.uid,E.style.position="absolute",x.container.appendChild(E),x.xaxis={_id:"x",c2p:function(T){return x.project(T).x}},x.yaxis={_id:"y",c2p:function(T){return x.project(T).y}},x.updateFramework(P),x.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},y.setConvert(x.mockAxis,P)},v.initFx=function(P,x){var E=this,T=E.gd,i=E.map;i.on("moveend",function(k){if(E.map){var _=T._fullLayout;if(k.originalEvent||E.wheeling){var H=_[E.id];C.call("_storeDirectGUIEdit",T.layout,_._preGUI,E.getViewEdits(H));var z=E.getView();H._input.center=H.center=z.center,H._input.zoom=H.zoom=z.zoom,H._input.bearing=H.bearing=z.bearing,H._input.pitch=H.pitch=z.pitch,T.emit("plotly_relayout",E.getViewEditsWithDerived(z))}k.originalEvent&&k.originalEvent.type==="mouseup"?E.dragging=!1:E.wheeling&&(E.wheeling=!1),_._rehover&&_._rehover()}}),i.on("wheel",function(){E.wheeling=!0}),i.on("mousemove",function(k){var _=E.div.getBoundingClientRect(),H=[k.originalEvent.offsetX,k.originalEvent.offsetY];k.target.getBoundingClientRect=function(){return _},E.xaxis.p2c=function(){return i.unproject(H).lng},E.yaxis.p2c=function(){return i.unproject(H).lat},T._fullLayout._rehover=function(){T._fullLayout._hoversubplot===E.id&&T._fullLayout[E.id]&&g.hover(T,k,E.id)},g.hover(T,k,E.id),T._fullLayout._hoversubplot=E.id});function R(){g.loneUnhover(x._hoverlayer)}i.on("dragstart",function(){E.dragging=!0,R()}),i.on("zoomstart",R),i.on("mouseout",function(){T._fullLayout._hoversubplot=null});function A(){var k=E.getView();T.emit("plotly_relayouting",E.getViewEditsWithDerived(k))}i.on("drag",A),i.on("zoom",A),i.on("dblclick",function(){var k=T._fullLayout[E.id];C.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,E.getViewEdits(k));var _=E.viewInitial;i.setCenter(M(_.center)),i.setZoom(_.zoom),i.setBearing(_.bearing),i.setPitch(_.pitch);var H=E.getView();k._input.center=k.center=H.center,k._input.zoom=k.zoom=H.zoom,k._input.bearing=k.bearing=H.bearing,k._input.pitch=k.pitch=H.pitch,T.emit("plotly_doubleclick",null),T.emit("plotly_relayout",E.getViewEditsWithDerived(H))}),E.clearOutline=function(){c(E.dragOptions),s(E.dragOptions.gd)},E.onClickInPanFn=function(k){return function(_){var H=T._fullLayout.clickmode;H.indexOf("select")>-1&&u(_.originalEvent,T,[E.xaxis],[E.yaxis],E.id,k),H.indexOf("event")>-1&&g.click(T,_.originalEvent)}}},v.updateFx=function(P){var x=this,E=x.map,T=x.gd;if(x.isStatic)return;function i(_){var H=x.map.unproject(_);return[H.lng,H.lat]}var R=P.dragmode,A;A=function(_,H){if(H.isRect){var z=_.range={};z[x.id]=[i([H.xmin,H.ymin]),i([H.xmax,H.ymax])]}else{var N=_.lassoPoints={};N[x.id]=H.map(i)}};var k=x.dragOptions;x.dragOptions=L.extendDeep(k||{},{dragmode:P.dragmode,element:x.div,gd:T,plotinfo:{id:x.id,domain:P[x.id].domain,xaxis:x.xaxis,yaxis:x.yaxis,fillRangeItems:A},xaxes:[x.xaxis],yaxes:[x.yaxis],subplot:x.id}),E.off("click",x.onClickInPanHandler),l(R)||r(R)?(E.dragPan.disable(),E.on("zoomstart",x.clearOutline),x.dragOptions.prepFn=function(_,H,z){a(_,H,z,x.dragOptions,R)},h.init(x.dragOptions)):(E.dragPan.enable(),E.off("zoomstart",x.clearOutline),x.div.onmousedown=null,x.div.ontouchstart=null,x.div.removeEventListener("touchstart",x.div._ontouchstart),x.onClickInPanHandler=x.onClickInPanFn(x.dragOptions),E.on("click",x.onClickInPanHandler))},v.updateFramework=function(P){var x=P[this.id].domain,E=P._size,T=this.div.style;T.width=E.w*(x.x[1]-x.x[0])+"px",T.height=E.h*(x.y[1]-x.y[0])+"px",T.left=E.l+x.x[0]*E.w+"px",T.top=E.t+(1-x.y[1])*E.h+"px",this.xaxis._offset=E.l+x.x[0]*E.w,this.xaxis._length=E.w*(x.x[1]-x.x[0]),this.yaxis._offset=E.t+(1-x.y[1])*E.h,this.yaxis._length=E.h*(x.y[1]-x.y[0])},v.updateLayers=function(P){var x=P[this.id],E=x.layers,T=this.layerList,i;if(E.length!==T.length){for(i=0;i<T.length;i++)T[i].dispose();for(T=this.layerList=[],i=0;i<E.length;i++)T.push(f(this,i,E[i]))}else for(i=0;i<E.length;i++)T[i].update(E[i])},v.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},v.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},v.setOptions=function(P,x,E){for(var T in E)this.map[x](P,T,E[T])},v.getMapLayers=function(){return this.map.getStyle().layers},v.addLayer=function(P,x){var E=this.map;if(typeof x=="string"){if(x===""){E.addLayer(P,x);return}for(var T=this.getMapLayers(),i=0;i<T.length;i++)if(x===T[i].id){E.addLayer(P,x);return}L.warn(["Trying to add layer with *below* value",x,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}E.addLayer(P)},v.project=function(P){return this.map.project(new p.LngLat(P[0],P[1]))},v.getView=function(){var P=this.map,x=P.getCenter(),E=x.lng,T=x.lat,i={lon:E,lat:T},R=P.getCanvas(),A=parseInt(R.style.width),k=parseInt(R.style.height);return{center:i,zoom:P.getZoom(),bearing:P.getBearing(),pitch:P.getPitch(),_derived:{coordinates:[P.unproject([0,0]).toArray(),P.unproject([A,0]).toArray(),P.unproject([A,k]).toArray(),P.unproject([0,k]).toArray()]}}},v.getViewEdits=function(P){for(var x=this.id,E=["center","zoom","bearing","pitch"],T={},i=0;i<E.length;i++){var R=E[i];T[x+"."+R]=P[R]}return T},v.getViewEditsWithDerived=function(P){var x=this.id,E=this.getViewEdits(P);return E[x+"._derived"]=P._derived,E};function d(P){var x={};return L.isPlainObject(P)?(x.id=P.id,x.style=P):typeof P=="string"?(x.id=P,b.styleValuesMapbox.indexOf(P)!==-1?x.style=S(P):b.stylesNonMapbox[P]?x.style=b.stylesNonMapbox[P]:x.style=P):(x.id=b.styleValueDflt,x.style=S(b.styleValueDflt)),x.transition={duration:0,delay:0},x}function S(P){return b.styleUrlPrefix+P+"-"+b.styleUrlSuffix}function M(P){return[P.lon,P.lat]}V.exports=w},35025:function(V){V.exports=function(B){var e=B.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(V,B,e){var p=e(39898),L=e(84096).Dq,n=e(60721).FF,C=e(92770),y=e(73972),h=e(86281),g=e(44467),t=e(71828),r=e(7901),l=e(50606).BADNUM,a=e(41675),s=e(51873).clearOutline,c=e(21479),u=e(85594),b=e(31391),f=e(27659).a0,w=t.relinkPrivateKeys,v=t._,o=V.exports={};t.extendFlat(o,y),o.attributes=e(9012),o.attributes.type.values=o.allTypes,o.fontAttrs=e(41940),o.layoutAttributes=e(10820),o.fontWeight="normal";var d=o.transformsRegistry,S=e(31137);o.executeAPICommand=S.executeAPICommand,o.computeAPICommandBindings=S.computeAPICommandBindings,o.manageCommandObserver=S.manageCommandObserver,o.hasSimpleAPICommandBindings=S.hasSimpleAPICommandBindings,o.redrawText=function(W){return W=t.getGraphDiv(W),new Promise(function(X){setTimeout(function(){W._fullLayout&&(y.getComponentMethod("annotations","draw")(W),y.getComponentMethod("legend","draw")(W),y.getComponentMethod("colorbar","draw")(W),X(o.previousPromises(W)))},300)})},o.resize=function(W){W=t.getGraphDiv(W);var X,re=new Promise(function(se,Q){(!W||t.isHidden(W))&&Q(new Error("Resize must be passed a displayed plot div element.")),W._redrawTimer&&clearTimeout(W._redrawTimer),W._resolveResize&&(X=W._resolveResize),W._resolveResize=se,W._redrawTimer=setTimeout(function(){if(!W.layout||W.layout.width&&W.layout.height||t.isHidden(W)){se(W);return}delete W.layout.width,delete W.layout.height;var ee=W.changed;W.autoplay=!0,y.call("relayout",W,{autosize:!0}).then(function(){W.changed=ee,W._resolveResize===se&&(delete W._resolveResize,se(W))})},100)});return X&&X(re),re},o.previousPromises=function(W){if((W._promises||[]).length)return Promise.all(W._promises).then(function(){W._promises=[]})},o.addLinks=function(W){if(!(!W._context.showLink&&!W._context.showSources)){var X=W._fullLayout,re=t.ensureSingle(X._paper,"text","js-plot-link-container",function(he){he.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:r.defaultLine,"pointer-events":"all"}).each(function(){var xe=p.select(this);xe.append("tspan").classed("js-link-to-tool",!0),xe.append("tspan").classed("js-link-spacer",!0),xe.append("tspan").classed("js-sourcelinks",!0)})}),se=re.node(),Q={y:X._paper.attr("height")-9};document.body.contains(se)&&se.getComputedTextLength()>=X.width-20?(Q["text-anchor"]="start",Q.x=5):(Q["text-anchor"]="end",Q.x=X._paper.attr("width")-7),re.attr(Q);var ee=re.select(".js-link-to-tool"),le=re.select(".js-link-spacer"),oe=re.select(".js-sourcelinks");W._context.showSources&&W._context.showSources(W),W._context.showLink&&M(W,ee),le.text(ee.text()&&oe.text()?" - ":"")}};function M(W,X){X.text("");var re=X.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(W._context.linkText+" "+String.fromCharCode(187));if(W._context.sendData)re.on("click",function(){o.sendDataToCloud(W)});else{var se=window.location.pathname.split("/"),Q=window.location.search;re.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+se[2].split(".")[0]+"/"+se[1]+Q})}}o.sendDataToCloud=function(W){var X=(window.PLOTLYENV||{}).BASE_URL||W._context.plotlyServerURL;if(X){W.emit("plotly_beforeexport");var re=p.select(W).append("div").attr("id","hiddenform").style("display","none"),se=re.append("form").attr({action:X+"/external",method:"post",target:"_blank"}),Q=se.append("input").attr({type:"text",name:"data"});return Q.node().value=o.graphJson(W,!1,"keepdata"),se.node().submit(),re.remove(),W.emit("plotly_afterexport"),!1}};var P=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],x=["year","month","dayMonth","dayMonthYear"];o.supplyDefaults=function(W,X){var re=X&&X.skipUpdateCalc,se=W._fullLayout||{};if(se._skipDefaults){delete se._skipDefaults;return}var Q=W._fullLayout={},ee=W.layout||{},le=W._fullData||[],oe=W._fullData=[],he=W.data||[],xe=W.calcdata||[],Ae=W._context||{},Se;W._transitionData||o.createTransitionData(W),Q._dfltTitle={plot:v(W,"Click to enter Plot title"),x:v(W,"Click to enter X axis title"),y:v(W,"Click to enter Y axis title"),colorbar:v(W,"Click to enter Colorscale title"),annotation:v(W,"new text")},Q._traceWord=v(W,"trace");var Oe=i(W,P);if(Q._mapboxAccessToken=Ae.mapboxAccessToken,se._initialAutoSizeIsDone){var Ve=se.width,Ee=se.height;o.supplyLayoutGlobalDefaults(ee,Q,Oe),ee.width||(Q.width=Ve),ee.height||(Q.height=Ee),o.sanitizeMargins(Q)}else{o.supplyLayoutGlobalDefaults(ee,Q,Oe);var Te=!ee.width||!ee.height,Le=Q.autosize,Ge=Ae.autosizable,He=Te&&(Le||Ge);He?o.plotAutoSize(W,ee,Q):Te&&o.sanitizeMargins(Q),!Le&&Te&&(ee.width=Q.width,ee.height=Q.height)}Q._d3locale=R(Oe,Q.separators),Q._extraFormat=i(W,x),Q._initialAutoSizeIsDone=!0,Q._dataLength=he.length,Q._modules=[],Q._visibleModules=[],Q._basePlotModules=[];var ke=Q._subplots=T(),We=Q._splomAxes={x:{},y:{}},nt=Q._splomSubplots={};Q._splomGridDflt={},Q._scatterStackOpts={},Q._firstScatter={},Q._alignmentOpts={},Q._colorAxes={},Q._requestRangeslider={},Q._traceUids=E(le,he),Q._globalTransforms=(W._context||{}).globalTransforms,o.supplyDataDefaults(he,oe,ee,Q);var qe=Object.keys(We.x),Qe=Object.keys(We.y);if(qe.length>1&&Qe.length>1){for(y.getComponentMethod("grid","sizeDefaults")(ee,Q),Se=0;Se<qe.length;Se++)t.pushUnique(ke.xaxis,qe[Se]);for(Se=0;Se<Qe.length;Se++)t.pushUnique(ke.yaxis,Qe[Se]);for(var tt in nt)t.pushUnique(ke.cartesian,tt)}if(Q._has=o._hasPlotType.bind(Q),le.length===oe.length)for(Se=0;Se<oe.length;Se++)w(oe[Se],le[Se]);o.supplyLayoutModuleDefaults(ee,Q,oe,W._transitionData);var vt=Q._visibleModules,dt=[];for(Se=0;Se<vt.length;Se++){var gt=vt[Se].crossTraceDefaults;gt&&t.pushUnique(dt,gt)}for(Se=0;Se<dt.length;Se++)dt[Se](oe,Q);Q._hasOnlyLargeSploms=Q._basePlotModules.length===1&&Q._basePlotModules[0].name==="splom"&&qe.length>15&&Qe.length>15&&Q.shapes.length===0&&Q.images.length===0,o.linkSubplots(oe,Q,le,se),o.cleanPlot(oe,Q,le,se);var Mt=!!(se._has&&se._has("gl2d")),Rt=!!(Q._has&&Q._has("gl2d")),Wt=!!(se._has&&se._has("cartesian")),je=!!(Q._has&&Q._has("cartesian")),_e=Wt||Mt,Fe=je||Rt;_e&&!Fe?se._bgLayer.remove():Fe&&!_e&&(Q._shouldCreateBgLayer=!0),se._zoomlayer&&!W._dragging&&s({_fullLayout:se}),A(oe,Q),w(Q,se),y.getComponentMethod("colorscale","crossTraceDefaults")(oe,Q),Q._preGUI||(Q._preGUI={}),Q._tracePreGUI||(Q._tracePreGUI={});var Be=Q._tracePreGUI,De={},we;for(we in Be)De[we]="old";for(Se=0;Se<oe.length;Se++)we=oe[Se]._fullInput.uid,De[we]||(Be[we]={}),De[we]="new";for(we in De)De[we]==="old"&&delete Be[we];N(Q),y.getComponentMethod("rangeslider","makeData")(Q),!re&&xe.length===oe.length&&o.supplyDefaultsUpdateCalc(xe,oe)},o.supplyDefaultsUpdateCalc=function(W,X){for(var re=0;re<X.length;re++){var se=X[re],Q=(W[re]||[])[0];if(Q&&Q.trace){var ee=Q.trace;if(ee._hasCalcTransform){var le=ee._arrayAttrs,oe,he,xe;for(oe=0;oe<le.length;oe++)he=le[oe],xe=t.nestedProperty(ee,he).get().slice(),t.nestedProperty(se,he).set(xe)}Q.trace=se}}};function E(W,X){var re=X.length,se=[],Q,ee;for(Q=0;Q<W.length;Q++){var le=W[Q]._fullInput;le!==ee&&se.push(le),ee=le}var oe=se.length,he=new Array(re),xe={};function Ae(Ve,Ee){he[Ee]=Ve,xe[Ve]=1}function Se(Ve,Ee){if(Ve&&typeof Ve=="string"&&!xe[Ve])return Ae(Ve,Ee),!0}for(Q=0;Q<re;Q++){var Oe=X[Q].uid;typeof Oe=="number"&&(Oe=String(Oe)),!Se(Oe,Q)&&(Q<oe&&Se(se[Q].uid,Q)||Ae(t.randstr(xe),Q))}return he}function T(){var W=y.collectableSubplotTypes,X={},re,se;if(!W){W=[];var Q=y.subplotsRegistry;for(var ee in Q){var le=Q[ee],oe=le.attr;if(oe&&(W.push(ee),Array.isArray(oe)))for(se=0;se<oe.length;se++)t.pushUnique(W,oe[se])}}for(re=0;re<W.length;re++)X[W[re]]=[];return X}function i(W,X){var re=W._context.locale;re||(re="en-US");var se=!1,Q={};function ee(Se){for(var Oe=!0,Ve=0;Ve<X.length;Ve++){var Ee=X[Ve];Q[Ee]||(Se[Ee]?Q[Ee]=Se[Ee]:Oe=!1)}Oe&&(se=!0)}for(var le=0;le<2;le++){for(var oe=W._context.locales,he=0;he<2;he++){var xe=(oe[re]||{}).format;if(xe&&(ee(xe),se))break;oe=y.localeRegistry}var Ae=re.split("-")[0];if(se||Ae===re)break;re=Ae}return se||ee(y.localeRegistry.en.format),Q}function R(W,X){return W.decimal=X.charAt(0),W.thousands=X.charAt(1),{numberFormat:function(re){try{re=n(W).format(t.adjustFormat(re))}catch{return t.warnBadFormat(re),t.noFormat}return re},timeFormat:L(W).utcFormat}}function A(W,X){var re,se=[];X.meta&&(re=X._meta={meta:X.meta,layout:{meta:X.meta}});for(var Q=0;Q<W.length;Q++){var ee=W[Q];ee.meta?se[ee.index]=ee._meta={meta:ee.meta}:X.meta&&(ee._meta={meta:X.meta}),X.meta&&(ee._meta.layout={meta:X.meta})}se.length&&(re||(re=X._meta={}),re.data=se)}o.createTransitionData=function(W){W._transitionData||(W._transitionData={}),W._transitionData._frames||(W._transitionData._frames=[]),W._transitionData._frameHash||(W._transitionData._frameHash={}),W._transitionData._counter||(W._transitionData._counter=0),W._transitionData._interruptCallbacks||(W._transitionData._interruptCallbacks=[])},o._hasPlotType=function(W){var X,re=this._basePlotModules||[];for(X=0;X<re.length;X++)if(re[X].name===W)return!0;var se=this._modules||[];for(X=0;X<se.length;X++){var Q=se[X].name;if(Q===W)return!0;var ee=y.modules[Q];if(ee&&ee.categories[W])return!0}return!1},o.cleanPlot=function(W,X,re,se){var Q,ee,le=se._basePlotModules||[];for(Q=0;Q<le.length;Q++){var oe=le[Q];oe.clean&&oe.clean(W,X,re,se)}var he=se._has&&se._has("gl"),xe=X._has&&X._has("gl");he&&!xe&&se._glcontainer!==void 0&&(se._glcontainer.selectAll(".gl-canvas").remove(),se._glcontainer.selectAll(".no-webgl").remove(),se._glcanvas=null);var Ae=!!se._infolayer;e:for(Q=0;Q<re.length;Q++){var Se=re[Q],Oe=Se.uid;for(ee=0;ee<W.length;ee++){var Ve=W[ee];if(Oe===Ve.uid)continue e}Ae&&se._infolayer.select(".cb"+Oe).remove()}},o.linkSubplots=function(W,X,re,se){var Q,ee,le=se._plots||{},oe=X._plots={},he=X._subplots,xe={_fullData:W,_fullLayout:X},Ae=he.cartesian.concat(he.gl2d||[]);for(Q=0;Q<Ae.length;Q++){var Se=Ae[Q],Oe=le[Se],Ve=a.getFromId(xe,Se,"x"),Ee=a.getFromId(xe,Se,"y"),Te;for(Oe?Te=oe[Se]=Oe:(Te=oe[Se]={},Te.id=Se),Ve._counterAxes.push(Ee._id),Ee._counterAxes.push(Ve._id),Ve._subplotsWith.push(Se),Ee._subplotsWith.push(Se),Te.xaxis=Ve,Te.yaxis=Ee,Te._hasClipOnAxisFalse=!1,ee=0;ee<W.length;ee++){var Le=W[ee];if(Le.xaxis===Te.xaxis._id&&Le.yaxis===Te.yaxis._id&&Le.cliponaxis===!1){Te._hasClipOnAxisFalse=!0;break}}}var Ge=a.list(xe,null,!0),He;for(Q=0;Q<Ge.length;Q++){He=Ge[Q];var ke=null;He.overlaying&&(ke=a.getFromId(xe,He.overlaying),ke&&ke.overlaying&&(He.overlaying=!1,ke=null)),He._mainAxis=ke||He,ke&&(He.domain=ke.domain.slice()),He._anchorAxis=He.anchor==="free"?null:a.getFromId(xe,He.anchor)}for(Q=0;Q<Ge.length;Q++)if(He=Ge[Q],He._counterAxes.sort(a.idSort),He._subplotsWith.sort(t.subplotSort),He._mainSubplot=k(He,X),He._counterAxes.length&&(He.spikemode&&He.spikemode.indexOf("across")!==-1||He.automargin&&He.mirror&&He.anchor!=="free"||y.getComponentMethod("rangeslider","isVisible")(He))){var We=1,nt=0;for(ee=0;ee<He._counterAxes.length;ee++){var qe=a.getFromId(xe,He._counterAxes[ee]);We=Math.min(We,qe.domain[0]),nt=Math.max(nt,qe.domain[1])}We<nt&&(He._counterDomainMin=We,He._counterDomainMax=nt)}};function k(W,X){var re={_fullLayout:X},se=W._id.charAt(0)==="x",Q=W._mainAxis._anchorAxis,ee="",le="",oe="";if(Q&&(oe=Q._mainAxis._id,ee=se?W._id+oe:oe+W._id),!ee||!X._plots[ee]){ee="";for(var he=W._counterAxes,xe=0;xe<he.length;xe++){var Ae=he[xe],Se=se?W._id+Ae:Ae+W._id;le||(le=Se);var Oe=a.getFromId(re,Ae);if(oe&&Oe.overlaying===oe){ee=Se;break}}}return ee||le}o.clearExpandedTraceDefaultColors=function(W){var X,re,se;function Q(le,oe,he,xe){re[xe]=oe,re.length=xe+1,le.valType==="color"&&le.dflt===void 0&&X.push(re.join("."))}for(re=[],X=W._module._colorAttrs,X||(W._module._colorAttrs=X=[],h.crawl(W._module.attributes,Q)),se=0;se<X.length;se++){var ee=t.nestedProperty(W,"_input."+X[se]);ee.get()||t.nestedProperty(W,X[se]).set(null)}},o.supplyDataDefaults=function(W,X,re,se){var Q=se._modules,ee=se._visibleModules,le=se._basePlotModules,oe=0,he=0,xe,Ae,Se;se._transformModules=[];function Oe(Qe){X.push(Qe);var tt=Qe._module;tt&&(t.pushUnique(Q,tt),Qe.visible===!0&&t.pushUnique(ee,tt),t.pushUnique(le,Qe._module.basePlotModule),oe++,Qe._input.visible!==!1&&he++)}var Ve={},Ee=[],Te=(re.template||{}).data||{},Le=g.traceTemplater(Te);for(xe=0;xe<W.length;xe++){if(Se=W[xe],Ae=Le.newTrace(Se),Ae.uid=se._traceUids[xe],o.supplyTraceDefaults(Se,Ae,he,se,xe),Ae.index=xe,Ae._input=Se,Ae._expandedIndex=oe,Ae.transforms&&Ae.transforms.length)for(var Ge=Se.visible!==!1&&Ae.visible===!1,He=H(Ae,X,re,se),ke=0;ke<He.length;ke++){var We=He[ke],nt={_template:Ae._template,type:Ae.type,uid:Ae.uid+ke};Ge&&We.visible===!1&&delete We.visible,o.supplyTraceDefaults(We,nt,oe,se,xe),w(nt,We),nt.index=xe,nt._input=Se,nt._fullInput=Ae,nt._expandedIndex=oe,nt._expandedInput=We,Oe(nt)}else Ae._fullInput=Ae,Ae._expandedInput=Ae,Oe(Ae);y.traceIs(Ae,"carpetAxis")&&(Ve[Ae.carpet]=Ae),y.traceIs(Ae,"carpetDependent")&&Ee.push(xe)}for(xe=0;xe<Ee.length;xe++)if(Ae=X[Ee[xe]],!!Ae.visible){var qe=Ve[Ae.carpet];if(Ae._carpet=qe,!qe||!qe.visible){Ae.visible=!1;continue}Ae.xaxis=qe.xaxis,Ae.yaxis=qe.yaxis}},o.supplyAnimationDefaults=function(W){W=W||{};var X,re={};function se(Q,ee){return t.coerce(W||{},re,u,Q,ee)}if(se("mode"),se("direction"),se("fromcurrent"),Array.isArray(W.frame))for(re.frame=[],X=0;X<W.frame.length;X++)re.frame[X]=o.supplyAnimationFrameDefaults(W.frame[X]||{});else re.frame=o.supplyAnimationFrameDefaults(W.frame||{});if(Array.isArray(W.transition))for(re.transition=[],X=0;X<W.transition.length;X++)re.transition[X]=o.supplyAnimationTransitionDefaults(W.transition[X]||{});else re.transition=o.supplyAnimationTransitionDefaults(W.transition||{});return re},o.supplyAnimationFrameDefaults=function(W){var X={};function re(se,Q){return t.coerce(W||{},X,u.frame,se,Q)}return re("duration"),re("redraw"),X},o.supplyAnimationTransitionDefaults=function(W){var X={};function re(se,Q){return t.coerce(W||{},X,u.transition,se,Q)}return re("duration"),re("easing"),X},o.supplyFrameDefaults=function(W){var X={};function re(se,Q){return t.coerce(W,X,b,se,Q)}return re("group"),re("name"),re("traces"),re("baseframe"),re("data"),re("layout"),X},o.supplyTraceDefaults=function(W,X,re,se,Q){var ee=se.colorway||r.defaults,le=ee[re%ee.length],oe;function he(He,ke){return t.coerce(W,X,o.attributes,He,ke)}var xe=he("visible");he("type"),he("name",se._traceWord+" "+Q),he("uirevision",se.uirevision);var Ae=o.getModule(X);if(X._module=Ae,Ae){var Se=Ae.basePlotModule,Oe=Se.attr,Ve=Se.attributes;if(Oe&&Ve){var Ee=se._subplots,Te="";if(xe||Se.name!=="gl2d"){if(Array.isArray(Oe))for(oe=0;oe<Oe.length;oe++){var Le=Oe[oe],Ge=t.coerce(W,X,Ve,Le);Ee[Le]&&t.pushUnique(Ee[Le],Ge),Te+=Ge}else Te=t.coerce(W,X,Ve,Oe);Ee[Se.name]&&t.pushUnique(Ee[Se.name],Te)}}}return xe&&(he("customdata"),he("ids"),he("meta"),y.traceIs(X,"showLegend")?(t.coerce(W,X,Ae.attributes.showlegend?Ae.attributes:o.attributes,"showlegend"),he("legend"),he("legendwidth"),he("legendgroup"),he("legendgrouptitle.text"),he("legendrank"),X._dfltShowLegend=!0):X._dfltShowLegend=!1,Ae&&Ae.supplyDefaults(W,X,le,se),y.traceIs(X,"noOpacity")||he("opacity"),y.traceIs(X,"notLegendIsolatable")&&(X.visible=!!X.visible),y.traceIs(X,"noHover")||(X.hovertemplate||t.coerceHoverinfo(W,X,se),X.type!=="parcats"&&y.getComponentMethod("fx","supplyDefaults")(W,X,le,se)),Ae&&Ae.selectPoints&&he("selectedpoints"),o.supplyTransformDefaults(W,X,se)),X};function _(W){var X=W.transforms;if(Array.isArray(X)&&X.length)for(var re=0;re<X.length;re++){var se=X[re],Q=se._module||d[se.type];if(Q&&Q.makesData)return!0}return!1}o.hasMakesDataTransform=_,o.supplyTransformDefaults=function(W,X,re){if(X._length||_(W)){var se=re._globalTransforms||[],Q=re._transformModules||[];if(!(!Array.isArray(W.transforms)&&se.length===0))for(var ee=W.transforms||[],le=se.concat(ee),oe=X.transforms=[],he=0;he<le.length;he++){var xe=le[he],Ae=xe.type,Se=d[Ae],Oe,Ve=!(xe._module&&xe._module===Se),Ee=Se&&typeof Se.transform=="function";Se||t.warn("Unrecognized transform type "+Ae+"."),Se&&Se.supplyDefaults&&(Ve||Ee)?(Oe=Se.supplyDefaults(xe,X,re,W),Oe.type=Ae,Oe._module=Se,t.pushUnique(Q,Se)):Oe=t.extendFlat({},xe),oe.push(Oe)}}};function H(W,X,re,se){for(var Q=W.transforms,ee=[W],le=0;le<Q.length;le++){var oe=Q[le],he=d[oe.type];he&&he.transform&&(ee=he.transform(ee,{transform:oe,fullTrace:W,fullData:X,layout:re,fullLayout:se,transformIndex:le}))}return ee}o.supplyLayoutGlobalDefaults=function(W,X,re){function se(Se,Oe){return t.coerce(W,X,o.layoutAttributes,Se,Oe)}var Q=W.template;t.isPlainObject(Q)&&(X.template=Q,X._template=Q.layout,X._dataTemplate=Q.data),se("autotypenumbers");var ee=t.coerceFont(se,"font"),le=ee.size;t.coerceFont(se,"title.font",t.extendFlat({},ee,{size:Math.round(le*1.4)})),se("title.text",X._dfltTitle.plot),se("title.xref");var oe=se("title.yref");se("title.pad.t"),se("title.pad.r"),se("title.pad.b"),se("title.pad.l");var he=se("title.automargin");se("title.x"),se("title.xanchor"),se("title.y"),se("title.yanchor"),he&&(oe==="paper"&&(X.title.y!==0&&(X.title.y=1),X.title.yanchor==="auto"&&(X.title.yanchor=X.title.y===0?"top":"bottom")),oe==="container"&&(X.title.y==="auto"&&(X.title.y=1),X.title.yanchor==="auto"&&(X.title.yanchor=X.title.y<.5?"bottom":"top")));var xe=se("uniformtext.mode");xe&&se("uniformtext.minsize"),se("autosize",!(W.width&&W.height)),se("width"),se("height"),se("minreducedwidth"),se("minreducedheight"),se("margin.l"),se("margin.r"),se("margin.t"),se("margin.b"),se("margin.pad"),se("margin.autoexpand"),W.width&&W.height&&o.sanitizeMargins(X),y.getComponentMethod("grid","sizeDefaults")(W,X),se("paper_bgcolor"),se("separators",re.decimal+re.thousands),se("hidesources"),se("colorway"),se("datarevision");var Ae=se("uirevision");se("editrevision",Ae),se("selectionrevision",Ae),y.getComponentMethod("modebar","supplyLayoutDefaults")(W,X),y.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(W,X,se),y.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(W,X,se),se("meta"),t.isPlainObject(W.transition)&&(se("transition.duration"),se("transition.easing"),se("transition.ordering")),y.getComponentMethod("calendars","handleDefaults")(W,X,"calendar"),y.getComponentMethod("fx","supplyLayoutGlobalDefaults")(W,X,se),t.coerce(W,X,c,"scattermode")};function z(W){return typeof W=="string"&&W.substr(W.length-2)==="px"&&parseFloat(W)}o.plotAutoSize=function(X,re,se){var Q=X._context||{},ee=Q.frameMargins,le,oe,he=t.isPlotDiv(X);if(he&&X.emit("plotly_autosize"),Q.fillFrame)le=window.innerWidth,oe=window.innerHeight,document.body.style.overflow="hidden";else{var xe=he?window.getComputedStyle(X):{};if(le=z(xe.width)||z(xe.maxWidth)||se.width,oe=z(xe.height)||z(xe.maxHeight)||se.height,C(ee)&&ee>0){var Ae=1-2*ee;le=Math.round(Ae*le),oe=Math.round(Ae*oe)}}var Se=o.layoutAttributes.width.min,Oe=o.layoutAttributes.height.min;le<Se&&(le=Se),oe<Oe&&(oe=Oe);var Ve=!re.width&&Math.abs(se.width-le)>1,Ee=!re.height&&Math.abs(se.height-oe)>1;(Ee||Ve)&&(Ve&&(se.width=le),Ee&&(se.height=oe)),X._initialAutoSize||(X._initialAutoSize={width:le,height:oe}),o.sanitizeMargins(se)},o.supplyLayoutModuleDefaults=function(W,X,re,se){var Q=y.componentsRegistry,ee=X._basePlotModules,le,oe,he,xe=y.subplotsRegistry.cartesian;for(le in Q)he=Q[le],he.includeBasePlot&&he.includeBasePlot(W,X);ee.length||ee.push(xe),X._has("cartesian")&&(y.getComponentMethod("grid","contentDefaults")(W,X),xe.finalizeSubplots(W,X));for(var Ae in X._subplots)X._subplots[Ae].sort(t.subplotSort);for(oe=0;oe<ee.length;oe++)he=ee[oe],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(W,X,re);var Se=X._modules;for(oe=0;oe<Se.length;oe++)he=Se[oe],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(W,X,re);var Oe=X._transformModules;for(oe=0;oe<Oe.length;oe++)he=Oe[oe],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(W,X,re,se);for(le in Q)he=Q[le],he.supplyLayoutDefaults&&he.supplyLayoutDefaults(W,X,re)},o.purge=function(W){var X=W._fullLayout||{};X._glcontainer!==void 0&&(X._glcontainer.selectAll(".gl-canvas").remove(),X._glcontainer.remove(),X._glcanvas=null),X._modeBar&&X._modeBar.destroy(),W._transitionData&&(W._transitionData._interruptCallbacks&&(W._transitionData._interruptCallbacks.length=0),W._transitionData._animationRaf&&window.cancelAnimationFrame(W._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(W),delete W.data,delete W.layout,delete W._fullData,delete W._fullLayout,delete W.calcdata,delete W.empty,delete W.fid,delete W.undoqueue,delete W.undonum,delete W.autoplay,delete W.changed,delete W._promises,delete W._redrawTimer,delete W._hmlumcount,delete W._hmpixcount,delete W._transitionData,delete W._transitioning,delete W._initialAutoSize,delete W._transitioningWithDuration,delete W._dragging,delete W._dragged,delete W._dragdata,delete W._hoverdata,delete W._snapshotInProgress,delete W._editing,delete W._mouseDownTime,delete W._legendMouseDownTime,W.removeAllListeners&&W.removeAllListeners()},o.style=function(W){var X=W._fullLayout._visibleModules,re=[],se;for(se=0;se<X.length;se++){var Q=X[se];Q.style&&t.pushUnique(re,Q.style)}for(se=0;se<re.length;se++)re[se](W)},o.sanitizeMargins=function(W){if(!(!W||!W.margin)){var X=W.width,re=W.height,se=W.margin,Q=X-(se.l+se.r),ee=re-(se.t+se.b),le;Q<0&&(le=(X-1)/(se.l+se.r),se.l=Math.floor(le*se.l),se.r=Math.floor(le*se.r)),ee<0&&(le=(re-1)/(se.t+se.b),se.t=Math.floor(le*se.t),se.b=Math.floor(le*se.b))}},o.clearAutoMarginIds=function(W){W._fullLayout._pushmarginIds={}},o.allowAutoMargin=function(W,X){W._fullLayout._pushmarginIds[X]=1};function N(W){var X=W.margin;if(!W._size){var re=W._size={l:Math.round(X.l),r:Math.round(X.r),t:Math.round(X.t),b:Math.round(X.b),p:Math.round(X.pad)};re.w=Math.round(W.width)-re.l-re.r,re.h=Math.round(W.height)-re.t-re.b}W._pushmargin||(W._pushmargin={}),W._pushmarginIds||(W._pushmarginIds={}),W._reservedMargin||(W._reservedMargin={})}var O=2,F=2;o.autoMargin=function(W,X,re){var se=W._fullLayout,Q=se.width,ee=se.height,le=se.margin,oe=se.minreducedwidth,he=se.minreducedheight,xe=t.constrain(Q-le.l-le.r,O,oe),Ae=t.constrain(ee-le.t-le.b,F,he),Se=Math.max(0,Q-xe),Oe=Math.max(0,ee-Ae),Ve=se._pushmargin,Ee=se._pushmarginIds;if(le.autoexpand!==!1){if(!re)delete Ve[X],delete Ee[X];else{var Te=re.pad;if(Te===void 0&&(Te=Math.min(12,le.l,le.r,le.t,le.b)),Se){var Le=(re.l+re.r)/Se;Le>1&&(re.l/=Le,re.r/=Le)}if(Oe){var Ge=(re.t+re.b)/Oe;Ge>1&&(re.t/=Ge,re.b/=Ge)}var He=re.xl!==void 0?re.xl:re.x,ke=re.xr!==void 0?re.xr:re.x,We=re.yt!==void 0?re.yt:re.y,nt=re.yb!==void 0?re.yb:re.y;Ve[X]={l:{val:He,size:re.l+Te},r:{val:ke,size:re.r+Te},b:{val:nt,size:re.b+Te},t:{val:We,size:re.t+Te}},Ee[X]=1}if(!se._replotting)return o.doAutoMargin(W)}};function U(W){if("_redrawFromAutoMarginCount"in W._fullLayout)return!1;var X=a.list(W,"",!0);for(var re in X)if(X[re].autoshift||X[re].shift)return!0;return!1}o.doAutoMargin=function(W){var X=W._fullLayout,re=X.width,se=X.height;X._size||(X._size={}),N(X);var Q=X._size,ee=X.margin,le={t:0,b:0,l:0,r:0},oe=t.extendFlat({},Q),he=ee.l,xe=ee.r,Ae=ee.t,Se=ee.b,Oe=X._pushmargin,Ve=X._pushmarginIds,Ee=X.minreducedwidth,Te=X.minreducedheight;if(ee.autoexpand!==!1){for(var Le in Oe)Ve[Le]||delete Oe[Le];var Ge=W._fullLayout._reservedMargin;for(var He in Ge)for(var ke in Ge[He]){var We=Ge[He][ke];le[ke]=Math.max(le[ke],We)}Oe.base={l:{val:0,size:he},r:{val:1,size:xe},t:{val:1,size:Ae},b:{val:0,size:Se}};for(var nt in le){var qe=0;for(var Qe in Oe)Qe!=="base"&&C(Oe[Qe][nt].size)&&(qe=Oe[Qe][nt].size>qe?Oe[Qe][nt].size:qe);var tt=Math.max(0,ee[nt]-qe);le[nt]=Math.max(0,le[nt]-tt)}for(var vt in Oe){var dt=Oe[vt].l||{},gt=Oe[vt].b||{},Mt=dt.val,Rt=dt.size,Wt=gt.val,je=gt.size,_e=re-le.r-le.l,Fe=se-le.t-le.b;for(var Be in Oe){if(C(Rt)&&Oe[Be].r){var De=Oe[Be].r.val,we=Oe[Be].r.size;if(De>Mt){var ue=(Rt*De+(we-_e)*Mt)/(De-Mt),me=(we*(1-Mt)+(Rt-_e)*(1-De))/(De-Mt);ue+me>he+xe&&(he=ue,xe=me)}}if(C(je)&&Oe[Be].t){var Re=Oe[Be].t.val,Ne=Oe[Be].t.size;if(Re>Wt){var it=(je*Re+(Ne-Fe)*Wt)/(Re-Wt),ot=(Ne*(1-Wt)+(je-Fe)*(1-Re))/(Re-Wt);it+ot>Se+Ae&&(Se=it,Ae=ot)}}}}}var wt=t.constrain(re-ee.l-ee.r,O,Ee),Ft=t.constrain(se-ee.t-ee.b,F,Te),Ut=Math.max(0,re-wt),Gt=Math.max(0,se-Ft);if(Ut){var Et=(he+xe)/Ut;Et>1&&(he/=Et,xe/=Et)}if(Gt){var $t=(Se+Ae)/Gt;$t>1&&(Se/=$t,Ae/=$t)}if(Q.l=Math.round(he)+le.l,Q.r=Math.round(xe)+le.r,Q.t=Math.round(Ae)+le.t,Q.b=Math.round(Se)+le.b,Q.p=Math.round(ee.pad),Q.w=Math.round(re)-Q.l-Q.r,Q.h=Math.round(se)-Q.t-Q.b,!X._replotting&&(o.didMarginChange(oe,Q)||U(W))){"_redrawFromAutoMarginCount"in X?X._redrawFromAutoMarginCount++:X._redrawFromAutoMarginCount=1;var lr=3*(1+Object.keys(Ve).length);if(X._redrawFromAutoMarginCount<lr)return y.call("_doPlot",W);X._size=oe,t.warn("Too many auto-margin redraws.")}Z(W)};function Z(W){var X=a.list(W,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(re){for(var se=0;se<X.length;se++){var Q=X[se][re];Q&&Q()}})}var q=["l","r","t","b","p","w","h"];o.didMarginChange=function(W,X){for(var re=0;re<q.length;re++){var se=q[re],Q=W[se],ee=X[se];if(!C(Q)||Math.abs(ee-Q)>1)return!0}return!1},o.graphJson=function(W,X,re,se,Q,ee){(Q&&X&&!W._fullData||Q&&!X&&!W._fullLayout)&&o.supplyDefaults(W);var le=Q?W._fullData:W.data,oe=Q?W._fullLayout:W.layout,he=(W._transitionData||{})._frames;function xe(Oe,Ve){if(typeof Oe=="function")return Ve?"_function_":null;if(t.isPlainObject(Oe)){var Ee={},Te;return Object.keys(Oe).sort().forEach(function(Le){if(["_","["].indexOf(Le.charAt(0))===-1){if(typeof Oe[Le]=="function"){Ve&&(Ee[Le]="_function");return}if(re==="keepdata"){if(Le.substr(Le.length-3)==="src")return}else if(re==="keepstream"){if(Te=Oe[Le+"src"],typeof Te=="string"&&Te.indexOf(":")>0&&!t.isPlainObject(Oe.stream))return}else if(re!=="keepall"&&(Te=Oe[Le+"src"],typeof Te=="string"&&Te.indexOf(":")>0))return;Ee[Le]=xe(Oe[Le],Ve)}}),Ee}return Array.isArray(Oe)?Oe.map(function(Le){return xe(Le,Ve)}):t.isTypedArray(Oe)?t.simpleMap(Oe,t.identity):t.isJSDate(Oe)?t.ms2DateTimeLocal(+Oe):Oe}var Ae={data:(le||[]).map(function(Oe){var Ve=xe(Oe);return X&&delete Ve.fit,Ve})};if(!X&&(Ae.layout=xe(oe),Q)){var Se=oe._size;Ae.layout.computed={margin:{b:Se.b,l:Se.l,r:Se.r,t:Se.t}}}return he&&(Ae.frames=xe(he)),ee&&(Ae.config=xe(W._context,!0)),se==="object"?Ae:JSON.stringify(Ae)},o.modifyFrames=function(W,X){var re,se,Q,ee=W._transitionData._frames,le=W._transitionData._frameHash;for(re=0;re<X.length;re++)switch(se=X[re],se.type){case"replace":Q=se.value;var oe=(ee[se.index]||{}).name,he=Q.name;ee[se.index]=le[he]=Q,he!==oe&&(delete le[oe],le[he]=Q);break;case"insert":Q=se.value,le[Q.name]=Q,ee.splice(se.index,0,Q);break;case"delete":Q=ee[se.index],delete le[Q.name],ee.splice(se.index,1);break}return Promise.resolve()},o.computeFrame=function(W,X){var re=W._transitionData._frameHash,se,Q,ee,le;if(!X)throw new Error("computeFrame must be given a string frame name");var oe=re[X.toString()];if(!oe)return!1;for(var he=[oe],xe=[oe.name];oe.baseframe&&(oe=re[oe.baseframe.toString()])&&xe.indexOf(oe.name)===-1;)he.push(oe),xe.push(oe.name);for(var Ae={};oe=he.pop();)if(oe.layout&&(Ae.layout=o.extendLayout(Ae.layout,oe.layout)),oe.data){if(Ae.data||(Ae.data=[]),Q=oe.traces,!Q)for(Q=[],se=0;se<oe.data.length;se++)Q[se]=se;for(Ae.traces||(Ae.traces=[]),se=0;se<oe.data.length;se++)ee=Q[se],ee!=null&&(le=Ae.traces.indexOf(ee),le===-1&&(le=Ae.data.length,Ae.traces[le]=ee),Ae.data[le]=o.extendTrace(Ae.data[le],oe.data[se]))}return Ae},o.recomputeFrameHash=function(W){for(var X=W._transitionData._frameHash={},re=W._transitionData._frames,se=0;se<re.length;se++){var Q=re[se];Q&&Q.name&&(X[Q.name]=Q)}},o.extendObjectWithContainers=function(W,X,re){var se,Q,ee,le,oe,he,xe,Ae,Se=t.extendDeepNoArrays({},X||{}),Oe=t.expandObjectPaths(Se),Ve={};if(re&&re.length)for(ee=0;ee<re.length;ee++)se=t.nestedProperty(Oe,re[ee]),Q=se.get(),Q===void 0?t.nestedProperty(Ve,re[ee]).set(null):(se.set(null),t.nestedProperty(Ve,re[ee]).set(Q));if(W=t.extendDeepNoArrays(W||{},Oe),re&&re.length){for(ee=0;ee<re.length;ee++)if(oe=t.nestedProperty(Ve,re[ee]),xe=oe.get(),!!xe){for(he=t.nestedProperty(W,re[ee]),Ae=he.get(),Array.isArray(Ae)||(Ae=[],he.set(Ae)),le=0;le<xe.length;le++){var Ee=xe[le];Ee===null?Ae[le]=null:Ae[le]=o.extendObjectWithContainers(Ae[le],Ee)}he.set(Ae)}}return W},o.dataArrayContainers=["transforms","dimensions"],o.layoutArrayContainers=y.layoutArrayContainers,o.extendTrace=function(W,X){return o.extendObjectWithContainers(W,X,o.dataArrayContainers)},o.extendLayout=function(W,X){return o.extendObjectWithContainers(W,X,o.layoutArrayContainers)},o.transition=function(W,X,re,se,Q,ee){var le={redraw:Q.redraw},oe={},he=[];return le.prepareFn=function(){for(var xe=Array.isArray(X)?X.length:0,Ae=se.slice(0,xe),Se=0;Se<Ae.length;Se++){var Oe=Ae[Se],Ve=W._fullData[Oe],Ee=Ve._module;if(Ee){if(Ee.animatable){var Te=Ee.basePlotModule.name;oe[Te]||(oe[Te]=[]),oe[Te].push(Oe)}W.data[Ae[Se]]=o.extendTrace(W.data[Ae[Se]],X[Se])}}var Le=t.expandObjectPaths(t.extendDeepNoArrays({},re)),Ge=/^[xy]axis[0-9]*$/;for(var He in Le)Ge.test(He)&&delete Le[He].range;o.extendLayout(W.layout,Le),delete W.calcdata,o.supplyDefaults(W),o.doCalcdata(W);var ke=t.expandObjectPaths(re);if(ke){var We=W._fullLayout._plots;for(var nt in We){var qe=We[nt],Qe=qe.xaxis,tt=qe.yaxis,vt=Qe.range.slice(),dt=tt.range.slice(),gt=null,Mt=null,Rt=null,Wt=null;Array.isArray(ke[Qe._name+".range"])?gt=ke[Qe._name+".range"].slice():Array.isArray((ke[Qe._name]||{}).range)&&(gt=ke[Qe._name].range.slice()),Array.isArray(ke[tt._name+".range"])?Mt=ke[tt._name+".range"].slice():Array.isArray((ke[tt._name]||{}).range)&&(Mt=ke[tt._name].range.slice()),vt&&gt&&(Qe.r2l(vt[0])!==Qe.r2l(gt[0])||Qe.r2l(vt[1])!==Qe.r2l(gt[1]))&&(Rt={xr0:vt,xr1:gt}),dt&&Mt&&(tt.r2l(dt[0])!==tt.r2l(Mt[0])||tt.r2l(dt[1])!==tt.r2l(Mt[1]))&&(Wt={yr0:dt,yr1:Mt}),(Rt||Wt)&&he.push(t.extendFlat({plotinfo:qe},Rt,Wt))}}return Promise.resolve()},le.runFn=function(xe){var Ae,Se=W._fullLayout._basePlotModules,Oe=he.length,Ve;if(re)for(Ve=0;Ve<Se.length;Ve++)Se[Ve].transitionAxes&&Se[Ve].transitionAxes(W,he,ee,xe);Oe?(Ae=t.extendFlat({},ee),Ae.duration=0,delete oe.cartesian):Ae=ee;for(var Ee in oe){var Te=oe[Ee],Le=W._fullData[Te[0]]._module;Le.basePlotModule.plot(W,Te,Ae,xe)}},J(W,ee,le)},o.transitionFromReact=function(W,X,re,se){var Q=W._fullLayout,ee=Q.transition,le={},oe=[];return le.prepareFn=function(){var he=Q._plots;le.redraw=!1,X.anim==="some"&&(le.redraw=!0),re.anim==="some"&&(le.redraw=!0);for(var xe in he){var Ae=he[xe],Se=Ae.xaxis,Oe=Ae.yaxis,Ve=se[Se._name].range.slice(),Ee=se[Oe._name].range.slice(),Te=Se.range.slice(),Le=Oe.range.slice();Se.setScale(),Oe.setScale();var Ge=null,He=null;(Se.r2l(Ve[0])!==Se.r2l(Te[0])||Se.r2l(Ve[1])!==Se.r2l(Te[1]))&&(Ge={xr0:Ve,xr1:Te}),(Oe.r2l(Ee[0])!==Oe.r2l(Le[0])||Oe.r2l(Ee[1])!==Oe.r2l(Le[1]))&&(He={yr0:Ee,yr1:Le}),(Ge||He)&&oe.push(t.extendFlat({plotinfo:Ae},Ge,He))}return Promise.resolve()},le.runFn=function(he){for(var xe=W._fullData,Ae=W._fullLayout,Se=Ae._basePlotModules,Oe,Ve,Ee,Te=[],Le=0;Le<xe.length;Le++)Te.push(Le);function Ge(){if(W._fullLayout)for(var ke=0;ke<Se.length;ke++)Se[ke].transitionAxes&&Se[ke].transitionAxes(W,oe,Oe,he)}function He(){if(W._fullLayout)for(var ke=0;ke<Se.length;ke++)Se[ke].plot(W,Ee,Ve,he)}oe.length&&X.anim?ee.ordering==="traces first"?(Oe=t.extendFlat({},ee,{duration:0}),Ee=Te,Ve=ee,setTimeout(Ge,ee.duration),He()):(Oe=ee,Ee=null,Ve=t.extendFlat({},ee,{duration:0}),setTimeout(He,Oe.duration),Ge()):oe.length?(Oe=ee,Ge()):X.anim&&(Ee=Te,Ve=ee,He())},J(W,ee,le)};function J(W,X,re){var se=!1;function Q(Se){var Oe=Promise.resolve();if(!Se)return Oe;for(;Se.length;)Oe=Oe.then(Se.shift());return Oe}function ee(Se){if(Se)for(;Se.length;)Se.shift()}function le(){return W.emit("plotly_transitioning",[]),new Promise(function(Se){W._transitioning=!0,X.duration>0&&(W._transitioningWithDuration=!0),W._transitionData._interruptCallbacks.push(function(){se=!0}),re.redraw&&W._transitionData._interruptCallbacks.push(function(){return y.call("redraw",W)}),W._transitionData._interruptCallbacks.push(function(){W.emit("plotly_transitioninterrupted",[])});var Oe=0,Ve=0;function Ee(){return Oe++,function(){Ve++,!se&&Ve===Oe&&oe(Se)}}re.runFn(Ee),setTimeout(Ee())})}function oe(Se){if(W._transitionData)return ee(W._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(re.redraw)return y.call("redraw",W)}).then(function(){W._transitioning=!1,W._transitioningWithDuration=!1,W.emit("plotly_transitioned",[])}).then(Se)}function he(){if(W._transitionData)return W._transitioning=!1,Q(W._transitionData._interruptCallbacks)}var xe=[o.previousPromises,he,re.prepareFn,o.rehover,o.reselect,le],Ae=t.syncOrAsync(xe,W);return(!Ae||!Ae.then)&&(Ae=Promise.resolve()),Ae.then(function(){return W})}o.doCalcdata=function(W,X){var re=a.list(W),se=W._fullData,Q=W._fullLayout,ee,le,oe,he,xe=new Array(se.length),Ae=(W.calcdata||[]).slice();for(W.calcdata=xe,Q._numBoxes=0,Q._numViolins=0,Q._violinScaleGroupStats={},W._hmpixcount=0,W._hmlumcount=0,Q._piecolormap={},Q._sunburstcolormap={},Q._treemapcolormap={},Q._iciclecolormap={},Q._funnelareacolormap={},oe=0;oe<se.length;oe++)if(Array.isArray(X)&&X.indexOf(oe)===-1){xe[oe]=Ae[oe];continue}for(oe=0;oe<se.length;oe++)ee=se[oe],ee._arrayAttrs=h.findArrayAttributes(ee),ee._extremes={};var Se=Q._subplots.polar||[];for(oe=0;oe<Se.length;oe++)re.push(Q[Se[oe]].radialaxis,Q[Se[oe]].angularaxis);for(var Oe in Q._colorAxes){var Ve=Q[Oe];Ve.cauto!==!1&&(delete Ve.cmin,delete Ve.cmax)}var Ee=!1;function Te(He){if(ee=se[He],le=ee._module,ee.visible===!0&&ee.transforms){if(le&&le.calc){var ke=le.calc(W,ee);ke[0]&&ke[0].t&&ke[0].t._scene&&delete ke[0].t._scene.dirty}for(he=0;he<ee.transforms.length;he++){var We=ee.transforms[he];le=d[We.type],le&&le.calcTransform&&(ee._hasCalcTransform=!0,Ee=!0,le.calcTransform(W,ee,We))}}}function Le(He,ke){if(ee=se[He],le=ee._module,!!le.isContainer===ke){var We=[];if(ee.visible===!0&&ee._length!==0){delete ee._indexToPoints;var nt=ee.transforms||[];for(he=nt.length-1;he>=0;he--)if(nt[he].enabled){ee._indexToPoints=nt[he]._indexToPoints;break}le&&le.calc&&(We=le.calc(W,ee))}(!Array.isArray(We)||!We[0])&&(We=[{x:l,y:l}]),We[0].t||(We[0].t={}),We[0].trace=ee,xe[He]=We}}for(K(re,se,Q),oe=0;oe<se.length;oe++)Le(oe,!0);for(oe=0;oe<se.length;oe++)Te(oe);for(Ee&&K(re,se,Q),oe=0;oe<se.length;oe++)Le(oe,!0);for(oe=0;oe<se.length;oe++)Le(oe,!1);Y(W);var Ge=fe(re,W);if(Ge.length){for(Q._numBoxes=0,Q._numViolins=0,oe=0;oe<Ge.length;oe++)Le(Ge[oe],!0);for(oe=0;oe<Ge.length;oe++)Le(Ge[oe],!1);Y(W)}y.getComponentMethod("fx","calc")(W),y.getComponentMethod("errorbars","calc")(W)};var te=/(total|sum|min|max|mean|median) (ascending|descending)/;function fe(W,X){var re=[],se,Q,ee,le,oe;function he(_e,Fe,Be){var De=Fe._id.charAt(0);if(_e==="histogram2dcontour"){var we=Fe._counterAxes[0],ue=a.getFromId(X,we),me=De==="x"||we==="x"&&ue.type==="category",Re=De==="y"||we==="y"&&ue.type==="category";return function(Ne,it){return Ne===0||it===0||me&&Ne===Be[it].length-1||Re&&it===Be.length-1?-1:(De==="y"?it:Ne)-1}}else return function(Ne,it){return De==="y"?it:Ne}}var xe={min:function(_e){return t.aggNums(Math.min,null,_e)},max:function(_e){return t.aggNums(Math.max,null,_e)},sum:function(_e){return t.aggNums(function(Fe,Be){return Fe+Be},null,_e)},total:function(_e){return t.aggNums(function(Fe,Be){return Fe+Be},null,_e)},mean:function(_e){return t.mean(_e)},median:function(_e){return t.median(_e)}};for(se=0;se<W.length;se++){var Ae=W[se];if(Ae.type==="category"){var Se=Ae.categoryorder.match(te);if(Se){var Oe=Se[1],Ve=Se[2],Ee=Ae._id.charAt(0),Te=Ee==="x",Le=[];for(Q=0;Q<Ae._categories.length;Q++)Le.push([Ae._categories[Q],[]]);for(Q=0;Q<Ae._traceIndices.length;Q++){var Ge=Ae._traceIndices[Q],He=X._fullData[Ge];if(He.visible===!0){var ke=He.type;y.traceIs(He,"histogram")&&(delete He._xautoBinFinished,delete He._yautoBinFinished);var We=ke==="splom",nt=ke==="scattergl",qe=X.calcdata[Ge];for(ee=0;ee<qe.length;ee++){var Qe=qe[ee],tt,vt;if(We){var dt=He._axesDim[Ae._id];if(!Te){var gt=He._diag[dt][0];gt&&(Ae=X._fullLayout[a.id2name(gt)])}var Mt=Qe.trace.dimensions[dt].values;for(le=0;le<Mt.length;le++)for(tt=Ae._categoriesMap[Mt[le]],oe=0;oe<Qe.trace.dimensions.length;oe++)if(oe!==dt){var Rt=Qe.trace.dimensions[oe];Le[tt][1].push(Rt.values[le])}}else if(nt){for(le=0;le<Qe.t.x.length;le++)Te?(tt=Qe.t.x[le],vt=Qe.t.y[le]):(tt=Qe.t.y[le],vt=Qe.t.x[le]),Le[tt][1].push(vt);Qe.t&&Qe.t._scene&&delete Qe.t._scene.dirty}else if(Qe.hasOwnProperty("z")){vt=Qe.z;var Wt=he(He.type,Ae,vt);for(le=0;le<vt.length;le++)for(oe=0;oe<vt[le].length;oe++)tt=Wt(oe,le),tt+1&&Le[tt][1].push(vt[le][oe])}else for(tt=Qe.p,tt===void 0&&(tt=Qe[Ee]),vt=Qe.s,vt===void 0&&(vt=Qe.v),vt===void 0&&(vt=Te?Qe.y:Qe.x),Array.isArray(vt)||(vt===void 0?vt=[]:vt=[vt]),le=0;le<vt.length;le++)Le[tt][1].push(vt[le])}}}Ae._categoriesValue=Le;var je=[];for(Q=0;Q<Le.length;Q++)je.push([Le[Q][0],xe[Oe](Le[Q][1])]);je.sort(function(_e,Fe){return _e[1]-Fe[1]}),Ae._categoriesAggregatedValue=je,Ae._initialCategories=je.map(function(_e){return _e[0]}),Ve==="descending"&&Ae._initialCategories.reverse(),re=re.concat(Ae.sortByInitialCategories())}}}return re}function K(W,X,re){var se={};function Q(he){he.clearCalc(),he.type==="multicategory"&&he.setupMultiCategory(X),se[he._id]=1}t.simpleMap(W,Q);for(var ee=re._axisMatchGroups||[],le=0;le<ee.length;le++)for(var oe in ee[le])se[oe]||Q(re[a.id2name(oe)])}function Y(W){var X=W._fullLayout,re=X._visibleModules,se={},Q,ee,le;for(ee=0;ee<re.length;ee++){var oe=re[ee],he=oe.crossTraceCalc;if(he){var xe=oe.basePlotModule.name;se[xe]?t.pushUnique(se[xe],he):se[xe]=[he]}}for(le in se){var Ae=se[le],Se=X._subplots[le];if(Array.isArray(Se))for(Q=0;Q<Se.length;Q++){var Oe=Se[Q],Ve=le==="cartesian"?X._plots[Oe]:X[Oe];for(ee=0;ee<Ae.length;ee++)Ae[ee](W,Ve,Oe)}else for(ee=0;ee<Ae.length;ee++)Ae[ee](W)}}o.rehover=function(W){W._fullLayout._rehover&&W._fullLayout._rehover()},o.redrag=function(W){W._fullLayout._redrag&&W._fullLayout._redrag()},o.reselect=function(W){var X=W._fullLayout,re=(W.layout||{}).selections,se=X._previousSelections;X._previousSelections=re;var Q=X._reselect||JSON.stringify(re)!==JSON.stringify(se);y.getComponentMethod("selections","reselect")(W,Q)},o.generalUpdatePerTraceModule=function(W,X,re,se){var Q=X.traceHash,ee={},le;for(le=0;le<re.length;le++){var oe=re[le],he=oe[0].trace;he.visible&&(ee[he.type]=ee[he.type]||[],ee[he.type].push(oe))}for(var xe in Q)if(!ee[xe]){var Ae=Q[xe][0],Se=Ae[0].trace;Se.visible=!1,ee[xe]=[Ae]}for(var Oe in ee){var Ve=ee[Oe],Ee=Ve[0][0].trace._module;Ee.plot(W,X,t.filterVisible(Ve),se)}X.traceHash=ee},o.plotBasePlot=function(W,X,re,se,Q){var ee=y.getModule(W),le=f(X.calcdata,ee)[0];ee.plot(X,le,se,Q)},o.cleanBasePlot=function(W,X,re,se,Q){var ee=Q._has&&Q._has(W),le=re._has&&re._has(W);ee&&!le&&Q["_"+W+"layer"].selectAll("g.trace").remove()}},9813:function(V){V.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(V,B,e){var p=e(71828),L=e(61082).tester,n=p.findIndexOfMin,C=p.isAngleInsideSector,y=p.angleDelta,h=p.angleDist;function g(o,d,S,M,P){if(!C(d,M))return!1;var x,E;S[0]<S[1]?(x=S[0],E=S[1]):(x=S[1],E=S[0]);var T=L(s(x,M[0],M[1],P)),i=L(s(E,M[0],M[1],P)),R=[o*Math.cos(d),o*Math.sin(d)];return i.contains(R)&&!T.contains(R)}function t(o,d,S,M){var P,x,E=M[0],T=M[1],i=b(Math.sin(d)-Math.sin(o)),R=b(Math.cos(d)-Math.cos(o)),A=Math.tan(S),k=b(1/A),_=i/R,H=T-_*E;return k?i&&R?(P=H/(A-_),x=A*P):R?(P=T*k,x=T):(P=E,x=E*A):i&&R?(P=0,x=H):R?(P=0,x=T):P=x=NaN,[P,x]}function r(o,d,S,M){var P=-d*S,x=d*d+1,E=2*(d*P-S),T=P*P+S*S-o*o,i=Math.sqrt(E*E-4*x*T),R=(-E+i)/(2*x),A=(-E-i)/(2*x);return[[R,d*R+P+M],[A,d*A+P+M]]}function l(o,d){var S=d.length,M=new Array(S+1),P;for(P=0;P<S;P++){var x=d[P];M[P]=[o*Math.cos(x),o*Math.sin(x)]}return M[P]=M[0].slice(),M}function a(o,d,S,M){var P=M.length,x=[],E,T;function i(F){return[o*Math.cos(F),o*Math.sin(F)]}function R(F,U,Z){return t(F,U,Z,i(F))}function A(F){return p.mod(F,P)}function k(F){return C(F,[d,S])}var _=n(M,function(F){return k(F)?h(F,d):1/0}),H=R(M[_],M[A(_-1)],d);for(x.push(H),E=_,T=0;T<P;E++,T++){var z=M[A(E)];if(!k(z))break;x.push(i(z))}var N=n(M,function(F){return k(F)?h(F,S):1/0}),O=R(M[N],M[A(N+1)],S);return x.push(O),x.push([0,0]),x.push(x[0].slice()),x}function s(o,d,S,M){return p.isFullCircle([d,S])?l(o,M):a(o,d,S,M)}function c(o,d,S,M){for(var P=1/0,x=1/0,E=s(o,d,S,M),T=0;T<E.length;T++){var i=E[T];P=Math.min(P,i[0]),x=Math.min(x,-i[1])}return[P,x]}function u(o,d){var S=function(x){var E=y(x,o);return E>0?E:1/0},M=n(d,S),P=p.mod(M+1,d.length);return[d[M],d[P]]}function b(o){return Math.abs(o)>1e-10?o:0}function f(o,d,S){d=d||0,S=S||0;for(var M=o.length,P=new Array(M),x=0;x<M;x++){var E=o[x];P[x]=[d+E[0],S-E[1]]}return P}function w(o,d,S,M,P,x){var E=s(o,d,S,M);return"M"+f(E,P,x).join("L")}function v(o,d,S,M,P,x,E){var T,i;o<d?(T=o,i=d):(T=d,i=o);var R=f(s(T,S,M,P),x,E),A=f(s(i,S,M,P),x,E);return"M"+A.reverse().join("L")+"M"+R.join("L")}V.exports={isPtInsidePolygon:g,findPolygonOffset:c,findEnclosingVertexAngles:u,findIntersectionXY:t,findXYatLength:r,clampTiny:b,pathPolygon:w,pathPolygonAnnulus:v}},23580:function(V,B,e){var p=e(27659).AU,L=e(71828).counterRegex,n=e(77997),C=e(9813),y=C.attr,h=C.name,g=L(h),t={};t[y]={valType:"subplotid",dflt:h,editType:"calc"};function r(a){for(var s=a._fullLayout,c=a.calcdata,u=s._subplots[h],b=0;b<u.length;b++){var f=u[b],w=p(c,h,f),v=s[f]._subplot;v||(v=n(a,f),s[f]._subplot=v),v.plot(w,s,a._promises)}}function l(a,s,c,u){for(var b=u._subplots[h]||[],f=u._has&&u._has("gl"),w=s._has&&s._has("gl"),v=f&&!w,o=0;o<b.length;o++){var d=b[o],S=u[d]._subplot;if(!s[d]&&S){S.framework.remove(),S.layers["radial-axis-title"].remove();for(var M in S.clipPaths)S.clipPaths[M].remove()}v&&S._scene&&(S._scene.destroy(),S._scene=null)}}V.exports={attr:y,name:h,idRoot:h,idRegex:g,attrRegex:g,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:r,clean:l,toSVG:e(93612).toSVG}},73812:function(V,B,e){var p=e(22399),L=e(13838),n=e(27670).Y,C=e(71828).extendFlat,y=e(30962).overrideAll,h=y({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),g=y({tickmode:L.minor.tickmode,nticks:L.nticks,tick0:L.tick0,dtick:L.dtick,tickvals:L.tickvals,ticktext:L.ticktext,ticks:L.ticks,ticklen:L.ticklen,tickwidth:L.tickwidth,tickcolor:L.tickcolor,ticklabelstep:L.ticklabelstep,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,showexponent:L.showexponent,exponentformat:L.exponentformat,minexponent:L.minexponent,separatethousands:L.separatethousands,tickfont:L.tickfont,tickangle:L.tickangle,tickformat:L.tickformat,tickformatstops:L.tickformatstops,layer:L.layer},"plot","from-root"),t={visible:C({},L.visible,{dflt:!0}),type:C({},L.type,{values:["-","linear","log","date","category"]}),autotypenumbers:L.autotypenumbers,autorange:C({},L.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},range:C({},L.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:L.categoryorder,categoryarray:L.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:C({},L.title.text,{editType:"plot",dflt:""}),font:C({},L.title.font,{editType:"plot"}),editType:"plot"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:L._deprecated.title,titlefont:L._deprecated.titlefont}};C(t,h,g);var r={visible:C({},L.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:L.autotypenumbers,categoryorder:L.categoryorder,categoryarray:L.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:L.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};C(r,h,g),V.exports={domain:n({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:p.background},radialaxis:t,angularaxis:r,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(V,B,e){var p=e(71828),L=e(7901),n=e(44467),C=e(49119),y=e(27659).NG,h=e(26218),g=e(38701),t=e(96115),r=e(89426),l=e(15258),a=e(92128),s=e(4322),c=e(73812),u=e(12101),b=e(9813),f=b.axisNames;function w(o,d,S,M){var P=S("bgcolor");M.bgColor=L.combine(P,M.paper_bgcolor);var x=S("sector");S("hole");var E=y(M.fullData,b.name,M.id),T=M.layoutOut,i;function R(K,Y){return S(i+"."+K,Y)}for(var A=0;A<f.length;A++){i=f[A],p.isPlainObject(o[i])||(o[i]={});var k=o[i],_=n.newContainer(d,i);_._id=_._name=i,_._attr=M.id+"."+i,_._traceIndices=E.map(function(K){return K._expandedIndex});var H=b.axisName2dataArray[i],z=v(k,_,R,E,H,M);l(k,_,R,{axData:E,dataAttr:H});var N=R("visible");switch(u(_,d,T),R("uirevision",d.uirevision),_._m=1,i){case"radialaxis":var O=R("autorange",!_.isValidRange(k.range));k.autorange=O,O&&(z==="linear"||z==="-")&&R("rangemode"),O==="reversed"&&(_._m=-1),R("range"),_.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(z==="date"){p.log("Polar plots do not support date angular axes yet.");for(var F=0;F<E.length;F++)E[F].visible=!1;z=k.type=_.type="linear"}R(z==="linear"?"thetaunit":"period");var U=R("direction");R("rotation",{counterclockwise:0,clockwise:90}[U]);break}if(r(k,_,R,_.type,{tickSuffixDflt:_.thetaunit==="degrees"?"":void 0}),N){var Z,q,J,te,fe=M.font||{};Z=R("color"),q=Z===k.color?Z:fe.color,J=fe.size,te=fe.family,h(k,_,R,_.type),t(k,_,R,_.type,{font:{color:q,size:J,family:te}}),g(k,_,R,{outerTicks:!0}),a(k,_,R,{dfltColor:Z,bgColor:M.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:c[i]}),R("layer"),i==="radialaxis"&&(R("side"),R("angle",x[0]),R("title.text"),p.coerceFont(R,"title.font",{color:q,size:p.bigFont(J),family:te}))}z!=="category"&&R("hoverformat"),_._input=k}d.angularaxis.type==="category"&&S("gridshape")}function v(o,d,S,M,P,x){var E=S("autotypenumbers",x.autotypenumbersDflt),T=S("type");if(T==="-"){for(var i,R=0;R<M.length;R++)if(M[R].visible){i=M[R];break}i&&i[P]&&(d.type=s(i[P],"gregorian",{noMultiCategory:!0,autotypenumbers:E})),d.type==="-"?d.type="linear":o.type=d.type}return d.type}V.exports=function(d,S,M){C(d,S,M,{type:b.name,attributes:c,handleDefaults:w,font:S.font,autotypenumbersDflt:S.autotypenumbers,paper_bgcolor:S.paper_bgcolor,fullData:M,layoutOut:S})}},77997:function(V,B,e){var p=e(39898),L=e(84267),n=e(73972),C=e(71828),y=C.strRotate,h=C.strTranslate,g=e(7901),t=e(91424),r=e(74875),l=e(89298),a=e(21994),s=e(12101),c=e(71739).doAutoRange,u=e(29323),b=e(28569),f=e(30211),w=e(92998),v=e(47322).prepSelect,o=e(47322).selectOnClick,d=e(47322).clearOutline,S=e(6964),M=e(33306),P=e(61549).redrawReglTraces,x=e(18783).MID_SHIFT,E=e(9813),T=e(10869),i=e(23893),R=i.smith,A=i.reactanceArc,k=i.resistanceArc,_=i.smithTransform,H=C._,z=C.mod,N=C.deg2rad,O=C.rad2deg;function F(fe,K,Y){this.isSmith=Y||!1,this.id=K,this.gd=fe,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var W=fe._fullLayout,X="clip"+W._uid+K;this.clipIds.forTraces=X+"-for-traces",this.clipPaths.forTraces=W._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=W["_"+(Y?"smith":"polar")+"layer"].append("g").attr("class",K),this.getHole=function(re){return this.isSmith?0:re.hole},this.getSector=function(re){return this.isSmith?[0,360]:re.sector},this.getRadial=function(re){return this.isSmith?re.realaxis:re.radialaxis},this.getAngular=function(re){return this.isSmith?re.imaginaryaxis:re.angularaxis},Y||(this.radialTickLayout=null,this.angularTickLayout=null)}var U=F.prototype;V.exports=function(K,Y,W){return new F(K,Y,W)},U.plot=function(fe,K){for(var Y=this,W=K[Y.id],X=!1,re=0;re<fe.length;re++){var se=fe[re][0].trace;if(se.cliponaxis===!1){X=!0;break}}Y._hasClipOnAxisFalse=X,Y.updateLayers(K,W),Y.updateLayout(K,W),r.generalUpdatePerTraceModule(Y.gd,Y,fe,W),Y.updateFx(K,W),Y.isSmith&&(delete W.realaxis.range,delete W.imaginaryaxis.range)},U.updateLayers=function(fe,K){var Y=this,W=Y.isSmith,X=Y.layers,re=Y.getRadial(K),se=Y.getAngular(K),Q=E.layerNames,ee=Q.indexOf("frontplot"),le=Q.slice(0,ee),oe=se.layer==="below traces",he=re.layer==="below traces";oe&&le.push("angular-line"),he&&le.push("radial-line"),oe&&le.push("angular-axis"),he&&le.push("radial-axis"),le.push("frontplot"),oe||le.push("angular-line"),he||le.push("radial-line"),oe||le.push("angular-axis"),he||le.push("radial-axis");var xe=(W?"smith":"polar")+"sublayer",Ae=Y.framework.selectAll("."+xe).data(le,String);Ae.enter().append("g").attr("class",function(Se){return xe+" "+Se}).each(function(Se){var Oe=X[Se]=p.select(this);switch(Se){case"frontplot":W||Oe.append("g").classed("barlayer",!0),Oe.append("g").classed("scatterlayer",!0);break;case"backplot":Oe.append("g").classed("maplayer",!0);break;case"plotbg":X.bg=Oe.append("path");break;case"radial-grid":Oe.style("fill","none");break;case"angular-grid":Oe.style("fill","none");break;case"radial-line":Oe.append("line").style("fill","none");break;case"angular-line":Oe.append("path").style("fill","none");break}}),Ae.order()},U.updateLayout=function(fe,K){var Y=this,W=Y.layers,X=fe._size,re=Y.getRadial(K),se=Y.getAngular(K),Q=K.domain.x,ee=K.domain.y;Y.xOffset=X.l+X.w*Q[0],Y.yOffset=X.t+X.h*(1-ee[1]);var le=Y.xLength=X.w*(Q[1]-Q[0]),oe=Y.yLength=X.h*(ee[1]-ee[0]),he=Y.getSector(K);Y.sectorInRad=he.map(N);var xe=Y.sectorBBox=q(he),Ae=xe[2]-xe[0],Se=xe[3]-xe[1],Oe=oe/le,Ve=Math.abs(Se/Ae),Ee,Te,Le,Ge,He;Oe>Ve?(Ee=le,Te=le*Ve,He=(oe-Te)/X.h/2,Le=[Q[0],Q[1]],Ge=[ee[0]+He,ee[1]-He]):(Ee=oe/Ve,Te=oe,He=(le-Ee)/X.w/2,Le=[Q[0]+He,Q[1]-He],Ge=[ee[0],ee[1]]),Y.xLength2=Ee,Y.yLength2=Te,Y.xDomain2=Le,Y.yDomain2=Ge;var ke=Y.xOffset2=X.l+X.w*Le[0],We=Y.yOffset2=X.t+X.h*(1-Ge[1]),nt=Y.radius=Ee/Ae,qe=Y.innerRadius=Y.getHole(K)*nt,Qe=Y.cx=ke-nt*xe[0],tt=Y.cy=We+nt*xe[3],vt=Y.cxx=Qe-ke,dt=Y.cyy=tt-We,gt=re.side,Mt;gt==="counterclockwise"?(Mt=gt,gt="top"):gt==="clockwise"&&(Mt=gt,gt="bottom"),Y.radialAxis=Y.mockAxis(fe,K,re,{_id:"x",side:gt,_trueSide:Mt,domain:[qe/X.w,nt/X.w]}),Y.angularAxis=Y.mockAxis(fe,K,se,{side:"right",domain:[0,Math.PI],autorange:!1}),Y.doAutoRange(fe,K),Y.updateAngularAxis(fe,K),Y.updateRadialAxis(fe,K),Y.updateRadialAxisTitle(fe,K),Y.xaxis=Y.mockCartesianAxis(fe,K,{_id:"x",domain:Le}),Y.yaxis=Y.mockCartesianAxis(fe,K,{_id:"y",domain:Ge});var Rt=Y.pathSubplot();Y.clipPaths.forTraces.select("path").attr("d",Rt).attr("transform",h(vt,dt)),W.frontplot.attr("transform",h(ke,We)).call(t.setClipUrl,Y._hasClipOnAxisFalse?null:Y.clipIds.forTraces,Y.gd),W.bg.attr("d",Rt).attr("transform",h(Qe,tt)).call(g.fill,K.bgcolor)},U.mockAxis=function(fe,K,Y,W){var X=C.extendFlat({},Y,W);return s(X,K,fe),X},U.mockCartesianAxis=function(fe,K,Y){var W=this,X=W.isSmith,re=Y._id,se=C.extendFlat({type:"linear"},Y);a(se,fe);var Q={x:[0,2],y:[1,3]};return se.setRange=function(){var ee=W.sectorBBox,le=Q[re],oe=W.radialAxis._rl,he=(oe[1]-oe[0])/(1-W.getHole(K));se.range=[ee[le[0]]*he,ee[le[1]]*he]},se.isPtWithinRange=re==="x"&&!X?function(ee){return W.isPtInside(ee)}:function(){return!0},se.setRange(),se.setScale(),se},U.doAutoRange=function(fe,K){var Y=this,W=Y.gd,X=Y.radialAxis,re=Y.getRadial(K);c(W,X);var se=X.range;re.range=se.slice(),re._input.range=se.slice(),X._rl=[X.r2l(se[0],null,"gregorian"),X.r2l(se[1],null,"gregorian")]},U.updateRadialAxis=function(fe,K){var Y=this,W=Y.gd,X=Y.layers,re=Y.radius,se=Y.innerRadius,Q=Y.cx,ee=Y.cy,le=Y.getRadial(K),oe=z(Y.getSector(K)[0],360),he=Y.radialAxis,xe=se<re,Ae=Y.isSmith;Ae||(Y.fillViewInitialKey("radialaxis.angle",le.angle),Y.fillViewInitialKey("radialaxis.range",he.range.slice()),he.setGeometry()),he.tickangle==="auto"&&oe>90&&oe<=270&&(he.tickangle=180);var Se=Ae?function(nt){var qe=_(Y,R([nt.x,0]));return h(qe[0]-Q,qe[1]-ee)}:function(nt){return h(he.l2p(nt.x)+se,0)},Oe=Ae?function(nt){return k(Y,nt.x,-1/0,1/0)}:function(nt){return Y.pathArc(he.r2p(nt.x)+se)},Ve=Z(le);if(Y.radialTickLayout!==Ve&&(X["radial-axis"].selectAll(".xtick").remove(),Y.radialTickLayout=Ve),xe){he.setScale();var Ee=0,Te=Ae?(he.tickvals||[]).filter(function(nt){return nt>=0}).map(function(nt){return l.tickText(he,nt,!0,!1)}):l.calcTicks(he),Le=Ae?Te:l.clipEnds(he,Te),Ge=l.getTickSigns(he)[2];Ae&&((he.ticks==="top"&&he.side==="bottom"||he.ticks==="bottom"&&he.side==="top")&&(Ge=-Ge),he.ticks==="top"&&he.side==="top"&&(Ee=-he.ticklen),he.ticks==="bottom"&&he.side==="bottom"&&(Ee=he.ticklen)),l.drawTicks(W,he,{vals:Te,layer:X["radial-axis"],path:l.makeTickPath(he,0,Ge),transFn:Se,crisp:!1}),l.drawGrid(W,he,{vals:Le,layer:X["radial-grid"],path:Oe,transFn:C.noop,crisp:!1}),l.drawLabels(W,he,{vals:Te,layer:X["radial-axis"],transFn:Se,labelFns:l.makeLabelFns(he,Ee)})}var He=Y.radialAxisAngle=Y.vangles?O(J(N(le.angle),Y.vangles)):le.angle,ke=h(Q,ee),We=ke+y(-He);te(X["radial-axis"],xe&&(le.showticklabels||le.ticks),{transform:We}),te(X["radial-grid"],xe&&le.showgrid,{transform:Ae?"":ke}),te(X["radial-line"].select("line"),xe&&le.showline,{x1:Ae?-re:se,y1:0,x2:re,y2:0,transform:We}).attr("stroke-width",le.linewidth).call(g.stroke,le.linecolor)},U.updateRadialAxisTitle=function(fe,K,Y){if(!this.isSmith){var W=this,X=W.gd,re=W.radius,se=W.cx,Q=W.cy,ee=W.getRadial(K),le=W.id+"title",oe=0;if(ee.title){var he=t.bBox(W.layers["radial-axis"].node()).height,xe=ee.title.font.size,Ae=ee.side;oe=Ae==="top"?xe:Ae==="counterclockwise"?-(he+xe*.4):he+xe*.8}var Se=Y!==void 0?Y:W.radialAxisAngle,Oe=N(Se),Ve=Math.cos(Oe),Ee=Math.sin(Oe),Te=se+re/2*Ve+oe*Ee,Le=Q-re/2*Ee+oe*Ve;W.layers["radial-axis-title"]=w.draw(X,le,{propContainer:ee,propName:W.id+".radialaxis.title",placeholder:H(X,"Click to enter radial axis title"),attributes:{x:Te,y:Le,"text-anchor":"middle"},transform:{rotate:-Se}})}},U.updateAngularAxis=function(fe,K){var Y=this,W=Y.gd,X=Y.layers,re=Y.radius,se=Y.innerRadius,Q=Y.cx,ee=Y.cy,le=Y.getAngular(K),oe=Y.angularAxis,he=Y.isSmith;he||(Y.fillViewInitialKey("angularaxis.rotation",le.rotation),oe.setGeometry(),oe.setScale());var xe=he?function(qe){var Qe=_(Y,R([0,qe.x]));return Math.atan2(Qe[0]-Q,Qe[1]-ee)-Math.PI/2}:function(qe){return oe.t2g(qe.x)};oe.type==="linear"&&oe.thetaunit==="radians"&&(oe.tick0=O(oe.tick0),oe.dtick=O(oe.dtick));var Ae=function(qe){return h(Q+re*Math.cos(qe),ee-re*Math.sin(qe))},Se=he?function(qe){var Qe=_(Y,R([0,qe.x]));return h(Qe[0],Qe[1])}:function(qe){return Ae(xe(qe))},Oe=he?function(qe){var Qe=_(Y,R([0,qe.x])),tt=Math.atan2(Qe[0]-Q,Qe[1]-ee)-Math.PI/2;return h(Qe[0],Qe[1])+y(-O(tt))}:function(qe){var Qe=xe(qe);return Ae(Qe)+y(-O(Qe))},Ve=he?function(qe){return A(Y,qe.x,0,1/0)}:function(qe){var Qe=xe(qe),tt=Math.cos(Qe),vt=Math.sin(Qe);return"M"+[Q+se*tt,ee-se*vt]+"L"+[Q+re*tt,ee-re*vt]},Ee=l.makeLabelFns(oe,0),Te=Ee.labelStandoff,Le={};Le.xFn=function(qe){var Qe=xe(qe);return Math.cos(Qe)*Te},Le.yFn=function(qe){var Qe=xe(qe),tt=Math.sin(Qe)>0?.2:1;return-Math.sin(Qe)*(Te+qe.fontSize*tt)+Math.abs(Math.cos(Qe))*(qe.fontSize*x)},Le.anchorFn=function(qe){var Qe=xe(qe),tt=Math.cos(Qe);return Math.abs(tt)<.1?"middle":tt>0?"start":"end"},Le.heightFn=function(qe,Qe,tt){var vt=xe(qe);return-.5*(1+Math.sin(vt))*tt};var Ge=Z(le);Y.angularTickLayout!==Ge&&(X["angular-axis"].selectAll("."+oe._id+"tick").remove(),Y.angularTickLayout=Ge);var He=he?[1/0].concat(oe.tickvals||[]).map(function(qe){return l.tickText(oe,qe,!0,!1)}):l.calcTicks(oe);he&&(He[0].text="",He[0].fontSize*=1.75);var ke;if(K.gridshape==="linear"?(ke=He.map(xe),C.angleDelta(ke[0],ke[1])<0&&(ke=ke.slice().reverse())):ke=null,Y.vangles=ke,oe.type==="category"&&(He=He.filter(function(qe){return C.isAngleInsideSector(xe(qe),Y.sectorInRad)})),oe.visible){var We=oe.ticks==="inside"?-1:1,nt=(oe.linewidth||1)/2;l.drawTicks(W,oe,{vals:He,layer:X["angular-axis"],path:"M"+We*nt+",0h"+We*oe.ticklen,transFn:Oe,crisp:!1}),l.drawGrid(W,oe,{vals:He,layer:X["angular-grid"],path:Ve,transFn:C.noop,crisp:!1}),l.drawLabels(W,oe,{vals:He,layer:X["angular-axis"],repositionOnUpdate:!0,transFn:Se,labelFns:Le})}te(X["angular-line"].select("path"),le.showline,{d:Y.pathSubplot(),transform:h(Q,ee)}).attr("stroke-width",le.linewidth).call(g.stroke,le.linecolor)},U.updateFx=function(fe,K){if(!this.gd._context.staticPlot){var Y=!this.isSmith;Y&&(this.updateAngularDrag(fe),this.updateRadialDrag(fe,K,0),this.updateRadialDrag(fe,K,1)),this.updateHoverAndMainDrag(fe)}},U.updateHoverAndMainDrag=function(fe){var K=this,Y=K.isSmith,W=K.gd,X=K.layers,re=fe._zoomlayer,se=E.MINZOOM,Q=E.OFFEDGE,ee=K.radius,le=K.innerRadius,oe=K.cx,he=K.cy,xe=K.cxx,Ae=K.cyy,Se=K.sectorInRad,Oe=K.vangles,Ve=K.radialAxis,Ee=T.clampTiny,Te=T.findXYatLength,Le=T.findEnclosingVertexAngles,Ge=E.cornerHalfWidth,He=E.cornerLen/2,ke,We,nt=u.makeDragger(X,"path","maindrag",fe.dragmode===!1?"none":"crosshair");p.select(nt).attr("d",K.pathSubplot()).attr("transform",h(oe,he)),nt.onmousemove=function(Et){f.hover(W,Et,K.id),W._fullLayout._lasthover=nt,W._fullLayout._hoversubplot=K.id},nt.onmouseout=function(Et){W._dragging||b.unhover(W,Et)};var qe={element:nt,gd:W,subplot:K.id,plotinfo:{id:K.id,xaxis:K.xaxis,yaxis:K.yaxis},xaxes:[K.xaxis],yaxes:[K.yaxis]},Qe,tt,vt,dt,gt,Mt,Rt,Wt,je;function _e(Et,$t){return Math.sqrt(Et*Et+$t*$t)}function Fe(Et,$t){return _e(Et-xe,$t-Ae)}function Be(Et,$t){return Math.atan2(Ae-$t,Et-xe)}function De(Et,$t){return[Et*Math.cos($t),Et*Math.sin(-$t)]}function we(Et,$t){if(Et===0)return K.pathSector(2*Ge);var lr=He/Et,Fr=$t-lr,yt=$t+lr,Kt=Math.max(0,Math.min(Et,ee)),Zt=Kt-Ge,Ar=Kt+Ge;return"M"+De(Zt,Fr)+"A"+[Zt,Zt]+" 0,0,0 "+De(Zt,yt)+"L"+De(Ar,yt)+"A"+[Ar,Ar]+" 0,0,1 "+De(Ar,Fr)+"Z"}function ue(Et,$t,lr){if(Et===0)return K.pathSector(2*Ge);var Fr=De(Et,$t),yt=De(Et,lr),Kt=Ee((Fr[0]+yt[0])/2),Zt=Ee((Fr[1]+yt[1])/2),Ar,vr;if(Kt&&Zt){var ut=Zt/Kt,lt=-1/ut,xt=Te(Ge,ut,Kt,Zt);Ar=Te(He,lt,xt[0][0],xt[0][1]),vr=Te(He,lt,xt[1][0],xt[1][1])}else{var Tt,Ct;Zt?(Tt=He,Ct=Ge):(Tt=Ge,Ct=He),Ar=[[Kt-Tt,Zt-Ct],[Kt+Tt,Zt-Ct]],vr=[[Kt-Tt,Zt+Ct],[Kt+Tt,Zt+Ct]]}return"M"+Ar.join("L")+"L"+vr.reverse().join("L")+"Z"}function me(){vt=null,dt=null,gt=K.pathSubplot(),Mt=!1;var Et=W._fullLayout[K.id];Rt=L(Et.bgcolor).getLuminance(),Wt=u.makeZoombox(re,Rt,oe,he,gt),Wt.attr("fill-rule","evenodd"),je=u.makeCorners(re,oe,he),d(W)}function Re(Et,$t){return $t=Math.max(Math.min($t,ee),le),Et<Q?Et=0:ee-Et<Q?Et=ee:$t<Q?$t=0:ee-$t<Q&&($t=ee),Math.abs($t-Et)>se?(Et<$t?(vt=Et,dt=$t):(vt=$t,dt=Et),!0):(vt=null,dt=null,!1)}function Ne(Et,$t){Et=Et||gt,$t=$t||"M0,0Z",Wt.attr("d",Et),je.attr("d",$t),u.transitionZoombox(Wt,je,Mt,Rt),Mt=!0;var lr={};Ut(lr),W.emit("plotly_relayouting",lr)}function it(Et,$t){Et=Et*ke,$t=$t*We;var lr=Qe+Et,Fr=tt+$t,yt=Fe(Qe,tt),Kt=Math.min(Fe(lr,Fr),ee),Zt=Be(Qe,tt),Ar,vr;Re(yt,Kt)&&(Ar=gt+K.pathSector(dt),vt&&(Ar+=K.pathSector(vt)),vr=we(vt,Zt)+we(dt,Zt)),Ne(Ar,vr)}function ot(Et,$t,lr,Fr){var yt=T.findIntersectionXY(lr,Fr,lr,[Et-xe,Ae-$t]);return _e(yt[0],yt[1])}function wt(Et,$t){var lr=Qe+Et,Fr=tt+$t,yt=Be(Qe,tt),Kt=Be(lr,Fr),Zt=Le(yt,Oe),Ar=Le(Kt,Oe),vr=ot(Qe,tt,Zt[0],Zt[1]),ut=Math.min(ot(lr,Fr,Ar[0],Ar[1]),ee),lt,xt;Re(vr,ut)&&(lt=gt+K.pathSector(dt),vt&&(lt+=K.pathSector(vt)),xt=[ue(vt,Zt[0],Zt[1]),ue(dt,Zt[0],Zt[1])].join(" ")),Ne(lt,xt)}function Ft(){if(u.removeZoombox(W),!(vt===null||dt===null)){var Et={};Ut(Et),u.showDoubleClickNotifier(W),n.call("_guiRelayout",W,Et)}}function Ut(Et){var $t=Ve._rl,lr=($t[1]-$t[0])/(1-le/ee)/ee,Fr=[$t[0]+(vt-le)*lr,$t[0]+(dt-le)*lr];Et[K.id+".radialaxis.range"]=Fr}function Gt(Et,$t){var lr=W._fullLayout.clickmode;if(u.removeZoombox(W),Et===2){var Fr={};for(var yt in K.viewInitial)Fr[K.id+"."+yt]=K.viewInitial[yt];W.emit("plotly_doubleclick",null),n.call("_guiRelayout",W,Fr)}lr.indexOf("select")>-1&&Et===1&&o($t,W,[K.xaxis],[K.yaxis],K.id,qe),lr.indexOf("event")>-1&&f.click(W,$t,K.id)}qe.prepFn=function(Et,$t,lr){var Fr=W._fullLayout.dragmode,yt=nt.getBoundingClientRect();W._fullLayout._calcInverseTransform(W);var Kt=W._fullLayout._invTransform;ke=W._fullLayout._invScaleX,We=W._fullLayout._invScaleY;var Zt=C.apply3DTransform(Kt)($t-yt.left,lr-yt.top);if(Qe=Zt[0],tt=Zt[1],Oe){var Ar=T.findPolygonOffset(ee,Se[0],Se[1],Oe);Qe+=xe+Ar[0],tt+=Ae+Ar[1]}switch(Fr){case"zoom":qe.clickFn=Gt,Y||(Oe?qe.moveFn=wt:qe.moveFn=it,qe.doneFn=Ft,me());break;case"select":case"lasso":v(Et,$t,lr,qe,Fr);break}},b.init(qe)},U.updateRadialDrag=function(fe,K,Y){var W=this,X=W.gd,re=W.layers,se=W.radius,Q=W.innerRadius,ee=W.cx,le=W.cy,oe=W.radialAxis,he=E.radialDragBoxSize,xe=he/2;if(!oe.visible)return;var Ae=N(W.radialAxisAngle),Se=oe._rl,Oe=Se[0],Ve=Se[1],Ee=Se[Y],Te=.75*(Se[1]-Se[0])/(1-W.getHole(K))/se,Le,Ge,He;Y?(Le=ee+(se+xe)*Math.cos(Ae),Ge=le-(se+xe)*Math.sin(Ae),He="radialdrag"):(Le=ee+(Q-xe)*Math.cos(Ae),Ge=le-(Q-xe)*Math.sin(Ae),He="radialdrag-inner");var ke=u.makeRectDragger(re,He,"crosshair",-xe,-xe,he,he),We={element:ke,gd:X};fe.dragmode===!1&&(We.dragmode=!1),te(p.select(ke),oe.visible&&Q<se,{transform:h(Le,Ge)});var nt,qe,Qe;function tt(Rt,Wt){if(nt)nt(Rt,Wt);else{var je=[Rt,-Wt],_e=[Math.cos(Ae),Math.sin(Ae)],Fe=Math.abs(C.dot(je,_e)/Math.sqrt(C.dot(je,je)));isNaN(Fe)||(nt=Fe<.5?gt:Mt)}var Be={};vt(Be),X.emit("plotly_relayouting",Be)}function vt(Rt){qe!==null?Rt[W.id+".radialaxis.angle"]=qe:Qe!==null&&(Rt[W.id+".radialaxis.range["+Y+"]"]=Qe)}function dt(){qe!==null?n.call("_guiRelayout",X,W.id+".radialaxis.angle",qe):Qe!==null&&n.call("_guiRelayout",X,W.id+".radialaxis.range["+Y+"]",Qe)}function gt(Rt,Wt){if(Y!==0){var je=Le+Rt,_e=Ge+Wt;qe=Math.atan2(le-_e,je-ee),W.vangles&&(qe=J(qe,W.vangles)),qe=O(qe);var Fe=h(ee,le)+y(-qe);re["radial-axis"].attr("transform",Fe),re["radial-line"].select("line").attr("transform",Fe);var Be=W.gd._fullLayout,De=Be[W.id];W.updateRadialAxisTitle(Be,De,qe)}}function Mt(Rt,Wt){var je=C.dot([Rt,-Wt],[Math.cos(Ae),Math.sin(Ae)]);if(Qe=Ee-Te*je,Te>0!=(Y?Qe>Oe:Qe<Ve)){Qe=null;return}var _e=X._fullLayout,Fe=_e[W.id];oe.range[Y]=Qe,oe._rl[Y]=Qe,W.updateRadialAxis(_e,Fe),W.xaxis.setRange(),W.xaxis.setScale(),W.yaxis.setRange(),W.yaxis.setScale();var Be=!1;for(var De in W.traceHash){var we=W.traceHash[De],ue=C.filterVisible(we),me=we[0][0].trace._module;me.plot(X,W,ue,Fe),n.traceIs(De,"gl")&&ue.length&&(Be=!0)}Be&&(M(X),P(X))}We.prepFn=function(){nt=null,qe=null,Qe=null,We.moveFn=tt,We.doneFn=dt,d(X)},We.clampFn=function(Rt,Wt){return Math.sqrt(Rt*Rt+Wt*Wt)<E.MINDRAG&&(Rt=0,Wt=0),[Rt,Wt]},b.init(We)},U.updateAngularDrag=function(fe){var K=this,Y=K.gd,W=K.layers,X=K.radius,re=K.angularAxis,se=K.cx,Q=K.cy,ee=K.cxx,le=K.cyy,oe=E.angularDragBoxSize,he=u.makeDragger(W,"path","angulardrag",fe.dragmode===!1?"none":"move"),xe={element:he,gd:Y};fe.dragmode===!1?xe.dragmode=!1:p.select(he).attr("d",K.pathAnnulus(X,X+oe)).attr("transform",h(se,Q)).call(S,"move");function Ae(Qe,tt){return Math.atan2(le+oe-tt,Qe-ee-oe)}var Se=W.frontplot.select(".scatterlayer").selectAll(".trace"),Oe=Se.selectAll(".point"),Ve=Se.selectAll(".textpoint"),Ee,Te,Le,Ge,He,ke;function We(Qe,tt){var vt=K.gd._fullLayout,dt=vt[K.id],gt=Ee+Qe*fe._invScaleX,Mt=Te+tt*fe._invScaleY,Rt=Ae(gt,Mt),Wt=O(Rt-ke);if(Ge=Le+Wt,W.frontplot.attr("transform",h(K.xOffset2,K.yOffset2)+y([-Wt,ee,le])),K.vangles){He=K.radialAxisAngle+Wt;var je=h(se,Q)+y(-Wt),_e=h(se,Q)+y(-He);W.bg.attr("transform",je),W["radial-grid"].attr("transform",je),W["radial-axis"].attr("transform",_e),W["radial-line"].select("line").attr("transform",_e),K.updateRadialAxisTitle(vt,dt,He)}else K.clipPaths.forTraces.select("path").attr("transform",h(ee,le)+y(Wt));Oe.each(function(){var Re=p.select(this),Ne=t.getTranslate(Re);Re.attr("transform",h(Ne.x,Ne.y)+y([Wt]))}),Ve.each(function(){var Re=p.select(this),Ne=Re.select("text"),it=t.getTranslate(Re);Re.attr("transform",y([Wt,Ne.attr("x"),Ne.attr("y")])+h(it.x,it.y))}),re.rotation=C.modHalf(Ge,360),K.updateAngularAxis(vt,dt),K._hasClipOnAxisFalse&&!C.isFullCircle(K.sectorInRad)&&Se.call(t.hideOutsideRangePoints,K);var Fe=!1;for(var Be in K.traceHash)if(n.traceIs(Be,"gl")){var De=K.traceHash[Be],we=C.filterVisible(De),ue=De[0][0].trace._module;ue.plot(Y,K,we,dt),we.length&&(Fe=!0)}Fe&&(M(Y),P(Y));var me={};nt(me),Y.emit("plotly_relayouting",me)}function nt(Qe){Qe[K.id+".angularaxis.rotation"]=Ge,K.vangles&&(Qe[K.id+".radialaxis.angle"]=He)}function qe(){Ve.select("text").attr("transform",null);var Qe={};nt(Qe),n.call("_guiRelayout",Y,Qe)}xe.prepFn=function(Qe,tt,vt){var dt=fe[K.id];Le=dt.angularaxis.rotation;var gt=he.getBoundingClientRect();Ee=tt-gt.left,Te=vt-gt.top,Y._fullLayout._calcInverseTransform(Y);var Mt=C.apply3DTransform(fe._invTransform)(Ee,Te);Ee=Mt[0],Te=Mt[1],ke=Ae(Ee,Te),xe.moveFn=We,xe.doneFn=qe,d(Y)},K.vangles&&!C.isFullCircle(K.sectorInRad)&&(xe.prepFn=C.noop,S(p.select(he),null)),b.init(xe)},U.isPtInside=function(fe){if(this.isSmith)return!0;var K=this.sectorInRad,Y=this.vangles,W=this.angularAxis.c2g(fe.theta),X=this.radialAxis,re=X.c2l(fe.r),se=X._rl,Q=Y?T.isPtInsidePolygon:C.isPtInsideSector;return Q(re,W,se,K,Y)},U.pathArc=function(fe){var K=this.sectorInRad,Y=this.vangles,W=Y?T.pathPolygon:C.pathArc;return W(fe,K[0],K[1],Y)},U.pathSector=function(fe){var K=this.sectorInRad,Y=this.vangles,W=Y?T.pathPolygon:C.pathSector;return W(fe,K[0],K[1],Y)},U.pathAnnulus=function(fe,K){var Y=this.sectorInRad,W=this.vangles,X=W?T.pathPolygonAnnulus:C.pathAnnulus;return X(fe,K,Y[0],Y[1],W)},U.pathSubplot=function(){var fe=this.innerRadius,K=this.radius;return fe?this.pathAnnulus(fe,K):this.pathSector(K)},U.fillViewInitialKey=function(fe,K){fe in this.viewInitial||(this.viewInitial[fe]=K)};function Z(fe){var K=fe.ticks+String(fe.ticklen)+String(fe.showticklabels);return"side"in fe&&(K+=fe.side),K}function q(fe){var K=fe[0],Y=fe[1],W=Y-K,X=z(K,360),re=X+W,se=Math.cos(N(X)),Q=Math.sin(N(X)),ee=Math.cos(N(re)),le=Math.sin(N(re)),oe,he,xe,Ae;return X<=90&&re>=90||X>90&&re>=450?Ae=1:Q<=0&&le<=0?Ae=0:Ae=Math.max(Q,le),X<=180&&re>=180||X>180&&re>=540?oe=-1:se>=0&&ee>=0?oe=0:oe=Math.min(se,ee),X<=270&&re>=270||X>270&&re>=630?he=-1:Q>=0&&le>=0?he=0:he=Math.min(Q,le),re>=360?xe=1:se<=0&&ee<=0?xe=0:xe=Math.max(se,ee),[oe,he,xe,Ae]}function J(fe,K){var Y=function(X){return C.angleDist(fe,X)},W=C.findIndexOfMin(K,Y);return K[W]}function te(fe,K,Y){return K?(fe.attr("display",null),fe.attr(Y)):fe&&fe.attr("display","none"),fe}},12101:function(V,B,e){var p=e(71828),L=e(21994),n=p.deg2rad,C=p.rad2deg;V.exports=function(l,a,s){switch(L(l,s),l._id){case"x":case"radialaxis":y(l,a);break;case"angularaxis":t(l,a);break}};function y(r,l){var a=l._subplot;r.setGeometry=function(){var s=r._rl[0],c=r._rl[1],u=a.innerRadius,b=(a.radius-u)/(c-s),f=u/b,w=s>c?function(v){return v<=0}:function(v){return v>=0};r.c2g=function(v){var o=r.c2l(v)-s;return(w(o)?o:0)+f},r.g2c=function(v){return r.l2c(v+s-f)},r.g2p=function(v){return v*b},r.c2p=function(v){return r.g2p(r.c2g(v))}}}function h(r,l){return l==="degrees"?n(r):r}function g(r,l){return l==="degrees"?C(r):r}function t(r,l){var a=r.type;if(a==="linear"){var s=r.d2c,c=r.c2d;r.d2c=function(u,b){return h(s(u),b)},r.c2d=function(u,b){return c(g(u,b))}}r.makeCalcdata=function(u,b){var f=u[b],w=u._length,v,o,d=function(E){return r.d2c(E,u.thetaunit)};if(f){if(p.isTypedArray(f)&&a==="linear"){if(w===f.length)return f;if(f.subarray)return f.subarray(0,w)}for(v=new Array(w),o=0;o<w;o++)v[o]=d(f[o])}else{var S=b+"0",M="d"+b,P=S in u?d(u[S]):0,x=u[M]?d(u[M]):(r.period||2*Math.PI)/w;for(v=new Array(w),o=0;o<w;o++)v[o]=P+o*x}return v},r.setGeometry=function(){var u=l.sector,b=u.map(n),f={clockwise:-1,counterclockwise:1}[r.direction],w=n(r.rotation),v=function(T){return f*T+w},o=function(T){return(T-w)/f},d,S,M,P;switch(a){case"linear":S=d=p.identity,P=n,M=C,r.range=p.isFullCircle(b)?[u[0],u[0]+360]:b.map(o).map(C);break;case"category":var x=r._categories.length,E=r.period?Math.max(r.period,x):x;E===0&&(E=1),S=P=function(T){return T*2*Math.PI/E},d=M=function(T){return T*E/Math.PI/2},r.range=[0,E];break}r.c2g=function(T){return v(S(T))},r.g2c=function(T){return d(o(T))},r.t2g=function(T){return v(P(T))},r.g2t=function(T){return M(o(T))}}}},39779:function(V){V.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(V){function B(y){return y<0?-1:y>0?1:0}function e(y){var h=y[0],g=y[1];if(!isFinite(h)||!isFinite(g))return[1,0];var t=(h+1)*(h+1)+g*g;return[(h*h+g*g-1)/t,2*g/t]}function p(y,h){var g=h[0],t=h[1];return[g*y.radius+y.cx,-t*y.radius+y.cy]}function L(y,h){return h*y.radius}function n(y,h,g,t){var r=p(y,e([g,h])),l=r[0],a=r[1],s=p(y,e([t,h])),c=s[0],u=s[1];if(h===0)return["M"+l+","+a,"L"+c+","+u].join(" ");var b=L(y,1/Math.abs(h));return["M"+l+","+a,"A"+b+","+b+" 0 0,"+(h<0?1:0)+" "+c+","+u].join(" ")}function C(y,h,g,t){var r=L(y,1/(h+1)),l=p(y,e([h,g])),a=l[0],s=l[1],c=p(y,e([h,t])),u=c[0],b=c[1];if(B(g)!==B(t)){var f=p(y,e([h,0])),w=f[0],v=f[1];return["M"+a+","+s,"A"+r+","+r+" 0 0,"+(0<g?0:1)+" "+w+","+v,"A"+r+","+r+" 0 0,"+(t<0?0:1)+u+","+b].join(" ")}return["M"+a+","+s,"A"+r+","+r+" 0 0,"+(t<g?0:1)+" "+u+","+b].join(" ")}V.exports={smith:e,reactanceArc:n,resistanceArc:C,smithTransform:p}},7504:function(V,B,e){var p=e(27659).AU,L=e(71828).counterRegex,n=e(77997),C=e(39779),y=C.attr,h=C.name,g=L(h),t={};t[y]={valType:"subplotid",dflt:h,editType:"calc"};function r(a){for(var s=a._fullLayout,c=a.calcdata,u=s._subplots[h],b=0;b<u.length;b++){var f=u[b],w=p(c,h,f),v=s[f]._subplot;v||(v=n(a,f,!0),s[f]._subplot=v),v.plot(w,s,a._promises)}}function l(a,s,c,u){for(var b=u._subplots[h]||[],f=0;f<b.length;f++){var w=b[f],v=u[w]._subplot;if(!s[w]&&v){v.framework.remove();for(var o in v.clipPaths)v.clipPaths[o].remove()}}}V.exports={attr:y,name:h,idRoot:h,idRegex:g,attrRegex:g,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:r,clean:l,toSVG:e(93612).toSVG}},33419:function(V,B,e){var p=e(22399),L=e(13838),n=e(27670).Y,C=e(71828).extendFlat,y=e(30962).overrideAll,h=y({color:L.color,showline:C({},L.showline,{dflt:!0}),linecolor:L.linecolor,linewidth:L.linewidth,showgrid:C({},L.showgrid,{dflt:!0}),gridcolor:L.gridcolor,gridwidth:L.gridwidth,griddash:L.griddash},"plot","from-root"),g=y({ticklen:L.ticklen,tickwidth:C({},L.tickwidth,{dflt:2}),tickcolor:L.tickcolor,showticklabels:L.showticklabels,labelalias:L.labelalias,showtickprefix:L.showtickprefix,tickprefix:L.tickprefix,showticksuffix:L.showticksuffix,ticksuffix:L.ticksuffix,tickfont:L.tickfont,tickformat:L.tickformat,hoverformat:L.hoverformat,layer:L.layer},"plot","from-root"),t=C({visible:C({},L.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:C({},L.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},h,g),r=C({visible:C({},L.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:L.ticks,editType:"calc"},h,g);V.exports={domain:n({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:p.background},realaxis:t,imaginaryaxis:r,editType:"calc"}},9558:function(V,B,e){var p=e(71828),L=e(7901),n=e(44467),C=e(49119),y=e(27659).NG,h=e(89426),g=e(96115),t=e(92128),r=e(21994),l=e(33419),a=e(39779),s=a.axisNames,c=b(function(f){return f.slice().reverse().map(function(w){return-w}).concat([0]).concat(f)},String);function u(f,w,v,o){var d=v("bgcolor");o.bgColor=L.combine(d,o.paper_bgcolor);var S=y(o.fullData,a.name,o.id),M=o.layoutOut,P;function x(U,Z){return v(P+"."+U,Z)}for(var E=0;E<s.length;E++){P=s[E],p.isPlainObject(f[P])||(f[P]={});var T=f[P],i=n.newContainer(w,P);i._id=i._name=P,i._attr=o.id+"."+P,i._traceIndices=S.map(function(U){return U._expandedIndex});var R=x("visible");if(i.type="linear",r(i,M),h(T,i,x,i.type),R){var A=P==="realaxis";if(A&&x("side"),A)x("tickvals");else{var k=c(w.realaxis.tickvals||l.realaxis.tickvals.dflt);x("tickvals",k)}var _,H,z,N,O=o.font||{};R&&(_=x("color"),H=_===T.color?_:O.color,z=O.size,N=O.family),g(T,i,x,i.type,{noTicklabelstep:!0,noAng:!A,noExp:!0,font:{color:H,size:z,family:N}}),p.coerce2(f,w,l,P+".ticklen"),p.coerce2(f,w,l,P+".tickwidth"),p.coerce2(f,w,l,P+".tickcolor",w.color);var F=x("ticks");F||(delete w[P].ticklen,delete w[P].tickwidth,delete w[P].tickcolor),t(T,i,x,{dfltColor:_,bgColor:o.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:l[P]}),x("layer")}x("hoverformat"),delete i.type,i._input=T}}V.exports=function(w,v,o){C(w,v,o,{noUirevision:!0,type:a.name,attributes:l,handleDefaults:u,font:v.font,paper_bgcolor:v.paper_bgcolor,fullData:o,layoutOut:v})};function b(f,w){var v={};return function(o){var d=w?w(o):o;if(d in v)return v[d];var S=f(o);return v[d]=S,S}}},49119:function(V,B,e){var p=e(71828),L=e(44467),n=e(27670).c;V.exports=function(y,h,g,t){var r=t.type,l=t.attributes,a=t.handleDefaults,s=t.partition||"x",c=h._subplots[r],u=c.length,b=u&&c[0].replace(/\d+$/,""),f,w;function v(M,P){return p.coerce(f,w,l,M,P)}for(var o=0;o<u;o++){var d=c[o];y[d]?f=y[d]:f=y[d]={},w=L.newContainer(h,d,b),t.noUirevision||v("uirevision",h.uirevision);var S={};S[s]=[o/u,(o+1)/u],n(w,h,v,S),t.id=d,a(f,w,v,t)}}},5386:function(V,B,e){var p=e(31562);p.FORMAT_LINK,p.DATE_FORMAT_LINK;function L(n){var C=n.description?" "+n.description:"",y=n.keys||[];if(y.length>0){for(var h=[],g=0;g<y.length;g++)h[g]="`"+y[g]+"`";C=C+"Finally, the template string has access to ",y.length===1?C=C+"variable "+h[0]:C=C+"variables "+h.slice(0,-1).join(", ")+" and "+h.slice(-1)+"."}return C}B.fF=function(n,C){n=n||{},C=C||{},L(C);var y={valType:"string",dflt:"",editType:n.editType||"none"};return n.arrayOk!==!1&&(y.arrayOk=!0),y},B.si=function(n,C){n=n||{},C=C||{},L(C);var y={valType:"string",dflt:"",editType:n.editType||"calc"};return n.arrayOk!==!1&&(y.arrayOk=!0),y},B.R=function(n,C){n=n||{},C=C||{},n.newshape,L(C);var y={valType:"string",dflt:"",editType:n.editType||"arraydraw"};return y}},61639:function(V,B,e){var p=e(64380),L=e(27659).AU,n=e(71828).counterRegex,C="ternary";B.name=C;var y=B.attr="subplot";B.idRoot=C,B.idRegex=B.attrRegex=n(C);var h=B.attributes={};h[y]={valType:"subplotid",dflt:"ternary",editType:"calc"},B.layoutAttributes=e(81367),B.supplyLayoutDefaults=e(25369),B.plot=function(t){for(var r=t._fullLayout,l=t.calcdata,a=r._subplots[C],s=0;s<a.length;s++){var c=a[s],u=L(l,C,c),b=r[c]._subplot;b||(b=new p({id:c,graphDiv:t,container:r._ternarylayer.node()},r),r[c]._subplot=b),b.plot(u,r,t._promises)}},B.clean=function(g,t,r,l){for(var a=l._subplots[C]||[],s=0;s<a.length;s++){var c=a[s],u=l[c]._subplot;!t[c]&&u&&(u.plotContainer.remove(),u.clipDef.remove(),u.clipDefRelative.remove(),u.layers["a-title"].remove(),u.layers["b-title"].remove(),u.layers["c-title"].remove())}}},81367:function(V,B,e){var p=e(22399),L=e(27670).Y,n=e(13838),C=e(30962).overrideAll,y=e(1426).extendFlat,h={title:{text:n.title.text,font:n.title.font},color:n.color,tickmode:n.minor.tickmode,nticks:y({},n.nticks,{dflt:6,min:1}),tick0:n.tick0,dtick:n.dtick,tickvals:n.tickvals,ticktext:n.ticktext,ticks:n.ticks,ticklen:n.ticklen,tickwidth:n.tickwidth,tickcolor:n.tickcolor,ticklabelstep:n.ticklabelstep,showticklabels:n.showticklabels,labelalias:n.labelalias,showtickprefix:n.showtickprefix,tickprefix:n.tickprefix,showticksuffix:n.showticksuffix,ticksuffix:n.ticksuffix,showexponent:n.showexponent,exponentformat:n.exponentformat,minexponent:n.minexponent,separatethousands:n.separatethousands,tickfont:n.tickfont,tickangle:n.tickangle,tickformat:n.tickformat,tickformatstops:n.tickformatstops,hoverformat:n.hoverformat,showline:y({},n.showline,{dflt:!0}),linecolor:n.linecolor,linewidth:n.linewidth,showgrid:y({},n.showgrid,{dflt:!0}),gridcolor:n.gridcolor,gridwidth:n.gridwidth,griddash:n.griddash,layer:n.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:n._deprecated.title,titlefont:n._deprecated.titlefont}},g=V.exports=C({domain:L({name:"ternary"}),bgcolor:{valType:"color",dflt:p.background},sum:{valType:"number",dflt:1,min:0},aaxis:h,baxis:h,caxis:h},"plot","from-root");g.uirevision={valType:"any",editType:"none"},g.aaxis.uirevision=g.baxis.uirevision=g.caxis.uirevision={valType:"any",editType:"none"}},25369:function(V,B,e){var p=e(7901),L=e(44467),n=e(71828),C=e(49119),y=e(96115),h=e(89426),g=e(38701),t=e(26218),r=e(92128),l=e(81367),a=["aaxis","baxis","caxis"];V.exports=function(b,f,w){C(b,f,w,{type:"ternary",attributes:l,handleDefaults:s,font:f.font,paper_bgcolor:f.paper_bgcolor})};function s(u,b,f,w){var v=f("bgcolor"),o=f("sum");w.bgColor=p.combine(v,w.paper_bgcolor);for(var d,S,M,P=0;P<a.length;P++)d=a[P],S=u[d]||{},M=L.newContainer(b,d),M._name=d,c(S,M,w,b);var x=b.aaxis,E=b.baxis,T=b.caxis;x.min+E.min+T.min>=o&&(x.min=0,E.min=0,T.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function c(u,b,f,w){var v=l[b._name];function o(i,R){return n.coerce(u,b,v,i,R)}o("uirevision",w.uirevision),b.type="linear";var d=o("color"),S=d!==v.color.dflt?d:f.font.color,M=b._name,P=M.charAt(0).toUpperCase(),x="Component "+P,E=o("title.text",x);b._hovertitle=E===x?E:P,n.coerceFont(o,"title.font",{family:f.font.family,size:n.bigFont(f.font.size),color:S}),o("min"),t(u,b,o,"linear"),h(u,b,o,"linear"),y(u,b,o,"linear"),g(u,b,o,{outerTicks:!0});var T=o("showticklabels");T&&(n.coerceFont(o,"tickfont",{family:f.font.family,size:f.font.size,color:S}),o("tickangle"),o("tickformat")),r(u,b,o,{dfltColor:d,bgColor:f.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:v}),o("hoverformat"),o("layer")}},64380:function(V,B,e){var p=e(39898),L=e(84267),n=e(73972),C=e(71828),y=C.strTranslate,h=C._,g=e(7901),t=e(91424),r=e(21994),l=e(1426).extendFlat,a=e(74875),s=e(89298),c=e(28569),u=e(30211),b=e(64505),f=b.freeMode,w=b.rectMode,v=e(92998),o=e(47322).prepSelect,d=e(47322).selectOnClick,S=e(47322).clearOutline,M=e(47322).clearSelectionsCache,P=e(85555);function x(O,F){this.id=O.id,this.graphDiv=O.graphDiv,this.init(F),this.makeFramework(F),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}V.exports=x;var E=x.prototype;E.init=function(O){this.container=O._ternarylayer,this.defs=O._defs,this.layoutId=O._uid,this.traceHash={},this.layers={}},E.plot=function(O,F){var U=this,Z=F[U.id],q=F._size;U._hasClipOnAxisFalse=!1;for(var J=0;J<O.length;J++){var te=O[J][0].trace;if(te.cliponaxis===!1){U._hasClipOnAxisFalse=!0;break}}U.updateLayers(Z),U.adjustLayout(Z,q),a.generalUpdatePerTraceModule(U.graphDiv,U,O,Z),U.layers.plotbg.select("path").call(g.fill,Z.bgcolor)},E.makeFramework=function(O){var F=this,U=F.graphDiv,Z=O[F.id],q=F.clipId="clip"+F.layoutId+F.id,J=F.clipIdRelative="clip-relative"+F.layoutId+F.id;F.clipDef=C.ensureSingleById(O._clips,"clipPath",q,function(te){te.append("path").attr("d","M0,0Z")}),F.clipDefRelative=C.ensureSingleById(O._clips,"clipPath",J,function(te){te.append("path").attr("d","M0,0Z")}),F.plotContainer=C.ensureSingle(F.container,"g",F.id),F.updateLayers(Z),t.setClipUrl(F.layers.backplot,q,U),t.setClipUrl(F.layers.grids,q,U)},E.updateLayers=function(O){var F=this,U=F.layers,Z=["draglayer","plotbg","backplot","grids"];O.aaxis.layer==="below traces"&&Z.push("aaxis","aline"),O.baxis.layer==="below traces"&&Z.push("baxis","bline"),O.caxis.layer==="below traces"&&Z.push("caxis","cline"),Z.push("frontplot"),O.aaxis.layer==="above traces"&&Z.push("aaxis","aline"),O.baxis.layer==="above traces"&&Z.push("baxis","bline"),O.caxis.layer==="above traces"&&Z.push("caxis","cline");var q=F.plotContainer.selectAll("g.toplevel").data(Z,String),J=["agrid","bgrid","cgrid"];q.enter().append("g").attr("class",function(te){return"toplevel "+te}).each(function(te){var fe=p.select(this);U[te]=fe,te==="frontplot"?fe.append("g").classed("scatterlayer",!0):te==="backplot"?fe.append("g").classed("maplayer",!0):te==="plotbg"?fe.append("path").attr("d","M0,0Z"):te==="aline"||te==="bline"||te==="cline"?fe.append("path"):te==="grids"&&J.forEach(function(K){U[K]=fe.append("g").classed("grid "+K,!0)})}),q.order()};var T=Math.sqrt(4/3);E.adjustLayout=function(O,F){var U=this,Z=O.domain,q=(Z.x[0]+Z.x[1])/2,J=(Z.y[0]+Z.y[1])/2,te=Z.x[1]-Z.x[0],fe=Z.y[1]-Z.y[0],K=te*F.w,Y=fe*F.h,W=O.sum,X=O.aaxis.min,re=O.baxis.min,se=O.caxis.min,Q,ee,le,oe,he,xe;K>T*Y?(oe=Y,le=oe*T):(le=K,oe=le/T),he=te*le/K,xe=fe*oe/Y,Q=F.l+F.w*q-le/2,ee=F.t+F.h*(1-J)-oe/2,U.x0=Q,U.y0=ee,U.w=le,U.h=oe,U.sum=W,U.xaxis={type:"linear",range:[X+2*se-W,W-X-2*re],domain:[q-he/2,q+he/2],_id:"x"},r(U.xaxis,U.graphDiv._fullLayout),U.xaxis.setScale(),U.xaxis.isPtWithinRange=function(We){return We.a>=U.aaxis.range[0]&&We.a<=U.aaxis.range[1]&&We.b>=U.baxis.range[1]&&We.b<=U.baxis.range[0]&&We.c>=U.caxis.range[1]&&We.c<=U.caxis.range[0]},U.yaxis={type:"linear",range:[X,W-re-se],domain:[J-xe/2,J+xe/2],_id:"y"},r(U.yaxis,U.graphDiv._fullLayout),U.yaxis.setScale(),U.yaxis.isPtWithinRange=function(){return!0};var Ae=U.yaxis.domain[0],Se=U.aaxis=l({},O.aaxis,{range:[X,W-re-se],side:"left",tickangle:(+O.aaxis.tickangle||0)-30,domain:[Ae,Ae+xe*T],anchor:"free",position:0,_id:"y",_length:le});r(Se,U.graphDiv._fullLayout),Se.setScale();var Oe=U.baxis=l({},O.baxis,{range:[W-X-se,re],side:"bottom",domain:U.xaxis.domain,anchor:"free",position:0,_id:"x",_length:le});r(Oe,U.graphDiv._fullLayout),Oe.setScale();var Ve=U.caxis=l({},O.caxis,{range:[W-X-re,se],side:"right",tickangle:(+O.caxis.tickangle||0)+30,domain:[Ae,Ae+xe*T],anchor:"free",position:0,_id:"y",_length:le});r(Ve,U.graphDiv._fullLayout),Ve.setScale();var Ee="M"+Q+","+(ee+oe)+"h"+le+"l-"+le/2+",-"+oe+"Z";U.clipDef.select("path").attr("d",Ee),U.layers.plotbg.select("path").attr("d",Ee);var Te="M0,"+oe+"h"+le+"l-"+le/2+",-"+oe+"Z";U.clipDefRelative.select("path").attr("d",Te);var Le=y(Q,ee);U.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Le),U.clipDefRelative.select("path").attr("transform",null);var Ge=y(Q-Oe._offset,ee+oe);U.layers.baxis.attr("transform",Ge),U.layers.bgrid.attr("transform",Ge);var He=y(Q+le/2,ee)+"rotate(30)"+y(0,-Se._offset);U.layers.aaxis.attr("transform",He),U.layers.agrid.attr("transform",He);var ke=y(Q+le/2,ee)+"rotate(-30)"+y(0,-Ve._offset);U.layers.caxis.attr("transform",ke),U.layers.cgrid.attr("transform",ke),U.drawAxes(!0),U.layers.aline.select("path").attr("d",Se.showline?"M"+Q+","+(ee+oe)+"l"+le/2+",-"+oe:"M0,0").call(g.stroke,Se.linecolor||"#000").style("stroke-width",(Se.linewidth||0)+"px"),U.layers.bline.select("path").attr("d",Oe.showline?"M"+Q+","+(ee+oe)+"h"+le:"M0,0").call(g.stroke,Oe.linecolor||"#000").style("stroke-width",(Oe.linewidth||0)+"px"),U.layers.cline.select("path").attr("d",Ve.showline?"M"+(Q+le/2)+","+ee+"l"+le/2+","+oe:"M0,0").call(g.stroke,Ve.linecolor||"#000").style("stroke-width",(Ve.linewidth||0)+"px"),U.graphDiv._context.staticPlot||U.initInteractions(),t.setClipUrl(U.layers.frontplot,U._hasClipOnAxisFalse?null:U.clipId,U.graphDiv)},E.drawAxes=function(O){var F=this,U=F.graphDiv,Z=F.id.substr(7)+"title",q=F.layers,J=F.aaxis,te=F.baxis,fe=F.caxis;if(F.drawAx(J),F.drawAx(te),F.drawAx(fe),O){var K=Math.max(J.showticklabels?J.tickfont.size/2:0,(fe.showticklabels?fe.tickfont.size*.75:0)+(fe.ticks==="outside"?fe.ticklen*.87:0)),Y=(te.showticklabels?te.tickfont.size:0)+(te.ticks==="outside"?te.ticklen:0)+3;q["a-title"]=v.draw(U,"a"+Z,{propContainer:J,propName:F.id+".aaxis.title",placeholder:h(U,"Click to enter Component A title"),attributes:{x:F.x0+F.w/2,y:F.y0-J.title.font.size/3-K,"text-anchor":"middle"}}),q["b-title"]=v.draw(U,"b"+Z,{propContainer:te,propName:F.id+".baxis.title",placeholder:h(U,"Click to enter Component B title"),attributes:{x:F.x0-Y,y:F.y0+F.h+te.title.font.size*.83+Y,"text-anchor":"middle"}}),q["c-title"]=v.draw(U,"c"+Z,{propContainer:fe,propName:F.id+".caxis.title",placeholder:h(U,"Click to enter Component C title"),attributes:{x:F.x0+F.w+Y,y:F.y0+F.h+fe.title.font.size*.83+Y,"text-anchor":"middle"}})}},E.drawAx=function(O){var F=this,U=F.graphDiv,Z=O._name,q=Z.charAt(0),J=O._id,te=F.layers[Z],fe=30,K=q+"tickLayout",Y=i(O);F[K]!==Y&&(te.selectAll("."+J+"tick").remove(),F[K]=Y),O.setScale();var W=s.calcTicks(O),X=s.clipEnds(O,W),re=s.makeTransTickFn(O),se=s.getTickSigns(O)[2],Q=C.deg2rad(fe),ee=se*(O.linewidth||1)/2,le=se*O.ticklen,oe=F.w,he=F.h,xe=q==="b"?"M0,"+ee+"l"+Math.sin(Q)*le+","+Math.cos(Q)*le:"M"+ee+",0l"+Math.cos(Q)*le+","+-Math.sin(Q)*le,Ae={a:"M0,0l"+he+",-"+oe/2,b:"M0,0l-"+oe/2+",-"+he,c:"M0,0l-"+he+","+oe/2}[q];s.drawTicks(U,O,{vals:O.ticks==="inside"?X:W,layer:te,path:xe,transFn:re,crisp:!1}),s.drawGrid(U,O,{vals:X,layer:F.layers[q+"grid"],path:Ae,transFn:re,crisp:!1}),s.drawLabels(U,O,{vals:W,layer:te,transFn:re,labelFns:s.makeLabelFns(O,0,fe)})};function i(O){return O.ticks+String(O.ticklen)+String(O.showticklabels)}var R=P.MINZOOM/2+.87,A="m-0.87,.5h"+R+"v3h-"+(R+5.2)+"l"+(R/2+2.6)+",-"+(R*.87+4.5)+"l2.6,1.5l-"+R/2+","+R*.87+"Z",k="m0.87,.5h-"+R+"v3h"+(R+5.2)+"l-"+(R/2+2.6)+",-"+(R*.87+4.5)+"l-2.6,1.5l"+R/2+","+R*.87+"Z",_="m0,1l"+R/2+","+R*.87+"l2.6,-1.5l-"+(R/2+2.6)+",-"+(R*.87+4.5)+"l-"+(R/2+2.6)+","+(R*.87+4.5)+"l2.6,1.5l"+R/2+",-"+R*.87+"Z",H="m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2Z",z=!0;E.clearOutline=function(){M(this.dragOptions),S(this.dragOptions.gd)},E.initInteractions=function(){var O=this,F=O.layers.plotbg.select("path").node(),U=O.graphDiv,Z=U._fullLayout._zoomlayer,q,J;this.dragOptions={element:F,gd:U,plotinfo:{id:O.id,domain:U._fullLayout[O.id].domain,xaxis:O.xaxis,yaxis:O.yaxis},subplot:O.id,prepFn:function(Ge,He,ke){O.dragOptions.xaxes=[O.xaxis],O.dragOptions.yaxes=[O.yaxis],q=U._fullLayout._invScaleX,J=U._fullLayout._invScaleY;var We=O.dragOptions.dragmode=U._fullLayout.dragmode;f(We)?O.dragOptions.minDrag=1:O.dragOptions.minDrag=void 0,We==="zoom"?(O.dragOptions.moveFn=Oe,O.dragOptions.clickFn=oe,O.dragOptions.doneFn=Ve,he(Ge,He,ke)):We==="pan"?(O.dragOptions.moveFn=Te,O.dragOptions.clickFn=oe,O.dragOptions.doneFn=Le,Ee(),O.clearOutline(U)):(w(We)||f(We))&&o(Ge,He,ke,O.dragOptions,We)}};var te,fe,K,Y,W,X,re,se,Q,ee;function le(Ge){var He={};return He[O.id+".aaxis.min"]=Ge.a,He[O.id+".baxis.min"]=Ge.b,He[O.id+".caxis.min"]=Ge.c,He}function oe(Ge,He){var ke=U._fullLayout.clickmode;N(U),Ge===2&&(U.emit("plotly_doubleclick",null),n.call("_guiRelayout",U,le({a:0,b:0,c:0}))),ke.indexOf("select")>-1&&Ge===1&&d(He,U,[O.xaxis],[O.yaxis],O.id,O.dragOptions),ke.indexOf("event")>-1&&u.click(U,He,O.id)}function he(Ge,He,ke){var We=F.getBoundingClientRect();te=He-We.left,fe=ke-We.top,U._fullLayout._calcInverseTransform(U);var nt=U._fullLayout._invTransform,qe=C.apply3DTransform(nt)(te,fe);te=qe[0],fe=qe[1],K={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},W=K,Y=O.aaxis.range[1]-K.a,X=L(O.graphDiv._fullLayout[O.id].bgcolor).getLuminance(),re="M0,"+O.h+"L"+O.w/2+", 0L"+O.w+","+O.h+"Z",se=!1,Q=Z.append("path").attr("class","zoombox").attr("transform",y(O.x0,O.y0)).style({fill:X>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",re),ee=Z.append("path").attr("class","zoombox-corners").attr("transform",y(O.x0,O.y0)).style({fill:g.background,stroke:g.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),O.clearOutline(U)}function xe(Ge,He){return 1-He/O.h}function Ae(Ge,He){return 1-(Ge+(O.h-He)/Math.sqrt(3))/O.w}function Se(Ge,He){return(Ge-(O.h-He)/Math.sqrt(3))/O.w}function Oe(Ge,He){var ke=te+Ge*q,We=fe+He*J,nt=Math.max(0,Math.min(1,xe(te,fe),xe(ke,We))),qe=Math.max(0,Math.min(1,Ae(te,fe),Ae(ke,We))),Qe=Math.max(0,Math.min(1,Se(te,fe),Se(ke,We))),tt=(nt/2+Qe)*O.w,vt=(1-nt/2-qe)*O.w,dt=(tt+vt)/2,gt=vt-tt,Mt=(1-nt)*O.h,Rt=Mt-gt/T;gt<P.MINZOOM?(W=K,Q.attr("d",re),ee.attr("d","M0,0Z")):(W={a:K.a+nt*Y,b:K.b+qe*Y,c:K.c+Qe*Y},Q.attr("d",re+"M"+tt+","+Mt+"H"+vt+"L"+dt+","+Rt+"L"+tt+","+Mt+"Z"),ee.attr("d","M"+te+","+fe+H+"M"+tt+","+Mt+A+"M"+vt+","+Mt+k+"M"+dt+","+Rt+_)),se||(Q.transition().style("fill",X>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ee.transition().style("opacity",1).duration(200),se=!0),U.emit("plotly_relayouting",le(W))}function Ve(){N(U),W!==K&&(n.call("_guiRelayout",U,le(W)),z&&U.data&&U._context.showTips&&(C.notifier(h(U,"Double-click to zoom back out"),"long"),z=!1))}function Ee(){K={a:O.aaxis.range[0],b:O.baxis.range[1],c:O.caxis.range[1]},W=K}function Te(Ge,He){var ke=Ge/O.xaxis._m,We=He/O.yaxis._m;W={a:K.a-We,b:K.b+(ke+We)/2,c:K.c-(ke-We)/2};var nt=[W.a,W.b,W.c].sort(C.sorterAsc),qe={a:nt.indexOf(W.a),b:nt.indexOf(W.b),c:nt.indexOf(W.c)};nt[0]<0&&(nt[1]+nt[0]/2<0?(nt[2]+=nt[0]+nt[1],nt[0]=nt[1]=0):(nt[2]+=nt[0]/2,nt[1]+=nt[0]/2,nt[0]=0),W={a:nt[qe.a],b:nt[qe.b],c:nt[qe.c]},He=(K.a-W.a)*O.yaxis._m,Ge=(K.c-W.c-K.b+W.b)*O.xaxis._m);var Qe=y(O.x0+Ge,O.y0+He);O.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Qe);var tt=y(-Ge,-He);O.clipDefRelative.select("path").attr("transform",tt),O.aaxis.range=[W.a,O.sum-W.b-W.c],O.baxis.range=[O.sum-W.a-W.c,W.b],O.caxis.range=[O.sum-W.a-W.b,W.c],O.drawAxes(!1),O._hasClipOnAxisFalse&&O.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,O),U.emit("plotly_relayouting",le(W))}function Le(){n.call("_guiRelayout",U,le(W))}F.onmousemove=function(Ge){u.hover(U,Ge,O.id),U._fullLayout._lasthover=F,U._fullLayout._hoversubplot=O.id},F.onmouseout=function(Ge){U._dragging||c.unhover(U,Ge)},c.init(this.dragOptions)};function N(O){p.select(O).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}},73972:function(V,B,e){var p=e(47769),L=e(64213),n=e(75138),C=e(41965),y=e(24401).addStyleRule,h=e(1426),g=e(9012),t=e(10820),r=h.extendFlat,l=h.extendDeepAll;B.modules={},B.allCategories={},B.allTypes=[],B.subplotsRegistry={},B.transformsRegistry={},B.componentsRegistry={},B.layoutArrayContainers=[],B.layoutArrayRegexes=[],B.traceLayoutAttributes={},B.localeRegistry={},B.apiMethodRegistry={},B.collectableSubplotTypes=null,B.register=function(M){if(B.collectableSubplotTypes=null,M)M&&!Array.isArray(M)&&(M=[M]);else throw new Error("No argument passed to Plotly.register.");for(var P=0;P<M.length;P++){var x=M[P];if(!x)throw new Error("Invalid module was attempted to be registered!");switch(x.moduleType){case"trace":a(x);break;case"transform":u(x);break;case"component":c(x);break;case"locale":b(x);break;case"apiMethod":var E=x.name;B.apiMethodRegistry[E]=x.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},B.getModule=function(S){var M=B.modules[d(S)];return M?M._module:!1},B.traceIs=function(S,M){if(S=d(S),S==="various")return!1;var P=B.modules[S];return P||(S&&p.log("Unrecognized trace type "+S+"."),P=B.modules[g.type.dflt]),!!P.categories[M]},B.getTransformIndices=function(S,M){for(var P=[],x=S.transforms||[],E=0;E<x.length;E++)x[E].type===M&&P.push(E);return P},B.hasTransform=function(S,M){for(var P=S.transforms||[],x=0;x<P.length;x++)if(P[x].type===M)return!0;return!1},B.getComponentMethod=function(S,M){var P=B.componentsRegistry[S];return P&&P[M]||L},B.call=function(){var S=arguments[0],M=[].slice.call(arguments,1);return B.apiMethodRegistry[S].apply(null,M)};function a(S){var M=S.name,P=S.categories,x=S.meta;if(B.modules[M]){p.log("Type "+M+" already registered");return}B.subplotsRegistry[S.basePlotModule.name]||s(S.basePlotModule);for(var E={},T=0;T<P.length;T++)E[P[T]]=!0,B.allCategories[P[T]]=!0;B.modules[M]={_module:S,categories:E},x&&Object.keys(x).length&&(B.modules[M].meta=x),B.allTypes.push(M);for(var i in B.componentsRegistry)w(i,M);S.layoutAttributes&&r(B.traceLayoutAttributes,S.layoutAttributes);var R=S.basePlotModule,A=R.name;if(A==="mapbox"){var k=R.constants.styleRules;for(var _ in k)y(".js-plotly-plot .plotly .mapboxgl-"+_,k[_])}(A==="geo"||A==="mapbox")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function s(S){var M=S.name;if(B.subplotsRegistry[M]){p.log("Plot type "+M+" already registered.");return}f(S),B.subplotsRegistry[M]=S;for(var P in B.componentsRegistry)o(P,S.name)}function c(S){if(typeof S.name!="string")throw new Error("Component module *name* must be a string.");var M=S.name;B.componentsRegistry[M]=S,S.layoutAttributes&&(S.layoutAttributes._isLinkedToArray&&n(B.layoutArrayContainers,M),f(S));for(var P in B.modules)w(M,P);for(var x in B.subplotsRegistry)o(M,x);for(var E in B.transformsRegistry)v(M,E);S.schema&&S.schema.layout&&l(t,S.schema.layout)}function u(S){if(typeof S.name!="string")throw new Error("Transform module *name* must be a string.");var M="Transform module "+S.name,P=typeof S.transform=="function",x=typeof S.calcTransform=="function";if(!P&&!x)throw new Error(M+" is missing a *transform* or *calcTransform* method.");P&&x&&p.log([M+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),C(S.attributes)||p.log(M+" registered without an *attributes* object."),typeof S.supplyDefaults!="function"&&p.log(M+" registered without a *supplyDefaults* method."),B.transformsRegistry[S.name]=S;for(var E in B.componentsRegistry)v(E,S.name)}function b(S){var M=S.name,P=M.split("-")[0],x=S.dictionary,E=S.format,T=x&&Object.keys(x).length,i=E&&Object.keys(E).length,R=B.localeRegistry,A=R[M];if(A||(R[M]=A={}),P!==M){var k=R[P];k||(R[P]=k={}),T&&k.dictionary===A.dictionary&&(k.dictionary=x),i&&k.format===A.format&&(k.format=E)}T&&(A.dictionary=x),i&&(A.format=E)}function f(S){if(S.layoutAttributes){var M=S.layoutAttributes._arrayAttrRegexps;if(M)for(var P=0;P<M.length;P++)n(B.layoutArrayRegexes,M[P])}}function w(S,M){var P=B.componentsRegistry[S].schema;if(!(!P||!P.traces)){var x=P.traces[M];x&&l(B.modules[M]._module.attributes,x)}}function v(S,M){var P=B.componentsRegistry[S].schema;if(!(!P||!P.transforms)){var x=P.transforms[M];x&&l(B.transformsRegistry[M].attributes,x)}}function o(S,M){var P=B.componentsRegistry[S].schema;if(!(!P||!P.subplots)){var x=B.subplotsRegistry[M],E=x.layoutAttributes,T=x.attr==="subplot"?x.name:x.attr;Array.isArray(T)&&(T=T[0]);var i=P.subplots[T];E&&i&&l(E,i)}}function d(S){return typeof S=="object"&&(S=S.type),S}},61914:function(V,B,e){var p=e(73972),L=e(71828),n=L.extendFlat,C=L.extendDeep;function y(g){var t;switch(g){case"themes__thumb":t={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":t={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:t={}}return t}function h(g){var t=["xaxis","yaxis","zaxis"];return t.indexOf(g.slice(0,5))>-1}V.exports=function(t,r){var l,a=t.data,s=t.layout,c=C([],a),u=C({},s,y(r.tileClass)),b=t._context||{};if(r.width&&(u.width=r.width),r.height&&(u.height=r.height),r.tileClass==="thumbnail"||r.tileClass==="themes__thumb"){u.annotations=[];var f=Object.keys(u);for(l=0;l<f.length;l++)h(f[l])&&(u[f[l]].title={text:""});for(l=0;l<c.length;l++){var w=c[l];w.showscale=!1,w.marker&&(w.marker.showscale=!1),p.traceIs(w,"pie-like")&&(w.textposition="none")}}if(Array.isArray(r.annotations))for(l=0;l<r.annotations.length;l++)u.annotations.push(r.annotations[l]);var v=Object.keys(u).filter(function(P){return P.match(/^scene\d*$/)});if(v.length){var o={};for(r.tileClass==="thumbnail"&&(o={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),l=0;l<v.length;l++){var d=u[v[l]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),n(d.xaxis,o),n(d.yaxis,o),n(d.zaxis,o),d._scene=null}}var S=document.createElement("div");r.tileClass&&(S.className=r.tileClass);var M={gd:S,td:S,layout:u,data:c,config:{staticPlot:r.staticPlot===void 0?!0:r.staticPlot,plotGlPixelRatio:r.plotGlPixelRatio===void 0?2:r.plotGlPixelRatio,displaylogo:r.displaylogo||!1,showLink:r.showLink||!1,showTips:r.showTips||!1,mapboxAccessToken:b.mapboxAccessToken}};return r.setBackground!=="transparent"&&(M.config.setBackground=r.setBackground||"opaque"),M.gd.defaultLayout=y(r.tileClass),M}},7239:function(V,B,e){var p=e(71828),L=e(403),n=e(22435),C=e(25095);function y(h,g){var t;return p.isPlainObject(h)||(t=p.getGraphDiv(h)),g=g||{},g.format=g.format||"png",g.width=g.width||null,g.height=g.height||null,g.imageDataOnly=!0,new Promise(function(r,l){t&&t._snapshotInProgress&&l(new Error("Snapshotting already in progress.")),p.isIE()&&g.format!=="svg"&&l(new Error(C.MSG_IE_BAD_FORMAT)),t&&(t._snapshotInProgress=!0);var a=L(h,g),s=g.filename||h.fn||"newplot";s+="."+g.format.replace("-","."),a.then(function(c){return t&&(t._snapshotInProgress=!1),n(c,s,g.format)}).then(function(c){r(c)}).catch(function(c){t&&(t._snapshotInProgress=!1),l(c)})})}V.exports=y},22435:function(V,B,e){var p=e(71828),L=e(25095);function n(C,y,h){var g=document.createElement("a"),t="download"in g,r=new Promise(function(l,a){var s,c;if(p.isIE())return s=L.createBlob(C,"svg"),window.navigator.msSaveBlob(s,y),s=null,l(y);if(t)return s=L.createBlob(C,h),c=L.createObjectURL(s),g.href=c,g.download=y,document.body.appendChild(g),g.click(),document.body.removeChild(g),L.revokeObjectURL(c),s=null,l(y);if(p.isSafari()){var u=h==="svg"?",":";base64,";return L.octetStream(u+encodeURIComponent(C)),l(y)}a(new Error("download error"))});return r}V.exports=n},25095:function(V,B,e){var p=e(73972);B.getDelay=function(C){return C._has&&(C._has("gl3d")||C._has("gl2d")||C._has("mapbox"))?500:0},B.getRedrawFunc=function(C){return function(){p.getComponentMethod("colorbar","draw")(C)}},B.encodeSVG=function(C){return"data:image/svg+xml,"+encodeURIComponent(C)},B.encodeJSON=function(C){return"data:application/json,"+encodeURIComponent(C)};var L=window.URL||window.webkitURL;B.createObjectURL=function(C){return L.createObjectURL(C)},B.revokeObjectURL=function(C){return L.revokeObjectURL(C)},B.createBlob=function(C,y){if(y==="svg")return new window.Blob([C],{type:"image/svg+xml;charset=utf-8"});if(y==="full-json")return new window.Blob([C],{type:"application/json;charset=utf-8"});var h=n(window.atob(C));return new window.Blob([h],{type:"image/"+y})},B.octetStream=function(C){document.location.href="data:application/octet-stream"+C};function n(C){for(var y=C.length,h=new ArrayBuffer(y),g=new Uint8Array(h),t=0;t<y;t++)g[t]=C.charCodeAt(t);return h}B.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,B.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(V,B,e){var p=e(25095),L={getDelay:p.getDelay,getRedrawFunc:p.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};V.exports=L},70942:function(V,B,e){var p=e(71828),L=e(15398).EventEmitter,n=e(25095);function C(y){var h=y.emitter||new L,g=new Promise(function(t,r){var l=window.Image,a=y.svg,s=y.format||"png";if(p.isIE()&&s!=="svg"){var c=new Error(n.MSG_IE_BAD_FORMAT);return r(c),y.promise?g:h.emit("error",c)}var u=y.canvas,b=y.scale||1,f=y.width||300,w=y.height||150,v=b*f,o=b*w,d=u.getContext("2d",{willReadFrequently:!0}),S=new l,M,P;s==="svg"||p.isSafari()?P=n.encodeSVG(a):(M=n.createBlob(a,"svg"),P=n.createObjectURL(M)),u.width=v,u.height=o,S.onload=function(){var x;switch(M=null,n.revokeObjectURL(P),s!=="svg"&&d.drawImage(S,0,0,v,o),s){case"jpeg":x=u.toDataURL("image/jpeg");break;case"png":x=u.toDataURL("image/png");break;case"webp":x=u.toDataURL("image/webp");break;case"svg":x=P;break;default:var E="Image format is not jpeg, png, svg or webp.";if(r(new Error(E)),!y.promise)return h.emit("error",E)}t(x),y.promise||h.emit("success",x)},S.onerror=function(x){if(M=null,n.revokeObjectURL(P),r(x),!y.promise)return h.emit("error",x)},S.src=P});return y.promise?g:h}V.exports=C},56395:function(V,B,e){var p=e(15398).EventEmitter,L=e(73972),n=e(71828),C=e(25095),y=e(61914),h=e(5900),g=e(70942);function t(r,l){var a=new p,s=y(r,{format:"png"}),c=s.gd;c.style.position="absolute",c.style.left="-5000px",document.body.appendChild(c);function u(){var f=C.getDelay(c._fullLayout);setTimeout(function(){var w=h(c),v=document.createElement("canvas");v.id=n.randstr(),a=g({format:l.format,width:c._fullLayout.width,height:c._fullLayout.height,canvas:v,emitter:a,svg:w}),a.clean=function(){c&&document.body.removeChild(c)}},f)}var b=C.getRedrawFunc(c);return L.call("_doPlot",c,s.data,s.layout,s.config).then(b).then(u).catch(function(f){a.emit("error",f)}),a}V.exports=t},5900:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(7901),y=e(77922),h=/"/g,g="TOBESTRIPPED",t=new RegExp('("'+g+")|("+g+'")',"g");function r(a){var s=p.select("body").append("div").style({display:"none"}).html(""),c=a.replace(/(&[^;]*;)/gi,function(u){return u==="&lt;"?"&#60;":u==="&rt;"?"&#62;":u.indexOf("<")!==-1||u.indexOf(">")!==-1?"":s.html(u).text()});return s.remove(),c}function l(a){return a.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}V.exports=function(s,c,u){var b=s._fullLayout,f=b._paper,w=b._toppaper,v=b.width,o=b.height,d;f.insert("rect",":first-child").call(n.setRect,0,0,v,o).call(C.fill,b.paper_bgcolor);var S=b._basePlotModules||[];for(d=0;d<S.length;d++){var M=S[d];M.toSVG&&M.toSVG(s)}if(w){var P=w.node().childNodes,x=Array.prototype.slice.call(P);for(d=0;d<x.length;d++){var E=x[d];E.childNodes.length&&f.node().appendChild(E)}}b._draggers&&b._draggers.remove(),f.node().style.background="",f.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var i=p.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){i.remove();return}else i.style({visibility:null,display:null});var R=this.style.fontFamily;R&&R.indexOf('"')!==-1&&i.style("font-family",R.replace(h,g))}),f.selectAll(".gradient_filled,.pattern_filled").each(function(){var i=p.select(this),R=this.style.fill;R&&R.indexOf("url(")!==-1&&i.style("fill",R.replace(h,g));var A=this.style.stroke;A&&A.indexOf("url(")!==-1&&i.style("stroke",A.replace(h,g))}),(c==="pdf"||c==="eps")&&f.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),f.node().setAttributeNS(y.xmlns,"xmlns",y.svg),f.node().setAttributeNS(y.xmlns,"xmlns:xlink",y.xlink),c==="svg"&&u&&(f.attr("width",u*v),f.attr("height",u*o),f.attr("viewBox","0 0 "+v+" "+o));var T=new window.XMLSerializer().serializeToString(f.node());return T=r(T),T=l(T),T=T.replace(t,"'"),L.isIE()&&(T=T.replace(/"/gi,"'"),T=T.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),T=T.replace(/(\\')/gi,'"')),T}},75341:function(V,B,e){var p=e(71828);V.exports=function(n,C){for(var y=0;y<n.length;y++)n[y].i=y;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.hovertext,n,"htx");var h=C.marker;if(h){p.mergeArray(h.opacity,n,"mo",!0),p.mergeArray(h.color,n,"mc");var g=h.line;g&&(p.mergeArray(g.color,n,"mlc"),p.mergeArrayCastPositive(g.width,n,"mlw"))}}},1486:function(V,B,e){var p=e(82196),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(5386).si,y=e(50693),h=e(41940),g=e(97313),t=e(79952).u,r=e(1426).extendFlat,l=h({editType:"calc",arrayOk:!0,colorEditType:"style"}),a=p.marker,s=a.line,c=r({},s.width,{dflt:0}),u=r({width:c,editType:"calc"},y("marker.line")),b=r({line:u,editType:"calc"},y("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});V.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),text:p.text,texttemplate:C({editType:"plot"},{keys:g.eventDataKeys}),hovertext:p.hovertext,hovertemplate:n({},{keys:g.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:r({},l,{}),insidetextfont:r({},l,{}),outsidetextfont:r({},l,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:r({},p.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:b,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:{marker:{opacity:p.selected.marker.opacity,color:p.selected.marker.color,editType:"style"},textfont:p.selected.textfont,editType:"style"},unselected:{marker:{opacity:p.unselected.marker.opacity,color:p.unselected.marker.color,editType:"style"},textfont:p.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(V,B,e){var p=e(89298),L=e(42973),n=e(52075).hasColorscale,C=e(78803),y=e(75341),h=e(66279);V.exports=function(t,r){var l=p.getFromId(t,r.xaxis||"x"),a=p.getFromId(t,r.yaxis||"y"),s,c,u,b,f,w,v={msUTC:!!(r.base||r.base===0)};r.orientation==="h"?(s=l.makeCalcdata(r,"x",v),u=a.makeCalcdata(r,"y"),b=L(r,a,"y",u),f=!!r.yperiodalignment,w="y"):(s=a.makeCalcdata(r,"y",v),u=l.makeCalcdata(r,"x"),b=L(r,l,"x",u),f=!!r.xperiodalignment,w="x"),c=b.vals;for(var o=Math.min(c.length,s.length),d=new Array(o),S=0;S<o;S++)d[S]={p:c[S],s:s[S]},f&&(d[S].orig_p=u[S],d[S][w+"End"]=b.ends[S],d[S][w+"Start"]=b.starts[S]),r.ids&&(d[S].id=String(r.ids[S]));return n(r,"marker")&&C(t,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),n(r,"marker.line")&&C(t,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}),y(d,r),h(d,r),d}},97313:function(V){V.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(V,B,e){var p=e(92770),L=e(71828).isArrayOrTypedArray,n=e(50606).BADNUM,C=e(73972),y=e(89298),h=e(99082).getAxisGroup,g=e(61546);function t(T,i){for(var R=i.xaxis,A=i.yaxis,k=T._fullLayout,_=T._fullData,H=T.calcdata,z=[],N=[],O=0;O<_.length;O++){var F=_[O];if(F.visible===!0&&C.traceIs(F,"bar")&&F.xaxis===R._id&&F.yaxis===A._id&&(F.orientation==="h"?z.push(H[O]):N.push(H[O]),F._computePh))for(var U=T.calcdata[O],Z=0;Z<U.length;Z++)typeof U[Z].ph0=="function"&&(U[Z].ph0=U[Z].ph0()),typeof U[Z].ph1=="function"&&(U[Z].ph1=U[Z].ph1())}var q={xCat:R.type==="category"||R.type==="multicategory",yCat:A.type==="category"||A.type==="multicategory",mode:k.barmode,norm:k.barnorm,gap:k.bargap,groupgap:k.bargroupgap};r(T,R,A,N,q),r(T,A,R,z,q)}function r(T,i,R,A,k){if(A.length){var _,H,z,N,O;switch(l(R,A),k.mode){case"overlay":a(i,R,A,k);break;case"group":for(_=[],H=[],z=0;z<A.length;z++)N=A[z],O=N[0].trace,O.offset===void 0?H.push(N):_.push(N);H.length&&s(T,i,R,H,k),_.length&&a(i,R,_,k);break;case"stack":case"relative":for(_=[],H=[],z=0;z<A.length;z++)N=A[z],O=N[0].trace,O.base===void 0?H.push(N):_.push(N);H.length&&c(T,i,R,H,k),_.length&&a(i,R,_,k);break}x(A,i)}}function l(T,i){var R,A;for(R=0;R<i.length;R++){var k=i[R],_=k[0].trace,H=_.type==="funnel"?_._base:_.base,z,N=_.orientation==="h"?_.xcalendar:_.ycalendar,O=T.type==="category"||T.type==="multicategory"?function(){return null}:T.d2c;if(L(H)){for(A=0;A<Math.min(H.length,k.length);A++)z=O(H[A],0,N),p(z)?(k[A].b=+z,k[A].hasB=1):k[A].b=0;for(;A<k.length;A++)k[A].b=0}else{z=O(H,0,N);var F=p(z);for(z=F?z:0,A=0;A<k.length;A++)k[A].b=z,F&&(k[A].hasB=1)}}}function a(T,i,R,A){for(var k=0;k<R.length;k++){var _=R[k],H=new g([_],{posAxis:T,sepNegVal:!1,overlapNoMerge:!A.norm});u(T,H,A),A.norm?(S(H),P(i,H,A)):o(i,H)}}function s(T,i,R,A,k){var _=new g(A,{posAxis:i,sepNegVal:!1,overlapNoMerge:!k.norm});b(T,i,_,k),M(_,i),k.norm?(S(_),P(R,_,k)):o(R,_)}function c(T,i,R,A,k){var _=new g(A,{posAxis:i,sepNegVal:k.mode==="relative",overlapNoMerge:!(k.norm||k.mode==="stack"||k.mode==="relative")});u(i,_,k),d(R,_,k);for(var H=0;H<A.length;H++)for(var z=A[H],N=0;N<z.length;N++){var O=z[N];if(O.s!==n){var F=O.b+O.s===_.get(O.p,O.s);F&&(O._outmost=!0)}}k.norm&&P(R,_,k)}function u(T,i,R){for(var A=i.minDiff,k=i.traces,_=A*(1-R.gap),H=_,z=H*(1-(R.groupgap||0)),N=-z/2,O=0;O<k.length;O++){var F=k[O],U=F[0].t;U.barwidth=z,U.poffset=N,U.bargroupwidth=_,U.bardelta=A}i.binWidth=k[0][0].t.barwidth/100,f(i),w(T,i),v(T,i)}function b(T,i,R,A){for(var k=T._fullLayout,_=R.positions,H=R.distinctPositions,z=R.minDiff,N=R.traces,O=N.length,F=_.length!==H.length,U=z*(1-A.gap),Z=h(k,i._id)+N[0][0].trace.orientation,q=k._alignmentOpts[Z]||{},J=0;J<O;J++){var te=N[J],fe=te[0].trace,K=q[fe.alignmentgroup]||{},Y=Object.keys(K.offsetGroups||{}).length,W;Y?W=U/Y:W=F?U/O:U;var X=W*(1-(A.groupgap||0)),re;Y?re=((2*fe._offsetIndex+1-Y)*W-X)/2:re=F?((2*J+1-O)*W-X)/2:-X/2;var se=te[0].t;se.barwidth=X,se.poffset=re,se.bargroupwidth=U,se.bardelta=z}R.binWidth=N[0][0].t.barwidth/100,f(R),w(i,R),v(i,R,F)}function f(T){var i=T.traces,R,A;for(R=0;R<i.length;R++){var k=i[R],_=k[0],H=_.trace,z=_.t,N=H._offset||H.offset,O=z.poffset,F;if(L(N)){for(F=Array.prototype.slice.call(N,0,k.length),A=0;A<F.length;A++)p(F[A])||(F[A]=O);for(A=F.length;A<k.length;A++)F.push(O);z.poffset=F}else N!==void 0&&(z.poffset=N);var U=H._width||H.width,Z=z.barwidth;if(L(U)){var q=Array.prototype.slice.call(U,0,k.length);for(A=0;A<q.length;A++)p(q[A])||(q[A]=Z);for(A=q.length;A<k.length;A++)q.push(Z);if(z.barwidth=q,N===void 0){for(F=[],A=0;A<k.length;A++)F.push(O+(Z-q[A])/2);z.poffset=F}}else U!==void 0&&(z.barwidth=U,N===void 0&&(z.poffset=O+(Z-U)/2))}}function w(T,i){for(var R=i.traces,A=E(T),k=0;k<R.length;k++)for(var _=R[k],H=_[0].t,z=H.poffset,N=Array.isArray(z),O=H.barwidth,F=Array.isArray(O),U=0;U<_.length;U++){var Z=_[U],q=Z.w=F?O[U]:O;Z.p===void 0&&(Z.p=Z[A],Z["orig_"+A]=Z[A]);var J=(N?z[U]:z)+q/2;Z[A]=Z.p+J}}function v(T,i,R){var A=i.traces,k=i.minDiff,_=k/2;y.minDtick(T,i.minDiff,i.distinctPositions[0],R);for(var H=0;H<A.length;H++){var z=A[H],N=z[0],O=N.trace,F=[],U,Z,q,J;for(J=0;J<z.length;J++)U=z[J],Z=U.p-_,q=U.p+_,F.push(Z,q);if(O.width||O.offset){var te=N.t,fe=te.poffset,K=te.barwidth,Y=Array.isArray(fe),W=Array.isArray(K);for(J=0;J<z.length;J++){U=z[J];var X=Y?fe[J]:fe,re=W?K[J]:K;Z=U.p+X,q=Z+re,F.push(Z,q)}}O._extremes[T._id]=y.findExtremes(T,F,{padded:!1})}}function o(T,i){for(var R=i.traces,A=E(T),k=0;k<R.length;k++){for(var _=R[k],H=_[0].trace,z=H.type==="scatter",N=H.orientation==="v",O=[],F=!1,U=0;U<_.length;U++){var Z=_[U],q=z?0:Z.b,J=z?N?Z.y:Z.x:q+Z.s;Z[A]=J,O.push(J),Z.hasB&&O.push(q),(!Z.hasB||!Z.b)&&(F=!0)}H._extremes[T._id]=y.findExtremes(T,O,{tozero:F,padded:!0})}}function d(T,i,R){var A=E(T),k=i.traces,_,H,z,N,O,F;for(N=0;N<k.length;N++)if(_=k[N],H=_[0].trace,H.type==="funnel")for(O=0;O<_.length;O++)F=_[O],F.s!==n&&i.put(F.p,-.5*F.s);for(N=0;N<k.length;N++){_=k[N],H=_[0].trace,z=H.type==="funnel";var U=[];for(O=0;O<_.length;O++)if(F=_[O],F.s!==n){var Z;z?Z=F.s:Z=F.s+F.b;var q=i.put(F.p,Z),J=q+Z;F.b=q,F[A]=J,R.norm||(U.push(J),F.hasB&&U.push(q))}R.norm||(H._extremes[T._id]=y.findExtremes(T,U,{tozero:!0,padded:!0}))}}function S(T){for(var i=T.traces,R=0;R<i.length;R++)for(var A=i[R],k=0;k<A.length;k++){var _=A[k];_.s!==n&&T.put(_.p,_.b+_.s)}}function M(T,i){for(var R=T.traces,A=0;A<R.length;A++){var k=R[A],_=k[0].trace;if(_.base===void 0)for(var H=new g([k],{posAxis:i,sepNegVal:!0,overlapNoMerge:!0}),z=0;z<k.length;z++){var N=k[z];if(N.p!==n){var O=H.put(N.p,N.b+N.s);O&&(N.b=O)}}}}function P(T,i,R){var A=i.traces,k=E(T),_=R.norm==="fraction"?1:100,H=_/1e9,z=T.l2c(T.c2l(0)),N=R.mode==="stack"?_:z;function O(re){return p(T.c2l(re))&&(re<z-H||re>N+H||!p(z))}for(var F=0;F<A.length;F++){for(var U=A[F],Z=U[0].trace,q=[],J=!1,te=!1,fe=0;fe<U.length;fe++){var K=U[fe];if(K.s!==n){var Y=Math.abs(_/i.get(K.p,K.s));K.b*=Y,K.s*=Y;var W=K.b,X=W+K.s;K[k]=X,q.push(X),te=te||O(X),K.hasB&&(q.push(W),te=te||O(W)),(!K.hasB||!K.b)&&(J=!0)}}Z._extremes[T._id]=y.findExtremes(T,q,{tozero:J,padded:te})}}function x(T,i){var R=E(i),A={},k,_,H,z=1/0,N=-1/0;for(k=0;k<T.length;k++)for(H=T[k],_=0;_<H.length;_++){var O=H[_].p;p(O)&&(z=Math.min(z,O),N=Math.max(N,O))}var F=1e4/(N-z),U=A.round=function(Y){return String(Math.round(F*(Y-z)))};for(k=0;k<T.length;k++){H=T[k],H[0].t.extents=A;var Z=H[0].t.poffset,q=Array.isArray(Z);for(_=0;_<H.length;_++){var J=H[_],te=J[R]-J.w/2;if(p(te)){var fe=J[R]+J.w/2,K=U(J.p);A[K]?A[K]=[Math.min(te,A[K][0]),Math.max(fe,A[K][1])]:A[K]=[te,fe]}J.p0=J.p+(q?Z[_]:Z),J.p1=J.p0+J.w,J.s0=J.b,J.s1=J.s0+J.s}}}function E(T){return T._id.charAt(0)}V.exports={crossTraceCalc:t,setGroupPositions:r}},90769:function(V,B,e){var p=e(71828),L=e(7901),n=e(73972),C=e(67513),y=e(73927),h=e(98340),g=e(26125),t=e(1486),r=p.coerceFont;function l(c,u,b,f){function w(M,P){return p.coerce(c,u,t,M,P)}var v=C(c,u,f,w);if(!v){u.visible=!1;return}y(c,u,f,w),w("xhoverformat"),w("yhoverformat"),w("orientation",u.x&&!u.y?"h":"v"),w("base"),w("offset"),w("width"),w("text"),w("hovertext"),w("hovertemplate");var o=w("textposition");s(c,u,f,w,o,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),h(c,u,w,b,f);var d=(u.marker.line||{}).color,S=n.getComponentMethod("errorbars","supplyDefaults");S(c,u,d||L.defaultLine,{axis:"y"}),S(c,u,d||L.defaultLine,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(u,w)}function a(c,u){var b,f;function w(o){return p.coerce(f._input,f,t,o)}if(u.barmode==="group")for(var v=0;v<c.length;v++)f=c[v],f.type==="bar"&&(b=f._input,g(b,f,u,w))}function s(c,u,b,f,w,v){v=v||{};var o=v.moduleHasSelected!==!1,d=v.moduleHasUnselected!==!1,S=v.moduleHasConstrain!==!1,M=v.moduleHasCliponaxis!==!1,P=v.moduleHasTextangle!==!1,x=v.moduleHasInsideanchor!==!1,E=!!v.hasPathbar,T=Array.isArray(w)||w==="auto",i=T||w==="inside",R=T||w==="outside";if(i||R){var A=r(f,"textfont",b.font),k=p.extendFlat({},A),_=c.textfont&&c.textfont.color,H=!_;if(H&&delete k.color,r(f,"insidetextfont",k),E){var z=p.extendFlat({},A);H&&delete z.color,r(f,"pathbar.textfont",z)}R&&r(f,"outsidetextfont",A),o&&f("selected.textfont.color"),d&&f("unselected.textfont.color"),S&&f("constraintext"),M&&f("cliponaxis"),P&&f("textangle"),f("texttemplate")}i&&x&&f("insidetextanchor")}V.exports={supplyDefaults:l,crossTraceDefaults:a,handleText:s}},58065:function(V){V.exports=function(e,p,L){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),L.orientation==="h"?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},69383:function(V,B,e){var p=e(92770),L=e(84267),n=e(71828).isArrayOrTypedArray;B.coerceString=function(C,y,h){if(typeof y=="string"){if(y||!C.noBlank)return y}else if((typeof y=="number"||y===!0)&&!C.strict)return String(y);return h!==void 0?h:C.dflt},B.coerceNumber=function(C,y,h){if(p(y)){y=+y;var g=C.min,t=C.max,r=g!==void 0&&y<g||t!==void 0&&y>t;if(!r)return y}return h!==void 0?h:C.dflt},B.coerceColor=function(C,y,h){return L(y).isValid()?y:h!==void 0?h:C.dflt},B.coerceEnumerated=function(C,y,h){return C.coerceNumber&&(y=+y),C.values.indexOf(y)!==-1?y:h!==void 0?h:C.dflt},B.getValue=function(C,y){var h;return Array.isArray(C)?y<C.length&&(h=C[y]):h=C,h},B.getLineWidth=function(C,y){var h=0<y.mlw?y.mlw:n(C.marker.line.width)?0:C.marker.line.width;return h}},95423:function(V,B,e){var p=e(30211),L=e(73972),n=e(7901),C=e(71828).fillText,y=e(69383).getLineWidth,h=e(89298).hoverLabelText,g=e(50606).BADNUM;function t(a,s,c,u,b){var f=r(a,s,c,u,b);if(f){var w=f.cd,v=w[0].trace,o=w[f.index];return f.color=l(v,o),L.getComponentMethod("errorbars","hoverInfo")(o,v,f),[f]}}function r(a,s,c,u,b){var f=a.cd,w=f[0].trace,v=f[0].t,o=u==="closest",d=w.type==="waterfall",S=a.maxHoverDistance,M=a.maxSpikeDistance,P,x,E,T,i,R,A;w.orientation==="h"?(P=c,x=s,E="y",T="x",i=fe,R=q):(P=s,x=c,E="x",T="y",R=fe,i=q);var k=w[E+"period"],_=o||k;function H(he){return N(he,-1)}function z(he){return N(he,1)}function N(he,xe){var Ae=he.w;return he[E]+xe*Ae/2}function O(he){return he[E+"End"]-he[E+"Start"]}var F=o?H:k?function(he){return he.p-O(he)/2}:function(he){return Math.min(H(he),he.p-v.bardelta/2)},U=o?z:k?function(he){return he.p+O(he)/2}:function(he){return Math.max(z(he),he.p+v.bardelta/2)};function Z(he,xe,Ae){return b.finiteRange&&(Ae=0),p.inbox(he-P,xe-P,Ae+Math.min(1,Math.abs(xe-he)/A)-1)}function q(he){return Z(F(he),U(he),S)}function J(he){return Z(H(he),z(he),M)}function te(he){var xe=he[T];if(d){var Ae=Math.abs(he.rawS)||0;x>0?xe+=Ae:x<0&&(xe-=Ae)}return xe}function fe(he){var xe=x,Ae=he.b,Se=te(he);return p.inbox(Ae-xe,Se-xe,S+(Se-xe)/(Se-Ae)-1)}function K(he){var xe=x,Ae=he.b,Se=te(he);return p.inbox(Ae-xe,Se-xe,M+(Se-xe)/(Se-Ae)-1)}var Y=a[E+"a"],W=a[T+"a"];A=Math.abs(Y.r2c(Y.range[1])-Y.r2c(Y.range[0]));function X(he){return(i(he)+R(he))/2}var re=p.getDistanceFunction(u,i,R,X);if(p.getClosest(f,re,a),a.index!==!1&&f[a.index].p!==g){_||(F=function(he){return Math.min(H(he),he.p-v.bargroupwidth/2)},U=function(he){return Math.max(z(he),he.p+v.bargroupwidth/2)});var se=a.index,Q=f[se],ee=w.base?Q.b+Q.s:Q.s;a[T+"0"]=a[T+"1"]=W.c2p(Q[T],!0),a[T+"LabelVal"]=ee;var le=v.extents[v.extents.round(Q.p)];a[E+"0"]=Y.c2p(o?F(Q):le[0],!0),a[E+"1"]=Y.c2p(o?U(Q):le[1],!0);var oe=Q.orig_p!==void 0;return a[E+"LabelVal"]=oe?Q.orig_p:Q.p,a.labelLabel=h(Y,a[E+"LabelVal"],w[E+"hoverformat"]),a.valueLabel=h(W,a[T+"LabelVal"],w[T+"hoverformat"]),a.baseLabel=h(W,Q.b,w[T+"hoverformat"]),a.spikeDistance=(K(Q)+J(Q))/2,a[E+"Spike"]=Y.c2p(Q.p,!0),C(Q,w,a),a.hovertemplate=w.hovertemplate,a}}function l(a,s){var c=s.mcc||a.marker.color,u=s.mlcc||a.marker.line.color,b=y(a,s);if(n.opacity(c))return c;if(n.opacity(u)&&b)return u}V.exports={hoverPoints:t,hoverOnBars:r,getTraceColor:l}},60822:function(V,B,e){V.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(V){V.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(V,B,e){var p=e(73972),L=e(89298),n=e(71828),C=e(43641);V.exports=function(y,h,g){function t(v,o){return n.coerce(y,h,C,v,o)}for(var r=!1,l=!1,a=!1,s={},c=t("barmode"),u=0;u<g.length;u++){var b=g[u];if(p.traceIs(b,"bar")&&b.visible)r=!0;else continue;if(c==="group"){var f=b.xaxis+b.yaxis;s[f]&&(a=!0),s[f]=!0}if(b.visible&&b.type==="histogram"){var w=L.getFromId({_fullLayout:h},b[b.orientation==="v"?"xaxis":"yaxis"]);w.type!=="category"&&(l=!0)}}if(!r){delete h.barmode;return}c!=="overlay"&&t("barnorm"),t("bargap",l&&!a?0:.2),t("bargroupgap")}},17295:function(V,B,e){var p=e(39898),L=e(92770),n=e(71828),C=e(63893),y=e(7901),h=e(91424),g=e(73972),t=e(89298).tickText,r=e(72597),l=r.recordMinTextSize,a=r.clearMinTextSize,s=e(16688),c=e(69383),u=e(97313),b=e(1486),f=b.text,w=b.textposition,v=e(23469).appendArrayPointValue,o=u.TEXTPAD;function d(F){return F.id}function S(F){if(F.ids)return d}function M(F,U){return F<U?1:-1}function P(F,U,Z,q){var J=[],te=[],fe=q?U:Z,K=q?Z:U;return J[0]=fe.c2p(F.s0,!0),te[0]=K.c2p(F.p0,!0),J[1]=fe.c2p(F.s1,!0),te[1]=K.c2p(F.p1,!0),q?[J,te]:[te,J]}function x(F,U,Z,q){if(!U.uniformtext.mode&&E(Z)){var J;return q&&(J=q()),F.transition().duration(Z.duration).ease(Z.easing).each("end",function(){J&&J()}).each("interrupt",function(){J&&J()})}else return F}function E(F){return F&&F.duration>0}function T(F,U,Z,q,J,te){var fe=U.xaxis,K=U.yaxis,Y=F._fullLayout,W=F._context.staticPlot;J||(J={mode:Y.barmode,norm:Y.barmode,gap:Y.bargap,groupgap:Y.bargroupgap},a("bar",Y));var X=n.makeTraceGroups(q,Z,"trace bars").each(function(re){var se=p.select(this),Q=re[0].trace,ee=Q.type==="waterfall",le=Q.type==="funnel",oe=Q.type==="bar",he=oe||le,xe=0;ee&&Q.connector.visible&&Q.connector.mode==="between"&&(xe=Q.connector.line.width/2);var Ae=Q.orientation==="h",Se=E(J),Oe=n.ensureSingle(se,"g","points"),Ve=S(Q),Ee=Oe.selectAll("g.point").data(n.identity,Ve);Ee.enter().append("g").classed("point",!0),Ee.exit().remove(),Ee.each(function(Le,Ge){var He=p.select(this),ke=P(Le,fe,K,Ae),We=ke[0][0],nt=ke[0][1],qe=ke[1][0],Qe=ke[1][1],tt=(Ae?nt-We:Qe-qe)===0;tt&&he&&c.getLineWidth(Q,Le)&&(tt=!1),tt||(tt=!L(We)||!L(nt)||!L(qe)||!L(Qe)),Le.isBlank=tt,tt&&(Ae?nt=We:Qe=qe),xe&&!tt&&(Ae?(We-=M(We,nt)*xe,nt+=M(We,nt)*xe):(qe-=M(qe,Qe)*xe,Qe+=M(qe,Qe)*xe));var vt,dt;if(Q.type==="waterfall"){if(!tt){var gt=Q[Le.dir].marker;vt=gt.line.width,dt=gt.color}}else vt=c.getLineWidth(Q,Le),dt=Le.mc||Q.marker.color;function Mt(Be){var De=p.round(vt/2%1,2);return J.gap===0&&J.groupgap===0?p.round(Math.round(Be)-De,2):Be}function Rt(Be,De,we){return we&&Be===De?Be:Math.abs(Be-De)>=2?Mt(Be):Be>De?Math.ceil(Be):Math.floor(Be)}if(!F._context.staticPlot){var Wt=y.opacity(dt),je=Wt<1||vt>.01?Mt:Rt;We=je(We,nt,Ae),nt=je(nt,We,Ae),qe=je(qe,Qe,!Ae),Qe=je(Qe,qe,!Ae)}var _e=x(n.ensureSingle(He,"path"),Y,J,te);if(_e.style("vector-effect",W?"none":"non-scaling-stroke").attr("d",isNaN((nt-We)*(Qe-qe))||tt&&F._context.staticPlot?"M0,0Z":"M"+We+","+qe+"V"+Qe+"H"+nt+"V"+qe+"Z").call(h.setClipUrl,U.layerClipId,F),!Y.uniformtext.mode&&Se){var Fe=h.makePointStyleFns(Q);h.singlePointStyle(Le,_e,Q,Fe,F)}i(F,U,He,re,Ge,We,nt,qe,Qe,J,te),U.layerClipId&&h.hideOutsideRangePoint(Le,He.select("text"),fe,K,Q.xcalendar,Q.ycalendar)});var Te=Q.cliponaxis===!1;h.setClipUrl(se,Te?null:U.layerClipId,F)});g.getComponentMethod("errorbars","plot")(F,X,U,J)}function i(F,U,Z,q,J,te,fe,K,Y,W,X){var re=U.xaxis,se=U.yaxis,Q=F._fullLayout,ee;function le(Be,De,we){var ue=n.ensureSingle(Be,"text").text(De).attr({class:"bartext bartext-"+ee,"text-anchor":"middle","data-notex":1}).call(h.font,we).call(C.convertToTspans,F);return ue}var oe=q[0].trace,he=oe.orientation==="h",xe=H(Q,q,J,re,se);ee=z(oe,J);var Ae=W.mode==="stack"||W.mode==="relative",Se=q[J],Oe=!Ae||Se._outmost;if(!xe||ee==="none"||(Se.isBlank||te===fe||K===Y)&&(ee==="auto"||ee==="inside")){Z.select("text").remove();return}var Ve=Q.font,Ee=s.getBarColor(q[J],oe),Te=s.getInsideTextFont(oe,J,Ve,Ee),Le=s.getOutsideTextFont(oe,J,Ve),Ge=Z.datum();he?re.type==="log"&&Ge.s0<=0&&(re.range[0]<re.range[1]?te=0:te=re._length):se.type==="log"&&Ge.s0<=0&&(se.range[0]<se.range[1]?K=se._length:K=0);var He=Math.abs(fe-te)-2*o,ke=Math.abs(Y-K)-2*o,We,nt,qe,Qe,tt;if(ee==="outside"&&!Oe&&!Se.hasB&&(ee="inside"),ee==="auto")if(Oe){ee="inside",tt=n.ensureUniformFontSize(F,Te),We=le(Z,xe,tt),nt=h.bBox(We.node()),qe=nt.width,Qe=nt.height;var vt=qe>0&&Qe>0,dt=qe<=He&&Qe<=ke,gt=qe<=ke&&Qe<=He,Mt=he?He>=qe*(ke/Qe):ke>=Qe*(He/qe);vt&&(dt||gt||Mt)?ee="inside":(ee="outside",We.remove(),We=null)}else ee="inside";if(!We){tt=n.ensureUniformFontSize(F,ee==="outside"?Le:Te),We=le(Z,xe,tt);var Rt=We.attr("transform");if(We.attr("transform",""),nt=h.bBox(We.node()),qe=nt.width,Qe=nt.height,We.attr("transform",Rt),qe<=0||Qe<=0){We.remove();return}}var Wt=oe.textangle,je,_e;ee==="outside"?(_e=oe.constraintext==="both"||oe.constraintext==="outside",je=_(te,fe,K,Y,nt,{isHorizontal:he,constrained:_e,angle:Wt})):(_e=oe.constraintext==="both"||oe.constraintext==="inside",je=k(te,fe,K,Y,nt,{isHorizontal:he,constrained:_e,angle:Wt,anchor:oe.insidetextanchor})),je.fontSize=tt.size,l(oe.type==="histogram"?"bar":oe.type,je,Q),Se.transform=je;var Fe=x(We,Q,W,X);n.setTransormAndDisplay(Fe,je)}function R(F){return F==="auto"?0:F}function A(F,U){var Z=Math.PI/180*U,q=Math.abs(Math.sin(Z)),J=Math.abs(Math.cos(Z));return{x:F.width*J+F.height*q,y:F.width*q+F.height*J}}function k(F,U,Z,q,J,te){var fe=!!te.isHorizontal,K=!!te.constrained,Y=te.angle||0,W=te.anchor||"end",X=W==="end",re=W==="start",se=te.leftToRight||0,Q=(se+1)/2,ee=1-Q,le=J.width,oe=J.height,he=Math.abs(U-F),xe=Math.abs(q-Z),Ae=he>2*o&&xe>2*o?o:0;he-=2*Ae,xe-=2*Ae;var Se=R(Y);Y==="auto"&&!(le<=he&&oe<=xe)&&(le>he||oe>xe)&&(!(le>xe||oe>he)||le<oe!=he<xe)&&(Se+=90);var Oe=A(J,Se),Ve=1;K&&(Ve=Math.min(1,he/Oe.x,xe/Oe.y));var Ee=J.left*ee+J.right*Q,Te=(J.top+J.bottom)/2,Le=(F+o)*ee+(U-o)*Q,Ge=(Z+q)/2,He=0,ke=0;if(re||X){var We=(fe?Oe.x:Oe.y)/2,nt=fe?M(F,U):M(Z,q);fe?re?(Le=F+nt*Ae,He=-nt*We):(Le=U-nt*Ae,He=nt*We):re?(Ge=Z+nt*Ae,ke=-nt*We):(Ge=q-nt*Ae,ke=nt*We)}return{textX:Ee,textY:Te,targetX:Le,targetY:Ge,anchorX:He,anchorY:ke,scale:Ve,rotate:Se}}function _(F,U,Z,q,J,te){var fe=!!te.isHorizontal,K=!!te.constrained,Y=te.angle||0,W=J.width,X=J.height,re=Math.abs(U-F),se=Math.abs(q-Z),Q;fe?Q=se>2*o?o:0:Q=re>2*o?o:0;var ee=1;K&&(ee=fe?Math.min(1,se/X):Math.min(1,re/W));var le=R(Y),oe=A(J,le),he=(fe?oe.x:oe.y)/2,xe=(J.left+J.right)/2,Ae=(J.top+J.bottom)/2,Se=(F+U)/2,Oe=(Z+q)/2,Ve=0,Ee=0,Te=fe?M(U,F):M(Z,q);return fe?(Se=U-Te*Q,Ve=Te*he):(Oe=q+Te*Q,Ee=-Te*he),{textX:xe,textY:Ae,targetX:Se,targetY:Oe,anchorX:Ve,anchorY:Ee,scale:ee,rotate:le}}function H(F,U,Z,q,J){var te=U[0].trace,fe=te.texttemplate,K;return fe?K=N(F,U,Z,q,J):te.textinfo?K=O(U,Z,q,J):K=c.getValue(te.text,Z),c.coerceString(f,K)}function z(F,U){var Z=c.getValue(F.textposition,U);return c.coerceEnumerated(w,Z)}function N(F,U,Z,q,J){var te=U[0].trace,fe=n.castOption(te,Z,"texttemplate");if(!fe)return"";var K=te.type==="histogram",Y=te.type==="waterfall",W=te.type==="funnel",X=te.orientation==="h",re,se,Q,ee;X?(re="y",se=J,Q="x",ee=q):(re="x",se=q,Q="y",ee=J);function le(Ve){return t(se,se.c2l(Ve),!0).text}function oe(Ve){return t(ee,ee.c2l(Ve),!0).text}var he=U[Z],xe={};xe.label=he.p,xe.labelLabel=xe[re+"Label"]=le(he.p);var Ae=n.castOption(te,he.i,"text");(Ae===0||Ae)&&(xe.text=Ae),xe.value=he.s,xe.valueLabel=xe[Q+"Label"]=oe(he.s);var Se={};v(Se,te,he.i),(K||Se.x===void 0)&&(Se.x=X?xe.value:xe.label),(K||Se.y===void 0)&&(Se.y=X?xe.label:xe.value),(K||Se.xLabel===void 0)&&(Se.xLabel=X?xe.valueLabel:xe.labelLabel),(K||Se.yLabel===void 0)&&(Se.yLabel=X?xe.labelLabel:xe.valueLabel),Y&&(xe.delta=+he.rawS||he.s,xe.deltaLabel=oe(xe.delta),xe.final=he.v,xe.finalLabel=oe(xe.final),xe.initial=xe.final-xe.delta,xe.initialLabel=oe(xe.initial)),W&&(xe.value=he.s,xe.valueLabel=oe(xe.value),xe.percentInitial=he.begR,xe.percentInitialLabel=n.formatPercent(he.begR),xe.percentPrevious=he.difR,xe.percentPreviousLabel=n.formatPercent(he.difR),xe.percentTotal=he.sumR,xe.percenTotalLabel=n.formatPercent(he.sumR));var Oe=n.castOption(te,he.i,"customdata");return Oe&&(xe.customdata=Oe),n.texttemplateString(fe,xe,F._d3locale,Se,xe,te._meta||{})}function O(F,U,Z,q){var J=F[0].trace,te=J.orientation==="h",fe=J.type==="waterfall",K=J.type==="funnel";function Y(Oe){var Ve=te?q:Z;return t(Ve,Oe,!0).text}function W(Oe){var Ve=te?Z:q;return t(Ve,+Oe,!0).text}var X=J.textinfo,re=F[U],se=X.split("+"),Q=[],ee,le=function(Oe){return se.indexOf(Oe)!==-1};if(le("label")&&Q.push(Y(F[U].p)),le("text")&&(ee=n.castOption(J,re.i,"text"),(ee===0||ee)&&Q.push(ee)),fe){var oe=+re.rawS||re.s,he=re.v,xe=he-oe;le("initial")&&Q.push(W(xe)),le("delta")&&Q.push(W(oe)),le("final")&&Q.push(W(he))}if(K){le("value")&&Q.push(W(re.s));var Ae=0;le("percent initial")&&Ae++,le("percent previous")&&Ae++,le("percent total")&&Ae++;var Se=Ae>1;le("percent initial")&&(ee=n.formatPercent(re.begR),Se&&(ee+=" of initial"),Q.push(ee)),le("percent previous")&&(ee=n.formatPercent(re.difR),Se&&(ee+=" of previous"),Q.push(ee)),le("percent total")&&(ee=n.formatPercent(re.sumR),Se&&(ee+=" of total"),Q.push(ee))}return Q.join("<br>")}V.exports={plot:T,toMoveInsideBar:k}},81974:function(V){V.exports=function(p,L){var n=p.cd,C=p.xaxis,y=p.yaxis,h=n[0].trace,g=h.type==="funnel",t=h.orientation==="h",r=[],l;if(L===!1)for(l=0;l<n.length;l++)n[l].selected=0;else for(l=0;l<n.length;l++){var a=n[l],s="ct"in a?a.ct:B(a,C,y,t,g);L.contains(s,!1,l,p)?(r.push({pointNumber:l,x:C.c2d(a.x),y:y.c2d(a.y)}),a.selected=1):a.selected=0}return r};function B(e,p,L,n,C){var y=p.c2p(n?e.s0:e.p0,!0),h=p.c2p(n?e.s1:e.p1,!0),g=L.c2p(n?e.p0:e.s0,!0),t=L.c2p(n?e.p1:e.s1,!0);return C?[(y+h)/2,(g+t)/2]:n?[h,(g+t)/2]:[(y+h)/2,t]}},61546:function(V,B,e){V.exports=L;var p=e(71828).distinctVals;function L(n,C){this.traces=n,this.sepNegVal=C.sepNegVal,this.overlapNoMerge=C.overlapNoMerge;for(var y=1/0,h=C.posAxis._id.charAt(0),g=[],t=0;t<n.length;t++){for(var r=n[t],l=0;l<r.length;l++){var a=r[l],s=a.p;s===void 0&&(s=a[h]),s!==void 0&&g.push(s)}r[0]&&r[0].width1&&(y=Math.min(r[0].width1,y))}this.positions=g;var c=p(g);this.distinctPositions=c.vals,c.vals.length===1&&y!==1/0?this.minDiff=y:this.minDiff=Math.min(c.minDiff,y);var u=(C.posAxis||{}).type;(u==="category"||u==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}L.prototype.put=function(C,y){var h=this.getLabel(C,y),g=this.bins[h]||0;return this.bins[h]=g+y,g},L.prototype.get=function(C,y){var h=this.getLabel(C,y);return this.bins[h]||0},L.prototype.getLabel=function(C,y){var h=y<0&&this.sepNegVal?"v":"^",g=this.overlapNoMerge?C:Math.round(C/this.binWidth);return h+g}},16688:function(V,B,e){var p=e(39898),L=e(7901),n=e(91424),C=e(71828),y=e(73972),h=e(72597).resizeText,g=e(1486),t=g.textfont,r=g.insidetextfont,l=g.outsidetextfont,a=e(69383);function s(x){var E=p.select(x).selectAll("g.barlayer").selectAll("g.trace");h(x,E,"bar");var T=E.size(),i=x._fullLayout;E.style("opacity",function(R){return R[0].trace.opacity}).each(function(R){(i.barmode==="stack"&&T>1||i.bargap===0&&i.bargroupgap===0&&!R[0].trace.marker.line.width)&&p.select(this).attr("shape-rendering","crispEdges")}),E.selectAll("g.points").each(function(R){var A=p.select(this),k=R[0].trace;c(A,k,x)}),y.getComponentMethod("errorbars","style")(E)}function c(x,E,T){n.pointStyle(x.selectAll("path"),E,T),u(x,E,T)}function u(x,E,T){x.selectAll("text").each(function(i){var R=p.select(this),A=C.ensureUniformFontSize(T,v(R,i,E,T));n.font(R,A)})}function b(x,E,T){var i=E[0].trace;i.selectedpoints?f(T,i,x):(c(T,i,x),y.getComponentMethod("errorbars","style")(T))}function f(x,E,T){n.selectedPointStyle(x.selectAll("path"),E),w(x.selectAll("text"),E,T)}function w(x,E,T){x.each(function(i){var R=p.select(this),A;if(i.selected){A=C.ensureUniformFontSize(T,v(R,i,E,T));var k=E.selected.textfont&&E.selected.textfont.color;k&&(A.color=k),n.font(R,A)}else n.selectedTextStyle(R,E)})}function v(x,E,T,i){var R=i._fullLayout.font,A=T.textfont;if(x.classed("bartext-inside")){var k=P(E,T);A=d(T,E.i,R,k)}else x.classed("bartext-outside")&&(A=S(T,E.i,R));return A}function o(x,E,T){return M(t,x.textfont,E,T)}function d(x,E,T,i){var R=o(x,E,T),A=x._input.textfont===void 0||x._input.textfont.color===void 0||Array.isArray(x.textfont.color)&&x.textfont.color[E]===void 0;return A&&(R={color:L.contrast(i),family:R.family,size:R.size}),M(r,x.insidetextfont,E,R)}function S(x,E,T){var i=o(x,E,T);return M(l,x.outsidetextfont,E,i)}function M(x,E,T,i){E=E||{};var R=a.getValue(E.family,T),A=a.getValue(E.size,T),k=a.getValue(E.color,T);return{family:a.coerceString(x.family,R,i.family),size:a.coerceNumber(x.size,A,i.size),color:a.coerceColor(x.color,k,i.color)}}function P(x,E){return E.type==="waterfall"?E[x.dir].marker.color:x.mcc||x.mc||E.marker.color}V.exports={style:s,styleTextPoints:u,styleOnSelect:b,getInsideTextFont:d,getOutsideTextFont:S,getBarColor:P,resizeText:h}},98340:function(V,B,e){var p=e(7901),L=e(52075).hasColorscale,n=e(1586),C=e(71828).coercePattern;V.exports=function(h,g,t,r,l){var a=t("marker.color",r),s=L(h,"marker");s&&n(h,g,l,t,{prefix:"marker.",cLetter:"c"}),t("marker.line.color",p.defaultLine),L(h,"marker.line")&&n(h,g,l,t,{prefix:"marker.line.",cLetter:"c"}),t("marker.line.width"),t("marker.opacity"),C(t,"marker.pattern",a,s),t("selected.marker.color"),t("unselected.marker.color")}},72597:function(V,B,e){var p=e(39898),L=e(71828);function n(g,t,r){var l=g._fullLayout,a=l["_"+r+"Text_minsize"];if(a){var s=l.uniformtext.mode==="hide",c;switch(r){case"funnelarea":case"pie":case"sunburst":c="g.slice";break;case"treemap":case"icicle":c="g.slice, g.pathbar";break;default:c="g.points > g.point"}t.selectAll(c).each(function(u){var b=u.transform;if(b){b.scale=s&&b.hide?0:a/b.fontSize;var f=p.select(this).select("text");L.setTransormAndDisplay(f,b)}})}}function C(g,t,r){if(r.uniformtext.mode){var l=h(g),a=r.uniformtext.minsize,s=t.scale*t.fontSize;t.hide=s<a,r[l]=r[l]||1/0,t.hide||(r[l]=Math.min(r[l],Math.max(s,a)))}}function y(g,t){var r=h(g);t[r]=void 0}function h(g){return"_"+g+"Text_minsize"}V.exports={recordMinTextSize:C,clearMinTextSize:y,resizeText:n}},55023:function(V,B,e){var p=e(5386).fF,L=e(1426).extendFlat,n=e(81245),C=e(1486);V.exports={r:n.r,theta:n.theta,r0:n.r0,dr:n.dr,theta0:n.theta0,dtheta:n.dtheta,thetaunit:n.thetaunit,base:L({},C.base,{}),offset:L({},C.offset,{}),width:L({},C.width,{}),text:L({},C.text,{}),hovertext:L({},C.hovertext,{}),marker:C.marker,hoverinfo:n.hoverinfo,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},74692:function(V,B,e){var p=e(52075).hasColorscale,L=e(78803),n=e(75341),C=e(11661).setGroupPositions,y=e(66279),h=e(73972).traceIs,g=e(71828).extendFlat;function t(l,a){for(var s=l._fullLayout,c=a.subplot,u=s[c].radialaxis,b=s[c].angularaxis,f=u.makeCalcdata(a,"r"),w=b.makeCalcdata(a,"theta"),v=a._length,o=new Array(v),d=f,S=w,M=0;M<v;M++)o[M]={p:S[M],s:d[M]};function P(x){var E=a[x];E!==void 0&&(a["_"+x]=Array.isArray(E)?b.makeCalcdata(a,x):b.d2c(E,a.thetaunit))}return b.type==="linear"&&(P("width"),P("offset")),p(a,"marker")&&L(l,a,{vals:a.marker.color,containerStr:"marker",cLetter:"c"}),p(a,"marker.line")&&L(l,a,{vals:a.marker.line.color,containerStr:"marker.line",cLetter:"c"}),n(o,a),y(o,a),o}function r(l,a,s){for(var c=l.calcdata,u=[],b=0;b<c.length;b++){var f=c[b],w=f[0].trace;w.visible===!0&&h(w,"bar")&&w.subplot===s&&u.push(f)}var v=g({},a.radialaxis,{_id:"x"}),o=a.angularaxis;C(l,o,v,u,{mode:a.barmode,norm:a.barnorm,gap:a.bargap,groupgap:a.bargroupgap})}V.exports={calc:t,crossTraceCalc:r}},6135:function(V,B,e){var p=e(71828),L=e(22184).handleRThetaDefaults,n=e(98340),C=e(55023);V.exports=function(h,g,t,r){function l(s,c){return p.coerce(h,g,C,s,c)}var a=L(h,g,r,l);if(!a){g.visible=!1;return}l("thetaunit"),l("base"),l("offset"),l("width"),l("text"),l("hovertext"),l("hovertemplate"),n(h,g,l,t,r),p.coerceSelectionMarkerOpacity(g,l)}},27379:function(V,B,e){var p=e(30211),L=e(71828),n=e(95423).getTraceColor,C=L.fillText,y=e(59150).makeHoverPointText,h=e(10869).isPtInsidePolygon;V.exports=function(t,r,l){var a=t.cd,s=a[0].trace,c=t.subplot,u=c.radialAxis,b=c.angularAxis,f=c.vangles,w=f?h:L.isPtInsideSector,v=t.maxHoverDistance,o=b._period||2*Math.PI,d=Math.abs(u.g2p(Math.sqrt(r*r+l*l))),S=Math.atan2(l,r);u.range[0]>u.range[1]&&(S+=Math.PI);var M=function(T){return w(d,S,[T.rp0,T.rp1],[T.thetag0,T.thetag1],f)?v+Math.min(1,Math.abs(T.thetag1-T.thetag0)/o)-1+(T.rp1-d)/(T.rp1-T.rp0)-1:1/0};if(p.getClosest(a,M,t),t.index!==!1){var P=t.index,x=a[P];t.x0=t.x1=x.ct[0],t.y0=t.y1=x.ct[1];var E=L.extendFlat({},x,{r:x.s,theta:x.p});return C(x,s,t),y(E,s,c,t),t.hovertemplate=s.hovertemplate,t.color=n(s,x),t.xLabelVal=t.yLabelVal=void 0,x.s<0&&(t.idealAlign="left"),[t]}}},23381:function(V,B,e){V.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(V){V.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(V,B,e){var p=e(71828),L=e(40151);V.exports=function(n,C,y){var h={},g;function t(a,s){return p.coerce(n[g]||{},C[g],L,a,s)}for(var r=0;r<y.length;r++){var l=y[r];l.type==="barpolar"&&l.visible===!0&&(g=l.subplot,h[g]||(t("barmode"),t("bargap"),h[g]=1))}}},60173:function(V,B,e){var p=e(39898),L=e(92770),n=e(71828),C=e(91424),y=e(10869);V.exports=function(t,r,l){var a=t._context.staticPlot,s=r.xaxis,c=r.yaxis,u=r.radialAxis,b=r.angularAxis,f=h(r),w=r.layers.frontplot.select("g.barlayer");n.makeTraceGroups(w,l,"trace bars").each(function(){var v=p.select(this),o=n.ensureSingle(v,"g","points"),d=o.selectAll("g.point").data(n.identity);d.enter().append("g").style("vector-effect",a?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),d.exit().remove(),d.each(function(S){var M=p.select(this),P=S.rp0=u.c2p(S.s0),x=S.rp1=u.c2p(S.s1),E=S.thetag0=b.c2g(S.p0),T=S.thetag1=b.c2g(S.p1),i;if(!L(P)||!L(x)||!L(E)||!L(T)||P===x||E===T)i="M0,0Z";else{var R=u.c2g(S.s1),A=(E+T)/2;S.ct=[s.c2p(R*Math.cos(A)),c.c2p(R*Math.sin(A))],i=f(P,x,E,T)}n.ensureSingle(M,"path").attr("d",i)}),C.setClipUrl(v,r._hasClipOnAxisFalse?r.clipIds.forTraces:null,t)})};function h(g){var t=g.cxx,r=g.cyy;return g.vangles?function(l,a,s,c){var u,b;n.angleDelta(s,c)>0?(u=s,b=c):(u=c,b=s);var f=y.findEnclosingVertexAngles(u,g.vangles)[0],w=y.findEnclosingVertexAngles(b,g.vangles)[1],v=[f,(u+b)/2,w];return y.pathPolygonAnnulus(l,a,u,b,v,t,r)}:function(l,a,s,c){return n.pathAnnulus(l,a,s,c,t,r)}}},53522:function(V,B,e){var p=e(82196),L=e(1486),n=e(22399),C=e(12663).axisHoverFormat,y=e(5386).fF,h=e(1426).extendFlat,g=p.marker,t=g.line;V.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:h({},g.symbol,{arrayOk:!1,editType:"plot"}),opacity:h({},g.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:h({},g.angle,{arrayOk:!1,editType:"calc"}),size:h({},g.size,{arrayOk:!1,editType:"calc"}),color:h({},g.color,{arrayOk:!1,editType:"style"}),line:{color:h({},t.color,{arrayOk:!1,dflt:n.defaultLine,editType:"style"}),width:h({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:L.offsetgroup,alignmentgroup:L.alignmentgroup,selected:{marker:p.selected.marker,editType:"style"},unselected:{marker:p.unselected.marker,editType:"style"},text:h({},p.text,{}),hovertext:h({},p.hovertext,{}),hovertemplate:y({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(V,B,e){var p=e(92770),L=e(89298),n=e(42973),C=e(71828),y=e(50606).BADNUM,h=C._;V.exports=function(S,M){var P=S._fullLayout,x=L.getFromId(S,M.xaxis||"x"),E=L.getFromId(S,M.yaxis||"y"),T=[],i=M.type==="violin"?"_numViolins":"_numBoxes",R,A,k,_,H,z,N;M.orientation==="h"?(k=x,_="x",H=E,z="y",N=!!M.yperiodalignment):(k=E,_="y",H=x,z="x",N=!!M.xperiodalignment);var O=g(M,z,H,P[i]),F=O[0],U=O[1],Z=C.distinctVals(F,H),q=Z.vals,J=Z.minDiff/2,te,fe,K,Y,W,X,re=(M.boxpoints||M.points)==="all"?C.identity:function(Rt){return Rt.v<te.lf||Rt.v>te.uf};if(M._hasPreCompStats){var se=M[_],Q=function(Rt){return k.d2c((M[Rt]||[])[R])},ee=1/0,le=-1/0;for(R=0;R<M._length;R++){var oe=F[R];if(p(oe)){if(te={},te.pos=te[z]=oe,N&&U&&(te.orig_p=U[R]),te.q1=Q("q1"),te.med=Q("median"),te.q3=Q("q3"),fe=[],se&&C.isArrayOrTypedArray(se[R]))for(A=0;A<se[R].length;A++)X=k.d2c(se[R][A]),X!==y&&(W={v:X,i:[R,A]},a(W,M,[R,A]),fe.push(W));if(te.pts=fe.sort(c),K=te[_]=fe.map(u),Y=K.length,te.med!==y&&te.q1!==y&&te.q3!==y&&te.med>=te.q1&&te.q3>=te.med){var he=Q("lowerfence");te.lf=he!==y&&he<=te.q1?he:b(te,K,Y);var xe=Q("upperfence");te.uf=xe!==y&&xe>=te.q3?xe:f(te,K,Y);var Ae=Q("mean");te.mean=Ae!==y?Ae:Y?C.mean(K,Y):(te.q1+te.q3)/2;var Se=Q("sd");te.sd=Ae!==y&&Se>=0?Se:Y?C.stdev(K,Y,te.mean):te.q3-te.q1,te.lo=w(te),te.uo=v(te);var Oe=Q("notchspan");Oe=Oe!==y&&Oe>0?Oe:o(te,Y),te.ln=te.med-Oe,te.un=te.med+Oe;var Ve=te.lf,Ee=te.uf;M.boxpoints&&K.length&&(Ve=Math.min(Ve,K[0]),Ee=Math.max(Ee,K[Y-1])),M.notched&&(Ve=Math.min(Ve,te.ln),Ee=Math.max(Ee,te.un)),te.min=Ve,te.max=Ee}else{C.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+te.q1,"median = "+te.med,"q3 = "+te.q3].join(`
`));var Te;te.med!==y?Te=te.med:te.q1!==y?te.q3!==y?Te=(te.q1+te.q3)/2:Te=te.q1:te.q3!==y?Te=te.q3:Te=0,te.med=Te,te.q1=te.q3=Te,te.lf=te.uf=Te,te.mean=te.sd=Te,te.ln=te.un=Te,te.min=te.max=Te}ee=Math.min(ee,te.min),le=Math.max(le,te.max),te.pts2=fe.filter(re),T.push(te)}}M._extremes[k._id]=L.findExtremes(k,[ee,le],{padded:!0})}else{var Le=k.makeCalcdata(M,_),Ge=t(q,J),He=q.length,ke=r(He);for(R=0;R<M._length;R++)if(X=Le[R],!!p(X)){var We=C.findBin(F[R],Ge);We>=0&&We<He&&(W={v:X,i:R},a(W,M,R),ke[We].push(W))}var nt=1/0,qe=-1/0,Qe=M.quartilemethod,tt=Qe==="exclusive",vt=Qe==="inclusive";for(R=0;R<He;R++)if(ke[R].length>0){if(te={},te.pos=te[z]=q[R],fe=te.pts=ke[R].sort(c),K=te[_]=fe.map(u),Y=K.length,te.min=K[0],te.max=K[Y-1],te.mean=C.mean(K,Y),te.sd=C.stdev(K,Y,te.mean),te.med=C.interp(K,.5),Y%2&&(tt||vt)){var dt,gt;tt?(dt=K.slice(0,Y/2),gt=K.slice(Y/2+1)):vt&&(dt=K.slice(0,Y/2+1),gt=K.slice(Y/2)),te.q1=C.interp(dt,.5),te.q3=C.interp(gt,.5)}else te.q1=C.interp(K,.25),te.q3=C.interp(K,.75);te.lf=b(te,K,Y),te.uf=f(te,K,Y),te.lo=w(te),te.uo=v(te);var Mt=o(te,Y);te.ln=te.med-Mt,te.un=te.med+Mt,nt=Math.min(nt,te.ln),qe=Math.max(qe,te.un),te.pts2=fe.filter(re),T.push(te)}M._extremes[k._id]=L.findExtremes(k,M.notched?Le.concat([nt,qe]):Le,{padded:!0})}return s(T,M),T.length>0?(T[0].t={num:P[i],dPos:J,posLetter:z,valLetter:_,labels:{med:h(S,"median:"),min:h(S,"min:"),q1:h(S,"q1:"),q3:h(S,"q3:"),max:h(S,"max:"),mean:M.boxmean==="sd"?h(S,"mean  :"):h(S,"mean:"),lf:h(S,"lower fence:"),uf:h(S,"upper fence:")}},P[i]++,T):[{t:{empty:!0}}]};function g(d,S,M,P){var x=S in d,E=S+"0"in d,T="d"+S in d;if(x||E&&T){var i=M.makeCalcdata(d,S),R=n(d,M,S,i).vals;return[R,i]}var A;E?A=d[S+"0"]:"name"in d&&(M.type==="category"||p(d.name)&&["linear","log"].indexOf(M.type)!==-1||C.isDateTime(d.name)&&M.type==="date")?A=d.name:A=P;for(var k=M.type==="multicategory"?M.r2c_just_indices(A):M.d2c(A,0,d[S+"calendar"]),_=d._length,H=new Array(_),z=0;z<_;z++)H[z]=k;return[H]}function t(d,S){for(var M=d.length,P=new Array(M+1),x=0;x<M;x++)P[x]=d[x]-S;return P[M]=d[M-1]+S,P}function r(d){for(var S=new Array(d),M=0;M<d;M++)S[M]=[];return S}var l={text:"tx",hovertext:"htx"};function a(d,S,M){for(var P in l)C.isArrayOrTypedArray(S[P])&&(Array.isArray(M)?C.isArrayOrTypedArray(S[P][M[0]])&&(d[l[P]]=S[P][M[0]][M[1]]):d[l[P]]=S[P][M])}function s(d,S){if(C.isArrayOrTypedArray(S.selectedpoints))for(var M=0;M<d.length;M++){for(var P=d[M].pts||[],x={},E=0;E<P.length;E++)x[P[E].i]=E;C.tagSelected(P,S,x)}}function c(d,S){return d.v-S.v}function u(d){return d.v}function b(d,S,M){return M===0?d.q1:Math.min(d.q1,S[Math.min(C.findBin(2.5*d.q1-1.5*d.q3,S,!0)+1,M-1)])}function f(d,S,M){return M===0?d.q3:Math.max(d.q3,S[Math.max(C.findBin(2.5*d.q3-1.5*d.q1,S),0)])}function w(d){return 4*d.q1-3*d.q3}function v(d){return 4*d.q3-3*d.q1}function o(d,S){return S===0?0:1.57*(d.q3-d.q1)/Math.sqrt(S)}},37188:function(V,B,e){var p=e(89298),L=e(71828),n=e(99082).getAxisGroup,C=["v","h"];function y(g,t){for(var r=g.calcdata,l=t.xaxis,a=t.yaxis,s=0;s<C.length;s++){for(var c=C[s],u=c==="h"?a:l,b=[],f=0;f<r.length;f++){var w=r[f],v=w[0].t,o=w[0].trace;o.visible===!0&&(o.type==="box"||o.type==="candlestick")&&!v.empty&&(o.orientation||"v")===c&&o.xaxis===l._id&&o.yaxis===a._id&&b.push(f)}h("box",g,b,u)}}function h(g,t,r,l){var a=t.calcdata,s=t._fullLayout,c=l._id,u=c.charAt(0),b,f,w,v=[],o=0;for(b=0;b<r.length;b++)for(w=a[r[b]],f=0;f<w.length;f++)v.push(l.c2l(w[f].pos,!0)),o+=(w[f].pts2||[]).length;if(v.length){var d=L.distinctVals(v);(l.type==="category"||l.type==="multicategory")&&(d.minDiff=1);var S=d.minDiff/2;p.minDtick(l,d.minDiff,d.vals[0],!0);var M=g==="violin"?"_numViolins":"_numBoxes",P=s[M],x=s[g+"mode"]==="group"&&P>1,E=1-s[g+"gap"],T=1-s[g+"groupgap"];for(b=0;b<r.length;b++){w=a[r[b]];var i=w[0].trace,R=w[0].t,A=i.width,k=i.side,_,H,z,N;if(A)_=H=N=A/2,z=0;else if(_=S,x){var O=n(s,l._id)+i.orientation,F=s._alignmentOpts[O]||{},U=F[i.alignmentgroup]||{},Z=Object.keys(U.offsetGroups||{}).length,q=Z||P,J=Z?i._offsetIndex:R.num;H=_*E*T/q,z=2*_*(-.5+(J+.5)/q)*E,N=_*E/q}else H=_*E*T,z=0,N=_;R.dPos=_,R.bPos=z,R.bdPos=H,R.wHover=N;var te,fe,K=z+H,Y,W,X,re,se,Q,ee=!!A,le=(i.boxpoints||i.points)&&o>0;if(k==="positive"?(te=_*(A?1:.5),Y=K,fe=Y=z):k==="negative"?(te=Y=z,fe=_*(A?1:.5),W=K):(te=fe=_,Y=W=K),le){var oe=i.pointpos,he=i.jitter,xe=i.marker.size/2,Ae=0;oe+he>=0&&(Ae=K*(oe+he),Ae>te?(ee=!0,se=xe,X=Ae):Ae>Y&&(se=xe,X=te)),Ae<=te&&(X=te);var Se=0;oe-he<=0&&(Se=-K*(oe-he),Se>fe?(ee=!0,Q=xe,re=Se):Se>W&&(Q=xe,re=fe)),Se<=fe&&(re=fe)}else X=te,re=fe;var Oe=new Array(w.length);for(f=0;f<w.length;f++)Oe[f]=w[f].pos;i._extremes[c]=p.findExtremes(l,Oe,{padded:ee,vpadminus:re,vpadplus:X,vpadLinearized:!0,ppadminus:{x:Q,y:se}[u],ppadplus:{x:se,y:Q}[u]})}}}V.exports={crossTraceCalc:y,setPositionOffset:h}},36411:function(V,B,e){var p=e(71828),L=e(73972),n=e(7901),C=e(73927),y=e(26125),h=e(4322),g=e(53522);function t(s,c,u,b){function f(x,E){return p.coerce(s,c,g,x,E)}if(r(s,c,f,b),c.visible!==!1){C(s,c,b,f),f("xhoverformat"),f("yhoverformat");var w=c._hasPreCompStats;w&&(f("lowerfence"),f("upperfence")),f("line.color",(s.marker||{}).color||u),f("line.width"),f("fillcolor",n.addOpacity(c.line.color,.5));var v=!1;if(w){var o=f("mean"),d=f("sd");o&&o.length&&(v=!0,d&&d.length&&(v="sd"))}f("boxmean",v),f("whiskerwidth"),f("width"),f("quartilemethod");var S=!1;if(w){var M=f("notchspan");M&&M.length&&(S=!0)}else p.validate(s.notchwidth,g.notchwidth)&&(S=!0);var P=f("notched",S);P&&f("notchwidth"),l(s,c,f,{prefix:"box"})}}function r(s,c,u,b){function f(Z){var q=0;return Z&&Z.length&&(q+=1,p.isArrayOrTypedArray(Z[0])&&Z[0].length&&(q+=1)),q}function w(Z){return p.validate(s[Z],g[Z])}var v=u("y"),o=u("x"),d;if(c.type==="box"){var S=u("q1"),M=u("median"),P=u("q3");c._hasPreCompStats=S&&S.length&&M&&M.length&&P&&P.length,d=Math.min(p.minRowLength(S),p.minRowLength(M),p.minRowLength(P))}var x=f(v),E=f(o),T=x&&p.minRowLength(v),i=E&&p.minRowLength(o),R=b.calendar,A={autotypenumbers:b.autotypenumbers},k,_;if(c._hasPreCompStats)switch(String(E)+String(x)){case"00":var H=w("x0")||w("dx"),z=w("y0")||w("dy");z&&!H?k="h":k="v",_=d;break;case"10":k="v",_=Math.min(d,i);break;case"20":k="h",_=Math.min(d,o.length);break;case"01":k="h",_=Math.min(d,T);break;case"02":k="v",_=Math.min(d,v.length);break;case"12":k="v",_=Math.min(d,i,v.length);break;case"21":k="h",_=Math.min(d,o.length,T);break;case"11":_=0;break;case"22":var N=!1,O;for(O=0;O<o.length;O++)if(h(o[O],R,A)==="category"){N=!0;break}if(N)k="v",_=Math.min(d,i,v.length);else{for(O=0;O<v.length;O++)if(h(v[O],R,A)==="category"){N=!0;break}N?(k="h",_=Math.min(d,o.length,T)):(k="v",_=Math.min(d,i,v.length))}break}else x>0?(k="v",E>0?_=Math.min(i,T):_=Math.min(T)):E>0?(k="h",_=Math.min(i)):_=0;if(!_){c.visible=!1;return}c._length=_;var F=u("orientation",k);c._hasPreCompStats?F==="v"&&E===0?(u("x0",0),u("dx",1)):F==="h"&&x===0&&(u("y0",0),u("dy",1)):F==="v"&&E===0?u("x0"):F==="h"&&x===0&&u("y0");var U=L.getComponentMethod("calendars","handleTraceDefaults");U(s,c,["x","y"],b)}function l(s,c,u,b){var f=b.prefix,w=p.coerce2(s,c,g,"marker.outliercolor"),v=u("marker.line.outliercolor"),o="outliers";c._hasPreCompStats?o="all":(w||v)&&(o="suspectedoutliers");var d=u(f+"points",o);d?(u("jitter",d==="all"?.3:0),u("pointpos",d==="all"?-1.5:0),u("marker.symbol"),u("marker.opacity"),u("marker.size"),u("marker.angle"),u("marker.color",c.line.color),u("marker.line.color"),u("marker.line.width"),d==="suspectedoutliers"&&(u("marker.line.outliercolor",c.marker.color),u("marker.line.outlierwidth")),u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size"),u("text"),u("hovertext")):delete c.marker;var S=u("hoveron");(S==="all"||S.indexOf("points")!==-1)&&u("hovertemplate"),p.coerceSelectionMarkerOpacity(c,u)}function a(s,c){var u,b;function f(o){return p.coerce(b._input,b,g,o)}for(var w=0;w<s.length;w++){b=s[w];var v=b.type;(v==="box"||v==="violin")&&(u=b._input,c[v+"mode"]==="group"&&y(u,b,c,f))}}V.exports={supplyDefaults:t,crossTraceDefaults:a,handleSampleDefaults:r,handlePointsDefaults:l}},74907:function(V){V.exports=function(e,p){return p.hoverOnBox&&(e.hoverOnBox=p.hoverOnBox),"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},41868:function(V,B,e){var p=e(89298),L=e(71828),n=e(30211),C=e(7901),y=L.fillText;function h(r,l,a,s){var c=r.cd,u=c[0].trace,b=u.hoveron,f=[],w;return b.indexOf("boxes")!==-1&&(f=f.concat(g(r,l,a,s))),b.indexOf("points")!==-1&&(w=t(r,l,a)),s==="closest"?w?[w]:f:(w&&f.push(w),f)}function g(r,l,a,s){var c=r.cd,u=r.xa,b=r.ya,f=c[0].trace,w=c[0].t,v=f.type==="violin",o,d,S,M,P,x,E,T,i,R,A,k=w.bdPos,_,H,z=w.wHover,N=function(Se){return S.c2l(Se.pos)+w.bPos-S.c2l(x)};v&&f.side!=="both"?(f.side==="positive"&&(i=function(Se){var Oe=N(Se);return n.inbox(Oe,Oe+z,R)},_=k,H=0),f.side==="negative"&&(i=function(Se){var Oe=N(Se);return n.inbox(Oe-z,Oe,R)},_=0,H=k)):(i=function(Se){var Oe=N(Se);return n.inbox(Oe-z,Oe+z,R)},_=H=k);var O;v?O=function(Se){return n.inbox(Se.span[0]-P,Se.span[1]-P,R)}:O=function(Se){return n.inbox(Se.min-P,Se.max-P,R)},f.orientation==="h"?(P=l,x=a,E=O,T=i,o="y",S=b,d="x",M=u):(P=a,x=l,E=i,T=O,o="x",S=u,d="y",M=b);var F=Math.min(1,k/Math.abs(S.r2c(S.range[1])-S.r2c(S.range[0])));R=r.maxHoverDistance-F,A=r.maxSpikeDistance-F;function U(Se){return(E(Se)+T(Se))/2}var Z=n.getDistanceFunction(s,E,T,U);if(n.getClosest(c,Z,r),r.index===!1)return[];var q=c[r.index],J=f.line.color,te=(f.marker||{}).color;C.opacity(J)&&f.line.width?r.color=J:C.opacity(te)&&f.boxpoints?r.color=te:r.color=f.fillcolor,r[o+"0"]=S.c2p(q.pos+w.bPos-H,!0),r[o+"1"]=S.c2p(q.pos+w.bPos+_,!0),r[o+"LabelVal"]=q.orig_p!==void 0?q.orig_p:q.pos;var fe=o+"Spike";r.spikeDistance=U(q)*A/R,r[fe]=S.c2p(q.pos,!0);var K=f.boxmean||(f.meanline||{}).visible,Y=f.boxpoints||f.points,W=Y&&K?["max","uf","q3","med","mean","q1","lf","min"]:Y&&!K?["max","uf","q3","med","q1","lf","min"]:!Y&&K?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],X=M.range[1]<M.range[0];f.orientation===(X?"v":"h")&&W.reverse();for(var re=r.spikeDistance,se=r[fe],Q=[],ee=0;ee<W.length;ee++){var le=W[ee];if(le in q){var oe=q[le],he=M.c2p(oe,!0),xe=L.extendFlat({},r);xe.attr=le,xe[d+"0"]=xe[d+"1"]=he,xe[d+"LabelVal"]=oe,xe[d+"Label"]=(w.labels?w.labels[le]+" ":"")+p.hoverLabelText(M,oe,f[d+"hoverformat"]),xe.hoverOnBox=!0,le==="mean"&&"sd"in q&&f.boxmean==="sd"&&(xe[d+"err"]=q.sd),xe.hovertemplate=!1,Q.push(xe)}}r.name="",r.spikeDistance=void 0,r[fe]=void 0;for(var Ae=0;Ae<Q.length;Ae++)Q[Ae].attr!=="med"?(Q[Ae].name="",Q[Ae].spikeDistance=void 0,Q[Ae][fe]=void 0):(Q[Ae].spikeDistance=re,Q[Ae][fe]=se);return Q}function t(r,l,a){for(var s=r.cd,c=r.xa,u=r.ya,b=s[0].trace,f=c.c2p(l),w=u.c2p(a),v,o=function(O){var F=Math.max(3,O.mrc||0);return Math.max(Math.abs(c.c2p(O.x)-f)-F,1-3/F)},d=function(O){var F=Math.max(3,O.mrc||0);return Math.max(Math.abs(u.c2p(O.y)-w)-F,1-3/F)},S=n.quadrature(o,d),M=!1,P,x,E=0;E<s.length;E++){P=s[E];for(var T=0;T<(P.pts||[]).length;T++){x=P.pts[T];var i=S(x);i<=r.distance&&(r.distance=i,M=[E,T])}}if(!M)return!1;P=s[M[0]],x=P.pts[M[1]];var R=c.c2p(x.x,!0),A=u.c2p(x.y,!0),k=x.mrc||1;v=L.extendFlat({},r,{index:x.i,color:(b.marker||{}).color,name:b.name,x0:R-k,x1:R+k,y0:A-k,y1:A+k,spikeDistance:r.distance,hovertemplate:b.hovertemplate});var _=P.orig_p,H=_!==void 0?_:P.pos,z;b.orientation==="h"?(z=u,v.xLabelVal=x.x,v.yLabelVal=H):(z=c,v.xLabelVal=H,v.yLabelVal=x.y);var N=z._id.charAt(0);return v[N+"Spike"]=z.c2p(P.pos,!0),y(x,b,v),v}V.exports={hoverPoints:h,hoverOnBoxes:g,hoverOnPoints:t}},83832:function(V,B,e){V.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(V){V.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(V,B,e){var p=e(73972),L=e(71828),n=e(40094);function C(h,g,t,r,l){for(var a=l+"Layout",s=!1,c=0;c<t.length;c++){var u=t[c];if(p.traceIs(u,a)){s=!0;break}}s&&(r(l+"mode"),r(l+"gap"),r(l+"groupgap"))}function y(h,g,t){function r(l,a){return L.coerce(h,g,n,l,a)}C(h,g,t,r,"box")}V.exports={supplyLayoutDefaults:y,_supply:C}},86047:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=5,y=.01;function h(l,a,s,c){var u=l._context.staticPlot,b=a.xaxis,f=a.yaxis;L.makeTraceGroups(c,s,"trace boxes").each(function(w){var v=p.select(this),o=w[0],d=o.t,S=o.trace;if(d.wdPos=d.bdPos*S.whiskerwidth,S.visible!==!0||d.empty){v.remove();return}var M,P;S.orientation==="h"?(M=f,P=b):(M=b,P=f),g(v,{pos:M,val:P},S,d,u),t(v,{x:b,y:f},S,d),r(v,{pos:M,val:P},S,d)})}function g(l,a,s,c,u){var b=s.orientation==="h",f=a.val,w=a.pos,v=!!w.rangebreaks,o=c.bPos,d=c.wdPos||0,S=c.bPosPxOffset||0,M=s.whiskerwidth||0,P=s.notched||!1,x=P?1-2*s.notchwidth:1,E,T;Array.isArray(c.bdPos)?(E=c.bdPos[0],T=c.bdPos[1]):(E=c.bdPos,T=c.bdPos);var i=l.selectAll("path.box").data(s.type!=="violin"||s.box.visible?L.identity:[]);i.enter().append("path").style("vector-effect",u?"none":"non-scaling-stroke").attr("class","box"),i.exit().remove(),i.each(function(R){if(R.empty)return"M0,0Z";var A=w.c2l(R.pos+o,!0),k=w.l2p(A-E)+S,_=w.l2p(A+T)+S,H=v?(k+_)/2:w.l2p(A)+S,z=s.whiskerwidth,N=v?k*z+(1-z)*H:w.l2p(A-d)+S,O=v?_*z+(1-z)*H:w.l2p(A+d)+S,F=w.l2p(A-E*x)+S,U=w.l2p(A+T*x)+S,Z=f.c2p(R.q1,!0),q=f.c2p(R.q3,!0),J=L.constrain(f.c2p(R.med,!0),Math.min(Z,q)+1,Math.max(Z,q)-1),te=R.lf===void 0||s.boxpoints===!1,fe=f.c2p(te?R.min:R.lf,!0),K=f.c2p(te?R.max:R.uf,!0),Y=f.c2p(R.ln,!0),W=f.c2p(R.un,!0);b?p.select(this).attr("d","M"+J+","+F+"V"+U+"M"+Z+","+k+"V"+_+(P?"H"+Y+"L"+J+","+U+"L"+W+","+_:"")+"H"+q+"V"+k+(P?"H"+W+"L"+J+","+F+"L"+Y+","+k:"")+"ZM"+Z+","+H+"H"+fe+"M"+q+","+H+"H"+K+(M===0?"":"M"+fe+","+N+"V"+O+"M"+K+","+N+"V"+O)):p.select(this).attr("d","M"+F+","+J+"H"+U+"M"+k+","+Z+"H"+_+(P?"V"+Y+"L"+U+","+J+"L"+_+","+W:"")+"V"+q+"H"+k+(P?"V"+W+"L"+F+","+J+"L"+k+","+Y:"")+"ZM"+H+","+Z+"V"+fe+"M"+H+","+q+"V"+K+(M===0?"":"M"+N+","+fe+"H"+O+"M"+N+","+K+"H"+O))})}function t(l,a,s,c){var u=a.x,b=a.y,f=c.bdPos,w=c.bPos,v=s.boxpoints||s.points;L.seedPseudoRandom();var o=function(M){return M.forEach(function(P){P.t=c,P.trace=s}),M},d=l.selectAll("g.points").data(v?o:[]);d.enter().append("g").attr("class","points"),d.exit().remove();var S=d.selectAll("path").data(function(M){var P,x=M.pts2,E=Math.max((M.max-M.min)/10,M.q3-M.q1),T=E*1e-9,i=E*y,R=[],A=0,k;if(s.jitter){if(E===0)for(A=1,R=new Array(x.length),P=0;P<x.length;P++)R[P]=1;else for(P=0;P<x.length;P++){var _=Math.max(0,P-C),H=x[_].v,z=Math.min(x.length-1,P+C),N=x[z].v;v!=="all"&&(x[P].v<M.lf?N=Math.min(N,M.lf):H=Math.max(H,M.uf));var O=Math.sqrt(i*(z-_)/(N-H+T))||0;O=L.constrain(Math.abs(O),0,1),R.push(O),A=Math.max(O,A)}k=s.jitter*2/(A||1)}for(P=0;P<x.length;P++){var F=x[P],U=F.v,Z=s.jitter?k*R[P]*(L.pseudoRandom()-.5):0,q=M.pos+w+f*(s.pointpos+Z);s.orientation==="h"?(F.y=q,F.x=U):(F.x=q,F.y=U),v==="suspectedoutliers"&&U<M.uo&&U>M.lo&&(F.so=!0)}return x});S.enter().append("path").classed("point",!0),S.exit().remove(),S.call(n.translatePoints,u,b)}function r(l,a,s,c){var u=a.val,b=a.pos,f=!!b.rangebreaks,w=c.bPos,v=c.bPosPxOffset||0,o=s.boxmean||(s.meanline||{}).visible,d,S;Array.isArray(c.bdPos)?(d=c.bdPos[0],S=c.bdPos[1]):(d=c.bdPos,S=c.bdPos);var M=l.selectAll("path.mean").data(s.type==="box"&&s.boxmean||s.type==="violin"&&s.box.visible&&s.meanline.visible?L.identity:[]);M.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),M.exit().remove(),M.each(function(P){var x=b.c2l(P.pos+w,!0),E=b.l2p(x-d)+v,T=b.l2p(x+S)+v,i=f?(E+T)/2:b.l2p(x)+v,R=u.c2p(P.mean,!0),A=u.c2p(P.mean-P.sd,!0),k=u.c2p(P.mean+P.sd,!0);s.orientation==="h"?p.select(this).attr("d","M"+R+","+E+"V"+T+(o==="sd"?"m0,0L"+A+","+i+"L"+R+","+E+"L"+k+","+i+"Z":"")):p.select(this).attr("d","M"+E+","+R+"H"+T+(o==="sd"?"m0,0L"+i+","+A+"L"+E+","+R+"L"+i+","+k+"Z":""))})}V.exports={plot:h,plotBoxAndWhiskers:g,plotPoints:t,plotBoxMean:r}},24626:function(V){V.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,y=[],h,g;if(p===!1)for(h=0;h<L.length;h++)for(g=0;g<(L[h].pts||[]).length;g++)L[h].pts[g].selected=0;else for(h=0;h<L.length;h++)for(g=0;g<(L[h].pts||[]).length;g++){var t=L[h].pts[g],r=n.c2p(t.x),l=C.c2p(t.y);p.contains([r,l],null,t.i,e)?(y.push({pointNumber:t.i,x:n.c2d(t.x),y:C.c2d(t.y)}),t.selected=1):t.selected=0}return y}},58063:function(V,B,e){var p=e(39898),L=e(7901),n=e(91424);function C(h,g,t){var r=t||p.select(h).selectAll("g.trace.boxes");r.style("opacity",function(l){return l[0].trace.opacity}),r.each(function(l){var a=p.select(this),s=l[0].trace,c=s.line.width;function u(w,v,o,d){w.style("stroke-width",v+"px").call(L.stroke,o).call(L.fill,d)}var b=a.selectAll("path.box");if(s.type==="candlestick")b.each(function(w){if(!w.empty){var v=p.select(this),o=s[w.dir];u(v,o.line.width,o.line.color,o.fillcolor),v.style("opacity",s.selectedpoints&&!w.selected?.3:1)}});else{u(b,c,s.line.color,s.fillcolor),a.selectAll("path.mean").style({"stroke-width":c,"stroke-dasharray":2*c+"px,"+c+"px"}).call(L.stroke,s.line.color);var f=a.selectAll("path.point");n.pointStyle(f,s,h)}})}function y(h,g,t){var r=g[0].trace,l=t.selectAll("path.point");r.selectedpoints?n.selectedPointStyle(l,r):n.pointStyle(l,r,h)}V.exports={style:C,styleOnSelect:y}},75343:function(V,B,e){var p=e(71828).extendFlat,L=e(12663).axisHoverFormat,n=e(2522),C=e(53522);function y(h){return{line:{color:p({},C.line.color,{dflt:h}),width:C.line.width,editType:"style"},fillcolor:C.fillcolor,editType:"style"}}V.exports={xperiod:n.xperiod,xperiod0:n.xperiod0,xperiodalignment:n.xperiodalignment,xhoverformat:L("x"),yhoverformat:L("y"),x:n.x,open:n.open,high:n.high,low:n.low,close:n.close,line:{width:p({},C.line.width,{}),editType:"style"},increasing:y(n.increasing.line.color.dflt),decreasing:y(n.decreasing.line.color.dflt),text:n.text,hovertext:n.hovertext,whiskerwidth:p({},C.whiskerwidth,{dflt:0}),hoverlabel:n.hoverlabel}},41197:function(V,B,e){var p=e(71828),L=e(89298),n=e(42973),C=e(3485).calcCommon;V.exports=function(h,g){var t=h._fullLayout,r=L.getFromId(h,g.xaxis),l=L.getFromId(h,g.yaxis),a=r.makeCalcdata(g,"x"),s=n(g,r,"x",a).vals,c=C(h,g,a,s,l,y);return c.length?(p.extendFlat(c[0].t,{num:t._numBoxes,dPos:p.distinctVals(s).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,c):[{t:{empty:!0}}]};function y(h,g,t,r){return{min:t,q1:Math.min(h,r),med:r,q3:Math.max(h,r),max:g}}},1026:function(V,B,e){var p=e(71828),L=e(7901),n=e(14555),C=e(73927),y=e(75343);V.exports=function(t,r,l,a){function s(u,b){return p.coerce(t,r,y,u,b)}var c=n(t,r,s,a);if(!c){r.visible=!1;return}C(t,r,a,s,{x:!0}),s("xhoverformat"),s("yhoverformat"),s("line.width"),h(t,r,s,"increasing"),h(t,r,s,"decreasing"),s("text"),s("hovertext"),s("whiskerwidth"),a._requestRangeslider[r.xaxis]=!0};function h(g,t,r,l){var a=r(l+".line.color");r(l+".line.width",t.line.width),r(l+".fillcolor",L.addOpacity(a,.5))}},91815:function(V,B,e){V.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(V,B,e){var p=e(11500),L=e(44467);V.exports=function(y,h,g,t,r){var l=t("a");l||(t("da"),t("a0"));var a=t("b");a||(t("db"),t("b0")),n(y,h,g,r)};function n(C,y,h,g){var t=["aaxis","baxis"];t.forEach(function(r){var l=r.charAt(0),a=C[r]||{},s=L.newContainer(y,r),c={noTicklabelstep:!0,tickfont:"x",id:l+"axis",letter:l,font:y.font,name:r,data:C[l],calendar:y.calendar,dfltColor:g,bgColor:h.paper_bgcolor,autotypenumbersDflt:h.autotypenumbers,fullLayout:h};p(a,s,c),s._categories=s._categories||[],!C[r]&&a.type!=="-"&&(C[r]={type:a.type})})}},402:function(V,B,e){var p=e(71828).isArrayOrTypedArray;V.exports=function(n){return L(n,0)};function L(n,C){if(!p(n)||C>=10)return null;for(var y=1/0,h=-1/0,g=n.length,t=0;t<g;t++){var r=n[t];if(p(r)){var l=L(r,C+1);l&&(y=Math.min(l[0],y),h=Math.max(l[1],h))}else y=Math.min(r,y),h=Math.max(r,h)}return[y,h]}},99798:function(V,B,e){var p=e(41940),L=e(1928),n=e(22399),C=p({editType:"calc"});C.family.dflt='"Open Sans", verdana, arial, sans-serif',C.size.dflt=12,C.color.dflt=n.defaultLine,V.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:L,baxis:L,font:C,color:{valType:"color",dflt:n.defaultLine,editType:"plot"},transforms:void 0}},4536:function(V,B,e){var p=e(71828).isArrayOrTypedArray;V.exports=function(L,n,C,y){var h,g,t,r,l,a,s,c,u,b,f,w,v,o=p(C)?"a":"b",d=o==="a"?L.aaxis:L.baxis,S=d.smoothing,M=o==="a"?L.a2i:L.b2j,P=o==="a"?C:y,x=o==="a"?y:C,E=o==="a"?n.a.length:n.b.length,T=o==="a"?n.b.length:n.a.length,i=Math.floor(o==="a"?L.b2j(x):L.a2i(x)),R=o==="a"?function(J){return L.evalxy([],J,i)}:function(J){return L.evalxy([],i,J)};S&&(t=Math.max(0,Math.min(T-2,i)),r=i-t,g=o==="a"?function(J,te){return L.dxydi([],J,t,te,r)}:function(J,te){return L.dxydj([],t,J,r,te)});var A=M(P[0]),k=M(P[1]),_=A<k?1:-1,H=(k-A)*1e-8,z=_>0?Math.floor:Math.ceil,N=_>0?Math.ceil:Math.floor,O=_>0?Math.min:Math.max,F=_>0?Math.max:Math.min,U=z(A+H),Z=N(k-H);s=R(A);var q=[[s]];for(h=U;h*_<Z*_;h+=_)l=[],f=F(A,h),w=O(k,h+_),v=w-f,a=Math.max(0,Math.min(E-2,Math.floor(.5*(f+w)))),c=R(w),S&&(u=g(a,f-a),b=g(a,w-a),l.push([s[0]+u[0]/3*v,s[1]+u[1]/3*v]),l.push([c[0]-b[0]/3*v,c[1]-b[1]/3*v])),l.push(c),q.push(l),s=c;return q}},1928:function(V,B,e){var p=e(41940),L=e(22399),n=e(13838),C=e(12663).descriptionWithDates,y=e(30962).overrideAll,h=e(79952).P,g=e(1426).extendFlat;V.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:p({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:n.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:g({},n.labelalias,{editType:"calc"}),tickfont:p({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:C("tick label")},tickformatstops:y(n.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:L.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:g({},h,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:g({},h,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:L.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:p({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(V,B,e){var p=e(99798),L=e(7901).addOpacity,n=e(73972),C=e(71828),y=e(26218),h=e(96115),g=e(89426),t=e(15258),r=e(21994),l=e(4322);V.exports=function(c,u,b){var f=b.letter,w=b.font||{},v=p[f+"axis"];function o(U,Z){return C.coerce(c,u,v,U,Z)}function d(U,Z){return C.coerce2(c,u,v,U,Z)}b.name&&(u._name=b.name,u._id=b.name),o("autotypenumbers",b.autotypenumbersDflt);var S=o("type");if(S==="-"&&(b.data&&a(u,b.data),u.type==="-"?u.type="linear":S=c.type=u.type),o("smoothing"),o("cheatertype"),o("showticklabels"),o("labelprefix",f+" = "),o("labelsuffix"),o("showtickprefix"),o("showticksuffix"),o("separatethousands"),o("tickformat"),o("exponentformat"),o("minexponent"),o("showexponent"),o("categoryorder"),o("tickmode"),o("tickvals"),o("ticktext"),o("tick0"),o("dtick"),u.tickmode==="array"&&(o("arraytick0"),o("arraydtick")),o("labelpadding"),u._hovertitle=f,S==="date"){var M=n.getComponentMethod("calendars","handleDefaults");M(c,u,"calendar",b.calendar)}r(u,b.fullLayout),u.c2p=C.identity;var P=o("color",b.dfltColor),x=P===c.color?P:w.color,E=o("title.text");E&&(C.coerceFont(o,"title.font",{family:w.family,size:C.bigFont(w.size),color:x}),o("title.offset")),o("tickangle");var T=o("autorange",!u.isValidRange(c.range));T&&o("rangemode"),o("range"),u.cleanRange(),o("fixedrange"),y(c,u,o,S),g(c,u,o,S,b),h(c,u,o,S,b),t(c,u,o,{data:b.data,dataAttr:f});var i=d("gridcolor",L(P,.3)),R=d("gridwidth"),A=d("griddash"),k=o("showgrid");k||(delete u.gridcolor,delete u.gridwidth,delete u.griddash);var _=d("startlinecolor",P),H=d("startlinewidth",R),z=o("startline",u.showgrid||!!_||!!H);z||(delete u.startlinecolor,delete u.startlinewidth);var N=d("endlinecolor",P),O=d("endlinewidth",R),F=o("endline",u.showgrid||!!N||!!O);return F||(delete u.endlinecolor,delete u.endlinewidth),k?(o("minorgridcount"),o("minorgridwidth",R),o("minorgriddash",A),o("minorgridcolor",L(i,.06)),u.minorgridcount||(delete u.minorgridwidth,delete u.minorgriddash,delete u.minorgridcolor)):(delete u.gridcolor,delete u.gridwidth,delete u.griddash),u.showticklabels==="none"&&(delete u.tickfont,delete u.tickangle,delete u.showexponent,delete u.exponentformat,delete u.minexponent,delete u.tickformat,delete u.showticksuffix,delete u.showtickprefix),u.showticksuffix||delete u.ticksuffix,u.showtickprefix||delete u.tickprefix,o("tickmode"),u};function a(s,c){if(s.type==="-"){var u=s._id,b=u.charAt(0),f=b+"calendar",w=s[f];s.type=l(c,w,{autotypenumbers:s.autotypenumbers})}}},25281:function(V,B,e){var p=e(89298),L=e(71828).isArray1D,n=e(53824),C=e(402),y=e(20347),h=e(83311),g=e(44807),t=e(4742),r=e(72505),l=e(68296),a=e(11435);V.exports=function(c,u){var b=p.getFromId(c,u.xaxis),f=p.getFromId(c,u.yaxis),w=u.aaxis,v=u.baxis,o=u.x,d=u.y,S=[];o&&L(o)&&S.push("x"),d&&L(d)&&S.push("y"),S.length&&l(u,w,v,"a","b",S);var M=u._a=u._a||u.a,P=u._b=u._b||u.b;o=u._x||u.x,d=u._y||u.y;var x={};if(u._cheater){var E=w.cheatertype==="index"?M.length:M,T=v.cheatertype==="index"?P.length:P;o=n(E,T,u.cheaterslope)}u._x=o=t(o),u._y=d=t(d),r(o,M,P),r(d,M,P),a(u),u.setScale();var i=C(o),R=C(d),A=.5*(i[1]-i[0]),k=.5*(i[1]+i[0]),_=.5*(R[1]-R[0]),H=.5*(R[1]+R[0]),z=1.3;return i=[k-A*z,k+A*z],R=[H-_*z,H+_*z],u._extremes[b._id]=p.findExtremes(b,i,{padded:!0}),u._extremes[f._id]=p.findExtremes(f,R,{padded:!0}),y(u,"a","b"),y(u,"b","a"),h(u,w),h(u,v),x.clipsegments=g(u._xctrl,u._yctrl,w,v),x.x=o,x.y=d,x.a=M,x.b=P,[x]}},44807:function(V){V.exports=function(e,p,L,n){var C,y,h,g=[],t=!!L.smoothing,r=!!n.smoothing,l=e[0].length-1,a=e.length-1;for(C=0,y=[],h=[];C<=l;C++)y[C]=e[0][C],h[C]=p[0][C];for(g.push({x:y,y:h,bicubic:t}),C=0,y=[],h=[];C<=a;C++)y[C]=e[C][l],h[C]=p[C][l];for(g.push({x:y,y:h,bicubic:r}),C=l,y=[],h=[];C>=0;C--)y[l-C]=e[a][C],h[l-C]=p[a][C];for(g.push({x:y,y:h,bicubic:t}),C=a,y=[],h=[];C>=0;C--)y[a-C]=e[C][0],h[a-C]=p[C][0];return g.push({x:y,y:h,bicubic:r}),g}},20347:function(V,B,e){var p=e(89298),L=e(1426).extendFlat;V.exports=function(C,y,h){var g,t,r,l,a,s,c,u,b,f,w,v,o,d,S=C["_"+y],M=C[y+"axis"],P=M._gridlines=[],x=M._minorgridlines=[],E=M._boundarylines=[],T=C["_"+h],i=C[h+"axis"];M.tickmode==="array"&&(M.tickvals=S.slice());var R=C._xctrl,A=C._yctrl,k=R[0].length,_=R.length,H=C._a.length,z=C._b.length;p.prepTicks(M),M.tickmode==="array"&&delete M.tickvals;var N=M.smoothing?3:1;function O(U){var Z,q,J,te,fe,K,Y,W,X,re,se,Q,ee=[],le=[],oe={};if(y==="b")for(q=C.b2j(U),J=Math.floor(Math.max(0,Math.min(z-2,q))),te=q-J,oe.length=z,oe.crossLength=H,oe.xy=function(he){return C.evalxy([],he,q)},oe.dxy=function(he,xe){return C.dxydi([],he,J,xe,te)},Z=0;Z<H;Z++)K=Math.min(H-2,Z),Y=Z-K,W=C.evalxy([],Z,q),i.smoothing&&Z>0&&(X=C.dxydi([],Z-1,J,0,te),ee.push(fe[0]+X[0]/3),le.push(fe[1]+X[1]/3),re=C.dxydi([],Z-1,J,1,te),ee.push(W[0]-re[0]/3),le.push(W[1]-re[1]/3)),ee.push(W[0]),le.push(W[1]),fe=W;else for(Z=C.a2i(U),K=Math.floor(Math.max(0,Math.min(H-2,Z))),Y=Z-K,oe.length=H,oe.crossLength=z,oe.xy=function(he){return C.evalxy([],Z,he)},oe.dxy=function(he,xe){return C.dxydj([],K,he,Y,xe)},q=0;q<z;q++)J=Math.min(z-2,q),te=q-J,W=C.evalxy([],Z,q),i.smoothing&&q>0&&(se=C.dxydj([],K,q-1,Y,0),ee.push(fe[0]+se[0]/3),le.push(fe[1]+se[1]/3),Q=C.dxydj([],K,q-1,Y,1),ee.push(W[0]-Q[0]/3),le.push(W[1]-Q[1]/3)),ee.push(W[0]),le.push(W[1]),fe=W;return oe.axisLetter=y,oe.axis=M,oe.crossAxis=i,oe.value=U,oe.constvar=h,oe.index=u,oe.x=ee,oe.y=le,oe.smoothing=i.smoothing,oe}function F(U){var Z,q,J,te,fe,K=[],Y=[],W={};if(W.length=S.length,W.crossLength=T.length,y==="b")for(J=Math.max(0,Math.min(z-2,U)),fe=Math.min(1,Math.max(0,U-J)),W.xy=function(X){return C.evalxy([],X,U)},W.dxy=function(X,re){return C.dxydi([],X,J,re,fe)},Z=0;Z<k;Z++)K[Z]=R[U*N][Z],Y[Z]=A[U*N][Z];else for(q=Math.max(0,Math.min(H-2,U)),te=Math.min(1,Math.max(0,U-q)),W.xy=function(X){return C.evalxy([],U,X)},W.dxy=function(X,re){return C.dxydj([],q,X,te,re)},Z=0;Z<_;Z++)K[Z]=R[Z][U*N],Y[Z]=A[Z][U*N];return W.axisLetter=y,W.axis=M,W.crossAxis=i,W.value=S[U],W.constvar=h,W.index=U,W.x=K,W.y=Y,W.smoothing=i.smoothing,W}if(M.tickmode==="array"){for(l=5e-15,a=[Math.floor((S.length-1-M.arraytick0)/M.arraydtick*(1+l)),Math.ceil(-M.arraytick0/M.arraydtick/(1+l))].sort(function(U,Z){return U-Z}),s=a[0]-1,c=a[1]+1,u=s;u<c;u++)t=M.arraytick0+M.arraydtick*u,!(t<0||t>S.length-1)&&P.push(L(F(t),{color:M.gridcolor,width:M.gridwidth,dash:M.griddash}));for(u=s;u<c;u++)if(r=M.arraytick0+M.arraydtick*u,w=Math.min(r+M.arraydtick,S.length-1),!(r<0||r>S.length-1)&&!(w<0||w>S.length-1))for(v=S[r],o=S[w],g=0;g<M.minorgridcount;g++)d=w-r,!(d<=0)&&(f=v+(o-v)*(g+1)/(M.minorgridcount+1)*(M.arraydtick/d),!(f<S[0]||f>S[S.length-1])&&x.push(L(O(f),{color:M.minorgridcolor,width:M.minorgridwidth,dash:M.minorgriddash})));M.startline&&E.push(L(F(0),{color:M.startlinecolor,width:M.startlinewidth})),M.endline&&E.push(L(F(S.length-1),{color:M.endlinecolor,width:M.endlinewidth}))}else{for(l=5e-15,a=[Math.floor((S[S.length-1]-M.tick0)/M.dtick*(1+l)),Math.ceil((S[0]-M.tick0)/M.dtick/(1+l))].sort(function(U,Z){return U-Z}),s=a[0],c=a[1],u=s;u<=c;u++)b=M.tick0+M.dtick*u,P.push(L(O(b),{color:M.gridcolor,width:M.gridwidth,dash:M.griddash}));for(u=s-1;u<c+1;u++)for(b=M.tick0+M.dtick*u,g=0;g<M.minorgridcount;g++)f=b+M.dtick*(g+1)/(M.minorgridcount+1),!(f<S[0]||f>S[S.length-1])&&x.push(L(O(f),{color:M.minorgridcolor,width:M.minorgridwidth,dash:M.minorgriddash}));M.startline&&E.push(L(O(S[0]),{color:M.startlinecolor,width:M.startlinewidth})),M.endline&&E.push(L(O(S[S.length-1]),{color:M.endlinecolor,width:M.endlinewidth}))}}},83311:function(V,B,e){var p=e(89298),L=e(1426).extendFlat;V.exports=function(C,y){var h,g,t,r,l,a=y._labels=[],s=y._gridlines;for(h=0;h<s.length;h++)l=s[h],["start","both"].indexOf(y.showticklabels)!==-1&&(g=p.tickText(y,l.value),L(g,{prefix:t,suffix:r,endAnchor:!0,xy:l.xy(0),dxy:l.dxy(0,0),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:h===0,isLast:h===s.length-1}),a.push(g)),["end","both"].indexOf(y.showticklabels)!==-1&&(g=p.tickText(y,l.value),L(g,{endAnchor:!1,xy:l.xy(l.crossLength-1),dxy:l.dxy(l.crossLength-2,1),axis:l.axis,length:l.crossAxis.length,font:l.axis.tickfont,isFirst:h===0,isLast:h===s.length-1}),a.push(g))}},42048:function(V){var B=.5;V.exports=function(p,L,n,C){var y=p[0]-L[0],h=p[1]-L[1],g=n[0]-L[0],t=n[1]-L[1],r=Math.pow(y*y+h*h,B/2),l=Math.pow(g*g+t*t,B/2),a=(l*l*y-r*r*g)*C,s=(l*l*h-r*r*t)*C,c=l*(r+l)*3,u=r*(r+l)*3;return[[L[0]+(c&&a/c),L[1]+(c&&s/c)],[L[0]-(u&&a/u),L[1]-(u&&s/u)]]}},53824:function(V,B,e){var p=e(71828).isArrayOrTypedArray;V.exports=function(L,n,C){var y,h,g,t,r,l,a=[],s=p(L)?L.length:L,c=p(n)?n.length:n,u=p(L)?L:null,b=p(n)?n:null;u&&(g=(u.length-1)/(u[u.length-1]-u[0])/(s-1)),b&&(t=(b.length-1)/(b[b.length-1]-b[0])/(c-1));var f,w=1/0,v=-1/0;for(h=0;h<c;h++)for(a[h]=[],l=b?(b[h]-b[0])*t:h/(c-1),y=0;y<s;y++)r=u?(u[y]-u[0])*g:y/(s-1),f=r-l*C,w=Math.min(f,w),v=Math.max(f,v),a[h][y]=f;var o=1/(v-w),d=-w*o;for(h=0;h<c;h++)for(y=0;y<s;y++)a[h][y]=o*a[h][y]+d;return a}},45664:function(V,B,e){var p=e(42048),L=e(71828).ensureArray;function n(C,y,h){var g=-.5*h[0]+1.5*y[0],t=-.5*h[1]+1.5*y[1];return[(2*g+C[0])/3,(2*t+C[1])/3]}V.exports=function(y,h,g,t,r,l){var a,s,c,u,b,f,w,v,o,d,S=g[0].length,M=g.length,P=r?3*S-2:S,x=l?3*M-2:M;for(y=L(y,x),h=L(h,x),c=0;c<x;c++)y[c]=L(y[c],P),h[c]=L(h[c],P);for(s=0,u=0;s<M;s++,u+=l?3:1)for(b=y[u],f=h[u],w=g[s],v=t[s],a=0,c=0;a<S;a++,c+=r?3:1)b[c]=w[a],f[c]=v[a];if(r)for(s=0,u=0;s<M;s++,u+=l?3:1){for(a=1,c=3;a<S-1;a++,c+=3)o=p([g[s][a-1],t[s][a-1]],[g[s][a],t[s][a]],[g[s][a+1],t[s][a+1]],r),y[u][c-1]=o[0][0],h[u][c-1]=o[0][1],y[u][c+1]=o[1][0],h[u][c+1]=o[1][1];d=n([y[u][0],h[u][0]],[y[u][2],h[u][2]],[y[u][3],h[u][3]]),y[u][1]=d[0],h[u][1]=d[1],d=n([y[u][P-1],h[u][P-1]],[y[u][P-3],h[u][P-3]],[y[u][P-4],h[u][P-4]]),y[u][P-2]=d[0],h[u][P-2]=d[1]}if(l)for(c=0;c<P;c++){for(u=3;u<x-3;u+=3)o=p([y[u-3][c],h[u-3][c]],[y[u][c],h[u][c]],[y[u+3][c],h[u+3][c]],l),y[u-1][c]=o[0][0],h[u-1][c]=o[0][1],y[u+1][c]=o[1][0],h[u+1][c]=o[1][1];d=n([y[0][c],h[0][c]],[y[2][c],h[2][c]],[y[3][c],h[3][c]]),y[1][c]=d[0],h[1][c]=d[1],d=n([y[x-1][c],h[x-1][c]],[y[x-3][c],h[x-3][c]],[y[x-4][c],h[x-4][c]]),y[x-2][c]=d[0],h[x-2][c]=d[1]}if(r&&l)for(u=1;u<x;u+=(u+1)%3===0?2:1){for(c=3;c<P-3;c+=3)o=p([y[u][c-3],h[u][c-3]],[y[u][c],h[u][c]],[y[u][c+3],h[u][c+3]],r),y[u][c-1]=.5*(y[u][c-1]+o[0][0]),h[u][c-1]=.5*(h[u][c-1]+o[0][1]),y[u][c+1]=.5*(y[u][c+1]+o[1][0]),h[u][c+1]=.5*(h[u][c+1]+o[1][1]);d=n([y[u][0],h[u][0]],[y[u][2],h[u][2]],[y[u][3],h[u][3]]),y[u][1]=.5*(y[u][1]+d[0]),h[u][1]=.5*(h[u][1]+d[1]),d=n([y[u][P-1],h[u][P-1]],[y[u][P-3],h[u][P-3]],[y[u][P-4],h[u][P-4]]),y[u][P-2]=.5*(y[u][P-2]+d[0]),h[u][P-2]=.5*(h[u][P-2]+d[1])}return[y,h]}},35509:function(V){V.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(V){V.exports=function(B,e,p){return e&&p?function(L,n,C,y,h){L||(L=[]);var g,t,r,l,a,s;n*=3,C*=3;var c=y*y,u=1-y,b=u*u,f=u*y*2,w=-3*b,v=3*(b-f),o=3*(f-c),d=3*c,S=h*h,M=S*h,P=1-h,x=P*P,E=x*P;for(s=0;s<B.length;s++)a=B[s],g=w*a[C][n]+v*a[C][n+1]+o*a[C][n+2]+d*a[C][n+3],t=w*a[C+1][n]+v*a[C+1][n+1]+o*a[C+1][n+2]+d*a[C+1][n+3],r=w*a[C+2][n]+v*a[C+2][n+1]+o*a[C+2][n+2]+d*a[C+2][n+3],l=w*a[C+3][n]+v*a[C+3][n+1]+o*a[C+3][n+2]+d*a[C+3][n+3],L[s]=E*g+3*(x*h*t+P*S*r)+M*l;return L}:e?function(L,n,C,y,h){L||(L=[]);var g,t,r,l;n*=3;var a=y*y,s=1-y,c=s*s,u=s*y*2,b=-3*c,f=3*(c-u),w=3*(u-a),v=3*a,o=1-h;for(r=0;r<B.length;r++)l=B[r],g=b*l[C][n]+f*l[C][n+1]+w*l[C][n+2]+v*l[C][n+3],t=b*l[C+1][n]+f*l[C+1][n+1]+w*l[C+1][n+2]+v*l[C+1][n+3],L[r]=o*g+h*t;return L}:p?function(L,n,C,y,h){L||(L=[]);var g,t,r,l,a,s;C*=3;var c=h*h,u=c*h,b=1-h,f=b*b,w=f*b;for(a=0;a<B.length;a++)s=B[a],g=s[C][n+1]-s[C][n],t=s[C+1][n+1]-s[C+1][n],r=s[C+2][n+1]-s[C+2][n],l=s[C+3][n+1]-s[C+3][n],L[a]=w*g+3*(f*h*t+b*c*r)+u*l;return L}:function(L,n,C,y,h){L||(L=[]);var g,t,r,l,a=1-h;for(r=0;r<B.length;r++)l=B[r],g=l[C][n+1]-l[C][n],t=l[C+1][n+1]-l[C+1][n],L[r]=a*g+h*t;return L}}},73057:function(V){V.exports=function(B,e,p){return e&&p?function(L,n,C,y,h){L||(L=[]);var g,t,r,l,a,s;n*=3,C*=3;var c=y*y,u=c*y,b=1-y,f=b*b,w=f*b,v=h*h,o=1-h,d=o*o,S=o*h*2,M=-3*d,P=3*(d-S),x=3*(S-v),E=3*v;for(s=0;s<B.length;s++)a=B[s],g=M*a[C][n]+P*a[C+1][n]+x*a[C+2][n]+E*a[C+3][n],t=M*a[C][n+1]+P*a[C+1][n+1]+x*a[C+2][n+1]+E*a[C+3][n+1],r=M*a[C][n+2]+P*a[C+1][n+2]+x*a[C+2][n+2]+E*a[C+3][n+2],l=M*a[C][n+3]+P*a[C+1][n+3]+x*a[C+2][n+3]+E*a[C+3][n+3],L[s]=w*g+3*(f*y*t+b*c*r)+u*l;return L}:e?function(L,n,C,y,h){L||(L=[]);var g,t,r,l,a,s;n*=3;var c=h*h,u=c*h,b=1-h,f=b*b,w=f*b;for(a=0;a<B.length;a++)s=B[a],g=s[C+1][n]-s[C][n],t=s[C+1][n+1]-s[C][n+1],r=s[C+1][n+2]-s[C][n+2],l=s[C+1][n+3]-s[C][n+3],L[a]=w*g+3*(f*h*t+b*c*r)+u*l;return L}:p?function(L,n,C,y,h){L||(L=[]);var g,t,r,l;C*=3;var a=1-y,s=h*h,c=1-h,u=c*c,b=c*h*2,f=-3*u,w=3*(u-b),v=3*(b-s),o=3*s;for(r=0;r<B.length;r++)l=B[r],g=f*l[C][n]+w*l[C+1][n]+v*l[C+2][n]+o*l[C+3][n],t=f*l[C][n+1]+w*l[C+1][n+1]+v*l[C+2][n+1]+o*l[C+3][n+1],L[r]=a*g+y*t;return L}:function(L,n,C,y,h){L||(L=[]);var g,t,r,l,a=1-y;for(r=0;r<B.length;r++)l=B[r],g=l[C+1][n]-l[C][n],t=l[C+1][n+1]-l[C][n+1],L[r]=a*g+y*t;return L}}},20349:function(V){V.exports=function(B,e,p,L,n){var C=e-2,y=p-2;return L&&n?function(h,g,t){h||(h=[]);var r,l,a,s,c,u,b=Math.max(0,Math.min(Math.floor(g),C)),f=Math.max(0,Math.min(Math.floor(t),y)),w=Math.max(0,Math.min(1,g-b)),v=Math.max(0,Math.min(1,t-f));b*=3,f*=3;var o=w*w,d=o*w,S=1-w,M=S*S,P=M*S,x=v*v,E=x*v,T=1-v,i=T*T,R=i*T;for(u=0;u<B.length;u++)c=B[u],r=P*c[f][b]+3*(M*w*c[f][b+1]+S*o*c[f][b+2])+d*c[f][b+3],l=P*c[f+1][b]+3*(M*w*c[f+1][b+1]+S*o*c[f+1][b+2])+d*c[f+1][b+3],a=P*c[f+2][b]+3*(M*w*c[f+2][b+1]+S*o*c[f+2][b+2])+d*c[f+2][b+3],s=P*c[f+3][b]+3*(M*w*c[f+3][b+1]+S*o*c[f+3][b+2])+d*c[f+3][b+3],h[u]=R*r+3*(i*v*l+T*x*a)+E*s;return h}:L?function(h,g,t){h||(h=[]);var r=Math.max(0,Math.min(Math.floor(g),C)),l=Math.max(0,Math.min(Math.floor(t),y)),a=Math.max(0,Math.min(1,g-r)),s=Math.max(0,Math.min(1,t-l)),c,u,b,f,w,v;r*=3;var o=a*a,d=o*a,S=1-a,M=S*S,P=M*S,x=1-s;for(w=0;w<B.length;w++)v=B[w],c=x*v[l][r]+s*v[l+1][r],u=x*v[l][r+1]+s*v[l+1][r+1],b=x*v[l][r+2]+s*v[l+1][r+1],f=x*v[l][r+3]+s*v[l+1][r+1],h[w]=P*c+3*(M*a*u+S*o*b)+d*f;return h}:n?function(h,g,t){h||(h=[]);var r=Math.max(0,Math.min(Math.floor(g),C)),l=Math.max(0,Math.min(Math.floor(t),y)),a=Math.max(0,Math.min(1,g-r)),s=Math.max(0,Math.min(1,t-l)),c,u,b,f,w,v;l*=3;var o=s*s,d=o*s,S=1-s,M=S*S,P=M*S,x=1-a;for(w=0;w<B.length;w++)v=B[w],c=x*v[l][r]+a*v[l][r+1],u=x*v[l+1][r]+a*v[l+1][r+1],b=x*v[l+2][r]+a*v[l+2][r+1],f=x*v[l+3][r]+a*v[l+3][r+1],h[w]=P*c+3*(M*s*u+S*o*b)+d*f;return h}:function(h,g,t){h||(h=[]);var r=Math.max(0,Math.min(Math.floor(g),C)),l=Math.max(0,Math.min(Math.floor(t),y)),a=Math.max(0,Math.min(1,g-r)),s=Math.max(0,Math.min(1,t-l)),c,u,b,f,w=1-s,v=1-a;for(b=0;b<B.length;b++)f=B[b],c=v*f[l][r]+a*f[l][r+1],u=v*f[l+1][r]+a*f[l+1][r+1],h[b]=w*c+s*u;return h}}},92087:function(V,B,e){var p=e(71828),L=e(19237),n=e(13145),C=e(99798),y=e(22399);V.exports=function(g,t,r,l){function a(u,b){return p.coerce(g,t,C,u,b)}t._clipPathId="clip"+t.uid+"carpet";var s=a("color",y.defaultLine);if(p.coerceFont(a,"font"),a("carpet"),n(g,t,l,a,s),!t.a||!t.b){t.visible=!1;return}t.a.length<3&&(t.aaxis.smoothing=0),t.b.length<3&&(t.baxis.smoothing=0);var c=L(g,t,a);c||(t.visible=!1),t._cheater&&a("cheaterslope")}},21462:function(V,B,e){V.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(V){V.exports=function(B,e){for(var p=B._fullData.length,L,n=0;n<p;n++){var C=B._fullData[n];if(C.index!==e.index&&C.type==="carpet"&&(L||(L=C),C.carpet===e.carpet))return C}return L}},67961:function(V){V.exports=function(e,p,L){if(e.length===0)return"";var n,C=[],y=L?3:1;for(n=0;n<e.length;n+=y)C.push(e[n]+","+p[n]),L&&n<e.length-y&&(C.push("C"),C.push([e[n+1]+","+p[n+1],e[n+2]+","+p[n+2]+" "].join(" ")));return C.join(L?"":"L")}},27669:function(V,B,e){var p=e(71828).isArrayOrTypedArray;V.exports=function(n,C,y){var h;for(p(n)?n.length>C.length&&(n=n.slice(0,C.length)):n=[],h=0;h<C.length;h++)n[h]=y(C[h]);return n}},11651:function(V){V.exports=function(e,p,L,n,C,y){var h=C[0]*e.dpdx(p),g=C[1]*e.dpdy(L),t=1,r=1;if(y){var l=Math.sqrt(C[0]*C[0]+C[1]*C[1]),a=Math.sqrt(y[0]*y[0]+y[1]*y[1]),s=(C[0]*y[0]+C[1]*y[1])/l/a;r=Math.max(0,s)}var c=Math.atan2(g,h)*180/Math.PI;return c<-90?(c+=180,t=-t):c>90&&(c-=180,t=-t),{angle:c,flip:t,p:e.c2p(n,p,L),offsetMultplier:r}}},89740:function(V,B,e){var p=e(39898),L=e(91424),n=e(27669),C=e(67961),y=e(11651),h=e(63893),g=e(71828),t=g.strRotate,r=g.strTranslate,l=e(18783);V.exports=function(o,d,S,M){var P=o._context.staticPlot,x=d.xaxis,E=d.yaxis,T=o._fullLayout,i=T._clips;g.makeTraceGroups(M,S,"trace").each(function(R){var A=p.select(this),k=R[0],_=k.trace,H=_.aaxis,z=_.baxis,N=g.ensureSingle(A,"g","minorlayer"),O=g.ensureSingle(A,"g","majorlayer"),F=g.ensureSingle(A,"g","boundarylayer"),U=g.ensureSingle(A,"g","labellayer");A.style("opacity",_.opacity),s(x,E,O,H,"a",H._gridlines,!0),s(x,E,O,z,"b",z._gridlines,!0),s(x,E,N,H,"a",H._minorgridlines,!0),s(x,E,N,z,"b",z._minorgridlines,!0),s(x,E,F,H,"a-boundary",H._boundarylines,P),s(x,E,F,z,"b-boundary",z._boundarylines,P);var Z=c(o,x,E,_,k,U,H._labels,"a-label"),q=c(o,x,E,_,k,U,z._labels,"b-label");u(o,U,_,k,x,E,Z,q),a(_,k,i,x,E)})};function a(v,o,d,S,M){var P,x,E,T,i=d.select("#"+v._clipPathId);i.size()||(i=d.append("clipPath").classed("carpetclip",!0));var R=g.ensureSingle(i,"path","carpetboundary"),A=o.clipsegments,k=[];for(T=0;T<A.length;T++)P=A[T],x=n([],P.x,S.c2p),E=n([],P.y,M.c2p),k.push(C(x,E,P.bicubic));var _="M"+k.join("L")+"Z";i.attr("id",v._clipPathId),R.attr("d",_)}function s(v,o,d,S,M,P,x){var E="const-"+M+"-lines",T=d.selectAll("."+E).data(P);T.enter().append("path").classed(E,!0).style("vector-effect",x?"none":"non-scaling-stroke"),T.each(function(i){var R=i,A=R.x,k=R.y,_=n([],A,v.c2p),H=n([],k,o.c2p),z="M"+C(_,H,R.smoothing),N=p.select(this);N.attr("d",z).style("stroke-width",R.width).style("stroke",R.color).style("stroke-dasharray",L.dashStyle(R.dash,R.width)).style("fill","none")}),T.exit().remove()}function c(v,o,d,S,M,P,x,E){var T=P.selectAll("text."+E).data(x);T.enter().append("text").classed(E,!0);var i=0,R={};return T.each(function(A,k){var _;if(A.axis.tickangle==="auto")_=y(S,o,d,A.xy,A.dxy);else{var H=(A.axis.tickangle+180)*Math.PI/180;_=y(S,o,d,A.xy,[Math.cos(H),Math.sin(H)])}k||(R={angle:_.angle,flip:_.flip});var z=(A.endAnchor?-1:1)*_.flip,N=p.select(this).attr({"text-anchor":z>0?"start":"end","data-notex":1}).call(L.font,A.font).text(A.text).call(h.convertToTspans,v),O=L.bBox(this);N.attr("transform",r(_.p[0],_.p[1])+t(_.angle)+r(A.axis.labelpadding*z,O.height*.3)),i=Math.max(i,O.width+A.axis.labelpadding)}),T.exit().remove(),R.maxExtent=i,R}function u(v,o,d,S,M,P,x,E){var T,i,R,A,k=g.aggNums(Math.min,null,d.a),_=g.aggNums(Math.max,null,d.a),H=g.aggNums(Math.min,null,d.b),z=g.aggNums(Math.max,null,d.b);T=.5*(k+_),i=H,R=d.ab2xy(T,i,!0),A=d.dxyda_rough(T,i),x.angle===void 0&&g.extendFlat(x,y(d,M,P,R,d.dxydb_rough(T,i))),w(v,o,d,S,R,A,d.aaxis,M,P,x,"a-title"),T=k,i=.5*(H+z),R=d.ab2xy(T,i,!0),A=d.dxydb_rough(T,i),E.angle===void 0&&g.extendFlat(E,y(d,M,P,R,d.dxyda_rough(T,i))),w(v,o,d,S,R,A,d.baxis,M,P,E,"b-title")}var b=l.LINE_SPACING,f=(1-l.MID_SHIFT)/b+1;function w(v,o,d,S,M,P,x,E,T,i,R){var A=[];x.title.text&&A.push(x.title.text);var k=o.selectAll("text."+R).data(A),_=i.maxExtent;k.enter().append("text").classed(R,!0),k.each(function(){var H=y(d,E,T,M,P);["start","both"].indexOf(x.showticklabels)===-1&&(_=0);var z=x.title.font.size;_+=z+x.title.offset;var N=i.angle+(i.flip<0?180:0),O=(N-H.angle+450)%360,F=O>90&&O<270,U=p.select(this);U.text(x.title.text).call(h.convertToTspans,v),F&&(_=(-h.lineCount(U)+f)*b*z-_),U.attr("transform",r(H.p[0],H.p[1])+t(H.angle)+r(0,_)).attr("text-anchor","middle").call(L.font,x.title.font)}),k.exit().remove()}},11435:function(V,B,e){var p=e(35509),L=e(65888).findBin,n=e(45664),C=e(20349),y=e(54495),h=e(73057);V.exports=function(t){var r=t._a,l=t._b,a=r.length,s=l.length,c=t.aaxis,u=t.baxis,b=r[0],f=r[a-1],w=l[0],v=l[s-1],o=r[r.length-1]-r[0],d=l[l.length-1]-l[0],S=o*p.RELATIVE_CULL_TOLERANCE,M=d*p.RELATIVE_CULL_TOLERANCE;b-=S,f+=S,w-=M,v+=M,t.isVisible=function(P,x){return P>b&&P<f&&x>w&&x<v},t.isOccluded=function(P,x){return P<b||P>f||x<w||x>v},t.setScale=function(){var P=t._x,x=t._y,E=n(t._xctrl,t._yctrl,P,x,c.smoothing,u.smoothing);t._xctrl=E[0],t._yctrl=E[1],t.evalxy=C([t._xctrl,t._yctrl],a,s,c.smoothing,u.smoothing),t.dxydi=y([t._xctrl,t._yctrl],c.smoothing,u.smoothing),t.dxydj=h([t._xctrl,t._yctrl],c.smoothing,u.smoothing)},t.i2a=function(P){var x=Math.max(0,Math.floor(P[0]),a-2),E=P[0]-x;return(1-E)*r[x]+E*r[x+1]},t.j2b=function(P){var x=Math.max(0,Math.floor(P[1]),a-2),E=P[1]-x;return(1-E)*l[x]+E*l[x+1]},t.ij2ab=function(P){return[t.i2a(P[0]),t.j2b(P[1])]},t.a2i=function(P){var x=Math.max(0,Math.min(L(P,r),a-2)),E=r[x],T=r[x+1];return Math.max(0,Math.min(a-1,x+(P-E)/(T-E)))},t.b2j=function(P){var x=Math.max(0,Math.min(L(P,l),s-2)),E=l[x],T=l[x+1];return Math.max(0,Math.min(s-1,x+(P-E)/(T-E)))},t.ab2ij=function(P){return[t.a2i(P[0]),t.b2j(P[1])]},t.i2c=function(P,x){return t.evalxy([],P,x)},t.ab2xy=function(P,x,E){if(!E&&(P<r[0]||P>r[a-1]|x<l[0]||x>l[s-1]))return[!1,!1];var T=t.a2i(P),i=t.b2j(x),R=t.evalxy([],T,i);if(E){var A=0,k=0,_=[],H,z,N,O;P<r[0]?(H=0,z=0,A=(P-r[0])/(r[1]-r[0])):P>r[a-1]?(H=a-2,z=1,A=(P-r[a-1])/(r[a-1]-r[a-2])):(H=Math.max(0,Math.min(a-2,Math.floor(T))),z=T-H),x<l[0]?(N=0,O=0,k=(x-l[0])/(l[1]-l[0])):x>l[s-1]?(N=s-2,O=1,k=(x-l[s-1])/(l[s-1]-l[s-2])):(N=Math.max(0,Math.min(s-2,Math.floor(i))),O=i-N),A&&(t.dxydi(_,H,N,z,O),R[0]+=_[0]*A,R[1]+=_[1]*A),k&&(t.dxydj(_,H,N,z,O),R[0]+=_[0]*k,R[1]+=_[1]*k)}return R},t.c2p=function(P,x,E){return[x.c2p(P[0]),E.c2p(P[1])]},t.p2x=function(P,x,E){return[x.p2c(P[0]),E.p2c(P[1])]},t.dadi=function(P){var x=Math.max(0,Math.min(r.length-2,P));return r[x+1]-r[x]},t.dbdj=function(P){var x=Math.max(0,Math.min(l.length-2,P));return l[x+1]-l[x]},t.dxyda=function(P,x,E,T){var i=t.dxydi(null,P,x,E,T),R=t.dadi(P,E);return[i[0]/R,i[1]/R]},t.dxydb=function(P,x,E,T){var i=t.dxydj(null,P,x,E,T),R=t.dbdj(x,T);return[i[0]/R,i[1]/R]},t.dxyda_rough=function(P,x,E){var T=o*(E||.1),i=t.ab2xy(P+T,x,!0),R=t.ab2xy(P-T,x,!0);return[(i[0]-R[0])*.5/T,(i[1]-R[1])*.5/T]},t.dxydb_rough=function(P,x,E){var T=d*(E||.1),i=t.ab2xy(P,x+T,!0),R=t.ab2xy(P,x-T,!0);return[(i[0]-R[0])*.5/T,(i[1]-R[1])*.5/T]},t.dpdx=function(P){return P._m},t.dpdy=function(P){return P._m}}},72505:function(V,B,e){var p=e(71828);V.exports=function(n,C,y){var h,g,t,r=[],l=[],a=n[0].length,s=n.length;function c(q,J){var te=0,fe,K=0;return q>0&&(fe=n[J][q-1])!==void 0&&(K++,te+=fe),q<a-1&&(fe=n[J][q+1])!==void 0&&(K++,te+=fe),J>0&&(fe=n[J-1][q])!==void 0&&(K++,te+=fe),J<s-1&&(fe=n[J+1][q])!==void 0&&(K++,te+=fe),te/Math.max(1,K)}var u=0;for(h=0;h<a;h++)for(g=0;g<s;g++)n[g][h]===void 0&&(r.push(h),l.push(g),n[g][h]=c(h,g)),u=Math.max(u,Math.abs(n[g][h]));if(!r.length)return n;var b,f,w,v,o,d,S,M,P,x,E,T=1e-5,i=0,R=100,A=0,k=r.length;do{for(i=0,t=0;t<k;t++){h=r[t],g=l[t];var _=0,H=0,z,N,O,F,U,Z;h===0?(U=Math.min(a-1,2),O=C[U],F=C[1],z=n[g][U],N=n[g][1],H+=N+(N-z)*(C[0]-F)/(F-O),_++):h===a-1&&(U=Math.max(0,a-3),O=C[U],F=C[a-2],z=n[g][U],N=n[g][a-2],H+=N+(N-z)*(C[a-1]-F)/(F-O),_++),(h===0||h===a-1)&&g>0&&g<s-1&&(b=y[g+1]-y[g],f=y[g]-y[g-1],H+=(f*n[g+1][h]+b*n[g-1][h])/(f+b),_++),g===0?(Z=Math.min(s-1,2),O=y[Z],F=y[1],z=n[Z][h],N=n[1][h],H+=N+(N-z)*(y[0]-F)/(F-O),_++):g===s-1&&(Z=Math.max(0,s-3),O=y[Z],F=y[s-2],z=n[Z][h],N=n[s-2][h],H+=N+(N-z)*(y[s-1]-F)/(F-O),_++),(g===0||g===s-1)&&h>0&&h<a-1&&(b=C[h+1]-C[h],f=C[h]-C[h-1],H+=(f*n[g][h+1]+b*n[g][h-1])/(f+b),_++),_?H/=_:(w=C[h+1]-C[h],v=C[h]-C[h-1],o=y[g+1]-y[g],d=y[g]-y[g-1],S=w*v*(w+v),M=o*d*(o+d),H=(S*(d*n[g+1][h]+o*n[g-1][h])+M*(v*n[g][h+1]+w*n[g][h-1]))/(M*(v+w)+S*(d+o))),P=H-n[g][h],x=P/u,i+=x*x,E=_?0:.85,n[g][h]+=P*(1+E)}i=Math.sqrt(i)}while(A++<R&&i>T);return p.log("Smoother converged to",i,"after",A,"iterations"),n}},19237:function(V,B,e){var p=e(71828).isArray1D;V.exports=function(n,C,y){var h=y("x"),g=h&&h.length,t=y("y"),r=t&&t.length;if(!g&&!r)return!1;if(C._cheater=!h,(!g||p(h))&&(!r||p(t))){var l=g?h.length:1/0;r&&(l=Math.min(l,t.length)),C.a&&C.a.length&&(l=Math.min(l,C.a.length)),C.b&&C.b.length&&(l=Math.min(l,C.b.length)),C._length=l}else C._length=null;return!0}},69568:function(V,B,e){var p=e(5386).fF,L=e(19316),n=e(50693),C=e(9012),y=e(22399).defaultLine,h=e(1426).extendFlat,g=L.marker.line;V.exports=h({locations:{valType:"data_array",editType:"calc"},locationmode:L.locationmode,z:{valType:"data_array",editType:"calc"},geojson:h({},L.geojson,{}),featureidkey:L.featureidkey,text:h({},L.text,{}),hovertext:h({},L.hovertext,{}),marker:{line:{color:h({},g.color,{dflt:y}),width:h({},g.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:L.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:L.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:h({},C.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:p(),showlegend:h({},C.showlegend,{dflt:!1})},n("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(V,B,e){var p=e(92770),L=e(50606).BADNUM,n=e(78803),C=e(75225),y=e(66279);function h(g){return g&&typeof g=="string"}V.exports=function(t,r){var l=r._length,a=new Array(l),s;r.geojson?s=function(w){return h(w)||p(w)}:s=h;for(var c=0;c<l;c++){var u=a[c]={},b=r.locations[c],f=r.z[c];s(b)&&p(f)?(u.loc=b,u.z=f):(u.loc=null,u.z=L),u.index=c}return C(a,r),n(t,r,{vals:r.z,containerStr:"",cLetter:"z"}),y(a,r),a}},61869:function(V,B,e){var p=e(71828),L=e(1586),n=e(69568);V.exports=function(y,h,g,t){function r(f,w){return p.coerce(y,h,n,f,w)}var l=r("locations"),a=r("z");if(!(l&&l.length&&p.isArrayOrTypedArray(a)&&a.length)){h.visible=!1;return}h._length=Math.min(l.length,a.length);var s=r("geojson"),c;(typeof s=="string"&&s!==""||p.isPlainObject(s))&&(c="geojson-id");var u=r("locationmode",c);u==="geojson-id"&&r("featureidkey"),r("text"),r("hovertext"),r("hovertemplate");var b=r("marker.line.width");b&&r("marker.line.color"),r("marker.opacity"),L(y,h,t,r,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(h,r)}},92069:function(V){V.exports=function(e,p,L,n,C){e.location=p.location,e.z=p.z;var y=n[C];return y.fIn&&y.fIn.properties&&(e.properties=y.fIn.properties),e.ct=y.ct,e}},42300:function(V,B,e){var p=e(89298),L=e(69568),n=e(71828).fillText;V.exports=function(h,g,t){var r=h.cd,l=r[0].trace,a=h.subplot,s,c,u,b,f=[g,t],w=[g+360,t];for(c=0;c<r.length;c++)if(s=r[c],b=!1,s._polygons){for(u=0;u<s._polygons.length;u++)s._polygons[u].contains(f)&&(b=!b),s._polygons[u].contains(w)&&(b=!b);if(b)break}if(!(!b||!s))return h.x0=h.x1=h.xa.c2p(s.ct),h.y0=h.y1=h.ya.c2p(s.ct),h.index=s.index,h.location=s.loc,h.z=s.z,h.zLabel=p.tickText(a.mockAxis,a.mockAxis.c2l(s.z),"hover").text,h.hovertemplate=s.hovertemplate,C(h,l,s),[h]};function C(y,h,g){if(!h.hovertemplate){var t=g.hi||h.hoverinfo,r=String(g.loc),l=t==="all"?L.hoverinfo.flags:t.split("+"),a=l.indexOf("name")!==-1,s=l.indexOf("location")!==-1,c=l.indexOf("z")!==-1,u=l.indexOf("text")!==-1,b=!a&&s,f=[];b?y.nameOverride=r:(a&&(y.nameOverride=h.name),s&&f.push(r)),c&&f.push(y.zLabel),u&&n(g,h,f),y.extraText=f.join("<br>")}}},51319:function(V,B,e){V.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(V,B,e){var p=e(39898),L=e(71828),n=e(41327),C=e(90973).getTopojsonFeatures,y=e(71739).findExtremes,h=e(99636).style;function g(r,l,a){var s=l.layers.backplot.select(".choroplethlayer");L.makeTraceGroups(s,a,"trace choropleth").each(function(c){var u=p.select(this),b=u.selectAll("path.choroplethlocation").data(L.identity);b.enter().append("path").classed("choroplethlocation",!0),b.exit().remove(),h(r,c)})}function t(r,l){for(var a=r[0].trace,s=l[a.geo],c=s._subplot,u=a.locationmode,b=a._length,f=u==="geojson-id"?n.extractTraceFeature(r):C(a,c.topojson),w=[],v=[],o=0;o<b;o++){var d=r[o],S=u==="geojson-id"?d.fOut:n.locationToFeature(u,d.loc,f);if(S){d.geojson=S,d.ct=S.properties.ct,d._polygons=n.feature2polygons(S);var M=n.computeBbox(S);w.push(M[0],M[2]),v.push(M[1],M[3])}else d.geojson=null}if(s.fitbounds==="geojson"&&u==="geojson-id"){var P=n.computeBbox(n.getTraceGeojson(a));w=[P[0],P[2]],v=[P[1],P[3]]}var x={padded:!0};a._extremes.lon=y(s.lonaxis._ax,w,x),a._extremes.lat=y(s.lataxis._ax,v,x)}V.exports={calcGeoJSON:t,plot:g}},81253:function(V){V.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,y=[],h,g,t,r,l;if(p===!1)for(h=0;h<L.length;h++)L[h].selected=0;else for(h=0;h<L.length;h++)g=L[h],t=g.ct,t&&(r=n.c2p(t),l=C.c2p(t),p.contains([r,l],null,h,e)?(y.push({pointNumber:h,lon:t[0],lat:t[1]}),g.selected=1):g.selected=0);return y}},99636:function(V,B,e){var p=e(39898),L=e(7901),n=e(91424),C=e(21081);function y(t,r){r&&h(t,r)}function h(t,r){var l=r[0].trace,a=r[0].node3,s=a.selectAll(".choroplethlocation"),c=l.marker||{},u=c.line||{},b=C.makeColorScaleFuncFromTrace(l);s.each(function(f){p.select(this).attr("fill",b(f.z)).call(L.stroke,f.mlc||u.color).call(n.dashLine,"",f.mlw||u.width||0).style("opacity",c.opacity)}),n.selectedPointStyle(s,l)}function g(t,r){var l=r[0].node3,a=r[0].trace;a.selectedpoints?n.selectedPointStyle(l.selectAll(".choroplethlocation"),a):h(t,r)}V.exports={style:y,styleOnSelect:g}},64496:function(V,B,e){var p=e(69568),L=e(50693),n=e(5386).fF,C=e(9012),y=e(1426).extendFlat;V.exports=y({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:y({},p.featureidkey,{}),below:{valType:"string",editType:"plot"},text:p.text,hovertext:p.hovertext,marker:{line:{color:y({},p.marker.line.color,{editType:"plot"}),width:y({},p.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:y({},p.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:y({},p.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:y({},p.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:p.hoverinfo,hovertemplate:n({},{keys:["properties"]}),showlegend:y({},C.showlegend,{dflt:!1})},L("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(V,B,e){var p=e(92770),L=e(71828),n=e(21081),C=e(91424),y=e(18214).makeBlank,h=e(41327);function g(r){var l=r[0].trace,a=l.visible===!0&&l._length!==0,s={layout:{visibility:"none"},paint:{}},c={layout:{visibility:"none"},paint:{}},u=l._opts={fill:s,line:c,geojson:y()};if(!a)return u;var b=h.extractTraceFeature(r);if(!b)return u;var f=n.makeColorScaleFuncFromTrace(l),w=l.marker,v=w.line||{},o;L.isArrayOrTypedArray(w.opacity)&&(o=function(i){var R=i.mo;return p(R)?+L.constrain(R,0,1):0});var d;L.isArrayOrTypedArray(v.color)&&(d=function(i){return i.mlc});var S;L.isArrayOrTypedArray(v.width)&&(S=function(i){return i.mlw});for(var M=0;M<r.length;M++){var P=r[M],x=P.fOut;if(x){var E=x.properties;E.fc=f(P.z),o&&(E.mo=o(P)),d&&(E.mlc=d(P)),S&&(E.mlw=S(P)),P.ct=E.ct,P._polygons=h.feature2polygons(x)}}var T=o?{type:"identity",property:"mo"}:w.opacity;return L.extendFlat(s.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":T}),L.extendFlat(c.paint,{"line-color":d?{type:"identity",property:"mlc"}:v.color,"line-width":S?{type:"identity",property:"mlw"}:v.width,"line-opacity":T}),s.layout.visibility="visible",c.layout.visibility="visible",u.geojson={type:"FeatureCollection",features:b},t(r),u}function t(r){var l=r[0].trace,a=l._opts,s;if(l.selectedpoints){for(var c=C.makeSelectedPointStyleFns(l),u=0;u<r.length;u++){var b=r[u];b.fOut&&(b.fOut.properties.mo2=c.selectedOpacityFn(b))}s={type:"identity",property:"mo2"}}else s=L.isArrayOrTypedArray(l.marker.opacity)?{type:"identity",property:"mo"}:l.marker.opacity;return L.extendFlat(a.fill.paint,{"fill-opacity":s}),L.extendFlat(a.line.paint,{"line-opacity":s}),a}V.exports={convert:g,convertOnSelect:t}},22654:function(V,B,e){var p=e(71828),L=e(1586),n=e(64496);V.exports=function(y,h,g,t){function r(u,b){return p.coerce(y,h,n,u,b)}var l=r("locations"),a=r("z"),s=r("geojson");if(!p.isArrayOrTypedArray(l)||!l.length||!p.isArrayOrTypedArray(a)||!a.length||!(typeof s=="string"&&s!==""||p.isPlainObject(s))){h.visible=!1;return}r("featureidkey"),h._length=Math.min(l.length,a.length),r("below"),r("text"),r("hovertext"),r("hovertemplate");var c=r("marker.line.width");c&&r("marker.line.color"),r("marker.opacity"),L(y,h,t,r,{prefix:"",cLetter:"z"}),p.coerceSelectionMarkerOpacity(h,r)}},57516:function(V,B,e){V.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(p,L){if(L){var n=L[0].trace;n._glTrace.updateOnSelect(L)}},getBelow:function(p,L){for(var n=L.getMapLayers(),C=n.length-2;C>=0;C--){var y=n[C].id;if(typeof y=="string"&&y.indexOf("water")===0){for(var h=C+1;h<n.length;h++)if(y=n[h].id,typeof y=="string"&&y.indexOf("plotly-")===-1)return y}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(V,B,e){var p=e(82004).convert,L=e(82004).convertOnSelect,n=e(77734).traceLayerPrefix;function C(h,g){this.type="choroplethmapbox",this.subplot=h,this.uid=g,this.sourceId="source-"+g,this.layerList=[["fill",n+g+"-fill"],["line",n+g+"-line"]],this.below=null}var y=C.prototype;y.update=function(h){this._update(p(h)),h[0].trace._glTrace=this},y.updateOnSelect=function(h){this._update(L(h))},y._update=function(h){var g=this.subplot,t=this.layerList,r=g.belowLookup["trace-"+this.uid];g.map.getSource(this.sourceId).setData(h.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(h,r),this.below=r);for(var l=0;l<t.length;l++){var a=t[l],s=a[0],c=a[1],u=h[s];g.setOptions(c,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&g.setOptions(c,"setPaintProperty",u.paint)}},y._addLayers=function(h,g){for(var t=this.subplot,r=this.layerList,l=this.sourceId,a=0;a<r.length;a++){var s=r[a],c=s[0],u=h[c];t.addLayer({type:c,id:s[1],source:l,layout:u.layout,paint:u.paint},g)}},y._removeLayers=function(){for(var h=this.subplot.map,g=this.layerList,t=g.length-1;t>=0;t--)h.removeLayer(g[t][1])},y.dispose=function(){var h=this.subplot.map;this._removeLayers(),h.removeSource(this.sourceId)},V.exports=function(g,t){var r=t[0].trace,l=new C(g,r.uid),a=l.sourceId,s=p(t),c=l.below=g.belowLookup["trace-"+r.uid];return g.map.addSource(a,{type:"geojson",data:s.geojson}),l._addLayers(s,c),t[0].trace._glTrace=l,l}},12674:function(V,B,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(2418),y=e(9012),h=e(1426).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["norm"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:h({},y.showlegend,{dflt:!1})};h(g,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){g[r]=C[r]}),g.hoverinfo=h({},y.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,V.exports=g},31371:function(V,B,e){var p=e(78803);V.exports=function(n,C){for(var y=C.u,h=C.v,g=C.w,t=Math.min(C.x.length,C.y.length,C.z.length,y.length,h.length,g.length),r=-1/0,l=1/0,a=0;a<t;a++){var s=y[a],c=h[a],u=g[a],b=Math.sqrt(s*s+c*c+u*u);r=Math.max(r,b),l=Math.min(l,b)}C._len=t,C._normMax=r,p(n,C,{vals:[l,r],containerStr:"",cLetter:"c"})}},5453:function(V,B,e){var p=e(9330).gl_cone3d,L=e(9330).gl_cone3d.createConeMesh,n=e(71828).simpleMap,C=e(81697).parseColorScale,y=e(21081).extractOpts,h=e(90060);function g(u,b){this.scene=u,this.uid=b,this.mesh=null,this.data=null}var t=g.prototype;t.handlePick=function(u){if(u.object===this.mesh){var b=u.index=u.data.index,f=this.data.x[b],w=this.data.y[b],v=this.data.z[b],o=this.data.u[b],d=this.data.v[b],S=this.data.w[b];u.traceCoordinate=[f,w,v,o,d,S,Math.sqrt(o*o+d*d+S*S)];var M=this.data.hovertext||this.data.text;return Array.isArray(M)&&M[b]!==void 0?u.textLabel=M[b]:M&&(u.textLabel=M),!0}};var r={xaxis:0,yaxis:1,zaxis:2},l={tip:1,tail:0,cm:.25,center:.5},a={tip:1,tail:1,cm:.75,center:.5};function s(u,b){var f=u.fullSceneLayout,w=u.dataScale,v={};function o(P,x){var E=f[x],T=w[r[x]];return n(P,function(i){return E.d2l(i)*T})}v.vectors=h(o(b.u,"xaxis"),o(b.v,"yaxis"),o(b.w,"zaxis"),b._len),v.positions=h(o(b.x,"xaxis"),o(b.y,"yaxis"),o(b.z,"zaxis"),b._len);var d=y(b);v.colormap=C(b),v.vertexIntensityBounds=[d.min/b._normMax,d.max/b._normMax],v.coneOffset=l[b.anchor],b.sizemode==="scaled"?v.coneSize=b.sizeref||.5:v.coneSize=b.sizeref&&b._normMax?b.sizeref/b._normMax:.5;var S=p(v),M=b.lightposition;return S.lightPosition=[M.x,M.y,M.z],S.ambient=b.lighting.ambient,S.diffuse=b.lighting.diffuse,S.specular=b.lighting.specular,S.roughness=b.lighting.roughness,S.fresnel=b.lighting.fresnel,S.opacity=b.opacity,b._pad=a[b.anchor]*S.vectorScale*S.coneScale*b._normMax,S}t.update=function(u){this.data=u;var b=s(this.scene,u);this.mesh.update(b)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(u,b){var f=u.glplot.gl,w=s(u,b),v=L(f,w),o=new g(u,b.uid);return o.mesh=v,o.data=b,v._trace=o,u.glplot.add(v),o}V.exports=c},91750:function(V,B,e){var p=e(71828),L=e(1586),n=e(12674);V.exports=function(y,h,g,t){function r(f,w){return p.coerce(y,h,n,f,w)}var l=r("u"),a=r("v"),s=r("w"),c=r("x"),u=r("y"),b=r("z");if(!l||!l.length||!a||!a.length||!s||!s.length||!c||!c.length||!u||!u.length||!b||!b.length){h.visible=!1;return}r("sizeref"),r("sizemode"),r("anchor"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),L(y,h,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),h._length=null}},98128:function(V,B,e){V.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(p,L){return p.norm=L.traceCoordinate[6],p},meta:{}}},70600:function(V,B,e){var p=e(21606),L=e(82196),n=e(12663),C=n.axisHoverFormat,y=n.descriptionOnlyNumbers,h=e(50693),g=e(79952).P,t=e(41940),r=e(1426).extendFlat,l=e(74808),a=l.COMPARISON_OPS2,s=l.INTERVAL_OPS,c=L.line;V.exports=r({z:p.z,x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,text:p.text,hovertext:p.hovertext,transpose:p.transpose,xtype:p.xtype,ytype:p.ytype,xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:r({},p.texttemplate,{}),textfont:r({},p.textfont,{}),hoverongaps:p.hoverongaps,connectgaps:r({},p.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:y("contour label")},operation:{valType:"enumerated",values:[].concat(a).concat(s),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:r({},c.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:g,smoothing:r({},c.smoothing,{}),editType:"plot"}},h("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(V,B,e){var p=e(21081),L=e(90757),n=e(18670),C=e(53572);V.exports=function(h,g){var t=L(h,g),r=t[0].z;n(g,r);var l=g.contours,a=p.extractOpts(g),s;if(l.coloring==="heatmap"&&a.auto&&g.autocontour===!1){var c=l.start,u=C(l),b=l.size||1,f=Math.floor((u-c)/b)+1;isFinite(b)||(b=1,f=1);var w=c-b/2,v=w+f*b;s=[w,v]}else s=r;return p.calc(h,g,{vals:s,cLetter:"z"}),t}},20083:function(V){V.exports=function(B,e){var p=B[0],L=p.z,n;switch(e.type){case"levels":var C=Math.min(L[0][0],L[0][1]);for(n=0;n<B.length;n++){var y=B[n];y.prefixBoundary=!y.edgepaths.length&&(C>y.level||y.starts.length&&C===y.level)}break;case"constraint":if(p.prefixBoundary=!1,p.edgepaths.length)return;var h=p.x.length,g=p.y.length,t=-1/0,r=1/0;for(n=0;n<g;n++)r=Math.min(r,L[n][0]),r=Math.min(r,L[n][h-1]),t=Math.max(t,L[n][0]),t=Math.max(t,L[n][h-1]);for(n=1;n<h-1;n++)r=Math.min(r,L[0][n]),r=Math.min(r,L[g-1][n]),t=Math.max(t,L[0][n]),t=Math.max(t,L[g-1][n]);var l=e.value,a,s;switch(e._operation){case">":l>t&&(p.prefixBoundary=!0);break;case"<":(l<r||p.starts.length&&l===r)&&(p.prefixBoundary=!0);break;case"[]":a=Math.min(l[0],l[1]),s=Math.max(l[0],l[1]),(s<r||a>t||p.starts.length&&s===r)&&(p.prefixBoundary=!0);break;case"][":a=Math.min(l[0],l[1]),s=Math.max(l[0],l[1]),a<r&&s>t&&(p.prefixBoundary=!0);break}break}}},90654:function(V,B,e){var p=e(21081),L=e(86068),n=e(53572);function C(y,h,g){var t=h.contours,r=h.line,l=t.size||1,a=t.coloring,s=L(h,{isColorbar:!0});if(a==="heatmap"){var c=p.extractOpts(h);g._fillgradient=c.reversescale?p.flipScale(c.colorscale):c.colorscale,g._zrange=[c.min,c.max]}else a==="fill"&&(g._fillcolor=s);g._line={color:a==="lines"?s:r.color,width:t.showlines!==!1?r.width:0,dash:r.dash},g._levels={start:t.start,end:n(t),size:l}}V.exports={min:"zmin",max:"zmax",calc:C}},36914:function(V){V.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(V,B,e){var p=e(92770),L=e(14523),n=e(7901),C=n.addOpacity,y=n.opacity,h=e(74808),g=h.CONSTRAINT_REDUCTION,t=h.COMPARISON_OPS2;V.exports=function(a,s,c,u,b,f){var w=s.contours,v,o,d,S=c("contours.operation");if(w._operation=g[S],r(c,w),S==="="?v=w.showlines=!0:(v=c("contours.showlines"),d=c("fillcolor",C((a.line||{}).color||b,.5))),v){var M=d&&y(d)?C(s.fillcolor,1):b;o=c("line.color",M),c("line.width",2),c("line.dash")}c("line.smoothing"),L(c,u,o,f)};function r(l,a){var s;t.indexOf(a.operation)===-1?(l("contours.value",[0,1]),Array.isArray(a.value)?a.value.length>2?a.value=a.value.slice(2):a.length===0?a.value=[0,1]:a.length<2?(s=parseFloat(a.value[0]),a.value=[s,s+1]):a.value=[parseFloat(a.value[0]),parseFloat(a.value[1])]:p(a.value)&&(s=parseFloat(a.value),a.value=[s,s+1])):(l("contours.value",0),p(a.value)||(Array.isArray(a.value)?a.value=parseFloat(a.value[0]):a.value=0))}},64237:function(V,B,e){var p=e(74808),L=e(92770);V.exports={"[]":C("[]"),"][":C("]["),">":y(">"),"<":y("<"),"=":y("=")};function n(h,g){var t=Array.isArray(g),r;function l(a){return L(a)?+a:null}return p.COMPARISON_OPS2.indexOf(h)!==-1?r=l(t?g[0]:g):p.INTERVAL_OPS.indexOf(h)!==-1?r=t?[l(g[0]),l(g[1])]:[l(g),l(g)]:p.SET_OPS.indexOf(h)!==-1&&(r=t?g.map(l):[l(g)]),r}function C(h){return function(g){g=n(h,g);var t=Math.min(g[0],g[1]),r=Math.max(g[0],g[1]);return{start:t,end:r,size:r-t}}}function y(h){return function(g){return g=n(h,g),{start:g,end:1/0,size:1/0}}}},67217:function(V){V.exports=function(e,p,L,n){var C=n("contours.start"),y=n("contours.end"),h=C===!1||y===!1,g=L("contours.size"),t;h?t=p.autocontour=!0:t=L("autocontour",!1),(t||!g)&&L("ncontours")}},84857:function(V,B,e){var p=e(71828);V.exports=function(n,C){var y,h,g,t=function(a){return a.reverse()},r=function(a){return a};switch(C){case"=":case"<":return n;case">":for(n.length!==1&&p.warn("Contour data invalid for the specified inequality operation."),h=n[0],y=0;y<h.edgepaths.length;y++)h.edgepaths[y]=t(h.edgepaths[y]);for(y=0;y<h.paths.length;y++)h.paths[y]=t(h.paths[y]);for(y=0;y<h.starts.length;y++)h.starts[y]=t(h.starts[y]);return n;case"][":var l=t;t=r,r=l;case"[]":for(n.length!==2&&p.warn("Contour data invalid for the specified inequality range operation."),h=L(n[0]),g=L(n[1]),y=0;y<h.edgepaths.length;y++)h.edgepaths[y]=t(h.edgepaths[y]);for(y=0;y<h.paths.length;y++)h.paths[y]=t(h.paths[y]);for(y=0;y<h.starts.length;y++)h.starts[y]=t(h.starts[y]);for(;g.edgepaths.length;)h.edgepaths.push(r(g.edgepaths.shift()));for(;g.paths.length;)h.paths.push(r(g.paths.shift()));for(;g.starts.length;)h.starts.push(r(g.starts.shift()));return[h]}};function L(n){return p.extendFlat({},n,{edgepaths:p.extendDeep([],n.edgepaths),paths:p.extendDeep([],n.paths),starts:p.extendDeep([],n.starts)})}},13031:function(V,B,e){var p=e(71828),L=e(67684),n=e(73927),C=e(83179),y=e(67217),h=e(8724),g=e(58623),t=e(70600);V.exports=function(l,a,s,c){function u(v,o){return p.coerce(l,a,t,v,o)}function b(v){return p.coerce2(l,a,t,v)}var f=L(l,a,u,c);if(!f){a.visible=!1;return}n(l,a,c,u),u("xhoverformat"),u("yhoverformat"),u("text"),u("hovertext"),u("hoverongaps"),u("hovertemplate");var w=u("contours.type")==="constraint";u("connectgaps",p.isArray1D(a.z)),w?C(l,a,u,c,s):(y(l,a,u,b),h(l,a,u,c)),a.contours&&a.contours.coloring==="heatmap"&&g(u,c)}},87558:function(V,B,e){var p=e(71828),L=e(64237),n=e(53572);V.exports=function(y,h,g){for(var t=y.type==="constraint"?L[y._operation](y.value):y,r=t.size,l=[],a=n(t),s=g.trace._carpetTrace,c=s?{xaxis:s.aaxis,yaxis:s.baxis,x:g.a,y:g.b}:{xaxis:h.xaxis,yaxis:h.yaxis,x:g.x,y:g.y},u=t.start;u<a;u+=r)if(l.push(p.extendFlat({level:u,crossings:{},starts:[],edgepaths:[],paths:[],z:g.z,smoothing:g.trace.line.smoothing},c)),l.length>1e3){p.warn("Too many contours, clipping at 1000",y);break}return l}},53572:function(V){V.exports=function(e){return e.end+e.size/1e6}},81696:function(V,B,e){var p=e(71828),L=e(36914);V.exports=function(r,l,a){var s,c,u,b,f;for(l=l||.01,a=a||.01,u=0;u<r.length;u++){for(b=r[u],f=0;f<b.starts.length;f++)c=b.starts[f],y(b,c,"edge",l,a);for(s=0;Object.keys(b.crossings).length&&s<1e4;)s++,c=Object.keys(b.crossings)[0].split(",").map(Number),y(b,c,void 0,l,a);s===1e4&&p.log("Infinite loop in contour?")}};function n(t,r,l,a){return Math.abs(t[0]-r[0])<l&&Math.abs(t[1]-r[1])<a}function C(t,r){var l=t[2]-r[2],a=t[3]-r[3];return Math.sqrt(l*l+a*a)}function y(t,r,l,a,s){var c=r.join(","),u=t.crossings[c],b=h(u,l,r),f=[g(t,r,[-b[0],-b[1]])],w=t.z.length,v=t.z[0].length,o=r.slice(),d=b.slice(),S;for(S=0;S<1e4;S++){if(u>20?(u=L.CHOOSESADDLE[u][(b[0]||b[1])<0?0:1],t.crossings[c]=L.SADDLEREMAINDER[u]):delete t.crossings[c],b=L.NEWDELTA[u],!b){p.log("Found bad marching index:",u,r,t.level);break}f.push(g(t,r,b)),r[0]+=b[0],r[1]+=b[1],c=r.join(","),n(f[f.length-1],f[f.length-2],a,s)&&f.pop();var M=b[0]&&(r[0]<0||r[0]>v-2)||b[1]&&(r[1]<0||r[1]>w-2),P=r[0]===o[0]&&r[1]===o[1]&&b[0]===d[0]&&b[1]===d[1];if(P||l&&M)break;u=t.crossings[c]}S===1e4&&p.log("Infinite loop in contour?");var x=n(f[0],f[f.length-1],a,s),E=0,T=.2*t.smoothing,i=[],R=0,A,k,_,H,z,N,O,F,U,Z,q;for(S=1;S<f.length;S++)O=C(f[S],f[S-1]),E+=O,i.push(O);var J=E/i.length*T;function te(Y){return f[Y%f.length]}for(S=f.length-2;S>=R;S--)if(A=i[S],A<J){for(_=0,k=S-1;k>=R&&A+i[k]<J;k--)A+=i[k];if(x&&S===f.length-2)for(_=0;_<k&&A+i[_]<J;_++)A+=i[_];z=S-k+_+1,N=Math.floor((S+k+_+2)/2),!x&&S===f.length-2?H=f[f.length-1]:!x&&k===-1?H=f[0]:z%2?H=te(N):H=[(te(N)[0]+te(N+1)[0])/2,(te(N)[1]+te(N+1)[1])/2],f.splice(k+1,S-k+1,H),S=k+1,_&&(R=_),x&&(S===f.length-2?f[_]=f[f.length-1]:S===0&&(f[f.length-1]=f[0]))}for(f.splice(0,R),S=0;S<f.length;S++)f[S].length=2;if(!(f.length<2))if(x)f.pop(),t.paths.push(f);else{l||p.log("Unclosed interior contour?",t.level,o.join(","),f.join("L"));var fe=!1;for(F=0;F<t.edgepaths.length;F++)if(Z=t.edgepaths[F],!fe&&n(Z[0],f[f.length-1],a,s)){f.pop(),fe=!0;var K=!1;for(U=0;U<t.edgepaths.length;U++)if(q=t.edgepaths[U],n(q[q.length-1],f[0],a,s)){K=!0,f.shift(),t.edgepaths.splice(F,1),U===F?t.paths.push(f.concat(q)):(U>F&&U--,t.edgepaths[U]=q.concat(f,Z));break}K||(t.edgepaths[F]=f.concat(Z))}for(F=0;F<t.edgepaths.length&&!fe;F++)Z=t.edgepaths[F],n(Z[Z.length-1],f[0],a,s)&&(f.shift(),t.edgepaths[F]=Z.concat(f),fe=!0);fe||t.edgepaths.push(f)}}function h(t,r,l){var a=0,s=0;return t>20&&r?t===208||t===1114?a=l[0]===0?1:-1:s=l[1]===0?1:-1:L.BOTTOMSTART.indexOf(t)!==-1?s=1:L.LEFTSTART.indexOf(t)!==-1?a=1:L.TOPSTART.indexOf(t)!==-1?s=-1:a=-1,[a,s]}function g(t,r,l){var a=r[0]+Math.max(l[0],0),s=r[1]+Math.max(l[1],0),c=t.z[s][a],u=t.xaxis,b=t.yaxis;if(l[1]){var f=(t.level-c)/(t.z[s][a+1]-c),w=(f!==1?(1-f)*u.c2l(t.x[a]):0)+(f!==0?f*u.c2l(t.x[a+1]):0);return[u.c2p(u.l2c(w),!0),b.c2p(t.y[s],!0),a+f,s]}else{var v=(t.level-c)/(t.z[s+1][a]-c),o=(v!==1?(1-v)*b.c2l(t.y[s]):0)+(v!==0?v*b.c2l(t.y[s+1]):0);return[u.c2p(t.x[a],!0),b.c2p(b.l2c(o),!0),a,s+v]}}},52421:function(V,B,e){var p=e(7901),L=e(46248);V.exports=function(C,y,h,g,t){t||(t={}),t.isContour=!0;var r=L(C,y,h,g,t);return r&&r.forEach(function(l){var a=l.trace;a.contours.type==="constraint"&&(a.fillcolor&&p.opacity(a.fillcolor)?l.color=p.addOpacity(a.fillcolor,1):a.contours.showlines&&p.opacity(a.line.color)&&(l.color=p.addOpacity(a.line.color,1)))}),r}},99442:function(V,B,e){V.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(V,B,e){var p=e(71828);V.exports=function(n,C,y,h){h||(h={});var g=n("contours.showlabels");if(g){var t=C.font;p.coerceFont(n,"contours.labelfont",{family:t.family,size:t.size,color:y}),n("contours.labelformat")}h.hasHover!==!1&&n("zhoverformat")}},86068:function(V,B,e){var p=e(39898),L=e(21081),n=e(53572);V.exports=function(y){var h=y.contours,g=h.start,t=n(h),r=h.size||1,l=Math.floor((t-g)/r)+1,a=h.coloring==="lines"?0:1,s=L.extractOpts(y);isFinite(r)||(r=1,l=1);var c=s.reversescale?L.flipScale(s.colorscale):s.colorscale,u=c.length,b=new Array(u),f=new Array(u),w,v;if(h.coloring==="heatmap"){var o=s.min,d=s.max;for(v=0;v<u;v++)w=c[v],b[v]=w[0]*(d-o)+o,f[v]=w[1];var S=p.extent([o,d,h.start,h.start+r*(l-1)]),M=S[o<d?0:1],P=S[o<d?1:0];M!==o&&(b.splice(0,0,M),f.splice(0,0,f[0])),P!==d&&(b.push(P),f.push(f[f.length-1]))}else for(v=0;v<u;v++)w=c[v],b[v]=(w[0]*(l+a-1)-a/2)*r+g,f[v]=w[1];return L.makeColorScaleFunc({domain:b,range:f},{noNumericCheck:!0})}},87678:function(V,B,e){var p=e(36914);V.exports=function(C){var y=C[0].z,h=y.length,g=y[0].length,t=h===2||g===2,r,l,a,s,c,u,b,f,w;for(l=0;l<h-1;l++)for(s=[],l===0&&(s=s.concat(p.BOTTOMSTART)),l===h-2&&(s=s.concat(p.TOPSTART)),r=0;r<g-1;r++)for(a=s.slice(),r===0&&(a=a.concat(p.LEFTSTART)),r===g-2&&(a=a.concat(p.RIGHTSTART)),c=r+","+l,u=[[y[l][r],y[l][r+1]],[y[l+1][r],y[l+1][r+1]]],w=0;w<C.length;w++)f=C[w],b=L(f.level,u),b&&(f.crossings[c]=b,a.indexOf(b)!==-1&&(f.starts.push([r,l]),t&&a.indexOf(b,a.indexOf(b)+1)!==-1&&f.starts.push([r,l])))};function L(n,C){var y=(C[0][0]>n?0:1)+(C[0][1]>n?0:2)+(C[1][1]>n?0:4)+(C[1][0]>n?0:8);if(y===5||y===10){var h=(C[0][0]+C[0][1]+C[1][0]+C[1][1])/4;return n>h?y===5?713:1114:y===5?104:208}return y===15?0:y}},29854:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(21081),y=e(63893),h=e(89298),g=e(21994),t=e(50347),r=e(87678),l=e(81696),a=e(87558),s=e(84857),c=e(20083),u=e(36914),b=u.LABELOPTIMIZER;B.plot=function(x,E,T,i){var R=E.xaxis,A=E.yaxis;L.makeTraceGroups(i,T,"contour").each(function(k){var _=p.select(this),H=k[0],z=H.trace,N=H.x,O=H.y,F=z.contours,U=a(F,E,H),Z=L.ensureSingle(_,"g","heatmapcoloring"),q=[];F.coloring==="heatmap"&&(q=[k]),t(x,E,q,Z),r(U),l(U);var J=R.c2p(N[0],!0),te=R.c2p(N[N.length-1],!0),fe=A.c2p(O[0],!0),K=A.c2p(O[O.length-1],!0),Y=[[J,K],[te,K],[te,fe],[J,fe]],W=U;F.type==="constraint"&&(W=s(U,F._operation)),f(_,Y,F),w(_,W,Y,F),o(_,U,x,H,F),S(_,E,x,H,Y)})};function f(P,x,E){var T=L.ensureSingle(P,"g","contourbg"),i=T.selectAll("path").data(E.coloring==="fill"?[0]:[]);i.enter().append("path"),i.exit().remove(),i.attr("d","M"+x.join("L")+"Z").style("stroke","none")}function w(P,x,E,T){var i=T.coloring==="fill"||T.type==="constraint"&&T._operation!=="=",R="M"+E.join("L")+"Z";i&&c(x,T);var A=L.ensureSingle(P,"g","contourfill"),k=A.selectAll("path").data(i?x:[]);k.enter().append("path"),k.exit().remove(),k.each(function(_){var H=(_.prefixBoundary?R:"")+v(_,E);H?p.select(this).attr("d",H).style("stroke","none"):p.select(this).remove()})}function v(P,x){var E="",T=0,i=P.edgepaths.map(function(J,te){return te}),R=!0,A,k,_,H,z,N;function O(J){return Math.abs(J[1]-x[0][1])<.01}function F(J){return Math.abs(J[1]-x[2][1])<.01}function U(J){return Math.abs(J[0]-x[0][0])<.01}function Z(J){return Math.abs(J[0]-x[2][0])<.01}for(;i.length;){for(N=n.smoothopen(P.edgepaths[T],P.smoothing),E+=R?N:N.replace(/^M/,"L"),i.splice(i.indexOf(T),1),A=P.edgepaths[T][P.edgepaths[T].length-1],H=-1,_=0;_<4;_++){if(!A){L.log("Missing end?",T,P);break}for(O(A)&&!Z(A)?k=x[1]:U(A)?k=x[0]:F(A)?k=x[3]:Z(A)&&(k=x[2]),z=0;z<P.edgepaths.length;z++){var q=P.edgepaths[z][0];Math.abs(A[0]-k[0])<.01?Math.abs(A[0]-q[0])<.01&&(q[1]-A[1])*(k[1]-q[1])>=0&&(k=q,H=z):Math.abs(A[1]-k[1])<.01?Math.abs(A[1]-q[1])<.01&&(q[0]-A[0])*(k[0]-q[0])>=0&&(k=q,H=z):L.log("endpt to newendpt is not vert. or horz.",A,k,q)}if(A=k,H>=0)break;E+="L"+k}if(H===P.edgepaths.length){L.log("unclosed perimeter path");break}T=H,R=i.indexOf(T)===-1,R&&(T=i[0],E+="Z")}for(T=0;T<P.paths.length;T++)E+=n.smoothclosed(P.paths[T],P.smoothing);return E}function o(P,x,E,T,i){var R=E._context.staticPlot,A=L.ensureSingle(P,"g","contourlines"),k=i.showlines!==!1,_=i.showlabels,H=k&&_,z=B.createLines(A,k||_,x,R),N=B.createLineClip(A,H,E,T.trace.uid),O=P.selectAll("g.contourlabels").data(_?[0]:[]);if(O.exit().remove(),O.enter().append("g").classed("contourlabels",!0),_){var F=[],U=[];L.clearLocationCache();var Z=B.labelFormatter(E,T),q=n.tester.append("text").attr("data-notex",1).call(n.font,i.labelfont),J=x[0].xaxis,te=x[0].yaxis,fe=J._length,K=te._length,Y=J.range,W=te.range,X=L.aggNums(Math.min,null,T.x),re=L.aggNums(Math.max,null,T.x),se=L.aggNums(Math.min,null,T.y),Q=L.aggNums(Math.max,null,T.y),ee=Math.max(J.c2p(X,!0),0),le=Math.min(J.c2p(re,!0),fe),oe=Math.max(te.c2p(Q,!0),0),he=Math.min(te.c2p(se,!0),K),xe={};Y[0]<Y[1]?(xe.left=ee,xe.right=le):(xe.left=le,xe.right=ee),W[0]<W[1]?(xe.top=oe,xe.bottom=he):(xe.top=he,xe.bottom=oe),xe.middle=(xe.top+xe.bottom)/2,xe.center=(xe.left+xe.right)/2,F.push([[xe.left,xe.top],[xe.right,xe.top],[xe.right,xe.bottom],[xe.left,xe.bottom]]);var Ae=Math.sqrt(fe*fe+K*K),Se=u.LABELDISTANCE*Ae/Math.max(1,x.length/u.LABELINCREASE);z.each(function(Oe){var Ve=B.calcTextOpts(Oe.level,Z,q,E);p.select(this).selectAll("path").each(function(){var Ee=this,Te=L.getVisibleSegment(Ee,xe,Ve.height/2);if(Te&&!(Te.len<(Ve.width+Ve.height)*u.LABELMIN))for(var Le=Math.min(Math.ceil(Te.len/Se),u.LABELMAX),Ge=0;Ge<Le;Ge++){var He=B.findBestTextLocation(Ee,Te,Ve,U,xe);if(!He)break;B.addLabelData(He,Ve,U,F)}})}),q.remove(),B.drawLabels(O,U,E,N,H?F:null)}_&&!k&&z.remove()}B.createLines=function(P,x,E,T){var i=E[0].smoothing,R=P.selectAll("g.contourlevel").data(x?E:[]);if(R.exit().remove(),R.enter().append("g").classed("contourlevel",!0),x){var A=R.selectAll("path.openline").data(function(_){return _.pedgepaths||_.edgepaths});A.exit().remove(),A.enter().append("path").classed("openline",!0),A.attr("d",function(_){return n.smoothopen(_,i)}).style("stroke-miterlimit",1).style("vector-effect",T?"none":"non-scaling-stroke");var k=R.selectAll("path.closedline").data(function(_){return _.ppaths||_.paths});k.exit().remove(),k.enter().append("path").classed("closedline",!0),k.attr("d",function(_){return n.smoothclosed(_,i)}).style("stroke-miterlimit",1).style("vector-effect",T?"none":"non-scaling-stroke")}return R},B.createLineClip=function(P,x,E,T){var i=E._fullLayout._clips,R=x?"clipline"+T:null,A=i.selectAll("#"+R).data(x?[0]:[]);return A.exit().remove(),A.enter().append("clipPath").classed("contourlineclip",!0).attr("id",R),n.setClipUrl(P,R,E),A},B.labelFormatter=function(P,x){var E=P._fullLayout,T=x.trace,i=T.contours,R={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(i.labelformat)R.tickformat=i.labelformat,g(R,E);else{var A=C.extractOpts(T);if(A&&A.colorbar&&A.colorbar._axis)R=A.colorbar._axis;else{if(i.type==="constraint"){var k=i.value;Array.isArray(k)?R.range=[k[0],k[k.length-1]]:R.range=[k,k]}else R.range=[i.start,i.end],R.nticks=(i.end-i.start)/i.size;R.range[0]===R.range[1]&&(R.range[1]+=R.range[0]||1),R.nticks||(R.nticks=1e3),g(R,E),h.prepTicks(R),R._tmin=null,R._tmax=null}}return function(_){return h.tickText(R,_).text}},B.calcTextOpts=function(P,x,E,T){var i=x(P);E.text(i).call(y.convertToTspans,T);var R=E.node(),A=n.bBox(R,!0);return{text:i,width:A.width,height:A.height,fontSize:+R.style["font-size"].replace("px",""),level:P,dy:(A.top+A.bottom)/2}},B.findBestTextLocation=function(P,x,E,T,i){var R=E.width,A,k,_,H,z;x.isClosed?(k=x.len/b.INITIALSEARCHPOINTS,A=x.min+k/2,_=x.max):(k=(x.len-R)/(b.INITIALSEARCHPOINTS+1),A=x.min+k+R/2,_=x.max-(k+R)/2);for(var N=1/0,O=0;O<b.ITERATIONS;O++){for(var F=A;F<_;F+=k){var U=L.getTextLocation(P,x.total,F,R),Z=d(U,E,T,i);Z<N&&(N=Z,z=U,H=F)}if(N>b.MAXCOST*2)break;O&&(k/=2),A=H-k/2,_=A+k*1.5}if(N<=b.MAXCOST)return z};function d(P,x,E,T){var i=x.width/2,R=x.height/2,A=P.x,k=P.y,_=P.theta,H=Math.cos(_)*i,z=Math.sin(_)*i,N=(A>T.center?T.right-A:A-T.left)/(H+Math.abs(Math.sin(_)*R)),O=(k>T.middle?T.bottom-k:k-T.top)/(Math.abs(z)+Math.cos(_)*R);if(N<1||O<1)return 1/0;var F=b.EDGECOST*(1/(N-1)+1/(O-1));F+=b.ANGLECOST*_*_;for(var U=A-H,Z=k-z,q=A+H,J=k+z,te=0;te<E.length;te++){var fe=E[te],K=Math.cos(fe.theta)*fe.width/2,Y=Math.sin(fe.theta)*fe.width/2,W=L.segmentDistance(U,Z,q,J,fe.x-K,fe.y-Y,fe.x+K,fe.y+Y)*2/(x.height+fe.height),X=fe.level===x.level,re=X?b.SAMELEVELDISTANCE:1;if(W<=re)return 1/0;var se=b.NEIGHBORCOST*(X?b.SAMELEVELFACTOR:1);F+=se/(W-re)}return F}B.addLabelData=function(P,x,E,T){var i=x.fontSize,R=x.width+i/3,A=Math.max(0,x.height-i/3),k=P.x,_=P.y,H=P.theta,z=Math.sin(H),N=Math.cos(H),O=function(U,Z){return[k+U*N-Z*z,_+U*z+Z*N]},F=[O(-R/2,-A/2),O(-R/2,A/2),O(R/2,A/2),O(R/2,-A/2)];E.push({text:x.text,x:k,y:_,dy:x.dy,theta:H,level:x.level,width:R,height:A}),T.push(F)},B.drawLabels=function(P,x,E,T,i){var R=P.selectAll("text").data(x,function(H){return H.text+","+H.x+","+H.y+","+H.theta});if(R.exit().remove(),R.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(H){var z=H.x+Math.sin(H.theta)*H.dy,N=H.y-Math.cos(H.theta)*H.dy;p.select(this).text(H.text).attr({x:z,y:N,transform:"rotate("+180*H.theta/Math.PI+" "+z+" "+N+")"}).call(y.convertToTspans,E)}),i){for(var A="",k=0;k<i.length;k++)A+="M"+i[k].join("L")+"Z";var _=L.ensureSingle(T,"path","");_.attr("d",A)}};function S(P,x,E,T,i){var R=T.trace,A=E._fullLayout._clips,k="clip"+R.uid,_=A.selectAll("#"+k).data(R.connectgaps?[]:[0]);if(_.enter().append("clipPath").classed("contourclip",!0).attr("id",k),_.exit().remove(),R.connectgaps===!1){var H={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:x.xaxis,yaxis:x.yaxis,x:T.x,y:T.y,z:M(T),smoothing:0};r([H]),l([H]),c([H],{type:"levels"});var z=L.ensureSingle(_,"path","");z.attr("d",(H.prefixBoundary?"M"+i.join("L")+"Z":"")+v(H,i))}else k=null;n.setClipUrl(P,k,E)}function M(P){var x=P.trace._emptypoints,E=[],T=P.z.length,i=P.z[0].length,R,A=[],k;for(R=0;R<i;R++)A.push(1);for(R=0;R<T;R++)E.push(A.slice());for(R=0;R<x.length;R++)k=x[R],E[k[0]][k[1]]=0;return P.zmask=E,E}},18670:function(V,B,e){var p=e(89298),L=e(71828);V.exports=function(y,h){var g=y.contours;if(y.autocontour){var t=y.zmin,r=y.zmax;(y.zauto||t===void 0)&&(t=L.aggNums(Math.min,null,h)),(y.zauto||r===void 0)&&(r=L.aggNums(Math.max,null,h));var l=n(t,r,y.ncontours);g.size=l.dtick,g.start=p.tickFirst(l),l.range.reverse(),g.end=p.tickFirst(l),g.start===t&&(g.start+=g.size),g.end===r&&(g.end-=g.size),g.start>g.end&&(g.start=g.end=(g.start+g.end)/2),y._input.contours||(y._input.contours={}),L.extendFlat(y._input.contours,{start:g.start,end:g.end,size:g.size}),y._input.autocontour=!0}else if(g.type!=="constraint"){var a=g.start,s=g.end,c=y._input.contours;if(a>s&&(g.start=c.start=s,s=g.end=c.end=a,a=g.start),!(g.size>0)){var u;a===s?u=1:u=n(a,s,y.ncontours).dtick,c.size=g.size=u}}};function n(C,y,h){var g={type:"linear",range:[C,y]};return p.autoTicks(g,(y-C)/(h||15)),g}},84426:function(V,B,e){var p=e(39898),L=e(91424),n=e(70035),C=e(86068);V.exports=function(h){var g=p.select(h).selectAll("g.contour");g.style("opacity",function(t){return t[0].trace.opacity}),g.each(function(t){var r=p.select(this),l=t[0].trace,a=l.contours,s=l.line,c=a.size||1,u=a.start,b=a.type==="constraint",f=!b&&a.coloring==="lines",w=!b&&a.coloring==="fill",v=f||w?C(l):null;r.selectAll("g.contourlevel").each(function(S){p.select(this).selectAll("path").call(L.lineGroupStyle,s.width,f?v(S.level):s.color,s.dash)});var o=a.labelfont;if(r.selectAll("g.contourlabels text").each(function(S){L.font(p.select(this),{family:o.family,size:o.size,color:o.color||(f?v(S.level):s.color)})}),b)r.selectAll("g.contourfill path").style("fill",l.fillcolor);else if(w){var d;r.selectAll("g.contourfill path").style("fill",function(S){return d===void 0&&(d=S.level),v(S.level+.5*c)}),d===void 0&&(d=u),r.selectAll("g.contourbg path").style("fill",v(d-.5*c))}}),n(h)}},8724:function(V,B,e){var p=e(1586),L=e(14523);V.exports=function(C,y,h,g,t){var r=h("contours.coloring"),l,a="";r==="fill"&&(l=h("contours.showlines")),l!==!1&&(r!=="lines"&&(a=h("line.color","#000")),h("line.width",.5),h("line.dash")),r!=="none"&&(C.showlegend!==!0&&(y.showlegend=!1),y._dfltShowLegend=!1,p(C,y,g,h,{prefix:"",cLetter:"z"})),h("line.smoothing"),L(h,g,a,t)}},88085:function(V,B,e){var p=e(21606),L=e(70600),n=e(50693),C=e(1426).extendFlat,y=L.contours;V.exports=C({carpet:{valType:"string",editType:"calc"},z:p.z,a:p.x,a0:p.x0,da:p.dx,b:p.y,b0:p.y0,db:p.dy,text:p.text,hovertext:p.hovertext,transpose:p.transpose,atype:p.xtype,btype:p.ytype,fillcolor:L.fillcolor,autocontour:L.autocontour,ncontours:L.ncontours,contours:{type:y.type,start:y.start,end:y.end,size:y.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:y.showlines,showlabels:y.showlabels,labelfont:y.labelfont,labelformat:y.labelformat,operation:y.operation,value:y.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:L.line.color,width:L.line.width,dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},transforms:void 0},n("",{cLetter:"z",autoColorDflt:!1}))},59885:function(V,B,e){var p=e(78803),L=e(71828),n=e(68296),C=e(4742),y=e(824),h=e(43907),g=e(70769),t=e(75005),r=e(22882),l=e(18670);V.exports=function(c,u){var b=u._carpetTrace=r(c,u);if(!(!b||!b.visible||b.visible==="legendonly")){if(!u.a||!u.b){var f=c.data[b.index],w=c.data[u.index];w.a||(w.a=f.a),w.b||(w.b=f.b),t(w,u,u._defaultColor,c._fullLayout)}var v=a(c,u);return l(u,u._z),v}};function a(s,c){var u=c._carpetTrace,b=u.aaxis,f=u.baxis,w,v,o,d,S,M,P;b._minDtick=0,f._minDtick=0,L.isArray1D(c.z)&&n(c,b,f,"a","b",["z"]),w=c._a=c._a||c.a,d=c._b=c._b||c.b,w=w?b.makeCalcdata(c,"_a"):[],d=d?f.makeCalcdata(c,"_b"):[],v=c.a0||0,o=c.da||1,S=c.b0||0,M=c.db||1,P=c._z=C(c._z||c.z,c.transpose),c._emptypoints=h(P),y(P,c._emptypoints);var x=L.maxRowLength(P),E=c.xtype==="scaled"?"":w,T=g(c,E,v,o,x,b),i=c.ytype==="scaled"?"":d,R=g(c,i,S,M,P.length,f),A={a:T,b:R,z:P};return c.contours.type==="levels"&&c.contours.coloring!=="none"&&p(s,c,{vals:P,containerStr:"",cLetter:"z"}),[A]}},75005:function(V,B,e){var p=e(71828),L=e(67684),n=e(88085),C=e(83179),y=e(67217),h=e(8724);V.exports=function(t,r,l,a){function s(f,w){return p.coerce(t,r,n,f,w)}function c(f){return p.coerce2(t,r,n,f)}if(s("carpet"),t.a&&t.b){var u=L(t,r,s,a,"a","b");if(!u){r.visible=!1;return}s("text");var b=s("contours.type")==="constraint";b?C(t,r,s,a,l,{hasHover:!1}):(y(t,r,s,c),h(t,r,s,a,{hasHover:!1}))}else r._defaultColor=l,r._length=null}},93740:function(V,B,e){V.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(V,B,e){var p=e(39898),L=e(27669),n=e(67961),C=e(91424),y=e(71828),h=e(87678),g=e(81696),t=e(29854),r=e(36914),l=e(84857),a=e(87558),s=e(20083),c=e(22882),u=e(4536);V.exports=function(E,T,i,R){var A=T.xaxis,k=T.yaxis;y.makeTraceGroups(R,i,"contour").each(function(_){var H=p.select(this),z=_[0],N=z.trace,O=N._carpetTrace=c(E,N),F=E.calcdata[O.index][0];if(!O.visible||O.visible==="legendonly")return;var U=z.a,Z=z.b,q=N.contours,J=a(q,T,z),te=q.type==="constraint",fe=q._operation,K=te?fe==="="?"lines":"fill":q.coloring;function Y(Ae){var Se=O.ab2xy(Ae[0],Ae[1],!0);return[A.c2p(Se[0]),k.c2p(Se[1])]}var W=[[U[0],Z[Z.length-1]],[U[U.length-1],Z[Z.length-1]],[U[U.length-1],Z[0]],[U[0],Z[0]]];h(J);var X=(U[U.length-1]-U[0])*1e-8,re=(Z[Z.length-1]-Z[0])*1e-8;g(J,X,re);var se=J;q.type==="constraint"&&(se=l(J,fe)),b(J,Y);var Q,ee,le,oe,he=[];for(oe=F.clipsegments.length-1;oe>=0;oe--)Q=F.clipsegments[oe],ee=L([],Q.x,A.c2p),le=L([],Q.y,k.c2p),ee.reverse(),le.reverse(),he.push(n(ee,le,Q.bicubic));var xe="M"+he.join("L")+"Z";S(H,F.clipsegments,A,k,te,K),M(N,H,A,k,se,W,Y,O,F,K,xe),f(H,J,E,z,q,T,O),C.setClipUrl(H,O._clipPathId,E)})};function b(x,E){var T,i,R,A,k,_,H,z,N;for(T=0;T<x.length;T++){for(A=x[T],k=A.pedgepaths=[],_=A.ppaths=[],i=0;i<A.edgepaths.length;i++){for(N=A.edgepaths[i],H=[],R=0;R<N.length;R++)H[R]=E(N[R]);k.push(H)}for(i=0;i<A.paths.length;i++){for(N=A.paths[i],z=[],R=0;R<N.length;R++)z[R]=E(N[R]);_.push(z)}}}function f(x,E,T,i,R,A,k){var _=T._context.staticPlot,H=y.ensureSingle(x,"g","contourlines"),z=R.showlines!==!1,N=R.showlabels,O=z&&N,F=t.createLines(H,z||N,E,_),U=t.createLineClip(H,O,T,i.trace.uid),Z=x.selectAll("g.contourlabels").data(N?[0]:[]);if(Z.exit().remove(),Z.enter().append("g").classed("contourlabels",!0),N){var q=A.xaxis,J=A.yaxis,te=q._length,fe=J._length,K=[[[0,0],[te,0],[te,fe],[0,fe]]],Y=[];y.clearLocationCache();var W=t.labelFormatter(T,i),X=C.tester.append("text").attr("data-notex",1).call(C.font,R.labelfont),re={left:0,right:te,center:te/2,top:0,bottom:fe,middle:fe/2},se=Math.sqrt(te*te+fe*fe),Q=r.LABELDISTANCE*se/Math.max(1,E.length/r.LABELINCREASE);F.each(function(ee){var le=t.calcTextOpts(ee.level,W,X,T);p.select(this).selectAll("path").each(function(oe){var he=this,xe=y.getVisibleSegment(he,re,le.height/2);if(xe&&(w(he,oe,ee,xe,k,le.height),!(xe.len<(le.width+le.height)*r.LABELMIN)))for(var Ae=Math.min(Math.ceil(xe.len/Q),r.LABELMAX),Se=0;Se<Ae;Se++){var Oe=t.findBestTextLocation(he,xe,le,Y,re);if(!Oe)break;t.addLabelData(Oe,le,Y,K)}})}),X.remove(),t.drawLabels(Z,Y,T,U,O?K:null)}N&&!z&&F.remove()}function w(x,E,T,i,R,A){for(var k,_=0;_<T.pedgepaths.length;_++)E===T.pedgepaths[_]&&(k=T.edgepaths[_]);if(!k)return;var H=R.a[0],z=R.a[R.a.length-1],N=R.b[0],O=R.b[R.b.length-1];function F(te,fe){var K=0,Y,W=.1;return(Math.abs(te[0]-H)<W||Math.abs(te[0]-z)<W)&&(Y=o(R.dxydb_rough(te[0],te[1],W)),K=Math.max(K,A*d(fe,Y)/2)),(Math.abs(te[1]-N)<W||Math.abs(te[1]-O)<W)&&(Y=o(R.dxyda_rough(te[0],te[1],W)),K=Math.max(K,A*d(fe,Y)/2)),K}var U=v(x,0,1),Z=v(x,i.total,i.total-1),q=F(k[0],U),J=i.total-F(k[k.length-1],Z);i.min<q&&(i.min=q),i.max>J&&(i.max=J),i.len=i.max-i.min}function v(x,E,T){var i=x.getPointAtLength(E),R=x.getPointAtLength(T),A=R.x-i.x,k=R.y-i.y,_=Math.sqrt(A*A+k*k);return[A/_,k/_]}function o(x){var E=Math.sqrt(x[0]*x[0]+x[1]*x[1]);return[x[0]/E,x[1]/E]}function d(x,E){var T=Math.abs(x[0]*E[0]+x[1]*E[1]),i=Math.sqrt(1-T*T);return i/T}function S(x,E,T,i,R,A){var k,_,H,z,N=y.ensureSingle(x,"g","contourbg"),O=N.selectAll("path").data(A==="fill"&&!R?[0]:[]);O.enter().append("path"),O.exit().remove();var F=[];for(z=0;z<E.length;z++)k=E[z],_=L([],k.x,T.c2p),H=L([],k.y,i.c2p),F.push(n(_,H,k.bicubic));O.attr("d","M"+F.join("L")+"Z").style("stroke","none")}function M(x,E,T,i,R,A,k,_,H,z,N){var O=z==="fill";O&&s(R,x.contours);var F=y.ensureSingle(E,"g","contourfill"),U=F.selectAll("path").data(O?R:[]);U.enter().append("path"),U.exit().remove(),U.each(function(Z){var q=(Z.prefixBoundary?N:"")+P(x,Z,A,k,_,H,T,i);q?p.select(this).attr("d",q).style("stroke","none"):p.select(this).remove()})}function P(x,E,T,i,R,A,k,_){var H,z="",N=E.edgepaths.map(function(le,oe){return oe}),O=!0,F,U,Z,q,J,te,fe=Math.abs(T[0][0]-T[2][0])*1e-4,K=Math.abs(T[0][1]-T[2][1])*1e-4;function Y(le){return Math.abs(le[1]-T[0][1])<K}function W(le){return Math.abs(le[1]-T[2][1])<K}function X(le){return Math.abs(le[0]-T[0][0])<fe}function re(le){return Math.abs(le[0]-T[2][0])<fe}function se(le,oe){var he,xe,Ae,Se,Oe="";for(Y(le)&&!re(le)||W(le)&&!X(le)?(Se=R.aaxis,Ae=u(R,A,[le[0],oe[0]],.5*(le[1]+oe[1]))):(Se=R.baxis,Ae=u(R,A,.5*(le[0]+oe[0]),[le[1],oe[1]])),he=1;he<Ae.length;he++)for(Oe+=Se.smoothing?"C":"L",xe=0;xe<Ae[he].length;xe++){var Ve=Ae[he][xe];Oe+=[k.c2p(Ve[0]),_.c2p(Ve[1])]+" "}return Oe}for(H=0,F=null;N.length;){var Q=E.edgepaths[H][0];for(F&&(z+=se(F,Q)),te=C.smoothopen(E.edgepaths[H].map(i),E.smoothing),z+=O?te:te.replace(/^M/,"L"),N.splice(N.indexOf(H),1),F=E.edgepaths[H][E.edgepaths[H].length-1],q=-1,Z=0;Z<4;Z++){if(!F){y.log("Missing end?",H,E);break}for(Y(F)&&!re(F)?U=T[1]:X(F)?U=T[0]:W(F)?U=T[3]:re(F)&&(U=T[2]),J=0;J<E.edgepaths.length;J++){var ee=E.edgepaths[J][0];Math.abs(F[0]-U[0])<fe?Math.abs(F[0]-ee[0])<fe&&(ee[1]-F[1])*(U[1]-ee[1])>=0&&(U=ee,q=J):Math.abs(F[1]-U[1])<K?Math.abs(F[1]-ee[1])<K&&(ee[0]-F[0])*(U[0]-ee[0])>=0&&(U=ee,q=J):y.log("endpt to newendpt is not vert. or horz.",F,U,ee)}if(q>=0)break;z+=se(F,U),F=U}if(q===E.edgepaths.length){y.log("unclosed perimeter path");break}H=q,O=N.indexOf(H)===-1,O&&(H=N[0],z+=se(F,U)+"Z",F=null)}for(H=0;H<E.paths.length;H++)z+=C.smoothclosed(E.paths[H].map(i),E.smoothing);return z}},64096:function(V,B,e){var p=e(50693),L=e(5386).fF,n=e(9012),C=e(99181),y=e(1426).extendFlat;V.exports=y({lon:C.lon,lat:C.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:C.text,hovertext:C.hovertext,hoverinfo:y({},n.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:L(),showlegend:y({},n.showlegend,{dflt:!1})},p("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(V,B,e){var p=e(92770),L=e(71828).isArrayOrTypedArray,n=e(50606).BADNUM,C=e(78803),y=e(71828)._;V.exports=function(g,t){for(var r=t._length,l=new Array(r),a=t.z,s=L(a)&&a.length,c=0;c<r;c++){var u=l[c]={},b=t.lon[c],f=t.lat[c];if(u.lonlat=p(b)&&p(f)?[+b,+f]:[n,n],s){var w=a[c];u.z=p(w)?w:n}}return C(g,t,{vals:s?a:[0,1],containerStr:"",cLetter:"z"}),r&&(l[0].t={labels:{lat:y(g,"lat:")+" ",lon:y(g,"lon:")+" "}}),l}},52414:function(V,B,e){var p=e(92770),L=e(71828),n=e(7901),C=e(21081),y=e(50606).BADNUM,h=e(18214).makeBlank;V.exports=function(t){var r=t[0].trace,l=r.visible===!0&&r._length!==0,a={layout:{visibility:"none"},paint:{}},s=r._opts={heatmap:a,geojson:h()};if(!l)return s;var c=[],u,b=r.z,f=r.radius,w=L.isArrayOrTypedArray(b)&&b.length,v=L.isArrayOrTypedArray(f);for(u=0;u<t.length;u++){var o=t[u],d=o.lonlat;if(d[0]!==y){var S={};if(w){var M=o.z;S.z=M!==y?M:0}v&&(S.r=p(f[u])&&f[u]>0?+f[u]:0),c.push({type:"Feature",geometry:{type:"Point",coordinates:d},properties:S})}}var P=C.extractOpts(r),x=P.reversescale?C.flipScale(P.colorscale):P.colorscale,E=x[0][1],T=n.opacity(E)<1?E:n.addOpacity(E,0),i=["interpolate",["linear"],["heatmap-density"],0,T];for(u=1;u<x.length;u++)i.push(x[u][0],x[u][1]);var R=["interpolate",["linear"],["get","z"],P.min,0,P.max,1];return L.extendFlat(s.heatmap.paint,{"heatmap-weight":w?R:1/(P.max-P.min),"heatmap-color":i,"heatmap-radius":v?{type:"identity",property:"r"}:r.radius,"heatmap-opacity":r.opacity}),s.geojson={type:"FeatureCollection",features:c},s.heatmap.layout.visibility="visible",s}},79429:function(V,B,e){var p=e(71828),L=e(1586),n=e(64096);V.exports=function(y,h,g,t){function r(c,u){return p.coerce(y,h,n,c,u)}var l=r("lon")||[],a=r("lat")||[],s=Math.min(l.length,a.length);if(!s){h.visible=!1;return}h._length=s,r("z"),r("radius"),r("below"),r("text"),r("hovertext"),r("hovertemplate"),L(y,h,t,r,{prefix:"",cLetter:"z"})}},62474:function(V){V.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e.z=p.z,e}},84684:function(V,B,e){var p=e(89298),L=e(28178).hoverPoints,n=e(28178).getExtraText;V.exports=function(y,h,g){var t=L(y,h,g);if(t){var r=t[0],l=r.cd,a=l[0].trace,s=l[r.index];if(delete r.color,"z"in s){var c=r.subplot.mockAxis;r.z=s.z,r.zLabel=p.tickText(c,c.c2l(s.z),"hover").text}return r.extraText=n(a,s,l[0].t.labels),[r]}}},93814:function(V,B,e){V.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(p,L){for(var n=L.getMapLayers(),C=0;C<n.length;C++){var y=n[C],h=y.id;if(y.type==="symbol"&&typeof h=="string"&&h.indexOf("plotly-")===-1)return h}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(V,B,e){var p=e(52414),L=e(77734).traceLayerPrefix;function n(y,h){this.type="densitymapbox",this.subplot=y,this.uid=h,this.sourceId="source-"+h,this.layerList=[["heatmap",L+h+"-heatmap"]],this.below=null}var C=n.prototype;C.update=function(y){var h=this.subplot,g=this.layerList,t=p(y),r=h.belowLookup["trace-"+this.uid];h.map.getSource(this.sourceId).setData(t.geojson),r!==this.below&&(this._removeLayers(),this._addLayers(t,r),this.below=r);for(var l=0;l<g.length;l++){var a=g[l],s=a[0],c=a[1],u=t[s];h.setOptions(c,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&h.setOptions(c,"setPaintProperty",u.paint)}},C._addLayers=function(y,h){for(var g=this.subplot,t=this.layerList,r=this.sourceId,l=0;l<t.length;l++){var a=t[l],s=a[0],c=y[s];g.addLayer({type:s,id:a[1],source:r,layout:c.layout,paint:c.paint},h)}},C._removeLayers=function(){for(var y=this.subplot.map,h=this.layerList,g=h.length-1;g>=0;g--)y.removeLayer(h[g][1])},C.dispose=function(){var y=this.subplot.map;this._removeLayers(),y.removeSource(this.sourceId)},V.exports=function(h,g){var t=g[0].trace,r=new n(h,t.uid),l=r.sourceId,a=p(g),s=r.below=h.belowLookup["trace-"+t.uid];return h.map.addSource(l,{type:"geojson",data:a.geojson}),r._addLayers(a,s),r}},49789:function(V,B,e){var p=e(71828);V.exports=function(n,C){for(var y=0;y<n.length;y++)n[y].i=y;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.hovertext,n,"htx");var h=C.marker;if(h){p.mergeArray(h.opacity,n,"mo"),p.mergeArray(h.color,n,"mc");var g=h.line;g&&(p.mergeArray(g.color,n,"mlc"),p.mergeArrayCastPositive(g.width,n,"mlw"))}}},1285:function(V,B,e){var p=e(1486),L=e(82196).line,n=e(9012),C=e(12663).axisHoverFormat,y=e(5386).fF,h=e(5386).si,g=e(18517),t=e(1426).extendFlat,r=e(7901);V.exports={x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:y({},{keys:g.eventDataKeys}),hoverinfo:t({},n.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:h({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),text:p.text,textposition:p.textposition,insidetextanchor:t({},p.insidetextanchor,{dflt:"middle"}),textangle:t({},p.textangle,{dflt:0}),textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:t({},p.orientation,{}),offset:t({},p.offset,{arrayOk:!1}),width:t({},p.width,{arrayOk:!1}),marker:l(),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:t({},L.color,{dflt:r.defaultLine}),width:t({},L.width,{dflt:0,editType:"plot"}),dash:L.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup};function l(){var a=t({},p.marker);return delete a.pattern,a}},9532:function(V,B,e){var p=e(89298),L=e(42973),n=e(49789),C=e(66279),y=e(50606).BADNUM;V.exports=function(t,r){var l=p.getFromId(t,r.xaxis||"x"),a=p.getFromId(t,r.yaxis||"y"),s,c,u,b,f,w,v,o;r.orientation==="h"?(s=l.makeCalcdata(r,"x"),u=a.makeCalcdata(r,"y"),b=L(r,a,"y",u),f=!!r.yperiodalignment,w="y"):(s=a.makeCalcdata(r,"y"),u=l.makeCalcdata(r,"x"),b=L(r,l,"x",u),f=!!r.xperiodalignment,w="x"),c=b.vals;var d=Math.min(c.length,s.length),S=new Array(d);for(r._base=[],v=0;v<d;v++){s[v]<0&&(s[v]=y);var M=!1;s[v]!==y&&v+1<d&&s[v+1]!==y&&(M=!0),o=S[v]={p:c[v],s:s[v],cNext:M},r._base[v]=-.5*o.s,f&&(S[v].orig_p=u[v],S[v][w+"End"]=b.ends[v],S[v][w+"Start"]=b.starts[v]),r.ids&&(o.id=String(r.ids[v])),v===0&&(S[0].vTotal=0),S[0].vTotal+=h(o.s),o.begR=h(o.s)/h(S[0].s)}var P;for(v=0;v<d;v++)o=S[v],o.s!==y&&(o.sumR=o.s/S[0].vTotal,o.difR=P!==void 0?o.s/P:1,P=o.s);return n(S,r),C(S,r),S};function h(g){return g===y?0:g}},18517:function(V){V.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(V,B,e){var p=e(11661).setGroupPositions;V.exports=function(n,C){var y=n._fullLayout,h=n._fullData,g=n.calcdata,t=C.xaxis,r=C.yaxis,l=[],a=[],s=[],c,u;for(u=0;u<h.length;u++){var b=h[u],f=b.orientation==="h";b.visible===!0&&b.xaxis===t._id&&b.yaxis===r._id&&b.type==="funnel"&&(c=g[u],f?s.push(c):a.push(c),l.push(c))}var w={mode:y.funnelmode,norm:y.funnelnorm,gap:y.funnelgap,groupgap:y.funnelgroupgap};for(p(n,t,r,a,w),p(n,r,t,s,w),u=0;u<l.length;u++){c=l[u];for(var v=0;v<c.length;v++)v+1<c.length&&(c[v].nextP0=c[v+1].p0,c[v].nextS0=c[v+1].s0,c[v].nextP1=c[v+1].p1,c[v].nextS1=c[v+1].s1)}}},26199:function(V,B,e){var p=e(71828),L=e(26125),n=e(90769).handleText,C=e(67513),y=e(73927),h=e(1285),g=e(7901);function t(a,s,c,u){function b(M,P){return p.coerce(a,s,h,M,P)}var f=C(a,s,u,b);if(!f){s.visible=!1;return}y(a,s,u,b),b("xhoverformat"),b("yhoverformat"),b("orientation",s.y&&!s.x?"v":"h"),b("offset"),b("width");var w=b("text");b("hovertext"),b("hovertemplate");var v=b("textposition");n(a,s,u,b,v,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s.textposition!=="none"&&!s.texttemplate&&b("textinfo",Array.isArray(w)?"text+value":"value");var o=b("marker.color",c);b("marker.line.color",g.defaultLine),b("marker.line.width");var d=b("connector.visible");if(d){b("connector.fillcolor",r(o));var S=b("connector.line.width");S&&(b("connector.line.color"),b("connector.line.dash"))}}function r(a){var s=p.isArrayOrTypedArray(a)?"#000":a;return g.addOpacity(s,.5*g.opacity(s))}function l(a,s){var c,u;function b(w){return p.coerce(u._input,u,h,w)}if(s.funnelmode==="group")for(var f=0;f<a.length;f++)u=a[f],c=u._input,L(c,u,s,b)}V.exports={supplyDefaults:t,crossTraceDefaults:l}},34598:function(V){V.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"percentInitial"in p&&(e.percentInitial=p.percentInitial),"percentPrevious"in p&&(e.percentPrevious=p.percentPrevious),"percentTotal"in p&&(e.percentTotal=p.percentTotal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},63341:function(V,B,e){var p=e(7901).opacity,L=e(95423).hoverOnBars,n=e(71828).formatPercent;V.exports=function(h,g,t,r,l){var a=L(h,g,t,r,l);if(a){var s=a.cd,c=s[0].trace,u=c.orientation==="h",b=a.index,f=s[b],w=u?"x":"y";a[w+"LabelVal"]=f.s,a.percentInitial=f.begR,a.percentInitialLabel=n(f.begR,1),a.percentPrevious=f.difR,a.percentPreviousLabel=n(f.difR,1),a.percentTotal=f.sumR,a.percentTotalLabel=n(f.sumR,1);var v=f.hi||c.hoverinfo,o=[];if(v&&v!=="none"&&v!=="skip"){var d=v==="all",S=v.split("+"),M=function(P){return d||S.indexOf(P)!==-1};M("percent initial")&&o.push(a.percentInitialLabel+" of initial"),M("percent previous")&&o.push(a.percentPreviousLabel+" of previous"),M("percent total")&&o.push(a.percentTotalLabel+" of total")}return a.extraText=o.join("<br>"),a.color=C(c,f),[a]}};function C(y,h){var g=y.marker,t=h.mc||g.color,r=h.mlc||g.line.color,l=h.mlw||g.line.width;if(p(t))return t;if(p(r)&&l)return r}},51759:function(V,B,e){V.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(V){V.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(V,B,e){var p=e(71828),L=e(10440);V.exports=function(n,C,y){var h=!1;function g(l,a){return p.coerce(n,C,L,l,a)}for(var t=0;t<y.length;t++){var r=y[t];if(r.visible&&r.type==="funnel"){h=!0;break}}h&&(g("funnelmode"),g("funnelgap",.2),g("funnelgroupgap"))}},80461:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(50606).BADNUM,y=e(17295),h=e(72597).clearMinTextSize;V.exports=function(a,s,c,u){var b=a._fullLayout;h("funnel",b),g(a,s,c,u),t(a,s,c,u),y.plot(a,s,c,u,{mode:b.funnelmode,norm:b.funnelmode,gap:b.funnelgap,groupgap:b.funnelgroupgap})};function g(l,a,s,c){var u=a.xaxis,b=a.yaxis;L.makeTraceGroups(c,s,"trace bars").each(function(f){var w=p.select(this),v=f[0].trace,o=L.ensureSingle(w,"g","regions");if(!v.connector||!v.connector.visible){o.remove();return}var d=v.orientation==="h",S=o.selectAll("g.region").data(L.identity);S.enter().append("g").classed("region",!0),S.exit().remove();var M=S.size();S.each(function(P,x){if(!(x!==M-1&&!P.cNext)){var E=r(P,u,b,d),T=E[0],i=E[1],R="";T[0]!==C&&i[0]!==C&&T[1]!==C&&i[1]!==C&&T[2]!==C&&i[2]!==C&&T[3]!==C&&i[3]!==C&&(d?R+="M"+T[0]+","+i[1]+"L"+T[2]+","+i[2]+"H"+T[3]+"L"+T[1]+","+i[1]+"Z":R+="M"+T[1]+","+i[1]+"L"+T[2]+","+i[3]+"V"+i[2]+"L"+T[1]+","+i[0]+"Z"),R===""&&(R="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",R).call(n.setClipUrl,a.layerClipId,l)}})})}function t(l,a,s,c){var u=a.xaxis,b=a.yaxis;L.makeTraceGroups(c,s,"trace bars").each(function(f){var w=p.select(this),v=f[0].trace,o=L.ensureSingle(w,"g","lines");if(!v.connector||!v.connector.visible||!v.connector.line.width){o.remove();return}var d=v.orientation==="h",S=o.selectAll("g.line").data(L.identity);S.enter().append("g").classed("line",!0),S.exit().remove();var M=S.size();S.each(function(P,x){if(!(x!==M-1&&!P.cNext)){var E=r(P,u,b,d),T=E[0],i=E[1],R="";T[3]!==void 0&&i[3]!==void 0&&(d?(R+="M"+T[0]+","+i[1]+"L"+T[2]+","+i[2],R+="M"+T[1]+","+i[1]+"L"+T[3]+","+i[2]):(R+="M"+T[1]+","+i[1]+"L"+T[2]+","+i[3],R+="M"+T[1]+","+i[0]+"L"+T[2]+","+i[2])),R===""&&(R="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",R).call(n.setClipUrl,a.layerClipId,l)}})})}function r(l,a,s,c){var u=[],b=[],f=c?a:s,w=c?s:a;return u[0]=f.c2p(l.s0,!0),b[0]=w.c2p(l.p0,!0),u[1]=f.c2p(l.s1,!0),b[1]=w.c2p(l.p1,!0),u[2]=f.c2p(l.nextS0,!0),b[2]=w.c2p(l.nextP0,!0),u[3]=f.c2p(l.nextS1,!0),b[3]=w.c2p(l.nextP1,!0),c?[u,b]:[b,u]}},68266:function(V,B,e){var p=e(39898),L=e(91424),n=e(7901),C=e(37822).DESELECTDIM,y=e(16688),h=e(72597).resizeText,g=y.styleTextPoints;function t(r,l,a){var s=a||p.select(r).selectAll("g.funnellayer").selectAll("g.trace");h(r,s,"funnel"),s.style("opacity",function(c){return c[0].trace.opacity}),s.each(function(c){var u=p.select(this),b=c[0].trace;u.selectAll(".point > path").each(function(f){if(!f.isBlank){var w=b.marker;p.select(this).call(n.fill,f.mc||w.color).call(n.stroke,f.mlc||w.line.color).call(L.dashLine,w.line.dash,f.mlw||w.line.width).style("opacity",b.selectedpoints&&!f.selected?C:1)}}),g(u,b,r),u.selectAll(".regions").each(function(){p.select(this).selectAll("path").style("stroke-width",0).call(n.fill,b.connector.fillcolor)}),u.selectAll(".lines").each(function(){var f=b.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),f.width,f.color,f.dash)})})}V.exports={style:t}},86807:function(V,B,e){var p=e(34e3),L=e(9012),n=e(27670).Y,C=e(5386).fF,y=e(5386).si,h=e(1426).extendFlat;V.exports={labels:p.labels,label0:p.label0,dlabel:p.dlabel,values:p.values,marker:{colors:p.marker.colors,line:{color:h({},p.marker.line.color,{dflt:null}),width:h({},p.marker.line.width,{dflt:1}),editType:"calc"},pattern:p.marker.pattern,editType:"calc"},text:p.text,hovertext:p.hovertext,scalegroup:h({},p.scalegroup,{}),textinfo:h({},p.textinfo,{flags:["label","text","value","percent"]}),texttemplate:y({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:h({},L.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:C({},{keys:["label","color","value","text","percent"]}),textposition:h({},p.textposition,{values:["inside","none"],dflt:"inside"}),textfont:p.textfont,insidetextfont:p.insidetextfont,title:{text:p.title.text,font:p.title.font,position:h({},p.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:n({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(V,B,e){var p=e(74875);B.name="funnelarea",B.plot=function(L,n,C,y){p.plotBasePlot(B.name,L,n,C,y)},B.clean=function(L,n,C,y){p.cleanBasePlot(B.name,L,n,C,y)}},89574:function(V,B,e){var p=e(32354);function L(C,y){return p.calc(C,y)}function n(C){p.crossTraceCalc(C,{type:"funnelarea"})}V.exports={calc:L,crossTraceCalc:n}},86282:function(V,B,e){var p=e(71828),L=e(86807),n=e(27670).c,C=e(90769).handleText,y=e(37434).handleLabelsAndValues,h=e(37434).handleMarkerDefaults;V.exports=function(t,r,l,a){function s(M,P){return p.coerce(t,r,L,M,P)}var c=s("labels"),u=s("values"),b=y(c,u),f=b.len;if(r._hasLabels=b.hasLabels,r._hasValues=b.hasValues,!r._hasLabels&&r._hasValues&&(s("label0"),s("dlabel")),!f){r.visible=!1;return}r._length=f,h(t,r,a,s),s("scalegroup");var w=s("text"),v=s("texttemplate"),o;if(v||(o=s("textinfo",Array.isArray(w)?"text+percent":"percent")),s("hovertext"),s("hovertemplate"),v||o&&o!=="none"){var d=s("textposition");C(t,r,a,s,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}n(r,a,s);var S=s("title.text");S&&(s("title.position"),p.coerceFont(s,"title.font",a.font)),s("aspectratio"),s("baseratio")}},10421:function(V,B,e){V.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(V,B,e){var p=e(92774).hiddenlabels;V.exports={hiddenlabels:p,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(V,B,e){var p=e(71828),L=e(80097);V.exports=function(C,y){function h(g,t){return p.coerce(C,y,L,g,t)}h("hiddenlabels"),h("funnelareacolorway",y.colorway),h("extendfunnelareacolors")}},79187:function(V,B,e){var p=e(39898),L=e(91424),n=e(71828),C=n.strScale,y=n.strTranslate,h=e(63893),g=e(17295),t=g.toMoveInsideBar,r=e(72597),l=r.recordMinTextSize,a=r.clearMinTextSize,s=e(53581),c=e(14575),u=c.attachFxHandlers,b=c.determineInsideTextFont,f=c.layoutAreas,w=c.prerenderTitles,v=c.positionTitleOutside,o=c.formatSliceLabel;V.exports=function(x,E){var T=x._context.staticPlot,i=x._fullLayout;a("funnelarea",i),w(E,x),f(E,i._size),n.makeTraceGroups(i._funnelarealayer,E,"trace").each(function(R){var A=p.select(this),k=R[0],_=k.trace;M(R),A.each(function(){var H=p.select(this).selectAll("g.slice").data(R);H.enter().append("g").classed("slice",!0),H.exit().remove(),H.each(function(N,O){if(N.hidden){p.select(this).selectAll("path,g").remove();return}N.pointNumber=N.i,N.curveNumber=_.index;var F=k.cx,U=k.cy,Z=p.select(this),q=Z.selectAll("path.surface").data([N]);q.enter().append("path").classed("surface",!0).style({"pointer-events":T?"none":"all"}),Z.call(u,x,R);var J="M"+(F+N.TR[0])+","+(U+N.TR[1])+d(N.TR,N.BR)+d(N.BR,N.BL)+d(N.BL,N.TL)+"Z";q.attr("d",J),o(x,N,k);var te=s.castOption(_.textposition,N.pts),fe=Z.selectAll("g.slicetext").data(N.text&&te!=="none"?[0]:[]);fe.enter().append("g").classed("slicetext",!0),fe.exit().remove(),fe.each(function(){var K=n.ensureSingle(p.select(this),"text","",function(le){le.attr("data-notex",1)}),Y=n.ensureUniformFontSize(x,b(_,N,i.font));K.text(N.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(L.font,Y).call(h.convertToTspans,x);var W=L.bBox(K.node()),X,re,se,Q=Math.min(N.BL[1],N.BR[1])+U,ee=Math.max(N.TL[1],N.TR[1])+U;re=Math.max(N.TL[0],N.BL[0])+F,se=Math.min(N.TR[0],N.BR[0])+F,X=t(re,se,Q,ee,W,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"}),X.fontSize=Y.size,l(_.type,X,i),R[O].transform=X,n.setTransormAndDisplay(K,X)})});var z=p.select(this).selectAll("g.titletext").data(_.title.text?[0]:[]);z.enter().append("g").classed("titletext",!0),z.exit().remove(),z.each(function(){var N=n.ensureSingle(p.select(this),"text","",function(U){U.attr("data-notex",1)}),O=_.title.text;_._meta&&(O=n.templateString(O,_._meta)),N.text(O).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(L.font,_.title.font).call(h.convertToTspans,x);var F=v(k,i._size);N.attr("transform",y(F.x,F.y)+C(Math.min(1,F.scale))+y(F.tx,F.ty))})})})};function d(P,x){var E=x[0]-P[0],T=x[1]-P[1];return"l"+E+","+T}function S(P,x){return[.5*(P[0]+x[0]),.5*(P[1]+x[1])]}function M(P){if(!P.length)return;var x=P[0],E=x.trace,T=E.aspectratio,i=E.baseratio;i>.999&&(i=.999);var R=Math.pow(i,2),A=x.vTotal,k=A*R/(1-R),_=A,H=k/A;function z(){var oe=Math.sqrt(H);return{x:oe,y:-oe}}function N(){var oe=z();return[oe.x,oe.y]}var O,F=[];F.push(N());var U,Z;for(U=P.length-1;U>-1;U--)if(Z=P[U],!Z.hidden){var q=Z.v/_;H+=q,F.push(N())}var J=1/0,te=-1/0;for(U=0;U<F.length;U++)O=F[U],J=Math.min(J,O[1]),te=Math.max(te,O[1]);for(U=0;U<F.length;U++)F[U][1]-=(te+J)/2;var fe=F[F.length-1][0],K=x.r,Y=(te-J)/2,W=K/fe,X=K/Y*T;for(x.r=X*Y,U=0;U<F.length;U++)F[U][0]*=W,F[U][1]*=X;O=F[0];var re=[-O[0],O[1]],se=[O[0],O[1]],Q=0;for(U=P.length-1;U>-1;U--)if(Z=P[U],!Z.hidden){Q+=1;var ee=F[Q][0],le=F[Q][1];Z.TL=[-ee,le],Z.TR=[ee,le],Z.BL=re,Z.BR=se,Z.pxmid=S(Z.TR,Z.BR),re=Z.TL,se=Z.TR}}},71858:function(V,B,e){var p=e(39898),L=e(63463),n=e(72597).resizeText;V.exports=function(y){var h=y._fullLayout._funnelarealayer.selectAll(".trace");n(y,h,"funnelarea"),h.each(function(g){var t=g[0],r=t.trace,l=p.select(this);l.style({opacity:r.opacity}),l.selectAll("path.surface").each(function(a){p.select(this).call(L,a,r,y)})})}},21606:function(V,B,e){var p=e(82196),L=e(9012),n=e(41940),C=e(12663).axisHoverFormat,y=e(5386).fF,h=e(5386).si,g=e(50693),t=e(1426).extendFlat;V.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},p.x,{impliedEdits:{xtype:"array"}}),x0:t({},p.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},p.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},p.y,{impliedEdits:{ytype:"array"}}),y0:t({},p.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},p.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},p.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},p.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},p.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},p.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},p.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},p.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:y(),texttemplate:h({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:n({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},L.showlegend,{dflt:!1})},{transforms:void 0},g("",{cLetter:"z",autoColorDflt:!1}))},90757:function(V,B,e){var p=e(73972),L=e(71828),n=e(89298),C=e(42973),y=e(17562),h=e(78803),g=e(68296),t=e(4742),r=e(824),l=e(43907),a=e(70769),s=e(50606).BADNUM;V.exports=function(f,w){var v=n.getFromId(f,w.xaxis||"x"),o=n.getFromId(f,w.yaxis||"y"),d=p.traceIs(w,"contour"),S=p.traceIs(w,"histogram"),M=p.traceIs(w,"gl2d"),P=d?"best":w.zsmooth,x,E,T,i,R,A,k,_,H,z,N;if(v._minDtick=0,o._minDtick=0,S)N=y(f,w),i=N.orig_x,x=N.x,E=N.x0,T=N.dx,_=N.orig_y,R=N.y,A=N.y0,k=N.dy,H=N.z;else{var O=w.z;L.isArray1D(O)?(g(w,v,o,"x","y",["z"]),x=w._x,R=w._y,O=w._z):(i=w.x?v.makeCalcdata(w,"x"):[],_=w.y?o.makeCalcdata(w,"y"):[],x=C(w,v,"x",i).vals,R=C(w,o,"y",_).vals,w._x=x,w._y=R),E=w.x0,T=w.dx,A=w.y0,k=w.dy,H=t(O,w,v,o)}(v.rangebreaks||o.rangebreaks)&&(H=u(x,R,H),S||(x=c(x),R=c(R),w._x=x,w._y=R)),!S&&(d||w.connectgaps)&&(w._emptypoints=l(H),r(H,w._emptypoints));function F(W){P=w._input.zsmooth=w.zsmooth=!1,L.warn('cannot use zsmooth: "fast": '+W)}function U(W){if(W.length>1){var X=(W[W.length-1]-W[0])/(W.length-1),re=Math.abs(X/100);for(z=0;z<W.length-1;z++)if(Math.abs(W[z+1]-W[z]-X)>re)return!1}return!0}w._islinear=!1,v.type==="log"||o.type==="log"?P==="fast"&&F("log axis found"):U(x)?U(R)?w._islinear=!0:P==="fast"&&F("y scale is not linear"):P==="fast"&&F("x scale is not linear");var Z=L.maxRowLength(H),q=w.xtype==="scaled"?"":x,J=a(w,q,E,T,Z,v),te=w.ytype==="scaled"?"":R,fe=a(w,te,A,k,H.length,o);M||(w._extremes[v._id]=n.findExtremes(v,J),w._extremes[o._id]=n.findExtremes(o,fe));var K={x:J,y:fe,z:H,text:w._text||w.text,hovertext:w._hovertext||w.hovertext};if(w.xperiodalignment&&i&&(K.orig_x=i),w.yperiodalignment&&_&&(K.orig_y=_),q&&q.length===J.length-1&&(K.xCenter=q),te&&te.length===fe.length-1&&(K.yCenter=te),S&&(K.xRanges=N.xRanges,K.yRanges=N.yRanges,K.pts=N.pts),d||h(f,w,{vals:H,cLetter:"z"}),d&&w.contours&&w.contours.coloring==="heatmap"){var Y={type:w.type==="contour"?"heatmap":"histogram2d",xcalendar:w.xcalendar,ycalendar:w.ycalendar};K.xfill=a(Y,q,E,T,Z,v),K.yfill=a(Y,te,A,k,H.length,o)}return[K]};function c(b){for(var f=[],w=b.length,v=0;v<w;v++){var o=b[v];o!==s&&f.push(o)}return f}function u(b,f,w){for(var v=[],o=-1,d=0;d<w.length;d++)if(f[d]!==s){o++,v[o]=[];for(var S=0;S<w[d].length;S++)b[S]!==s&&v[o].push(w[d][S])}return v}},4742:function(V,B,e){var p=e(92770),L=e(71828),n=e(50606).BADNUM;V.exports=function(y,h,g,t){var r,l,a,s,c,u;function b(S){if(p(S))return+S}if(h&&h.transpose){for(r=0,c=0;c<y.length;c++)r=Math.max(r,y[c].length);if(r===0)return!1;a=function(S){return S.length},s=function(S,M,P){return(S[P]||[])[M]}}else r=y.length,a=function(S,M){return S[M].length},s=function(S,M,P){return(S[M]||[])[P]};var f=function(S,M,P){return M===n||P===n?n:s(S,M,P)};function w(S){if(h&&h.type!=="carpet"&&h.type!=="contourcarpet"&&S&&S.type==="category"&&h["_"+S._id.charAt(0)].length){var M=S._id.charAt(0),P={},x=h["_"+M+"CategoryMap"]||h[M];for(c=0;c<x.length;c++)P[x[c]]=c;return function(E){var T=P[S._categories[E]];return T+1?T:n}}else return L.identity}var v=w(g),o=w(t);t&&t.type==="category"&&(r=t._categories.length);var d=new Array(r);for(c=0;c<r;c++)for(g&&g.type==="category"?l=g._categories.length:l=a(y,c),d[c]=new Array(l),u=0;u<l;u++)d[c][u]=b(f(y,o(c),v(u)));return d}},61243:function(V){V.exports={min:"zmin",max:"zmax"}},68296:function(V,B,e){var p=e(71828),L=e(50606).BADNUM,n=e(42973);V.exports=function(y,h,g,t,r,l){var a=y._length,s=h.makeCalcdata(y,t),c=g.makeCalcdata(y,r);s=n(y,h,t,s).vals,c=n(y,g,r,c).vals;var u=y.text,b=u!==void 0&&p.isArray1D(u),f=y.hovertext,w=f!==void 0&&p.isArray1D(f),v,o,d=p.distinctVals(s),S=d.vals,M=p.distinctVals(c),P=M.vals,x=[],E,T,i=P.length,R=S.length;for(v=0;v<l.length;v++)x[v]=p.init2dArray(i,R);b&&(E=p.init2dArray(i,R)),w&&(T=p.init2dArray(i,R));var A=p.init2dArray(i,R);for(v=0;v<a;v++)if(s[v]!==L&&c[v]!==L){var k=p.findBin(s[v]+d.minDiff/2,S),_=p.findBin(c[v]+M.minDiff/2,P);for(o=0;o<l.length;o++){var H=l[o],z=y[H],N=x[o];N[_][k]=z[v],A[_][k]=v}b&&(E[_][k]=u[v]),w&&(T[_][k]=f[v])}for(y["_"+t]=S,y["_"+r]=P,o=0;o<l.length;o++)y["_"+l[o]]=x[o];b&&(y._text=E),w&&(y._hovertext=T),h&&h.type==="category"&&(y["_"+t+"CategoryMap"]=S.map(function(O){return h._categories[O]})),g&&g.type==="category"&&(y["_"+r+"CategoryMap"]=P.map(function(O){return g._categories[O]})),y._after2before=A}},76382:function(V,B,e){var p=e(71828),L=e(67684),n=e(58623),C=e(73927),y=e(49901),h=e(1586),g=e(21606);V.exports=function(r,l,a,s){function c(b,f){return p.coerce(r,l,g,b,f)}var u=L(r,l,c,s);if(!u){l.visible=!1;return}C(r,l,s,c),c("xhoverformat"),c("yhoverformat"),c("text"),c("hovertext"),c("hovertemplate"),n(c,s),y(r,l,c,s),c("hoverongaps"),c("connectgaps",p.isArray1D(l.z)&&l.zsmooth!==!1),h(r,l,s,c,{prefix:"",cLetter:"z"})}},43907:function(V,B,e){var p=e(71828).maxRowLength;V.exports=function(n){var C=[],y={},h=[],g=n[0],t=[],r=[0,0,0],l=p(n),a,s,c,u,b,f,w,v;for(s=0;s<n.length;s++)for(a=t,t=g,g=n[s+1]||[],c=0;c<l;c++)t[c]===void 0&&(f=(t[c-1]!==void 0?1:0)+(t[c+1]!==void 0?1:0)+(a[c]!==void 0?1:0)+(g[c]!==void 0?1:0),f?(s===0&&f++,c===0&&f++,s===n.length-1&&f++,c===t.length-1&&f++,f<4&&(y[[s,c]]=[s,c,f]),C.push([s,c,f])):h.push([s,c]));for(;h.length;){for(w={},v=!1,b=h.length-1;b>=0;b--)u=h[b],s=u[0],c=u[1],f=((y[[s-1,c]]||r)[2]+(y[[s+1,c]]||r)[2]+(y[[s,c-1]]||r)[2]+(y[[s,c+1]]||r)[2])/20,f&&(w[u]=[s,c,f],h.splice(b,1),v=!0);if(!v)throw"findEmpties iterated with no new neighbors";for(u in w)y[u]=w[u],C.push(w[u])}return C.sort(function(o,d){return d[2]-o[2]})}},46248:function(V,B,e){var p=e(30211),L=e(71828),n=e(89298),C=e(21081).extractOpts;V.exports=function(h,g,t,r,l){l||(l={});var a=l.isContour,s=h.cd[0],c=s.trace,u=h.xa,b=h.ya,f=s.x,w=s.y,v=s.z,o=s.xCenter,d=s.yCenter,S=s.zmask,M=c.zhoverformat,P=f,x=w,E,T,i,R;if(h.index!==!1){try{i=Math.round(h.index[1]),R=Math.round(h.index[0])}catch{L.error("Error hovering on heatmap, pointNumber must be [row,col], found:",h.index);return}if(i<0||i>=v[0].length||R<0||R>v.length)return}else{if(p.inbox(g-f[0],g-f[f.length-1],0)>0||p.inbox(t-w[0],t-w[w.length-1],0)>0)return;if(a){var A;for(P=[2*f[0]-f[1]],A=1;A<f.length;A++)P.push((f[A]+f[A-1])/2);for(P.push([2*f[f.length-1]-f[f.length-2]]),x=[2*w[0]-w[1]],A=1;A<w.length;A++)x.push((w[A]+w[A-1])/2);x.push([2*w[w.length-1]-w[w.length-2]])}i=Math.max(0,Math.min(P.length-2,L.findBin(g,P))),R=Math.max(0,Math.min(x.length-2,L.findBin(t,x)))}var k=u.c2p(f[i]),_=u.c2p(f[i+1]),H=b.c2p(w[R]),z=b.c2p(w[R+1]),N,O;a?(N=s.orig_x||f,O=s.orig_y||w,_=k,E=N[i],z=H,T=O[R]):(N=s.orig_x||o||f,O=s.orig_y||d||w,E=o?N[i]:(N[i]+N[i+1])/2,T=d?O[R]:(O[R]+O[R+1])/2,u&&u.type==="category"&&(E=f[i]),b&&b.type==="category"&&(T=w[R]),c.zsmooth&&(k=_=u.c2p(E),H=z=b.c2p(T)));var F=v[R][i];if(S&&!S[R][i]&&(F=void 0),!(F===void 0&&!c.hoverongaps)){var U;Array.isArray(s.hovertext)&&Array.isArray(s.hovertext[R])?U=s.hovertext[R][i]:Array.isArray(s.text)&&Array.isArray(s.text[R])&&(U=s.text[R][i]);var Z=C(c),q={type:"linear",range:[Z.min,Z.max],hoverformat:M,_separators:u._separators,_numFormat:u._numFormat},J=n.tickText(q,F,"hover").text;return[L.extendFlat(h,{index:c._after2before?c._after2before[R][i]:[R,i],distance:h.maxHoverDistance,spikeDistance:h.maxSpikeDistance,x0:k,x1:_,y0:H,y1:z,xLabelVal:E,yLabelVal:T,zLabelVal:F,zLabel:J,text:U})]}}},92165:function(V,B,e){V.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(V,B,e){var p=e(71828),L=.01,n=[[-1,0],[1,0],[0,-1],[0,1]];function C(h){return .5-.25*Math.min(1,h*.5)}V.exports=function(g,t){var r=1,l;for(y(g,t),l=0;l<t.length&&!(t[l][2]<4);l++);for(t=t.slice(l),l=0;l<100&&r>L;l++)r=y(g,t,C(r));return r>L&&p.log("interp2d didn't converge quickly",r),g};function y(h,g,t){var r=0,l,a,s,c,u,b,f,w,v,o,d,S,M;for(c=0;c<g.length;c++){for(l=g[c],a=l[0],s=l[1],d=h[a][s],o=0,v=0,u=0;u<4;u++)b=n[u],f=h[a+b[0]],f&&(w=f[s+b[1]],w!==void 0&&(o===0?S=M=w:(S=Math.min(S,w),M=Math.max(M,w)),v++,o+=w));if(v===0)throw"iterateInterp2d order is wrong: no defined neighbors";h[a][s]=o/v,d===void 0?v<4&&(r=1):(h[a][s]=(1+t)*h[a][s]-t*d,M>S&&(r=Math.max(r,Math.abs(h[a][s]-d)/(M-S))))}return r}},58623:function(V,B,e){var p=e(71828);V.exports=function(n,C){n("texttemplate");var y=p.extendFlat({},C.font,{color:"auto",size:"auto"});p.coerceFont(n,"textfont",y)}},70769:function(V,B,e){var p=e(73972),L=e(71828).isArrayOrTypedArray;V.exports=function(C,y,h,g,t,r){var l=[],a=p.traceIs(C,"contour"),s=p.traceIs(C,"histogram"),c=p.traceIs(C,"gl2d"),u,b,f,w=L(y)&&y.length>1;if(w&&!s&&r.type!=="category"){var v=y.length;if(v<=t){if(a||c)l=y.slice(0,t);else if(t===1)l=[y[0]-.5,y[0]+.5];else{for(l=[1.5*y[0]-.5*y[1]],f=1;f<v;f++)l.push((y[f-1]+y[f])*.5);l.push(1.5*y[v-1]-.5*y[v-2])}if(v<t){var o=l[l.length-1],d=o-l[l.length-2];for(f=v;f<t;f++)o+=d,l.push(o)}}else return a?y.slice(0,t):y.slice(0,t+1)}else{var S=C[r._id.charAt(0)+"calendar"];if(s)u=r.r2c(h,0,S);else if(L(y)&&y.length===1)u=y[0];else if(h===void 0)u=0;else{var M=r.type==="log"?r.d2c:r.r2c;u=M(h,0,S)}for(b=g||1,f=a||c?0:-.5;f<t;f++)l.push(u+b*f)}return l}},50347:function(V,B,e){var p=e(39898),L=e(84267),n=e(73972),C=e(91424),y=e(89298),h=e(71828),g=e(63893),t=e(8225),r=e(7901),l=e(21081).extractOpts,a=e(21081).makeColorScaleFuncFromTrace,s=e(77922),c=e(18783),u=c.LINE_SPACING,b=e(3883),f=e(32396).STYLE,w="heatmap-label";function v(P){return P.selectAll("g."+w)}function o(P){v(P).remove()}V.exports=function(P,x,E,T){var i=x.xaxis,R=x.yaxis;h.makeTraceGroups(T,E,"hm").each(function(A){var k=p.select(this),_=A[0],H=_.trace,z=H.xgap||0,N=H.ygap||0,O=_.z,F=_.x,U=_.y,Z=_.xCenter,q=_.yCenter,J=n.traceIs(H,"contour"),te=J?"best":H.zsmooth,fe=O.length,K=h.maxRowLength(O),Y=!1,W=!1,X,re,se,Q,ee,le,oe,he;for(le=0;X===void 0&&le<F.length-1;)X=i.c2p(F[le]),le++;for(le=F.length-1;re===void 0&&le>0;)re=i.c2p(F[le]),le--;for(re<X&&(se=re,re=X,X=se,Y=!0),le=0;Q===void 0&&le<U.length-1;)Q=R.c2p(U[le]),le++;for(le=U.length-1;ee===void 0&&le>0;)ee=R.c2p(U[le]),le--;ee<Q&&(se=Q,Q=ee,ee=se,W=!0),J&&(Z=F,q=U,F=_.xfill,U=_.yfill);var xe="default";if(te?xe=te==="best"?"smooth":"fast":H._islinear&&z===0&&N===0&&b()&&(xe="fast"),xe!=="fast"){var Ae=te==="best"?0:.5;X=Math.max(-Ae*i._length,X),re=Math.min((1+Ae)*i._length,re),Q=Math.max(-Ae*R._length,Q),ee=Math.min((1+Ae)*R._length,ee)}var Se=Math.round(re-X),Oe=Math.round(ee-Q),Ve=X>=i._length||re<=0||Q>=R._length||ee<=0;if(Ve){var Ee=k.selectAll("image").data([]);Ee.exit().remove(),o(k);return}var Te,Le;xe==="fast"?(Te=K,Le=fe):(Te=Se,Le=Oe);var Ge=document.createElement("canvas");Ge.width=Te,Ge.height=Le;var He=Ge.getContext("2d"),ke=a(H,{noNumericCheck:!0,returnArray:!0}),We,nt;xe==="fast"?(We=Y?function(tn){return K-1-tn}:h.identity,nt=W?function(tn){return fe-1-tn}:h.identity):(We=function(tn){return h.constrain(Math.round(i.c2p(F[tn])-X),0,Se)},nt=function(tn){return h.constrain(Math.round(R.c2p(U[tn])-Q),0,Oe)});var qe=nt(0),Qe=[qe,qe],tt=Y?0:1,vt=W?0:1,dt=0,gt=0,Mt=0,Rt=0,Wt,je,_e,Fe,Be;function De(tn,gn){if(tn!==void 0){var hn=ke(tn);return hn[0]=Math.round(hn[0]),hn[1]=Math.round(hn[1]),hn[2]=Math.round(hn[2]),dt+=gn,gt+=hn[0]*gn,Mt+=hn[1]*gn,Rt+=hn[2]*gn,hn}return[0,0,0,0]}function we(tn,gn,hn,Sn){var In=tn[hn.bin0];if(In===void 0)return De(void 0,1);var Jn=tn[hn.bin1],ra=gn[hn.bin0],ca=gn[hn.bin1],aa=Jn-In||0,na=ra-In||0,Cr;return Jn===void 0?ca===void 0?Cr=0:ra===void 0?Cr=2*(ca-In):Cr=(2*ca-ra-In)*2/3:ca===void 0?ra===void 0?Cr=0:Cr=(2*In-Jn-ra)*2/3:ra===void 0?Cr=(2*ca-Jn-In)*2/3:Cr=ca+In-Jn-ra,De(In+hn.frac*aa+Sn.frac*(na+hn.frac*Cr))}if(xe!=="default"){var ue=0,me;try{me=new Uint8Array(Te*Le*4)}catch{me=new Array(Te*Le*4)}if(xe==="smooth"){var Re=Z||F,Ne=q||U,it=new Array(Re.length),ot=new Array(Ne.length),wt=new Array(Se),Ft=Z?S:d,Ut=q?S:d,Gt,Et,$t;for(le=0;le<Re.length;le++)it[le]=Math.round(i.c2p(Re[le])-X);for(le=0;le<Ne.length;le++)ot[le]=Math.round(R.c2p(Ne[le])-Q);for(le=0;le<Se;le++)wt[le]=Ft(le,it);for(oe=0;oe<Oe;oe++)for(Gt=Ut(oe,ot),Et=O[Gt.bin0],$t=O[Gt.bin1],le=0;le<Se;le++,ue+=4)Be=we(Et,$t,wt[le],Gt),M(me,ue,Be)}else for(oe=0;oe<fe;oe++)for(Fe=O[oe],Qe=nt(oe),le=0;le<K;le++)Be=De(Fe[le],1),ue=(Qe*K+We(le))*4,M(me,ue,Be);var lr=He.createImageData(Te,Le);try{lr.data.set(me)}catch{var Fr=lr.data,yt=Fr.length;for(oe=0;oe<yt;oe++)Fr[oe]=me[oe]}He.putImageData(lr,0,0)}else{var Kt=Math.floor(z/2),Zt=Math.floor(N/2);for(oe=0;oe<fe;oe++)if(Fe=O[oe],Qe.reverse(),Qe[vt]=nt(oe+1),!(Qe[0]===Qe[1]||Qe[0]===void 0||Qe[1]===void 0))for(je=We(0),Wt=[je,je],le=0;le<K;le++)Wt.reverse(),Wt[tt]=We(le+1),!(Wt[0]===Wt[1]||Wt[0]===void 0||Wt[1]===void 0)&&(_e=Fe[le],Be=De(_e,(Wt[1]-Wt[0])*(Qe[1]-Qe[0])),He.fillStyle="rgba("+Be.join(",")+")",He.fillRect(Wt[0]+Kt,Qe[0]+Zt,Wt[1]-Wt[0]-z,Qe[1]-Qe[0]-N))}gt=Math.round(gt/dt),Mt=Math.round(Mt/dt),Rt=Math.round(Rt/dt);var Ar=L("rgb("+gt+","+Mt+","+Rt+")");P._hmpixcount=(P._hmpixcount||0)+dt,P._hmlumcount=(P._hmlumcount||0)+dt*Ar.getLuminance();var vr=k.selectAll("image").data(A);vr.enter().append("svg:image").attr({xmlns:s.svg,preserveAspectRatio:"none"}),vr.attr({height:Oe,width:Se,x:X,y:Q,"xlink:href":Ge.toDataURL("image/png")}),xe==="fast"&&!te&&vr.attr("style",f),o(k);var ut=H.texttemplate;if(ut){var lt=l(H),xt={type:"linear",range:[lt.min,lt.max],_separators:i._separators,_numFormat:i._numFormat},Tt=H.type==="histogram2dcontour",Ct=H.type==="contour",At=Ct?1:0,zt=Ct?fe-1:fe,Ht=Ct?1:0,qt=Ct?K-1:K,Qt=[];for(le=At;le<zt;le++){var or;if(Ct)or=_.y[le];else if(Tt){if(le===0||le===fe-1)continue;or=_.y[le]}else if(_.yCenter)or=_.yCenter[le];else{if(le+1===fe&&_.y[le+1]===void 0)continue;or=(_.y[le]+_.y[le+1])/2}var Lr=Math.round(R.c2p(or));if(!(0>Lr||Lr>R._length))for(oe=Ht;oe<qt;oe++){var Ze;if(Ct)Ze=_.x[oe];else if(Tt){if(oe===0||oe===K-1)continue;Ze=_.x[oe]}else if(_.xCenter)Ze=_.xCenter[oe];else{if(oe+1===K&&_.x[oe+1]===void 0)continue;Ze=(_.x[oe]+_.x[oe+1])/2}var Ye=Math.round(i.c2p(Ze));if(!(0>Ye||Ye>i._length)){var It=t({x:Ze,y:or},H,P._fullLayout);It.x=Ze,It.y=or;var kt=_.z[le][oe];kt===void 0?(It.z="",It.zLabel=""):(It.z=kt,It.zLabel=y.tickText(xt,kt,"hover").text);var Xt=_.text&&_.text[le]&&_.text[le][oe];(Xt===void 0||Xt===!1)&&(Xt=""),It.text=Xt;var ir=h.texttemplateString(ut,It,P._fullLayout._d3locale,It,H._meta||{});if(ir){var ur=ir.split("<br>"),nr=ur.length,Nt=0;for(he=0;he<nr;he++)Nt=Math.max(Nt,ur[he].length);Qt.push({l:nr,c:Nt,t:ir,x:Ye,y:Lr,z:kt})}}}}var hr=H.textfont,pr=hr.family,gr=hr.size,dr=P._fullLayout.font.size;if(!gr||gr==="auto"){var Xr=1/0,Br=1/0,Or=0,mn=0;for(he=0;he<Qt.length;he++){var Jr=Qt[he];if(Or=Math.max(Or,Jr.l),mn=Math.max(mn,Jr.c),he<Qt.length-1){var _n=Qt[he+1],kn=Math.abs(_n.x-Jr.x),br=Math.abs(_n.y-Jr.y);kn&&(Xr=Math.min(Xr,kn)),br&&(Br=Math.min(Br,br))}}!isFinite(Xr)||!isFinite(Br)?gr=dr:(Xr-=z,Br-=N,Xr/=mn,Br/=Or,Xr/=u/2,Br/=u,gr=Math.min(Math.floor(Xr),Math.floor(Br),dr))}if(gr<=0||!isFinite(gr))return;var wr=function(tn){return tn.x},Nr=function(tn){return tn.y-gr*(tn.l*u/2-1)},Vr=v(k).data(Qt);Vr.enter().append("g").classed(w,1).append("text").attr("text-anchor","middle").each(function(tn){var gn=p.select(this),hn=hr.color;(!hn||hn==="auto")&&(hn=r.contrast("rgba("+ke(tn.z).join()+")")),gn.attr("data-notex",1).call(g.positionText,wr(tn),Nr(tn)).call(C.font,pr,gr,hn).text(tn.t).call(g.convertToTspans,P)})}})};function d(P,x){var E=x.length-2,T=h.constrain(h.findBin(P,x),0,E),i=x[T],R=x[T+1],A=h.constrain(T+(P-i)/(R-i)-.5,0,E),k=Math.round(A),_=Math.abs(A-k);return!A||A===E||!_?{bin0:k,bin1:k,frac:0}:{bin0:k,frac:_,bin1:Math.round(k+_/(A-k))}}function S(P,x){var E=x.length-1,T=h.constrain(h.findBin(P,x),0,E),i=x[T],R=x[T+1],A=(P-i)/(R-i)||0;return A<=0?{bin0:T,bin1:T,frac:0}:A<.5?{bin0:T,bin1:T+1,frac:A}:{bin0:T+1,bin1:T,frac:1-A}}function M(P,x,E){P[x]=E[0],P[x+1]=E[1],P[x+2]=E[2],P[x+3]=Math.round(E[3]*255)}},70035:function(V,B,e){var p=e(39898);V.exports=function(n){p.select(n).selectAll(".hm image").style("opacity",function(C){return C.trace.opacity})}},49901:function(V){V.exports=function(e,p,L){var n=L("zsmooth");n===!1&&(L("xgap"),L("ygap")),L("zhoverformat")}},67684:function(V,B,e){var p=e(92770),L=e(71828),n=e(73972);V.exports=function(g,t,r,l,a,s){var c=r("z");a=a||"x",s=s||"y";var u,b;if(c===void 0||!c.length)return 0;if(L.isArray1D(g.z)){u=r(a),b=r(s);var f=L.minRowLength(u),w=L.minRowLength(b);if(f===0||w===0)return 0;t._length=Math.min(f,w,c.length)}else{if(u=C(a,r),b=C(s,r),!y(c))return 0;r("transpose"),t._length=null}if(g.type==="heatmapgl")return!0;var v=n.getComponentMethod("calendars","handleTraceDefaults");return v(g,t,[a,s],l),!0};function C(h,g){var t=g(h),r=t?g(h+"type","array"):"scaled";return r==="scaled"&&(g(h+"0"),g("d"+h)),t}function y(h){for(var g=!0,t=!1,r=!1,l,a=0;a<h.length;a++){if(l=h[a],!L.isArrayOrTypedArray(l)){g=!1;break}l.length>0&&(t=!0);for(var s=0;s<l.length;s++)if(p(l[s])){r=!0;break}}return g&&t&&r}},16063:function(V,B,e){for(var p=e(21606),L=e(50693),n=e(1426).extendFlat,C=e(30962).overrideAll,y=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],h={},g=0;g<y.length;g++){var t=y[g];h[t]=p[t]}h.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},n(h,L("",{cLetter:"z",autoColorDflt:!1})),V.exports=C(h,"calc","nested")},59560:function(V,B,e){var p=e(9330).gl_heatmap2d,L=e(89298),n=e(78614);function C(t,r){this.scene=t,this.uid=r,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=p(t.glplot,this.options),this.heatmap._trace=this}var y=C.prototype;y.handlePick=function(t){var r=this.options,l=r.shape,a=t.pointId,s=a%l[0],c=Math.floor(a/l[0]),u=a;return{trace:this,dataCoord:t.dataCoord,traceCoord:[r.x[s],r.y[c],r.z[u]],textLabel:this.textLabels[a],name:this.name,pointIndex:[c,s],hoverinfo:this.hoverinfo}},y.update=function(t,r){var l=r[0];this.index=t.index,this.name=t.name,this.hoverinfo=t.hoverinfo;var a=l.z;this.options.z=[].concat.apply([],a);var s=a[0].length,c=a.length;this.options.shape=[s,c],this.options.x=l.x,this.options.y=l.y,this.options.zsmooth=t.zsmooth;var u=h(t);this.options.colorLevels=u.colorLevels,this.options.colorValues=u.colorValues,this.textLabels=[].concat.apply([],t.text),this.heatmap.update(this.options);var b=this.scene.xaxis,f=this.scene.yaxis,w,v;t.zsmooth===!1&&(w={ppad:l.x[1]-l.x[0]},v={ppad:l.y[1]-l.y[0]}),t._extremes[b._id]=L.findExtremes(b,l.x,w),t._extremes[f._id]=L.findExtremes(f,l.y,v)},y.dispose=function(){this.heatmap.dispose()};function h(t){for(var r=t.colorscale,l=t.zmin,a=t.zmax,s=r.length,c=new Array(s),u=new Array(4*s),b=0;b<s;b++){var f=r[b],w=n(f[1]);c[b]=l+f[0]*(a-l);for(var v=0;v<4;v++)u[4*b+v]=w[v]}return{colorLevels:c,colorValues:u}}function g(t,r,l){var a=new C(t,r.uid);return a.update(r,l),a}V.exports=g},19600:function(V,B,e){var p=e(71828),L=e(67684),n=e(1586),C=e(16063);V.exports=function(h,g,t,r){function l(s,c){return p.coerce(h,g,C,s,c)}var a=L(h,g,l,r);if(!a){g.visible=!1;return}l("text"),l("zsmooth"),n(h,g,r,l,{prefix:"",cLetter:"z"})}},3325:function(V,B,e){V.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(V,B,e){var p=e(1486),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(5386).si,y=e(41940),h=e(17656),g=e(72406),t=e(1426).extendFlat;V.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:L("x"),yhoverformat:L("y"),text:t({},p.text,{}),hovertext:t({},p.hovertext,{}),orientation:p.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:h("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:h("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({},{keys:g.eventDataKeys}),texttemplate:C({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},p.textposition,{arrayOk:!1}),textfont:y({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:y({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:y({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:p.insidetextanchor,textangle:p.textangle,cliponaxis:p.cliponaxis,constraintext:p.constraintext,marker:p.marker,offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,_deprecated:{bardir:p._deprecated.bardir}}},42174:function(V){V.exports=function(e,p){for(var L=e.length,n=0,C=0;C<L;C++)p[C]?(e[C]/=p[C],n+=e[C]):e[C]=null;return n}},17656:function(V){V.exports=function(e,p){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(V,B,e){var p=e(92770);V.exports={count:function(L,n,C){return C[L]++,1},sum:function(L,n,C,y){var h=y[n];return p(h)?(h=Number(h),C[L]+=h,h):0},avg:function(L,n,C,y,h){var g=y[n];return p(g)&&(g=Number(g),C[L]+=g,h[L]++),0},min:function(L,n,C,y){var h=y[n];if(p(h))if(h=Number(h),p(C[L])){if(C[L]>h){var g=h-C[L];return C[L]=h,g}}else return C[L]=h,h;return 0},max:function(L,n,C,y){var h=y[n];if(p(h))if(h=Number(h),p(C[L])){if(C[L]<h){var g=h-C[L];return C[L]=h,g}}else return C[L]=h,h;return 0}}},40965:function(V,B,e){var p=e(50606),L=p.ONEAVGYEAR,n=p.ONEAVGMONTH,C=p.ONEDAY,y=p.ONEHOUR,h=p.ONEMIN,g=p.ONESEC,t=e(89298).tickIncrement;V.exports=function(u,b,f,w,v){var o=-1.1*b,d=-.1*b,S=u-d,M=f[0],P=f[1],x=Math.min(r(M+d,M+S,w,v),r(P+d,P+S,w,v)),E=Math.min(r(M+o,M+d,w,v),r(P+o,P+d,w,v)),T,i;if(x>E&&E<Math.abs(P-M)/4e3?(T=x,i=!1):(T=Math.min(x,E),i=!0),w.type==="date"&&T>C){var R=T===L?1:6,A=T===L?"M12":"M1";return function(k,_){var H=w.c2d(k,L,v),z=H.indexOf("-",R);z>0&&(H=H.substr(0,z));var N=w.d2c(H,0,v);if(N<k){var O=t(N,A,!1,v);(N+O)/2<k+u&&(N=O)}return _&&i?t(N,A,!0,v):N}}return function(k,_){var H=T*Math.round(k/T);return H+T/10<k&&H+T*.9<k+u&&(H+=T),_&&i&&(H-=T),H}};function r(c,u,b,f){if(c*u<=0)return 1/0;for(var w=Math.abs(u-c),v=b.type==="date",o=l(w,v),d=0;d<10;d++){var S=l(o*80,v);if(o===S)break;if(a(S,c,u,v,b,f))o=S;else break}return o}function l(c,u){return u&&c>g?c>C?c>L*1.1?L:c>n*1.1?n:C:c>y?y:c>h?h:g:Math.pow(10,Math.floor(Math.log(c)/Math.LN10))}function a(c,u,b,f,w,v){if(f&&c>C){var o=s(u,w,v),d=s(b,w,v),S=c===L?0:1;return o[S]!==d[S]}return Math.floor(b/c)-Math.floor(u/c)>.1}function s(c,u,b){var f=u.c2d(c,L,b).split("-");return f[0]===""&&(f.unshift(),f[0]="-"+f[0]),f}},72138:function(V,B,e){var p=e(92770),L=e(71828),n=e(73972),C=e(89298),y=e(75341),h=e(59575),g=e(36362),t=e(42174),r=e(40965);function l(b,f){var w=[],v=[],o=f.orientation==="h",d=C.getFromId(b,o?f.yaxis:f.xaxis),S=o?"y":"x",M={x:"y",y:"x"}[S],P=f[S+"calendar"],x=f.cumulative,E,T=a(b,f,d,S),i=T[0],R=T[1],A=typeof i.size=="string",k=[],_=A?k:i,H=[],z=[],N=[],O=0,F=f.histnorm,U=f.histfunc,Z=F.indexOf("density")!==-1,q,J,te;x.enabled&&Z&&(F=F.replace(/ ?density$/,""),Z=!1);var fe=U==="max"||U==="min",K=fe?null:0,Y=h.count,W=g[F],X=!1,re=function(He){return d.r2c(He,0,P)},se;for(L.isArrayOrTypedArray(f[M])&&U!=="count"&&(se=f[M],X=U==="avg",Y=h[U]),E=re(i.start),J=re(i.end)+(E-C.tickIncrement(E,i.size,!1,P))/1e6;E<J&&w.length<1e6&&(q=C.tickIncrement(E,i.size,!1,P),w.push((E+q)/2),v.push(K),N.push([]),k.push(E),Z&&H.push(1/(q-E)),X&&z.push(0),!(q<=E));)E=q;k.push(E),!A&&d.type==="date"&&(_={start:re(_.start),end:re(_.end),size:_.size}),b._fullLayout._roundFnOpts||(b._fullLayout._roundFnOpts={});var Q=f["_"+S+"bingroup"],ee={leftGap:1/0,rightGap:1/0};Q&&(b._fullLayout._roundFnOpts[Q]||(b._fullLayout._roundFnOpts[Q]=ee),ee=b._fullLayout._roundFnOpts[Q]);var le=v.length,oe=!0,he=ee.leftGap,xe=ee.rightGap,Ae={};for(E=0;E<R.length;E++){var Se=R[E];te=L.findBin(Se,_),te>=0&&te<le&&(O+=Y(te,E,v,se,z),oe&&N[te].length&&Se!==R[N[te][0]]&&(oe=!1),N[te].push(E),Ae[E]=te,he=Math.min(he,Se-k[te]),xe=Math.min(xe,k[te+1]-Se))}ee.leftGap=he,ee.rightGap=xe;var Oe;oe||(Oe=function(He,ke){return function(){var We=b._fullLayout._roundFnOpts[Q];return r(We.leftGap,We.rightGap,k,d,P)(He,ke)}}),X&&(O=t(v,z)),W&&W(v,O,H),x.enabled&&u(v,x.direction,x.currentbin);var Ve=Math.min(w.length,v.length),Ee=[],Te=0,Le=Ve-1;for(E=0;E<Ve;E++)if(v[E]){Te=E;break}for(E=Ve-1;E>=Te;E--)if(v[E]){Le=E;break}for(E=Te;E<=Le;E++)if(p(w[E])&&p(v[E])){var Ge={p:w[E],s:v[E],b:0};x.enabled||(Ge.pts=N[E],oe?Ge.ph0=Ge.ph1=N[E].length?R[N[E][0]]:w[E]:(f._computePh=!0,Ge.ph0=Oe(k[E]),Ge.ph1=Oe(k[E+1],!0))),Ee.push(Ge)}return Ee.length===1&&(Ee[0].width1=C.tickIncrement(Ee[0].p,i.size,!1,P)-Ee[0].p),y(Ee,f),L.isArrayOrTypedArray(f.selectedpoints)&&L.tagSelected(Ee,f,Ae),Ee}function a(b,f,w,v,o){var d=v+"bins",S=b._fullLayout,M=f["_"+v+"bingroup"],P=S._histogramBinOpts[M],x=S.barmode==="overlay",E,T,i,R,A,k,_,H=function(Se){return w.r2c(Se,0,R)},z=function(Se){return w.c2r(Se,0,R)},N=w.type==="date"?function(Se){return Se||Se===0?L.cleanDate(Se,null,R):null}:function(Se){return p(Se)?Number(Se):null};function O(Se,Oe,Ve){Oe[Se+"Found"]?(Oe[Se]=N(Oe[Se]),Oe[Se]===null&&(Oe[Se]=Ve[Se])):(k[Se]=Oe[Se]=Ve[Se],L.nestedProperty(T[0],d+"."+Se).set(Ve[Se]))}if(f["_"+v+"autoBinFinished"])delete f["_"+v+"autoBinFinished"];else{T=P.traces;var F=[],U=!0,Z=!1,q=!1;for(E=0;E<T.length;E++)if(i=T[E],i.visible){var J=P.dirs[E];A=i["_"+J+"pos0"]=w.makeCalcdata(i,J),F=L.concat(F,A),delete i["_"+v+"autoBinFinished"],f.visible===!0&&(U?U=!1:(delete i._autoBin,i["_"+v+"autoBinFinished"]=1),n.traceIs(i,"2dMap")&&(Z=!0),i.type==="histogram2dcontour"&&(q=!0))}R=T[0][v+"calendar"];var te=C.autoBin(F,w,P.nbins,Z,R,P.sizeFound&&P.size),fe=T[0]._autoBin={};if(k=fe[P.dirs[0]]={},q&&(P.size||(te.start=z(C.tickIncrement(H(te.start),te.size,!0,R))),P.end===void 0&&(te.end=z(C.tickIncrement(H(te.end),te.size,!1,R)))),x&&!n.traceIs(f,"2dMap")&&te._dataSpan===0&&w.type!=="category"&&w.type!=="multicategory"){if(o)return[te,A,!0];te=s(b,f,w,v,d)}_=i.cumulative||{},_.enabled&&_.currentbin!=="include"&&(_.direction==="decreasing"?te.start=z(C.tickIncrement(H(te.start),te.size,!0,R)):te.end=z(C.tickIncrement(H(te.end),te.size,!1,R))),P.size=te.size,P.sizeFound||(k.size=te.size,L.nestedProperty(T[0],d+".size").set(te.size)),O("start",P,te),O("end",P,te)}A=f["_"+v+"pos0"],delete f["_"+v+"pos0"];var K=f._input[d]||{},Y=L.extendFlat({},P),W=P.start,X=w.r2l(K.start),re=X!==void 0;if((P.startFound||re)&&X!==w.r2l(W)){var se=re?X:L.aggNums(Math.min,null,A),Q={type:w.type==="category"||w.type==="multicategory"?"linear":w.type,r2l:w.r2l,dtick:P.size,tick0:W,calendar:R,range:[se,C.tickIncrement(se,P.size,!1,R)].map(w.l2r)},ee=C.tickFirst(Q);ee>w.r2l(se)&&(ee=C.tickIncrement(ee,P.size,!0,R)),Y.start=w.l2r(ee),re||L.nestedProperty(f,d+".start").set(Y.start)}var le=P.end,oe=w.r2l(K.end),he=oe!==void 0;if((P.endFound||he)&&oe!==w.r2l(le)){var xe=he?oe:L.aggNums(Math.max,null,A);Y.end=w.l2r(xe),he||L.nestedProperty(f,d+".start").set(Y.end)}var Ae="autobin"+v;return f._input[Ae]===!1&&(f._input[d]=L.extendFlat({},f[d]||{}),delete f._input[Ae],delete f[Ae]),[Y,A]}function s(b,f,w,v,o){var d=b._fullLayout,S=c(b,f),M=!1,P=1/0,x=[f],E,T,i;for(E=0;E<S.length;E++)if(T=S[E],T===f)M=!0;else if(!M)i=d._histogramBinOpts[T["_"+v+"bingroup"]],P=Math.min(P,i.size||T[o].size);else{var R=a(b,T,w,v,!0),A=R[0],k=R[2];T["_"+v+"autoBinFinished"]=1,T["_"+v+"pos0"]=R[1],k?x.push(T):P=Math.min(P,A.size)}var _=new Array(x.length);for(E=0;E<x.length;E++)for(var H=x[E]["_"+v+"pos0"],z=0;z<H.length;z++)if(H[z]!==void 0){_[E]=H[z];break}for(isFinite(P)||(P=L.distinctVals(_).minDiff),E=0;E<x.length;E++){T=x[E];var N=T[v+"calendar"],O={start:w.c2r(_[E]-P/2,0,N),end:w.c2r(_[E]+P/2,0,N),size:P};T._input[o]=T[o]=O,i=d._histogramBinOpts[T["_"+v+"bingroup"]],i&&L.extendFlat(i,O)}return f[o]}function c(b,f){for(var w=f.xaxis,v=f.yaxis,o=f.orientation,d=[],S=b._fullData,M=0;M<S.length;M++){var P=S[M];P.type==="histogram"&&P.visible===!0&&P.orientation===o&&P.xaxis===w&&P.yaxis===v&&d.push(P)}return d}function u(b,f,w){var v,o,d;function S(P){d=b[P],b[P]/=2}function M(P){o=b[P],b[P]=d+o/2,d+=o}if(w==="half")if(f==="increasing")for(S(0),v=1;v<b.length;v++)M(v);else for(S(b.length-1),v=b.length-2;v>=0;v--)M(v);else if(f==="increasing"){for(v=1;v<b.length;v++)b[v]+=b[v-1];w==="exclude"&&(b.unshift(0),b.pop())}else{for(v=b.length-2;v>=0;v--)b[v]+=b[v+1];w==="exclude"&&(b.push(0),b.shift())}}V.exports={calc:l,calcAllAutoBins:a}},72406:function(V){V.exports={eventDataKeys:["binNumber"]}},82222:function(V,B,e){var p=e(71828),L=e(41675),n=e(73972).traceIs,C=e(26125),y=p.nestedProperty,h=e(99082).getAxisGroup,g=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];V.exports=function(l,a){var s=a._histogramBinOpts={},c=[],u={},b=[],f,w,v,o,d,S,M;function P(q,J){return p.coerce(f._input,f,f._module.attributes,q,J)}function x(q){return q.orientation==="v"?"x":"y"}function E(q,J){var te=L.getFromTrace({_fullLayout:a},q,J);return te.type}function T(q,J,te){var fe=q.uid+"__"+te;J||(J=fe);var K=E(q,te),Y=q[te+"calendar"]||"",W=s[J],X=!0;W&&(K===W.axType&&Y===W.calendar?(X=!1,W.traces.push(q),W.dirs.push(te)):(J=fe,K!==W.axType&&p.warn(["Attempted to group the bins of trace",q.index,"set on a","type:"+K,"axis","with bins on","type:"+W.axType,"axis."].join(" ")),Y!==W.calendar&&p.warn(["Attempted to group the bins of trace",q.index,"set with a",Y,"calendar","with bins",W.calendar?"on a "+W.calendar+" calendar":"w/o a set calendar"].join(" ")))),X&&(s[J]={traces:[q],dirs:[te],axType:K,calendar:q[te+"calendar"]||""}),q["_"+te+"bingroup"]=J}for(d=0;d<l.length;d++)f=l[d],n(f,"histogram")&&(c.push(f),delete f._xautoBinFinished,delete f._yautoBinFinished,n(f,"2dMap")||C(f._input,f,a,P));var i=a._alignmentOpts||{};for(d=0;d<c.length;d++){if(f=c[d],v="",!n(f,"2dMap")){if(o=x(f),a.barmode==="group"&&f.alignmentgroup){var R=f[o+"axis"],A=h(a,R)+f.orientation;(i[A]||{})[f.alignmentgroup]&&(v=A)}!v&&a.barmode!=="overlay"&&(v=h(a,f.xaxis)+h(a,f.yaxis)+x(f))}v?(u[v]||(u[v]=[]),u[v].push(f)):b.push(f)}for(v in u){if(w=u[v],w.length===1){b.push(w[0]);continue}var k=!1;for(w.length&&(f=w[0],k=P("bingroup")),v=k||v,d=0;d<w.length;d++){f=w[d];var _=f._input.bingroup;_&&_!==v&&p.warn(["Trace",f.index,"must match","within bingroup",v+".","Ignoring its bingroup:",_,"setting."].join(" ")),f.bingroup=v,T(f,v,x(f))}}for(d=0;d<b.length;d++){f=b[d];var H=P("bingroup");if(n(f,"2dMap"))for(M=0;M<2;M++){o=t[M];var z=P(o+"bingroup",H?H+"__"+o:null);T(f,z,o)}else T(f,H,x(f))}for(v in s){var N=s[v];for(w=N.traces,S=0;S<g.length;S++){var O=g[S],F=O.name,U,Z;if(!(F==="nbins"&&N.sizeFound)){for(d=0;d<w.length;d++){if(f=w[d],o=N.dirs[d],U=O.aStr[o],y(f._input,U).get()!==void 0){N[F]=P(U),N[F+"Found"]=!0;break}Z=(f._autoBin||{})[o]||{},Z[F]&&y(f,U).set(Z[F])}if(F==="start"||F==="end")for(;d<w.length;d++)f=w[d],f["_"+o+"bingroup"]&&(Z=(f._autoBin||{})[o]||{},P(U,Z[F]));F==="nbins"&&!N.sizeFound&&!N.nbinsFound&&(f=w[0],N[F]=P(U))}}}}},11385:function(V,B,e){var p=e(73972),L=e(71828),n=e(7901),C=e(90769).handleText,y=e(98340),h=e(7745);V.exports=function(t,r,l,a){function s(E,T){return L.coerce(t,r,h,E,T)}var c=s("x"),u=s("y"),b=s("cumulative.enabled");b&&(s("cumulative.direction"),s("cumulative.currentbin")),s("text");var f=s("textposition");C(t,r,a,s,f,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s("hovertext"),s("hovertemplate"),s("xhoverformat"),s("yhoverformat");var w=s("orientation",u&&!c?"h":"v"),v=w==="v"?"x":"y",o=w==="v"?"y":"x",d=c&&u?Math.min(L.minRowLength(c)&&L.minRowLength(u)):L.minRowLength(r[v]||[]);if(!d){r.visible=!1;return}r._length=d;var S=p.getComponentMethod("calendars","handleTraceDefaults");S(t,r,["x","y"],a);var M=r[o];M&&s("histfunc"),s("histnorm"),s("autobin"+v),y(t,r,s,l,a),L.coerceSelectionMarkerOpacity(r,s);var P=(r.marker.line||{}).color,x=p.getComponentMethod("errorbars","supplyDefaults");x(t,r,P||n.defaultLine,{axis:"y"}),x(t,r,P||n.defaultLine,{axis:"x",inherit:"y"})}},84402:function(V){V.exports=function(e,p,L,n,C){if(e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"zLabelVal"in p&&(e.z=p.zLabelVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),!(L.cumulative||{}).enabled){var y=Array.isArray(C)?n[0].pts[C[0]][C[1]]:n[C].pts;e.pointNumbers=y,e.binNumber=e.pointNumber,delete e.pointNumber,delete e.pointIndex;var h;if(L._indexToPoints){h=[];for(var g=0;g<y.length;g++)h=h.concat(L._indexToPoints[y[g]])}else h=y;e.pointIndices=h}return e}},76440:function(V,B,e){var p=e(95423).hoverPoints,L=e(89298).hoverLabelText;V.exports=function(C,y,h,g,t){var r=p(C,y,h,g,t);if(r){C=r[0];var l=C.cd[C.index],a=C.cd[0].trace;if(!a.cumulative.enabled){var s=a.orientation==="h"?"y":"x";C[s+"Label"]=L(C[s+"a"],[l.ph0,l.ph1],a[s+"hoverformat"])}return r}}},36071:function(V,B,e){V.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(V){V.exports={percent:function(B,e){for(var p=B.length,L=100/e,n=0;n<p;n++)B[n]*=L},probability:function(B,e){for(var p=B.length,L=0;L<p;L++)B[L]/=e},density:function(B,e,p,L){var n=B.length;L=L||1;for(var C=0;C<n;C++)B[C]*=p[C]*L},"probability density":function(B,e,p,L){var n=B.length;L&&(e/=L);for(var C=0;C<n;C++)B[C]*=p[C]/e}}},35361:function(V,B,e){var p=e(7745),L=e(17656),n=e(21606),C=e(9012),y=e(12663).axisHoverFormat,h=e(5386).fF,g=e(5386).si,t=e(50693),r=e(1426).extendFlat;V.exports=r({x:p.x,y:p.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:L("x"),nbinsy:p.nbinsy,ybins:L("y"),autobinx:p.autobinx,autobiny:p.autobiny,bingroup:r({},p.bingroup,{}),xbingroup:r({},p.bingroup,{}),ybingroup:r({},p.bingroup,{}),xgap:n.xgap,ygap:n.ygap,zsmooth:n.zsmooth,xhoverformat:y("x"),yhoverformat:y("y"),zhoverformat:y("z",1),hovertemplate:h({},{keys:"z"}),texttemplate:g({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:n.textfont,showlegend:r({},C.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(V,B,e){var p=e(71828),L=e(89298),n=e(59575),C=e(36362),y=e(42174),h=e(40965),g=e(72138).calcAllAutoBins;V.exports=function(s,c){var u=L.getFromId(s,c.xaxis),b=L.getFromId(s,c.yaxis),f=c.xcalendar,w=c.ycalendar,v=function(Be){return u.r2c(Be,0,f)},o=function(Be){return b.r2c(Be,0,w)},d=function(Be){return u.c2r(Be,0,f)},S=function(Be){return b.c2r(Be,0,w)},M,P,x,E,T=g(s,c,u,"x"),i=T[0],R=T[1],A=g(s,c,b,"y"),k=A[0],_=A[1],H=c._length;R.length>H&&R.splice(H,R.length-H),_.length>H&&_.splice(H,_.length-H);var z=[],N=[],O=[],F=typeof i.size=="string",U=typeof k.size=="string",Z=[],q=[],J=F?Z:i,te=U?q:k,fe=0,K=[],Y=[],W=c.histnorm,X=c.histfunc,re=W.indexOf("density")!==-1,se=X==="max"||X==="min",Q=se?null:0,ee=n.count,le=C[W],oe=!1,he=[],xe=[],Ae="z"in c?c.z:"marker"in c&&Array.isArray(c.marker.color)?c.marker.color:"";Ae&&X!=="count"&&(oe=X==="avg",ee=n[X]);var Se=i.size,Oe=v(i.start),Ve=v(i.end)+(Oe-L.tickIncrement(Oe,Se,!1,f))/1e6;for(M=Oe;M<Ve;M=L.tickIncrement(M,Se,!1,f))N.push(Q),Z.push(M),oe&&O.push(0);Z.push(M);var Ee=N.length,Te=(M-Oe)/Ee,Le=d(Oe+Te/2),Ge=k.size,He=o(k.start),ke=o(k.end)+(He-L.tickIncrement(He,Ge,!1,w))/1e6;for(M=He;M<ke;M=L.tickIncrement(M,Ge,!1,w)){z.push(N.slice()),q.push(M);var We=new Array(Ee);for(P=0;P<Ee;P++)We[P]=[];Y.push(We),oe&&K.push(O.slice())}q.push(M);var nt=z.length,qe=(M-He)/nt,Qe=S(He+qe/2);re&&(he=t(N.length,J,Te,F),xe=t(z.length,te,qe,U)),!F&&u.type==="date"&&(J=r(v,J)),!U&&b.type==="date"&&(te=r(o,te));var tt=!0,vt=!0,dt=new Array(Ee),gt=new Array(nt),Mt=1/0,Rt=1/0,Wt=1/0,je=1/0;for(M=0;M<H;M++){var _e=R[M],Fe=_[M];x=p.findBin(_e,J),E=p.findBin(Fe,te),x>=0&&x<Ee&&E>=0&&E<nt&&(fe+=ee(x,M,z[E],Ae,K[E]),Y[E][x].push(M),tt&&(dt[x]===void 0?dt[x]=_e:dt[x]!==_e&&(tt=!1)),vt&&(gt[E]===void 0?gt[E]=Fe:gt[E]!==Fe&&(vt=!1)),Mt=Math.min(Mt,_e-Z[x]),Rt=Math.min(Rt,Z[x+1]-_e),Wt=Math.min(Wt,Fe-q[E]),je=Math.min(je,q[E+1]-Fe))}if(oe)for(E=0;E<nt;E++)fe+=y(z[E],K[E]);if(le)for(E=0;E<nt;E++)le(z[E],fe,he,xe[E]);return{x:R,xRanges:l(Z,tt&&dt,Mt,Rt,u,f),x0:Le,dx:Te,y:_,yRanges:l(q,vt&&gt,Wt,je,b,w),y0:Qe,dy:qe,z,pts:Y}};function t(a,s,c,u){var b=new Array(a),f;if(u)for(f=0;f<a;f++)b[f]=1/(s[f+1]-s[f]);else{var w=1/c;for(f=0;f<a;f++)b[f]=w}return b}function r(a,s){return{start:a(s.start),end:a(s.end),size:s.size}}function l(a,s,c,u,b,f){var w,v=a.length-1,o=new Array(v),d=h(c,u,a,b,f);for(w=0;w<v;w++){var S=(s||[])[w];o[w]=S===void 0?[d(a[w]),d(a[w+1],!0)]:[S,S]}return o}},93888:function(V,B,e){var p=e(71828),L=e(75238),n=e(49901),C=e(1586),y=e(58623),h=e(35361);V.exports=function(t,r,l,a){function s(c,u){return p.coerce(t,r,h,c,u)}L(t,r,s,a),r.visible!==!1&&(n(t,r,s,a),C(t,r,a,s,{prefix:"",cLetter:"z"}),s("hovertemplate"),y(s,a),s("xhoverformat"),s("yhoverformat"))}},76128:function(V,B,e){var p=e(46248),L=e(89298).hoverLabelText;V.exports=function(C,y,h,g,t){var r=p(C,y,h,g,t);if(r){C=r[0];var l=C.index,a=l[0],s=l[1],c=C.cd[0],u=c.trace,b=c.xRanges[s],f=c.yRanges[a];return C.xLabel=L(C.xa,[b[0],b[1]],u.xhoverformat),C.yLabel=L(C.ya,[f[0],f[1]],u.yhoverformat),r}}},43905:function(V,B,e){V.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(V,B,e){var p=e(73972),L=e(71828);V.exports=function(C,y,h,g){var t=h("x"),r=h("y"),l=L.minRowLength(t),a=L.minRowLength(r);if(!l||!a){y.visible=!1;return}y._length=Math.min(l,a);var s=p.getComponentMethod("calendars","handleTraceDefaults");s(C,y,["x","y"],g);var c=h("z")||h("marker.color");c&&h("histfunc"),h("histnorm"),h("autobinx"),h("autobiny")}},99066:function(V,B,e){var p=e(35361),L=e(70600),n=e(50693),C=e(12663).axisHoverFormat,y=e(1426).extendFlat;V.exports=y({x:p.x,y:p.y,z:p.z,marker:p.marker,histnorm:p.histnorm,histfunc:p.histfunc,nbinsx:p.nbinsx,xbins:p.xbins,nbinsy:p.nbinsy,ybins:p.ybins,autobinx:p.autobinx,autobiny:p.autobiny,bingroup:p.bingroup,xbingroup:p.xbingroup,ybingroup:p.ybingroup,autocontour:L.autocontour,ncontours:L.ncontours,contours:L.contours,line:{color:L.line.color,width:y({},L.line.width,{dflt:.5}),dash:L.line.dash,smoothing:L.line.smoothing,editType:"plot"},xhoverformat:C("x"),yhoverformat:C("y"),zhoverformat:C("z",1),hovertemplate:p.hovertemplate,texttemplate:L.texttemplate,textfont:L.textfont},n("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(V,B,e){var p=e(71828),L=e(75238),n=e(67217),C=e(8724),y=e(58623),h=e(99066);V.exports=function(t,r,l,a){function s(u,b){return p.coerce(t,r,h,u,b)}function c(u){return p.coerce2(t,r,h,u)}L(t,r,s,a),r.visible!==!1&&(n(t,r,s,c),C(t,r,s,a),s("xhoverformat"),s("yhoverformat"),s("hovertemplate"),r.contours&&r.contours.coloring==="heatmap"&&y(s,a))}},35902:function(V,B,e){V.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(50693),C=e(27670).Y,y=e(34e3),h=e(57564),g=e(45802),t=e(43473),r=e(1426).extendFlat,l=e(79952).u;V.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:g.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:r({colors:h.marker.colors,line:h.marker.line,pattern:l,editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),leaf:h.leaf,pathbar:g.pathbar,text:y.text,textinfo:h.textinfo,texttemplate:L({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:y.hovertext,hoverinfo:h.hoverinfo,hovertemplate:p({},{keys:t.eventDataKeys}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:g.outsidetextfont,textposition:g.textposition,sort:y.sort,root:h.root,domain:C({name:"icicle",trace:!0,editType:"calc"})}},96346:function(V,B,e){var p=e(74875);B.name="icicle",B.plot=function(L,n,C,y){p.plotBasePlot(B.name,L,n,C,y)},B.clean=function(L,n,C,y){p.cleanBasePlot(B.name,L,n,C,y)}},46584:function(V,B,e){var p=e(52147);B.y=function(L,n){return p.calc(L,n)},B.T=function(L){return p._runCrossTraceCalc("icicle",L)}},56524:function(V,B,e){var p=e(71828),L=e(46291),n=e(7901),C=e(27670).c,y=e(90769).handleText,h=e(97313).TEXTPAD,g=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,l=t.handleDefaults;V.exports=function(s,c,u,b){function f(x,E){return p.coerce(s,c,L,x,E)}var w=f("labels"),v=f("parents");if(!w||!w.length||!v||!v.length){c.visible=!1;return}var o=f("values");o&&o.length?f("branchvalues"):f("count"),f("level"),f("maxdepth"),f("tiling.orientation"),f("tiling.flip"),f("tiling.pad");var d=f("text");f("texttemplate"),c.texttemplate||f("textinfo",Array.isArray(d)?"text+label":"label"),f("hovertext"),f("hovertemplate");var S=f("pathbar.visible"),M="auto";y(s,c,b,f,M,{hasPathbar:S,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("textposition"),g(s,c,b,f);var P=c._hasColorscale=r(s,"marker","colors")||(s.marker||{}).coloraxis;P&&l(s,c,b,f,{prefix:"marker.",cLetter:"c"}),f("leaf.opacity",P?1:.7),c._hovered={marker:{line:{width:2,color:n.contrast(b.paper_bgcolor)}}},S&&(f("pathbar.thickness",c.pathbar.textfont.size+2*h),f("pathbar.side"),f("pathbar.edgeshape")),f("sort"),f("root.color"),C(c,b,f),c._length=null}},90666:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(63893),y=e(21538),h=e(82454).styleOne,g=e(43473),t=e(2791),r=e(83523),l=e(24714).formatSliceLabel,a=!1;V.exports=function(c,u,b,f,w){var v=w.width,o=w.height,d=w.viewX,S=w.viewY,M=w.pathSlice,P=w.toMoveInsideSlice,x=w.strTransform,E=w.hasTransition,T=w.handleSlicesExit,i=w.makeUpdateSliceInterpolator,R=w.makeUpdateTextInterpolator,A=w.prevEntry,k={},_=c._context.staticPlot,H=c._fullLayout,z=u[0],N=z.trace,O=N.textposition.indexOf("left")!==-1,F=N.textposition.indexOf("right")!==-1,U=N.textposition.indexOf("bottom")!==-1,Z=y(b,[v,o],{flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1,orientation:N.tiling.orientation,pad:{inner:N.tiling.pad},maxDepth:N._maxDepth}),q=Z.descendants(),J=1/0,te=-1/0;q.forEach(function(X){var re=X.depth;re>=N._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(J=Math.min(J,re),te=Math.max(te,re))}),f=f.data(q,t.getPtId),N._maxVisibleLayers=isFinite(te)?te-J+1:0,f.enter().append("g").classed("slice",!0),T(f,a,k,[v,o],M),f.order();var fe=null;if(E&&A){var K=t.getPtId(A);f.each(function(X){fe===null&&t.getPtId(X)===K&&(fe={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var Y=function(){return fe||{x0:0,x1:v,y0:0,y1:o}},W=f;return E&&(W=W.transition().each("end",function(){var X=p.select(this);t.setSliceCursor(X,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),W.each(function(X){X._x0=d(X.x0),X._x1=d(X.x1),X._y0=S(X.y0),X._y1=S(X.y1),X._hoverX=d(X.x1-N.tiling.pad),X._hoverY=S(U?X.y1-N.tiling.pad/2:X.y0+N.tiling.pad/2);var re=p.select(this),se=L.ensureSingle(re,"path","surface",function(oe){oe.style("pointer-events",_?"none":"all")});E?se.transition().attrTween("d",function(oe){var he=i(oe,a,Y(),[v,o],{orientation:N.tiling.orientation,flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1});return function(xe){return M(he(xe))}}):se.attr("d",M),re.call(r,b,c,u,{styleOne:h,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,c,{isTransitioning:c._transitioning}),se.call(h,X,N,c,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=l(X,b,N,u,H)||"";var Q=L.ensureSingle(re,"g","slicetext"),ee=L.ensureSingle(Q,"text","",function(oe){oe.attr("data-notex",1)}),le=L.ensureUniformFontSize(c,t.determineTextFont(N,X,H.font));ee.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":O?"start":"middle").call(n.font,le).call(C.convertToTspans,c),X.textBB=n.bBox(ee.node()),X.transform=P(X,{fontSize:le.size}),X.transform.fontSize=le.size,E?ee.transition().attrTween("transform",function(oe){var he=R(oe,a,Y(),[v,o]);return function(xe){return x(he(xe))}}):ee.attr("transform",x(X))}),fe}},69816:function(V,B,e){V.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(V){V.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(V,B,e){var p=e(71828),L=e(92894);V.exports=function(C,y){function h(g,t){return p.coerce(C,y,L,g,t)}h("iciclecolorway",y.colorway),h("extendiciclecolors")}},21538:function(V,B,e){var p=e(674),L=e(14102);V.exports=function(C,y,h){var g=h.flipX,t=h.flipY,r=h.orientation==="h",l=h.maxDepth,a=y[0],s=y[1];l&&(a=(C.height+1)*y[0]/Math.min(C.height+1,l),s=(C.height+1)*y[1]/Math.min(C.height+1,l));var c=p.partition().padding(h.pad.inner).size(r?[y[1],a]:[y[0],s])(C);return(r||g||t)&&L(c,y,{swapXY:r,flipX:g,flipY:t}),c}},85596:function(V,B,e){var p=e(80694),L=e(90666);V.exports=function(C,y,h,g){return p(C,y,h,g,{type:"icicle",drawDescendants:L})}},82454:function(V,B,e){var p=e(39898),L=e(7901),n=e(71828),C=e(72597).resizeText,y=e(43467);function h(t){var r=t._fullLayout._iciclelayer.selectAll(".trace");C(t,r,"icicle"),r.each(function(l){var a=p.select(this),s=l[0],c=s.trace;a.style("opacity",c.opacity),a.selectAll("path.surface").each(function(u){p.select(this).call(g,u,c,t)})})}function g(t,r,l,a){var s=r.data.data,c=!r.children,u=s.i,b=n.castOption(l,u,"marker.line.color")||L.defaultLine,f=n.castOption(l,u,"marker.line.width")||0;t.call(y,r,l,a).style("stroke-width",f).call(L.stroke,b).style("opacity",c?l.leaf.opacity:null)}V.exports={style:h,styleOne:g}},17230:function(V,B,e){for(var p=e(9012),L=e(5386).fF,n=e(1426).extendFlat,C=e(51877).colormodel,y=["rgb","rgba","rgba256","hsl","hsla"],h=[],g=[],t=0;t<y.length;t++){var r=C[y[t]];h.push("For the `"+y[t]+"` colormodel, it is ["+(r.zminDflt||r.min).join(", ")+"]."),g.push("For the `"+y[t]+"` colormodel, it is ["+(r.zmaxDflt||r.max).join(", ")+"].")}V.exports=n({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:y,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:n({},p.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:L({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(V,B,e){var p=e(71828),L=e(51877),n=e(92770),C=e(89298),y=e(71828).maxRowLength,h=e(67395).A;V.exports=function(a,s){var c,u;if(s._hasZ)c=s.z.length,u=y(s.z);else if(s._hasSource){var b=h(s.source);c=b.height,u=b.width}var f=C.getFromId(a,s.xaxis||"x"),w=C.getFromId(a,s.yaxis||"y"),v=f.d2c(s.x0)-s.dx/2,o=w.d2c(s.y0)-s.dy/2,d,S=[v,v+u*s.dx],M=[o,o+c*s.dy];if(f&&f.type==="log")for(d=0;d<u;d++)S.push(v+d*s.dx);if(w&&w.type==="log")for(d=0;d<c;d++)M.push(o+d*s.dy);s._extremes[f._id]=C.findExtremes(f,S),s._extremes[w._id]=C.findExtremes(w,M),s._scaler=r(s);var P={x0:v,y0:o,z:s.z,w:u,h:c};return[P]};function g(l,a,s,c){return function(u){return p.constrain((u-l)*a,s,c)}}function t(l,a){return function(s){return p.constrain(s,l,a)}}function r(l){var a=L.colormodel[l.colormodel],s=a.colormodel||l.colormodel,c=s.length;l._sArray=[];for(var u=0;u<c;u++)a.min[u]!==l.zmin[u]||a.max[u]!==l.zmax[u]?l._sArray.push(g(l.zmin[u],(a.max[u]-a.min[u])/(l.zmax[u]-l.zmin[u]),a.min[u],a.max[u])):l._sArray.push(t(a.min[u],a.max[u]));return function(b){for(var f=b.slice(0,c),w=0;w<c;w++){var v=f[w];if(!n(v))return!1;f[w]=l._sArray[w](v)}return f}}},51877:function(V){V.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(B){return B.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(B){return B.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(B){var e=B.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(B){var e=B.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["","%","%",""]}}}},13245:function(V,B,e){var p=e(71828),L=e(17230),n=e(51877),C=e(25095).IMAGE_URL_PREFIX;V.exports=function(h,g){function t(a,s){return p.coerce(h,g,L,a,s)}t("source"),g.source&&!g.source.match(C)&&delete g.source,g._hasSource=!!g.source;var r=t("z");if(g._hasZ=!(r===void 0||!r.length||!r[0]||!r[0].length),!g._hasZ&&!g._hasSource){g.visible=!1;return}t("x0"),t("y0"),t("dx"),t("dy");var l;g._hasZ?(t("colormodel","rgb"),l=n.colormodel[g.colormodel],t("zmin",l.zminDflt||l.min),t("zmax",l.zmaxDflt||l.max)):g._hasSource&&(g.colormodel="rgba256",l=n.colormodel[g.colormodel],g.zmin=l.zminDflt,g.zmax=l.zmaxDflt),t("zsmooth"),t("text"),t("hovertext"),t("hovertemplate"),g._length=null}},30835:function(V){V.exports=function(e,p){return"xVal"in p&&(e.x=p.xVal),"yVal"in p&&(e.y=p.yVal),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e.color=p.color,e.colormodel=p.trace.colormodel,e.z||(e.z=p.color),e}},67395:function(V,B,e){var p=e(33575),L=e(25095).IMAGE_URL_PREFIX,n=e(12856).Buffer;B.A=function(C){var y=C.replace(L,""),h=new n(y,"base64");return p(h)}},28749:function(V,B,e){var p=e(30211),L=e(71828),n=e(51877);V.exports=function(y,h,g){var t=y.cd[0],r=t.trace,l=y.xa,a=y.ya;if(!(p.inbox(h-t.x0,h-(t.x0+t.w*r.dx),0)>0||p.inbox(g-t.y0,g-(t.y0+t.h*r.dy),0)>0)){var s=Math.floor((h-t.x0)/r.dx),c=Math.floor(Math.abs(g-t.y0)/r.dy),u;if(r._hasZ?u=t.z[c][s]:r._hasSource&&(u=r._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(s,c,1,1).data),!!u){var b=t.hi||r.hoverinfo,f;if(b){var w=b.split("+");w.indexOf("all")!==-1&&(w=["color"]),w.indexOf("color")!==-1&&(f=!0)}var v=n.colormodel[r.colormodel],o=v.colormodel||r.colormodel,d=o.length,S=r._scaler(u),M=v.suffix,P=[];(r.hovertemplate||f)&&(P.push("["+[S[0]+M[0],S[1]+M[1],S[2]+M[2]].join(", ")),d===4&&P.push(", "+S[3]+M[3]),P.push("]"),P=P.join(""),y.extraText=o.toUpperCase()+": "+P);var x;Array.isArray(r.hovertext)&&Array.isArray(r.hovertext[c])?x=r.hovertext[c][s]:Array.isArray(r.text)&&Array.isArray(r.text[c])&&(x=r.text[c][s]);var E=a.c2p(t.y0+(c+.5)*r.dy),T=t.x0+(s+.5)*r.dx,i=t.y0+(c+.5)*r.dy,R="["+u.slice(0,r.colormodel.length).join(", ")+"]";return[L.extendFlat(y,{index:[c,s],x0:l.c2p(t.x0+s*r.dx),x1:l.c2p(t.x0+(s+1)*r.dx),y0:E,y1:E,color:S,xVal:T,xLabelVal:T,yVal:i,yLabelVal:i,zLabelVal:R,text:x,hovertemplateLabels:{zLabel:R,colorLabel:P,"color[0]Label":S[0]+M[0],"color[1]Label":S[1]+M[1],"color[2]Label":S[2]+M[2],"color[3]Label":S[3]+M[3]}})]}}}},94507:function(V,B,e){V.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(V,B,e){var p=e(39898),L=e(71828),n=L.strTranslate,C=e(77922),y=e(51877),h=e(3883),g=e(32396).STYLE;V.exports=function(r,l,a,s){var c=l.xaxis,u=l.yaxis,b=!r._context._exportedPlot&&h();L.makeTraceGroups(s,a,"im").each(function(f){var w=p.select(this),v=f[0],o=v.trace,d=(o.zsmooth==="fast"||o.zsmooth===!1&&b)&&!o._hasZ&&o._hasSource&&c.type==="linear"&&u.type==="linear";o._realImage=d;var S=v.z,M=v.x0,P=v.y0,x=v.w,E=v.h,T=o.dx,i=o.dy,R,A,k,_,H,z;for(z=0;R===void 0&&z<x;)R=c.c2p(M+z*T),z++;for(z=x;A===void 0&&z>0;)A=c.c2p(M+z*T),z--;for(z=0;_===void 0&&z<E;)_=u.c2p(P+z*i),z++;for(z=E;H===void 0&&z>0;)H=u.c2p(P+z*i),z--;if(A<R&&(k=A,A=R,R=k),H<_&&(k=_,_=H,H=k),!d){var N=.5;R=Math.max(-N*c._length,R),A=Math.min((1+N)*c._length,A),_=Math.max(-N*u._length,_),H=Math.min((1+N)*u._length,H)}var O=Math.round(A-R),F=Math.round(H-_),U=O<=0||F<=0;if(U){var Z=w.selectAll("image").data([]);Z.exit().remove();return}function q(Q){var ee=document.createElement("canvas");ee.width=O,ee.height=F;var le=ee.getContext("2d",{willReadFrequently:!0}),oe=function(He){return L.constrain(Math.round(c.c2p(M+He*T)-R),0,O)},he=function(He){return L.constrain(Math.round(u.c2p(P+He*i)-_),0,F)},xe=y.colormodel[o.colormodel],Ae=xe.colormodel||o.colormodel,Se=xe.fmt,Oe;for(z=0;z<v.w;z++){var Ve=oe(z),Ee=oe(z+1);if(!(Ee===Ve||isNaN(Ee)||isNaN(Ve)))for(var Te=0;Te<v.h;Te++){var Le=he(Te),Ge=he(Te+1);Ge===Le||isNaN(Ge)||isNaN(Le)||!Q(z,Te)||(Oe=o._scaler(Q(z,Te)),Oe?le.fillStyle=Ae+"("+Se(Oe).join(",")+")":le.fillStyle="rgba(0,0,0,0)",le.fillRect(Ve,Le,Ee-Ve,Ge-Le))}}return ee}var J=w.selectAll("image").data([f]);J.enter().append("svg:image").attr({xmlns:C.svg,preserveAspectRatio:"none"}),J.exit().remove();var te=o.zsmooth===!1?g:"";if(d){var fe=L.simpleMap(c.range,c.r2l),K=L.simpleMap(u.range,u.r2l),Y=fe[1]<fe[0],W=K[1]>K[0];if(Y||W){var X=R+O/2,re=_+F/2;te+="transform:"+n(X+"px",re+"px")+"scale("+(Y?-1:1)+","+(W?-1:1)+")"+n(-X+"px",-re+"px")+";"}}J.attr("style",te);var se=new Promise(function(Q){if(o._hasZ)Q();else if(o._hasSource)if(o._canvas&&o._canvas.el.width===x&&o._canvas.el.height===E&&o._canvas.source===o.source)Q();else{var ee=document.createElement("canvas");ee.width=x,ee.height=E;var le=ee.getContext("2d",{willReadFrequently:!0});o._image=o._image||new Image;var oe=o._image;oe.onload=function(){le.drawImage(oe,0,0),o._canvas={el:ee,source:o.source},Q()},oe.setAttribute("src",o.source)}}).then(function(){var Q,ee;if(o._hasZ)ee=q(function(he,xe){return S[xe][he]}),Q=ee.toDataURL("image/png");else if(o._hasSource)if(d)Q=o.source;else{var le=o._canvas.el.getContext("2d",{willReadFrequently:!0}),oe=le.getImageData(0,0,x,E).data;ee=q(function(he,xe){var Ae=4*(xe*x+he);return[oe[Ae],oe[Ae+1],oe[Ae+2],oe[Ae+3]]}),Q=ee.toDataURL("image/png")}J.attr({"xlink:href":Q,height:F,width:O,x:R,y:_})});r._promises.push(se)})}},12826:function(V,B,e){var p=e(39898);V.exports=function(n){p.select(n).selectAll(".im image").style("opacity",function(C){return C[0].trace.opacity})}},54846:function(V,B,e){var p=e(1426).extendFlat,L=e(1426).extendDeep,n=e(30962).overrideAll,C=e(41940),y=e(22399),h=e(27670).Y,g=e(13838),t=e(44467).templatedArray,r=e(22372),l=e(12663).descriptionOnlyNumbers,a=C({editType:"plot",colorEditType:"plot"}),s={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:y.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},c={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",L({},s,{range:c}));V.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:h({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:p({},a,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:l("value")},font:p({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:l("value")},increasing:{symbol:{valType:"string",dflt:r.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:r.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:r.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:p({},a,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:L({},s,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:n({range:c,visible:p({},g.visible,{dflt:!0}),tickmode:g.minor.tickmode,nticks:g.nticks,tick0:g.tick0,dtick:g.dtick,tickvals:g.tickvals,ticktext:g.ticktext,ticks:p({},g.ticks,{dflt:"outside"}),ticklen:g.ticklen,tickwidth:g.tickwidth,tickcolor:g.tickcolor,ticklabelstep:g.ticklabelstep,showticklabels:g.showticklabels,labelalias:g.labelalias,tickfont:C({}),tickangle:g.tickangle,tickformat:g.tickformat,tickformatstops:g.tickformatstops,tickprefix:g.tickprefix,showtickprefix:g.showtickprefix,ticksuffix:g.ticksuffix,showticksuffix:g.showticksuffix,separatethousands:g.separatethousands,exponentformat:g.exponentformat,minexponent:g.minexponent,showexponent:g.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:p({},s.line.color,{}),width:p({},s.line.width,{dflt:1}),editType:"plot"},thickness:p({},s.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(V,B,e){var p=e(74875);B.name="indicator",B.plot=function(L,n,C,y){p.plotBasePlot(B.name,L,n,C,y)},B.clean=function(L,n,C,y){p.cleanBasePlot(B.name,L,n,C,y)}},24667:function(V){function B(e,p){var L=[],n=p.value;typeof p._lastValue!="number"&&(p._lastValue=p.value);var C=p._lastValue,y=C;return p._hasDelta&&typeof p.delta.reference=="number"&&(y=p.delta.reference),L[0]={y:n,lastY:C,delta:n-y,relativeDelta:(n-y)/y},L}V.exports={calc:B}},84577:function(V){V.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(V,B,e){var p=e(71828),L=e(54846),n=e(27670).c,C=e(44467),y=e(85501),h=e(84577),g=e(26218),t=e(38701),r=e(96115),l=e(89426);function a(c,u,b,f){function w(H,z){return p.coerce(c,u,L,H,z)}n(u,f,w),w("mode"),u._hasNumber=u.mode.indexOf("number")!==-1,u._hasDelta=u.mode.indexOf("delta")!==-1,u._hasGauge=u.mode.indexOf("gauge")!==-1;var v=w("value");u._range=[0,typeof v=="number"?1.5*v:1];var o=new Array(2),d;u._hasNumber&&(w("number.valueformat"),w("number.font.color",f.font.color),w("number.font.family",f.font.family),w("number.font.size"),u.number.font.size===void 0&&(u.number.font.size=h.defaultNumberFontSize,o[0]=!0),w("number.prefix"),w("number.suffix"),d=u.number.font.size);var S;u._hasDelta&&(w("delta.font.color",f.font.color),w("delta.font.family",f.font.family),w("delta.font.size"),u.delta.font.size===void 0&&(u.delta.font.size=(u._hasNumber?.5:1)*(d||h.defaultNumberFontSize),o[1]=!0),w("delta.reference",u.value),w("delta.relative"),w("delta.valueformat",u.delta.relative?"2%":""),w("delta.increasing.symbol"),w("delta.increasing.color"),w("delta.decreasing.symbol"),w("delta.decreasing.color"),w("delta.position"),w("delta.prefix"),w("delta.suffix"),S=u.delta.font.size),u._scaleNumbers=(!u._hasNumber||o[0])&&(!u._hasDelta||o[1])||!1,w("title.font.color",f.font.color),w("title.font.family",f.font.family),w("title.font.size",.25*(d||S||h.defaultNumberFontSize)),w("title.text");var M,P,x,E;function T(H,z){return p.coerce(M,P,L.gauge,H,z)}function i(H,z){return p.coerce(x,E,L.gauge.axis,H,z)}if(u._hasGauge){M=c.gauge,M||(M={}),P=C.newContainer(u,"gauge"),T("shape");var R=u._isBullet=u.gauge.shape==="bullet";R||w("title.align","center");var A=u._isAngular=u.gauge.shape==="angular";A||w("align","center"),T("bgcolor",f.paper_bgcolor),T("borderwidth"),T("bordercolor"),T("bar.color"),T("bar.line.color"),T("bar.line.width");var k=h.valueThickness*(u.gauge.shape==="bullet"?.5:1);T("bar.thickness",k),y(M,P,{name:"steps",handleItemDefaults:s}),T("threshold.value"),T("threshold.thickness"),T("threshold.line.width"),T("threshold.line.color"),x={},M&&(x=M.axis||{}),E=C.newContainer(P,"axis"),i("visible"),u._range=i("range",u._range);var _={outerTicks:!0};g(x,E,i,"linear"),l(x,E,i,"linear",_),r(x,E,i,"linear",_),t(x,E,i,_)}else w("title.align","center"),w("align","center"),u._isAngular=u._isBullet=!1;u._length=null}function s(c,u){function b(f,w){return p.coerce(c,u,L.gauge.steps,f,w)}b("color"),b("line.color"),b("line.width"),b("range"),b("thickness")}V.exports={supplyDefaults:a}},15154:function(V,B,e){V.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(V,B,e){var p=e(39898),L=e(81684).sX,n=e(81684).k4,C=e(71828),y=C.strScale,h=C.strTranslate,g=C.rad2deg,t=e(18783).MID_SHIFT,r=e(91424),l=e(84577),a=e(63893),s=e(89298),c=e(71453),u=e(52830),b=e(13838),f=e(7901),w={left:"start",center:"middle",right:"end"},v={left:0,center:.5,right:1},o=/[yzafpnmkMGTPEZY]/;function d(_){return _&&_.duration>0}V.exports=function(H,z,N,O){var F=H._fullLayout,U;d(N)&&O&&(U=O()),C.makeTraceGroups(F._indicatorlayer,z,"trace").each(function(Z){var q=Z[0],J=q.trace,te=p.select(this),fe=J._hasGauge,K=J._isAngular,Y=J._isBullet,W=J.domain,X={w:F._size.w*(W.x[1]-W.x[0]),h:F._size.h*(W.y[1]-W.y[0]),l:F._size.l+F._size.w*W.x[0],r:F._size.r+F._size.w*(1-W.x[1]),t:F._size.t+F._size.h*(1-W.y[1]),b:F._size.b+F._size.h*W.y[0]},re=X.l+X.w/2,se=X.t+X.h/2,Q=Math.min(X.w/2,X.h),ee=l.innerRadius*Q,le,oe,he,xe=J.align||"center";if(oe=se,!fe)le=X.l+v[xe]*X.w,he=function(ke){return i(ke,X.w,X.h)};else if(K&&(le=re,oe=se+Q/2,he=function(ke){return R(ke,.9*ee)}),Y){var Ae=l.bulletPadding,Se=1-l.bulletNumberDomainSize+Ae;le=X.l+(Se+(1-Se)*v[xe])*X.w,he=function(ke){return i(ke,(l.bulletNumberDomainSize-Ae)*X.w,X.h)}}P(H,te,Z,{numbersX:le,numbersY:oe,numbersScaler:he,transitionOpts:N,onComplete:U});var Oe,Ve;fe&&(Oe={range:J.gauge.axis.range,color:J.gauge.bgcolor,line:{color:J.gauge.bordercolor,width:0},thickness:1},Ve={range:J.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:J.gauge.bordercolor,width:J.gauge.borderwidth},thickness:1});var Ee=te.selectAll("g.angular").data(K?Z:[]);Ee.exit().remove();var Te=te.selectAll("g.angularaxis").data(K?Z:[]);Te.exit().remove(),K&&M(H,te,Z,{radius:Q,innerRadius:ee,gauge:Ee,layer:Te,size:X,gaugeBg:Oe,gaugeOutline:Ve,transitionOpts:N,onComplete:U});var Le=te.selectAll("g.bullet").data(Y?Z:[]);Le.exit().remove();var Ge=te.selectAll("g.bulletaxis").data(Y?Z:[]);Ge.exit().remove(),Y&&S(H,te,Z,{gauge:Le,layer:Ge,size:X,gaugeBg:Oe,gaugeOutline:Ve,transitionOpts:N,onComplete:U});var He=te.selectAll("text.title").data(Z);He.exit().remove(),He.enter().append("text").classed("title",!0),He.attr("text-anchor",function(){return Y?w.right:w[J.title.align]}).text(J.title.text).call(r.font,J.title.font).call(a.convertToTspans,H),He.attr("transform",function(){var ke=X.l+X.w*v[J.title.align],We,nt=l.titlePadding,qe=r.bBox(He.node());if(fe){if(K)if(J.gauge.axis.visible){var Qe=r.bBox(Te.node());We=Qe.top-nt-qe.bottom}else We=X.t+X.h/2-Q/2-qe.bottom-nt;Y&&(We=oe-(qe.top+qe.bottom)/2,ke=X.l-l.bulletPadding*X.w)}else We=J._numbersTop-nt-qe.bottom;return h(ke,We)})})};function S(_,H,z,N){var O=z[0].trace,F=N.gauge,U=N.layer,Z=N.gaugeBg,q=N.gaugeOutline,J=N.size,te=O.domain,fe=N.transitionOpts,K=N.onComplete,Y,W,X,re,se;F.enter().append("g").classed("bullet",!0),F.attr("transform",h(J.l,J.t)),U.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),U.selectAll("g.xbulletaxistick,path,text").remove();var Q=J.h,ee=O.gauge.bar.thickness*Q,le=te.x[0],oe=te.x[0]+(te.x[1]-te.x[0])*(O._hasNumber||O._hasDelta?1-l.bulletNumberDomainSize:1);Y=T(_,O.gauge.axis),Y._id="xbulletaxis",Y.domain=[le,oe],Y.setScale(),W=s.calcTicks(Y),X=s.makeTransTickFn(Y),re=s.getTickSigns(Y)[2],se=J.t+J.h,Y.visible&&(s.drawTicks(_,Y,{vals:Y.ticks==="inside"?s.clipEnds(Y,W):W,layer:U,path:s.makeTickPath(Y,se,re),transFn:X}),s.drawLabels(_,Y,{vals:W,layer:U,transFn:X,labelFns:s.makeLabelFns(Y,se)}));function he(Te){Te.attr("width",function(Le){return Math.max(0,Y.c2p(Le.range[1])-Y.c2p(Le.range[0]))}).attr("x",function(Le){return Y.c2p(Le.range[0])}).attr("y",function(Le){return .5*(1-Le.thickness)*Q}).attr("height",function(Le){return Le.thickness*Q})}var xe=[Z].concat(O.gauge.steps),Ae=F.selectAll("g.bg-bullet").data(xe);Ae.enter().append("g").classed("bg-bullet",!0).append("rect"),Ae.select("rect").call(he).call(x),Ae.exit().remove();var Se=F.selectAll("g.value-bullet").data([O.gauge.bar]);Se.enter().append("g").classed("value-bullet",!0).append("rect"),Se.select("rect").attr("height",ee).attr("y",(Q-ee)/2).call(x),d(fe)?Se.select("rect").transition().duration(fe.duration).ease(fe.easing).each("end",function(){K&&K()}).each("interrupt",function(){K&&K()}).attr("width",Math.max(0,Y.c2p(Math.min(O.gauge.axis.range[1],z[0].y)))):Se.select("rect").attr("width",typeof z[0].y=="number"?Math.max(0,Y.c2p(Math.min(O.gauge.axis.range[1],z[0].y))):0),Se.exit().remove();var Oe=z.filter(function(){return O.gauge.threshold.value||O.gauge.threshold.value===0}),Ve=F.selectAll("g.threshold-bullet").data(Oe);Ve.enter().append("g").classed("threshold-bullet",!0).append("line"),Ve.select("line").attr("x1",Y.c2p(O.gauge.threshold.value)).attr("x2",Y.c2p(O.gauge.threshold.value)).attr("y1",(1-O.gauge.threshold.thickness)/2*Q).attr("y2",(1-(1-O.gauge.threshold.thickness)/2)*Q).call(f.stroke,O.gauge.threshold.line.color).style("stroke-width",O.gauge.threshold.line.width),Ve.exit().remove();var Ee=F.selectAll("g.gauge-outline").data([q]);Ee.enter().append("g").classed("gauge-outline",!0).append("rect"),Ee.select("rect").call(he).call(x),Ee.exit().remove()}function M(_,H,z,N){var O=z[0].trace,F=N.size,U=N.radius,Z=N.innerRadius,q=N.gaugeBg,J=N.gaugeOutline,te=[F.l+F.w/2,F.t+F.h/2+U/2],fe=N.gauge,K=N.layer,Y=N.transitionOpts,W=N.onComplete,X=Math.PI/2;function re(tt){var vt=O.gauge.axis.range[0],dt=O.gauge.axis.range[1],gt=(tt-vt)/(dt-vt)*Math.PI-X;return gt<-X?-X:gt>X?X:gt}function se(tt){return p.svg.arc().innerRadius((Z+U)/2-tt/2*(U-Z)).outerRadius((Z+U)/2+tt/2*(U-Z)).startAngle(-X)}function Q(tt){tt.attr("d",function(vt){return se(vt.thickness).startAngle(re(vt.range[0])).endAngle(re(vt.range[1]))()})}var ee,le,oe,he;fe.enter().append("g").classed("angular",!0),fe.attr("transform",h(te[0],te[1])),K.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),K.selectAll("g.xangularaxistick,path,text").remove(),ee=T(_,O.gauge.axis),ee.type="linear",ee.range=O.gauge.axis.range,ee._id="xangularaxis",ee.ticklabeloverflow="allow",ee.setScale();var xe=function(tt){return(ee.range[0]-tt.x)/(ee.range[1]-ee.range[0])*Math.PI+Math.PI},Ae={},Se=s.makeLabelFns(ee,0),Oe=Se.labelStandoff;Ae.xFn=function(tt){var vt=xe(tt);return Math.cos(vt)*Oe},Ae.yFn=function(tt){var vt=xe(tt),dt=Math.sin(vt)>0?.2:1;return-Math.sin(vt)*(Oe+tt.fontSize*dt)+Math.abs(Math.cos(vt))*(tt.fontSize*t)},Ae.anchorFn=function(tt){var vt=xe(tt),dt=Math.cos(vt);return Math.abs(dt)<.1?"middle":dt>0?"start":"end"},Ae.heightFn=function(tt,vt,dt){var gt=xe(tt);return-.5*(1+Math.sin(gt))*dt};var Ve=function(tt){return h(te[0]+U*Math.cos(tt),te[1]-U*Math.sin(tt))};oe=function(tt){return Ve(xe(tt))};var Ee=function(tt){var vt=xe(tt);return Ve(vt)+"rotate("+-g(vt)+")"};if(le=s.calcTicks(ee),he=s.getTickSigns(ee)[2],ee.visible){he=ee.ticks==="inside"?-1:1;var Te=(ee.linewidth||1)/2;s.drawTicks(_,ee,{vals:le,layer:K,path:"M"+he*Te+",0h"+he*ee.ticklen,transFn:Ee}),s.drawLabels(_,ee,{vals:le,layer:K,transFn:oe,labelFns:Ae})}var Le=[q].concat(O.gauge.steps),Ge=fe.selectAll("g.bg-arc").data(Le);Ge.enter().append("g").classed("bg-arc",!0).append("path"),Ge.select("path").call(Q).call(x),Ge.exit().remove();var He=se(O.gauge.bar.thickness),ke=fe.selectAll("g.value-arc").data([O.gauge.bar]);ke.enter().append("g").classed("value-arc",!0).append("path");var We=ke.select("path");d(Y)?(We.transition().duration(Y.duration).ease(Y.easing).each("end",function(){W&&W()}).each("interrupt",function(){W&&W()}).attrTween("d",E(He,re(z[0].lastY),re(z[0].y))),O._lastValue=z[0].y):We.attr("d",typeof z[0].y=="number"?He.endAngle(re(z[0].y)):"M0,0Z"),We.call(x),ke.exit().remove(),Le=[];var nt=O.gauge.threshold.value;(nt||nt===0)&&Le.push({range:[nt,nt],color:O.gauge.threshold.color,line:{color:O.gauge.threshold.line.color,width:O.gauge.threshold.line.width},thickness:O.gauge.threshold.thickness});var qe=fe.selectAll("g.threshold-arc").data(Le);qe.enter().append("g").classed("threshold-arc",!0).append("path"),qe.select("path").call(Q).call(x),qe.exit().remove();var Qe=fe.selectAll("g.gauge-outline").data([J]);Qe.enter().append("g").classed("gauge-outline",!0).append("path"),Qe.select("path").call(Q).call(x),Qe.exit().remove()}function P(_,H,z,N){var O=z[0].trace,F=N.numbersX,U=N.numbersY,Z=O.align||"center",q=w[Z],J=N.transitionOpts,te=N.onComplete,fe=C.ensureSingle(H,"g","numbers"),K,Y,W,X=[];O._hasNumber&&X.push("number"),O._hasDelta&&(X.push("delta"),O.delta.position==="left"&&X.reverse());var re=fe.selectAll("text").data(X);re.enter().append("text"),re.attr("text-anchor",function(){return q}).attr("class",function(Ve){return Ve}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),re.exit().remove();function se(Ve,Ee,Te,Le){if(Ve.match("s")&&Te>=0!=Le>=0&&!Ee(Te).slice(-1).match(o)&&!Ee(Le).slice(-1).match(o)){var Ge=Ve.slice().replace("s","f").replace(/\d+/,function(ke){return parseInt(ke)-1}),He=T(_,{tickformat:Ge});return function(ke){return Math.abs(ke)<1?s.tickText(He,ke).text:Ee(ke)}}else return Ee}function Q(){var Ve=T(_,{tickformat:O.number.valueformat},O._range);Ve.setScale(),s.prepTicks(Ve);var Ee=function(ke){return s.tickText(Ve,ke).text},Te=O.number.suffix,Le=O.number.prefix,Ge=fe.select("text.number");function He(){var ke=typeof z[0].y=="number"?Le+Ee(z[0].y)+Te:"-";Ge.text(ke).call(r.font,O.number.font).call(a.convertToTspans,_)}return d(J)?Ge.transition().duration(J.duration).ease(J.easing).each("end",function(){He(),te&&te()}).each("interrupt",function(){He(),te&&te()}).attrTween("text",function(){var ke=p.select(this),We=n(z[0].lastY,z[0].y);O._lastValue=z[0].y;var nt=se(O.number.valueformat,Ee,z[0].lastY,z[0].y);return function(qe){ke.text(Le+nt(We(qe))+Te)}}):He(),K=A(Le+Ee(z[0].y)+Te,O.number.font,q,_),Ge}function ee(){var Ve=T(_,{tickformat:O.delta.valueformat},O._range);Ve.setScale(),s.prepTicks(Ve);var Ee=function(qe){return s.tickText(Ve,qe).text},Te=O.delta.suffix,Le=O.delta.prefix,Ge=function(qe){var Qe=O.delta.relative?qe.relativeDelta:qe.delta;return Qe},He=function(qe,Qe){return qe===0||typeof qe!="number"||isNaN(qe)?"-":(qe>0?O.delta.increasing.symbol:O.delta.decreasing.symbol)+Le+Qe(qe)+Te},ke=function(qe){return qe.delta>=0?O.delta.increasing.color:O.delta.decreasing.color};O._deltaLastValue===void 0&&(O._deltaLastValue=Ge(z[0]));var We=fe.select("text.delta");We.call(r.font,O.delta.font).call(f.fill,ke({delta:O._deltaLastValue}));function nt(){We.text(He(Ge(z[0]),Ee)).call(f.fill,ke(z[0])).call(a.convertToTspans,_)}return d(J)?We.transition().duration(J.duration).ease(J.easing).tween("text",function(){var qe=p.select(this),Qe=Ge(z[0]),tt=O._deltaLastValue,vt=se(O.delta.valueformat,Ee,tt,Qe),dt=n(tt,Qe);return O._deltaLastValue=Qe,function(gt){qe.text(He(dt(gt),vt)),qe.call(f.fill,ke({delta:dt(gt)}))}}).each("end",function(){nt(),te&&te()}).each("interrupt",function(){nt(),te&&te()}):nt(),Y=A(He(Ge(z[0]),Ee),O.delta.font,q,_),We}var le=O.mode+O.align,oe;if(O._hasDelta&&(oe=ee(),le+=O.delta.position+O.delta.font.size+O.delta.font.family+O.delta.valueformat,le+=O.delta.increasing.symbol+O.delta.decreasing.symbol,W=Y),O._hasNumber&&(Q(),le+=O.number.font.size+O.number.font.family+O.number.valueformat+O.number.suffix+O.number.prefix,W=K),O._hasDelta&&O._hasNumber){var he=[(K.left+K.right)/2,(K.top+K.bottom)/2],xe=[(Y.left+Y.right)/2,(Y.top+Y.bottom)/2],Ae,Se,Oe=.75*O.delta.font.size;O.delta.position==="left"&&(Ae=k(O,"deltaPos",0,-1*(K.width*v[O.align]+Y.width*(1-v[O.align])+Oe),le,Math.min),Se=he[1]-xe[1],W={width:K.width+Y.width+Oe,height:Math.max(K.height,Y.height),left:Y.left+Ae,right:K.right,top:Math.min(K.top,Y.top+Se),bottom:Math.max(K.bottom,Y.bottom+Se)}),O.delta.position==="right"&&(Ae=k(O,"deltaPos",0,K.width*(1-v[O.align])+Y.width*v[O.align]+Oe,le,Math.max),Se=he[1]-xe[1],W={width:K.width+Y.width+Oe,height:Math.max(K.height,Y.height),left:K.left,right:Y.right+Ae,top:Math.min(K.top,Y.top+Se),bottom:Math.max(K.bottom,Y.bottom+Se)}),O.delta.position==="bottom"&&(Ae=null,Se=Y.height,W={width:Math.max(K.width,Y.width),height:K.height+Y.height,left:Math.min(K.left,Y.left),right:Math.max(K.right,Y.right),top:K.bottom-K.height,bottom:K.bottom+Y.height}),O.delta.position==="top"&&(Ae=null,Se=K.top,W={width:Math.max(K.width,Y.width),height:K.height+Y.height,left:Math.min(K.left,Y.left),right:Math.max(K.right,Y.right),top:K.bottom-K.height-Y.height,bottom:K.bottom}),oe.attr({dx:Ae,dy:Se})}(O._hasNumber||O._hasDelta)&&fe.attr("transform",function(){var Ve=N.numbersScaler(W);le+=Ve[2];var Ee=k(O,"numbersScale",1,Ve[0],le,Math.min),Te;O._scaleNumbers||(Ee=1),O._isAngular?Te=U-Ee*W.bottom:Te=U-Ee*(W.top+W.bottom)/2,O._numbersTop=Ee*W.top+Te;var Le=W[Z];Z==="center"&&(Le=(W.left+W.right)/2);var Ge=F-Ee*Le;return Ge=k(O,"numbersTranslate",0,Ge,le,Math.max),h(Ge,Te)+y(Ee)})}function x(_){_.each(function(H){f.stroke(p.select(this),H.line.color)}).each(function(H){f.fill(p.select(this),H.color)}).style("stroke-width",function(H){return H.line.width})}function E(_,H,z){return function(){var N=L(H,z);return function(O){return _.endAngle(N(O))()}}}function T(_,H,z){var N=_._fullLayout,O=C.extendFlat({type:"linear",ticks:"outside",range:z,showline:!0},H),F={type:"linear",_id:"x"+H._id},U={letter:"x",font:N.font,noHover:!0,noTickson:!0};function Z(q,J){return C.coerce(O,F,b,q,J)}return c(O,F,Z,U,N),u(O,F,Z,U),F}function i(_,H,z){var N=Math.min(H/_.width,z/_.height);return[N,_,H+"x"+z]}function R(_,H){var z=Math.sqrt(_.width/2*(_.width/2)+_.height*_.height),N=H/z;return[N,_,H]}function A(_,H,z,N){var O=document.createElementNS("http://www.w3.org/2000/svg","text"),F=p.select(O);return F.text(_).attr("x",0).attr("y",0).attr("text-anchor",z).attr("data-unformatted",_).call(a.convertToTspans,N).call(r.font,H),r.bBox(F.node())}function k(_,H,z,N,O,F){var U="_cache"+H;_[U]&&_[U].key===O||(_[U]={key:O,value:z});var Z=C.aggNums(F,null,[_[U].value,N],2);return _[U].value=Z,Z}},16249:function(V,B,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(2418),y=e(9012),h=e(1426).extendFlat,g=e(30962).overrideAll;function t(a){return{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}}function r(a){return{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}}var l=V.exports=g(h({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:t(),y:t(),z:t()},caps:{x:r(),y:r(),z:r()},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:n(),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),valuehoverformat:L("value",1),showlegend:h({},y.showlegend,{dflt:!1})},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,lightposition:C.lightposition,lighting:C.lighting,flatshading:C.flatshading,contour:C.contour,hoverinfo:h({},y.hoverinfo)}),"calc","nested");l.flatshading.dflt=!0,l.lighting.facenormalsepsilon.dflt=0,l.x.editType=l.y.editType=l.z.editType=l.value.editType="calc+clearAxisTypes",l.transforms=void 0},56959:function(V,B,e){var p=e(78803),L=e(88489).processGrid,n=e(88489).filter;V.exports=function(y,h){h._len=Math.min(h.x.length,h.y.length,h.z.length,h.value.length),h._x=n(h.x,h._len),h._y=n(h.y,h._len),h._z=n(h.z,h._len),h._value=n(h.value,h._len);var g=L(h);h._gridFill=g.fill,h._Xs=g.Xs,h._Ys=g.Ys,h._Zs=g.Zs,h._len=g.len;for(var t=1/0,r=-1/0,l=0;l<h._len;l++){var a=h._value[l];t=Math.min(t,a),r=Math.max(r,a)}h._minValues=t,h._maxValues=r,h._vMin=h.isomin===void 0||h.isomin===null?t:h.isomin,h._vMax=h.isomax===void 0||h.isomin===null?r:h.isomax,p(y,h,{vals:[h._vMin,h._vMax],containerStr:"",cLetter:"c"})}},22674:function(V,B,e){var p=e(9330).gl_mesh3d,L=e(81697).parseColorScale,n=e(78614),C=e(21081).extractOpts,y=e(90060),h=function(s,c){for(var u=c.length-1;u>0;u--){var b=Math.min(c[u],c[u-1]),f=Math.max(c[u],c[u-1]);if(f>b&&b<s&&s<=f)return{id:u,distRatio:(f-s)/(f-b)}}return{id:0,distRatio:0}};function g(s,c,u){this.scene=s,this.uid=u,this.mesh=c,this.name="",this.data=null,this.showContour=!1}var t=g.prototype;t.handlePick=function(s){if(s.object===this.mesh){var c=s.data.index,u=this.data._meshX[c],b=this.data._meshY[c],f=this.data._meshZ[c],w=this.data._Ys.length,v=this.data._Zs.length,o=h(u,this.data._Xs).id,d=h(b,this.data._Ys).id,S=h(f,this.data._Zs).id,M=s.index=S+v*d+v*w*o;s.traceCoordinate=[this.data._meshX[M],this.data._meshY[M],this.data._meshZ[M],this.data._value[M]];var P=this.data.hovertext||this.data.text;return Array.isArray(P)&&P[M]!==void 0?s.textLabel=P[M]:P&&(s.textLabel=P),!0}},t.update=function(s){var c=this.scene,u=c.fullSceneLayout;this.data=l(s);function b(d,S,M,P){return S.map(function(x){return d.d2l(x,0,P)*M})}var f=y(b(u.xaxis,s._meshX,c.dataScale[0],s.xcalendar),b(u.yaxis,s._meshY,c.dataScale[1],s.ycalendar),b(u.zaxis,s._meshZ,c.dataScale[2],s.zcalendar)),w=y(s._meshI,s._meshJ,s._meshK),v={positions:f,cells:w,lightPosition:[s.lightposition.x,s.lightposition.y,s.lightposition.z],ambient:s.lighting.ambient,diffuse:s.lighting.diffuse,specular:s.lighting.specular,roughness:s.lighting.roughness,fresnel:s.lighting.fresnel,vertexNormalsEpsilon:s.lighting.vertexnormalsepsilon,faceNormalsEpsilon:s.lighting.facenormalsepsilon,opacity:s.opacity,contourEnable:s.contour.show,contourColor:n(s.contour.color).slice(0,3),contourWidth:s.contour.width,useFacetNormals:s.flatshading},o=C(s);v.vertexIntensity=s._meshIntensity,v.vertexIntensityBounds=[o.min,o.max],v.colormap=L(s),this.mesh.update(v)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var r=["xyz","xzy","yxz","yzx","zxy","zyx"];function l(s){s._meshI=[],s._meshJ=[],s._meshK=[];var c=s.surface.show,u=s.spaceframe.show,b=s.surface.fill,f=s.spaceframe.fill,w=!1,v=!1,o=0,d,S,M=s._Xs,P=s._Ys,x=s._Zs,E=M.length,T=P.length,i=x.length,R=r.indexOf(s._gridFill.replace(/-/g,"").replace(/\+/g,"")),A=function(_e,Fe,Be){switch(R){case 5:return Be+i*Fe+i*T*_e;case 4:return Be+i*_e+i*E*Fe;case 3:return Fe+T*Be+T*i*_e;case 2:return Fe+T*_e+T*E*Be;case 1:return _e+E*Be+E*i*Fe;default:return _e+E*Fe+E*T*Be}},k=s._minValues,_=s._maxValues,H=s._vMin,z=s._vMax,N,O,F,U;function Z(_e,Fe,Be){for(var De=U.length,we=S;we<De;we++)if(_e===N[we]&&Fe===O[we]&&Be===F[we])return we;return-1}function q(){S=d}function J(){N=[],O=[],F=[],U=[],d=0,q()}function te(_e,Fe,Be,De){return N.push(_e),O.push(Fe),F.push(Be),U.push(De),d++,d-1}function fe(_e,Fe,Be){return s._meshI.push(_e),s._meshJ.push(Fe),s._meshK.push(Be),o++,o-1}function K(_e,Fe,Be){for(var De=[],we=0;we<_e.length;we++)De[we]=(_e[we]+Fe[we]+Be[we])/3;return De}function Y(_e,Fe,Be){for(var De=[],we=0;we<_e.length;we++)De[we]=_e[we]*(1-Be)+Be*Fe[we];return De}var W;function X(_e){W=_e}function re(_e,Fe){var Be=_e[0],De=_e[1],we=_e[2],ue=K(Be,De,we),me=Math.sqrt(1-W),Re=Y(ue,Be,me),Ne=Y(ue,De,me),it=Y(ue,we,me),ot=Fe[0],wt=Fe[1],Ft=Fe[2];return{xyzv:[[Be,De,Ne],[Ne,Re,Be],[De,we,it],[it,Ne,De],[we,Be,Re],[Re,it,we]],abc:[[ot,wt,-1],[-1,-1,ot],[wt,Ft,-1],[-1,-1,wt],[Ft,ot,-1],[-1,-1,Ft]]}}function se(_e,Fe){return _e==="all"||_e===null?!0:_e.indexOf(Fe)>-1}function Q(_e,Fe){return _e===null?Fe:_e}function ee(_e,Fe,Be){q();var De=[Fe],we=[Be];if(W>=1)De=[Fe],we=[Be];else if(W>0){var ue=re(Fe,Be);De=ue.xyzv,we=ue.abc}for(var me=0;me<De.length;me++){Fe=De[me],Be=we[me];for(var Re=[],Ne=0;Ne<3;Ne++){var it=Fe[Ne][0],ot=Fe[Ne][1],wt=Fe[Ne][2],Ft=Fe[Ne][3],Ut=Be[Ne]>-1?Be[Ne]:Z(it,ot,wt);Ut>-1?Re[Ne]=Ut:Re[Ne]=te(it,ot,wt,Q(_e,Ft))}fe(Re[0],Re[1],Re[2])}}function le(_e,Fe,Be){var De=function(we,ue,me){ee(_e,[Fe[we],Fe[ue],Fe[me]],[Be[we],Be[ue],Be[me]])};De(0,1,2),De(2,3,0)}function oe(_e,Fe,Be){var De=function(we,ue,me){ee(_e,[Fe[we],Fe[ue],Fe[me]],[Be[we],Be[ue],Be[me]])};De(0,1,2),De(3,0,1),De(2,3,0),De(1,2,3)}function he(_e,Fe,Be,De){var we=_e[3];we<Be&&(we=Be),we>De&&(we=De);for(var ue=(_e[3]-we)/(_e[3]-Fe[3]+1e-9),me=[],Re=0;Re<4;Re++)me[Re]=(1-ue)*_e[Re]+ue*Fe[Re];return me}function xe(_e,Fe,Be){return _e>=Fe&&_e<=Be}function Ae(_e){var Fe=.001*(z-H);return _e>=H-Fe&&_e<=z+Fe}function Se(_e){for(var Fe=[],Be=0;Be<4;Be++){var De=_e[Be];Fe.push([s._x[De],s._y[De],s._z[De],s._value[De]])}return Fe}var Oe=3;function Ve(_e,Fe,Be,De,we,ue){ue||(ue=1),Be=[-1,-1,-1];var me=!1,Re=[xe(Fe[0][3],De,we),xe(Fe[1][3],De,we),xe(Fe[2][3],De,we)];if(!Re[0]&&!Re[1]&&!Re[2])return!1;var Ne=function(ot,wt,Ft){return Ae(wt[0][3])&&Ae(wt[1][3])&&Ae(wt[2][3])?(ee(ot,wt,Ft),!0):ue<Oe?Ve(ot,wt,Ft,H,z,++ue):!1};if(Re[0]&&Re[1]&&Re[2])return Ne(_e,Fe,Be)||me;var it=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(ot){if(Re[ot[0]]&&Re[ot[1]]&&!Re[ot[2]]){var wt=Fe[ot[0]],Ft=Fe[ot[1]],Ut=Fe[ot[2]],Gt=he(Ut,wt,De,we),Et=he(Ut,Ft,De,we);me=Ne(_e,[Et,Gt,wt],[-1,-1,Be[ot[0]]])||me,me=Ne(_e,[wt,Ft,Et],[Be[ot[0]],Be[ot[1]],-1])||me,it=!0}}),it||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(ot){if(Re[ot[0]]&&!Re[ot[1]]&&!Re[ot[2]]){var wt=Fe[ot[0]],Ft=Fe[ot[1]],Ut=Fe[ot[2]],Gt=he(Ft,wt,De,we),Et=he(Ut,wt,De,we);me=Ne(_e,[Et,Gt,wt],[-1,-1,Be[ot[0]]])||me,it=!0}}),me}function Ee(_e,Fe,Be,De){var we=!1,ue=Se(Fe),me=[xe(ue[0][3],Be,De),xe(ue[1][3],Be,De),xe(ue[2][3],Be,De),xe(ue[3][3],Be,De)];if(!me[0]&&!me[1]&&!me[2]&&!me[3])return we;if(me[0]&&me[1]&&me[2]&&me[3])return v&&(we=oe(_e,ue,Fe)||we),we;var Re=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(Ne){if(me[Ne[0]]&&me[Ne[1]]&&me[Ne[2]]&&!me[Ne[3]]){var it=ue[Ne[0]],ot=ue[Ne[1]],wt=ue[Ne[2]],Ft=ue[Ne[3]];if(v)we=ee(_e,[it,ot,wt],[Fe[Ne[0]],Fe[Ne[1]],Fe[Ne[2]]])||we;else{var Ut=he(Ft,it,Be,De),Gt=he(Ft,ot,Be,De),Et=he(Ft,wt,Be,De);we=ee(null,[Ut,Gt,Et],[-1,-1,-1])||we}Re=!0}}),Re||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(Ne){if(me[Ne[0]]&&me[Ne[1]]&&!me[Ne[2]]&&!me[Ne[3]]){var it=ue[Ne[0]],ot=ue[Ne[1]],wt=ue[Ne[2]],Ft=ue[Ne[3]],Ut=he(wt,it,Be,De),Gt=he(wt,ot,Be,De),Et=he(Ft,ot,Be,De),$t=he(Ft,it,Be,De);v?(we=ee(_e,[it,$t,Ut],[Fe[Ne[0]],-1,-1])||we,we=ee(_e,[ot,Gt,Et],[Fe[Ne[1]],-1,-1])||we):we=le(null,[Ut,Gt,Et,$t],[-1,-1,-1,-1])||we,Re=!0}}),Re)||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(Ne){if(me[Ne[0]]&&!me[Ne[1]]&&!me[Ne[2]]&&!me[Ne[3]]){var it=ue[Ne[0]],ot=ue[Ne[1]],wt=ue[Ne[2]],Ft=ue[Ne[3]],Ut=he(ot,it,Be,De),Gt=he(wt,it,Be,De),Et=he(Ft,it,Be,De);v?(we=ee(_e,[it,Ut,Gt],[Fe[Ne[0]],-1,-1])||we,we=ee(_e,[it,Gt,Et],[Fe[Ne[0]],-1,-1])||we,we=ee(_e,[it,Et,Ut],[Fe[Ne[0]],-1,-1])||we):we=ee(null,[Ut,Gt,Et],[-1,-1,-1])||we,Re=!0}}),we}function Te(_e,Fe,Be,De,we,ue,me,Re,Ne,it,ot){var wt=!1;return w&&(se(_e,"A")&&(wt=Ee(null,[Fe,Be,De,ue],it,ot)||wt),se(_e,"B")&&(wt=Ee(null,[Be,De,we,Ne],it,ot)||wt),se(_e,"C")&&(wt=Ee(null,[Be,ue,me,Ne],it,ot)||wt),se(_e,"D")&&(wt=Ee(null,[De,ue,Re,Ne],it,ot)||wt),se(_e,"E")&&(wt=Ee(null,[Be,De,ue,Ne],it,ot)||wt)),v&&(wt=Ee(_e,[Be,De,ue,Ne],it,ot)||wt),wt}function Le(_e,Fe,Be,De,we,ue,me,Re){return[Re[0]===!0?!0:Ve(_e,Se([Fe,Be,De]),[Fe,Be,De],ue,me),Re[1]===!0?!0:Ve(_e,Se([De,we,Fe]),[De,we,Fe],ue,me)]}function Ge(_e,Fe,Be,De,we,ue,me,Re,Ne){return Re?Le(_e,Fe,Be,we,De,ue,me,Ne):Le(_e,Be,we,De,Fe,ue,me,Ne)}function He(_e,Fe,Be,De,we,ue,me){var Re=!1,Ne,it,ot,wt,Ft=function(){Re=Ve(_e,[Ne,it,ot],[-1,-1,-1],we,ue)||Re,Re=Ve(_e,[ot,wt,Ne],[-1,-1,-1],we,ue)||Re},Ut=me[0],Gt=me[1],Et=me[2];return Ut&&(Ne=Y(Se([A(Fe,Be-0,De-0)])[0],Se([A(Fe-1,Be-0,De-0)])[0],Ut),it=Y(Se([A(Fe,Be-0,De-1)])[0],Se([A(Fe-1,Be-0,De-1)])[0],Ut),ot=Y(Se([A(Fe,Be-1,De-1)])[0],Se([A(Fe-1,Be-1,De-1)])[0],Ut),wt=Y(Se([A(Fe,Be-1,De-0)])[0],Se([A(Fe-1,Be-1,De-0)])[0],Ut),Ft()),Gt&&(Ne=Y(Se([A(Fe-0,Be,De-0)])[0],Se([A(Fe-0,Be-1,De-0)])[0],Gt),it=Y(Se([A(Fe-0,Be,De-1)])[0],Se([A(Fe-0,Be-1,De-1)])[0],Gt),ot=Y(Se([A(Fe-1,Be,De-1)])[0],Se([A(Fe-1,Be-1,De-1)])[0],Gt),wt=Y(Se([A(Fe-1,Be,De-0)])[0],Se([A(Fe-1,Be-1,De-0)])[0],Gt),Ft()),Et&&(Ne=Y(Se([A(Fe-0,Be-0,De)])[0],Se([A(Fe-0,Be-0,De-1)])[0],Et),it=Y(Se([A(Fe-0,Be-1,De)])[0],Se([A(Fe-0,Be-1,De-1)])[0],Et),ot=Y(Se([A(Fe-1,Be-1,De)])[0],Se([A(Fe-1,Be-1,De-1)])[0],Et),wt=Y(Se([A(Fe-1,Be-0,De)])[0],Se([A(Fe-1,Be-0,De-1)])[0],Et),Ft()),Re}function ke(_e,Fe,Be,De,we,ue,me,Re,Ne,it,ot,wt){var Ft=_e;return wt?(w&&_e==="even"&&(Ft=null),Te(Ft,Fe,Be,De,we,ue,me,Re,Ne,it,ot)):(w&&_e==="odd"&&(Ft=null),Te(Ft,Ne,Re,me,ue,we,De,Be,Fe,it,ot))}function We(_e,Fe,Be,De,we){for(var ue=[],me=0,Re=0;Re<Fe.length;Re++)for(var Ne=Fe[Re],it=1;it<i;it++)for(var ot=1;ot<T;ot++)ue.push(Ge(_e,A(Ne,ot-1,it-1),A(Ne,ot-1,it),A(Ne,ot,it-1),A(Ne,ot,it),Be,De,(Ne+ot+it)%2,we&&we[me]?we[me]:[])),me++;return ue}function nt(_e,Fe,Be,De,we){for(var ue=[],me=0,Re=0;Re<Fe.length;Re++)for(var Ne=Fe[Re],it=1;it<E;it++)for(var ot=1;ot<i;ot++)ue.push(Ge(_e,A(it-1,Ne,ot-1),A(it,Ne,ot-1),A(it-1,Ne,ot),A(it,Ne,ot),Be,De,(it+Ne+ot)%2,we&&we[me]?we[me]:[])),me++;return ue}function qe(_e,Fe,Be,De,we){for(var ue=[],me=0,Re=0;Re<Fe.length;Re++)for(var Ne=Fe[Re],it=1;it<T;it++)for(var ot=1;ot<E;ot++)ue.push(Ge(_e,A(ot-1,it-1,Ne),A(ot-1,it,Ne),A(ot,it-1,Ne),A(ot,it,Ne),Be,De,(ot+it+Ne)%2,we&&we[me]?we[me]:[])),me++;return ue}function Qe(_e,Fe,Be){for(var De=1;De<i;De++)for(var we=1;we<T;we++)for(var ue=1;ue<E;ue++)ke(_e,A(ue-1,we-1,De-1),A(ue-1,we-1,De),A(ue-1,we,De-1),A(ue-1,we,De),A(ue,we-1,De-1),A(ue,we-1,De),A(ue,we,De-1),A(ue,we,De),Fe,Be,(ue+we+De)%2)}function tt(_e,Fe,Be){v=!0,Qe(_e,Fe,Be),v=!1}function vt(_e,Fe,Be){w=!0,Qe(_e,Fe,Be),w=!1}function dt(_e,Fe,Be,De,we,ue){for(var me=[],Re=0,Ne=0;Ne<Fe.length;Ne++)for(var it=Fe[Ne],ot=1;ot<i;ot++)for(var wt=1;wt<T;wt++)me.push(He(_e,it,wt,ot,Be,De,we[Ne],ue&&ue[Re]?ue[Re]:[])),Re++;return me}function gt(_e,Fe,Be,De,we,ue){for(var me=[],Re=0,Ne=0;Ne<Fe.length;Ne++)for(var it=Fe[Ne],ot=1;ot<E;ot++)for(var wt=1;wt<i;wt++)me.push(He(_e,ot,it,wt,Be,De,we[Ne],ue&&ue[Re]?ue[Re]:[])),Re++;return me}function Mt(_e,Fe,Be,De,we,ue){for(var me=[],Re=0,Ne=0;Ne<Fe.length;Ne++)for(var it=Fe[Ne],ot=1;ot<T;ot++)for(var wt=1;wt<E;wt++)me.push(He(_e,wt,ot,it,Be,De,we[Ne],ue&&ue[Re]?ue[Re]:[])),Re++;return me}function Rt(_e,Fe){for(var Be=[],De=_e;De<Fe;De++)Be.push(De);return Be}function Wt(){for(var _e=0;_e<E;_e++)for(var Fe=0;Fe<T;Fe++)for(var Be=0;Be<i;Be++){var De=A(_e,Fe,Be);te(s._x[De],s._y[De],s._z[De],s._value[De])}}function je(){J(),Wt();var _e=null;if(u&&f&&(X(f),tt(_e,H,z)),c&&b){X(b);for(var Fe=s.surface.pattern,Be=s.surface.count,De=0;De<Be;De++){var we=Be===1?.5:De/(Be-1),ue=(1-we)*H+we*z,me=Math.abs(ue-k),Re=Math.abs(ue-_),Ne=me>Re?[k,ue]:[ue,_];vt(Fe,Ne[0],Ne[1])}}var it=[[Math.min(H,_),Math.max(H,_)],[Math.min(k,z),Math.max(k,z)]];["x","y","z"].forEach(function(ot){for(var wt=[],Ft=0;Ft<it.length;Ft++){var Ut=0,Gt=it[Ft][0],Et=it[Ft][1],$t=s.slices[ot];if($t.show&&$t.fill){X($t.fill);var lr=[],Fr=[],yt=[];if($t.locations.length)for(var Kt=0;Kt<$t.locations.length;Kt++){var Zt=h($t.locations[Kt],ot==="x"?M:ot==="y"?P:x);Zt.distRatio===0?lr.push(Zt.id):Zt.id>0&&(Fr.push(Zt.id),ot==="x"?yt.push([Zt.distRatio,0,0]):ot==="y"?yt.push([0,Zt.distRatio,0]):yt.push([0,0,Zt.distRatio]))}else ot==="x"?lr=Rt(1,E-1):ot==="y"?lr=Rt(1,T-1):lr=Rt(1,i-1);Fr.length>0&&(ot==="x"?wt[Ut]=dt(_e,Fr,Gt,Et,yt,wt[Ut]):ot==="y"?wt[Ut]=gt(_e,Fr,Gt,Et,yt,wt[Ut]):wt[Ut]=Mt(_e,Fr,Gt,Et,yt,wt[Ut]),Ut++),lr.length>0&&(ot==="x"?wt[Ut]=We(_e,lr,Gt,Et,wt[Ut]):ot==="y"?wt[Ut]=nt(_e,lr,Gt,Et,wt[Ut]):wt[Ut]=qe(_e,lr,Gt,Et,wt[Ut]),Ut++)}var Ar=s.caps[ot];Ar.show&&Ar.fill&&(X(Ar.fill),ot==="x"?wt[Ut]=We(_e,[0,E-1],Gt,Et,wt[Ut]):ot==="y"?wt[Ut]=nt(_e,[0,T-1],Gt,Et,wt[Ut]):wt[Ut]=qe(_e,[0,i-1],Gt,Et,wt[Ut]),Ut++)}}),o===0&&J(),s._meshX=N,s._meshY=O,s._meshZ=F,s._meshIntensity=U,s._Xs=M,s._Ys=P,s._Zs=x}return je(),s}function a(s,c){var u=s.glplot.gl,b=p({gl:u}),f=new g(s,b,c.uid);return b._trace=f,f.update(c),s.glplot.add(b),f}V.exports={findNearestOnAxis:h,generateIsoMeshes:l,createIsosurfaceTrace:a}},82738:function(V,B,e){var p=e(71828),L=e(73972),n=e(16249),C=e(1586);function y(g,t,r,l){function a(s,c){return p.coerce(g,t,n,s,c)}h(g,t,r,l,a)}function h(g,t,r,l,a){var s=a("isomin"),c=a("isomax");c!=null&&s!==void 0&&s!==null&&s>c&&(t.isomin=null,t.isomax=null);var u=a("x"),b=a("y"),f=a("z"),w=a("value");if(!u||!u.length||!b||!b.length||!f||!f.length||!w||!w.length){t.visible=!1;return}var v=L.getComponentMethod("calendars","handleTraceDefaults");v(g,t,["x","y","z"],l),a("valuehoverformat"),["x","y","z"].forEach(function(M){a(M+"hoverformat");var P="caps."+M,x=a(P+".show");x&&a(P+".fill");var E="slices."+M,T=a(E+".show");T&&(a(E+".fill"),a(E+".locations"))});var o=a("spaceframe.show");o&&a("spaceframe.fill");var d=a("surface.show");d&&(a("surface.count"),a("surface.fill"),a("surface.pattern"));var S=a("contour.show");S&&(a("contour.color"),a("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(M){a(M)}),C(g,t,l,a,{prefix:"",cLetter:"c"}),t._length=null}V.exports={supplyDefaults:y,supplyIsoDefaults:h}},64943:function(V,B,e){V.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(V,B,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(54532),y=e(9012),h=e(1426).extendFlat;V.exports=h({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:n({editType:"calc"}),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},p("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:C.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:h({},C.contours.x.show,{}),color:C.contours.x.color,width:C.contours.x.width,editType:"calc"},lightposition:{x:h({},C.lightposition.x,{dflt:1e5}),y:h({},C.lightposition.y,{dflt:1e5}),z:h({},C.lightposition.z,{dflt:0}),editType:"calc"},lighting:h({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},C.lighting),hoverinfo:h({},y.hoverinfo,{editType:"calc"}),showlegend:h({},y.showlegend,{dflt:!1})})},82932:function(V,B,e){var p=e(78803);V.exports=function(n,C){C.intensity&&p(n,C,{vals:C.intensity,containerStr:"",cLetter:"c"})}},91134:function(V,B,e){var p=e(9330).gl_mesh3d,L=e(9330).delaunay_triangulate,n=e(9330).alpha_shape,C=e(9330).convex_hull,y=e(81697).parseColorScale,h=e(78614),g=e(21081).extractOpts,t=e(90060);function r(w,v,o){this.scene=w,this.uid=o,this.mesh=v,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var l=r.prototype;l.handlePick=function(w){if(w.object===this.mesh){var v=w.index=w.data.index;w.data._cellCenter?w.traceCoordinate=w.data.dataCoordinate:w.traceCoordinate=[this.data.x[v],this.data.y[v],this.data.z[v]];var o=this.data.hovertext||this.data.text;return Array.isArray(o)&&o[v]!==void 0?w.textLabel=o[v]:o&&(w.textLabel=o),!0}};function a(w){for(var v=[],o=w.length,d=0;d<o;d++)v[d]=h(w[d]);return v}function s(w,v,o,d){for(var S=[],M=v.length,P=0;P<M;P++)S[P]=w.d2l(v[P],0,d)*o;return S}function c(w){for(var v=[],o=w.length,d=0;d<o;d++)v[d]=Math.round(w[d]);return v}function u(w,v){for(var o=["x","y","z"].indexOf(w),d=[],S=v.length,M=0;M<S;M++)d[M]=[v[M][(o+1)%3],v[M][(o+2)%3]];return L(d)}function b(w,v){for(var o=w.length,d=0;d<o;d++)if(w[d]<=-.5||w[d]>=v-.5)return!1;return!0}l.update=function(w){var v=this.scene,o=v.fullSceneLayout;this.data=w;var d=w.x.length,S=t(s(o.xaxis,w.x,v.dataScale[0],w.xcalendar),s(o.yaxis,w.y,v.dataScale[1],w.ycalendar),s(o.zaxis,w.z,v.dataScale[2],w.zcalendar)),M;if(w.i&&w.j&&w.k){if(w.i.length!==w.j.length||w.j.length!==w.k.length||!b(w.i,d)||!b(w.j,d)||!b(w.k,d))return;M=t(c(w.i),c(w.j),c(w.k))}else w.alphahull===0?M=C(S):w.alphahull>0?M=n(w.alphahull,S):M=u(w.delaunayaxis,S);var P={positions:S,cells:M,lightPosition:[w.lightposition.x,w.lightposition.y,w.lightposition.z],ambient:w.lighting.ambient,diffuse:w.lighting.diffuse,specular:w.lighting.specular,roughness:w.lighting.roughness,fresnel:w.lighting.fresnel,vertexNormalsEpsilon:w.lighting.vertexnormalsepsilon,faceNormalsEpsilon:w.lighting.facenormalsepsilon,opacity:w.opacity,contourEnable:w.contour.show,contourColor:h(w.contour.color).slice(0,3),contourWidth:w.contour.width,useFacetNormals:w.flatshading};if(w.intensity){var x=g(w);this.color="#fff";var E=w.intensitymode;P[E+"Intensity"]=w.intensity,P[E+"IntensityBounds"]=[x.min,x.max],P.colormap=y(w)}else w.vertexcolor?(this.color=w.vertexcolor[0],P.vertexColors=a(w.vertexcolor)):w.facecolor?(this.color=w.facecolor[0],P.cellColors=a(w.facecolor)):(this.color=w.color,P.meshColor=h(w.color));this.mesh.update(P)},l.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function f(w,v){var o=w.glplot.gl,d=p({gl:o}),S=new r(w,d,v.uid);return d._trace=S,S.update(v),w.glplot.add(d),S}V.exports=f},58669:function(V,B,e){var p=e(73972),L=e(71828),n=e(1586),C=e(2418);V.exports=function(h,g,t,r){function l(b,f){return L.coerce(h,g,C,b,f)}function a(b){var f=b.map(function(w){var v=l(w);return v&&L.isArrayOrTypedArray(v)?v:null});return f.every(function(w){return w&&w.length===f[0].length})&&f}var s=a(["x","y","z"]);if(!s){g.visible=!1;return}if(a(["i","j","k"]),g.i&&(!g.j||!g.k)||g.j&&(!g.k||!g.i)||g.k&&(!g.i||!g.j)){g.visible=!1;return}var c=p.getComponentMethod("calendars","handleTraceDefaults");c(h,g,["x","y","z"],r),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(b){l(b)});var u=l("contour.show");u&&(l("contour.color"),l("contour.width")),"intensity"in h?(l("intensity"),l("intensitymode"),n(h,g,r,l,{prefix:"",cLetter:"c"})):(g.showscale=!1,"facecolor"in h?l("facecolor"):"vertexcolor"in h?l("vertexcolor"):l("color",t)),l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),g._length=null}},21164:function(V,B,e){V.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(V,B,e){var p=e(71828).extendFlat,L=e(82196),n=e(12663).axisHoverFormat,C=e(79952).P,y=e(77914),h=e(22372),g=h.INCREASING.COLOR,t=h.DECREASING.COLOR,r=L.line;function l(a){return{line:{color:p({},r.color,{dflt:a}),width:r.width,dash:C,editType:"style"},editType:"style"}}V.exports={xperiod:L.xperiod,xperiod0:L.xperiod0,xperiodalignment:L.xperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:p({},r.width,{}),dash:p({},C,{}),editType:"style"},increasing:l(g),decreasing:l(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:p({},y.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(V,B,e){var p=e(71828),L=p._,n=e(89298),C=e(42973),y=e(50606).BADNUM;function h(l,a){var s=n.getFromId(l,a.xaxis),c=n.getFromId(l,a.yaxis),u=r(l,s,a),b=a._minDiff;a._minDiff=null;var f=a._origX;a._origX=null;var w=a._xcalc;a._xcalc=null;var v=t(l,a,f,w,c,g);return a._extremes[s._id]=n.findExtremes(s,w,{vpad:b/2}),v.length?(p.extendFlat(v[0].t,{wHover:b/2,tickLen:u}),v):[{t:{empty:!0}}]}function g(l,a,s,c){return{o:l,h:a,l:s,c}}function t(l,a,s,c,u,b){for(var f=u.makeCalcdata(a,"open"),w=u.makeCalcdata(a,"high"),v=u.makeCalcdata(a,"low"),o=u.makeCalcdata(a,"close"),d=Array.isArray(a.text),S=Array.isArray(a.hovertext),M=!0,P=null,x=!!a.xperiodalignment,E=[],T=0;T<c.length;T++){var i=c[T],R=f[T],A=w[T],k=v[T],_=o[T];if(i!==y&&R!==y&&A!==y&&k!==y&&_!==y){_===R?P!==null&&_!==P&&(M=_>P):M=_>R,P=_;var H=b(R,A,k,_);H.pos=i,H.yc=(R+_)/2,H.i=T,H.dir=M?"increasing":"decreasing",H.x=H.pos,H.y=[k,A],x&&(H.orig_p=s[T]),d&&(H.tx=a.text[T]),S&&(H.htx=a.hovertext[T]),E.push(H)}else E.push({pos:i,empty:!0})}return a._extremes[u._id]=n.findExtremes(u,p.concat(v,w),{padded:!0}),E.length&&(E[0].t={labels:{open:L(l,"open:")+" ",high:L(l,"high:")+" ",low:L(l,"low:")+" ",close:L(l,"close:")+" "}}),E}function r(l,a,s){var c=s._minDiff;if(!c){var u=l._fullData,b=[];c=1/0;var f;for(f=0;f<u.length;f++){var w=u[f];if(w.type==="ohlc"&&w.visible===!0&&w.xaxis===a._id){b.push(w);var v=a.makeCalcdata(w,"x");w._origX=v;var o=C(s,a,"x",v).vals;w._xcalc=o;var d=p.distinctVals(o).minDiff;d&&isFinite(d)&&(c=Math.min(c,d))}}for(c===1/0&&(c=1),f=0;f<b.length;f++)b[f]._minDiff=c}return c*s.tickwidth}V.exports={calc:h,calcCommon:t}},16169:function(V,B,e){var p=e(71828),L=e(14555),n=e(73927),C=e(2522);V.exports=function(g,t,r,l){function a(c,u){return p.coerce(g,t,C,c,u)}var s=L(g,t,a,l);if(!s){t.visible=!1;return}n(g,t,l,a,{x:!0}),a("xhoverformat"),a("yhoverformat"),a("line.width"),a("line.dash"),y(g,t,a,"increasing"),y(g,t,a,"decreasing"),a("text"),a("hovertext"),a("tickwidth"),l._requestRangeslider[t.xaxis]=!0};function y(h,g,t,r){t(r+".line.color"),t(r+".line.width",g.line.width),t(r+".line.dash",g.line.dash)}},66449:function(V,B,e){var p=e(89298),L=e(71828),n=e(30211),C=e(7901),y=e(71828).fillText,h=e(22372),g={increasing:h.INCREASING.SYMBOL,decreasing:h.DECREASING.SYMBOL};function t(s,c,u,b){var f=s.cd,w=f[0].trace;return w.hoverlabel.split?l(s,c,u,b):a(s,c,u,b)}function r(s,c,u,b){var f=s.cd,w=s.xa,v=f[0].trace,o=f[0].t,d=v.type,S=d==="ohlc"?"l":"min",M=d==="ohlc"?"h":"max",P,x,E=o.bPos||0,T=function(Z){return Z.pos+E-c},i=o.bdPos||o.tickLen,R=o.wHover,A=Math.min(1,i/Math.abs(w.r2c(w.range[1])-w.r2c(w.range[0])));P=s.maxHoverDistance-A,x=s.maxSpikeDistance-A;function k(Z){var q=T(Z);return n.inbox(q-R,q+R,P)}function _(Z){var q=Z[S],J=Z[M];return q===J||n.inbox(q-u,J-u,P)}function H(Z){return(k(Z)+_(Z))/2}var z=n.getDistanceFunction(b,k,_,H);if(n.getClosest(f,z,s),s.index===!1)return null;var N=f[s.index];if(N.empty)return null;var O=N.dir,F=v[O],U=F.line.color;return C.opacity(U)&&F.line.width?s.color=U:s.color=F.fillcolor,s.x0=w.c2p(N.pos+E-i,!0),s.x1=w.c2p(N.pos+E+i,!0),s.xLabelVal=N.orig_p!==void 0?N.orig_p:N.pos,s.spikeDistance=H(N)*x/P,s.xSpike=w.c2p(N.pos,!0),s}function l(s,c,u,b){var f=s.cd,w=s.ya,v=f[0].trace,o=f[0].t,d=[],S=r(s,c,u,b);if(!S)return[];var M=S.index,P=f[M],x=P.hi||v.hoverinfo,E=x.split("+"),T=x==="all",i=T||E.indexOf("y")!==-1;if(!i)return[];for(var R=["high","open","close","low"],A={},k=0;k<R.length;k++){var _=R[k],H=v[_][S.index],z=w.c2p(H,!0),N;H in A?(N=A[H],N.yLabel+="<br>"+o.labels[_]+p.hoverLabelText(w,H,v.yhoverformat)):(N=L.extendFlat({},S),N.y0=N.y1=z,N.yLabelVal=H,N.yLabel=o.labels[_]+p.hoverLabelText(w,H,v.yhoverformat),N.name="",d.push(N),A[H]=N)}return d}function a(s,c,u,b){var f=s.cd,w=s.ya,v=f[0].trace,o=f[0].t,d=r(s,c,u,b);if(!d)return[];var S=d.index,M=f[S],P=d.index=M.i,x=M.dir;function E(H){return o.labels[H]+p.hoverLabelText(w,v[H][P],v.yhoverformat)}var T=M.hi||v.hoverinfo,i=T.split("+"),R=T==="all",A=R||i.indexOf("y")!==-1,k=R||i.indexOf("text")!==-1,_=A?[E("open"),E("high"),E("low"),E("close")+"  "+g[x]]:[];return k&&y(M,v,_),d.extraText=_.join("<br>"),d.y0=d.y1=w.c2p(M.yc,!0),[d]}V.exports={hoverPoints:t,hoverSplit:l,hoverOnPoints:a}},54186:function(V,B,e){V.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(V,B,e){var p=e(73972),L=e(71828);V.exports=function(C,y,h,g){var t=h("x"),r=h("open"),l=h("high"),a=h("low"),s=h("close");h("hoverlabel.split");var c=p.getComponentMethod("calendars","handleTraceDefaults");if(c(C,y,["x"],g),!!(r&&l&&a&&s)){var u=Math.min(r.length,l.length,a.length,s.length);return t&&(u=Math.min(u,L.minRowLength(t))),y._length=u,u}}},72314:function(V,B,e){var p=e(39898),L=e(71828);V.exports=function(C,y,h,g){var t=y.yaxis,r=y.xaxis,l=!!r.rangebreaks;L.makeTraceGroups(g,h,"trace ohlc").each(function(a){var s=p.select(this),c=a[0],u=c.t,b=c.trace;if(b.visible!==!0||u.empty){s.remove();return}var f=u.tickLen,w=s.selectAll("path").data(L.identity);w.enter().append("path"),w.exit().remove(),w.attr("d",function(v){if(v.empty)return"M0,0Z";var o=r.c2p(v.pos-f,!0),d=r.c2p(v.pos+f,!0),S=l?(o+d)/2:r.c2p(v.pos,!0),M=t.c2p(v.o,!0),P=t.c2p(v.h,!0),x=t.c2p(v.l,!0),E=t.c2p(v.c,!0);return"M"+o+","+M+"H"+S+"M"+S+","+P+"V"+x+"M"+d+","+E+"H"+S})})}},67324:function(V){V.exports=function(e,p){var L=e.cd,n=e.xaxis,C=e.yaxis,y=[],h,g=L[0].t.bPos||0;if(p===!1)for(h=0;h<L.length;h++)L[h].selected=0;else for(h=0;h<L.length;h++){var t=L[h];p.contains([n.c2p(t.pos+g),C.c2p(t.yc)],null,t.i,e)?(y.push({pointNumber:t.i,x:n.c2d(t.pos),y:C.c2d(t.yc)}),t.selected=1):t.selected=0}return y}},53101:function(V,B,e){var p=e(39898),L=e(91424),n=e(7901);V.exports=function(y,h,g){var t=g||p.select(y).selectAll("g.ohlclayer").selectAll("g.trace");t.style("opacity",function(r){return r[0].trace.opacity}),t.each(function(r){var l=r[0].trace;p.select(this).selectAll("path").each(function(a){if(!a.empty){var s=l[a.dir].line;p.select(this).style("fill","none").call(n.stroke,s.color).call(L.dashLine,s.dash,s.width).style("opacity",l.selectedpoints&&!a.selected?.3:1)}})})}},99506:function(V,B,e){var p=e(1426).extendFlat,L=e(9012),n=e(41940),C=e(50693),y=e(5386).fF,h=e(27670).Y,g=p({editType:"calc"},C("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:y({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});V.exports={domain:h({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:p({},L.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:y({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:n({editType:"calc"}),tickfont:n({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:g,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(V,B,e){var p=e(27659).a0,L=e(45784),n="parcats";B.name=n,B.plot=function(C,y,h,g){var t=p(C.calcdata,n);if(t.length){var r=t[0];L(C,r,h,g)}},B.clean=function(C,y,h,g){var t=g._has&&g._has("parcats"),r=y._has&&y._has("parcats");t&&!r&&g._paperdiv.selectAll(".parcats").remove()}},28699:function(V,B,e){var p=e(28984).wrap,L=e(52075).hasColorscale,n=e(78803),C=e(75744),y=e(91424),h=e(71828),g=e(92770);V.exports=function(o,d){var S=h.filterVisible(d.dimensions);if(S.length===0)return[];var M=S.map(function(K){var Y;if(K.categoryorder==="trace")Y=null;else if(K.categoryorder==="array")Y=K.categoryarray;else{Y=C(K.values);for(var W=!0,X=0;X<Y.length;X++)if(!g(Y[X])){W=!1;break}Y.sort(W?h.sorterAsc:void 0),K.categoryorder==="category descending"&&(Y=Y.reverse())}return u(K.values,Y)}),P,x,E;h.isArrayOrTypedArray(d.counts)?P=d.counts:P=[d.counts],b(S),S.forEach(function(K,Y){f(K,M[Y])});var T=d.line,i;T?(L(d,"line")&&n(o,d,{vals:d.line.color,containerStr:"line",cLetter:"c"}),i=y.tryColorscale(T)):i=h.identity;function R(K){var Y,W;return h.isArrayOrTypedArray(T.color)?(Y=T.color[K%T.color.length],W=Y):Y=T.color,{color:i(Y),rawColor:W}}var A=S[0].values.length,k={},_=M.map(function(K){return K.inds});E=0;var H,z;for(H=0;H<A;H++){var N=[];for(z=0;z<_.length;z++)N.push(_[z][H]);x=P[H%P.length],E+=x;var O=R(H),F=N+"-"+O.rawColor;k[F]===void 0&&(k[F]=s(N,O.color,O.rawColor)),c(k[F],H,x)}var U=S.map(function(K,Y){return r(Y,K._index,K._displayindex,K.label,E)});for(H=0;H<A;H++)for(x=P[H%P.length],z=0;z<U.length;z++){var Z=U[z].containerInd,q=M[z].inds[H],J=U[z].categories;if(J[q]===void 0){var te=d.dimensions[Z]._categoryarray[q],fe=d.dimensions[Z]._ticktext[q];J[q]=l(z,q,te,fe)}a(J[q],H,x)}return p(t(U,k,E))};function t(v,o,d){var S=v.map(function(M){return M.categories.length}).reduce(function(M,P){return Math.max(M,P)});return{dimensions:v,paths:o,trace:void 0,maxCats:S,count:d}}function r(v,o,d,S,M){return{dimensionInd:v,containerInd:o,displayInd:d,dimensionLabel:S,count:M,categories:[],dragX:null}}function l(v,o,d,S){return{dimensionInd:v,categoryInd:o,categoryValue:d,displayInd:o,categoryLabel:S,valueInds:[],count:0,dragY:null}}function a(v,o,d){v.valueInds.push(o),v.count+=d}function s(v,o,d){return{categoryInds:v,color:o,rawColor:d,valueInds:[],count:0}}function c(v,o,d){v.valueInds.push(o),v.count+=d}function u(v,o){o==null?o=[]:o=o.map(function(i){return i});var d={},S={},M=[];o.forEach(function(i,R){d[i]=0,S[i]=R});for(var P=0;P<v.length;P++){var x=v[P],E;d[x]===void 0?(d[x]=1,E=o.push(x)-1,S[x]=E):(d[x]++,E=S[x]),M.push(E)}var T=o.map(function(i){return d[i]});return{uniqueValues:o,uniqueCounts:T,inds:M}}function b(v){var o=v.map(function(S){return S.displayindex}),d;if(w(o))for(d=0;d<v.length;d++)v[d]._displayindex=v[d].displayindex;else for(d=0;d<v.length;d++)v[d]._displayindex=d}function f(v,o){v._categoryarray=o.uniqueValues,v.ticktext===null||v.ticktext===void 0?v._ticktext=[]:v._ticktext=v.ticktext.slice();for(var d=v._ticktext.length;d<o.uniqueValues.length;d++)v._ticktext.push(o.uniqueValues[d])}function w(v){for(var o=new Array(v.length),d=0;d<v.length;d++){if(v[d]<0||v[d]>=v.length||o[v[d]]!==void 0)return!1;o[v[d]]=!0}return!0}},14647:function(V,B,e){var p=e(71828),L=e(52075).hasColorscale,n=e(1586),C=e(27670).c,y=e(85501),h=e(99506),g=e(94397);function t(l,a,s,c,u){u("line.shape"),u("line.hovertemplate");var b=u("line.color",c.colorway[0]);if(L(l,"line")&&p.isArrayOrTypedArray(b)){if(b.length)return u("line.colorscale"),n(l,a,c,u,{prefix:"line.",cLetter:"c"}),b.length;a.line.color=s}return 1/0}function r(l,a){function s(o,d){return p.coerce(l,a,h.dimensions,o,d)}var c=s("values"),u=s("visible");if(c&&c.length||(u=a.visible=!1),u){s("label"),s("displayindex",a._index);var b=l.categoryarray,f=Array.isArray(b)&&b.length>0,w;f&&(w="array");var v=s("categoryorder",w);v==="array"?(s("categoryarray"),s("ticktext")):(delete l.categoryarray,delete l.ticktext),!f&&v==="array"&&(a.categoryorder="trace")}}V.exports=function(a,s,c,u){function b(d,S){return p.coerce(a,s,h,d,S)}var f=y(a,s,{name:"dimensions",handleItemDefaults:r}),w=t(a,s,c,u,b);C(s,u,b),(!Array.isArray(f)||!f.length)&&(s.visible=!1),g(s,f,"values",w),b("hoveron"),b("hovertemplate"),b("arrangement"),b("bundlecolors"),b("sortpaths"),b("counts");var v={family:u.font.family,size:Math.round(u.font.size),color:u.font.color};p.coerceFont(b,"labelfont",v);var o={family:u.font.family,size:Math.round(u.font.size/1.2),color:u.font.color};p.coerceFont(b,"tickfont",o)}},94873:function(V,B,e){V.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(V,B,e){var p=e(39898),L=e(81684).k4,n=e(72391),C=e(30211),y=e(71828),h=y.strTranslate,g=e(91424),t=e(84267),r=e(63893);function l(X,re,se,Q){var ee=re._context.staticPlot,le=X.map(te.bind(0,re,se)),oe=Q.selectAll("g.parcatslayer").data([null]);oe.enter().append("g").attr("class","parcatslayer").style("pointer-events",ee?"none":"all");var he=oe.selectAll("g.trace.parcats").data(le,a),xe=he.enter().append("g").attr("class","trace parcats");he.attr("transform",function(We){return h(We.x,We.y)}),xe.append("g").attr("class","paths");var Ae=he.select("g.paths"),Se=Ae.selectAll("path.path").data(function(We){return We.paths},a);Se.attr("fill",function(We){return We.model.color});var Oe=Se.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(We){return We.model.color}).attr("fill-opacity",0);o(Oe),Se.attr("d",function(We){return We.svgD}),Oe.empty()||Se.sort(c),Se.exit().remove(),Se.on("mouseover",u).on("mouseout",b).on("click",v),xe.append("g").attr("class","dimensions");var Ve=he.select("g.dimensions"),Ee=Ve.selectAll("g.dimension").data(function(We){return We.dimensions},a);Ee.enter().append("g").attr("class","dimension"),Ee.attr("transform",function(We){return h(We.x,0)}),Ee.exit().remove();var Te=Ee.selectAll("g.category").data(function(We){return We.categories},a),Le=Te.enter().append("g").attr("class","category");Te.attr("transform",function(We){return h(0,We.y)}),Le.append("rect").attr("class","catrect").attr("pointer-events","none"),Te.select("rect.catrect").attr("fill","none").attr("width",function(We){return We.width}).attr("height",function(We){return We.height}),M(Le);var Ge=Te.selectAll("rect.bandrect").data(function(We){return We.bands},a);Ge.each(function(){y.raiseToTop(this)}),Ge.attr("fill",function(We){return We.color});var He=Ge.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(We){return We.color}).attr("fill-opacity",0);Ge.attr("fill",function(We){return We.color}).attr("width",function(We){return We.width}).attr("height",function(We){return We.height}).attr("y",function(We){return We.y}).attr("cursor",function(We){return We.parcatsViewModel.arrangement==="fixed"?"default":We.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),x(He),Ge.exit().remove(),Le.append("text").attr("class","catlabel").attr("pointer-events","none");var ke=re._fullLayout.paper_bgcolor;Te.select("text.catlabel").attr("text-anchor",function(We){return s(We)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",r.makeTextShadow(ke)).style("fill","rgb(0, 0, 0)").attr("x",function(We){return s(We)?We.width+5:-5}).attr("y",function(We){return We.height/2}).text(function(We){return We.model.categoryLabel}).each(function(We){g.font(p.select(this),We.parcatsViewModel.categorylabelfont),r.convertToTspans(p.select(this),re)}),Le.append("text").attr("class","dimlabel"),Te.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(We){return We.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(We){return We.width/2}).attr("y",-5).text(function(We,nt){return nt===0?We.parcatsViewModel.model.dimensions[We.model.dimensionInd].dimensionLabel:null}).each(function(We){g.font(p.select(this),We.parcatsViewModel.labelfont)}),Te.selectAll("rect.bandrect").on("mouseover",z).on("mouseout",N),Te.exit().remove(),Ee.call(p.behavior.drag().origin(function(We){return{x:We.x,y:0}}).on("dragstart",O).on("drag",F).on("dragend",U)),he.each(function(We){We.traceSelection=p.select(this),We.pathSelection=p.select(this).selectAll("g.paths").selectAll("path.path"),We.dimensionSelection=p.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),he.exit().remove()}V.exports=function(X,re,se,Q){l(se,X,Q,re)};function a(X){return X.key}function s(X){var re=X.parcatsViewModel.dimensions.length,se=X.parcatsViewModel.dimensions[re-1].model.dimensionInd;return X.model.dimensionInd===se}function c(X,re){return X.model.rawColor>re.model.rawColor?1:X.model.rawColor<re.model.rawColor?-1:0}function u(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){y.raiseToTop(this),d(p.select(this));var re=f(X),se=w(X);if(X.parcatsViewModel.graphDiv.emit("plotly_hover",{points:re,event:p.event,constraints:se}),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var Q=p.mouse(this)[0],ee=X.parcatsViewModel.graphDiv,le=X.parcatsViewModel.trace,oe=ee._fullLayout,he=oe._paperdiv.node().getBoundingClientRect(),xe=X.parcatsViewModel.graphDiv.getBoundingClientRect(),Ae,Se,Oe;for(Oe=0;Oe<X.leftXs.length-1;Oe++)if(X.leftXs[Oe]+X.dimWidths[Oe]-2<=Q&&Q<=X.leftXs[Oe+1]+2){var Ve=X.parcatsViewModel.dimensions[Oe],Ee=X.parcatsViewModel.dimensions[Oe+1];Ae=(Ve.x+Ve.width+Ee.x)/2,Se=(X.topYs[Oe]+X.topYs[Oe+1]+X.height)/2;break}var Te=X.parcatsViewModel.x+Ae,Le=X.parcatsViewModel.y+Se,Ge=t.mostReadable(X.model.color,["black","white"]),He=X.model.count,ke=He/X.parcatsViewModel.model.count,We={countLabel:He,probabilityLabel:ke.toFixed(3)},nt=[];X.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&nt.push(["Count:",We.countLabel].join(" ")),X.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&nt.push(["P:",We.probabilityLabel].join(" "));var qe=nt.join("<br>"),Qe=p.mouse(ee)[0];C.loneHover({trace:le,x:Te-he.left+xe.left,y:Le-he.top+xe.top,text:qe,color:X.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:Ge,idealAlign:Qe<Te?"right":"left",hovertemplate:(le.line||{}).hovertemplate,hovertemplateLabels:We,eventData:[{data:le._input,fullData:le,count:He,probability:ke}]},{container:oe._hoverlayer.node(),outerContainer:oe._paper.node(),gd:ee})}}}function b(X){if(!X.parcatsViewModel.dragDimension&&(o(p.select(this)),C.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),X.parcatsViewModel.pathSelection.sort(c),X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var re=f(X),se=w(X);X.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:re,event:p.event,constraints:se})}}function f(X){for(var re=[],se=Z(X.parcatsViewModel),Q=0;Q<X.model.valueInds.length;Q++){var ee=X.model.valueInds[Q];re.push({curveNumber:se,pointNumber:ee})}return re}function w(X){for(var re={},se=X.parcatsViewModel.model.dimensions,Q=0;Q<se.length;Q++){var ee=se[Q],le=ee.categories[X.model.categoryInds[Q]];re[ee.containerInd]=le.categoryValue}return X.model.rawColor!==void 0&&(re.color=X.model.rawColor),re}function v(X){if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var re=f(X),se=w(X);X.parcatsViewModel.graphDiv.emit("plotly_click",{points:re,event:p.event,constraints:se})}}function o(X){X.attr("fill",function(re){return re.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function d(X){X.attr("fill-opacity",.8).attr("stroke",function(re){return t.mostReadable(re.model.color,["black","white"])}).attr("stroke-width",.3)}function S(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}function M(X){X.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function P(X){X.attr("stroke","black").attr("stroke-width",1.5)}function x(X){X.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function E(X){var re=X.parcatsViewModel.pathSelection,se=X.categoryViewModel.model.dimensionInd,Q=X.categoryViewModel.model.categoryInd;return re.filter(function(ee){return ee.model.categoryInds[se]===Q&&ee.model.color===X.color})}function T(X){var re=p.select(X.parentNode).selectAll("rect.bandrect");re.each(function(se){var Q=E(se);d(Q),Q.each(function(){y.raiseToTop(this)})}),S(p.select(X.parentNode))}function i(X){var re=p.select(X).datum(),se=E(re);d(se),se.each(function(){y.raiseToTop(this)}),p.select(X.parentNode).selectAll("rect.bandrect").filter(function(Q){return Q.color===re.color}).each(function(){y.raiseToTop(this),P(p.select(this))})}function R(X,re,se){var Q=p.select(X).datum(),ee=Q.categoryViewModel.model,le=Q.parcatsViewModel.graphDiv,oe=p.select(X.parentNode).selectAll("rect.bandrect"),he=[];oe.each(function(Ae){var Se=E(Ae);Se.each(function(Oe){Array.prototype.push.apply(he,f(Oe))})});var xe={};xe[ee.dimensionInd]=ee.categoryValue,le.emit(re,{points:he,event:se,constraints:xe})}function A(X,re,se){var Q=p.select(X).datum(),ee=Q.categoryViewModel.model,le=Q.parcatsViewModel.graphDiv,oe=E(Q),he=[];oe.each(function(Ae){Array.prototype.push.apply(he,f(Ae))});var xe={};xe[ee.dimensionInd]=ee.categoryValue,Q.rawColor!==void 0&&(xe.color=Q.rawColor),le.emit(re,{points:he,event:se,constraints:xe})}function k(X,re,se){X._fullLayout._calcInverseTransform(X);var Q=X._fullLayout._invScaleX,ee=X._fullLayout._invScaleY,le=p.select(se.parentNode).select("rect.catrect"),oe=le.node().getBoundingClientRect(),he=le.datum(),xe=he.parcatsViewModel,Ae=xe.model.dimensions[he.model.dimensionInd],Se=xe.trace,Oe=oe.top+oe.height/2,Ve,Ee;xe.dimensions.length>1&&Ae.displayInd===xe.dimensions.length-1?(Ve=oe.left,Ee="left"):(Ve=oe.left+oe.width,Ee="right");var Te=he.model.count,Le=he.model.categoryLabel,Ge=Te/he.parcatsViewModel.model.count,He={countLabel:Te,categoryLabel:Le,probabilityLabel:Ge.toFixed(3)},ke=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&ke.push(["Count:",He.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&ke.push(["P("+He.categoryLabel+"):",He.probabilityLabel].join(" "));var We=ke.join("<br>");return{trace:Se,x:Q*(Ve-re.left),y:ee*(Oe-re.top),text:We,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:Ee,hovertemplate:Se.hovertemplate,hovertemplateLabels:He,eventData:[{data:Se._input,fullData:Se,count:Te,category:Le,probability:Ge}]}}function _(X,re,se){var Q=[];return p.select(se.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){var ee=this;Q.push(k(X,re,ee))}),Q}function H(X,re,se){X._fullLayout._calcInverseTransform(X);var Q=X._fullLayout._invScaleX,ee=X._fullLayout._invScaleY,le=se.getBoundingClientRect(),oe=p.select(se).datum(),he=oe.categoryViewModel,xe=he.parcatsViewModel,Ae=xe.model.dimensions[he.model.dimensionInd],Se=xe.trace,Oe=le.y+le.height/2,Ve,Ee;xe.dimensions.length>1&&Ae.displayInd===xe.dimensions.length-1?(Ve=le.left,Ee="left"):(Ve=le.left+le.width,Ee="right");var Te=he.model.categoryLabel,Le=oe.parcatsViewModel.model.count,Ge=0;oe.categoryViewModel.bands.forEach(function(gt){gt.color===oe.color&&(Ge+=gt.count)});var He=he.model.count,ke=0;xe.pathSelection.each(function(gt){gt.model.color===oe.color&&(ke+=gt.model.count)});var We=Ge/Le,nt=Ge/ke,qe=Ge/He,Qe={countLabel:Le,categoryLabel:Te,probabilityLabel:We.toFixed(3)},tt=[];he.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&tt.push(["Count:",Qe.countLabel].join(" ")),he.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(tt.push("P(color  "+Te+"): "+Qe.probabilityLabel),tt.push("P("+Te+" | color): "+nt.toFixed(3)),tt.push("P(color | "+Te+"): "+qe.toFixed(3)));var vt=tt.join("<br>"),dt=t.mostReadable(oe.color,["black","white"]);return{trace:Se,x:Q*(Ve-re.left),y:ee*(Oe-re.top),text:vt,color:oe.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:dt,fontSize:10,idealAlign:Ee,hovertemplate:Se.hovertemplate,hovertemplateLabels:Qe,eventData:[{data:Se._input,fullData:Se,category:Te,count:Le,probability:We,categorycount:He,colorcount:ke,bandcolorcount:Ge}]}}function z(X){if(!X.parcatsViewModel.dragDimension&&X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var re=p.mouse(this)[1];if(re<-1)return;var se=X.parcatsViewModel.graphDiv,Q=se._fullLayout,ee=Q._paperdiv.node().getBoundingClientRect(),le=X.parcatsViewModel.hoveron,oe=this;if(le==="color"?(i(oe),A(oe,"plotly_hover",p.event)):(T(oe),R(oe,"plotly_hover",p.event)),X.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var he;le==="category"?he=k(se,ee,oe):le==="color"?he=H(se,ee,oe):le==="dimension"&&(he=_(se,ee,oe)),he&&C.loneHover(he,{container:Q._hoverlayer.node(),outerContainer:Q._paper.node(),gd:se})}}}function N(X){var re=X.parcatsViewModel;if(!re.dragDimension&&(o(re.pathSelection),M(re.dimensionSelection.selectAll("g.category")),x(re.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),C.loneUnhover(re.graphDiv._fullLayout._hoverlayer.node()),re.pathSelection.sort(c),re.hoverinfoItems.indexOf("skip")===-1)){var se=X.parcatsViewModel.hoveron,Q=this;se==="color"?A(Q,"plotly_unhover",p.event):R(Q,"plotly_unhover",p.event)}}function O(X){X.parcatsViewModel.arrangement!=="fixed"&&(X.dragDimensionDisplayInd=X.model.displayInd,X.initialDragDimensionDisplayInds=X.parcatsViewModel.model.dimensions.map(function(re){return re.displayInd}),X.dragHasMoved=!1,X.dragCategoryDisplayInd=null,p.select(this).selectAll("g.category").select("rect.catrect").each(function(re){var se=p.mouse(this)[0],Q=p.mouse(this)[1];-2<=se&&se<=re.width+2&&-2<=Q&&Q<=re.height+2&&(X.dragCategoryDisplayInd=re.model.displayInd,X.initialDragCategoryDisplayInds=X.model.categories.map(function(ee){return ee.displayInd}),re.model.dragY=re.y,y.raiseToTop(this.parentNode),p.select(this.parentNode).selectAll("rect.bandrect").each(function(ee){ee.y<Q&&Q<=ee.y+ee.height&&(X.potentialClickBand=this)}))}),X.parcatsViewModel.dragDimension=X,C.loneUnhover(X.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function F(X){if(X.parcatsViewModel.arrangement!=="fixed"&&(X.dragHasMoved=!0,X.dragDimensionDisplayInd!==null)){var re=X.dragDimensionDisplayInd,se=re-1,Q=re+1,ee=X.parcatsViewModel.dimensions[re];if(X.dragCategoryDisplayInd!==null){var le=ee.categories[X.dragCategoryDisplayInd];le.model.dragY+=p.event.dy;var oe=le.model.dragY,he=le.model.displayInd,xe=ee.categories,Ae=xe[he-1],Se=xe[he+1];Ae!==void 0&&oe<Ae.y+Ae.height/2&&(le.model.displayInd=Ae.model.displayInd,Ae.model.displayInd=he),Se!==void 0&&oe+le.height>Se.y+Se.height/2&&(le.model.displayInd=Se.model.displayInd,Se.model.displayInd=he),X.dragCategoryDisplayInd=le.model.displayInd}if(X.dragCategoryDisplayInd===null||X.parcatsViewModel.arrangement==="freeform"){ee.model.dragX=p.event.x;var Oe=X.parcatsViewModel.dimensions[se],Ve=X.parcatsViewModel.dimensions[Q];Oe!==void 0&&ee.model.dragX<Oe.x+Oe.width&&(ee.model.displayInd=Oe.model.displayInd,Oe.model.displayInd=re),Ve!==void 0&&ee.model.dragX+ee.width>Ve.x&&(ee.model.displayInd=Ve.model.displayInd,Ve.model.displayInd=X.dragDimensionDisplayInd),X.dragDimensionDisplayInd=ee.model.displayInd}Y(X.parcatsViewModel),K(X.parcatsViewModel),J(X.parcatsViewModel),q(X.parcatsViewModel)}}function U(X){if(X.parcatsViewModel.arrangement!=="fixed"&&X.dragDimensionDisplayInd!==null){p.select(this).selectAll("text").attr("font-weight","normal");var re={},se=Z(X.parcatsViewModel),Q=X.parcatsViewModel.model.dimensions.map(function(Ve){return Ve.displayInd}),ee=X.initialDragDimensionDisplayInds.some(function(Ve,Ee){return Ve!==Q[Ee]});ee&&Q.forEach(function(Ve,Ee){var Te=X.parcatsViewModel.model.dimensions[Ee].containerInd;re["dimensions["+Te+"].displayindex"]=Ve});var le=!1;if(X.dragCategoryDisplayInd!==null){var oe=X.model.categories.map(function(Ve){return Ve.displayInd});if(le=X.initialDragCategoryDisplayInds.some(function(Ve,Ee){return Ve!==oe[Ee]}),le){var he=X.model.categories.slice().sort(function(Ve,Ee){return Ve.displayInd-Ee.displayInd}),xe=he.map(function(Ve){return Ve.categoryValue}),Ae=he.map(function(Ve){return Ve.categoryLabel});re["dimensions["+X.model.containerInd+"].categoryarray"]=[xe],re["dimensions["+X.model.containerInd+"].ticktext"]=[Ae],re["dimensions["+X.model.containerInd+"].categoryorder"]="array"}}if(X.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!X.dragHasMoved&&X.potentialClickBand&&(X.parcatsViewModel.hoveron==="color"?A(X.potentialClickBand,"plotly_click",p.event.sourceEvent):R(X.potentialClickBand,"plotly_click",p.event.sourceEvent)),X.model.dragX=null,X.dragCategoryDisplayInd!==null){var Se=X.parcatsViewModel.dimensions[X.dragDimensionDisplayInd].categories[X.dragCategoryDisplayInd];Se.model.dragY=null,X.dragCategoryDisplayInd=null}X.dragDimensionDisplayInd=null,X.parcatsViewModel.dragDimension=null,X.dragHasMoved=null,X.potentialClickBand=null,Y(X.parcatsViewModel),K(X.parcatsViewModel);var Oe=p.transition().duration(300).ease("cubic-in-out");Oe.each(function(){J(X.parcatsViewModel,!0),q(X.parcatsViewModel,!0)}).each("end",function(){(ee||le)&&n.restyle(X.parcatsViewModel.graphDiv,re,[se])})}}function Z(X){for(var re,se=X.graphDiv._fullData,Q=0;Q<se.length;Q++)if(X.key===se[Q].uid){re=Q;break}return re}function q(X,re){re===void 0&&(re=!1);function se(Q){return re?Q.transition():Q}X.pathSelection.data(function(Q){return Q.paths},a),se(X.pathSelection).attr("d",function(Q){return Q.svgD})}function J(X,re){re===void 0&&(re=!1);function se(xe){return re?xe.transition():xe}X.dimensionSelection.data(function(xe){return xe.dimensions},a);var Q=X.dimensionSelection.selectAll("g.category").data(function(xe){return xe.categories},a);se(X.dimensionSelection).attr("transform",function(xe){return h(xe.x,0)}),se(Q).attr("transform",function(xe){return h(0,xe.y)});var ee=Q.select(".dimlabel");ee.text(function(xe,Ae){return Ae===0?xe.parcatsViewModel.model.dimensions[xe.model.dimensionInd].dimensionLabel:null});var le=Q.select(".catlabel");le.attr("text-anchor",function(xe){return s(xe)?"start":"end"}).attr("x",function(xe){return s(xe)?xe.width+5:-5}).each(function(xe){var Ae,Se;s(xe)?(Ae=xe.width+5,Se="start"):(Ae=-5,Se="end"),p.select(this).selectAll("tspan").attr("x",Ae).attr("text-anchor",Se)});var oe=Q.selectAll("rect.bandrect").data(function(xe){return xe.bands},a),he=oe.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(xe){return xe.color}).attr("fill-opacity",0);oe.attr("fill",function(xe){return xe.color}).attr("width",function(xe){return xe.width}).attr("height",function(xe){return xe.height}).attr("y",function(xe){return xe.y}),x(he),oe.each(function(){y.raiseToTop(this)}),oe.exit().remove()}function te(X,re,se){var Q=se[0],ee=re.margin||{l:80,r:80,t:100,b:80},le=Q.trace,oe=le.domain,he=re.width,xe=re.height,Ae=Math.floor(he*(oe.x[1]-oe.x[0])),Se=Math.floor(xe*(oe.y[1]-oe.y[0])),Oe=oe.x[0]*he+ee.l,Ve=re.height-oe.y[1]*re.height+ee.t,Ee=le.line.shape,Te;le.hoverinfo==="all"?Te=["count","probability"]:Te=(le.hoverinfo||"").split("+");var Le={trace:le,key:le.uid,model:Q,x:Oe,y:Ve,width:Ae,height:Se,hoveron:le.hoveron,hoverinfoItems:Te,arrangement:le.arrangement,bundlecolors:le.bundlecolors,sortpaths:le.sortpaths,labelfont:le.labelfont,categorylabelfont:le.tickfont,pathShape:Ee,dragDimension:null,margin:ee,paths:[],dimensions:[],graphDiv:X,traceSelection:null,pathSelection:null,dimensionSelection:null};return Q.dimensions&&(Y(Le),K(Le)),Le}function fe(X,re,se,Q,ee){var le=[],oe=[],he,xe;for(xe=0;xe<se.length-1;xe++)he=L(se[xe]+X[xe],X[xe+1]),le.push(he(ee)),oe.push(he(1-ee));var Ae="M "+X[0]+","+re[0];for(Ae+="l"+se[0]+",0 ",xe=1;xe<se.length;xe++)Ae+="C"+le[xe-1]+","+re[xe-1]+" "+oe[xe-1]+","+re[xe]+" "+X[xe]+","+re[xe],Ae+="l"+se[xe]+",0 ";for(Ae+="l0,"+Q+" ",Ae+="l -"+se[se.length-1]+",0 ",xe=se.length-2;xe>=0;xe--)Ae+="C"+oe[xe]+","+(re[xe+1]+Q)+" "+le[xe]+","+(re[xe]+Q)+" "+(X[xe]+se[xe])+","+(re[xe]+Q),Ae+="l-"+se[xe]+",0 ";return Ae+="Z",Ae}function K(X){var re=X.dimensions,se=X.model,Q=re.map(function(Wt){return Wt.categories.map(function(je){return je.y})}),ee=X.model.dimensions.map(function(Wt){return Wt.categories.map(function(je){return je.displayInd})}),le=X.model.dimensions.map(function(Wt){return Wt.displayInd}),oe=X.dimensions.map(function(Wt){return Wt.model.dimensionInd}),he=re.map(function(Wt){return Wt.x}),xe=re.map(function(Wt){return Wt.width}),Ae=[];for(var Se in se.paths)se.paths.hasOwnProperty(Se)&&Ae.push(se.paths[Se]);function Oe(Wt){var je=Wt.categoryInds.map(function(Fe,Be){return ee[Be][Fe]}),_e=oe.map(function(Fe){return je[Fe]});return _e}Ae.sort(function(Wt,je){var _e=Oe(Wt),Fe=Oe(je);return X.sortpaths==="backward"&&(_e.reverse(),Fe.reverse()),_e.push(Wt.valueInds[0]),Fe.push(je.valueInds[0]),X.bundlecolors&&(_e.unshift(Wt.rawColor),Fe.unshift(je.rawColor)),_e<Fe?-1:_e>Fe?1:0});for(var Ve=new Array(Ae.length),Ee=re[0].model.count,Te=re[0].categories.map(function(Wt){return Wt.height}).reduce(function(Wt,je){return Wt+je}),Le=0;Le<Ae.length;Le++){var Ge=Ae[Le],He;Ee>0?He=Te*(Ge.count/Ee):He=0;for(var ke=new Array(Q.length),We=0;We<Ge.categoryInds.length;We++){var nt=Ge.categoryInds[We],qe=ee[We][nt],Qe=le[We];ke[Qe]=Q[Qe][qe],Q[Qe][qe]+=He;var tt=X.dimensions[Qe].categories[qe],vt=tt.bands.length,dt=tt.bands[vt-1];if(dt===void 0||Ge.rawColor!==dt.rawColor){var gt=dt===void 0?0:dt.y+dt.height;tt.bands.push({key:gt,color:Ge.color,rawColor:Ge.rawColor,height:He,width:tt.width,count:Ge.count,y:gt,categoryViewModel:tt,parcatsViewModel:X})}else{var Mt=tt.bands[vt-1];Mt.height+=He,Mt.count+=Ge.count}}var Rt;X.pathShape==="hspline"?Rt=fe(he,ke,xe,He,.5):Rt=fe(he,ke,xe,He,0),Ve[Le]={key:Ge.valueInds[0],model:Ge,height:He,leftXs:he,topYs:ke,dimWidths:xe,svgD:Rt,parcatsViewModel:X}}X.paths=Ve}function Y(X){var re=X.model.dimensions.map(function(oe){return{displayInd:oe.displayInd,dimensionInd:oe.dimensionInd}});re.sort(function(oe,he){return oe.displayInd-he.displayInd});var se=[];for(var Q in re){var ee=re[Q].dimensionInd,le=X.model.dimensions[ee];se.push(W(X,le))}X.dimensions=se}function W(X,re){var se=40,Q=16,ee=X.model.dimensions.length,le=re.displayInd,oe,he,xe;ee>1?oe=(X.width-2*se-Q)/(ee-1):oe=0,he=se,xe=he+oe*le;var Ae=[],Se=X.model.maxCats,Oe=re.categories.length,Ve=8,Ee=re.count,Te=X.height-Ve*(Se-1),Le,Ge,He,ke,We,nt=(Se-Oe)*Ve/2,qe=re.categories.map(function(Qe){return{displayInd:Qe.displayInd,categoryInd:Qe.categoryInd}});for(qe.sort(function(Qe,tt){return Qe.displayInd-tt.displayInd}),We=0;We<Oe;We++)ke=qe[We].categoryInd,Ge=re.categories[ke],Ee>0?Le=Ge.count/Ee*Te:Le=0,He={key:Ge.valueInds[0],model:Ge,width:Q,height:Le,y:Ge.dragY!==null?Ge.dragY:nt,bands:[],parcatsViewModel:X},nt=nt+Le+Ve,Ae.push(He);return{key:re.dimensionInd,x:re.dragX!==null?re.dragX:xe,y:0,width:Q,model:re,categories:Ae,parcatsViewModel:X,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}},45784:function(V,B,e){var p=e(45460);V.exports=function(n,C,y,h){var g=n._fullLayout,t=g._paper,r=g._size;p(n,t,C,{width:r.w,height:r.h,margin:{t:r.t,r:r.r,b:r.b,l:r.l}},y,h)}},73362:function(V,B,e){var p=e(50693),L=e(13838),n=e(41940),C=e(27670).Y,y=e(1426).extendFlat,h=e(44467).templatedArray;V.exports={domain:C({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:n({editType:"plot"}),tickfont:n({editType:"plot"}),rangefont:n({editType:"plot"}),dimensions:h("dimension",{label:{valType:"string",editType:"plot"},tickvals:y({},L.tickvals,{editType:"plot"}),ticktext:y({},L.ticktext,{editType:"plot"}),tickformat:y({},L.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:y({editType:"calc"},p("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(V,B,e){var p=e(25706),L=e(39898),n=e(28984).keyFun,C=e(28984).repeat,y=e(71828).sorterAsc,h=e(71828).strTranslate,g=p.bar.snapRatio;function t(U,Z){return U*(1-g)+Z*g}var r=p.bar.snapClose;function l(U,Z){return U*(1-r)+Z*r}function a(U,Z,q,J){if(s(q,J))return q;var te=U?-1:1,fe=0,K=Z.length-1;if(te<0){var Y=fe;fe=K,K=Y}for(var W=Z[fe],X=W,re=fe;te*re<te*K;re+=te){var se=re+te,Q=Z[se];if(te*q<te*l(W,Q))return t(W,X);if(te*q<te*Q||se===K)return t(Q,W);X=W,W=Q}}function s(U,Z){for(var q=0;q<Z.length;q++)if(U>=Z[q][0]&&U<=Z[q][1])return!0;return!1}function c(U){U.attr("x",-p.bar.captureWidth/2).attr("width",p.bar.captureWidth)}function u(U){U.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function b(U){if(!U.brush.filterSpecified)return"0,"+U.height;for(var Z=f(U.brush.filter.getConsolidated(),U.height),q=[0],J,te,fe,K=Z.length?Z[0][0]:null,Y=0;Y<Z.length;Y++)J=Z[Y],te=J[1]-J[0],q.push(K),q.push(te),fe=Y+1,fe<Z.length&&(K=Z[fe][0]-J[1]);return q.push(U.height),q}function f(U,Z){return U.map(function(q){return q.map(function(J){return Math.max(0,J*Z)}).sort(y)})}function w(U,Z){var q=p.bar.handleHeight;if(!(Z>U[1]+q||Z<U[0]-q))return Z>=.9*U[1]+.1*U[0]?"n":Z<=.9*U[0]+.1*U[1]?"s":"ns"}function v(){L.select(document.body).style("cursor",null)}function o(U){U.attr("stroke-dasharray",b)}function d(U,Z){var q=L.select(U).selectAll(".highlight, .highlight-shadow"),J=Z?q.transition().duration(p.bar.snapDuration).each("end",Z):q;o(J)}function S(U,Z){var q=U.brush,J=q.filterSpecified,te=NaN,fe={},K;if(J){var Y=U.height,W=q.filter.getConsolidated(),X=f(W,Y),re=NaN,se=NaN,Q=NaN;for(K=0;K<=X.length;K++){var ee=X[K];if(ee&&ee[0]<=Z&&Z<=ee[1]){re=K;break}else if(se=K?K-1:NaN,ee&&ee[0]>Z){Q=K;break}}if(te=re,isNaN(te)&&(isNaN(se)||isNaN(Q)?te=isNaN(se)?Q:se:te=Z-X[se][1]<X[Q][0]-Z?se:Q),!isNaN(te)){var le=X[te],oe=w(le,Z);oe&&(fe.interval=W[te],fe.intervalPix=le,fe.region=oe)}}if(U.ordinal&&!fe.region){var he=U.unitTickvals,xe=U.unitToPaddedPx.invert(Z);for(K=0;K<he.length;K++){var Ae=[he[Math.max(K-1,0)]*.25+he[K]*.75,he[Math.min(K+1,he.length-1)]*.25+he[K]*.75];if(xe>=Ae[0]&&xe<=Ae[1]){fe.clickableOrdinalRange=Ae;break}}}return fe}function M(U,Z){L.event.sourceEvent.stopPropagation();var q=Z.height-L.mouse(U)[1]-2*p.verticalPadding,J=Z.unitToPaddedPx.invert(q),te=Z.brush,fe=S(Z,q),K=fe.interval,Y=te.svgBrush;if(Y.wasDragged=!1,Y.grabbingBar=fe.region==="ns",Y.grabbingBar){var W=K.map(Z.unitToPaddedPx);Y.grabPoint=q-W[0]-p.verticalPadding,Y.barLength=W[1]-W[0]}Y.clickableOrdinalRange=fe.clickableOrdinalRange,Y.stayingIntervals=Z.multiselect&&te.filterSpecified?te.filter.getConsolidated():[],K&&(Y.stayingIntervals=Y.stayingIntervals.filter(function(X){return X[0]!==K[0]&&X[1]!==K[1]})),Y.startExtent=fe.region?K[fe.region==="s"?1:0]:J,Z.parent.inBrushDrag=!0,Y.brushStartCallback()}function P(U,Z){L.event.sourceEvent.stopPropagation();var q=Z.height-L.mouse(U)[1]-2*p.verticalPadding,J=Z.brush.svgBrush;J.wasDragged=!0,J._dragging=!0,J.grabbingBar?J.newExtent=[q-J.grabPoint,q+J.barLength-J.grabPoint].map(Z.unitToPaddedPx.invert):J.newExtent=[J.startExtent,Z.unitToPaddedPx.invert(q)].sort(y),Z.brush.filterSpecified=!0,J.extent=J.stayingIntervals.concat([J.newExtent]),J.brushCallback(Z),d(U.parentNode)}function x(U,Z){var q=Z.brush,J=q.filter,te=q.svgBrush;te._dragging||(E(U,Z),P(U,Z),Z.brush.svgBrush.wasDragged=!1),te._dragging=!1;var fe=L.event;fe.sourceEvent.stopPropagation();var K=te.grabbingBar;if(te.grabbingBar=!1,te.grabLocation=void 0,Z.parent.inBrushDrag=!1,v(),!te.wasDragged){te.wasDragged=void 0,te.clickableOrdinalRange?q.filterSpecified&&Z.multiselect?te.extent.push(te.clickableOrdinalRange):(te.extent=[te.clickableOrdinalRange],q.filterSpecified=!0):K?(te.extent=te.stayingIntervals,te.extent.length===0&&_(q)):_(q),te.brushCallback(Z),d(U.parentNode),te.brushEndCallback(q.filterSpecified?J.getConsolidated():[]);return}var Y=function(){J.set(J.getConsolidated())};if(Z.ordinal){var W=Z.unitTickvals;W[W.length-1]<W[0]&&W.reverse(),te.newExtent=[a(0,W,te.newExtent[0],te.stayingIntervals),a(1,W,te.newExtent[1],te.stayingIntervals)];var X=te.newExtent[1]>te.newExtent[0];te.extent=te.stayingIntervals.concat(X?[te.newExtent]:[]),te.extent.length||_(q),te.brushCallback(Z),X?d(U.parentNode,Y):(Y(),d(U.parentNode))}else Y();te.brushEndCallback(q.filterSpecified?J.getConsolidated():[])}function E(U,Z){var q=Z.height-L.mouse(U)[1]-2*p.verticalPadding,J=S(Z,q),te="crosshair";J.clickableOrdinalRange?te="pointer":J.region&&(te=J.region+"-resize"),L.select(document.body).style("cursor",te)}function T(U){U.on("mousemove",function(Z){L.event.preventDefault(),Z.parent.inBrushDrag||E(this,Z)}).on("mouseleave",function(Z){Z.parent.inBrushDrag||v()}).call(L.behavior.drag().on("dragstart",function(Z){M(this,Z)}).on("drag",function(Z){P(this,Z)}).on("dragend",function(Z){x(this,Z)}))}function i(U,Z){return U[0]-Z[0]}function R(U,Z,q){var J=q._context.staticPlot,te=U.selectAll(".background").data(C);te.enter().append("rect").classed("background",!0).call(c).call(u).style("pointer-events",J?"none":"auto").attr("transform",h(0,p.verticalPadding)),te.call(T).attr("height",function(Y){return Y.height-p.verticalPadding});var fe=U.selectAll(".highlight-shadow").data(C);fe.enter().append("line").classed("highlight-shadow",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width+p.bar.strokeWidth).attr("stroke",Z).attr("opacity",p.bar.strokeOpacity).attr("stroke-linecap","butt"),fe.attr("y1",function(Y){return Y.height}).call(o);var K=U.selectAll(".highlight").data(C);K.enter().append("line").classed("highlight",!0).attr("x",-p.bar.width/2).attr("stroke-width",p.bar.width-p.bar.strokeWidth).attr("stroke",p.bar.fillColor).attr("opacity",p.bar.fillOpacity).attr("stroke-linecap","butt"),K.attr("y1",function(Y){return Y.height}).call(o)}function A(U,Z,q){var J=U.selectAll("."+p.cn.axisBrush).data(C,n);J.enter().append("g").classed(p.cn.axisBrush,!0),R(J,Z,q)}function k(U){return U.svgBrush.extent.map(function(Z){return Z.slice()})}function _(U){U.filterSpecified=!1,U.svgBrush.extent=[[-1/0,1/0]]}function H(U){return function(q){var J=q.brush,te=k(J),fe=te.slice();J.filter.set(fe),U()}}function z(U){for(var Z=U.slice(),q=[],J,te=Z.shift();te;){for(J=te.slice();(te=Z.shift())&&te[0]<=J[1];)J[1]=Math.max(J[1],te[1]);q.push(J)}return q.length===1&&q[0][0]>q[0][1]&&(q=[]),q}function N(){var U=[],Z,q;return{set:function(J){U=J.map(function(te){return te.slice().sort(y)}).sort(i),U.length===1&&U[0][0]===-1/0&&U[0][1]===1/0&&(U=[[0,-1]]),Z=z(U),q=U.reduce(function(te,fe){return[Math.min(te[0],fe[0]),Math.max(te[1],fe[1])]},[1/0,-1/0])},get:function(){return U.slice()},getConsolidated:function(){return Z},getBounds:function(){return q}}}function O(U,Z,q,J,te,fe){var K=N();return K.set(q),{filter:K,filterSpecified:Z,svgBrush:{extent:[],brushStartCallback:J,brushCallback:H(te),brushEndCallback:fe}}}function F(U,Z){if(Array.isArray(U[0])?(U=U.map(function(J){return J.sort(y)}),Z.multiselect?U=z(U.sort(i)):U=[U[0]]):U=[U.sort(y)],Z.tickvals){var q=Z.tickvals.slice().sort(y);if(U=U.map(function(J){var te=[a(0,q,J[0],[]),a(1,q,J[1],[])];if(te[1]>te[0])return te}).filter(function(J){return J}),!U.length)return}return U.length>1?U:U[0]}V.exports={makeBrush:O,ensureAxisBrush:A,cleanRanges:F}},71791:function(V,B,e){V.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(V,B,e){var p=e(39898),L=e(27659).a0,n=e(21341),C=e(77922);B.name="parcoords",B.plot=function(y){var h=L(y.calcdata,"parcoords")[0];h.length&&n(y,h)},B.clean=function(y,h,g,t){var r=t._has&&t._has("parcoords"),l=h._has&&h._has("parcoords");r&&!l&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},B.toSVG=function(y){var h=y._fullLayout._glimages,g=p.select(y).selectAll(".svg-container"),t=g.filter(function(l,a){return a===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function r(){var l=this,a=l.toDataURL("image/png"),s=h.append("svg:image");s.attr({xmlns:C.svg,"xlink:href":a,preserveAspectRatio:"none",x:0,y:0,width:l.style.width,height:l.style.height})}t.each(r),window.setTimeout(function(){p.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(V,B,e){var p=e(71828).isArrayOrTypedArray,L=e(21081),n=e(28984).wrap;V.exports=function(h,g){var t,r;return L.hasColorscale(g,"line")&&p(g.line.color)?(t=g.line.color,r=L.extractOpts(g.line).colorscale,L.calc(h,g,{vals:t,containerStr:"line",cLetter:"c"})):(t=C(g._length),r=[[0,g.line.color],[1,g.line.color]]),n({lineColor:t,cscale:r})};function C(y){for(var h=new Array(y),g=0;g<y;g++)h[g]=.5;return h}},25706:function(V){V.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(V,B,e){var p=e(71828),L=e(52075).hasColorscale,n=e(1586),C=e(27670).c,y=e(85501),h=e(89298),g=e(73362),t=e(57920),r=e(25706).maxDimensionCount,l=e(94397);function a(c,u,b,f,w){var v=w("line.color",b);if(L(c,"line")&&p.isArrayOrTypedArray(v)){if(v.length)return w("line.colorscale"),n(c,u,f,w,{prefix:"line.",cLetter:"c"}),v.length;u.line.color=b}return 1/0}function s(c,u,b,f){function w(M,P){return p.coerce(c,u,g.dimensions,M,P)}var v=w("values"),o=w("visible");if(v&&v.length||(o=u.visible=!1),o){w("label"),w("tickvals"),w("ticktext"),w("tickformat");var d=w("range");u._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:d},h.setConvert(u._ax,f.layout),w("multiselect");var S=w("constraintrange");S&&(u.constraintrange=t.cleanRanges(S,u))}}V.exports=function(u,b,f,w){function v(P,x){return p.coerce(u,b,g,P,x)}var o=u.dimensions;Array.isArray(o)&&o.length>r&&(p.log("parcoords traces support up to "+r+" dimensions at the moment"),o.splice(r));var d=y(u,b,{name:"dimensions",layout:w,handleItemDefaults:s}),S=a(u,b,f,w,v);C(b,w,v),(!Array.isArray(d)||!d.length)&&(b.visible=!1),l(b,d,"values",S);var M={family:w.font.family,size:Math.round(w.font.size/1.2),color:w.font.color};p.coerceFont(v,"labelfont",M),p.coerceFont(v,"tickfont",M),p.coerceFont(v,"rangefont",M),v("labelangle"),v("labelside"),v("unselected.line.color"),v("unselected.line.opacity")}},1602:function(V,B,e){var p=e(71828).isTypedArray;B.convertTypedArray=function(L){return p(L)?Array.prototype.slice.call(L):L},B.isOrdinal=function(L){return!!L.tickvals},B.isVisible=function(L){return L.visible||!("visible"in L)}},67618:function(V,B,e){var p=e(71791);p.plot=e(21341),V.exports=p},83398:function(V,B,e){var p=e(56068),L=p([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),n=p([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),C=e(25706).maxDimensionCount,y=e(71828),h=1e-6,g=2048,t=new Uint8Array(4),r=new Uint8Array(4),l={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function a(E){E.read({x:0,y:0,width:1,height:1,data:t})}function s(E,T,i,R,A){var k=E._gl;k.enable(k.SCISSOR_TEST),k.scissor(T,i,R,A),E.clear({color:[0,0,0,0],depth:1})}function c(E,T,i,R,A,k){var _=k.key;function H(z){var N=Math.min(R,A-z*R);z===0&&(window.cancelAnimationFrame(i.currentRafs[_]),delete i.currentRafs[_],s(E,k.scissorX,k.scissorY,k.scissorWidth,k.viewBoxSize[1])),!i.clearOnly&&(k.count=2*N,k.offset=2*z*R,T(k),z*R+N<A&&(i.currentRafs[_]=window.requestAnimationFrame(function(){H(z+1)})),i.drawCompleted=!1)}i.drawCompleted||(a(E),i.drawCompleted=!0),H(0)}function u(E){return Math.max(h,Math.min(1-h,E))}function b(E,T){for(var i=new Array(256),R=0;R<256;R++)i[R]=E(R/255).concat(T);return i}function f(E,T){return(E>>>8*T)%256/255}function w(E,T,i){for(var R=new Array(E*(C+4)),A=0,k=0;k<E;k++){for(var _=0;_<C;_++)R[A++]=_<T.length?T[_].paddedUnitValues[k]:.5;R[A++]=f(k,2),R[A++]=f(k,1),R[A++]=f(k,0),R[A++]=u(i[k])}return R}function v(E,T,i){for(var R=new Array(T*8),A=0,k=0;k<T;k++)for(var _=0;_<2;_++)for(var H=0;H<4;H++){var z=E*4+H,N=i[k*64+z];z===63&&_===0&&(N*=-1),R[A++]=N}return R}function o(E){var T="0"+E;return T.substr(T.length-2)}function d(E){return E<C?"p"+o(E+1)+"_"+o(E+4):"colors"}function S(E,T,i){for(var R=0;R<=C;R+=4)E[d(R)](v(R/4,T,i))}function M(E){for(var T={},i=0;i<=C;i+=4)T[d(i)]=E.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return T}function P(E,T,i,R,A,k,_,H,z,N,O,F,U,Z){for(var q=[[],[]],J=0;J<64;J++)q[0][J]=J===A?1:0,q[1][J]=J===k?1:0;_*=Z,H*=Z,z*=Z,N*=Z;var te=E.lines.canvasOverdrag*Z,fe=E.domain,K=E.canvasWidth*Z,Y=E.canvasHeight*Z,W=E.pad.l*Z,X=E.pad.b*Z,re=E.layoutHeight*Z,se=E.layoutWidth*Z,Q=E.deselectedLines.color,ee=E.deselectedLines.opacity,le=y.extendFlat({key:O,resolution:[K,Y],viewBoxPos:[_+te,H],viewBoxSize:[z,N],i0:A,i1:k,dim0A:q[0].slice(0,16),dim0B:q[0].slice(16,32),dim0C:q[0].slice(32,48),dim0D:q[0].slice(48,64),dim1A:q[1].slice(0,16),dim1B:q[1].slice(16,32),dim1C:q[1].slice(32,48),dim1D:q[1].slice(48,64),drwLayer:F,contextColor:[Q[0]/255,Q[1]/255,Q[2]/255,ee!=="auto"?Q[3]*ee:Math.max(1/255,Math.pow(1/E.lines.color.length,1/3))],scissorX:(R===T?0:_+te)+(W-te)+se*fe.x[0],scissorWidth:(R===i?K-_+te:z+.5)+(R===T?_+te:0),scissorY:H+X+re*fe.y[0],scissorHeight:N,viewportX:W-te+se*fe.x[0],viewportY:X+re*fe.y[0],viewportWidth:K,viewportHeight:Y},U);return le}function x(E){var T=g-1,i=Math.max(0,Math.floor(E[0]*T),0),R=Math.min(T,Math.ceil(E[1]*T),T);return[Math.min(i,R),Math.max(i,R)]}V.exports=function(E,T){var i=T.context,R=T.pick,A=T.regl,k=A._gl,_=k.getParameter(k.ALIASED_LINE_WIDTH_RANGE),H=Math.max(_[0],Math.min(_[1],T.viewModel.plotGlPixelRatio)),z={currentRafs:{},drawCompleted:!0,clearOnly:!1},N,O,F,U,Z=M(A),q,J=A.texture(l),te=[];K(T);var fe=A({profile:!1,blend:{enable:i,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!i,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:A.prop("scissorX"),y:A.prop("scissorY"),width:A.prop("scissorWidth"),height:A.prop("scissorHeight")}},viewport:{x:A.prop("viewportX"),y:A.prop("viewportY"),width:A.prop("viewportWidth"),height:A.prop("viewportHeight")},dither:!1,vert:L,frag:n,primitive:"lines",lineWidth:H,attributes:Z,uniforms:{resolution:A.prop("resolution"),viewBoxPos:A.prop("viewBoxPos"),viewBoxSize:A.prop("viewBoxSize"),dim0A:A.prop("dim0A"),dim1A:A.prop("dim1A"),dim0B:A.prop("dim0B"),dim1B:A.prop("dim1B"),dim0C:A.prop("dim0C"),dim1C:A.prop("dim1C"),dim0D:A.prop("dim0D"),dim1D:A.prop("dim1D"),loA:A.prop("loA"),hiA:A.prop("hiA"),loB:A.prop("loB"),hiB:A.prop("hiB"),loC:A.prop("loC"),hiC:A.prop("hiC"),loD:A.prop("loD"),hiD:A.prop("hiD"),palette:J,contextColor:A.prop("contextColor"),maskTexture:A.prop("maskTexture"),drwLayer:A.prop("drwLayer"),maskHeight:A.prop("maskHeight")},offset:A.prop("offset"),count:A.prop("count")});function K(Q){N=Q.model,O=Q.viewModel,F=O.dimensions.slice(),U=F[0]?F[0].values.length:0;var ee=N.lines,le=R?ee.color.map(function(he,xe){return xe/ee.color.length}):ee.color,oe=w(U,F,le);S(Z,U,oe),!i&&!R&&(J=A.texture(y.extendFlat({data:b(N.unitToColor,255)},l)))}function Y(Q){var ee,le,oe,he=[[],[]];for(oe=0;oe<64;oe++){var xe=!Q&&oe<F.length?F[oe].brush.filter.getBounds():[-1/0,1/0];he[0][oe]=xe[0],he[1][oe]=xe[1]}var Ae=g*8,Se=new Array(Ae);for(ee=0;ee<Ae;ee++)Se[ee]=255;if(!Q)for(ee=0;ee<F.length;ee++){var Oe=ee%8,Ve=(ee-Oe)/8,Ee=Math.pow(2,Oe),Te=F[ee],Le=Te.brush.filter.get();if(!(Le.length<2)){var Ge=x(Le[0])[1];for(le=1;le<Le.length;le++){var He=x(Le[le]);for(oe=Ge+1;oe<He[0];oe++)Se[oe*8+Ve]&=~Ee;Ge=Math.max(Ge,He[1])}}}var ke={shape:[8,g],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:Se};return q?q(ke):q=A.texture(ke),{maskTexture:q,maskHeight:g,loA:he[0].slice(0,16),loB:he[0].slice(16,32),loC:he[0].slice(32,48),loD:he[0].slice(48,64),hiA:he[1].slice(0,16),hiB:he[1].slice(16,32),hiC:he[1].slice(32,48),hiD:he[1].slice(48,64)}}function W(Q,ee,le){var oe=Q.length,he,xe,Ae,Se=1/0,Oe=-1/0;for(he=0;he<oe;he++)Q[he].dim0.canvasX<Se&&(Se=Q[he].dim0.canvasX,xe=he),Q[he].dim1.canvasX>Oe&&(Oe=Q[he].dim1.canvasX,Ae=he);oe===0&&s(A,0,0,N.canvasWidth,N.canvasHeight);var Ve=Y(i);for(he=0;he<oe;he++){var Ee=Q[he],Te=Ee.dim0.crossfilterDimensionIndex,Le=Ee.dim1.crossfilterDimensionIndex,Ge=Ee.canvasX,He=Ee.canvasY,ke=Ge+Ee.panelSizeX,We=Ee.plotGlPixelRatio;if(ee||!te[Te]||te[Te][0]!==Ge||te[Te][1]!==ke){te[Te]=[Ge,ke];var nt=P(N,xe,Ae,he,Te,Le,Ge,He,Ee.panelSizeX,Ee.panelSizeY,Ee.dim0.crossfilterDimensionIndex,i?0:R?2:1,Ve,We);z.clearOnly=le;var qe=ee?N.lines.blockLineCount:U;c(A,fe,z,qe,U,nt)}}}function X(Q,ee){return A.read({x:Q,y:ee,width:1,height:1,data:r}),r}function re(Q,ee,le,oe){var he=new Uint8Array(4*le*oe);return A.read({x:Q,y:ee,width:le,height:oe,data:he}),he}function se(){E.style["pointer-events"]="none",J.destroy(),q&&q.destroy();for(var Q in Z)Z[Q].destroy()}return{render:W,readPixel:X,readPixels:re,destroy:se,update:K}}},94397:function(V){V.exports=function(B,e,p,L){L||(L=1/0);var n,C;for(n=0;n<e.length;n++)C=e[n],C.visible&&(L=Math.min(L,C[p].length));for(L===1/0&&(L=0),B._length=L,n=0;n<e.length;n++)C=e[n],C.visible&&(C._length=L);return L}},17171:function(V,B,e){var p=e(39898),L=e(71828),n=L.numberFormat,C=e(36652),y=e(89298),h=L.strRotate,g=L.strTranslate,t=e(63893),r=e(91424),l=e(21081),a=e(28984),s=a.keyFun,c=a.repeat,u=a.unwrap,b=e(1602),f=e(25706),w=e(57920),v=e(83398);function o(q,J,te){return L.aggNums(q,null,J,te)}function d(q,J){return M(o(Math.min,q,J),o(Math.max,q,J))}function S(q){var J=q.range;return J?M(J[0],J[1]):d(q.values,q._length)}function M(q,J){return(isNaN(q)||!isFinite(q))&&(q=0),(isNaN(J)||!isFinite(J))&&(J=0),q===J&&(q===0?(q-=1,J+=1):(q*=.9,J*=1.1)),[q,J]}function P(q,J){return J?function(te,fe){var K=J[fe];return K??q(te)}:q}function x(q,J,te,fe,K){var Y=S(te);return fe?p.scale.ordinal().domain(fe.map(P(n(te.tickformat),K))).range(fe.map(function(W){var X=(W-Y[0])/(Y[1]-Y[0]);return q-J+X*(2*J-q)})):p.scale.linear().domain(Y).range([q-J,J])}function E(q,J){return p.scale.linear().range([J,q-J])}function T(q,J){return p.scale.linear().domain(S(q)).range([J,1-J])}function i(q){if(q.tickvals){var J=S(q);return p.scale.ordinal().domain(q.tickvals).range(q.tickvals.map(function(te){return(te-J[0])/(J[1]-J[0])}))}}function R(q){var J=q.map(function(Y){return Y[0]}),te=q.map(function(Y){var W=C(Y[1]);return p.rgb("rgb("+W[0]+","+W[1]+","+W[2]+")")}),fe=function(Y){return function(W){return W[Y]}},K="rgb".split("").map(function(Y){return p.scale.linear().clamp(!0).domain(J).range(te.map(fe(Y)))});return function(Y){return K.map(function(W){return W(Y)})}}function A(q){return q.dimensions.some(function(J){return J.brush.filterSpecified})}function k(q,J,te){var fe=u(J),K=fe.trace,Y=b.convertTypedArray(fe.lineColor),W=K.line,X={color:C(K.unselected.line.color),opacity:K.unselected.line.opacity},re=l.extractOpts(W),se=re.reversescale?l.flipScale(fe.cscale):fe.cscale,Q=K.domain,ee=K.dimensions,le=q.width,oe=K.labelangle,he=K.labelside,xe=K.labelfont,Ae=K.tickfont,Se=K.rangefont,Oe=L.extendDeepNoArrays({},W,{color:Y.map(p.scale.linear().domain(S({values:Y,range:[re.min,re.max],_length:K._length}))),blockLineCount:f.blockLineCount,canvasOverdrag:f.overdrag*f.canvasPixelRatio}),Ve=Math.floor(le*(Q.x[1]-Q.x[0])),Ee=Math.floor(q.height*(Q.y[1]-Q.y[0])),Te=q.margin||{l:80,r:80,t:100,b:80},Le=Ve,Ge=Ee;return{key:te,colCount:ee.filter(b.isVisible).length,dimensions:ee,tickDistance:f.tickDistance,unitToColor:R(se),lines:Oe,deselectedLines:X,labelAngle:oe,labelSide:he,labelFont:xe,tickFont:Ae,rangeFont:Se,layoutWidth:le,layoutHeight:q.height,domain:Q,translateX:Q.x[0]*le,translateY:q.height-Q.y[1]*q.height,pad:Te,canvasWidth:Le*f.canvasPixelRatio+2*Oe.canvasOverdrag,canvasHeight:Ge*f.canvasPixelRatio,width:Le,height:Ge,canvasPixelRatio:f.canvasPixelRatio}}function _(q,J,te){var fe=te.width,K=te.height,Y=te.dimensions,W=te.canvasPixelRatio,X=function(le){return fe*le/Math.max(1,te.colCount-1)},re=f.verticalPadding/K,se=E(K,f.verticalPadding),Q={key:te.key,xScale:X,model:te,inBrushDrag:!1},ee={};return Q.dimensions=Y.filter(b.isVisible).map(function(le,oe){var he=T(le,re),xe=ee[le.label];ee[le.label]=(xe||0)+1;var Ae=le.label+(xe?"__"+xe:""),Se=le.constraintrange,Oe=Se&&Se.length;Oe&&!Array.isArray(Se[0])&&(Se=[Se]);var Ve=Oe?Se.map(function(Qe){return Qe.map(he)}):[[-1/0,1/0]],Ee=function(){var Qe=Q;Qe.focusLayer&&Qe.focusLayer.render(Qe.panels,!0);var tt=A(Qe);!q.contextShown()&&tt?(Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!0),q.contextShown(!0)):q.contextShown()&&!tt&&(Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!0,!0),q.contextShown(!1))},Te=le.values;Te.length>le._length&&(Te=Te.slice(0,le._length));var Le=le.tickvals,Ge;function He(Qe,tt){return{val:Qe,text:Ge[tt]}}function ke(Qe,tt){return Qe.val-tt.val}if(Array.isArray(Le)&&Le.length){Ge=le.ticktext,!Array.isArray(Ge)||!Ge.length?Ge=Le.map(n(le.tickformat)):Ge.length>Le.length?Ge=Ge.slice(0,Le.length):Le.length>Ge.length&&(Le=Le.slice(0,Ge.length));for(var We=1;We<Le.length;We++)if(Le[We]<Le[We-1]){for(var nt=Le.map(He).sort(ke),qe=0;qe<Le.length;qe++)Le[qe]=nt[qe].val,Ge[qe]=nt[qe].text;break}}else Le=void 0;return Te=b.convertTypedArray(Te),{key:Ae,label:le.label,tickFormat:le.tickformat,tickvals:Le,ticktext:Ge,ordinal:b.isOrdinal(le),multiselect:le.multiselect,xIndex:oe,crossfilterDimensionIndex:oe,visibleIndex:le._index,height:K,values:Te,paddedUnitValues:Te.map(he),unitTickvals:Le&&Le.map(he),xScale:X,x:X(oe),canvasX:X(oe)*W,unitToPaddedPx:se,domainScale:x(K,f.verticalPadding,le,Le,Ge),ordinalScale:i(le),parent:Q,model:te,brush:w.makeBrush(q,Oe,Ve,function(){q.linePickActive(!1)},Ee,function(Qe){if(Q.focusLayer.render(Q.panels,!0),Q.pickLayer&&Q.pickLayer.render(Q.panels,!0),q.linePickActive(!0),J&&J.filterChanged){var tt=he.invert,vt=Qe.map(function(dt){return dt.map(tt).sort(L.sorterAsc)}).sort(function(dt,gt){return dt[0]-gt[0]});J.filterChanged(Q.key,le._index,vt)}})}}),Q}function H(q){q.classed(f.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function z(){var q=!0,J=!1;return{linePickActive:function(te){return arguments.length?q=!!te:q},contextShown:function(te){return arguments.length?J=!!te:J}}}function N(q,J){var te=J==="top"?1:-1,fe=q*Math.PI/180,K=Math.sin(fe),Y=Math.cos(fe);return{dir:te,dx:K,dy:Y,degrees:q}}function O(q,J,te){for(var fe=J.panels||(J.panels=[]),K=q.data(),Y=0;Y<K.length-1;Y++){var W=fe[Y]||(fe[Y]={}),X=K[Y],re=K[Y+1];W.dim0=X,W.dim1=re,W.canvasX=X.canvasX,W.panelSizeX=re.canvasX-X.canvasX,W.panelSizeY=J.model.canvasHeight,W.y=0,W.canvasY=0,W.plotGlPixelRatio=te}}function F(q){for(var J=0;J<q.length;J++)for(var te=0;te<q[J].length;te++)for(var fe=q[J][te].trace,K=fe.dimensions,Y=0;Y<K.length;Y++){var W=K[Y].values,X=K[Y]._ax;X&&(X.range?X.range=M(X.range[0],X.range[1]):X.range=d(W,fe._length),X.dtick||(X.dtick=.01*(Math.abs(X.range[1]-X.range[0])||1)),X.tickformat=K[Y].tickformat,y.calcTicks(X),X.cleanRange())}}function U(q,J){return y.tickText(q._ax,J,!1).text}function Z(q,J){if(q.ordinal)return"";var te=q.domainScale.domain(),fe=te[J?te.length-1:0];return U(q.model.dimensions[q.visibleIndex],fe)}V.exports=function(J,te,fe,K){var Y=J._context.staticPlot,W=J._fullLayout,X=W._toppaper,re=W._glcontainer,se=J._context.plotGlPixelRatio,Q=J._fullLayout.paper_bgcolor;F(te);var ee=z(),le=te.filter(function(qe){return u(qe).trace.visible}).map(k.bind(0,fe)).map(_.bind(0,ee,K));re.each(function(qe,Qe){return L.extendFlat(qe,le[Qe])});var oe=re.selectAll(".gl-canvas").each(function(qe){qe.viewModel=le[0],qe.viewModel.plotGlPixelRatio=se,qe.viewModel.paperColor=Q,qe.model=qe.viewModel?qe.viewModel.model:null}),he=null,xe=oe.filter(function(qe){return qe.pick});xe.style("pointer-events",Y?"none":"auto").on("mousemove",function(qe){if(ee.linePickActive()&&qe.lineLayer&&K&&K.hover){var Qe=p.event,tt=this.width,vt=this.height,dt=p.mouse(this),gt=dt[0],Mt=dt[1];if(gt<0||Mt<0||gt>=tt||Mt>=vt)return;var Rt=qe.lineLayer.readPixel(gt,vt-1-Mt),Wt=Rt[3]!==0,je=Wt?Rt[2]+256*(Rt[1]+256*Rt[0]):null,_e={x:gt,y:Mt,clientX:Qe.clientX,clientY:Qe.clientY,dataIndex:qe.model.key,curveNumber:je};je!==he&&(Wt?K.hover(_e):K.unhover&&K.unhover(_e),he=je)}}),oe.style("opacity",function(qe){return qe.pick?0:1}),X.style("background","rgba(255, 255, 255, 0)");var Ae=X.selectAll("."+f.cn.parcoords).data(le,s);Ae.exit().remove(),Ae.enter().append("g").classed(f.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),Ae.attr("transform",function(qe){return g(qe.model.translateX,qe.model.translateY)});var Se=Ae.selectAll("."+f.cn.parcoordsControlView).data(c,s);Se.enter().append("g").classed(f.cn.parcoordsControlView,!0),Se.attr("transform",function(qe){return g(qe.model.pad.l,qe.model.pad.t)});var Oe=Se.selectAll("."+f.cn.yAxis).data(function(qe){return qe.dimensions},s);Oe.enter().append("g").classed(f.cn.yAxis,!0),Se.each(function(qe){O(Oe,qe,se)}),oe.each(function(qe){if(qe.viewModel){!qe.lineLayer||K?qe.lineLayer=v(this,qe):qe.lineLayer.update(qe),(qe.key||qe.key===0)&&(qe.viewModel[qe.key]=qe.lineLayer);var Qe=!qe.context||K;qe.lineLayer.render(qe.viewModel.panels,Qe)}}),Oe.attr("transform",function(qe){return g(qe.xScale(qe.xIndex),0)}),Oe.call(p.behavior.drag().origin(function(qe){return qe}).on("drag",function(qe){var Qe=qe.parent;ee.linePickActive(!1),qe.x=Math.max(-f.overdrag,Math.min(qe.model.width+f.overdrag,p.event.x)),qe.canvasX=qe.x*qe.model.canvasPixelRatio,Oe.sort(function(tt,vt){return tt.x-vt.x}).each(function(tt,vt){tt.xIndex=vt,tt.x=qe===tt?tt.x:tt.xScale(tt.xIndex),tt.canvasX=tt.x*tt.model.canvasPixelRatio}),O(Oe,Qe,se),Oe.filter(function(tt){return Math.abs(qe.xIndex-tt.xIndex)!==0}).attr("transform",function(tt){return g(tt.xScale(tt.xIndex),0)}),p.select(this).attr("transform",g(qe.x,0)),Oe.each(function(tt,vt,dt){dt===qe.parent.key&&(Qe.dimensions[vt]=tt)}),Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!1,!A(Qe)),Qe.focusLayer.render&&Qe.focusLayer.render(Qe.panels)}).on("dragend",function(qe){var Qe=qe.parent;qe.x=qe.xScale(qe.xIndex),qe.canvasX=qe.x*qe.model.canvasPixelRatio,O(Oe,Qe,se),p.select(this).attr("transform",function(tt){return g(tt.x,0)}),Qe.contextLayer&&Qe.contextLayer.render(Qe.panels,!1,!A(Qe)),Qe.focusLayer&&Qe.focusLayer.render(Qe.panels),Qe.pickLayer&&Qe.pickLayer.render(Qe.panels,!0),ee.linePickActive(!0),K&&K.axesMoved&&K.axesMoved(Qe.key,Qe.dimensions.map(function(tt){return tt.crossfilterDimensionIndex}))})),Oe.exit().remove();var Ve=Oe.selectAll("."+f.cn.axisOverlays).data(c,s);Ve.enter().append("g").classed(f.cn.axisOverlays,!0),Ve.selectAll("."+f.cn.axis).remove();var Ee=Ve.selectAll("."+f.cn.axis).data(c,s);Ee.enter().append("g").classed(f.cn.axis,!0),Ee.each(function(qe){var Qe=qe.model.height/qe.model.tickDistance,tt=qe.domainScale,vt=tt.domain();p.select(this).call(p.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(Qe,qe.tickFormat).tickValues(qe.ordinal?vt:null).tickFormat(function(dt){return b.isOrdinal(qe)?dt:U(qe.model.dimensions[qe.visibleIndex],dt)}).scale(tt)),r.font(Ee.selectAll("text"),qe.model.tickFont)}),Ee.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ee.selectAll("text").style("text-shadow",t.makeTextShadow(Q)).style("cursor","default");var Te=Ve.selectAll("."+f.cn.axisHeading).data(c,s);Te.enter().append("g").classed(f.cn.axisHeading,!0);var Le=Te.selectAll("."+f.cn.axisTitle).data(c,s);Le.enter().append("text").classed(f.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",Y?"none":"auto"),Le.text(function(qe){return qe.label}).each(function(qe){var Qe=p.select(this);r.font(Qe,qe.model.labelFont),t.convertToTspans(Qe,J)}).attr("transform",function(qe){var Qe=N(qe.model.labelAngle,qe.model.labelSide),tt=f.axisTitleOffset;return(Qe.dir>0?"":g(0,2*tt+qe.model.height))+h(Qe.degrees)+g(-tt*Qe.dx,-tt*Qe.dy)}).attr("text-anchor",function(qe){var Qe=N(qe.model.labelAngle,qe.model.labelSide),tt=Math.abs(Qe.dx),vt=Math.abs(Qe.dy);return 2*tt>vt?Qe.dir*Qe.dx<0?"start":"end":"middle"});var Ge=Ve.selectAll("."+f.cn.axisExtent).data(c,s);Ge.enter().append("g").classed(f.cn.axisExtent,!0);var He=Ge.selectAll("."+f.cn.axisExtentTop).data(c,s);He.enter().append("g").classed(f.cn.axisExtentTop,!0),He.attr("transform",g(0,-f.axisExtentOffset));var ke=He.selectAll("."+f.cn.axisExtentTopText).data(c,s);ke.enter().append("text").classed(f.cn.axisExtentTopText,!0).call(H),ke.text(function(qe){return Z(qe,!0)}).each(function(qe){r.font(p.select(this),qe.model.rangeFont)});var We=Ge.selectAll("."+f.cn.axisExtentBottom).data(c,s);We.enter().append("g").classed(f.cn.axisExtentBottom,!0),We.attr("transform",function(qe){return g(0,qe.model.height+f.axisExtentOffset)});var nt=We.selectAll("."+f.cn.axisExtentBottomText).data(c,s);nt.enter().append("text").classed(f.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(H),nt.text(function(qe){return Z(qe,!1)}).each(function(qe){r.font(p.select(this),qe.model.rangeFont)}),w.ensureAxisBrush(Ve,Q,J)}},21341:function(V,B,e){var p=e(17171),L=e(79749),n=e(1602).isVisible,C={};function y(t,r,l){var a=r.indexOf(l),s=t.indexOf(a);return s===-1&&(s+=r.length),s}function h(t,r){return function(a,s){return y(t,r,a)-y(t,r,s)}}var g=V.exports=function(r,l){var a=r._fullLayout,s=L(r,[],C);if(s){var c={},u={},b={},f={},w=a._size;l.forEach(function(M,P){var x=M[0].trace;b[P]=x.index;var E=f[P]=x._fullInput.index;c[P]=r.data[E].dimensions,u[P]=r.data[E].dimensions.slice()});var v=function(M,P,x){var E=u[M][P],T=x.map(function(H){return H.slice()}),i="dimensions["+P+"].constraintrange",R=a._tracePreGUI[r._fullData[b[M]]._fullInput.uid];if(R[i]===void 0){var A=E.constraintrange;R[i]=A||null}var k=r._fullData[b[M]].dimensions[P];T.length?(T.length===1&&(T=T[0]),E.constraintrange=T,k.constraintrange=T.slice(),T=[T]):(delete E.constraintrange,delete k.constraintrange,T=null);var _={};_[i]=T,r.emit("plotly_restyle",[_,[f[M]]])},o=function(M){r.emit("plotly_hover",M)},d=function(M){r.emit("plotly_unhover",M)},S=function(M,P){var x=h(P,u[M].filter(n));c[M].sort(x),u[M].filter(function(E){return!n(E)}).sort(function(E){return u[M].indexOf(E)}).forEach(function(E){c[M].splice(c[M].indexOf(E),1),c[M].splice(u[M].indexOf(E),0,E)}),r.emit("plotly_restyle",[{dimensions:[c[M]]},[f[M]]])};p(r,l,{width:w.w,height:w.h,margin:{t:w.t,r:w.r,b:w.b,l:w.l}},{filterChanged:v,hover:o,unhover:d,axesMoved:S})}};g.reglPrecompiled=C},34e3:function(V,B,e){var p=e(9012),L=e(27670).Y,n=e(41940),C=e(22399),y=e(5386).fF,h=e(5386).si,g=e(1426).extendFlat,t=e(79952).u,r=n({editType:"plot",arrayOk:!0,colorEditType:"plot"});V.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:C.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:g({},p.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:y({},{keys:["label","color","value","percent","text"]}),texttemplate:h({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:g({},r,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:g({},r,{}),outsidetextfont:g({},r,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:g({},r,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:L({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:g({},r,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(V,B,e){var p=e(74875);B.name="pie",B.plot=function(L,n,C,y){p.plotBasePlot(B.name,L,n,C,y)},B.clean=function(L,n,C,y){p.cleanBasePlot(B.name,L,n,C,y)}},32354:function(V,B,e){var p=e(92770),L=e(84267),n=e(7901),C={};function y(r,l){var a=[],s=r._fullLayout,c=s.hiddenlabels||[],u=l.labels,b=l.marker.colors||[],f=l.values,w=l._length,v=l._hasValues&&w,o,d;if(l.dlabel)for(u=new Array(w),o=0;o<w;o++)u[o]=String(l.label0+o*l.dlabel);var S={},M=h(s["_"+l.type+"colormap"]),P=0,x=!1;for(o=0;o<w;o++){var E,T,i;if(v){if(E=f[o],!p(E))continue;E=+E}else E=1;T=u[o],(T===void 0||T==="")&&(T=o),T=String(T);var R=S[T];R===void 0?(S[T]=a.length,i=c.indexOf(T)!==-1,i||(P+=E),a.push({v:E,label:T,color:M(b[o],T),i:o,pts:[o],hidden:i})):(x=!0,d=a[R],d.v+=E,d.pts.push(o),d.hidden||(P+=E),d.color===!1&&b[o]&&(d.color=M(b[o],T)))}a=a.filter(function(k){return k.v>=0});var A=l.type==="funnelarea"?x:l.sort;return A&&a.sort(function(k,_){return _.v-k.v}),a[0]&&(a[0].vTotal=P),a}function h(r){return function(a,s){return!a||(a=L(a),!a.isValid())?!1:(a=n.addOpacity(a,a.getAlpha()),r[s]||(r[s]=a),a)}}function g(r,l){var a=(l||{}).type;a||(a="pie");var s=r._fullLayout,c=r.calcdata,u=s[a+"colorway"],b=s["_"+a+"colormap"];s["extend"+a+"colors"]&&(u=t(u,C));for(var f=0,w=0;w<c.length;w++){var v=c[w],o=v[0].trace.type;if(o===a)for(var d=0;d<v.length;d++){var S=v[d];S.color===!1&&(b[S.label]?S.color=b[S.label]:(b[S.label]=S.color=u[f%u.length],f++))}}}function t(r,l){var a,s=JSON.stringify(r),c=l[s];if(!c){for(c=r.slice(),a=0;a<r.length;a++)c.push(L(r[a]).lighten(20).toHexString());for(a=0;a<r.length;a++)c.push(L(r[a]).darken(20).toHexString());l[s]=c}return c}V.exports={calc:y,crossTraceCalc:g,makePullColorFn:h,generateExtendedColors:t}},37434:function(V,B,e){var p=e(92770),L=e(71828),n=e(34e3),C=e(27670).c,y=e(90769).handleText,h=e(71828).coercePattern;function g(l,a){var s=Array.isArray(l),c=L.isArrayOrTypedArray(a),u=Math.min(s?l.length:1/0,c?a.length:1/0);if(isFinite(u)||(u=0),u&&c){for(var b,f=0;f<u;f++){var w=a[f];if(p(w)&&w>0){b=!0;break}}b||(u=0)}return{hasLabels:s,hasValues:c,len:u}}function t(l,a,s,c,u){var b=c("marker.line.width");b&&c("marker.line.color",u?void 0:s.paper_bgcolor);var f=c("marker.colors");h(c,"marker.pattern",f),l.marker&&!a.marker.pattern.fgcolor&&(a.marker.pattern.fgcolor=l.marker.colors),a.marker.pattern.bgcolor||(a.marker.pattern.bgcolor=s.paper_bgcolor)}function r(l,a,s,c){function u(R,A){return L.coerce(l,a,n,R,A)}var b=u("labels"),f=u("values"),w=g(b,f),v=w.len;if(a._hasLabels=w.hasLabels,a._hasValues=w.hasValues,!a._hasLabels&&a._hasValues&&(u("label0"),u("dlabel")),!v){a.visible=!1;return}a._length=v,t(l,a,c,u,!0),u("scalegroup");var o=u("text"),d=u("texttemplate"),S;if(d||(S=u("textinfo",Array.isArray(o)?"text+percent":"percent")),u("hovertext"),u("hovertemplate"),d||S&&S!=="none"){var M=u("textposition");y(l,a,c,u,M,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var P=Array.isArray(M)||M==="auto",x=P||M==="outside";x&&u("automargin"),(M==="inside"||M==="auto"||Array.isArray(M))&&u("insidetextorientation")}C(a,c,u);var E=u("hole"),T=u("title.text");if(T){var i=u("title.position",E?"middle center":"top center");!E&&i==="middle center"&&(a.title.position="top center"),L.coerceFont(u,"title.font",c.font)}u("sort"),u("direction"),u("rotation"),u("pull")}V.exports={handleLabelsAndValues:g,handleMarkerDefaults:t,supplyDefaults:r}},20007:function(V,B,e){var p=e(23469).appendArrayMultiPointValues;V.exports=function(n,C){var y={curveNumber:C.index,pointNumbers:n.pts,data:C._input,fullData:C,label:n.label,color:n.color,value:n.v,percent:n.percent,text:n.text,bbox:n.bbox,v:n.v};return n.pts.length===1&&(y.pointNumber=y.i=n.pts[0]),p(y,C,n.pts),C.type==="funnelarea"&&(delete y.v,delete y.i),y}},22209:function(V,B,e){var p=e(91424),L=e(7901);V.exports=function(C,y,h,g){var t=h.marker.pattern;t&&t.shape?p.pointStyle(C,h,g,y):L.fill(C,y.color)}},53581:function(V,B,e){var p=e(71828);function L(n){return n.indexOf("e")!==-1?n.replace(/[.]?0+e/,"e"):n.indexOf(".")!==-1?n.replace(/[.]?0+$/,""):n}B.formatPiePercent=function(C,y){var h=L((C*100).toPrecision(3));return p.numSeparate(h,y)+"%"},B.formatPieValue=function(C,y){var h=L(C.toPrecision(10));return p.numSeparate(h,y)},B.getFirstFilled=function(C,y){if(Array.isArray(C))for(var h=0;h<y.length;h++){var g=C[y[h]];if(g||g===0||g==="")return g}},B.castOption=function(C,y){if(Array.isArray(C))return B.getFirstFilled(C,y);if(C)return C},B.getRotationAngle=function(n){return(n==="auto"?0:n)*Math.PI/180}},58810:function(V,B,e){V.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(V){V.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(V,B,e){var p=e(71828),L=e(92774);V.exports=function(C,y){function h(g,t){return p.coerce(C,y,L,g,t)}h("hiddenlabels"),h("piecolorway",y.colorway),h("extendpiecolors")}},14575:function(V,B,e){var p=e(39898),L=e(74875),n=e(30211),C=e(7901),y=e(91424),h=e(71828),g=h.strScale,t=h.strTranslate,r=e(63893),l=e(72597),a=l.recordMinTextSize,s=l.clearMinTextSize,c=e(97313).TEXTPAD,u=e(53581),b=e(20007),f=e(71828).isValidTextValue;function w(Y,W){var X=Y._context.staticPlot,re=Y._fullLayout,se=re._size;s("pie",re),M(W,Y),Z(W,se);var Q=h.makeTraceGroups(re._pielayer,W,"trace").each(function(ee){var le=p.select(this),oe=ee[0],he=oe.trace;J(ee),le.attr("stroke-linejoin","round"),le.each(function(){var xe=p.select(this).selectAll("g.slice").data(ee);xe.enter().append("g").classed("slice",!0),xe.exit().remove();var Ae=[[[],[]],[[],[]]],Se=!1;xe.each(function(ke,We){if(ke.hidden){p.select(this).selectAll("path,g").remove();return}ke.pointNumber=ke.i,ke.curveNumber=he.index,Ae[ke.pxmid[1]<0?0:1][ke.pxmid[0]<0?0:1].push(ke);var nt=oe.cx,qe=oe.cy,Qe=p.select(this),tt=Qe.selectAll("path.surface").data([ke]);if(tt.enter().append("path").classed("surface",!0).style({"pointer-events":X?"none":"all"}),Qe.call(o,Y,ee),he.pull){var vt=+u.castOption(he.pull,ke.pts)||0;vt>0&&(nt+=vt*ke.pxmid[0],qe+=vt*ke.pxmid[1])}ke.cxFinal=nt,ke.cyFinal=qe;function dt(Fe,Be,De,we){var ue=we*(Be[0]-Fe[0]),me=we*(Be[1]-Fe[1]);return"a"+we*oe.r+","+we*oe.r+" 0 "+ke.largeArc+(De?" 1 ":" 0 ")+ue+","+me}var gt=he.hole;if(ke.v===oe.vTotal){var Mt="M"+(nt+ke.px0[0])+","+(qe+ke.px0[1])+dt(ke.px0,ke.pxmid,!0,1)+dt(ke.pxmid,ke.px0,!0,1)+"Z";gt?tt.attr("d","M"+(nt+gt*ke.px0[0])+","+(qe+gt*ke.px0[1])+dt(ke.px0,ke.pxmid,!1,gt)+dt(ke.pxmid,ke.px0,!1,gt)+"Z"+Mt):tt.attr("d",Mt)}else{var Rt=dt(ke.px0,ke.px1,!0,1);if(gt){var Wt=1-gt;tt.attr("d","M"+(nt+gt*ke.px1[0])+","+(qe+gt*ke.px1[1])+dt(ke.px1,ke.px0,!1,gt)+"l"+Wt*ke.px0[0]+","+Wt*ke.px0[1]+Rt+"Z")}else tt.attr("d","M"+nt+","+qe+"l"+ke.px0[0]+","+ke.px0[1]+Rt+"Z")}fe(Y,ke,oe);var je=u.castOption(he.textposition,ke.pts),_e=Qe.selectAll("g.slicetext").data(ke.text&&je!=="none"?[0]:[]);_e.enter().append("g").classed("slicetext",!0),_e.exit().remove(),_e.each(function(){var Fe=h.ensureSingle(p.select(this),"text","",function(it){it.attr("data-notex",1)}),Be=h.ensureUniformFontSize(Y,je==="outside"?d(he,ke,re.font):S(he,ke,re.font));Fe.text(ke.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(y.font,Be).call(r.convertToTspans,Y);var De=y.bBox(Fe.node()),we;if(je==="outside")we=_(De,ke);else if(we=P(De,ke,oe),je==="auto"&&we.scale<1){var ue=h.ensureUniformFontSize(Y,he.outsidetextfont);Fe.call(y.font,ue),De=y.bBox(Fe.node()),we=_(De,ke)}var me=we.textPosAngle,Re=me===void 0?ke.pxmid:te(oe.r,me);if(we.targetX=nt+Re[0]*we.rCenter+(we.x||0),we.targetY=qe+Re[1]*we.rCenter+(we.y||0),K(we,De),we.outside){var Ne=we.targetY;ke.yLabelMin=Ne-De.height/2,ke.yLabelMid=Ne,ke.yLabelMax=Ne+De.height/2,ke.labelExtraX=0,ke.labelExtraY=0,Se=!0}we.fontSize=Be.size,a(he.type,we,re),ee[We].transform=we,h.setTransormAndDisplay(Fe,we)})});var Oe=p.select(this).selectAll("g.titletext").data(he.title.text?[0]:[]);if(Oe.enter().append("g").classed("titletext",!0),Oe.exit().remove(),Oe.each(function(){var ke=h.ensureSingle(p.select(this),"text","",function(qe){qe.attr("data-notex",1)}),We=he.title.text;he._meta&&(We=h.templateString(We,he._meta)),ke.text(We).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(y.font,he.title.font).call(r.convertToTspans,Y);var nt;he.title.position==="middle center"?nt=H(oe):nt=z(oe,se),ke.attr("transform",t(nt.x,nt.y)+g(Math.min(1,nt.scale))+t(nt.tx,nt.ty))}),Se&&U(Ae,he),v(xe,he),Se&&he.automargin){var Ve=y.bBox(le.node()),Ee=he.domain,Te=se.w*(Ee.x[1]-Ee.x[0]),Le=se.h*(Ee.y[1]-Ee.y[0]),Ge=(.5*Te-oe.r)/se.w,He=(.5*Le-oe.r)/se.h;L.autoMargin(Y,"pie."+he.uid+".automargin",{xl:Ee.x[0]-Ge,xr:Ee.x[1]+Ge,yb:Ee.y[0]-He,yt:Ee.y[1]+He,l:Math.max(oe.cx-oe.r-Ve.left,0),r:Math.max(Ve.right-(oe.cx+oe.r),0),b:Math.max(Ve.bottom-(oe.cy+oe.r),0),t:Math.max(oe.cy-oe.r-Ve.top,0),pad:5})}})});setTimeout(function(){Q.selectAll("tspan").each(function(){var ee=p.select(this);ee.attr("dy")&&ee.attr("dy",ee.attr("dy"))})},0)}function v(Y,W){Y.each(function(X){var re=p.select(this);if(!X.labelExtraX&&!X.labelExtraY){re.select("path.textline").remove();return}var se=re.select("g.slicetext text");X.transform.targetX+=X.labelExtraX,X.transform.targetY+=X.labelExtraY,h.setTransormAndDisplay(se,X.transform);var Q=X.cxFinal+X.pxmid[0],ee=X.cyFinal+X.pxmid[1],le="M"+Q+","+ee,oe=(X.yLabelMax-X.yLabelMin)*(X.pxmid[0]<0?-1:1)/4;if(X.labelExtraX){var he=X.labelExtraX*X.pxmid[1]/X.pxmid[0],xe=X.yLabelMid+X.labelExtraY-(X.cyFinal+X.pxmid[1]);Math.abs(he)>Math.abs(xe)?le+="l"+xe*X.pxmid[0]/X.pxmid[1]+","+xe+"H"+(Q+X.labelExtraX+oe):le+="l"+X.labelExtraX+","+he+"v"+(xe-he)+"h"+oe}else le+="V"+(X.yLabelMid+X.labelExtraY)+"h"+oe;h.ensureSingle(re,"path","textline").call(C.stroke,W.outsidetextfont.color).attr({"stroke-width":Math.min(2,W.outsidetextfont.size/8),d:le,fill:"none"})})}function o(Y,W,X){var re=X[0],se=re.cx,Q=re.cy,ee=re.trace,le=ee.type==="funnelarea";"_hasHoverLabel"in ee||(ee._hasHoverLabel=!1),"_hasHoverEvent"in ee||(ee._hasHoverEvent=!1),Y.on("mouseover",function(oe){var he=W._fullLayout,xe=W._fullData[ee.index];if(!(W._dragging||he.hovermode===!1)){var Ae=xe.hoverinfo;if(Array.isArray(Ae)&&(Ae=n.castHoverinfo({hoverinfo:[u.castOption(Ae,oe.pts)],_module:ee._module},he,0)),Ae==="all"&&(Ae="label+text+value+percent+name"),xe.hovertemplate||Ae!=="none"&&Ae!=="skip"&&Ae){var Se=oe.rInscribed||0,Oe=se+oe.pxmid[0]*(1-Se),Ve=Q+oe.pxmid[1]*(1-Se),Ee=he.separators,Te=[];if(Ae&&Ae.indexOf("label")!==-1&&Te.push(oe.label),oe.text=u.castOption(xe.hovertext||xe.text,oe.pts),Ae&&Ae.indexOf("text")!==-1){var Le=oe.text;h.isValidTextValue(Le)&&Te.push(Le)}oe.value=oe.v,oe.valueLabel=u.formatPieValue(oe.v,Ee),Ae&&Ae.indexOf("value")!==-1&&Te.push(oe.valueLabel),oe.percent=oe.v/re.vTotal,oe.percentLabel=u.formatPiePercent(oe.percent,Ee),Ae&&Ae.indexOf("percent")!==-1&&Te.push(oe.percentLabel);var Ge=xe.hoverlabel,He=Ge.font,ke=[];n.loneHover({trace:ee,x0:Oe-Se*re.r,x1:Oe+Se*re.r,y:Ve,_x0:le?se+oe.TL[0]:Oe-Se*re.r,_x1:le?se+oe.TR[0]:Oe+Se*re.r,_y0:le?Q+oe.TL[1]:Ve-Se*re.r,_y1:le?Q+oe.BL[1]:Ve+Se*re.r,text:Te.join("<br>"),name:xe.hovertemplate||Ae.indexOf("name")!==-1?xe.name:void 0,idealAlign:oe.pxmid[0]<0?"left":"right",color:u.castOption(Ge.bgcolor,oe.pts)||oe.color,borderColor:u.castOption(Ge.bordercolor,oe.pts),fontFamily:u.castOption(He.family,oe.pts),fontSize:u.castOption(He.size,oe.pts),fontColor:u.castOption(He.color,oe.pts),nameLength:u.castOption(Ge.namelength,oe.pts),textAlign:u.castOption(Ge.align,oe.pts),hovertemplate:u.castOption(xe.hovertemplate,oe.pts),hovertemplateLabels:oe,eventData:[b(oe,xe)]},{container:he._hoverlayer.node(),outerContainer:he._paper.node(),gd:W,inOut_bbox:ke}),oe.bbox=ke[0],ee._hasHoverLabel=!0}ee._hasHoverEvent=!0,W.emit("plotly_hover",{points:[b(oe,xe)],event:p.event})}}),Y.on("mouseout",function(oe){var he=W._fullLayout,xe=W._fullData[ee.index],Ae=p.select(this).datum();ee._hasHoverEvent&&(oe.originalEvent=p.event,W.emit("plotly_unhover",{points:[b(Ae,xe)],event:p.event}),ee._hasHoverEvent=!1),ee._hasHoverLabel&&(n.loneUnhover(he._hoverlayer.node()),ee._hasHoverLabel=!1)}),Y.on("click",function(oe){var he=W._fullLayout,xe=W._fullData[ee.index];W._dragging||he.hovermode===!1||(W._hoverdata=[b(oe,xe)],n.click(W,p.event))})}function d(Y,W,X){var re=u.castOption(Y.outsidetextfont.color,W.pts)||u.castOption(Y.textfont.color,W.pts)||X.color,se=u.castOption(Y.outsidetextfont.family,W.pts)||u.castOption(Y.textfont.family,W.pts)||X.family,Q=u.castOption(Y.outsidetextfont.size,W.pts)||u.castOption(Y.textfont.size,W.pts)||X.size;return{color:re,family:se,size:Q}}function S(Y,W,X){var re=u.castOption(Y.insidetextfont.color,W.pts);!re&&Y._input.textfont&&(re=u.castOption(Y._input.textfont.color,W.pts));var se=u.castOption(Y.insidetextfont.family,W.pts)||u.castOption(Y.textfont.family,W.pts)||X.family,Q=u.castOption(Y.insidetextfont.size,W.pts)||u.castOption(Y.textfont.size,W.pts)||X.size;return{color:re||C.contrast(W.color),family:se,size:Q}}function M(Y,W){for(var X,re,se=0;se<Y.length;se++)if(X=Y[se][0],re=X.trace,re.title.text){var Q=re.title.text;re._meta&&(Q=h.templateString(Q,re._meta));var ee=y.tester.append("text").attr("data-notex",1).text(Q).call(y.font,re.title.font).call(r.convertToTspans,W),le=y.bBox(ee.node(),!0);X.titleBox={width:le.width,height:le.height},ee.remove()}}function P(Y,W,X){var re=X.r||W.rpx1,se=W.rInscribed,Q=W.startangle===W.stopangle;if(Q)return{rCenter:1-se,scale:0,rotate:0,textPosAngle:0};var ee=W.ring,le=ee===1&&Math.abs(W.startangle-W.stopangle)===Math.PI*2,oe=W.halfangle,he=W.midangle,xe=X.trace.insidetextorientation,Ae=xe==="horizontal",Se=xe==="tangential",Oe=xe==="radial",Ve=xe==="auto",Ee=[],Te;if(!Ve){var Le=function(Qe,tt){if(x(W,Qe)){var vt=Math.abs(Qe-W.startangle),dt=Math.abs(Qe-W.stopangle),gt=vt<dt?vt:dt;tt==="tan"?Te=T(Y,re,ee,gt,0):Te=E(Y,re,ee,gt,Math.PI/2),Te.textPosAngle=Qe,Ee.push(Te)}},Ge;if(Ae||Se){for(Ge=4;Ge>=-4;Ge-=2)Le(Math.PI*Ge,"tan");for(Ge=4;Ge>=-4;Ge-=2)Le(Math.PI*(Ge+1),"tan")}if(Ae||Oe){for(Ge=4;Ge>=-4;Ge-=2)Le(Math.PI*(Ge+1.5),"rad");for(Ge=4;Ge>=-4;Ge-=2)Le(Math.PI*(Ge+.5),"rad")}}if(le||Ve||Ae){var He=Math.sqrt(Y.width*Y.width+Y.height*Y.height);if(Te={scale:se*re*2/He,rCenter:1-se,rotate:0},Te.textPosAngle=(W.startangle+W.stopangle)/2,Te.scale>=1)return Te;Ee.push(Te)}(Ve||Oe)&&(Te=E(Y,re,ee,oe,he),Te.textPosAngle=(W.startangle+W.stopangle)/2,Ee.push(Te)),(Ve||Se)&&(Te=T(Y,re,ee,oe,he),Te.textPosAngle=(W.startangle+W.stopangle)/2,Ee.push(Te));for(var ke=0,We=0,nt=0;nt<Ee.length;nt++){var qe=Ee[nt].scale;if(We<qe&&(We=qe,ke=nt),!Ve&&We>=1)break}return Ee[ke]}function x(Y,W){var X=Y.startangle,re=Y.stopangle;return X>W&&W>re||X<W&&W<re}function E(Y,W,X,re,se){W=Math.max(0,W-2*c);var Q=Y.width/Y.height,ee=A(Q,re,W,X);return{scale:ee*2/Y.height,rCenter:i(Q,ee/W),rotate:R(se)}}function T(Y,W,X,re,se){W=Math.max(0,W-2*c);var Q=Y.height/Y.width,ee=A(Q,re,W,X);return{scale:ee*2/Y.width,rCenter:i(Q,ee/W),rotate:R(se+Math.PI/2)}}function i(Y,W){return Math.cos(W)-Y*W}function R(Y){return(180/Math.PI*Y+720)%180-90}function A(Y,W,X,re){var se=Y+1/(2*Math.tan(W));return X*Math.min(1/(Math.sqrt(se*se+.5)+se),re/(Math.sqrt(Y*Y+re/2)+Y))}function k(Y,W){return Y.v===W.vTotal&&!W.trace.hole?1:Math.min(1/(1+1/Math.sin(Y.halfangle)),Y.ring/2)}function _(Y,W){var X=W.pxmid[0],re=W.pxmid[1],se=Y.width/2,Q=Y.height/2;return X<0&&(se*=-1),re<0&&(Q*=-1),{scale:1,rCenter:1,rotate:0,x:se+Math.abs(Q)*(se>0?1:-1)/2,y:Q/(1+X*X/(re*re)),outside:!0}}function H(Y){var W=Math.sqrt(Y.titleBox.width*Y.titleBox.width+Y.titleBox.height*Y.titleBox.height);return{x:Y.cx,y:Y.cy,scale:Y.trace.hole*Y.r*2/W,tx:0,ty:-Y.titleBox.height/2+Y.trace.title.font.size}}function z(Y,W){var X=1,re=1,se,Q=Y.trace,ee={x:Y.cx,y:Y.cy},le={tx:0,ty:0};le.ty+=Q.title.font.size,se=F(Q),Q.title.position.indexOf("top")!==-1?(ee.y-=(1+se)*Y.r,le.ty-=Y.titleBox.height):Q.title.position.indexOf("bottom")!==-1&&(ee.y+=(1+se)*Y.r);var oe=N(Y.r,Y.trace.aspectratio),he=W.w*(Q.domain.x[1]-Q.domain.x[0])/2;return Q.title.position.indexOf("left")!==-1?(he=he+oe,ee.x-=(1+se)*oe,le.tx+=Y.titleBox.width/2):Q.title.position.indexOf("center")!==-1?he*=2:Q.title.position.indexOf("right")!==-1&&(he=he+oe,ee.x+=(1+se)*oe,le.tx-=Y.titleBox.width/2),X=he/Y.titleBox.width,re=O(Y,W)/Y.titleBox.height,{x:ee.x,y:ee.y,scale:Math.min(X,re),tx:le.tx,ty:le.ty}}function N(Y,W){return Y/(W===void 0?1:W)}function O(Y,W){var X=Y.trace,re=W.h*(X.domain.y[1]-X.domain.y[0]);return Math.min(Y.titleBox.height,re/2)}function F(Y){var W=Y.pull;if(!W)return 0;var X;if(Array.isArray(W))for(W=0,X=0;X<Y.pull.length;X++)Y.pull[X]>W&&(W=Y.pull[X]);return W}function U(Y,W){var X,re,se,Q,ee,le,oe,he,xe,Ae,Se,Oe,Ve;function Ee(He,ke){return He.pxmid[1]-ke.pxmid[1]}function Te(He,ke){return ke.pxmid[1]-He.pxmid[1]}function Le(He,ke){ke||(ke={});var We=ke.labelExtraY+(re?ke.yLabelMax:ke.yLabelMin),nt=re?He.yLabelMin:He.yLabelMax,qe=re?He.yLabelMax:He.yLabelMin,Qe=He.cyFinal+ee(He.px0[1],He.px1[1]),tt=We-nt,vt,dt,gt,Mt,Rt,Wt;if(tt*oe>0&&(He.labelExtraY=tt),!!Array.isArray(W.pull))for(dt=0;dt<Ae.length;dt++)gt=Ae[dt],!(gt===He||(u.castOption(W.pull,He.pts)||0)>=(u.castOption(W.pull,gt.pts)||0))&&((He.pxmid[1]-gt.pxmid[1])*oe>0?(Mt=gt.cyFinal+ee(gt.px0[1],gt.px1[1]),tt=Mt-nt-He.labelExtraY,tt*oe>0&&(He.labelExtraY+=tt)):(qe+He.labelExtraY-Qe)*oe>0&&(vt=3*le*Math.abs(dt-Ae.indexOf(He)),Rt=gt.cxFinal+Q(gt.px0[0],gt.px1[0]),Wt=Rt+vt-(He.cxFinal+He.pxmid[0])-He.labelExtraX,Wt*le>0&&(He.labelExtraX+=Wt)))}for(re=0;re<2;re++)for(se=re?Ee:Te,ee=re?Math.max:Math.min,oe=re?1:-1,X=0;X<2;X++){for(Q=X?Math.max:Math.min,le=X?1:-1,he=Y[re][X],he.sort(se),xe=Y[1-re][X],Ae=xe.concat(he),Oe=[],Se=0;Se<he.length;Se++)he[Se].yLabelMid!==void 0&&Oe.push(he[Se]);for(Ve=!1,Se=0;re&&Se<xe.length;Se++)if(xe[Se].yLabelMid!==void 0){Ve=xe[Se];break}for(Se=0;Se<Oe.length;Se++){var Ge=Se&&Oe[Se-1];Ve&&!Se&&(Ge=Ve),Le(Oe[Se],Ge)}}}function Z(Y,W){for(var X=[],re=0;re<Y.length;re++){var se=Y[re][0],Q=se.trace,ee=Q.domain,le=W.w*(ee.x[1]-ee.x[0]),oe=W.h*(ee.y[1]-ee.y[0]);Q.title.text&&Q.title.position!=="middle center"&&(oe-=O(se,W));var he=le/2,xe=oe/2;Q.type==="funnelarea"&&!Q.scalegroup&&(xe/=Q.aspectratio),se.r=Math.min(he,xe)/(1+F(Q)),se.cx=W.l+W.w*(Q.domain.x[1]+Q.domain.x[0])/2,se.cy=W.t+W.h*(1-Q.domain.y[0])-oe/2,Q.title.text&&Q.title.position.indexOf("bottom")!==-1&&(se.cy-=O(se,W)),Q.scalegroup&&X.indexOf(Q.scalegroup)===-1&&X.push(Q.scalegroup)}q(Y,X)}function q(Y,W){for(var X,re,se,Q=0;Q<W.length;Q++){var ee=1/0,le=W[Q];for(re=0;re<Y.length;re++)if(X=Y[re][0],se=X.trace,se.scalegroup===le){var oe;if(se.type==="pie")oe=X.r*X.r;else if(se.type==="funnelarea"){var he,xe;se.aspectratio>1?(he=X.r,xe=he/se.aspectratio):(xe=X.r,he=xe*se.aspectratio),he*=(1+se.baseratio)/2,oe=he*xe}ee=Math.min(ee,oe/X.vTotal)}for(re=0;re<Y.length;re++)if(X=Y[re][0],se=X.trace,se.scalegroup===le){var Ae=ee*X.vTotal;se.type==="funnelarea"&&(Ae/=(1+se.baseratio)/2,Ae/=se.aspectratio),X.r=Math.sqrt(Ae)}}}function J(Y){var W=Y[0],X=W.r,re=W.trace,se=u.getRotationAngle(re.rotation),Q=2*Math.PI/W.vTotal,ee="px0",le="px1",oe,he,xe;if(re.direction==="counterclockwise"){for(oe=0;oe<Y.length&&Y[oe].hidden;oe++);if(oe===Y.length)return;se+=Q*Y[oe].v,Q*=-1,ee="px1",le="px0"}for(xe=te(X,se),oe=0;oe<Y.length;oe++)he=Y[oe],!he.hidden&&(he[ee]=xe,he.startangle=se,se+=Q*he.v/2,he.pxmid=te(X,se),he.midangle=se,se+=Q*he.v/2,xe=te(X,se),he.stopangle=se,he[le]=xe,he.largeArc=he.v>W.vTotal/2?1:0,he.halfangle=Math.PI*Math.min(he.v/W.vTotal,.5),he.ring=1-re.hole,he.rInscribed=k(he,W))}function te(Y,W){return[Y*Math.sin(W),-Y*Math.cos(W)]}function fe(Y,W,X){var re=Y._fullLayout,se=X.trace,Q=se.texttemplate,ee=se.textinfo;if(!Q&&ee&&ee!=="none"){var le=ee.split("+"),oe=function(ke){return le.indexOf(ke)!==-1},he=oe("label"),xe=oe("text"),Ae=oe("value"),Se=oe("percent"),Oe=re.separators,Ve;if(Ve=he?[W.label]:[],xe){var Ee=u.getFirstFilled(se.text,W.pts);f(Ee)&&Ve.push(Ee)}Ae&&Ve.push(u.formatPieValue(W.v,Oe)),Se&&Ve.push(u.formatPiePercent(W.v/X.vTotal,Oe)),W.text=Ve.join("<br>")}function Te(ke){return{label:ke.label,value:ke.v,valueLabel:u.formatPieValue(ke.v,re.separators),percent:ke.v/X.vTotal,percentLabel:u.formatPiePercent(ke.v/X.vTotal,re.separators),color:ke.color,text:ke.text,customdata:h.castOption(se,ke.i,"customdata")}}if(Q){var Le=h.castOption(se,W.i,"texttemplate");if(!Le)W.text="";else{var Ge=Te(W),He=u.getFirstFilled(se.text,W.pts);(f(He)||He==="")&&(Ge.text=He),W.text=h.texttemplateString(Le,Ge,Y._fullLayout._d3locale,Ge,se._meta||{})}}}function K(Y,W){var X=Y.rotate*Math.PI/180,re=Math.cos(X),se=Math.sin(X),Q=(W.left+W.right)/2,ee=(W.top+W.bottom)/2;Y.textX=Q*re-ee*se,Y.textY=Q*se+ee*re,Y.noCenter=!0}V.exports={plot:w,formatSliceLabel:fe,transformInsideText:P,determineInsideTextFont:S,positionTitleOutside:z,prerenderTitles:M,layoutAreas:Z,attachFxHandlers:o,computeTransform:K}},68357:function(V,B,e){var p=e(39898),L=e(63463),n=e(72597).resizeText;V.exports=function(y){var h=y._fullLayout._pielayer.selectAll(".trace");n(y,h,"pie"),h.each(function(g){var t=g[0],r=t.trace,l=p.select(this);l.style({opacity:r.opacity}),l.selectAll("path.surface").each(function(a){p.select(this).call(L,a,r,y)})})}},63463:function(V,B,e){var p=e(7901),L=e(53581).castOption,n=e(22209);V.exports=function(y,h,g,t){var r=g.marker.line,l=L(r.color,h.pts)||p.defaultLine,a=L(r.width,h.pts)||0;y.call(n,h,g,t).style("stroke-width",a).call(p.stroke,l)}},10959:function(V,B,e){var p=e(82196);V.exports={x:p.x,y:p.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:p.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(V,B,e){var p=e(9330).gl_pointcloud2d,L=e(78614),n=e(71739).findExtremes,C=e(34603);function y(t,r){this.scene=t,this.uid=r,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=p(t.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var h=y.prototype;h.handlePick=function(t){var r=this.idToIndex[t.pointId];return{trace:this,dataCoord:t.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[r*2],this.pickXYData[r*2+1]]:[this.pickXData[r],this.pickYData[r]],textLabel:Array.isArray(this.textLabels)?this.textLabels[r]:this.textLabels,color:this.color,name:this.name,pointIndex:r,hoverinfo:this.hoverinfo}},h.update=function(t){this.index=t.index,this.textLabels=t.text,this.name=t.name,this.hoverinfo=t.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(t),this.color=C(t,{})},h.updateFast=function(t){var r=this.xData=this.pickXData=t.x,l=this.yData=this.pickYData=t.y,a=this.pickXYData=t.xy,s=t.xbounds&&t.ybounds,c=t.indices,u,b,f,w=this.bounds,v,o,d;if(a){if(f=a,u=a.length>>>1,s)w[0]=t.xbounds[0],w[2]=t.xbounds[1],w[1]=t.ybounds[0],w[3]=t.ybounds[1];else for(d=0;d<u;d++)v=f[d*2],o=f[d*2+1],v<w[0]&&(w[0]=v),v>w[2]&&(w[2]=v),o<w[1]&&(w[1]=o),o>w[3]&&(w[3]=o);if(c)b=c;else for(b=new Int32Array(u),d=0;d<u;d++)b[d]=d}else for(u=r.length,f=new Float32Array(2*u),b=new Int32Array(u),d=0;d<u;d++)v=r[d],o=l[d],b[d]=d,f[d*2]=v,f[d*2+1]=o,v<w[0]&&(w[0]=v),v>w[2]&&(w[2]=v),o<w[1]&&(w[1]=o),o>w[3]&&(w[3]=o);this.idToIndex=b,this.pointcloudOptions.idToIndex=b,this.pointcloudOptions.positions=f;var S=L(t.marker.color),M=L(t.marker.border.color),P=t.opacity*t.marker.opacity;S[3]*=P,this.pointcloudOptions.color=S;var x=t.marker.blend;if(x===null){var E=100;x=r.length<E||l.length<E}this.pointcloudOptions.blend=x,M[3]*=P,this.pointcloudOptions.borderColor=M;var T=t.marker.sizemin,i=Math.max(t.marker.sizemax,t.marker.sizemin);this.pointcloudOptions.sizeMin=T,this.pointcloudOptions.sizeMax=i,this.pointcloudOptions.areaRatio=t.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var R=this.scene.xaxis,A=this.scene.yaxis,k=i/2||.5;t._extremes[R._id]=n(R,[w[0],w[2]],{ppad:k}),t._extremes[A._id]=n(A,[w[1],w[3]],{ppad:k})},h.dispose=function(){this.pointcloud.dispose()};function g(t,r){var l=new y(t,r.uid);return l.update(r),l}V.exports=g},33876:function(V,B,e){var p=e(71828),L=e(10959);V.exports=function(C,y,h){function g(t,r){return p.coerce(C,y,L,t,r)}g("x"),g("y"),g("xbounds"),g("ybounds"),C.xy&&C.xy instanceof Float32Array&&(y.xy=C.xy),C.indices&&C.indices instanceof Int32Array&&(y.indices=C.indices),g("text"),g("marker.color",h),g("marker.opacity"),g("marker.blend"),g("marker.sizemin"),g("marker.sizemax"),g("marker.border.color",h),g("marker.border.arearatio"),y._length=null}},20593:function(V,B,e){V.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(V,B,e){var p=e(41940),L=e(9012),n=e(22399),C=e(77914),y=e(27670).Y,h=e(5386).fF,g=e(50693),t=e(44467).templatedArray,r=e(12663).descriptionOnlyNumbers,l=e(1426).extendFlat,a=e(30962).overrideAll,s=V.exports=a({hoverinfo:l({},L.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:C.hoverlabel,domain:y({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:r("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:p({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:h({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:n.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:C.hoverlabel,hovertemplate:h({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:l(g().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested");s.transforms=void 0},75536:function(V,B,e){var p=e(30962).overrideAll,L=e(27659).a0,n=e(60436),C=e(528),y=e(6964),h=e(28569),g=e(47322).prepSelect,t=e(71828),r=e(73972),l="sankey";B.name=l,B.baseLayoutAttrOverrides=p({hoverlabel:C.hoverlabel},"plot","nested"),B.plot=function(s){var c=L(s.calcdata,l)[0];n(s,c),B.updateFx(s)},B.clean=function(s,c,u,b){var f=b._has&&b._has(l),w=c._has&&c._has(l);f&&!w&&(b._paperdiv.selectAll(".sankey").remove(),b._paperdiv.selectAll(".bgsankey").remove())},B.updateFx=function(s){for(var c=0;c<s._fullData.length;c++)a(s,c)};function a(s,c){var u=s._fullData[c],b=s._fullLayout,f=b.dragmode,w=b.dragmode==="pan"?"move":"crosshair",v=u._bgRect;if(v&&!(f==="pan"||f==="zoom")){y(v,w);var o={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},d={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},S={gd:s,element:v.node(),plotinfo:{id:c,xaxis:o,yaxis:d,fillRangeItems:t.noop},subplot:c,xaxes:[o],yaxes:[d],doneFnCompleted:function(M){var P=s._fullData[c],x,E=P.node.groups.slice(),T=[];function i(_){for(var H=P._sankey.graph.nodes,z=0;z<H.length;z++)if(H[z].pointNumber===_)return H[z]}for(var R=0;R<M.length;R++){var A=i(M[R].pointNumber);if(A)if(A.group){for(var k=0;k<A.childrenNodes.length;k++)T.push(A.childrenNodes[k].pointNumber);E[A.pointNumber-P.node._count]=!1}else T.push(A.pointNumber)}x=E.filter(Boolean).concat([T]),r.call("_guiRestyle",s,{"node.groups":[x]},c)}};S.prepFn=function(M,P,x){g(M,P,x,S,f)},h.init(S)}}},92930:function(V,B,e){var p=e(68664),L=e(71828),n=e(28984).wrap,C=L.isArrayOrTypedArray,y=L.isIndex,h=e(21081);function g(r){var l=r.node,a=r.link,s=[],c=C(a.color),u=C(a.customdata),b={},f={},w=a.colorscales.length,v;for(v=0;v<w;v++){var o=a.colorscales[v],d=h.extractScale(o,{cLetter:"c"}),S=h.makeColorScaleFunc(d);f[o.label]=S}var M=0;for(v=0;v<a.value.length;v++)a.source[v]>M&&(M=a.source[v]),a.target[v]>M&&(M=a.target[v]);var P=M+1;r.node._count=P;var x,E=r.node.groups,T={};for(v=0;v<E.length;v++){var i=E[v];for(x=0;x<i.length;x++){var R=i[x],A=P+v;T.hasOwnProperty(R)?L.warn("Node "+R+" is already part of a group."):T[R]=A}}var k={source:[],target:[]};for(v=0;v<a.value.length;v++){var _=a.value[v],H=a.source[v],z=a.target[v];if(_>0&&y(H,P)&&y(z,P)&&!(T.hasOwnProperty(H)&&T.hasOwnProperty(z)&&T[H]===T[z])){T.hasOwnProperty(z)&&(z=T[z]),T.hasOwnProperty(H)&&(H=T[H]),H=+H,z=+z,b[H]=b[z]=!0;var N="";a.label&&a.label[v]&&(N=a.label[v]);var O=null;N&&f.hasOwnProperty(N)&&(O=f[N]),s.push({pointNumber:v,label:N,color:c?a.color[v]:a.color,customdata:u?a.customdata[v]:a.customdata,concentrationscale:O,source:H,target:z,value:+_}),k.source.push(H),k.target.push(z)}}var F=P+E.length,U=C(l.color),Z=C(l.customdata),q=[];for(v=0;v<F;v++)if(b[v]){var J=l.label[v];q.push({group:v>P-1,childrenNodes:[],pointNumber:v,label:J,color:U?l.color[v]:l.color,customdata:Z?l.customdata[v]:l.customdata})}var te=!1;return t(F,k.source,k.target)&&(te=!0),{circular:te,links:s,nodes:q,groups:E,groupLookup:T}}function t(r,l,a){for(var s=L.init2dArray(r,0),c=0;c<Math.min(l.length,a.length);c++)if(L.isIndex(l[c],r)&&L.isIndex(a[c],r)){if(l[c]===a[c])return!0;s[l[c]].push(a[c])}var u=p(s);return u.components.some(function(b){return b.length>1})}V.exports=function(l,a){var s=g(a);return n({circular:s.circular,_nodes:s.nodes,_links:s.links,_groups:s.groups,_groupLookup:s.groupLookup})}},85247:function(V){V.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(V,B,e){var p=e(71828),L=e(39953),n=e(7901),C=e(84267),y=e(27670).c,h=e(38048),g=e(44467),t=e(85501);V.exports=function(a,s,c,u){function b(i,R){return p.coerce(a,s,L,i,R)}var f=p.extendDeep(u.hoverlabel,a.hoverlabel),w=a.node,v=g.newContainer(s,"node");function o(i,R){return p.coerce(w,v,L.node,i,R)}o("label"),o("groups"),o("x"),o("y"),o("pad"),o("thickness"),o("line.color"),o("line.width"),o("hoverinfo",a.hoverinfo),h(w,v,o,f),o("hovertemplate");var d=u.colorway,S=function(i){return d[i%d.length]};o("color",v.label.map(function(i,R){return n.addOpacity(S(R),.8)})),o("customdata");var M=a.link||{},P=g.newContainer(s,"link");function x(i,R){return p.coerce(M,P,L.link,i,R)}x("label"),x("arrowlen"),x("source"),x("target"),x("value"),x("line.color"),x("line.width"),x("hoverinfo",a.hoverinfo),h(M,P,x,f),x("hovertemplate");var E=C(u.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";x("color",p.repeat(E,P.value.length)),x("customdata"),t(M,P,{name:"colorscales",handleItemDefaults:r}),y(s,u,b),b("orientation"),b("valueformat"),b("valuesuffix");var T;v.x.length&&v.y.length&&(T="freeform"),b("arrangement",T),p.coerceFont(b,"textfont",p.extendFlat({},u.font)),s._length=null};function r(l,a){function s(c,u){return p.coerce(l,a,L.link.colorscales,c,u)}s("label"),s("cmin"),s("cmax"),s("colorscale")}},29396:function(V,B,e){V.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(V,B,e){var p=e(39898),L=e(71828),n=L.numberFormat,C=e(3393),y=e(30211),h=e(7901),g=e(85247).cn,t=L._;function r(d){return d!==""}function l(d,S){return d.filter(function(M){return M.key===S.traceId})}function a(d,S){p.select(d).select("path").style("fill-opacity",S),p.select(d).select("rect").style("fill-opacity",S)}function s(d){p.select(d).select("text.name").style("fill","black")}function c(d){return function(S){return d.node.sourceLinks.indexOf(S.link)!==-1||d.node.targetLinks.indexOf(S.link)!==-1}}function u(d){return function(S){return S.node.sourceLinks.indexOf(d.link)!==-1||S.node.targetLinks.indexOf(d.link)!==-1}}function b(d,S,M){S&&M&&l(M,S).selectAll("."+g.sankeyLink).filter(c(S)).call(w.bind(0,S,M,!1))}function f(d,S,M){S&&M&&l(M,S).selectAll("."+g.sankeyLink).filter(c(S)).call(v.bind(0,S,M,!1))}function w(d,S,M,P){var x=P.datum().link.label;P.style("fill-opacity",function(E){if(!E.link.concentrationscale)return .4}),x&&l(S,d).selectAll("."+g.sankeyLink).filter(function(E){return E.link.label===x}).style("fill-opacity",function(E){if(!E.link.concentrationscale)return .4}),M&&l(S,d).selectAll("."+g.sankeyNode).filter(u(d)).call(b)}function v(d,S,M,P){var x=P.datum().link.label;P.style("fill-opacity",function(E){return E.tinyColorAlpha}),x&&l(S,d).selectAll("."+g.sankeyLink).filter(function(E){return E.link.label===x}).style("fill-opacity",function(E){return E.tinyColorAlpha}),M&&l(S,d).selectAll(g.sankeyNode).filter(u(d)).call(f)}function o(d,S){var M=d.hoverlabel||{},P=L.nestedProperty(M,S).get();return Array.isArray(P)?!1:P}V.exports=function(S,M){for(var P=S._fullLayout,x=P._paper,E=P._size,T=0;T<S._fullData.length;T++)if(S._fullData[T].visible&&S._fullData[T].type===g.sankey&&!S._fullData[T]._viewInitial){var i=S._fullData[T].node;S._fullData[T]._viewInitial={node:{groups:i.groups.slice(),x:i.x.slice(),y:i.y.slice()}}}var R=function(te,fe){var K=fe.link;K.originalEvent=p.event,S._hoverdata=[K],y.click(S,{target:!0})},A=function(te,fe,K){S._fullLayout.hovermode!==!1&&(p.select(te).call(w.bind(0,fe,K,!0)),fe.link.trace.link.hoverinfo!=="skip"&&(fe.link.fullData=fe.link.trace,S.emit("plotly_hover",{event:p.event,points:[fe.link]})))},k=t(S,"source:")+" ",_=t(S,"target:")+" ",H=t(S,"concentration:")+" ",z=t(S,"incoming flow count:")+" ",N=t(S,"outgoing flow count:")+" ",O=function(te,fe){if(S._fullLayout.hovermode===!1)return;var K=fe.link.trace.link;if(K.hoverinfo==="none"||K.hoverinfo==="skip")return;var Y=[];function W(oe){var he,xe;oe.circular?(he=(oe.circularPathData.leftInnerExtent+oe.circularPathData.rightInnerExtent)/2,xe=oe.circularPathData.verticalFullExtent):(he=(oe.source.x1+oe.target.x0)/2,xe=(oe.y0+oe.y1)/2);var Ae=[he,xe];return oe.trace.orientation==="v"&&Ae.reverse(),Ae[0]+=fe.parent.translateX,Ae[1]+=fe.parent.translateY,Ae}for(var X=0,re=0;re<fe.flow.links.length;re++){var se=fe.flow.links[re];if(!(S._fullLayout.hovermode==="closest"&&fe.link.pointNumber!==se.pointNumber)){fe.link.pointNumber===se.pointNumber&&(X=re),se.fullData=se.trace,K=fe.link.trace.link;var Q=W(se),ee={valueLabel:n(fe.valueFormat)(se.value)+fe.valueSuffix};Y.push({x:Q[0],y:Q[1],name:ee.valueLabel,text:[se.label||"",k+se.source.label,_+se.target.label,se.concentrationscale?H+n("%0.2f")(se.flow.labelConcentration):""].filter(r).join("<br>"),color:o(K,"bgcolor")||h.addOpacity(se.color,1),borderColor:o(K,"bordercolor"),fontFamily:o(K,"font.family"),fontSize:o(K,"font.size"),fontColor:o(K,"font.color"),nameLength:o(K,"namelength"),textAlign:o(K,"align"),idealAlign:p.event.x<Q[0]?"right":"left",hovertemplate:K.hovertemplate,hovertemplateLabels:ee,eventData:[se]})}}var le=y.loneHover(Y,{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:S,anchorIndex:X});le.each(function(){var oe=this;fe.link.concentrationscale||a(oe,.65),s(oe)})},F=function(te,fe,K){S._fullLayout.hovermode!==!1&&(p.select(te).call(v.bind(0,fe,K,!0)),fe.link.trace.link.hoverinfo!=="skip"&&(fe.link.fullData=fe.link.trace,S.emit("plotly_unhover",{event:p.event,points:[fe.link]})),y.loneUnhover(P._hoverlayer.node()))},U=function(te,fe,K){var Y=fe.node;Y.originalEvent=p.event,S._hoverdata=[Y],p.select(te).call(f,fe,K),y.click(S,{target:!0})},Z=function(te,fe,K){S._fullLayout.hovermode!==!1&&(p.select(te).call(b,fe,K),fe.node.trace.node.hoverinfo!=="skip"&&(fe.node.fullData=fe.node.trace,S.emit("plotly_hover",{event:p.event,points:[fe.node]})))},q=function(te,fe){if(S._fullLayout.hovermode!==!1){var K=fe.node.trace.node;if(!(K.hoverinfo==="none"||K.hoverinfo==="skip")){var Y=p.select(te).select("."+g.nodeRect),W=S._fullLayout._paperdiv.node().getBoundingClientRect(),X=Y.node().getBoundingClientRect(),re=X.left-2-W.left,se=X.right+2-W.left,Q=X.top+X.height/4-W.top,ee={valueLabel:n(fe.valueFormat)(fe.node.value)+fe.valueSuffix};fe.node.fullData=fe.node.trace,S._fullLayout._calcInverseTransform(S);var le=S._fullLayout._invScaleX,oe=S._fullLayout._invScaleY,he=y.loneHover({x0:le*re,x1:le*se,y:oe*Q,name:n(fe.valueFormat)(fe.node.value)+fe.valueSuffix,text:[fe.node.label,z+fe.node.targetLinks.length,N+fe.node.sourceLinks.length].filter(r).join("<br>"),color:o(K,"bgcolor")||fe.tinyColorHue,borderColor:o(K,"bordercolor"),fontFamily:o(K,"font.family"),fontSize:o(K,"font.size"),fontColor:o(K,"font.color"),nameLength:o(K,"namelength"),textAlign:o(K,"align"),idealAlign:"left",hovertemplate:K.hovertemplate,hovertemplateLabels:ee,eventData:[fe.node]},{container:P._hoverlayer.node(),outerContainer:P._paper.node(),gd:S});a(he,.85),s(he)}}},J=function(te,fe,K){S._fullLayout.hovermode!==!1&&(p.select(te).call(f,fe,K),fe.node.trace.node.hoverinfo!=="skip"&&(fe.node.fullData=fe.node.trace,S.emit("plotly_unhover",{event:p.event,points:[fe.node]})),y.loneUnhover(P._hoverlayer.node()))};C(S,x,M,{width:E.w,height:E.h,margin:{t:E.t,r:E.r,b:E.b,l:E.l}},{linkEvents:{hover:A,follow:O,unhover:F,select:R},nodeEvents:{hover:Z,follow:q,unhover:J,select:U}})}},3393:function(V,B,e){var p=e(49887),L=e(81684).k4,n=e(39898),C=e(30838),y=e(86781),h=e(85247),g=e(84267),t=e(7901),r=e(91424),l=e(71828),a=l.strTranslate,s=l.strRotate,c=e(28984),u=c.keyFun,b=c.repeat,f=c.unwrap,w=e(63893),v=e(73972),o=e(18783),d=o.CAP_SHIFT,S=o.LINE_SPACING,M=3;function P(W,X,re){var se=f(X),Q=se.trace,ee=Q.domain,le=Q.orientation==="h",oe=Q.node.pad,he=Q.node.thickness,xe=W.width*(ee.x[1]-ee.x[0]),Ae=W.height*(ee.y[1]-ee.y[0]),Se=se._nodes,Oe=se._links,Ve=se.circular,Ee;Ve?Ee=y.sankeyCircular().circularLinkGap(0):Ee=C.sankey(),Ee.iterations(h.sankeyIterations).size(le?[xe,Ae]:[Ae,xe]).nodeWidth(he).nodePadding(oe).nodeId(function(Rt){return Rt.pointNumber}).nodes(Se).links(Oe);var Te=Ee();Ee.nodePadding()<oe&&l.warn("node.pad was reduced to ",Ee.nodePadding()," to fit within the figure.");var Le,Ge,He;for(var ke in se._groupLookup){var We=parseInt(se._groupLookup[ke]),nt;for(Le=0;Le<Te.nodes.length;Le++)if(Te.nodes[Le].pointNumber===We){nt=Te.nodes[Le];break}if(nt){var qe={pointNumber:parseInt(ke),x0:nt.x0,x1:nt.x1,y0:nt.y0,y1:nt.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Te.nodes.unshift(qe),nt.childrenNodes.unshift(qe)}}function Qe(){for(Le=0;Le<Te.nodes.length;Le++){var Rt=Te.nodes[Le],Wt={},je,_e;for(Ge=0;Ge<Rt.targetLinks.length;Ge++)_e=Rt.targetLinks[Ge],je=_e.source.pointNumber+":"+_e.target.pointNumber,Wt.hasOwnProperty(je)||(Wt[je]=[]),Wt[je].push(_e);var Fe=Object.keys(Wt);for(Ge=0;Ge<Fe.length;Ge++){je=Fe[Ge];var Be=Wt[je],De=0,we={};for(He=0;He<Be.length;He++)_e=Be[He],we[_e.label]||(we[_e.label]=0),we[_e.label]+=_e.value,De+=_e.value;for(He=0;He<Be.length;He++)_e=Be[He],_e.flow={value:De,labelConcentration:we[_e.label]/De,concentration:_e.value/De,links:Be},_e.concentrationscale&&(_e.color=g(_e.concentrationscale(_e.flow.labelConcentration)))}var ue=0;for(Ge=0;Ge<Rt.sourceLinks.length;Ge++)ue+=Rt.sourceLinks[Ge].value;for(Ge=0;Ge<Rt.sourceLinks.length;Ge++)_e=Rt.sourceLinks[Ge],_e.concentrationOut=_e.value/ue;var me=0;for(Ge=0;Ge<Rt.targetLinks.length;Ge++)me+=Rt.targetLinks[Ge].value;for(Ge=0;Ge<Rt.targetLinks.length;Ge++)_e=Rt.targetLinks[Ge],_e.concenrationIn=_e.value/me}}Qe();function tt(Rt){Rt.forEach(function(Wt){var je,_e,Fe=0,Be=Wt.length,De;for(Wt.sort(function(we,ue){return we.y0-ue.y0}),De=0;De<Be;++De)je=Wt[De],je.y0>=Fe||(_e=Fe-je.y0,_e>1e-6&&(je.y0+=_e,je.y1+=_e)),Fe=je.y1+oe})}function vt(Rt){var Wt=Rt.map(function(ue,me){return{x0:ue.x0,index:me}}).sort(function(ue,me){return ue.x0-me.x0}),je=[],_e=-1,Fe,Be=-1/0,De;for(Le=0;Le<Wt.length;Le++){var we=Rt[Wt[Le].index];we.x0>Be+he&&(_e+=1,Fe=we.x0),Be=we.x0,je[_e]||(je[_e]=[]),je[_e].push(we),De=Fe-we.x0,we.x0+=De,we.x1+=De}return je}if(Q.node.x.length&&Q.node.y.length){for(Le=0;Le<Math.min(Q.node.x.length,Q.node.y.length,Te.nodes.length);Le++)if(Q.node.x[Le]&&Q.node.y[Le]){var dt=[Q.node.x[Le]*xe,Q.node.y[Le]*Ae];Te.nodes[Le].x0=dt[0]-he/2,Te.nodes[Le].x1=dt[0]+he/2;var gt=Te.nodes[Le].y1-Te.nodes[Le].y0;Te.nodes[Le].y0=dt[1]-gt/2,Te.nodes[Le].y1=dt[1]+gt/2}if(Q.arrangement==="snap"){Se=Te.nodes;var Mt=vt(Se);tt(Mt)}Ee.update(Te)}return{circular:Ve,key:re,trace:Q,guid:l.randstr(),horizontal:le,width:xe,height:Ae,nodePad:Q.node.pad,nodeLineColor:Q.node.line.color,nodeLineWidth:Q.node.line.width,linkLineColor:Q.link.line.color,linkLineWidth:Q.link.line.width,linkArrowLength:Q.link.arrowlen,valueFormat:Q.valueformat,valueSuffix:Q.valuesuffix,textFont:Q.textfont,translateX:ee.x[0]*W.width+W.margin.l,translateY:W.height-ee.y[1]*W.height+W.margin.t,dragParallel:le?Ae:xe,dragPerpendicular:le?xe:Ae,arrangement:Q.arrangement,sankey:Ee,graph:Te,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function x(W,X,re){var se=g(X.color),Q=X.source.label+"|"+X.target.label,ee=Q+"__"+re;return X.trace=W.trace,X.curveNumber=W.trace.index,{circular:W.circular,key:ee,traceId:W.key,pointNumber:X.pointNumber,link:X,tinyColorHue:t.tinyRGB(se),tinyColorAlpha:se.getAlpha(),linkPath:T,linkLineColor:W.linkLineColor,linkLineWidth:W.linkLineWidth,linkArrowLength:W.linkArrowLength,valueFormat:W.valueFormat,valueSuffix:W.valueSuffix,sankey:W.sankey,parent:W,interactionState:W.interactionState,flow:X.flow}}function E(W,X){var re="",se=W.width/2,Q=W.circularPathData;return W.circularLinkType==="top"?re="M "+(Q.targetX-X)+" "+(Q.targetY+se)+" L"+(Q.rightInnerExtent-X)+" "+(Q.targetY+se)+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightSmallArcRadius+se)+" 0 0 1 "+(Q.rightFullExtent-se-X)+" "+(Q.targetY-Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-se-X)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightLargeArcRadius+se)+" 0 0 1 "+(Q.rightInnerExtent-X)+" "+(Q.verticalFullExtent-se)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent-se)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftLargeArcRadius+se)+" 0 0 1 "+(Q.leftFullExtent+se)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+se)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftSmallArcRadius+se)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.sourceY+se)+"L"+Q.sourceX+" "+(Q.sourceY+se)+"L"+Q.sourceX+" "+(Q.sourceY-se)+"L"+Q.leftInnerExtent+" "+(Q.sourceY-se)+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftSmallArcRadius-se)+" 0 0 0 "+(Q.leftFullExtent-se)+" "+(Q.sourceY-Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-se)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftLargeArcRadius-se)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent+se)+"L"+(Q.rightInnerExtent-X)+" "+(Q.verticalFullExtent+se)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightLargeArcRadius-se)+" 0 0 0 "+(Q.rightFullExtent+se-X)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+se-X)+" "+(Q.targetY-Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightSmallArcRadius-se)+" 0 0 0 "+(Q.rightInnerExtent-X)+" "+(Q.targetY-se)+"L"+(Q.targetX-X)+" "+(Q.targetY-se)+(X>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z":re="M "+(Q.targetX-X)+" "+(Q.targetY-se)+" L"+(Q.rightInnerExtent-X)+" "+(Q.targetY-se)+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightSmallArcRadius+se)+" 0 0 0 "+(Q.rightFullExtent-se-X)+" "+(Q.targetY+Q.rightSmallArcRadius)+"L"+(Q.rightFullExtent-se-X)+" "+Q.verticalRightInnerExtent+"A"+(Q.rightLargeArcRadius+se)+" "+(Q.rightLargeArcRadius+se)+" 0 0 0 "+(Q.rightInnerExtent-X)+" "+(Q.verticalFullExtent+se)+"L"+Q.leftInnerExtent+" "+(Q.verticalFullExtent+se)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftLargeArcRadius+se)+" 0 0 0 "+(Q.leftFullExtent+se)+" "+Q.verticalLeftInnerExtent+"L"+(Q.leftFullExtent+se)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"A"+(Q.leftLargeArcRadius+se)+" "+(Q.leftSmallArcRadius+se)+" 0 0 0 "+Q.leftInnerExtent+" "+(Q.sourceY-se)+"L"+Q.sourceX+" "+(Q.sourceY-se)+"L"+Q.sourceX+" "+(Q.sourceY+se)+"L"+Q.leftInnerExtent+" "+(Q.sourceY+se)+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftSmallArcRadius-se)+" 0 0 1 "+(Q.leftFullExtent-se)+" "+(Q.sourceY+Q.leftSmallArcRadius)+"L"+(Q.leftFullExtent-se)+" "+Q.verticalLeftInnerExtent+"A"+(Q.leftLargeArcRadius-se)+" "+(Q.leftLargeArcRadius-se)+" 0 0 1 "+Q.leftInnerExtent+" "+(Q.verticalFullExtent-se)+"L"+(Q.rightInnerExtent-X)+" "+(Q.verticalFullExtent-se)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightLargeArcRadius-se)+" 0 0 1 "+(Q.rightFullExtent+se-X)+" "+Q.verticalRightInnerExtent+"L"+(Q.rightFullExtent+se-X)+" "+(Q.targetY+Q.rightSmallArcRadius)+"A"+(Q.rightLargeArcRadius-se)+" "+(Q.rightSmallArcRadius-se)+" 0 0 1 "+(Q.rightInnerExtent-X)+" "+(Q.targetY+se)+"L"+(Q.targetX-X)+" "+(Q.targetY+se)+(X>0?"L"+Q.targetX+" "+Q.targetY:"")+"Z",re}function T(){var W=.5;function X(re){var se=re.linkArrowLength;if(re.link.circular)return E(re.link,se);var Q=Math.abs((re.link.target.x0-re.link.source.x1)/2);se>Q&&(se=Q);var ee=re.link.source.x1,le=re.link.target.x0-se,oe=L(ee,le),he=oe(W),xe=oe(1-W),Ae=re.link.y0-re.link.width/2,Se=re.link.y0+re.link.width/2,Oe=re.link.y1-re.link.width/2,Ve=re.link.y1+re.link.width/2,Ee="M"+ee+","+Ae,Te="C"+he+","+Ae+" "+xe+","+Oe+" "+le+","+Oe,Le="C"+xe+","+Ve+" "+he+","+Se+" "+ee+","+Se,Ge=se>0?"L"+(le+se)+","+(Oe+re.link.width/2):"";return Ge+="L"+le+","+Ve,Ee+Te+Ge+Le+"Z"}return X}function i(W,X){var re=g(X.color),se=h.nodePadAcross,Q=W.nodePad/2;X.dx=X.x1-X.x0,X.dy=X.y1-X.y0;var ee=X.dx,le=Math.max(.5,X.dy),oe="node_"+X.pointNumber;return X.group&&(oe=l.randstr()),X.trace=W.trace,X.curveNumber=W.trace.index,{index:X.pointNumber,key:oe,partOfGroup:X.partOfGroup||!1,group:X.group,traceId:W.key,trace:W.trace,node:X,nodePad:W.nodePad,nodeLineColor:W.nodeLineColor,nodeLineWidth:W.nodeLineWidth,textFont:W.textFont,size:W.horizontal?W.height:W.width,visibleWidth:Math.ceil(ee),visibleHeight:le,zoneX:-se,zoneY:-Q,zoneWidth:ee+2*se,zoneHeight:le+2*Q,labelY:W.horizontal?X.dy/2+1:X.dx/2+1,left:X.originalLayer===1,sizeAcross:W.width,forceLayouts:W.forceLayouts,horizontal:W.horizontal,darkBackground:re.getBrightness()<=128,tinyColorHue:t.tinyRGB(re),tinyColorAlpha:re.getAlpha(),valueFormat:W.valueFormat,valueSuffix:W.valueSuffix,sankey:W.sankey,graph:W.graph,arrangement:W.arrangement,uniqueNodeLabelPathId:[W.guid,W.key,oe].join("_"),interactionState:W.interactionState,figure:W}}function R(W){W.attr("transform",function(X){return a(X.node.x0.toFixed(3),X.node.y0.toFixed(3))})}function A(W){W.call(R)}function k(W,X){W.call(A),X.attr("d",T())}function _(W){W.attr("width",function(X){return X.node.x1-X.node.x0}).attr("height",function(X){return X.visibleHeight})}function H(W){return W.link.width>1||W.linkLineWidth>0}function z(W){var X=a(W.translateX,W.translateY);return X+(W.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function N(W,X,re){W.on(".basic",null).on("mouseover.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(re.hover(this,se,X),se.interactionState.hovered=[this,se])}).on("mousemove.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(re.follow(this,se),se.interactionState.hovered=[this,se])}).on("mouseout.basic",function(se){!se.interactionState.dragInProgress&&!se.partOfGroup&&(re.unhover(this,se,X),se.interactionState.hovered=!1)}).on("click.basic",function(se){se.interactionState.hovered&&(re.unhover(this,se,X),se.interactionState.hovered=!1),!se.interactionState.dragInProgress&&!se.partOfGroup&&re.select(this,se,X)})}function O(W,X,re,se){var Q=n.behavior.drag().origin(function(ee){return{x:ee.node.x0+ee.visibleWidth/2,y:ee.node.y0+ee.visibleHeight/2}}).on("dragstart",function(ee){if(ee.arrangement!=="fixed"&&(l.ensureSingle(se._fullLayout._infolayer,"g","dragcover",function(oe){se._fullLayout._dragCover=oe}),l.raiseToTop(this),ee.interactionState.dragInProgress=ee.node,te(ee.node),ee.interactionState.hovered&&(re.nodeEvents.unhover.apply(0,ee.interactionState.hovered),ee.interactionState.hovered=!1),ee.arrangement==="snap")){var le=ee.traceId+"|"+ee.key;ee.forceLayouts[le]?ee.forceLayouts[le].alpha(1):F(W,le,ee),U(W,X,ee,le,se)}}).on("drag",function(ee){if(ee.arrangement!=="fixed"){var le=n.event.x,oe=n.event.y;ee.arrangement==="snap"?(ee.node.x0=le-ee.visibleWidth/2,ee.node.x1=le+ee.visibleWidth/2,ee.node.y0=oe-ee.visibleHeight/2,ee.node.y1=oe+ee.visibleHeight/2):(ee.arrangement==="freeform"&&(ee.node.x0=le-ee.visibleWidth/2,ee.node.x1=le+ee.visibleWidth/2),oe=Math.max(0,Math.min(ee.size-ee.visibleHeight/2,oe)),ee.node.y0=oe-ee.visibleHeight/2,ee.node.y1=oe+ee.visibleHeight/2),te(ee.node),ee.arrangement!=="snap"&&(ee.sankey.update(ee.graph),k(W.filter(fe(ee)),X))}}).on("dragend",function(ee){if(ee.arrangement!=="fixed"){ee.interactionState.dragInProgress=!1;for(var le=0;le<ee.node.childrenNodes.length;le++)ee.node.childrenNodes[le].x=ee.node.x,ee.node.childrenNodes[le].y=ee.node.y;ee.arrangement!=="snap"&&q(ee,se)}});W.on(".drag",null).call(Q)}function F(W,X,re,se){K(re.graph.nodes);var Q=re.graph.nodes.filter(function(ee){return ee.originalX===re.node.originalX}).filter(function(ee){return!ee.partOfGroup});re.forceLayouts[X]=p.forceSimulation(Q).alphaDecay(0).force("collide",p.forceCollide().radius(function(ee){return ee.dy/2+re.nodePad/2}).strength(1).iterations(h.forceIterations)).force("constrain",Z(W,X,Q,re)).stop()}function U(W,X,re,se,Q){window.requestAnimationFrame(function ee(){var le;for(le=0;le<h.forceTicksPerFrame;le++)re.forceLayouts[se].tick();var oe=re.graph.nodes;if(Y(oe),re.sankey.update(re.graph),k(W.filter(fe(re)),X),re.forceLayouts[se].alpha()>0)window.requestAnimationFrame(ee);else{var he=re.node.originalX;re.node.x0=he-re.visibleWidth/2,re.node.x1=he+re.visibleWidth/2,q(re,Q)}})}function Z(W,X,re,se){return function(){for(var ee=0,le=0;le<re.length;le++){var oe=re[le];oe===se.interactionState.dragInProgress?(oe.x=oe.lastDraggedX,oe.y=oe.lastDraggedY):(oe.vx=(oe.originalX-oe.x)/h.forceTicksPerFrame,oe.y=Math.min(se.size-oe.dy/2,Math.max(oe.dy/2,oe.y))),ee=Math.max(ee,Math.abs(oe.vx),Math.abs(oe.vy))}!se.interactionState.dragInProgress&&ee<.1&&se.forceLayouts[X].alpha()>0&&se.forceLayouts[X].alpha(0)}}function q(W,X){for(var re=[],se=[],Q=0;Q<W.graph.nodes.length;Q++){var ee=(W.graph.nodes[Q].x0+W.graph.nodes[Q].x1)/2,le=(W.graph.nodes[Q].y0+W.graph.nodes[Q].y1)/2;re.push(ee/W.figure.width),se.push(le/W.figure.height)}v.call("_guiRestyle",X,{"node.x":[re],"node.y":[se]},W.trace.index).then(function(){X._fullLayout._dragCover&&X._fullLayout._dragCover.remove()})}function J(W){var X=[],re;for(re=0;re<W.length;re++)W[re].originalX=(W[re].x0+W[re].x1)/2,W[re].originalY=(W[re].y0+W[re].y1)/2,X.indexOf(W[re].originalX)===-1&&X.push(W[re].originalX);for(X.sort(function(se,Q){return se-Q}),re=0;re<W.length;re++)W[re].originalLayerIndex=X.indexOf(W[re].originalX),W[re].originalLayer=W[re].originalLayerIndex/(X.length-1)}function te(W){W.lastDraggedX=W.x0+W.dx/2,W.lastDraggedY=W.y0+W.dy/2}function fe(W){return function(X){return X.node.originalX===W.node.originalX}}function K(W){for(var X=0;X<W.length;X++)W[X].y=(W[X].y0+W[X].y1)/2,W[X].x=(W[X].x0+W[X].x1)/2}function Y(W){for(var X=0;X<W.length;X++)W[X].y0=W[X].y-W[X].dy/2,W[X].y1=W[X].y0+W[X].dy,W[X].x0=W[X].x-W[X].dx/2,W[X].x1=W[X].x0+W[X].dx}V.exports=function(W,X,re,se,Q){var ee=W._context.staticPlot,le=!1;l.ensureSingle(W._fullLayout._infolayer,"g","first-render",function(){le=!0});var oe=W._fullLayout._dragCover,he=re.filter(function(Le){return f(Le).trace.visible}).map(P.bind(null,se)),xe=X.selectAll("."+h.cn.sankey).data(he,u);xe.exit().remove(),xe.enter().append("g").classed(h.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",ee?"none":"auto").attr("transform",z),xe.each(function(Le,Ge){W._fullData[Ge]._sankey=Le;var He="bgsankey-"+Le.trace.uid+"-"+Ge;l.ensureSingle(W._fullLayout._draggers,"rect",He),W._fullData[Ge]._bgRect=n.select("."+He),W._fullData[Ge]._bgRect.style("pointer-events",ee?"none":"all").attr("width",Le.width).attr("height",Le.height).attr("x",Le.translateX).attr("y",Le.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),xe.transition().ease(h.ease).duration(h.duration).attr("transform",z);var Ae=xe.selectAll("."+h.cn.sankeyLinks).data(b,u);Ae.enter().append("g").classed(h.cn.sankeyLinks,!0).style("fill","none");var Se=Ae.selectAll("."+h.cn.sankeyLink).data(function(Le){var Ge=Le.graph.links;return Ge.filter(function(He){return He.value}).map(x.bind(null,Le))},u);Se.enter().append("path").classed(h.cn.sankeyLink,!0).call(N,xe,Q.linkEvents),Se.style("stroke",function(Le){return H(Le)?t.tinyRGB(g(Le.linkLineColor)):Le.tinyColorHue}).style("stroke-opacity",function(Le){return H(Le)?t.opacity(Le.linkLineColor):Le.tinyColorAlpha}).style("fill",function(Le){return Le.tinyColorHue}).style("fill-opacity",function(Le){return Le.tinyColorAlpha}).style("stroke-width",function(Le){return H(Le)?Le.linkLineWidth:1}).attr("d",T()),Se.style("opacity",function(){return W._context.staticPlot||le||oe?1:0}).transition().ease(h.ease).duration(h.duration).style("opacity",1),Se.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var Oe=xe.selectAll("."+h.cn.sankeyNodeSet).data(b,u);Oe.enter().append("g").classed(h.cn.sankeyNodeSet,!0),Oe.style("cursor",function(Le){switch(Le.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var Ve=Oe.selectAll("."+h.cn.sankeyNode).data(function(Le){var Ge=Le.graph.nodes;return J(Ge),Ge.map(i.bind(null,Le))},u);Ve.enter().append("g").classed(h.cn.sankeyNode,!0).call(R).style("opacity",function(Le){return(W._context.staticPlot||le)&&!Le.partOfGroup?1:0}),Ve.call(N,xe,Q.nodeEvents).call(O,Se,Q,W),Ve.transition().ease(h.ease).duration(h.duration).call(R).style("opacity",function(Le){return Le.partOfGroup?0:1}),Ve.exit().transition().ease(h.ease).duration(h.duration).style("opacity",0).remove();var Ee=Ve.selectAll("."+h.cn.nodeRect).data(b);Ee.enter().append("rect").classed(h.cn.nodeRect,!0).call(_),Ee.style("stroke-width",function(Le){return Le.nodeLineWidth}).style("stroke",function(Le){return t.tinyRGB(g(Le.nodeLineColor))}).style("stroke-opacity",function(Le){return t.opacity(Le.nodeLineColor)}).style("fill",function(Le){return Le.tinyColorHue}).style("fill-opacity",function(Le){return Le.tinyColorAlpha}),Ee.transition().ease(h.ease).duration(h.duration).call(_);var Te=Ve.selectAll("."+h.cn.nodeLabel).data(b);Te.enter().append("text").classed(h.cn.nodeLabel,!0).style("cursor","default"),Te.attr("data-notex",1).text(function(Le){return Le.node.label}).each(function(Le){var Ge=n.select(this);r.font(Ge,Le.textFont),w.convertToTspans(Ge,W)}).style("text-shadow",w.makeTextShadow(W._fullLayout.paper_bgcolor)).attr("text-anchor",function(Le){return Le.horizontal&&Le.left?"end":"start"}).attr("transform",function(Le){var Ge=n.select(this),He=w.lineCount(Ge),ke=Le.textFont.size*((He-1)*S-d),We=Le.nodeLineWidth/2+M,nt=((Le.horizontal?Le.visibleHeight:Le.visibleWidth)-ke)/2;Le.horizontal&&(Le.left?We=-We:We+=Le.visibleWidth);var qe=Le.horizontal?"":"scale(-1,1)"+s(90);return a(Le.horizontal?We:nt,Le.horizontal?nt:We)+qe}),Te.transition().ease(h.ease).duration(h.duration)}},84564:function(V){V.exports=function(e,p){for(var L=e.cd,n=[],C=L[0].trace,y=C._sankey.graph.nodes,h=0;h<y.length;h++){var g=y[h];if(!g.partOfGroup){var t=[(g.x0+g.x1)/2,(g.y0+g.y1)/2];C.orientation==="v"&&t.reverse(),p&&p.contains(t,!1,h,e)&&n.push({pointNumber:g.pointNumber})}}return n}},75225:function(V,B,e){var p=e(71828);V.exports=function(n,C){for(var y=0;y<n.length;y++)n[y].i=y;p.mergeArray(C.text,n,"tx"),p.mergeArray(C.texttemplate,n,"txt"),p.mergeArray(C.hovertext,n,"htx"),p.mergeArray(C.customdata,n,"data"),p.mergeArray(C.textposition,n,"tp"),C.textfont&&(p.mergeArrayCastPositive(C.textfont.size,n,"ts"),p.mergeArray(C.textfont.color,n,"tc"),p.mergeArray(C.textfont.family,n,"tf"));var h=C.marker;if(h){p.mergeArrayCastPositive(h.size,n,"ms"),p.mergeArrayCastPositive(h.opacity,n,"mo"),p.mergeArray(h.symbol,n,"mx"),p.mergeArray(h.angle,n,"ma"),p.mergeArray(h.standoff,n,"mf"),p.mergeArray(h.color,n,"mc");var g=h.line;h.line&&(p.mergeArray(g.color,n,"mlc"),p.mergeArrayCastPositive(g.width,n,"mlw"));var t=h.gradient;t&&t.type!=="none"&&(p.mergeArray(t.type,n,"mgt"),p.mergeArray(t.color,n,"mgc"))}}},82196:function(V,B,e){var p=e(12663).axisHoverFormat,L=e(5386).si,n=e(5386).fF,C=e(50693),y=e(41940),h=e(79952).P,g=e(79952).u,t=e(91424),r=e(47581),l=e(1426).extendFlat;function a(u){return{valType:"any",dflt:0,editType:"calc"}}function s(u){return{valType:"any",editType:"calc"}}function c(u){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}V.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:a(),yperiod:a(),xperiod0:s(),yperiod0:s(),xperiodalignment:c(),yperiodalignment:c(),xhoverformat:p("x"),yhoverformat:p("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:L({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:n({},{keys:r.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:l({},h,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:g,marker:l({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:l({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},C("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},C("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:y({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(V,B,e){var p=e(92770),L=e(71828),n=e(89298),C=e(42973),y=e(50606).BADNUM,h=e(34098),g=e(36922),t=e(75225),r=e(66279);function l(f,w){var v=f._fullLayout,o=w._xA=n.getFromId(f,w.xaxis||"x","x"),d=w._yA=n.getFromId(f,w.yaxis||"y","y"),S=o.makeCalcdata(w,"x"),M=d.makeCalcdata(w,"y"),P=C(w,o,"x",S),x=C(w,d,"y",M),E=P.vals,T=x.vals,i=w._length,R=new Array(i),A=w.ids,k=b(w,v,o,d),_=!1,H,z,N,O,F,U;c(v,w);var Z="x",q="y",J;if(k)L.pushUnique(k.traceIndices,w._expandedIndex),H=k.orientation==="v",H?(q="s",J="x"):(Z="s",J="y"),F=k.stackgaps==="interpolate";else{var te=s(w,i);a(f,w,o,d,E,T,te)}var fe=!!w.xperiodalignment,K=!!w.yperiodalignment;for(z=0;z<i;z++){var Y=R[z]={},W=p(E[z]),X=p(T[z]);W&&X?(Y[Z]=E[z],Y[q]=T[z],fe&&(Y.orig_x=S[z],Y.xEnd=P.ends[z],Y.xStart=P.starts[z]),K&&(Y.orig_y=M[z],Y.yEnd=x.ends[z],Y.yStart=x.starts[z])):k&&(H?W:X)?(Y[J]=H?E[z]:T[z],Y.gap=!0,F?(Y.s=y,_=!0):Y.s=0):Y[Z]=Y[q]=y,A&&(Y.id=String(A[z]))}if(t(R,w),g(f,w),r(R,w),k){for(z=0;z<R.length;)R[z][J]===y?R.splice(z,1):z++;if(L.sort(R,function(ee,le){return ee[J]-le[J]||ee.i-le.i}),_){for(z=0;z<R.length-1&&R[z].gap;)z++;for(U=R[z].s,U||(U=R[z].s=0),N=0;N<z;N++)R[N].s=U;for(O=R.length-1;O>z&&R[O].gap;)O--;for(U=R[O].s,N=R.length-1;N>O;N--)R[N].s=U;for(;z<O;)if(z++,R[z].gap){for(N=z+1;R[N].gap;)N++;for(var re=R[z-1][J],se=R[z-1].s,Q=(R[N].s-se)/(R[N][J]-re);z<N;)R[z].s=se+(R[z][J]-re)*Q,z++}}}return R}function a(f,w,v,o,d,S,M){var P=w._length,x=f._fullLayout,E=v._id,T=o._id,i=x._firstScatter[u(w)]===w.uid,R=(b(w,x,v,o)||{}).orientation,A=w.fill;v._minDtick=0,o._minDtick=0;var k={padded:!0},_={padded:!0};M&&(k.ppad=_.ppad=M);var H=P<2||d[0]!==d[P-1]||S[0]!==S[P-1];H&&(A==="tozerox"||A==="tonextx"&&(i||R==="h"))?k.tozero=!0:!(w.error_y||{}).visible&&(A==="tonexty"||A==="tozeroy"||!h.hasMarkers(w)&&!h.hasText(w))&&(k.padded=!1,k.ppad=0),H&&(A==="tozeroy"||A==="tonexty"&&(i||R==="v"))?_.tozero=!0:(A==="tonextx"||A==="tozerox")&&(_.padded=!1),E&&(w._extremes[E]=n.findExtremes(v,d,k)),T&&(w._extremes[T]=n.findExtremes(o,S,_))}function s(f,w){if(h.hasMarkers(f)){var v=f.marker,o=1.6*(f.marker.sizeref||1),d;if(f.marker.sizemode==="area"?d=function(E){return Math.max(Math.sqrt((E||0)/o),3)}:d=function(E){return Math.max((E||0)/o,3)},L.isArrayOrTypedArray(v.size)){var S={type:"linear"};n.setConvert(S);for(var M=S.makeCalcdata(f.marker,"size"),P=new Array(w),x=0;x<w;x++)P[x]=d(M[x]);return P}else return d(v.size)}}function c(f,w){var v=u(w),o=f._firstScatter;o[v]||(o[v]=w.uid)}function u(f){var w=f.stackgroup;return f.xaxis+f.yaxis+f.type+(w?"-"+w:"")}function b(f,w,v,o){var d=f.stackgroup;if(d){var S=w._scatterStackOpts[v._id+o._id][d],M=S.orientation==="v"?o:v;if(M.type==="linear"||M.type==="log")return S}}V.exports={calc:l,calcMarkerSize:s,calcAxisExpansion:a,setFirstScatter:c,getStackOpts:b}},66279:function(V,B,e){var p=e(71828);V.exports=function(n,C){p.isArrayOrTypedArray(C.selectedpoints)&&p.tagSelected(n,C)}},36922:function(V,B,e){var p=e(52075).hasColorscale,L=e(78803),n=e(34098);V.exports=function(y,h){n.hasLines(h)&&p(h,"line")&&L(y,h,{vals:h.line.color,containerStr:"line",cLetter:"c"}),n.hasMarkers(h)&&(p(h,"marker")&&L(y,h,{vals:h.marker.color,containerStr:"marker",cLetter:"c"}),p(h,"marker.line")&&L(y,h,{vals:h.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(V){V.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(V,B,e){var p=e(47761),L=e(11661).setGroupPositions;function n(h,g){for(var t=g.xaxis,r=g.yaxis,l=h._fullLayout,a=h._fullData,s=h.calcdata,c=[],u=[],b=0;b<a.length;b++){var f=a[b];f.visible===!0&&f.type==="scatter"&&f.xaxis===t._id&&f.yaxis===r._id&&(f.orientation==="h"?c.push(s[b]):f.orientation==="v"&&u.push(s[b]))}var w={mode:l.scattermode,gap:l.scattergap};L(h,t,r,u,w),L(h,r,t,c,w)}V.exports=function(g,t){g._fullLayout.scattermode==="group"&&n(g,t);var r=t.xaxis,l=t.yaxis,a=r._id+l._id,s=g._fullLayout._scatterStackOpts[a];if(s){var c=g.calcdata,u,b,f,w,v,o,d,S,M,P,x,E,T,i,R;for(var A in s){P=s[A];var k=P.traceIndices;if(k.length){for(x=P.stackgaps==="interpolate",E=P.groupnorm,P.orientation==="v"?(T="x",i="y"):(T="y",i="x"),R=new Array(k.length),u=0;u<R.length;u++)R[u]=!1;o=c[k[0]];var _=new Array(o.length);for(u=0;u<o.length;u++)_[u]=o[u][T];for(u=1;u<k.length;u++){for(v=c[k[u]],b=f=0;b<v.length;b++){for(d=v[b][T];d>_[f]&&f<_.length;f++)C(v,b,_[f],u,R,x,T),b++;if(d!==_[f]){for(w=0;w<u;w++)C(c[k[w]],f,d,w,R,x,T);_.splice(f,0,d)}f++}for(;f<_.length;f++)C(v,b,_[f],u,R,x,T),b++}var H=_.length;for(b=0;b<o.length;b++){for(S=o[b][i]=o[b].s,u=1;u<k.length;u++)v=c[k[u]],v[0].trace._rawLength=v[0].trace._length,v[0].trace._length=H,S+=v[b].s,v[b][i]=S;if(E)for(M=(E==="fraction"?S:S/100)||1,u=0;u<k.length;u++){var z=c[k[u]][b];z[i]/=M,z.sNorm=z.s/M}}for(u=0;u<k.length;u++){v=c[k[u]];var N=v[0].trace,O=p.calcMarkerSize(N,N._rawLength),F=Array.isArray(O);if(O&&R[u]||F){var U=O;for(O=new Array(H),b=0;b<H;b++)O[b]=v[b].gap?0:F?U[v[b].i]:U}var Z=new Array(H),q=new Array(H);for(b=0;b<H;b++)Z[b]=v[b].x,q[b]=v[b].y;p.calcAxisExpansion(g,N,r,l,Z,q,O),v[0].t.orientation=P.orientation}}}}};function C(h,g,t,r,l,a,s){l[r]=!0;var c={i:null,gap:!0,s:0};if(c[s]=t,h.splice(g,0,c),g&&t===h[g-1][s]){var u=h[g-1];c.s=u.s,c.i=u.i,c.gap=u.gap}else a&&(c.s=y(h,g,t,s));g||(h[0].t=h[1].t,h[0].trace=h[1].trace,delete h[1].t,delete h[1].trace)}function y(h,g,t,r){var l=h[g-1],a=h[g+1];return a?l?l.s+(a.s-l.s)*(t-l[r])/(a[r]-l[r]):a.s:l.s}},34936:function(V,B,e){var p=e(71828),L=e(26125),n=e(82196);V.exports=function(y,h){var g,t,r;function l(b){return p.coerce(t._input,t,n,b)}if(h.scattermode==="group")for(r=0;r<y.length;r++)t=y[r],t.type==="scatter"&&(g=t._input,L(g,t,h,l));for(r=0;r<y.length;r++){var a=y[r];if(a.type==="scatter"){var s=a.fill;if(!(s==="none"||s==="toself")&&(a.opacity=void 0,s==="tonexty"||s==="tonextx"))for(var c=r-1;c>=0;c--){var u=y[c];if(u.type==="scatter"&&u.xaxis===a.xaxis&&u.yaxis===a.yaxis){u.opacity=void 0;break}}}}}},17438:function(V,B,e){var p=e(71828),L=e(73972),n=e(82196),C=e(47581),y=e(34098),h=e(67513),g=e(73927),t=e(565),r=e(49508),l=e(11058),a=e(94039),s=e(82410),c=e(28908),u=e(71828).coercePattern;V.exports=function(f,w,v,o){function d(R,A){return p.coerce(f,w,n,R,A)}var S=h(f,w,o,d);if(S||(w.visible=!1),!!w.visible){g(f,w,o,d),d("xhoverformat"),d("yhoverformat");var M=t(f,w,o,d);o.scattermode==="group"&&w.orientation===void 0&&d("orientation","v");var P=!M&&S<C.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",P),y.hasLines(w)&&(l(f,w,v,o,d,{backoff:!0}),a(f,w,d),d("connectgaps"),d("line.simplify")),y.hasMarkers(w)&&r(f,w,v,o,d,{gradient:!0}),y.hasText(w)&&(d("texttemplate"),s(f,w,o,d));var x=[];(y.hasMarkers(w)||y.hasText(w))&&(d("cliponaxis"),d("marker.maxdisplayed"),x.push("points")),d("fill",M?M.fillDflt:"none"),w.fill!=="none"&&(c(f,w,v,d),y.hasLines(w)||a(f,w,d),u(d,"fillpattern",w.fillcolor,!1));var E=(w.line||{}).color,T=(w.marker||{}).color;(w.fill==="tonext"||w.fill==="toself")&&x.push("fills"),d("hoveron",x.join("+")||"points"),w.hoveron!=="fills"&&d("hovertemplate");var i=L.getComponentMethod("errorbars","supplyDefaults");i(f,w,E||T||v,{axis:"y"}),i(f,w,E||T||v,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(w,d)}}},28908:function(V,B,e){var p=e(7901),L=e(71828).isArrayOrTypedArray;V.exports=function(C,y,h,g){var t=!1;if(y.marker){var r=y.marker.color,l=(y.marker.line||{}).color;r&&!L(r)?t=r:l&&!L(l)&&(t=l)}g("fillcolor",p.addOpacity((y.line||{}).color||t||h,.5))}},8225:function(V,B,e){var p=e(89298);V.exports=function(n,C,y){var h={},g={_fullLayout:y},t=p.getFromTrace(g,C,"x"),r=p.getFromTrace(g,C,"y"),l=n.orig_x;l===void 0&&(l=n.x);var a=n.orig_y;return a===void 0&&(a=n.y),h.xLabel=p.tickText(t,t.c2l(l),!0).text,h.yLabel=p.tickText(r,r.c2l(a),!0).text,h}},34603:function(V,B,e){var p=e(7901),L=e(34098);V.exports=function(C,y){var h,g;if(C.mode==="lines")return h=C.line.color,h&&p.opacity(h)?h:C.fillcolor;if(C.mode==="none")return C.fill?C.fillcolor:"";var t=y.mcc||(C.marker||{}).color,r=y.mlcc||((C.marker||{}).line||{}).color;return g=t&&p.opacity(t)?t:r&&p.opacity(r)&&(y.mlw||((C.marker||{}).line||{}).width)?r:"",g?p.opacity(g)<.3?p.addOpacity(g,.3):g:(h=(C.line||{}).color,h&&p.opacity(h)&&L.hasLines(C)&&C.line.width?h:C.fillcolor)}},26125:function(V,B,e){var p=e(99082).getAxisGroup;V.exports=function(n,C,y,h){var g=C.orientation,t=C[{v:"x",h:"y"}[g]+"axis"],r=p(y,t)+g,l=y._alignmentOpts||{},a=h("alignmentgroup"),s=l[r];s||(s=l[r]={});var c=s[a];c?c.traces.push(C):c=s[a]={traces:[C],alignmentIndex:Object.keys(s).length,offsetGroups:{}};var u=h("offsetgroup"),b=c.offsetGroups,f=b[u];u&&(f||(f=b[u]={offsetIndex:Object.keys(b).length}),C._offsetIndex=f.offsetIndex)}},33720:function(V,B,e){var p=e(71828),L=e(30211),n=e(73972),C=e(34603),y=e(7901),h=p.fillText;V.exports=function(t,r,l,a){var s=t.cd,c=s[0].trace,u=t.xa,b=t.ya,f=u.c2p(r),w=b.c2p(l),v=[f,w],o=c.hoveron||"",d=c.mode.indexOf("markers")!==-1?3:.5,S=!!c.xperiodalignment,M=!!c.yperiodalignment;if(o.indexOf("points")!==-1){var P=function(he){if(S){var xe=u.c2p(he.xStart),Ae=u.c2p(he.xEnd);return f>=Math.min(xe,Ae)&&f<=Math.max(xe,Ae)?0:1/0}var Se=Math.max(3,he.mrc||0),Oe=1-1/Se,Ve=Math.abs(u.c2p(he.x)-f);return Ve<Se?Oe*Ve/Se:Ve-Se+Oe},x=function(he){if(M){var xe=b.c2p(he.yStart),Ae=b.c2p(he.yEnd);return w>=Math.min(xe,Ae)&&w<=Math.max(xe,Ae)?0:1/0}var Se=Math.max(3,he.mrc||0),Oe=1-1/Se,Ve=Math.abs(b.c2p(he.y)-w);return Ve<Se?Oe*Ve/Se:Ve-Se+Oe},E=function(he){var xe=Math.max(d,he.mrc||0),Ae=u.c2p(he.x)-f,Se=b.c2p(he.y)-w;return Math.max(Math.sqrt(Ae*Ae+Se*Se)-xe,1-d/xe)},T=L.getDistanceFunction(a,P,x,E);if(L.getClosest(s,T,t),t.index!==!1){var i=s[t.index],R=u.c2p(i.x,!0),A=b.c2p(i.y,!0),k=i.mrc||1;t.index=i.i;var _=s[0].t.orientation,H=_&&(i.sNorm||i.s),z=_==="h"?H:i.orig_x!==void 0?i.orig_x:i.x,N=_==="v"?H:i.orig_y!==void 0?i.orig_y:i.y;return p.extendFlat(t,{color:C(c,i),x0:R-k,x1:R+k,xLabelVal:z,y0:A-k,y1:A+k,yLabelVal:N,spikeDistance:E(i),hovertemplate:c.hovertemplate}),h(i,c,t),n.getComponentMethod("errorbars","hoverInfo")(i,c,t),[t]}}if(o.indexOf("fills")!==-1&&c._polygons){var O=c._polygons,F=[],U=!1,Z=1/0,q=-1/0,J=1/0,te=-1/0,fe,K,Y,W,X,re,se,Q,ee;for(fe=0;fe<O.length;fe++)Y=O[fe],Y.contains(v)&&(U=!U,F.push(Y),J=Math.min(J,Y.ymin),te=Math.max(te,Y.ymax));if(U){J=Math.max(J,0),te=Math.min(te,b._length);var le=(J+te)/2;for(fe=0;fe<F.length;fe++)for(W=F[fe].pts,K=1;K<W.length;K++)Q=W[K-1][1],ee=W[K][1],Q>le!=ee>=le&&(re=W[K-1][0],se=W[K][0],ee-Q&&(X=re+(se-re)*(le-Q)/(ee-Q),Z=Math.min(Z,X),q=Math.max(q,X)));Z=Math.max(Z,0),q=Math.min(q,u._length);var oe=y.defaultLine;return y.opacity(c.fillcolor)?oe=c.fillcolor:y.opacity((c.line||{}).color)&&(oe=c.line.color),p.extendFlat(t,{distance:t.maxHoverDistance,x0:Z,x1:q,y0:le,y1:le,color:oe,hovertemplate:!1}),delete t.index,c.text&&!Array.isArray(c.text)?t.text=String(c.text):t.text=c.name,[t]}}}},67368:function(V,B,e){var p=e(34098);V.exports={hasLines:p.hasLines,hasMarkers:p.hasMarkers,hasText:p.hasText,isBubble:p.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(V){V.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(V,B,e){var p=e(71828),L=e(21479);V.exports=function(n,C){function y(g,t){return p.coerce(n,C,L,g,t)}var h=C.barmode==="group";C.scattermode==="group"&&y("scattergap",h?C.bargap:.2)}},11058:function(V,B,e){var p=e(71828).isArrayOrTypedArray,L=e(52075).hasColorscale,n=e(1586);V.exports=function(y,h,g,t,r,l){l||(l={});var a=(y.marker||{}).color;if(r("line.color",g),L(y,"line"))n(y,h,t,r,{prefix:"line.",cLetter:"c"});else{var s=(p(a)?!1:a)||g;r("line.color",s)}r("line.width"),l.noDash||r("line.dash"),l.backoff&&r("line.backoff")}},34621:function(V,B,e){var p=e(91424),L=e(50606),n=L.BADNUM,C=L.LOG_CLIP,y=C+.5,h=C-.5,g=e(71828),t=g.segmentsIntersect,r=g.constrain,l=e(47581);V.exports=function(s,c){var u=c.trace||{},b=c.xaxis,f=c.yaxis,w=b.type==="log",v=f.type==="log",o=b._length,d=f._length,S=c.backoff,M=u.marker,P=c.connectGaps,x=c.baseTolerance,E=c.shape,T=E==="linear",i=u.fill&&u.fill!=="none",R=[],A=l.minTolerance,k=s.length,_=new Array(k),H=0,z,N,O,F,U,Z,q,J,te,fe,K,Y,W,X,re,se;function Q(wt){var Ft=s[wt];if(!Ft)return!1;var Ut=c.linearized?b.l2p(Ft.x):b.c2p(Ft.x),Gt=c.linearized?f.l2p(Ft.y):f.c2p(Ft.y);if(Ut===n){if(w&&(Ut=b.c2p(Ft.x,!0)),Ut===n)return!1;v&&Gt===n&&(Ut*=Math.abs(b._m*d*(b._m>0?y:h)/(f._m*o*(f._m>0?y:h)))),Ut*=1e3}if(Gt===n){if(v&&(Gt=f.c2p(Ft.y,!0)),Gt===n)return!1;Gt*=1e3}return[Ut,Gt]}function ee(wt,Ft,Ut,Gt){var Et=Ut-wt,$t=Gt-Ft,lr=.5-wt,Fr=.5-Ft,yt=Et*Et+$t*$t,Kt=Et*lr+$t*Fr;if(Kt>0&&Kt<yt){var Zt=lr*$t-Fr*Et;if(Zt*Zt<yt)return!0}}var le,oe;function he(wt,Ft){var Ut=wt[0]/o,Gt=wt[1]/d,Et=Math.max(0,-Ut,Ut-1,-Gt,Gt-1);return Et&&le!==void 0&&ee(Ut,Gt,le,oe)&&(Et=0),Et&&Ft&&ee(Ut,Gt,Ft[0]/o,Ft[1]/d)&&(Et=0),(1+l.toleranceGrowth*Et)*x}function xe(wt,Ft){var Ut=wt[0]-Ft[0],Gt=wt[1]-Ft[1];return Math.sqrt(Ut*Ut+Gt*Gt)}var Ae=l.maxScreensAway,Se=-o*Ae,Oe=o*(1+Ae),Ve=-d*Ae,Ee=d*(1+Ae),Te=[[Se,Ve,Oe,Ve],[Oe,Ve,Oe,Ee],[Oe,Ee,Se,Ee],[Se,Ee,Se,Ve]],Le,Ge,He,ke,We,nt;function qe(wt,Ft){for(var Ut=[],Gt=0,Et=0;Et<4;Et++){var $t=Te[Et],lr=t(wt[0],wt[1],Ft[0],Ft[1],$t[0],$t[1],$t[2],$t[3]);lr&&(!Gt||Math.abs(lr.x-Ut[0][0])>1||Math.abs(lr.y-Ut[0][1])>1)&&(lr=[lr.x,lr.y],Gt&&xe(lr,wt)<xe(Ut[0],wt)?Ut.unshift(lr):Ut.push(lr),Gt++)}return Ut}function Qe(wt){if(wt[0]<Se||wt[0]>Oe||wt[1]<Ve||wt[1]>Ee)return[r(wt[0],Se,Oe),r(wt[1],Ve,Ee)]}function tt(wt,Ft){if(wt[0]===Ft[0]&&(wt[0]===Se||wt[0]===Oe)||wt[1]===Ft[1]&&(wt[1]===Ve||wt[1]===Ee))return!0}function vt(wt,Ft){var Ut=[],Gt=Qe(wt),Et=Qe(Ft);return Gt&&Et&&tt(Gt,Et)||(Gt&&Ut.push(Gt),Et&&Ut.push(Et)),Ut}function dt(wt,Ft,Ut){return function(Gt,Et){var $t=Qe(Gt),lr=Qe(Et),Fr=[];if($t&&lr&&tt($t,lr))return Fr;$t&&Fr.push($t),lr&&Fr.push(lr);var yt=2*g.constrain((Gt[wt]+Et[wt])/2,Ft,Ut)-(($t||Gt)[wt]+(lr||Et)[wt]);if(yt){var Kt;$t&&lr?Kt=yt>0==$t[wt]>lr[wt]?$t:lr:Kt=$t||lr,Kt[wt]+=yt}return Fr}}var gt;E==="linear"||E==="spline"?gt=qe:E==="hv"||E==="vh"?gt=vt:E==="hvh"?gt=dt(0,Se,Oe):E==="vhv"&&(gt=dt(1,Ve,Ee));function Mt(wt,Ft){var Ut=Ft[0]-wt[0],Gt=(Ft[1]-wt[1])/Ut,Et=(wt[1]*Ft[0]-Ft[1]*wt[0])/Ut;return Et>0?[Gt>0?Se:Oe,Ee]:[Gt>0?Oe:Se,Ve]}function Rt(wt){var Ft=wt[0],Ut=wt[1],Gt=Ft===_[H-1][0],Et=Ut===_[H-1][1];if(!(Gt&&Et))if(H>1){var $t=Ft===_[H-2][0],lr=Ut===_[H-2][1];Gt&&(Ft===Se||Ft===Oe)&&$t?lr?H--:_[H-1]=wt:Et&&(Ut===Ve||Ut===Ee)&&lr?$t?H--:_[H-1]=wt:_[H++]=wt}else _[H++]=wt}function Wt(wt){_[H-1][0]!==wt[0]&&_[H-1][1]!==wt[1]&&Rt([He,ke]),Rt(wt),We=null,He=ke=0}var je=g.isArrayOrTypedArray(M);function _e(wt){if(wt&&S&&(wt.i=z,wt.d=s,wt.trace=u,wt.marker=je?M[wt.i]:M,wt.backoff=S),le=wt[0]/o,oe=wt[1]/d,Le=wt[0]<Se?Se:wt[0]>Oe?Oe:0,Ge=wt[1]<Ve?Ve:wt[1]>Ee?Ee:0,Le||Ge){if(!H)_[H++]=[Le||wt[0],Ge||wt[1]];else if(We){var Ft=gt(We,wt);Ft.length>1&&(Wt(Ft[0]),_[H++]=Ft[1])}else nt=gt(_[H-1],wt)[0],_[H++]=nt;var Ut=_[H-1];Le&&Ge&&(Ut[0]!==Le||Ut[1]!==Ge)?(We&&(He!==Le&&ke!==Ge?Rt(He&&ke?Mt(We,wt):[He||Le,ke||Ge]):He&&ke&&Rt([He,ke])),Rt([Le,Ge])):He-Le&&ke-Ge&&Rt([Le||He,Ge||ke]),We=wt,He=Le,ke=Ge}else We&&Wt(gt(We,wt)[0]),_[H++]=wt}for(z=0;z<k;z++)if(N=Q(z),!!N){for(H=0,We=null,_e(N),z++;z<k;z++){if(F=Q(z),!F){if(P)continue;break}if(!T||!c.simplify){_e(F);continue}var Fe=Q(z+1);if(fe=xe(F,N),!(!(i&&(H===0||H===k-1))&&fe<he(F,Fe)*A)){for(J=[(F[0]-N[0])/fe,(F[1]-N[1])/fe],U=N,K=fe,Y=X=re=0,q=!1,O=F,z++;z<s.length;z++){if(Z=Fe,Fe=Q(z+1),!Z){if(P)continue;break}if(te=[Z[0]-N[0],Z[1]-N[1]],se=te[0]*J[1]-te[1]*J[0],X=Math.min(X,se),re=Math.max(re,se),re-X>he(Z,Fe))break;O=Z,W=te[0]*J[0]+te[1]*J[1],W>K?(K=W,F=Z,q=!1):W<Y&&(Y=W,U=Z,q=!0)}if(q?(_e(F),O!==U&&_e(U)):(U!==N&&_e(U),O!==F&&_e(F)),_e(O),z>=s.length||!Z)break;_e(Z),N=Z}}We&&Rt([He||We[0],ke||We[1]]),R.push(_.slice(0,H))}var Be=E.slice(E.length-1);if(S&&Be!=="h"&&Be!=="v"){for(var De=!1,we=-1,ue=[],me=0;me<R.length;me++)for(var Re=0;Re<R[me].length-1;Re++){var Ne=R[me][Re],it=R[me][Re+1],ot=p.applyBackoff(it,Ne);(ot[0]!==it[0]||ot[1]!==it[1])&&(De=!0),ue[we+1]||(we++,ue[we]=[Ne,[ot[0],ot[1]]])}return De?ue:R}return R}},94039:function(V){V.exports=function(e,p,L){var n=L("line.shape");n==="spline"&&L("line.smoothing")}},68687:function(V){var B={tonextx:1,tonexty:1,tonext:1};V.exports=function(p,L,n){var C,y,h,g,t,r={},l=!1,a=-1,s=0,c=-1;for(y=0;y<n.length;y++)C=n[y][0].trace,h=C.stackgroup||"",h?h in r?t=r[h]:(t=r[h]=s,s++):C.fill in B&&c>=0?t=c:(t=c=s,s++),t<a&&(l=!0),C._groupIndex=a=t;var u=n.slice();l&&u.sort(function(f,w){var v=f[0].trace,o=w[0].trace;return v._groupIndex-o._groupIndex||v.index-o.index});var b={};for(y=0;y<u.length;y++)C=u[y][0].trace,h=C.stackgroup||"",C.visible===!0?(C._nexttrace=null,C.fill in B&&(g=b[h],C._prevtrace=g||null,g&&(g._nexttrace=C)),C._ownfill=C.fill&&(C.fill.substr(0,6)==="tozero"||C.fill==="toself"||C.fill.substr(0,2)==="to"&&!C._prevtrace),b[h]=C):C._prevtrace=C._nexttrace=C._ownfill=null;return u}},39984:function(V,B,e){var p=e(92770);V.exports=function(n,C){C||(C=2);var y=n.marker,h=y.sizeref||1,g=y.sizemin||0,t=y.sizemode==="area"?function(r){return Math.sqrt(r/h)}:function(r){return r/h};return function(r){var l=t(r/C);return p(l)&&l>0?Math.max(l,g):0}}},4898:function(V){V.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(V,B,e){var p=e(7901),L=e(52075).hasColorscale,n=e(1586),C=e(34098);V.exports=function(h,g,t,r,l,a){var s=C.isBubble(h),c=(h.line||{}).color,u;if(a=a||{},c&&(t=c),l("marker.symbol"),l("marker.opacity",s?.7:1),l("marker.size"),a.noAngle||(l("marker.angle"),a.noAngleRef||l("marker.angleref"),a.noStandOff||l("marker.standoff")),l("marker.color",t),L(h,"marker")&&n(h,g,r,l,{prefix:"marker.",cLetter:"c"}),a.noSelect||(l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size")),a.noLine||(c&&!Array.isArray(c)&&g.marker.color!==c?u=c:s?u=p.background:u=p.defaultLine,l("marker.line.color",u),L(h,"marker.line")&&n(h,g,r,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",s?1:0)),s&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),a.gradient){var b=l("marker.gradient.type");b!=="none"&&l("marker.gradient.color")}}},73927:function(V,B,e){var p=e(71828).dateTick0,L=e(50606),n=L.ONEWEEK;function C(y,h){return y%n===0?p(h,1):p(h,0)}V.exports=function(h,g,t,r,l){if(l||(l={x:!0,y:!0}),l.x){var a=r("xperiod");a&&(r("xperiod0",C(a,g.xcalendar)),r("xperiodalignment"))}if(l.y){var s=r("yperiod");s&&(r("yperiod0",C(s,g.ycalendar)),r("yperiodalignment"))}}},32663:function(V,B,e){var p=e(39898),L=e(73972),n=e(71828),C=n.ensureSingle,y=n.identity,h=e(91424),g=e(34098),t=e(34621),r=e(68687),l=e(61082).tester;V.exports=function(b,f,w,v,o,d){var S,M,P=!o,x=!!o&&o.duration>0,E=r(b,f,w);if(S=v.selectAll("g.trace").data(E,function(i){return i[0].trace.uid}),S.enter().append("g").attr("class",function(i){return"trace scatter trace"+i[0].trace.uid}).style("stroke-miterlimit",2),S.order(),a(b,S,f),x){d&&(M=d());var T=p.transition().duration(o.duration).ease(o.easing).each("end",function(){M&&M()}).each("interrupt",function(){M&&M()});T.each(function(){v.selectAll("g.trace").each(function(i,R){s(b,R,f,i,E,this,o)})})}else S.each(function(i,R){s(b,R,f,i,E,this,o)});P&&S.exit().remove(),v.selectAll("path:not([d])").remove()};function a(u,b,f){b.each(function(w){var v=C(p.select(this),"g","fills");h.setClipUrl(v,f.layerClipId,u);var o=w[0].trace,d=[];o._ownfill&&d.push("_ownFill"),o._nexttrace&&d.push("_nextFill");var S=v.selectAll("g").data(d,y);S.enter().append("g"),S.exit().each(function(M){o[M]=null}).remove(),S.order().each(function(M){o[M]=C(p.select(this),"path","js-fill")})})}function s(u,b,f,w,v,o,d){var S=u._context.staticPlot,M;c(u,b,f,w,v);var P=!!d&&d.duration>0;function x(ke){return P?ke.transition():ke}var E=f.xaxis,T=f.yaxis,i=w[0].trace,R=i.line,A=p.select(o),k=C(A,"g","errorbars"),_=C(A,"g","lines"),H=C(A,"g","points"),z=C(A,"g","text");if(L.getComponentMethod("errorbars","plot")(u,k,f,d),i.visible!==!0)return;x(A).style("opacity",i.opacity);var N,O,F=i.fill.charAt(i.fill.length-1);F!=="x"&&F!=="y"&&(F=""),w[0][f.isRangePlot?"nodeRangePlot3":"node3"]=A;var U="",Z=[],q=i._prevtrace;q&&(U=q._prevRevpath||"",O=q._nextFill,Z=q._polygons);var J,te,fe="",K="",Y,W,X,re,se,Q,ee,le=[],oe=n.noop;if(N=i._ownFill,g.hasLines(i)||i.fill!=="none"){for(O&&O.datum(w),["hv","vh","hvh","vhv"].indexOf(R.shape)!==-1?(Y=h.steps(R.shape),W=h.steps(R.shape.split("").reverse().join(""))):R.shape==="spline"?Y=W=function(ke){var We=ke[ke.length-1];return ke.length>1&&ke[0][0]===We[0]&&ke[0][1]===We[1]?h.smoothclosed(ke.slice(1),R.smoothing):h.smoothopen(ke,R.smoothing)}:Y=W=function(ke){return"M"+ke.join("L")},X=function(ke){return W(ke.reverse())},le=t(w,{xaxis:E,yaxis:T,trace:i,connectGaps:i.connectgaps,baseTolerance:Math.max(R.width||1,3)/4,shape:R.shape,backoff:R.backoff,simplify:R.simplify,fill:i.fill}),ee=i._polygons=new Array(le.length),M=0;M<le.length;M++)i._polygons[M]=l(le[M]);le.length&&(re=le[0][0],se=le[le.length-1],Q=se[se.length-1]),oe=function(ke){return function(We){if(J=Y(We),te=X(We),fe?F?(fe+="L"+J.substr(1),K=te+("L"+K.substr(1))):(fe+="Z"+J,K=te+"Z"+K):(fe=J,K=te),g.hasLines(i)){var nt=p.select(this);if(nt.datum(w),ke)x(nt.style("opacity",0).attr("d",J).call(h.lineGroupStyle)).style("opacity",1);else{var qe=x(nt);qe.attr("d",J),h.singleLineStyle(w,qe)}}}}}var he=_.selectAll(".js-line").data(le);x(he.exit()).style("opacity",0).remove(),he.each(oe(!1)),he.enter().append("path").classed("js-line",!0).style("vector-effect",S?"none":"non-scaling-stroke").call(h.lineGroupStyle).each(oe(!0)),h.setClipUrl(he,f.layerClipId,u);function xe(ke){x(ke).attr("d","M0,0Z")}le.length?(N?(N.datum(w),re&&Q&&(F?(F==="y"?re[1]=Q[1]=T.c2p(0,!0):F==="x"&&(re[0]=Q[0]=E.c2p(0,!0)),x(N).attr("d","M"+Q+"L"+re+"L"+fe.substr(1)).call(h.singleFillStyle,u)):x(N).attr("d",fe+"Z").call(h.singleFillStyle,u))):O&&(i.fill.substr(0,6)==="tonext"&&fe&&U?(i.fill==="tonext"?x(O).attr("d",fe+"Z"+U+"Z").call(h.singleFillStyle,u):x(O).attr("d",fe+"L"+U.substr(1)+"Z").call(h.singleFillStyle,u),i._polygons=i._polygons.concat(Z)):(xe(O),i._polygons=null)),i._prevRevpath=K,i._prevPolygons=ee):(N?xe(N):O&&xe(O),i._polygons=i._prevRevpath=i._prevPolygons=null);function Ae(ke){return ke.filter(function(We){return!We.gap&&We.vis})}function Se(ke){return ke.filter(function(We){return We.vis})}function Oe(ke){return ke.filter(function(We){return!We.gap})}function Ve(ke){return ke.id}function Ee(ke){if(ke.ids)return Ve}function Te(){return!1}function Le(ke,We,nt){var qe,Qe,tt,vt=nt[0].trace,dt=g.hasMarkers(vt),gt=g.hasText(vt),Mt=Ee(vt),Rt=Te,Wt=Te;if(dt||gt){var je=y,_e=vt.stackgroup,Fe=_e&&u._fullLayout._scatterStackOpts[E._id+T._id][_e].stackgaps==="infer zero";vt.marker.maxdisplayed||vt._needsCull?je=Fe?Se:Ae:_e&&!Fe&&(je=Oe),dt&&(Rt=je),gt&&(Wt=je)}Qe=ke.selectAll("path.point"),qe=Qe.data(Rt,Mt);var Be=qe.enter().append("path").classed("point",!0);P&&Be.call(h.pointStyle,vt,u).call(h.translatePoints,E,T).style("opacity",0).transition().style("opacity",1),qe.order();var De;dt&&(De=h.makePointStyleFns(vt)),qe.each(function(we){var ue=p.select(this),me=x(ue);tt=h.translatePoint(we,me,E,T),tt?(h.singlePointStyle(we,me,vt,De,u),f.layerClipId&&h.hideOutsideRangePoint(we,me,E,T,vt.xcalendar,vt.ycalendar),vt.customdata&&ue.classed("plotly-customdata",we.data!==null&&we.data!==void 0)):me.remove()}),P?qe.exit().transition().style("opacity",0).remove():qe.exit().remove(),Qe=We.selectAll("g"),qe=Qe.data(Wt,Mt),qe.enter().append("g").classed("textpoint",!0).append("text"),qe.order(),qe.each(function(we){var ue=p.select(this),me=x(ue.select("text"));tt=h.translatePoint(we,me,E,T),tt?f.layerClipId&&h.hideOutsideRangePoint(we,ue,E,T,vt.xcalendar,vt.ycalendar):ue.remove()}),qe.selectAll("text").call(h.textPointStyle,vt,u).each(function(we){var ue=E.c2p(we.x),me=T.c2p(we.y);p.select(this).selectAll("tspan.line").each(function(){x(p.select(this)).attr({x:ue,y:me})})}),qe.exit().remove()}H.datum(w),z.datum(w),Le(H,z,w);var Ge=i.cliponaxis===!1,He=Ge?null:f.layerClipId;h.setClipUrl(H,He,u),h.setClipUrl(z,He,u)}function c(u,b,f,w,v){var o=f.xaxis,d=f.yaxis,S=p.extent(n.simpleMap(o.range,o.r2c)),M=p.extent(n.simpleMap(d.range,d.r2c)),P=w[0].trace;if(g.hasMarkers(P)){var x=P.marker.maxdisplayed;if(x!==0){var E=w.filter(function(A){return A.x>=S[0]&&A.x<=S[1]&&A.y>=M[0]&&A.y<=M[1]}),T=Math.ceil(E.length/x),i=0;v.forEach(function(A,k){var _=A[0].trace;g.hasMarkers(_)&&_.marker.maxdisplayed>0&&k<b&&i++});var R=Math.round(i*T/3+Math.floor(i/3)*T/7.1);w.forEach(function(A){delete A.vis}),E.forEach(function(A,k){Math.round((k+R)%T)===0&&(A.vis=!0)})}}}},98002:function(V,B,e){var p=e(34098);V.exports=function(n,C){var y=n.cd,h=n.xaxis,g=n.yaxis,t=[],r=y[0].trace,l,a,s,c,u=!p.hasMarkers(r)&&!p.hasText(r);if(u)return[];if(C===!1)for(l=0;l<y.length;l++)y[l].selected=0;else for(l=0;l<y.length;l++)a=y[l],s=h.c2p(a.x),c=g.c2p(a.y),a.i!==null&&C.contains([s,c],!1,l,n)?(t.push({pointNumber:a.i,x:h.c2d(a.x),y:g.c2d(a.y)}),a.selected=1):a.selected=0;return t}},565:function(V){var B=["orientation","groupnorm","stackgaps"];V.exports=function(p,L,n,C){var y=n._scatterStackOpts,h=C("stackgroup");if(h){var g=L.xaxis+L.yaxis,t=y[g];t||(t=y[g]={});var r=t[h],l=!1;r?r.traces.push(L):(r=t[h]={traceIndices:[],traces:[L]},l=!0);for(var a={orientation:L.x&&!L.y?"h":"v"},s=0;s<B.length;s++){var c=B[s],u=c+"Found";if(!r[u]){var b=p[c]!==void 0,f=c==="orientation";if((b||l)&&(r[c]=C(c,a[c]),f&&(r.fillDflt=r[c]==="h"?"tonextx":"tonexty"),b&&(r[u]=!0,!l&&(delete r.traces[0][c],f))))for(var w=0;w<r.traces.length-1;w++){var v=r.traces[w];v._input.fill!==v.fill&&(v.fill=r.fillDflt)}}}return r}}},16296:function(V,B,e){var p=e(39898),L=e(91424),n=e(73972);function C(t){var r=p.select(t).selectAll("g.trace.scatter");r.style("opacity",function(l){return l[0].trace.opacity}),r.selectAll("g.points").each(function(l){var a=p.select(this),s=l.trace||l[0].trace;y(a,s,t)}),r.selectAll("g.text").each(function(l){var a=p.select(this),s=l.trace||l[0].trace;h(a,s,t)}),r.selectAll("g.trace path.js-line").call(L.lineGroupStyle),r.selectAll("g.trace path.js-fill").call(L.fillGroupStyle,t),n.getComponentMethod("errorbars","style")(r)}function y(t,r,l){L.pointStyle(t.selectAll("path.point"),r,l)}function h(t,r,l){L.textPointStyle(t.selectAll("text"),r,l)}function g(t,r,l){var a=r[0].trace;a.selectedpoints?(L.selectedPointStyle(l.selectAll("path.point"),a),L.selectedTextStyle(l.selectAll("text"),a)):(y(l,a,t),h(l,a,t))}V.exports={style:C,stylePoints:y,styleText:h,styleOnSelect:g}},34098:function(V,B,e){var p=e(71828);V.exports={hasLines:function(L){return L.visible&&L.mode&&L.mode.indexOf("lines")!==-1},hasMarkers:function(L){return L.visible&&(L.mode&&L.mode.indexOf("markers")!==-1||L.type==="splom")},hasText:function(L){return L.visible&&L.mode&&L.mode.indexOf("text")!==-1},isBubble:function(L){return p.isPlainObject(L.marker)&&p.isArrayOrTypedArray(L.marker.size)}}},82410:function(V,B,e){var p=e(71828);V.exports=function(L,n,C,y,h){h=h||{},y("textposition"),p.coerceFont(y,"textfont",C.font),h.noSelect||(y("selected.textfont.color"),y("unselected.textfont.color"))}},67513:function(V,B,e){var p=e(71828),L=e(73972);V.exports=function(C,y,h,g){var t=g("x"),r=g("y"),l,a=L.getComponentMethod("calendars","handleTraceDefaults");if(a(C,y,["x","y"],h),t){var s=p.minRowLength(t);r?l=Math.min(s,p.minRowLength(r)):(l=s,g("y0"),g("dy"))}else{if(!r)return 0;l=p.minRowLength(r),g("x0"),g("dx")}return y._length=l,l}},44542:function(V,B,e){var p=e(82196),L=e(50693),n=e(12663).axisHoverFormat,C=e(5386).fF,y=e(5386).si,h=e(9012),g=e(29659),t=e(87381),r=e(1426).extendFlat,l=e(30962).overrideAll,a=e(78607),s=p.line,c=p.marker,u=c.line,b=r({width:s.width,dash:{valType:"enumerated",values:a(g),dflt:"solid"}},L("line"));function f(v){return{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:.6666666666666666}}}var w=V.exports=l({x:p.x,y:p.y,z:{valType:"data_array"},text:r({},p.text,{}),texttemplate:y({},{}),hovertext:r({},p.hovertext,{}),hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),mode:r({},p.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:f(),y:f(),z:f()},connectgaps:p.connectgaps,line:b,marker:r({symbol:{valType:"enumerated",values:a(t),dflt:"circle",arrayOk:!0},size:r({},c.size,{dflt:8}),sizeref:c.sizeref,sizemin:c.sizemin,sizemode:c.sizemode,opacity:r({},c.opacity,{arrayOk:!1}),colorbar:c.colorbar,line:r({width:r({},u.width,{arrayOk:!1})},L("marker.line"))},L("marker")),textposition:r({},p.textposition,{dflt:"top center"}),textfont:{color:p.textfont.color,size:p.textfont.size,family:r({},p.textfont.family,{arrayOk:!1})},opacity:h.opacity,hoverinfo:r({},h.hoverinfo)},"calc","nested");w.x.editType=w.y.editType=w.z.editType="calc+clearAxisTypes"},36563:function(V,B,e){var p=e(75225),L=e(36922);V.exports=function(C,y){var h=[{x:!1,y:!1,trace:y,t:{}}];return p(h,y),L(C,y),h}},67336:function(V,B,e){var p=e(73972);function L(y,h,g,t){if(!h||!h.visible)return null;for(var r=p.getComponentMethod("errorbars","makeComputeError")(h),l=new Array(y.length),a=0;a<y.length;a++){var s=r(+y[a],a);if(t.type==="log"){var c=t.c2l(y[a]),u=y[a]-s[0],b=y[a]+s[1];if(l[a]=[(t.c2l(u,!0)-c)*g,(t.c2l(b,!0)-c)*g],u>0){var f=t.c2l(u);t._lowerLogErrorBound||(t._lowerLogErrorBound=f),t._lowerErrorBound=Math.min(t._lowerLogErrorBound,f)}}else l[a]=[-s[0]*g,s[1]*g]}return l}function n(y){for(var h=0;h<y.length;h++)if(y[h])return y[h].length;return 0}function C(y,h,g){var t=[L(y.x,y.error_x,h[0],g.xaxis),L(y.y,y.error_y,h[1],g.yaxis),L(y.z,y.error_z,h[2],g.zaxis)],r=n(t);if(r===0)return null;for(var l=new Array(r),a=0;a<r;a++){for(var s=[[0,0,0],[0,0,0]],c=0;c<3;c++)if(t[c])for(var u=0;u<2;u++)s[u][c]=t[c][a][u];l[a]=s}return l}V.exports=C},58925:function(V,B,e){var p=e(9330).gl_line3d,L=e(9330).gl_scatter3d,n=e(9330).gl_error3d,C=e(9330).gl_mesh3d,y=e(9330).delaunay_triangulate,h=e(71828),g=e(78614),t=e(81697).formatColor,r=e(39984),l=e(29659),a=e(87381),s=e(89298),c=e(23469).appendArrayPointValue,u=e(67336);function b(A,k){this.scene=A,this.uid=k,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var f=b.prototype;f.handlePick=function(A){if(A.object&&(A.object===this.linePlot||A.object===this.delaunayMesh||A.object===this.textMarkers||A.object===this.scatterPlot)){var k=A.index=A.data.index;return A.object.highlight&&A.object.highlight(null),this.scatterPlot&&(A.object=this.scatterPlot,this.scatterPlot.highlight(A.data)),A.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[k]||this.textLabels[k]===0)&&(A.textLabel=this.textLabels[k]):A.textLabel=this.textLabels),A.traceCoordinate=[this.data.x[k],this.data.y[k],this.data.z[k]],!0}};function w(A,k,_){var H=(_+1)%3,z=(_+2)%3,N=[],O=[],F;for(F=0;F<A.length;++F){var U=A[F];isNaN(U[H])||!isFinite(U[H])||isNaN(U[z])||!isFinite(U[z])||(N.push([U[H],U[z]]),O.push(F))}var Z=y(N);for(F=0;F<Z.length;++F)for(var q=Z[F],J=0;J<q.length;++J)q[J]=O[q[J]];return{positions:A,cells:Z,meshColor:k}}function v(A){for(var k=[0,0,0],_=[[0,0,0],[0,0,0],[0,0,0]],H=[1,1,1],z=0;z<3;z++){var N=A[z];N&&N.copy_zstyle!==!1&&A[2].visible!==!1&&(N=A[2]),!(!N||!N.visible)&&(k[z]=N.width/2,_[z]=g(N.color),H[z]=N.thickness)}return{capSize:k,color:_,lineWidth:H}}function o(A){return A==null?0:A.indexOf("left")>-1?-1:A.indexOf("right")>-1?1:0}function d(A){return A==null?0:A.indexOf("top")>-1?-1:A.indexOf("bottom")>-1?1:0}function S(A){var k=0,_=0,H=[k,_];if(Array.isArray(A))for(var z=0;z<A.length;z++)H[z]=[k,_],A[z]&&(H[z][0]=o(A[z]),H[z][1]=d(A[z]));else H[0]=o(A),H[1]=d(A);return H}function M(A,k){return k(A*4)}function P(A){return a[A]}function x(A,k,_,H,z){var N=null;if(h.isArrayOrTypedArray(A)){N=[];for(var O=0;O<k;O++)A[O]===void 0?N[O]=H:N[O]=_(A[O],z)}else N=_(A,h.identity);return N}function E(A,k){var _=[],H=A.fullSceneLayout,z=A.dataScale,N=H.xaxis,O=H.yaxis,F=H.zaxis,U=k.marker,Z=k.line,q=k.x||[],J=k.y||[],te=k.z||[],fe=q.length,K=k.xcalendar,Y=k.ycalendar,W=k.zcalendar,X,re,se,Q,ee,le;for(ee=0;ee<fe;ee++)X=N.d2l(q[ee],0,K)*z[0],re=O.d2l(J[ee],0,Y)*z[1],se=F.d2l(te[ee],0,W)*z[2],_[ee]=[X,re,se];if(Array.isArray(k.text))le=k.text;else if(k.text!==void 0)for(le=new Array(fe),ee=0;ee<fe;ee++)le[ee]=k.text;function oe(qe,Qe){var tt=H[qe];return s.tickText(tt,tt.d2l(Qe),!0).text}var he=k.texttemplate;if(he){var xe=A.fullLayout,Ae=xe._d3locale,Se=Array.isArray(he),Oe=Se?Math.min(he.length,fe):fe,Ve=Se?function(qe){return he[qe]}:function(){return he};for(le=new Array(Oe),ee=0;ee<Oe;ee++){var Ee={x:q[ee],y:J[ee],z:te[ee]},Te={xLabel:oe("xaxis",q[ee]),yLabel:oe("yaxis",J[ee]),zLabel:oe("zaxis",te[ee])},Le={};c(Le,k,ee);var Ge=k._meta||{};le[ee]=h.texttemplateString(Ve(ee),Te,Ae,Le,Ee,Ge)}}if(Q={position:_,mode:k.mode,text:le},"line"in k&&(Q.lineColor=t(Z,1,fe),Q.lineWidth=Z.width,Q.lineDashes=Z.dash),"marker"in k){var He=r(k);Q.scatterColor=t(U,1,fe),Q.scatterSize=x(U.size,fe,M,20,He),Q.scatterMarker=x(U.symbol,fe,P,""),Q.scatterLineWidth=U.line.width,Q.scatterLineColor=t(U.line,1,fe),Q.scatterAngle=0}"textposition"in k&&(Q.textOffset=S(k.textposition),Q.textColor=t(k.textfont,1,fe),Q.textSize=x(k.textfont.size,fe,h.identity,12),Q.textFont=k.textfont.family,Q.textAngle=0);var ke=["x","y","z"];for(Q.project=[!1,!1,!1],Q.projectScale=[1,1,1],Q.projectOpacity=[1,1,1],ee=0;ee<3;++ee){var We=k.projection[ke[ee]];(Q.project[ee]=We.show)&&(Q.projectOpacity[ee]=We.opacity,Q.projectScale[ee]=We.scale)}Q.errorBounds=u(k,z,H);var nt=v([k.error_x,k.error_y,k.error_z]);return Q.errorColor=nt.color,Q.errorLineWidth=nt.lineWidth,Q.errorCapSize=nt.capSize,Q.delaunayAxis=k.surfaceaxis,Q.delaunayColor=g(k.surfacecolor),Q}function T(A){if(h.isArrayOrTypedArray(A)){var k=A[0];return h.isArrayOrTypedArray(k)&&(A=k),"rgb("+A.slice(0,3).map(function(_){return Math.round(_*255)})+")"}return null}function i(A){return h.isArrayOrTypedArray(A)?A.length===4&&typeof A[0]=="number"?T(A):A.map(T):null}f.update=function(A){var k=this.scene.glplot.gl,_,H,z,N,O=l.solid;this.data=A;var F=E(this.scene,A);"mode"in F&&(this.mode=F.mode),"lineDashes"in F&&F.lineDashes in l&&(O=l[F.lineDashes]),this.color=i(F.scatterColor)||i(F.lineColor),this.dataPoints=F.position,_={gl:this.scene.glplot.gl,position:F.position,color:F.lineColor,lineWidth:F.lineWidth||1,dashes:O[0],dashScale:O[1],opacity:A.opacity,connectGaps:A.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(_):(this.linePlot=p(_),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var U=A.opacity;if(A.marker&&A.marker.opacity!==void 0&&(U*=A.marker.opacity),H={gl:this.scene.glplot.gl,position:F.position,color:F.scatterColor,size:F.scatterSize,glyph:F.scatterMarker,opacity:U,orthographic:!0,lineWidth:F.scatterLineWidth,lineColor:F.scatterLineColor,project:F.project,projectScale:F.projectScale,projectOpacity:F.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(H):(this.scatterPlot=L(H),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),N={gl:this.scene.glplot.gl,position:F.position,glyph:F.text,color:F.textColor,size:F.textSize,angle:F.textAngle,alignment:F.textOffset,font:F.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:A.opacity},this.textLabels=A.hovertext||A.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(N):(this.textMarkers=L(N),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),z={gl:this.scene.glplot.gl,position:F.position,color:F.errorColor,error:F.errorBounds,lineWidth:F.errorLineWidth,capSize:F.errorCapSize,opacity:A.opacity},this.errorBars?F.errorBounds?this.errorBars.update(z):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):F.errorBounds&&(this.errorBars=n(z),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),F.delaunayAxis>=0){var Z=w(F.position,F.delaunayColor,F.delaunayAxis);Z.opacity=A.opacity,this.delaunayMesh?this.delaunayMesh.update(Z):(Z.gl=k,this.delaunayMesh=C(Z),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},f.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())};function R(A,k){var _=new b(A,k.uid);return _.update(k),_}V.exports=R},21428:function(V,B,e){var p=e(73972),L=e(71828),n=e(34098),C=e(49508),y=e(11058),h=e(82410),g=e(44542);V.exports=function(l,a,s,c){function u(M,P){return L.coerce(l,a,g,M,P)}var b=t(l,a,u,c);if(!b){a.visible=!1;return}u("text"),u("hovertext"),u("hovertemplate"),u("xhoverformat"),u("yhoverformat"),u("zhoverformat"),u("mode"),n.hasLines(a)&&(u("connectgaps"),y(l,a,s,c,u)),n.hasMarkers(a)&&C(l,a,s,c,u,{noSelect:!0,noAngle:!0}),n.hasText(a)&&(u("texttemplate"),h(l,a,c,u,{noSelect:!0}));var f=(a.line||{}).color,w=(a.marker||{}).color;u("surfaceaxis")>=0&&u("surfacecolor",f||w);for(var v=["x","y","z"],o=0;o<3;++o){var d="projection."+v[o];u(d+".show")&&(u(d+".opacity"),u(d+".scale"))}var S=p.getComponentMethod("errorbars","supplyDefaults");S(l,a,f||w||s,{axis:"z"}),S(l,a,f||w||s,{axis:"y",inherit:"z"}),S(l,a,f||w||s,{axis:"x",inherit:"z"})};function t(r,l,a,s){var c=0,u=a("x"),b=a("y"),f=a("z"),w=p.getComponentMethod("calendars","handleTraceDefaults");return w(r,l,["x","y","z"],s),u&&b&&f&&(c=Math.min(u.length,b.length,f.length),l._length=l._xlength=l._ylength=l._zlength=c),c}},13551:function(V,B,e){V.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(V,B,e){var p=e(82196),L=e(9012),n=e(5386).fF,C=e(5386).si,y=e(50693),h=e(1426).extendFlat,g=p.marker,t=p.line,r=g.line;V.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:h({},p.mode,{dflt:"markers"}),text:h({},p.text,{}),texttemplate:C({editType:"plot"},{keys:["a","b","text"]}),hovertext:h({},p.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:h({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:p.connectgaps,fill:h({},p.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:p.fillcolor,marker:h({symbol:g.symbol,opacity:g.opacity,maxdisplayed:g.maxdisplayed,angle:g.angle,angleref:g.angleref,standoff:g.standoff,size:g.size,sizeref:g.sizeref,sizemin:g.sizemin,sizemode:g.sizemode,line:h({width:r.width,editType:"calc"},y("marker.line")),gradient:g.gradient,editType:"calc"},y("marker")),textfont:p.textfont,textposition:p.textposition,selected:p.selected,unselected:p.unselected,hoverinfo:h({},L.hoverinfo,{flags:["a","b","text","name"]}),hoveron:p.hoveron,hovertemplate:n()}},34618:function(V,B,e){var p=e(92770),L=e(36922),n=e(75225),C=e(66279),y=e(47761).calcMarkerSize,h=e(22882);V.exports=function(t,r){var l=r._carpetTrace=h(t,r);if(!(!l||!l.visible||l.visible==="legendonly")){var a;r.xaxis=l.xaxis,r.yaxis=l.yaxis;var s=r._length,c=new Array(s),u,b,f=!1;for(a=0;a<s;a++)if(u=r.a[a],b=r.b[a],p(u)&&p(b)){var w=l.ab2xy(+u,+b,!0),v=l.isVisible(+u,+b);v||(f=!0),c[a]={x:w[0],y:w[1],a:u,b,vis:v}}else c[a]={x:!1,y:!1};return r._needsCull=f,c[0].carpet=l,c[0].trace=r,y(r,s),L(t,r),n(c,r),C(c,r),c}}},98965:function(V,B,e){var p=e(71828),L=e(47581),n=e(34098),C=e(49508),y=e(11058),h=e(94039),g=e(82410),t=e(28908),r=e(97001);V.exports=function(a,s,c,u){function b(M,P){return p.coerce(a,s,r,M,P)}b("carpet"),s.xaxis="x",s.yaxis="y";var f=b("a"),w=b("b"),v=Math.min(f.length,w.length);if(!v){s.visible=!1;return}s._length=v,b("text"),b("texttemplate"),b("hovertext");var o=v<L.PTS_LINESONLY?"lines+markers":"lines";b("mode",o),n.hasLines(s)&&(y(a,s,c,u,b,{backoff:!0}),h(a,s,b),b("connectgaps")),n.hasMarkers(s)&&C(a,s,c,u,b,{gradient:!0}),n.hasText(s)&&g(a,s,u,b);var d=[];(n.hasMarkers(s)||n.hasText(s))&&(b("marker.maxdisplayed"),d.push("points")),b("fill"),s.fill!=="none"&&(t(a,s,c,b),n.hasLines(s)||h(a,s,b)),(s.fill==="tonext"||s.fill==="toself")&&d.push("fills");var S=b("hoveron",d.join("+")||"points");S!=="fills"&&b("hovertemplate"),p.coerceSelectionMarkerOpacity(s,b)}},16165:function(V){V.exports=function(e,p,L,n,C){var y=n[C];return e.a=y.a,e.b=y.b,e.y=y.y,e}},48953:function(V){V.exports=function(e,p){var L={},n=p._carpet,C=n.ab2ij([e.a,e.b]),y=Math.floor(C[0]),h=C[0]-y,g=Math.floor(C[1]),t=C[1]-g,r=n.evalxy([],y,g,h,t);return L.yLabel=r[1].toFixed(3),L}},22931:function(V,B,e){var p=e(33720),L=e(71828).fillText;V.exports=function(C,y,h,g){var t=p(C,y,h,g);if(!t||t[0].index===!1)return;var r=t[0];if(r.index===void 0){var l=1-r.y0/C.ya._length,a=C.xa._length,s=a*l/2,c=a-s;return r.x0=Math.max(Math.min(r.x0,c),s),r.x1=Math.max(Math.min(r.x1,c),s),t}var u=r.cd[r.index];r.a=u.a,r.b=u.b,r.xLabelVal=void 0,r.yLabelVal=void 0;var b=r.trace,f=b._carpet,w=b._module.formatLabels(u,b);r.yLabel=w.yLabel,delete r.text;var v=[];function o(M,P){var x;M.labelprefix&&M.labelprefix.length>0?x=M.labelprefix.replace(/ = $/,""):x=M._hovertitle,v.push(x+": "+P.toFixed(3)+M.labelsuffix)}if(!b.hovertemplate){var d=u.hi||b.hoverinfo,S=d.split("+");S.indexOf("all")!==-1&&(S=["a","b","text"]),S.indexOf("a")!==-1&&o(f.aaxis,u.a),S.indexOf("b")!==-1&&o(f.baxis,u.b),v.push("y: "+r.yLabel),S.indexOf("text")!==-1&&L(u,b,v),r.extraText=v.join("<br>")}return t}},46858:function(V,B,e){V.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(V,B,e){var p=e(32663),L=e(89298),n=e(91424);V.exports=function(y,h,g,t){var r,l,a,s=g[0][0].carpet,c=L.getFromId(y,s.xaxis||"x"),u=L.getFromId(y,s.yaxis||"y"),b={xaxis:c,yaxis:u,plot:h.plot};for(r=0;r<g.length;r++)l=g[r][0].trace,l._xA=c,l._yA=u;for(p(y,b,g,t),r=0;r<g.length;r++)l=g[r][0].trace,a=t.selectAll("g.trace"+l.uid+" .js-line"),n.setClipUrl(a,g[r][0].carpet._clipPathId,y)}},19316:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(82196),C=e(9012),y=e(50693),h=e(79952).P,g=e(1426).extendFlat,t=e(30962).overrideAll,r=n.marker,l=n.line,a=r.line;V.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:g({},n.mode,{dflt:"markers"}),text:g({},n.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:g({},n.hovertext,{}),textfont:n.textfont,textposition:n.textposition,line:{color:l.color,width:l.width,dash:h},connectgaps:n.connectgaps,marker:g({symbol:r.symbol,opacity:r.opacity,angle:r.angle,angleref:g({},r.angleref,{values:["previous","up","north"]}),standoff:r.standoff,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,colorbar:r.colorbar,line:g({width:a.width},y("marker.line")),gradient:r.gradient},y("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:n.fillcolor,selected:n.selected,unselected:n.unselected,hoverinfo:g({},C.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:p()},"calc","nested")},84622:function(V,B,e){var p=e(92770),L=e(50606).BADNUM,n=e(36922),C=e(75225),y=e(66279),h=e(71828)._;function g(t){return t&&typeof t=="string"}V.exports=function(r,l){var a=Array.isArray(l.locations),s=a?l.locations.length:l._length,c=new Array(s),u;l.geojson?u=function(d){return g(d)||p(d)}:u=g;for(var b=0;b<s;b++){var f=c[b]={};if(a){var w=l.locations[b];f.loc=u(w)?w:null}else{var v=l.lon[b],o=l.lat[b];p(v)&&p(o)?f.lonlat=[+v,+o]:f.lonlat=[L,L]}}return C(c,l),n(r,l),y(c,l),s&&(c[0].t={labels:{lat:h(r,"lat:")+" ",lon:h(r,"lon:")+" "}}),c}},10659:function(V,B,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),y=e(82410),h=e(28908),g=e(19316);V.exports=function(r,l,a,s){function c(S,M){return p.coerce(r,l,g,S,M)}var u=c("locations"),b;if(u&&u.length){var f=c("geojson"),w;(typeof f=="string"&&f!==""||p.isPlainObject(f))&&(w="geojson-id");var v=c("locationmode",w);v==="geojson-id"&&c("featureidkey"),b=u.length}else{var o=c("lon")||[],d=c("lat")||[];b=Math.min(o.length,d.length)}if(!b){l.visible=!1;return}l._length=b,c("text"),c("hovertext"),c("hovertemplate"),c("mode"),L.hasLines(l)&&(C(r,l,a,s,c),c("connectgaps")),L.hasMarkers(l)&&n(r,l,a,s,c,{gradient:!0}),L.hasText(l)&&(c("texttemplate"),y(r,l,s,c)),c("fill"),l.fill!=="none"&&h(r,l,a,c),p.coerceSelectionMarkerOpacity(l,c)}},84084:function(V){V.exports=function(e,p,L,n,C){e.lon=p.lon,e.lat=p.lat,e.location=p.loc?p.loc:null;var y=n[C];return y.fIn&&y.fIn.properties&&(e.properties=y.fIn.properties),e}},82719:function(V,B,e){var p=e(89298);V.exports=function(n,C,y){var h={},g=y[C.geo]._subplot,t=g.mockAxis,r=n.lonlat;return h.lonLabel=p.tickText(t,t.c2l(r[0]),!0).text,h.latLabel=p.tickText(t,t.c2l(r[1]),!0).text,h}},14977:function(V,B,e){var p=e(30211),L=e(50606).BADNUM,n=e(34603),C=e(71828).fillText,y=e(19316);V.exports=function(t,r,l){var a=t.cd,s=a[0].trace,c=t.xa,u=t.ya,b=t.subplot,f=b.projection.isLonLatOverEdges,w=b.project;function v(E){var T=E.lonlat;if(T[0]===L||f(T))return 1/0;var i=w(T),R=w([r,l]),A=Math.abs(i[0]-R[0]),k=Math.abs(i[1]-R[1]),_=Math.max(3,E.mrc||0);return Math.max(Math.sqrt(A*A+k*k)-_,1-3/_)}if(p.getClosest(a,v,t),t.index!==!1){var o=a[t.index],d=o.lonlat,S=[c.c2p(d),u.c2p(d)],M=o.mrc||1;t.x0=S[0]-M,t.x1=S[0]+M,t.y0=S[1]-M,t.y1=S[1]+M,t.loc=o.loc,t.lon=d[0],t.lat=d[1];var P={};P[s.geo]={_subplot:b};var x=s._module.formatLabels(o,s,P);return t.lonLabel=x.lonLabel,t.latLabel=x.latLabel,t.color=n(s,o),t.extraText=h(s,o,t,a[0].t.labels),t.hovertemplate=s.hovertemplate,[t]}};function h(g,t,r,l){if(g.hovertemplate)return;var a=t.hi||g.hoverinfo,s=a==="all"?y.hoverinfo.flags:a.split("+"),c=s.indexOf("location")!==-1&&Array.isArray(g.locations),u=s.indexOf("lon")!==-1,b=s.indexOf("lat")!==-1,f=s.indexOf("text")!==-1,w=[];function v(o){return o+""}return c?w.push(t.loc):u&&b?w.push("("+v(r.latLabel)+", "+v(r.lonLabel)+")"):u?w.push(l.lon+v(r.lonLabel)):b&&w.push(l.lat+v(r.latLabel)),f&&C(t,g,w),w.join("<br>")}},17988:function(V,B,e){V.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(V,B,e){var p=e(39898),L=e(71828),n=e(90973).getTopojsonFeatures,C=e(18214),y=e(41327),h=e(71739).findExtremes,g=e(50606).BADNUM,t=e(47761).calcMarkerSize,r=e(34098),l=e(33095);function a(c,u,b){var f=u.layers.frontplot.select(".scatterlayer"),w=L.makeTraceGroups(f,b,"trace scattergeo");function v(o,d){o.lonlat[0]===g&&p.select(d).remove()}w.selectAll("*").remove(),w.each(function(o){var d=p.select(this),S=o[0].trace;if(r.hasLines(S)||S.fill!=="none"){var M=C.calcTraceToLineCoords(o),P=S.fill!=="none"?C.makePolygon(M):C.makeLine(M);d.selectAll("path.js-line").data([{geojson:P,trace:S}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}r.hasMarkers(S)&&d.selectAll("path.point").data(L.identity).enter().append("path").classed("point",!0).each(function(x){v(x,this)}),r.hasText(S)&&d.selectAll("g").data(L.identity).enter().append("g").append("text").each(function(x){v(x,this)}),l(c,o)})}function s(c,u){var b=c[0].trace,f=u[b.geo],w=f._subplot,v=b._length,o,d;if(Array.isArray(b.locations)){var S=b.locationmode,M=S==="geojson-id"?y.extractTraceFeature(c):n(b,w.topojson);for(o=0;o<v;o++){d=c[o];var P=S==="geojson-id"?d.fOut:y.locationToFeature(S,d.loc,M);d.lonlat=P?P.properties.ct:[g,g]}}var x={padded:!0},E,T;if(f.fitbounds==="geojson"&&b.locationmode==="geojson-id"){var i=y.computeBbox(y.getTraceGeojson(b));E=[i[0],i[2]],T=[i[1],i[3]]}else{for(E=new Array(v),T=new Array(v),o=0;o<v;o++)d=c[o],E[o]=d.lonlat[0],T[o]=d.lonlat[1];x.ppad=t(b,v)}b._extremes.lon=h(f.lonaxis._ax,E,x),b._extremes.lat=h(f.lataxis._ax,T,x)}V.exports={calcGeoJSON:s,plot:a}},20548:function(V,B,e){var p=e(34098),L=e(50606).BADNUM;V.exports=function(C,y){var h=C.cd,g=C.xaxis,t=C.yaxis,r=[],l=h[0].trace,a,s,c,u,b,f=!p.hasMarkers(l)&&!p.hasText(l);if(f)return[];if(y===!1)for(b=0;b<h.length;b++)h[b].selected=0;else for(b=0;b<h.length;b++)a=h[b],s=a.lonlat,s[0]!==L&&(c=g.c2p(s),u=t.c2p(s),y.contains([c,u],null,b,C)?(r.push({pointNumber:b,lon:s[0],lat:s[1]}),a.selected=1):a.selected=0);return r}},33095:function(V,B,e){var p=e(39898),L=e(91424),n=e(7901),C=e(16296),y=C.stylePoints,h=C.styleText;V.exports=function(r,l){l&&g(r,l)};function g(t,r){var l=r[0].trace,a=r[0].node3;a.style("opacity",r[0].trace.opacity),y(a,l,t),h(a,l,t),a.selectAll("path.js-line").style("fill","none").each(function(s){var c=p.select(this),u=s.trace,b=u.line||{};c.call(n.stroke,b.color).call(L.dashLine,b.dash||"",b.width||0),u.fill!=="none"&&c.call(n.fill,u.fillcolor)})}},42341:function(V,B,e){var p=e(9012),L=e(82196),n=e(12663).axisHoverFormat,C=e(50693),y=e(78607),h=e(1426).extendFlat,g=e(30962).overrideAll,t=e(78232).DASHES,r=L.line,l=L.marker,a=l.line,s=V.exports=g({x:L.x,x0:L.x0,dx:L.dx,y:L.y,y0:L.y0,dy:L.dy,xperiod:L.xperiod,yperiod:L.yperiod,xperiod0:L.xperiod0,yperiod0:L.yperiod0,xperiodalignment:L.xperiodalignment,yperiodalignment:L.yperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),text:L.text,hovertext:L.hovertext,textposition:L.textposition,textfont:L.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:r.color,width:r.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:y(t),dflt:"solid"}},marker:h({},C("marker"),{symbol:l.symbol,angle:l.angle,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,opacity:l.opacity,colorbar:l.colorbar,line:h({},C("marker.line"),{width:a.width})}),connectgaps:L.connectgaps,fill:h({},L.fill,{dflt:"none"}),fillcolor:L.fillcolor,selected:{marker:L.selected.marker,textfont:L.selected.textfont},unselected:{marker:L.unselected.marker,textfont:L.unselected.textfont},opacity:p.opacity},"calc","nested");s.x.editType=s.y.editType=s.x0.editType=s.y0.editType="calc+clearAxisTypes",s.hovertemplate=L.hovertemplate,s.texttemplate=L.texttemplate},72156:function(V,B,e){var p=e(20794);V.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:p.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(V,B,e){var p=e(88294),L=e(71828),n=e(41675),C=e(71739).findExtremes,y=e(42973),h=e(47761),g=h.calcMarkerSize,t=h.calcAxisExpansion,r=h.setFirstScatter,l=e(36922),a=e(19635),s=e(38967),c=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;V.exports=function(v,o){var d=v._fullLayout,S=o._xA=n.getFromId(v,o.xaxis,"x"),M=o._yA=n.getFromId(v,o.yaxis,"y"),P=d._plots[o.xaxis+o.yaxis],x=o._length,E=x>=u,T=x*2,i={},R,A=S.makeCalcdata(o,"x"),k=M.makeCalcdata(o,"y"),_=y(o,S,"x",A),H=y(o,M,"y",k),z=_.vals,N=H.vals;o._x=z,o._y=N,o.xperiodalignment&&(o._origX=A,o._xStarts=_.starts,o._xEnds=_.ends),o.yperiodalignment&&(o._origY=k,o._yStarts=H.starts,o._yEnds=H.ends);var O=new Array(T),F=new Array(x);for(R=0;R<x;R++)O[R*2]=z[R]===c?NaN:z[R],O[R*2+1]=N[R]===c?NaN:N[R],F[R]=R;if(S.type==="log")for(R=0;R<T;R+=2)O[R]=S.c2l(O[R]);if(M.type==="log")for(R=1;R<T;R+=2)O[R]=M.c2l(O[R]);E&&S.type!=="log"&&M.type!=="log"?i.tree=p(O):i.ids=F,l(v,o);var U=f(v,P,o,O,z,N),Z=s(v,P);r(d,o);var q;return E?U.marker&&(q=U.marker.sizeAvg||Math.max(U.marker.size,3)):q=g(o,x),t(v,o,S,M,z,N,q),U.errorX&&b(o,S,U.errorX),U.errorY&&b(o,M,U.errorY),U.fill&&!Z.fill2d&&(Z.fill2d=!0),U.marker&&!Z.scatter2d&&(Z.scatter2d=!0),U.line&&!Z.line2d&&(Z.line2d=!0),(U.errorX||U.errorY)&&!Z.error2d&&(Z.error2d=!0),U.text&&!Z.glText&&(Z.glText=!0),U.marker&&(U.marker.snap=x),Z.lineOptions.push(U.line),Z.errorXOptions.push(U.errorX),Z.errorYOptions.push(U.errorY),Z.fillOptions.push(U.fill),Z.markerOptions.push(U.marker),Z.markerSelectedOptions.push(U.markerSel),Z.markerUnselectedOptions.push(U.markerUnsel),Z.textOptions.push(U.text),Z.textSelectedOptions.push(U.textSel),Z.textUnselectedOptions.push(U.textUnsel),Z.selectBatch.push([]),Z.unselectBatch.push([]),i._scene=Z,i.index=Z.count,i.x=z,i.y=N,i.positions=O,Z.count++,[{x:!1,y:!1,t:i,trace:o}]};function b(w,v,o){var d=w._extremes[v._id],S=C(v,o._bnds,{padded:!0});d.min=d.min.concat(S.min),d.max=d.max.concat(S.max)}function f(w,v,o,d,S,M){var P=a.style(w,o);if(P.marker&&(P.marker.positions=d),P.line&&d.length>1&&L.extendFlat(P.line,a.linePositions(w,o,d)),P.errorX||P.errorY){var x=a.errorBarPositions(w,o,d,S,M);P.errorX&&L.extendFlat(P.errorX,x.x),P.errorY&&L.extendFlat(P.errorY,x.y)}return P.text&&(L.extendFlat(P.text,{positions:d},a.textPosition(w,o,P.text,P.marker)),L.extendFlat(P.textSel,{positions:d},a.textPosition(w,o,P.text,P.markerSel)),L.extendFlat(P.textUnsel,{positions:d},a.textPosition(w,o,P.text,P.markerUnsel))),P}},78232:function(V){var B=20;V.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:B,SYMBOL_STROKE:B/20,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(V,B,e){var p=e(92770),L=e(82019),n=e(25075),C=e(73972),y=e(71828),h=e(91424),g=e(41675),t=e(81697).formatColor,r=e(34098),l=e(39984),a=e(68645),s=e(78232),c=e(37822).DESELECTDIM,u={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},b=e(23469).appendArrayPointValue;function f(_,H){var z,N={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},O=_._context.plotGlPixelRatio;if(H.visible!==!0)return N;if(r.hasText(H)&&(N.text=w(_,H),N.textSel=d(_,H,H.selected),N.textUnsel=d(_,H,H.unselected)),r.hasMarkers(H)&&(N.marker=v(_,H),N.markerSel=o(_,H,H.selected),N.markerUnsel=o(_,H,H.unselected),!H.unselected&&y.isArrayOrTypedArray(H.marker.opacity))){var F=H.marker.opacity;for(N.markerUnsel.opacity=new Array(F.length),z=0;z<F.length;z++)N.markerUnsel.opacity[z]=c*F[z]}if(r.hasLines(H)){N.line={overlay:!0,thickness:H.line.width*O,color:H.line.color,opacity:H.opacity};var U=(s.DASHES[H.line.dash]||[1]).slice();for(z=0;z<U.length;++z)U[z]*=H.line.width*O;N.line.dashes=U}return H.error_x&&H.error_x.visible&&(N.errorX=S(H,H.error_x,O)),H.error_y&&H.error_y.visible&&(N.errorY=S(H,H.error_y,O)),H.fill&&H.fill!=="none"&&(N.fill={closed:!0,fill:H.fillcolor,thickness:0}),N}function w(_,H){var z=_._fullLayout,N=H._length,O=H.textfont,F=H.textposition,U=Array.isArray(F)?F:[F],Z=O.color,q=O.size,J=O.family,te={},fe,K=_._context.plotGlPixelRatio,Y=H.texttemplate;if(Y){te.text=[];var W=z._d3locale,X=Array.isArray(Y),re=X?Math.min(Y.length,N):N,se=X?function(Ae){return Y[Ae]}:function(){return Y};for(fe=0;fe<re;fe++){var Q={i:fe},ee=H._module.formatLabels(Q,H,z),le={};b(le,H,fe);var oe=H._meta||{};te.text.push(y.texttemplateString(se(fe),ee,W,le,Q,oe))}}else Array.isArray(H.text)&&H.text.length<N?te.text=H.text.slice():te.text=H.text;if(Array.isArray(te.text))for(fe=te.text.length;fe<N;fe++)te.text[fe]="";for(te.opacity=H.opacity,te.font={},te.align=[],te.baseline=[],fe=0;fe<U.length;fe++){var he=U[fe].split(/\s+/);switch(he[1]){case"left":te.align.push("right");break;case"right":te.align.push("left");break;default:te.align.push(he[1])}switch(he[0]){case"top":te.baseline.push("bottom");break;case"bottom":te.baseline.push("top");break;default:te.baseline.push(he[0])}}if(Array.isArray(Z))for(te.color=new Array(N),fe=0;fe<N;fe++)te.color[fe]=Z[fe];else te.color=Z;if(y.isArrayOrTypedArray(q)||Array.isArray(J))for(te.font=new Array(N),fe=0;fe<N;fe++){var xe=te.font[fe]={};xe.size=(y.isTypedArray(q)?q[fe]:Array.isArray(q)?p(q[fe])?q[fe]:0:q)*K,xe.family=Array.isArray(J)?J[fe]:J}else te.font={size:q*K,family:J};return te}function v(_,H){var z=H._length,N=H.marker,O={},F,U=y.isArrayOrTypedArray(N.symbol),Z=y.isArrayOrTypedArray(N.angle),q=y.isArrayOrTypedArray(N.color),J=y.isArrayOrTypedArray(N.line.color),te=y.isArrayOrTypedArray(N.opacity),fe=y.isArrayOrTypedArray(N.size),K=y.isArrayOrTypedArray(N.line.width),Y;if(U||(Y=a.isOpenSymbol(N.symbol)),U||q||J||te||Z){O.symbols=new Array(z),O.angles=new Array(z),O.colors=new Array(z),O.borderColors=new Array(z);var W=N.symbol,X=N.angle,re=t(N,N.opacity,z),se=t(N.line,N.opacity,z);if(!Array.isArray(se[0])){var Q=se;for(se=Array(z),F=0;F<z;F++)se[F]=Q}if(!Array.isArray(re[0])){var ee=re;for(re=Array(z),F=0;F<z;F++)re[F]=ee}if(!Array.isArray(W)){var le=W;for(W=Array(z),F=0;F<z;F++)W[F]=le}if(!Array.isArray(X)){var oe=X;for(X=Array(z),F=0;F<z;F++)X[F]=oe}for(O.symbols=W,O.angles=X,O.colors=re,O.borderColors=se,F=0;F<z;F++)U&&(Y=a.isOpenSymbol(N.symbol[F])),Y&&(se[F]=re[F].slice(),re[F]=re[F].slice(),re[F][3]=0);for(O.opacity=H.opacity,O.markers=new Array(z),F=0;F<z;F++)O.markers[F]=i({mx:O.symbols[F],ma:O.angles[F]},H)}else Y?(O.color=n(N.color,"uint8"),O.color[3]=0,O.borderColor=n(N.color,"uint8")):(O.color=n(N.color,"uint8"),O.borderColor=n(N.line.color,"uint8")),O.opacity=H.opacity*N.opacity,O.marker=i({mx:N.symbol,ma:N.angle},H);var he=1,xe=l(H,he),Ae;if(fe||K){var Se=O.sizes=new Array(z),Oe=O.borderSizes=new Array(z),Ve=0,Ee;if(fe){for(F=0;F<z;F++)Se[F]=xe(N.size[F]),Ve+=Se[F];Ee=Ve/z}else for(Ae=xe(N.size),F=0;F<z;F++)Se[F]=Ae;if(K)for(F=0;F<z;F++)Oe[F]=N.line.width[F];else for(Ae=N.line.width,F=0;F<z;F++)Oe[F]=Ae;O.sizeAvg=Ee}else O.size=xe(N&&N.size||10),O.borderSizes=xe(N.line.width);return O}function o(_,H,z){var N=H.marker,O={};return z&&(z.marker&&z.marker.symbol?O=v(_,y.extendFlat({},N,z.marker)):z.marker&&(z.marker.size&&(O.size=z.marker.size),z.marker.color&&(O.colors=z.marker.color),z.marker.opacity!==void 0&&(O.opacity=z.marker.opacity))),O}function d(_,H,z){var N={};if(!z)return N;if(z.textfont){var O={opacity:1,text:H.text,texttemplate:H.texttemplate,textposition:H.textposition,textfont:y.extendFlat({},H.textfont)};z.textfont&&y.extendFlat(O.textfont,z.textfont),N=w(_,O)}return N}function S(_,H,z){var N={capSize:H.width*2*z,lineWidth:H.thickness*z,color:H.color};return H.copy_ystyle&&(N=_.error_y),N}var M=s.SYMBOL_SDF_SIZE,P=s.SYMBOL_SIZE,x=s.SYMBOL_STROKE,E={},T=h.symbolFuncs[0](P*.05);function i(_,H){var z=_.mx;if(z==="circle")return null;var N,O,F=h.symbolNumber(z),U=h.symbolFuncs[F%100],Z=!!h.symbolNoDot[F%100],q=!!h.symbolNoFill[F%100],J=a.isDotSymbol(z);if(_.ma&&(z+="_"+_.ma),E[z])return E[z];var te=h.getMarkerAngle(_,H);return J&&!Z?N=U(P*1.1,te)+T:N=U(P,te),O=L(N,{w:M,h:M,viewBox:[-P,-P,P,P],stroke:q?x:-x}),E[z]=O,O||null}function R(_,H,z){var N=z.length,O=N/2,F,U;if(r.hasLines(H)&&O)if(H.line.shape==="hv"){for(F=[],U=0;U<O-1;U++)isNaN(z[U*2])||isNaN(z[U*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(z[U*2],z[U*2+1]),!isNaN(z[U*2+2])&&!isNaN(z[U*2+3])?F.push(z[U*2+2],z[U*2+1]):F.push(NaN,NaN));F.push(z[N-2],z[N-1])}else if(H.line.shape==="hvh"){for(F=[],U=0;U<O-1;U++)if(isNaN(z[U*2])||isNaN(z[U*2+1])||isNaN(z[U*2+2])||isNaN(z[U*2+3]))!isNaN(z[U*2])&&!isNaN(z[U*2+1])?F.push(z[U*2],z[U*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var Z=(z[U*2]+z[U*2+2])/2;F.push(z[U*2],z[U*2+1],Z,z[U*2+1],Z,z[U*2+3])}F.push(z[N-2],z[N-1])}else if(H.line.shape==="vhv"){for(F=[],U=0;U<O-1;U++)if(isNaN(z[U*2])||isNaN(z[U*2+1])||isNaN(z[U*2+2])||isNaN(z[U*2+3]))!isNaN(z[U*2])&&!isNaN(z[U*2+1])?F.push(z[U*2],z[U*2+1]):F.push(NaN,NaN),F.push(NaN,NaN);else{var q=(z[U*2+1]+z[U*2+3])/2;F.push(z[U*2],z[U*2+1],z[U*2],q,z[U*2+2],q)}F.push(z[N-2],z[N-1])}else if(H.line.shape==="vh"){for(F=[],U=0;U<O-1;U++)isNaN(z[U*2])||isNaN(z[U*2+1])?F.push(NaN,NaN,NaN,NaN):(F.push(z[U*2],z[U*2+1]),!isNaN(z[U*2+2])&&!isNaN(z[U*2+3])?F.push(z[U*2],z[U*2+3]):F.push(NaN,NaN));F.push(z[N-2],z[N-1])}else F=z;var J=!1;for(U=0;U<F.length;U++)if(isNaN(F[U])){J=!0;break}var te=J||F.length>s.TOO_MANY_POINTS||r.hasMarkers(H)?"rect":"round";if(J&&H.connectgaps){var fe=F[0],K=F[1];for(U=0;U<F.length;U+=2)isNaN(F[U])||isNaN(F[U+1])?(F[U]=fe,F[U+1]=K):(fe=F[U],K=F[U+1])}return{join:te,positions:F}}function A(_,H,z,N,O){var F=C.getComponentMethod("errorbars","makeComputeError"),U=g.getFromId(_,H.xaxis,"x"),Z=g.getFromId(_,H.yaxis,"y"),q=z.length/2,J={};function te(fe,K){var Y=K._id.charAt(0),W=H["error_"+Y];if(W&&W.visible&&(K.type==="linear"||K.type==="log")){for(var X=F(W),re={x:0,y:1}[Y],se={x:[0,1,2,3],y:[2,3,0,1]}[Y],Q=new Float64Array(4*q),ee=1/0,le=-1/0,oe=0,he=0;oe<q;oe++,he+=4){var xe=fe[oe];if(p(xe)){var Ae=z[oe*2+re],Se=X(xe,oe),Oe=Se[0],Ve=Se[1];if(p(Oe)&&p(Ve)){var Ee=xe-Oe,Te=xe+Ve;Q[he+se[0]]=Ae-K.c2l(Ee),Q[he+se[1]]=K.c2l(Te)-Ae,Q[he+se[2]]=0,Q[he+se[3]]=0,ee=Math.min(ee,xe-Oe),le=Math.max(le,xe+Ve)}}}J[Y]={positions:z,errors:Q,_bnds:[ee,le]}}}return te(N,U),te(O,Z),J}function k(_,H,z,N){var O=H._length,F={},U;if(r.hasMarkers(H)){var Z=z.font,q=z.align,J=z.baseline;for(F.offset=new Array(O),U=0;U<O;U++){var te=N.sizes?N.sizes[U]:N.size,fe=Array.isArray(Z)?Z[U].size:Z.size,K=Array.isArray(q)?q.length>1?q[U]:q[0]:q,Y=Array.isArray(J)?J.length>1?J[U]:J[0]:J,W=u[K],X=u[Y],re=te?te/.8+1:0,se=-X*re-X*.5;F.offset[U]=[W*re/fe,se/fe]}}return F}V.exports={style:f,markerStyle:v,markerSelection:o,linePositions:R,errorBarPositions:A,textPosition:k}},47148:function(V,B,e){var p=e(71828),L=e(73972),n=e(68645),C=e(42341),y=e(47581),h=e(34098),g=e(67513),t=e(73927),r=e(49508),l=e(11058),a=e(28908),s=e(82410);V.exports=function(u,b,f,w){function v(T,i){return p.coerce(u,b,C,T,i)}var o=u.marker?n.isOpenSymbol(u.marker.symbol):!1,d=h.isBubble(u),S=g(u,b,w,v);if(!S){b.visible=!1;return}t(u,b,w,v),v("xhoverformat"),v("yhoverformat");var M=S<y.PTS_LINESONLY?"lines+markers":"lines";v("text"),v("hovertext"),v("hovertemplate"),v("mode",M),h.hasLines(b)&&(v("connectgaps"),l(u,b,f,w,v),v("line.shape")),h.hasMarkers(b)&&(r(u,b,f,w,v,{noAngleRef:!0,noStandOff:!0}),v("marker.line.width",o||d?1:0)),h.hasText(b)&&(v("texttemplate"),s(u,b,w,v));var P=(b.line||{}).color,x=(b.marker||{}).color;v("fill"),b.fill!=="none"&&a(u,b,f,v);var E=L.getComponentMethod("errorbars","supplyDefaults");E(u,b,P||x||f,{axis:"y"}),E(u,b,P||x||f,{axis:"x",inherit:"y"}),p.coerceSelectionMarkerOpacity(b,v)}},5345:function(V,B,e){var p=e(71828),L=e(7901),n=e(37822).DESELECTDIM;function C(y){var h=y[0],g=h.trace,t=h.t,r=t._scene,l=t.index,a=r.selectBatch[l],s=r.unselectBatch[l],c=r.textOptions[l],u=r.textSelectedOptions[l]||{},b=r.textUnselectedOptions[l]||{},f=p.extendFlat({},c),w,v;if(a.length||s.length){var o=u.color,d=b.color,S=c.color,M=Array.isArray(S);for(f.color=new Array(g._length),w=0;w<a.length;w++)v=a[w],f.color[v]=o||(M?S[v]:S);for(w=0;w<s.length;w++){v=s[w];var P=M?S[v]:S;f.color[v]=d||(o?P:L.addOpacity(P,n))}}r.glText[l].update(f)}V.exports={styleTextSelection:C}},68101:function(V,B,e){var p=e(8225);V.exports=function(n,C,y){var h=n.i;return"x"in n||(n.x=C._x[h]),"y"in n||(n.y=C._y[h]),p(n,C,y)}},68645:function(V,B,e){var p=e(78232);B.isOpenSymbol=function(L){return typeof L=="string"?p.OPEN_RE.test(L):L%200>100},B.isDotSymbol=function(L){return typeof L=="string"?p.DOT_RE.test(L):L>200}},20794:function(V,B,e){var p=e(73972),L=e(71828),n=e(34603);function C(h,g,t,r){var l=h.cd,a=l[0].t,s=l[0].trace,c=h.xa,u=h.ya,b=a.x,f=a.y,w=c.c2p(g),v=u.c2p(t),o=h.distance,d;if(a.tree){var S=c.p2c(w-o),M=c.p2c(w+o),P=u.p2c(v-o),x=u.p2c(v+o);r==="x"?d=a.tree.range(Math.min(S,M),Math.min(u._rl[0],u._rl[1]),Math.max(S,M),Math.max(u._rl[0],u._rl[1])):d=a.tree.range(Math.min(S,M),Math.min(P,x),Math.max(S,M),Math.max(P,x))}else d=a.ids;var E,T,i,R,A,k,_,H,z,N=o;if(r==="x"){var O=!!s.xperiodalignment,F=!!s.yperiodalignment;for(A=0;A<d.length;A++){if(E=d[A],i=b[E],k=Math.abs(c.c2p(i)-w),O){var U=c.c2p(s._xStarts[E]),Z=c.c2p(s._xEnds[E]);k=w>=Math.min(U,Z)&&w<=Math.max(U,Z)?0:1/0}if(k<N){if(N=k,R=f[E],_=u.c2p(R)-v,F){var q=u.c2p(s._yStarts[E]),J=u.c2p(s._yEnds[E]);_=v>=Math.min(q,J)&&v<=Math.max(q,J)?0:1/0}z=Math.sqrt(k*k+_*_),T=d[A]}}}else for(A=d.length-1;A>-1;A--)E=d[A],i=b[E],R=f[E],k=c.c2p(i)-w,_=u.c2p(R)-v,H=Math.sqrt(k*k+_*_),H<N&&(N=z=H,T=E);return h.index=T,h.distance=N,h.dxy=z,T===void 0?[h]:[y(h,b,f,s)]}function y(h,g,t,r){var l=h.xa,a=h.ya,s=h.distance,c=h.dxy,u=h.index,b={pointNumber:u,x:g[u],y:t[u]};b.tx=Array.isArray(r.text)?r.text[u]:r.text,b.htx=Array.isArray(r.hovertext)?r.hovertext[u]:r.hovertext,b.data=Array.isArray(r.customdata)?r.customdata[u]:r.customdata,b.tp=Array.isArray(r.textposition)?r.textposition[u]:r.textposition;var f=r.textfont;f&&(b.ts=L.isArrayOrTypedArray(f.size)?f.size[u]:f.size,b.tc=Array.isArray(f.color)?f.color[u]:f.color,b.tf=Array.isArray(f.family)?f.family[u]:f.family);var w=r.marker;w&&(b.ms=L.isArrayOrTypedArray(w.size)?w.size[u]:w.size,b.mo=L.isArrayOrTypedArray(w.opacity)?w.opacity[u]:w.opacity,b.mx=L.isArrayOrTypedArray(w.symbol)?w.symbol[u]:w.symbol,b.ma=L.isArrayOrTypedArray(w.angle)?w.angle[u]:w.angle,b.mc=L.isArrayOrTypedArray(w.color)?w.color[u]:w.color);var v=w&&w.line;v&&(b.mlc=Array.isArray(v.color)?v.color[u]:v.color,b.mlw=L.isArrayOrTypedArray(v.width)?v.width[u]:v.width);var o=w&&w.gradient;o&&o.type!=="none"&&(b.mgt=Array.isArray(o.type)?o.type[u]:o.type,b.mgc=Array.isArray(o.color)?o.color[u]:o.color);var d=l.c2p(b.x,!0),S=a.c2p(b.y,!0),M=b.mrc||1,P=r.hoverlabel;P&&(b.hbg=Array.isArray(P.bgcolor)?P.bgcolor[u]:P.bgcolor,b.hbc=Array.isArray(P.bordercolor)?P.bordercolor[u]:P.bordercolor,b.hts=L.isArrayOrTypedArray(P.font.size)?P.font.size[u]:P.font.size,b.htc=Array.isArray(P.font.color)?P.font.color[u]:P.font.color,b.htf=Array.isArray(P.font.family)?P.font.family[u]:P.font.family,b.hnl=L.isArrayOrTypedArray(P.namelength)?P.namelength[u]:P.namelength);var x=r.hoverinfo;x&&(b.hi=Array.isArray(x)?x[u]:x);var E=r.hovertemplate;E&&(b.ht=Array.isArray(E)?E[u]:E);var T={};T[h.index]=b;var i=r._origX,R=r._origY,A=L.extendFlat({},h,{color:n(r,b),x0:d-M,x1:d+M,xLabelVal:i?i[u]:b.x,y0:S-M,y1:S+M,yLabelVal:R?R[u]:b.y,cd:T,distance:s,spikeDistance:c,hovertemplate:b.ht});return b.htx?A.text=b.htx:b.tx?A.text=b.tx:r.text&&(A.text=r.text),L.fillText(b,r,A),p.getComponentMethod("errorbars","hoverInfo")(b,r,A),A}V.exports={hoverPoints:C,calcHover:y}},68868:function(V,B,e){var p=e(72156);p.plot=e(26787),V.exports=p},26787:function(V,B,e){var p=e(11870),L=e(46075),n=e(3593),C=e(42505),y=e(71828),h=e(64505).selectMode,g=e(79749),t=e(34098),r=e(68687),l=e(5345).styleTextSelection,a={};function s(u,b,f,w){var v=u._size,o=u.width*w,d=u.height*w,S=v.l*w,M=v.b*w,P=v.r*w,x=v.t*w,E=v.w*w,T=v.h*w;return[S+b.domain[0]*E,M+f.domain[0]*T,o-P-(1-b.domain[1])*E,d-x-(1-f.domain[1])*T]}var c=V.exports=function(b,f,w){if(w.length){var v=b._fullLayout,o=f._scene,d=f.xaxis,S=f.yaxis,M,P;if(o){var x=g(b,["ANGLE_instanced_arrays","OES_element_index_uint"],a);if(!x){o.init();return}var E=o.count,T=v._glcanvas.data()[0].regl;if(r(b,f,w),o.dirty){if(o.error2d===!0&&(o.error2d=n(T)),o.line2d===!0&&(o.line2d=L(T)),o.scatter2d===!0&&(o.scatter2d=p(T)),o.fill2d===!0&&(o.fill2d=L(T)),o.glText===!0)for(o.glText=new Array(E),M=0;M<E;M++)o.glText[M]=new C(T);if(o.glText){if(E>o.glText.length){var i=E-o.glText.length;for(M=0;M<i;M++)o.glText.push(new C(T))}else if(E<o.glText.length){var R=o.glText.length-E,A=o.glText.splice(E,R);A.forEach(function(Q){Q.destroy()})}for(M=0;M<E;M++)o.glText[M].update(o.textOptions[M])}if(o.line2d&&(o.line2d.update(o.lineOptions),o.lineOptions=o.lineOptions.map(function(Q){if(Q&&Q.positions){for(var ee=Q.positions,le=0;le<ee.length&&(isNaN(ee[le])||isNaN(ee[le+1]));)le+=2;for(var oe=ee.length-2;oe>le&&(isNaN(ee[oe])||isNaN(ee[oe+1]));)oe-=2;Q.positions=ee.slice(le,oe+2)}return Q}),o.line2d.update(o.lineOptions)),o.error2d){var k=(o.errorXOptions||[]).concat(o.errorYOptions||[]);o.error2d.update(k)}o.scatter2d&&o.scatter2d.update(o.markerOptions),o.fillOrder=y.repeat(null,E),o.fill2d&&(o.fillOptions=o.fillOptions.map(function(Q,ee){var le=w[ee];if(!(!Q||!le||!le[0]||!le[0].trace)){var oe=le[0],he=oe.trace,xe=oe.t,Ae=o.lineOptions[ee],Se,Oe,Ve=[];he._ownfill&&Ve.push(ee),he._nexttrace&&Ve.push(ee+1),Ve.length&&(o.fillOrder[ee]=Ve);var Ee=[],Te=Ae&&Ae.positions||xe.positions,Le,Ge;if(he.fill==="tozeroy"){for(Le=0;Le<Te.length&&isNaN(Te[Le+1]);)Le+=2;for(Ge=Te.length-2;Ge>Le&&isNaN(Te[Ge+1]);)Ge-=2;Te[Le+1]!==0&&(Ee=[Te[Le],0]),Ee=Ee.concat(Te.slice(Le,Ge+2)),Te[Ge+1]!==0&&(Ee=Ee.concat([Te[Ge],0]))}else if(he.fill==="tozerox"){for(Le=0;Le<Te.length&&isNaN(Te[Le]);)Le+=2;for(Ge=Te.length-2;Ge>Le&&isNaN(Te[Ge]);)Ge-=2;Te[Le]!==0&&(Ee=[0,Te[Le+1]]),Ee=Ee.concat(Te.slice(Le,Ge+2)),Te[Ge]!==0&&(Ee=Ee.concat([0,Te[Ge+1]]))}else if(he.fill==="toself"||he.fill==="tonext"){for(Ee=[],Se=0,Q.splitNull=!0,Oe=0;Oe<Te.length;Oe+=2)(isNaN(Te[Oe])||isNaN(Te[Oe+1]))&&(Ee=Ee.concat(Te.slice(Se,Oe)),Ee.push(Te[Se],Te[Se+1]),Ee.push(null,null),Se=Oe+2);Ee=Ee.concat(Te.slice(Se)),Se&&Ee.push(Te[Se],Te[Se+1])}else{var He=he._nexttrace;if(He){var ke=o.lineOptions[ee+1];if(ke){var We=ke.positions;if(he.fill==="tonexty"){for(Ee=Te.slice(),ee=Math.floor(We.length/2);ee--;){var nt=We[ee*2],qe=We[ee*2+1];isNaN(nt)||isNaN(qe)||Ee.push(nt,qe)}Q.fill=He.fillcolor}}}}if(he._prevtrace&&he._prevtrace.fill==="tonext"){var Qe=o.lineOptions[ee-1].positions,tt=Ee.length/2;Se=tt;var vt=[Se];for(Oe=0;Oe<Qe.length;Oe+=2)(isNaN(Qe[Oe])||isNaN(Qe[Oe+1]))&&(vt.push(Oe/2+tt+1),Se=Oe+2);Ee=Ee.concat(Qe),Q.hole=vt}return Q.fillmode=he.fill,Q.opacity=he.opacity,Q.positions=Ee,Q}}),o.fill2d.update(o.fillOptions))}var _=v.dragmode,H=h(_),z=v.clickmode.indexOf("select")>-1;for(M=0;M<E;M++){var N=w[M][0],O=N.trace,F=N.t,U=F.index,Z=O._length,q=F.x,J=F.y;if(O.selectedpoints||H||z){if(H||(H=!0),O.selectedpoints){var te=o.selectBatch[U]=y.selIndices2selPoints(O),fe={};for(P=0;P<te.length;P++)fe[te[P]]=1;var K=[];for(P=0;P<Z;P++)fe[P]||K.push(P);o.unselectBatch[U]=K}var Y=F.xpx=new Array(Z),W=F.ypx=new Array(Z);for(P=0;P<Z;P++)Y[P]=d.c2p(q[P]),W[P]=S.c2p(J[P])}else F.xpx=F.ypx=null}if(H){if(o.select2d||(o.select2d=p(v._glcanvas.data()[1].regl)),o.scatter2d){var X=new Array(E);for(M=0;M<E;M++)X[M]=o.selectBatch[M].length||o.unselectBatch[M].length?o.markerUnselectedOptions[M]:{};o.scatter2d.update(X)}o.select2d&&(o.select2d.update(o.markerOptions),o.select2d.update(o.markerSelectedOptions)),o.glText&&w.forEach(function(Q){var ee=((Q||[])[0]||{}).trace||{};t.hasText(ee)&&l(Q)})}else o.scatter2d&&o.scatter2d.update(o.markerOptions);var re={viewport:s(v,d,S,b._context.plotGlPixelRatio),range:[(d._rl||d.range)[0],(S._rl||S.range)[0],(d._rl||d.range)[1],(S._rl||S.range)[1]]},se=y.repeat(re,o.count);o.fill2d&&o.fill2d.update(se),o.line2d&&o.line2d.update(se),o.error2d&&o.error2d.update(se.concat(se)),o.scatter2d&&o.scatter2d.update(se),o.select2d&&o.select2d.update(se),o.glText&&o.glText.forEach(function(Q){Q.update(re)})}}};c.reglPrecompiled=a},38967:function(V,B,e){var p=e(71828);V.exports=function(n,C){var y=C._scene,h={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},g={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return C._scene||(y=C._scene={},y.init=function(){p.extendFlat(y,g,h)},y.init(),y.update=function(r){var l=p.repeat(r,y.count);if(y.fill2d&&y.fill2d.update(l),y.scatter2d&&y.scatter2d.update(l),y.line2d&&y.line2d.update(l),y.error2d&&y.error2d.update(l.concat(l)),y.select2d&&y.select2d.update(l),y.glText)for(var a=0;a<y.count;a++)y.glText[a].update(r)},y.draw=function(){for(var r=y.count,l=y.fill2d,a=y.error2d,s=y.line2d,c=y.scatter2d,u=y.glText,b=y.select2d,f=y.selectBatch,w=y.unselectBatch,v=0;v<r;v++){if(l&&y.fillOrder[v]&&l.draw(y.fillOrder[v]),s&&y.lineOptions[v]&&s.draw(v),a&&(y.errorXOptions[v]&&a.draw(v),y.errorYOptions[v]&&a.draw(v+r)),c&&y.markerOptions[v])if(w[v].length){var o=p.repeat([],y.count);o[v]=w[v],c.draw(o)}else f[v].length||c.draw(v);u[v]&&y.textOptions[v]&&u[v].render()}b&&b.draw(f),y.dirty=!1},y.destroy=function(){y.fill2d&&y.fill2d.destroy&&y.fill2d.destroy(),y.scatter2d&&y.scatter2d.destroy&&y.scatter2d.destroy(),y.error2d&&y.error2d.destroy&&y.error2d.destroy(),y.line2d&&y.line2d.destroy&&y.line2d.destroy(),y.select2d&&y.select2d.destroy&&y.select2d.destroy(),y.glText&&y.glText.forEach(function(r){r.destroy&&r.destroy()}),y.lineOptions=null,y.fillOptions=null,y.markerOptions=null,y.markerSelectedOptions=null,y.markerUnselectedOptions=null,y.errorXOptions=null,y.errorYOptions=null,y.textOptions=null,y.textSelectedOptions=null,y.textUnselectedOptions=null,y.selectBatch=null,y.unselectBatch=null,C._scene=null}),y.dirty||p.extendFlat(y,h),y}},58147:function(V,B,e){var p=e(34098),L=e(5345).styleTextSelection;V.exports=function(C,y){var h=C.cd,g=C.xaxis,t=C.yaxis,r=[],l=h[0].trace,a=h[0].t,s=l._length,c=a.x,u=a.y,b=a._scene,f=a.index;if(!b)return r;var w=p.hasText(l),v=p.hasMarkers(l),o=!v&&!w;if(l.visible!==!0||o)return r;var d=[],S=[];if(y!==!1&&!y.degenerate)for(var M=0;M<s;M++)y.contains([a.xpx[M],a.ypx[M]],!1,M,C)?(d.push(M),r.push({pointNumber:M,x:g.c2d(c[M]),y:t.c2d(u[M])})):S.push(M);if(v){var P=b.scatter2d;if(!d.length&&!S.length){var x=new Array(b.count);x[f]=b.markerOptions[f],P.update.apply(P,x)}else if(!b.selectBatch[f].length&&!b.unselectBatch[f].length){var E=new Array(b.count);E[f]=b.markerUnselectedOptions[f],P.update.apply(P,E)}}return b.selectBatch[f]=d,b.unselectBatch[f]=S,w&&L(h),r}},99181:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(19316),C=e(82196),y=e(23585),h=e(9012),g=e(50693),t=e(1426).extendFlat,r=e(30962).overrideAll,l=e(23585),a=n.line,s=n.marker;V.exports=r({lon:n.lon,lat:n.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},l.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},s.opacity,{dflt:1})},mode:t({},C.mode,{dflt:"markers"}),text:t({},C.text,{}),texttemplate:L({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},C.hovertext,{}),line:{color:a.color,width:a.width},connectgaps:C.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:s.opacity,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode},g("marker")),fill:n.fill,fillcolor:C.fillcolor,textfont:y.layers.symbol.textfont,textposition:y.layers.symbol.textposition,below:{valType:"string"},selected:{marker:C.selected.marker},unselected:{marker:C.unselected.marker},hoverinfo:t({},h.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:p()},"calc","nested")},15790:function(V,B,e){var p=e(92770),L=e(71828),n=e(50606).BADNUM,C=e(18214),y=e(21081),h=e(91424),g=e(39984),t=e(34098),r=e(13056),l=e(23469).appendArrayPointValue,a=e(63893).NEWLINES,s=e(63893).BR_TAG_ALL;V.exports=function(S,M){var P=M[0].trace,x=P.visible===!0&&P._length!==0,E=P.fill!=="none",T=t.hasLines(P),i=t.hasMarkers(P),R=t.hasText(P),A=i&&P.marker.symbol==="circle",k=i&&P.marker.symbol!=="circle",_=P.cluster&&P.cluster.enabled,H=c("fill"),z=c("line"),N=c("circle"),O=c("symbol"),F={fill:H,line:z,circle:N,symbol:O};if(!x)return F;var U;if((E||T)&&(U=C.calcTraceToLineCoords(M)),E&&(H.geojson=C.makePolygon(U),H.layout.visibility="visible",L.extendFlat(H.paint,{"fill-color":P.fillcolor})),T&&(z.geojson=C.makeLine(U),z.layout.visibility="visible",L.extendFlat(z.paint,{"line-width":P.line.width,"line-color":P.line.color,"line-opacity":P.opacity})),A){var Z=u(M);N.geojson=Z.geojson,N.layout.visibility="visible",_&&(N.filter=["!",["has","point_count"]],F.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":o(P.cluster.color,P.cluster.step),"circle-radius":o(P.cluster.size,P.cluster.step),"circle-opacity":o(P.cluster.opacity,P.cluster.step)}},F.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),L.extendFlat(N.paint,{"circle-color":Z.mcc,"circle-radius":Z.mrc,"circle-opacity":Z.mo})}if(A&&_&&(N.filter=["!",["has","point_count"]]),(k||R)&&(O.geojson=b(M,S),L.extendFlat(O.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),k&&(L.extendFlat(O.layout,{"icon-size":P.marker.size/10}),"angle"in P.marker&&P.marker.angle!=="auto"&&L.extendFlat(O.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),O.layout["icon-allow-overlap"]=P.marker.allowoverlap,L.extendFlat(O.paint,{"icon-opacity":P.opacity*P.marker.opacity,"icon-color":P.marker.color})),R)){var q=(P.marker||{}).size,J=r(P.textposition,q);L.extendFlat(O.layout,{"text-size":P.textfont.size,"text-anchor":J.anchor,"text-offset":J.offset}),L.extendFlat(O.paint,{"text-color":P.textfont.color,"text-opacity":P.opacity})}return F};function c(d){return{type:d,geojson:C.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(d){var S=d[0].trace,M=S.marker,P=S.selectedpoints,x=L.isArrayOrTypedArray(M.color),E=L.isArrayOrTypedArray(M.size),T=L.isArrayOrTypedArray(M.opacity),i;function R(q){return S.opacity*q}function A(q){return q/2}var k;x&&(y.hasColorscale(S,"marker")?k=y.makeColorScaleFuncFromTrace(M):k=L.identity);var _;E&&(_=g(S));var H;T&&(H=function(q){var J=p(q)?+L.constrain(q,0,1):0;return R(J)});var z=[];for(i=0;i<d.length;i++){var N=d[i],O=N.lonlat;if(!v(O)){var F={};k&&(F.mcc=N.mcc=k(N.mc)),_&&(F.mrc=N.mrc=_(N.ms)),H&&(F.mo=H(N.mo)),P&&(F.selected=N.selected||0),z.push({type:"Feature",id:i+1,geometry:{type:"Point",coordinates:O},properties:F})}}var U;if(P)for(U=h.makeSelectedPointStyleFns(S),i=0;i<z.length;i++){var Z=z[i].properties;U.selectedOpacityFn&&(Z.mo=R(U.selectedOpacityFn(Z))),U.selectedColorFn&&(Z.mcc=U.selectedColorFn(Z)),U.selectedSizeFn&&(Z.mrc=U.selectedSizeFn(Z))}return{geojson:{type:"FeatureCollection",features:z},mcc:x||U&&U.selectedColorFn?{type:"identity",property:"mcc"}:M.color,mrc:E||U&&U.selectedSizeFn?{type:"identity",property:"mrc"}:A(M.size),mo:T||U&&U.selectedOpacityFn?{type:"identity",property:"mo"}:R(M.opacity)}}function b(d,S){for(var M=S._fullLayout,P=d[0].trace,x=P.marker||{},E=x.symbol,T=x.angle,i=E!=="circle"?f(E):w,R=T!=="auto"?f(T,!0):w,A=t.hasText(P)?f(P.text):w,k=[],_=0;_<d.length;_++){var H=d[_];if(!v(H.lonlat)){var z=P.texttemplate,N;if(z){var O=Array.isArray(z)?z[_]||"":z,F=P._module.formatLabels(H,P,M),U={};l(U,P,H.i);var Z=P._meta||{};N=L.texttemplateString(O,F,M._d3locale,U,H,Z)}else N=A(_);N&&(N=N.replace(a,"").replace(s,`
`)),k.push({type:"Feature",geometry:{type:"Point",coordinates:H.lonlat},properties:{symbol:i(_),angle:R(_),text:N}})}}return{type:"FeatureCollection",features:k}}function f(d,S){return L.isArrayOrTypedArray(d)?S?function(M){return p(d[M])?+d[M]:0}:function(M){return d[M]}:d?function(){return d}:w}function w(){return""}function v(d){return d[0]===n}function o(d,S){var M;if(L.isArrayOrTypedArray(d)&&L.isArrayOrTypedArray(S)){M=["step",["get","point_count"],d[0]];for(var P=1;P<d.length;P++)M.push(S[P-1],d[P])}else M=d;return M}},76645:function(V,B,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),y=e(82410),h=e(28908),g=e(99181);V.exports=function(l,a,s,c){function u(x,E){return p.coerce(l,a,g,x,E)}function b(x,E){return p.coerce2(l,a,g,x,E)}var f=t(l,a,u);if(!f){a.visible=!1;return}if(u("text"),u("texttemplate"),u("hovertext"),u("hovertemplate"),u("mode"),u("below"),L.hasLines(a)&&(C(l,a,s,c,u,{noDash:!0}),u("connectgaps")),L.hasMarkers(a)){n(l,a,s,c,u,{noLine:!0,noAngle:!0}),u("marker.allowoverlap"),u("marker.angle");var w=a.marker;w.symbol!=="circle"&&(p.isArrayOrTypedArray(w.size)&&(w.size=w.size[0]),p.isArrayOrTypedArray(w.color)&&(w.color=w.color[0]))}var v=b("cluster.maxzoom"),o=b("cluster.step"),d=b("cluster.color",a.marker&&a.marker.color||s),S=b("cluster.size"),M=b("cluster.opacity"),P=v!==!1||o!==!1||d!==!1||S!==!1||M!==!1;u("cluster.enabled",P),L.hasText(a)&&y(l,a,c,u,{noSelect:!0}),u("fill"),a.fill!=="none"&&h(l,a,s,u),p.coerceSelectionMarkerOpacity(a,u)};function t(r,l,a){var s=a("lon")||[],c=a("lat")||[],u=Math.min(s.length,c.length);return l._length=u,u}},53353:function(V){V.exports=function(e,p){return e.lon=p.lon,e.lat=p.lat,e}},15636:function(V,B,e){var p=e(89298);V.exports=function(n,C,y){var h={},g=y[C.subplot]._subplot,t=g.mockAxis,r=n.lonlat;return h.lonLabel=p.tickText(t,t.c2l(r[0]),!0).text,h.latLabel=p.tickText(t,t.c2l(r[1]),!0).text,h}},28178:function(V,B,e){var p=e(30211),L=e(71828),n=e(34603),C=L.fillText,y=e(50606).BADNUM,h=e(77734).traceLayerPrefix;function g(r,l,a){var s=r.cd,c=s[0].trace,u=r.xa,b=r.ya,f=r.subplot,w=[],v=h+c.uid+"-circle",o=c.cluster&&c.cluster.enabled;if(o){var d=f.map.queryRenderedFeatures(null,{layers:[v]});w=d.map(function(z){return z.id})}var S=l>=0?Math.floor((l+180)/360):Math.ceil((l-180)/360),M=S*360,P=l-M;function x(z){var N=z.lonlat;if(N[0]===y||o&&w.indexOf(z.i+1)===-1)return 1/0;var O=L.modHalf(N[0],360),F=N[1],U=f.project([O,F]),Z=U.x-u.c2p([P,F]),q=U.y-b.c2p([O,a]),J=Math.max(3,z.mrc||0);return Math.max(Math.sqrt(Z*Z+q*q)-J,1-3/J)}if(p.getClosest(s,x,r),r.index!==!1){var E=s[r.index],T=E.lonlat,i=[L.modHalf(T[0],360)+M,T[1]],R=u.c2p(i),A=b.c2p(i),k=E.mrc||1;r.x0=R-k,r.x1=R+k,r.y0=A-k,r.y1=A+k;var _={};_[c.subplot]={_subplot:f};var H=c._module.formatLabels(E,c,_);return r.lonLabel=H.lonLabel,r.latLabel=H.latLabel,r.color=n(c,E),r.extraText=t(c,E,s[0].t.labels),r.hovertemplate=c.hovertemplate,[r]}}function t(r,l,a){if(r.hovertemplate)return;var s=l.hi||r.hoverinfo,c=s.split("+"),u=c.indexOf("all")!==-1,b=c.indexOf("lon")!==-1,f=c.indexOf("lat")!==-1,w=l.lonlat,v=[];function o(d){return d+""}return u||b&&f?v.push("("+o(w[1])+", "+o(w[0])+")"):b?v.push(a.lon+o(w[0])):f&&v.push(a.lat+o(w[1])),(u||c.indexOf("text")!==-1)&&C(l,r,v),v.join("<br>")}V.exports={hoverPoints:g,getExtraText:t}},20467:function(V,B,e){V.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(p,L){if(L){var n=L[0].trace;n._glTrace.update(L)}},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(V,B,e){var p=e(71828),L=e(15790),n=e(77734).traceLayerPrefix,C={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function y(g,t,r,l){this.type="scattermapbox",this.subplot=g,this.uid=t,this.clusterEnabled=r,this.isHidden=l,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:n+t+"-fill",line:n+t+"-line",circle:n+t+"-circle",symbol:n+t+"-symbol",cluster:n+t+"-cluster",clusterCount:n+t+"-cluster-count"},this.below=null}var h=y.prototype;h.addSource=function(g,t,r){var l={type:"geojson",data:t.geojson};r&&r.enabled&&p.extendFlat(l,{cluster:!0,clusterMaxZoom:r.maxzoom});var a=this.subplot.map.getSource(this.sourceIds[g]);a?a.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[g],l)},h.setSourceData=function(g,t){this.subplot.map.getSource(this.sourceIds[g]).setData(t.geojson)},h.addLayer=function(g,t,r){var l={type:t.type,id:this.layerIds[g],source:this.sourceIds[g],layout:t.layout,paint:t.paint};t.filter&&(l.filter=t.filter);for(var a=this.layerIds[g],s,c=this.subplot.getMapLayers(),u=0;u<c.length;u++)if(c[u].id===a){s=!0;break}s?(this.subplot.setOptions(a,"setLayoutProperty",l.layout),l.layout.visibility==="visible"&&this.subplot.setOptions(a,"setPaintProperty",l.paint)):this.subplot.addLayer(l,r)},h.update=function(t){var r=t[0].trace,l=this.subplot,a=l.map,s=L(l.gd,t),c=l.belowLookup["trace-"+this.uid],u=!!(r.cluster&&r.cluster.enabled),b=!!this.clusterEnabled,f=this;function w(T){T||f.addSource("circle",s.circle,r.cluster);for(var i=C.cluster,R=0;R<i.length;R++){var A=i[R],k=s[A];f.addLayer(A,k,c)}}function v(T){for(var i=C.cluster,R=i.length-1;R>=0;R--){var A=i[R];a.removeLayer(f.layerIds[A])}T||a.removeSource(f.sourceIds.circle)}function o(T){for(var i=C.nonCluster,R=0;R<i.length;R++){var A=i[R],k=s[A];T||f.addSource(A,k),f.addLayer(A,k,c)}}function d(T){for(var i=C.nonCluster,R=i.length-1;R>=0;R--){var A=i[R];a.removeLayer(f.layerIds[A]),T||a.removeSource(f.sourceIds[A])}}function S(T){b?v(T):d(T)}function M(T){u?w(T):o(T)}function P(){for(var T=u?C.cluster:C.nonCluster,i=0;i<T.length;i++){var R=T[i],A=s[R];A&&(l.setOptions(f.layerIds[R],"setLayoutProperty",A.layout),A.layout.visibility==="visible"&&(R!=="cluster"&&f.setSourceData(R,A),l.setOptions(f.layerIds[R],"setPaintProperty",A.paint)))}}var x=this.isHidden,E=r.visible!==!0;E?x||S():x?E||M():b!==u?(S(),M()):(this.below!==c&&(S(!0),M(!0)),P()),this.clusterEnabled=u,this.isHidden=E,this.below=c,t[0].trace._glTrace=this},h.dispose=function(){for(var t=this.subplot.map,r=this.clusterEnabled?C.cluster:C.nonCluster,l=r.length-1;l>=0;l--){var a=r[l];t.removeLayer(this.layerIds[a]),t.removeSource(this.sourceIds[a])}},V.exports=function(t,r){var l=r[0].trace,a=l.cluster&&l.cluster.enabled,s=l.visible!==!0,c=new y(t,l.uid,a,s),u=L(t.gd,r),b=c.below=t.belowLookup["trace-"+l.uid],f,w,v;if(a)for(c.addSource("circle",u.circle,l.cluster),f=0;f<C.cluster.length;f++)w=C.cluster[f],v=u[w],c.addLayer(w,v,b);else for(f=0;f<C.nonCluster.length;f++)w=C.nonCluster[f],v=u[w],c.addSource(w,v,l.cluster),c.addLayer(w,v,b);return r[0].trace._glTrace=c,c}},86387:function(V,B,e){var p=e(71828),L=e(34098),n=e(50606).BADNUM;V.exports=function(y,h){var g=y.cd,t=y.xaxis,r=y.yaxis,l=[],a=g[0].trace,s;if(!L.hasMarkers(a))return[];if(h===!1)for(s=0;s<g.length;s++)g[s].selected=0;else for(s=0;s<g.length;s++){var c=g[s],u=c.lonlat;if(u[0]!==n){var b=[p.modHalf(u[0],360),u[1]],f=[t.c2p(b),r.c2p(b)];h.contains(f,null,s,y)?(l.push({pointNumber:s,lon:u[0],lat:u[1]}),c.selected=1):c.selected=0}}return l}},81245:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(1426).extendFlat,C=e(82196),y=e(9012),h=C.line;V.exports={mode:C.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:L({editType:"plot"},{keys:["r","theta","text"]}),hovertext:C.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:n({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:n({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:n({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:n({},y.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:C.hoveron,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},26442:function(V,B,e){var p=e(92770),L=e(50606).BADNUM,n=e(89298),C=e(36922),y=e(75225),h=e(66279),g=e(47761).calcMarkerSize;V.exports=function(r,l){for(var a=r._fullLayout,s=l.subplot,c=a[s].radialaxis,u=a[s].angularaxis,b=c.makeCalcdata(l,"r"),f=u.makeCalcdata(l,"theta"),w=l._length,v=new Array(w),o=0;o<w;o++){var d=b[o],S=f[o],M=v[o]={};p(d)&&p(S)?(M.r=d,M.theta=S):M.r=L}var P=g(l,w);return l._extremes.x=n.findExtremes(c,b,{ppad:P}),C(r,l),y(v,l),h(v,l),v}},22184:function(V,B,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),y=e(94039),h=e(82410),g=e(28908),t=e(47581).PTS_LINESONLY,r=e(81245);function l(s,c,u,b){function f(o,d){return p.coerce(s,c,r,o,d)}var w=a(s,c,b,f);if(!w){c.visible=!1;return}f("thetaunit"),f("mode",w<t?"lines+markers":"lines"),f("text"),f("hovertext"),c.hoveron!=="fills"&&f("hovertemplate"),L.hasLines(c)&&(C(s,c,u,b,f,{backoff:!0}),y(s,c,f),f("connectgaps")),L.hasMarkers(c)&&n(s,c,u,b,f,{gradient:!0}),L.hasText(c)&&(f("texttemplate"),h(s,c,b,f));var v=[];(L.hasMarkers(c)||L.hasText(c))&&(f("cliponaxis"),f("marker.maxdisplayed"),v.push("points")),f("fill"),c.fill!=="none"&&(g(s,c,u,f),L.hasLines(c)||y(s,c,f)),(c.fill==="tonext"||c.fill==="toself")&&v.push("fills"),f("hoveron",v.join("+")||"points"),p.coerceSelectionMarkerOpacity(c,f)}function a(s,c,u,b){var f=b("r"),w=b("theta"),v;if(f)w?v=Math.min(f.length,w.length):(v=f.length,b("theta0"),b("dtheta"));else{if(!w)return 0;v=c.theta.length,b("r0"),b("dr")}return c._length=v,v}V.exports={handleRThetaDefaults:a,supplyDefaults:l}},98608:function(V,B,e){var p=e(71828),L=e(89298);V.exports=function(C,y,h){var g={},t=h[y.subplot]._subplot,r,l;t?(r=t.radialAxis,l=t.angularAxis):(t=h[y.subplot],r=t.radialaxis,l=t.angularaxis);var a=r.c2l(C.r);g.rLabel=L.tickText(r,a,!0).text;var s=l.thetaunit==="degrees"?p.rad2deg(C.theta):C.theta;return g.thetaLabel=L.tickText(l,s,!0).text,g}},59150:function(V,B,e){var p=e(33720);function L(C,y,h,g){var t=p(C,y,h,g);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var l=C.subplot,a=r.cd[r.index],s=r.trace;if(l.isPtInside(a))return r.xLabelVal=void 0,r.yLabelVal=void 0,n(a,s,l,r),r.hovertemplate=s.hovertemplate,t}}function n(C,y,h,g){var t=h.radialAxis,r=h.angularAxis;t._hovertitle="r",r._hovertitle="";var l={};l[y.subplot]={_subplot:h};var a=y._module.formatLabels(C,y,l);g.rLabel=a.rLabel,g.thetaLabel=a.thetaLabel;var s=C.hi||y.hoverinfo,c=[];function u(f,w){c.push(f._hovertitle+": "+w)}if(!y.hovertemplate){var b=s.split("+");b.indexOf("all")!==-1&&(b=["r","theta","text"]),b.indexOf("r")!==-1&&u(t,g.rLabel),b.indexOf("theta")!==-1&&u(r,g.thetaLabel),b.indexOf("text")!==-1&&g.text&&(c.push(g.text),delete g.text),g.extraText=c.join("<br>")}}V.exports={hoverPoints:L,makeHoverPointText:n}},91271:function(V,B,e){V.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(V,B,e){var p=e(32663),L=e(50606).BADNUM;V.exports=function(C,y,h){for(var g=y.layers.frontplot.select("g.scatterlayer"),t=y.xaxis,r=y.yaxis,l={xaxis:t,yaxis:r,plot:y.framework,layerClipId:y._hasClipOnAxisFalse?y.clipIds.forTraces:null},a=y.radialAxis,s=y.angularAxis,c=0;c<h.length;c++)for(var u=h[c],b=0;b<u.length;b++){b===0&&(u[0].trace._xA=t,u[0].trace._yA=r);var f=u[b],w=f.r;if(w===L)f.x=f.y=L;else{var v=a.c2g(w),o=s.c2g(f.theta);f.x=v*Math.cos(o),f.y=v*Math.sin(o)}}p(C,l,h,g)}},53286:function(V,B,e){var p=e(81245),L=e(42341),n=e(5386).si;V.exports={mode:p.mode,r:p.r,theta:p.theta,r0:p.r0,dr:p.dr,theta0:p.theta0,dtheta:p.dtheta,thetaunit:p.thetaunit,text:p.text,texttemplate:n({editType:"plot"},{keys:["r","theta","text"]}),hovertext:p.hovertext,hovertemplate:p.hovertemplate,line:L.line,connectgaps:L.connectgaps,marker:L.marker,fill:L.fill,fillcolor:L.fillcolor,textposition:L.textposition,textfont:L.textfont,hoverinfo:p.hoverinfo,selected:p.selected,unselected:p.unselected}},65746:function(V,B,e){V.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(V,B,e){var p=e(36922),L=e(47761).calcMarkerSize,n=e(19635),C=e(89298),y=e(78232).TOO_MANY_POINTS;V.exports=function(g,t){var r=g._fullLayout,l=t.subplot,a=r[l].radialaxis,s=r[l].angularaxis,c=t._r=a.makeCalcdata(t,"r"),u=t._theta=s.makeCalcdata(t,"theta"),b=t._length,f={};b<c.length&&(c=c.slice(0,b)),b<u.length&&(u=u.slice(0,b)),f.r=c,f.theta=u,p(g,t);var w=f.opts=n.style(g,t),v;return b<y?v=L(t,b):w.marker&&(v=2*(w.marker.sizeAvg||Math.max(w.marker.size,3))),t._extremes.x=C.findExtremes(a,c,{ppad:v}),[{x:!1,y:!1,t:f,trace:t}]}},75485:function(V,B,e){var p=e(71828),L=e(34098),n=e(22184).handleRThetaDefaults,C=e(49508),y=e(11058),h=e(82410),g=e(28908),t=e(47581).PTS_LINESONLY,r=e(53286);V.exports=function(a,s,c,u){function b(w,v){return p.coerce(a,s,r,w,v)}var f=n(a,s,u,b);if(!f){s.visible=!1;return}b("thetaunit"),b("mode",f<t?"lines+markers":"lines"),b("text"),b("hovertext"),s.hoveron!=="fills"&&b("hovertemplate"),L.hasLines(s)&&(y(a,s,c,u,b),b("connectgaps")),L.hasMarkers(s)&&C(a,s,c,u,b,{noAngleRef:!0,noStandOff:!0}),L.hasText(s)&&(b("texttemplate"),h(a,s,u,b)),b("fill"),s.fill!=="none"&&g(a,s,c,b),p.coerceSelectionMarkerOpacity(s,b)}},46255:function(V,B,e){var p=e(98608);V.exports=function(n,C,y){var h=n.i;return"r"in n||(n.r=C._r[h]),"theta"in n||(n.theta=C._theta[h]),p(n,C,y)}},29347:function(V,B,e){var p=e(20794),L=e(59150).makeHoverPointText;function n(C,y,h,g){var t=C.cd,r=t[0].t,l=r.r,a=r.theta,s=p.hoverPoints(C,y,h,g);if(!(!s||s[0].index===!1)){var c=s[0];if(c.index===void 0)return s;var u=C.subplot,b=c.cd[c.index],f=c.trace;if(b.r=l[c.index],b.theta=a[c.index],!!u.isPtInside(b))return c.xLabelVal=void 0,c.yLabelVal=void 0,L(b,f,u,c),s}}V.exports={hoverPoints:n}},21461:function(V,B,e){var p=e(65746);p.plot=e(49741),V.exports=p},49741:function(V,B,e){var p=e(88294),L=e(92770),n=e(26787),C=e(38967),y=e(19635),h=e(71828),g=e(78232).TOO_MANY_POINTS,t={};V.exports=function(l,a,s){if(s.length){var c=a.radialAxis,u=a.angularAxis,b=C(l,a);return s.forEach(function(f){if(!(!f||!f[0]||!f[0].trace)){var w=f[0],v=w.trace,o=w.t,d=v._length,S=o.r,M=o.theta,P=o.opts,x,E=S.slice(),T=M.slice();for(x=0;x<S.length;x++)a.isPtInside({r:S[x],theta:M[x]})||(E[x]=NaN,T[x]=NaN);var i=new Array(d*2),R=Array(d),A=Array(d);for(x=0;x<d;x++){var k=E[x],_,H;if(L(k)){var z=c.c2g(k),N=u.c2g(T[x],v.thetaunit);_=z*Math.cos(N),H=z*Math.sin(N)}else _=H=NaN;R[x]=i[x*2]=_,A[x]=i[x*2+1]=H}o.tree=p(i),P.marker&&d>=g&&(P.marker.cluster=o.tree),P.marker&&(P.markerSel.positions=P.markerUnsel.positions=P.marker.positions=i),P.line&&i.length>1&&h.extendFlat(P.line,y.linePositions(l,v,i)),P.text&&(h.extendFlat(P.text,{positions:i},y.textPosition(l,v,P.text,P.marker)),h.extendFlat(P.textSel,{positions:i},y.textPosition(l,v,P.text,P.markerSel)),h.extendFlat(P.textUnsel,{positions:i},y.textPosition(l,v,P.text,P.markerUnsel))),P.fill&&!b.fill2d&&(b.fill2d=!0),P.marker&&!b.scatter2d&&(b.scatter2d=!0),P.line&&!b.line2d&&(b.line2d=!0),P.text&&!b.glText&&(b.glText=!0),b.lineOptions.push(P.line),b.fillOptions.push(P.fill),b.markerOptions.push(P.marker),b.markerSelectedOptions.push(P.markerSel),b.markerUnselectedOptions.push(P.markerUnsel),b.textOptions.push(P.text),b.textSelectedOptions.push(P.textSel),b.textUnselectedOptions.push(P.textUnsel),b.selectBatch.push([]),b.unselectBatch.push([]),o.x=R,o.y=A,o.rawx=R,o.rawy=A,o.r=S,o.theta=M,o.positions=i,o._scene=b,o.index=b.count,b.count++}}),n(l,a,s)}},V.exports.reglPrecompiled=t},48300:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(1426).extendFlat,C=e(82196),y=e(9012),h=C.line;V.exports={mode:C.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:C.text,texttemplate:L({editType:"plot"},{keys:["real","imag","text"]}),hovertext:C.hovertext,line:{color:h.color,width:h.width,dash:h.dash,backoff:h.backoff,shape:n({},h.shape,{values:["linear","spline"]}),smoothing:h.smoothing,editType:"calc"},connectgaps:C.connectgaps,marker:C.marker,cliponaxis:n({},C.cliponaxis,{dflt:!1}),textposition:C.textposition,textfont:C.textfont,fill:n({},C.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:C.fillcolor,hoverinfo:n({},y.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:C.hoveron,hovertemplate:p(),selected:C.selected,unselected:C.unselected}},30621:function(V,B,e){var p=e(92770),L=e(50606).BADNUM,n=e(36922),C=e(75225),y=e(66279),h=e(47761).calcMarkerSize;V.exports=function(t,r){for(var l=t._fullLayout,a=r.subplot,s=l[a].realaxis,c=l[a].imaginaryaxis,u=s.makeCalcdata(r,"real"),b=c.makeCalcdata(r,"imag"),f=r._length,w=new Array(f),v=0;v<f;v++){var o=u[v],d=b[v],S=w[v]={};p(o)&&p(d)?(S.real=o,S.imag=d):S.real=L}return h(r,f),n(t,r),C(w,r),y(w,r),w}},65269:function(V,B,e){var p=e(71828),L=e(34098),n=e(49508),C=e(11058),y=e(94039),h=e(82410),g=e(28908),t=e(47581).PTS_LINESONLY,r=e(48300);V.exports=function(s,c,u,b){function f(o,d){return p.coerce(s,c,r,o,d)}var w=l(s,c,b,f);if(!w){c.visible=!1;return}f("mode",w<t?"lines+markers":"lines"),f("text"),f("hovertext"),c.hoveron!=="fills"&&f("hovertemplate"),L.hasLines(c)&&(C(s,c,u,b,f,{backoff:!0}),y(s,c,f),f("connectgaps")),L.hasMarkers(c)&&n(s,c,u,b,f,{gradient:!0}),L.hasText(c)&&(f("texttemplate"),h(s,c,b,f));var v=[];(L.hasMarkers(c)||L.hasText(c))&&(f("cliponaxis"),f("marker.maxdisplayed"),v.push("points")),f("fill"),c.fill!=="none"&&(g(s,c,u,f),L.hasLines(c)||y(s,c,f)),(c.fill==="tonext"||c.fill==="toself")&&v.push("fills"),f("hoveron",v.join("+")||"points"),p.coerceSelectionMarkerOpacity(c,f)};function l(a,s,c,u){var b=u("real"),f=u("imag"),w;return b&&f&&(w=Math.min(b.length,f.length)),s._length=w,w}},62047:function(V,B,e){var p=e(89298);V.exports=function(n,C,y){var h={},g=y[C.subplot]._subplot;return h.realLabel=p.tickText(g.radialAxis,n.real,!0).text,h.imagLabel=p.tickText(g.angularAxis,n.imag,!0).text,h}},11350:function(V,B,e){var p=e(33720);function L(C,y,h,g){var t=p(C,y,h,g);if(!(!t||t[0].index===!1)){var r=t[0];if(r.index===void 0)return t;var l=C.subplot,a=r.cd[r.index],s=r.trace;if(l.isPtInside(a))return r.xLabelVal=void 0,r.yLabelVal=void 0,n(a,s,l,r),r.hovertemplate=s.hovertemplate,t}}function n(C,y,h,g){var t=h.radialAxis,r=h.angularAxis;t._hovertitle="real",r._hovertitle="imag";var l={};l[y.subplot]={_subplot:h};var a=y._module.formatLabels(C,y,l);g.realLabel=a.realLabel,g.imagLabel=a.imagLabel;var s=C.hi||y.hoverinfo,c=[];function u(f,w){c.push(f._hovertitle+": "+w)}if(!y.hovertemplate){var b=s.split("+");b.indexOf("all")!==-1&&(b=["real","imag","text"]),b.indexOf("real")!==-1&&u(t,g.realLabel),b.indexOf("imag")!==-1&&u(r,g.imagLabel),b.indexOf("text")!==-1&&g.text&&(c.push(g.text),delete g.text),g.extraText=c.join("<br>")}}V.exports={hoverPoints:L,makeHoverPointText:n}},85956:function(V,B,e){V.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(V,B,e){var p=e(32663),L=e(50606).BADNUM,n=e(23893),C=n.smith;V.exports=function(h,g,t){for(var r=g.layers.frontplot.select("g.scatterlayer"),l=g.xaxis,a=g.yaxis,s={xaxis:l,yaxis:a,plot:g.framework,layerClipId:g._hasClipOnAxisFalse?g.clipIds.forTraces:null},c=0;c<t.length;c++)for(var u=t[c],b=0;b<u.length;b++){b===0&&(u[0].trace._xA=l,u[0].trace._yA=a);var f=u[b],w=f.real;if(w===L)f.x=f.y=L;else{var v=C([w,f.imag]);f.x=v[0],f.y=v[1]}}p(h,s,t,r)}},50413:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(82196),C=e(9012),y=e(50693),h=e(79952).P,g=e(1426).extendFlat,t=n.marker,r=n.line,l=t.line;V.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:g({},n.mode,{dflt:"markers"}),text:g({},n.text,{}),texttemplate:L({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:g({},n.hovertext,{}),line:{color:r.color,width:r.width,dash:h,backoff:r.backoff,shape:g({},r.shape,{values:["linear","spline"]}),smoothing:r.smoothing,editType:"calc"},connectgaps:n.connectgaps,cliponaxis:n.cliponaxis,fill:g({},n.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:n.fillcolor,marker:g({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:g({width:l.width,editType:"calc"},y("marker.line")),gradient:t.gradient,editType:"calc"},y("marker")),textfont:n.textfont,textposition:n.textposition,selected:n.selected,unselected:n.unselected,hoverinfo:g({},C.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:n.hoveron,hovertemplate:p()}},54337:function(V,B,e){var p=e(92770),L=e(36922),n=e(75225),C=e(66279),y=e(47761).calcMarkerSize,h=["a","b","c"],g={a:["b","c"],b:["a","c"],c:["a","b"]};V.exports=function(r,l){var a=r._fullLayout[l.subplot],s=a.sum,c=l.sum||s,u={a:l.a,b:l.b,c:l.c},b,f,w,v,o,d;for(b=0;b<h.length;b++)if(w=h[b],!u[w]){for(o=u[g[w][0]],d=u[g[w][1]],v=new Array(o.length),f=0;f<o.length;f++)v[f]=c-o[f]-d[f];u[w]=v}var S=l._length,M=new Array(S),P,x,E,T,i,R;for(b=0;b<S;b++)P=u.a[b],x=u.b[b],E=u.c[b],p(P)&&p(x)&&p(E)?(P=+P,x=+x,E=+E,T=s/(P+x+E),T!==1&&(P*=T,x*=T,E*=T),R=P,i=E-x,M[b]={x:i,y:R,a:P,b:x,c:E}):M[b]={x:!1,y:!1};return y(l,S),L(r,l),n(M,l),C(M,l),M}},46008:function(V,B,e){var p=e(71828),L=e(47581),n=e(34098),C=e(49508),y=e(11058),h=e(94039),g=e(82410),t=e(28908),r=e(50413);V.exports=function(a,s,c,u){function b(M,P){return p.coerce(a,s,r,M,P)}var f=b("a"),w=b("b"),v=b("c"),o;if(f?(o=f.length,w?(o=Math.min(o,w.length),v&&(o=Math.min(o,v.length))):v?o=Math.min(o,v.length):o=0):w&&v&&(o=Math.min(w.length,v.length)),!o){s.visible=!1;return}s._length=o,b("sum"),b("text"),b("hovertext"),s.hoveron!=="fills"&&b("hovertemplate");var d=o<L.PTS_LINESONLY?"lines+markers":"lines";b("mode",d),n.hasLines(s)&&(y(a,s,c,u,b,{backoff:!0}),h(a,s,b),b("connectgaps")),n.hasMarkers(s)&&C(a,s,c,u,b,{gradient:!0}),n.hasText(s)&&(b("texttemplate"),g(a,s,u,b));var S=[];(n.hasMarkers(s)||n.hasText(s))&&(b("cliponaxis"),b("marker.maxdisplayed"),S.push("points")),b("fill"),s.fill!=="none"&&(t(a,s,c,b),n.hasLines(s)||h(a,s,b)),(s.fill==="tonext"||s.fill==="toself")&&S.push("fills"),b("hoveron",S.join("+")||"points"),p.coerceSelectionMarkerOpacity(s,b)}},4524:function(V){V.exports=function(e,p,L,n,C){if(p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),n[C]){var y=n[C];e.a=y.a,e.b=y.b,e.c=y.c}else e.a=p.a,e.b=p.b,e.c=p.c;return e}},93645:function(V,B,e){var p=e(89298);V.exports=function(n,C,y){var h={},g=y[C.subplot]._subplot;return h.aLabel=p.tickText(g.aaxis,n.a,!0).text,h.bLabel=p.tickText(g.baxis,n.b,!0).text,h.cLabel=p.tickText(g.caxis,n.c,!0).text,h}},47250:function(V,B,e){var p=e(33720);V.exports=function(n,C,y,h){var g=p(n,C,y,h);if(!g||g[0].index===!1)return;var t=g[0];if(t.index===void 0){var r=1-t.y0/n.ya._length,l=n.xa._length,a=l*r/2,s=l-a;return t.x0=Math.max(Math.min(t.x0,s),a),t.x1=Math.max(Math.min(t.x1,s),a),g}var c=t.cd[t.index],u=t.trace,b=t.subplot;t.a=c.a,t.b=c.b,t.c=c.c,t.xLabelVal=void 0,t.yLabelVal=void 0;var f={};f[u.subplot]={_subplot:b};var w=u._module.formatLabels(c,u,f);t.aLabel=w.aLabel,t.bLabel=w.bLabel,t.cLabel=w.cLabel;var v=c.hi||u.hoverinfo,o=[];function d(M,P){o.push(M._hovertitle+": "+P)}if(!u.hovertemplate){var S=v.split("+");S.indexOf("all")!==-1&&(S=["a","b","c"]),S.indexOf("a")!==-1&&d(b.aaxis,t.aLabel),S.indexOf("b")!==-1&&d(b.baxis,t.bLabel),S.indexOf("c")!==-1&&d(b.caxis,t.cLabel)}return t.extraText=o.join("<br>"),t.hovertemplate=u.hovertemplate,g}},52979:function(V,B,e){V.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(V,B,e){var p=e(32663);V.exports=function(n,C,y){var h=C.plotContainer;h.select(".scatterlayer").selectAll("*").remove();for(var g=C.xaxis,t=C.yaxis,r={xaxis:g,yaxis:t,plot:h,layerClipId:C._hasClipOnAxisFalse?C.clipIdRelative:null},l=C.layers.frontplot.select("g.scatterlayer"),a=0;a<y.length;a++){var s=y[a];s.length&&(s[0].trace._xA=g,s[0].trace._yA=t)}p(n,r,y,l)}},46880:function(V,B,e){var p=e(82196),L=e(50693),n=e(12663).axisHoverFormat,C=e(5386).fF,y=e(42341),h=e(85555).idRegex,g=e(44467).templatedArray,t=e(1426).extendFlat,r=p.marker,l=r.line,a=t(L("marker.line",{editTypeOverride:"calc"}),{width:t({},l.width,{editType:"calc"}),editType:"calc"}),s=t(L("marker"),{symbol:r.symbol,angle:r.angle,size:t({},r.size,{editType:"markerSize"}),sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:a,editType:"calc"});s.color.editType=s.cmin.editType=s.cmax.editType="style";function c(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:h[u],editType:"plot"}}}V.exports={dimensions:g("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},y.text,{}),hovertext:t({},y.hovertext,{}),hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),marker:s,xaxes:c("x"),yaxes:c("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:y.selected.marker,editType:"calc"},unselected:{marker:y.unselected.marker,editType:"calc"},opacity:y.opacity}},65017:function(V,B,e){var p=e(73972),L=e(83312);V.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},p.register(L)},16947:function(V,B,e){var p=e(46075),L=e(73972),n=e(79749),C=e(27659).a0,y=e(93612),h=e(41675).getFromId,g=e(89298).shouldShowZeroLine,t="splom",r={};function l(f){var w=f._fullLayout,v=L.getModule(t),o=C(f.calcdata,v)[0],d=n(f,["ANGLE_instanced_arrays","OES_element_index_uint"],r);d&&(w._hasOnlyLargeSploms&&c(f),v.plot(f,{},o))}function a(f){var w=f.calcdata,v=f._fullLayout;v._hasOnlyLargeSploms&&c(f);for(var o=0;o<w.length;o++){var d=w[o][0],S=d.trace,M=v._splomScenes[S.uid];S.type==="splom"&&M&&M.matrix&&s(f,S,M)}}function s(f,w,v){for(var o=v.matrixOptions.data.length,d=w._visibleDims,S=v.viewOpts.ranges=new Array(o),M=0;M<d.length;M++){var P=d[M],x=S[M]=new Array(4),E=h(f,w._diag[P][0]);E&&(x[0]=E.r2l(E.range[0]),x[2]=E.r2l(E.range[1]));var T=h(f,w._diag[P][1]);T&&(x[1]=T.r2l(T.range[0]),x[3]=T.r2l(T.range[1]))}v.selectBatch.length||v.unselectBatch.length?v.matrix.update({ranges:S},{ranges:S}):v.matrix.update({ranges:S})}function c(f){var w=f._fullLayout,v=w._glcanvas.data()[0].regl,o=w._splomGrid;o||(o=w._splomGrid=p(v)),o.update(u(f))}function u(f){var w=f._context.plotGlPixelRatio,v=f._fullLayout,o=v._size,d=[0,0,v.width*w,v.height*w],S={},M;function P(Z,q,J,te,fe,K){J*=w,te*=w,fe*=w,K*=w;var Y=q[Z+"color"],W=q[Z+"width"],X=String(Y+W);X in S?S[X].data.push(NaN,NaN,J,te,fe,K):S[X]={data:[J,te,fe,K],join:"rect",thickness:W*w,color:Y,viewport:d,range:d,overlay:!1}}for(M in v._splomSubplots){var x=v._plots[M],E=x.xaxis,T=x.yaxis,i=E._gridVals,R=T._gridVals,A=E._offset,k=E._length,_=T._length,H=o.b+T.domain[0]*o.h,z=-T._m,N=-z*T.r2l(T.range[0],T.calendar),O,F;if(E.showgrid)for(M=0;M<i.length;M++)O=A+E.l2p(i[M].x),P("grid",E,O,H,O,H+_);if(T.showgrid)for(M=0;M<R.length;M++)F=H+N+z*R[M].x,P("grid",T,A,F,A+k,F);g(f,E,T)&&(O=A+E.l2p(0),P("zeroline",E,O,H,O,H+_)),g(f,T,E)&&(F=H+N+0,P("zeroline",T,A,F,A+k,F))}var U=[];for(M in S)U.push(S[M]);return U}function b(f,w,v,o){var d={},S;if(o._splomScenes){for(S=0;S<f.length;S++){var M=f[S];M.type==="splom"&&(d[M.uid]=1)}for(S=0;S<v.length;S++){var P=v[S];if(!d[P.uid]){var x=o._splomScenes[P.uid];x&&x.destroy&&x.destroy(),o._splomScenes[P.uid]=null,delete o._splomScenes[P.uid]}}}Object.keys(o._splomScenes||{}).length===0&&delete o._splomScenes,o._splomGrid&&!w._hasOnlyLargeSploms&&o._hasOnlyLargeSploms&&(o._splomGrid.destroy(),o._splomGrid=null,delete o._splomGrid),y.clean(f,w,v,o)}V.exports={name:t,attr:y.attr,attrRegex:y.attrRegex,layoutAttributes:y.layoutAttributes,supplyLayoutDefaults:y.supplyLayoutDefaults,drawFramework:y.drawFramework,plot:l,drag:a,updateGrid:c,clean:b,updateFx:y.updateFx,toSVG:y.toSVG,reglPrecompiled:r}},87625:function(V,B,e){var p=e(71828),L=e(41675),n=e(47761).calcMarkerSize,C=e(47761).calcAxisExpansion,y=e(36922),h=e(19635).markerSelection,g=e(19635).markerStyle,t=e(10164),r=e(50606).BADNUM,l=e(78232).TOO_MANY_POINTS;V.exports=function(s,c){var u=c.dimensions,b=c._length,f={},w=f.cdata=[],v=f.data=[],o=c._visibleDims=[],d,S,M,P,x;function E(k,_){for(var H=k.makeCalcdata({v:_.values,vcalendar:c.calendar},"v"),z=0;z<H.length;z++)H[z]=H[z]===r?NaN:H[z];w.push(H),v.push(k.type==="log"?p.simpleMap(H,k.c2l):H)}for(d=0;d<u.length;d++)if(M=u[d],M.visible){if(P=L.getFromId(s,c._diag[d][0]),x=L.getFromId(s,c._diag[d][1]),P&&x&&P.type!==x.type){p.log("Skipping splom dimension "+d+" with conflicting axis types");continue}P?(E(P,M),x&&x.type==="category"&&(x._categories=P._categories.slice())):E(x,M),o.push(d)}y(s,c),p.extendFlat(f,g(s,c));var T=w.length,i=T*b>l,R;for(i?R=f.sizeAvg||Math.max(f.size,3):R=n(c,b),S=0;S<o.length;S++)d=o[S],M=u[d],P=L.getFromId(s,c._diag[d][0])||{},x=L.getFromId(s,c._diag[d][1])||{},C(s,c,P,x,w[S],w[S],R);var A=t(s,c);return A.matrix||(A.matrix=!0),A.matrixOptions=f,A.selectedOptions=h(s,c,c.selected),A.unselectedOptions=h(s,c,c.unselected),[{x:!1,y:!1,t:{},trace:c}]}},25784:function(V,B,e){var p=e(71828),L=e(85501),n=e(46880),C=e(34098),y=e(49508),h=e(94397),g=e(68645).isOpenSymbol;V.exports=function(a,s,c,u){function b(P,x){return p.coerce(a,s,n,P,x)}var f=L(a,s,{name:"dimensions",handleItemDefaults:t}),w=b("diagonal.visible"),v=b("showupperhalf"),o=b("showlowerhalf"),d=h(s,f,"values");if(!d||!w&&!v&&!o){s.visible=!1;return}b("text"),b("hovertext"),b("hovertemplate"),b("xhoverformat"),b("yhoverformat"),y(a,s,c,u,b,{noAngleRef:!0,noStandOff:!0});var S=g(s.marker.symbol),M=C.isBubble(s);b("marker.line.width",S||M?1:0),r(a,s,u,b),p.coerceSelectionMarkerOpacity(s,b)};function t(l,a){function s(u,b){return p.coerce(l,a,n.dimensions,u,b)}s("label");var c=s("values");c&&c.length?s("visible"):a.visible=!1,s("axis.type"),s("axis.matches")}function r(l,a,s,c){var u=a.dimensions,b=u.length,f=a.showupperhalf,w=a.showlowerhalf,v=a.diagonal.visible,o,d,S=new Array(b),M=new Array(b);for(o=0;o<b;o++){var P=o?o+1:"";S[o]="x"+P,M[o]="y"+P}var x=c("xaxes",S),E=c("yaxes",M),T=a._diag=new Array(b);a._xaxes={},a._yaxes={};var i=[],R=[];function A(Z,q,J,te){if(Z){var fe=Z.charAt(0),K=s._splomAxes[fe];if(a["_"+fe+"axes"][Z]=1,te.push(Z),!(Z in K)){var Y=K[Z]={};J&&(Y.label=J.label||"",J.visible&&J.axis&&(J.axis.type&&(Y.type=J.axis.type),J.axis.matches&&(Y.matches=q)))}}}var k=!v&&!w,_=!v&&!f;for(a._axesDim={},o=0;o<b;o++){var H=u[o],z=o===0,N=o===b-1,O=z&&k||N&&_?void 0:x[o],F=z&&_||N&&k?void 0:E[o];A(O,F,H,i),A(F,O,H,R),T[o]=[O,F],a._axesDim[O]=o,a._axesDim[F]=o}for(o=0;o<i.length;o++)for(d=0;d<R.length;d++){var U=i[o]+R[d];(o>d&&f||o<d&&w||o===d&&(v||!w||!f))&&(s._splomSubplots[U]=1)}(!w||!v&&f&&w)&&(s._splomGridDflt.xside="bottom",s._splomGridDflt.yside="left")}},28801:function(V,B,e){var p=e(71828),L=e(36922),n=e(19635).markerStyle;V.exports=function(y,h){var g=h.trace,t=y._fullLayout._splomScenes[g.uid];if(t){L(y,g),p.extendFlat(t.matrixOptions,n(y,g));var r=p.extendFlat({},t.matrixOptions,t.viewOpts);t.matrix.update(r,null)}}},35948:function(V,B){B.getDimIndex=function(p,L){for(var n=L._id,C=n.charAt(0),y={x:0,y:1}[C],h=p._visibleDims,g=0;g<h.length;g++){var t=h[g];if(p._diag[t][y]===n)return g}return!1}},8567:function(V,B,e){var p=e(35948),L=e(20794).calcHover;function n(C,y,h){var g=C.cd,t=g[0].trace,r=C.scene,l=r.matrixOptions.cdata,a=C.xa,s=C.ya,c=a.c2p(y),u=s.c2p(h),b=C.distance,f=p.getDimIndex(t,a),w=p.getDimIndex(t,s);if(f===!1||w===!1)return[C];for(var v=l[f],o=l[w],d,S,M=b,P=0;P<v.length;P++){var x=v[P],E=o[P],T=a.c2p(x)-c,i=s.c2p(E)-u,R=Math.sqrt(T*T+i*i);R<M&&(M=S=R,d=P)}return C.index=d,C.distance=M,C.dxy=S,d===void 0?[C]:[L(C,v,o,t)]}V.exports={hoverPoints:n}},6419:function(V,B,e){var p=e(65017);p.basePlotModule=e(16947),V.exports=p},79410:function(V,B,e){var p=e(60487),L=e(71828),n=e(41675),C=e(64505).selectMode;V.exports=function(g,t,r){if(r.length)for(var l=0;l<r.length;l++)y(g,r[l][0])};function y(h,g){var t=h._fullLayout,r=t._size,l=g.trace,a=g.t,s=t._splomScenes[l.uid],c=s.matrixOptions,u=c.cdata,b=t._glcanvas.data()[0].regl,f=t.dragmode,w,v,o,d,S;if(u.length!==0){c.lower=l.showupperhalf,c.upper=l.showlowerhalf,c.diagonal=l.diagonal.visible;var M=l._visibleDims,P=u.length,x=s.viewOpts={};for(x.ranges=new Array(P),x.domains=new Array(P),S=0;S<M.length;S++){o=M[S];var E=x.ranges[S]=new Array(4),T=x.domains[S]=new Array(4);w=n.getFromId(h,l._diag[o][0]),w&&(E[0]=w._rl[0],E[2]=w._rl[1],T[0]=w.domain[0],T[2]=w.domain[1]),v=n.getFromId(h,l._diag[o][1]),v&&(E[1]=v._rl[0],E[3]=v._rl[1],T[1]=v.domain[0],T[3]=v.domain[1])}var i=h._context.plotGlPixelRatio,R=r.l*i,A=r.b*i,k=r.w*i,_=r.h*i;x.viewport=[R,A,k+R,_+A],s.matrix===!0&&(s.matrix=p(b));var H=t.clickmode.indexOf("select")>-1,z=C(f)||!!l.selectedpoints||H,N=!0;if(z){var O=l._length;if(l.selectedpoints){s.selectBatch=l.selectedpoints;var F=l.selectedpoints,U={};for(o=0;o<F.length;o++)U[F[o]]=!0;var Z=[];for(o=0;o<O;o++)U[o]||Z.push(o);s.unselectBatch=Z}var q=a.xpx=new Array(P),J=a.ypx=new Array(P);for(S=0;S<M.length;S++){if(o=M[S],w=n.getFromId(h,l._diag[o][0]),w)for(q[S]=new Array(O),d=0;d<O;d++)q[S][d]=w.c2p(u[S][d]);if(v=n.getFromId(h,l._diag[o][1]),v)for(J[S]=new Array(O),d=0;d<O;d++)J[S][d]=v.c2p(u[S][d])}if(s.selectBatch.length||s.unselectBatch.length){var te=L.extendFlat({},c,s.unselectedOptions,x),fe=L.extendFlat({},c,s.selectedOptions,x);s.matrix.update(te,fe),N=!1}}else a.xpx=a.ypx=null;if(N){var K=L.extendFlat({},c,x);s.matrix.update(K,null)}}}},10164:function(V,B,e){var p=e(71828);V.exports=function(n,C){var y=n._fullLayout,h=C.uid,g=y._splomScenes;g||(g=y._splomScenes={});var t={dirty:!0,selectBatch:[],unselectBatch:[]},r={matrix:!1,selectBatch:[],unselectBatch:[]},l=g[C.uid];return l||(l=g[h]=p.extendFlat({},t,r),l.draw=function(){l.matrix&&l.matrix.draw&&(l.selectBatch.length||l.unselectBatch.length?l.matrix.draw(l.unselectBatch,l.selectBatch):l.matrix.draw()),l.dirty=!1},l.destroy=function(){l.matrix&&l.matrix.destroy&&l.matrix.destroy(),l.matrixOptions=null,l.selectBatch=null,l.unselectBatch=null,l=null}),l.dirty||p.extendFlat(l,t),l}},8689:function(V,B,e){var p=e(71828),L=p.pushUnique,n=e(34098),C=e(35948);V.exports=function(h,g){var t=h.cd,r=t[0].trace,l=t[0].t,a=h.scene,s=a.matrixOptions.cdata,c=h.xaxis,u=h.yaxis,b=[];if(!a)return b;var f=!n.hasMarkers(r)&&!n.hasText(r);if(r.visible!==!0||f)return b;var w=C.getDimIndex(r,c),v=C.getDimIndex(r,u);if(w===!1||v===!1)return b;var o=l.xpx[w],d=l.ypx[v],S=s[w],M=s[v],P=(h.scene.selectBatch||[]).slice(),x=[];if(g!==!1&&!g.degenerate)for(var E=0;E<S.length;E++)g.contains([o[E],d[E]],null,E,h)?(b.push({pointNumber:E,x:S[E],y:M[E]}),L(P,E)):P.indexOf(E)!==-1?L(P,E):x.push(E);var T=a.matrixOptions;return!P.length&&!x.length?a.matrix.update(T,null):!a.selectBatch.length&&!a.unselectBatch.length&&a.matrix.update(a.unselectedOptions,p.extendFlat({},T,a.selectedOptions,a.viewOpts)),a.selectBatch=P,a.unselectBatch=x,b}},21850:function(V,B,e){var p=e(50693),L=e(12663).axisHoverFormat,n=e(5386).fF,C=e(2418),y=e(9012),h=e(1426).extendFlat,g={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:n({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:L("u",1),vhoverformat:L("v",1),whoverformat:L("w",1),xhoverformat:L("x"),yhoverformat:L("y"),zhoverformat:L("z"),showlegend:h({},y.showlegend,{dflt:!1})};h(g,p("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"}));var t=["opacity","lightposition","lighting"];t.forEach(function(r){g[r]=C[r]}),g.hoverinfo=h({},y.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),g.transforms=void 0,V.exports=g},88489:function(V,B,e){var p=e(71828),L=e(78803);function n(g,t){t._len=Math.min(t.u.length,t.v.length,t.w.length,t.x.length,t.y.length,t.z.length),t._u=h(t.u,t._len),t._v=h(t.v,t._len),t._w=h(t.w,t._len),t._x=h(t.x,t._len),t._y=h(t.y,t._len),t._z=h(t.z,t._len);var r=C(t);t._gridFill=r.fill,t._Xs=r.Xs,t._Ys=r.Ys,t._Zs=r.Zs,t._len=r.len;var l=0,a,s,c;t.starts&&(a=h(t.starts.x||[]),s=h(t.starts.y||[]),c=h(t.starts.z||[]),l=Math.min(a.length,s.length,c.length)),t._startsX=a||[],t._startsY=s||[],t._startsZ=c||[];var u=0,b=1/0,f;for(f=0;f<t._len;f++){var w=t._u[f],v=t._v[f],o=t._w[f],d=Math.sqrt(w*w+v*v+o*o);u=Math.max(u,d),b=Math.min(b,d)}for(L(g,t,{vals:[b,u],containerStr:"",cLetter:"c"}),f=0;f<l;f++){var S=a[f];r.xMax=Math.max(r.xMax,S),r.xMin=Math.min(r.xMin,S);var M=s[f];r.yMax=Math.max(r.yMax,M),r.yMin=Math.min(r.yMin,M);var P=c[f];r.zMax=Math.max(r.zMax,P),r.zMin=Math.min(r.zMin,P)}t._slen=l,t._normMax=u,t._xbnds=[r.xMin,r.xMax],t._ybnds=[r.yMin,r.yMax],t._zbnds=[r.zMin,r.zMax]}function C(g){var t=g._x,r=g._y,l=g._z,a=g._len,s,c,u,b=-1/0,f=1/0,w=-1/0,v=1/0,o=-1/0,d=1/0,S="",M,P,x,E,T,i,R,A,k;for(a&&(E=t[0],i=r[0],A=l[0]),a>1&&(T=t[a-1],R=r[a-1],k=l[a-1]),s=0;s<a;s++)b=Math.max(b,t[s]),f=Math.min(f,t[s]),w=Math.max(w,r[s]),v=Math.min(v,r[s]),o=Math.max(o,l[s]),d=Math.min(d,l[s]),!M&&t[s]!==E&&(M=!0,S+="x"),!P&&r[s]!==i&&(P=!0,S+="y"),!x&&l[s]!==A&&(x=!0,S+="z");M||(S+="x"),P||(S+="y"),x||(S+="z");var _=y(g._x),H=y(g._y),z=y(g._z);S=S.replace("x",(E>T?"-":"+")+"x"),S=S.replace("y",(i>R?"-":"+")+"y"),S=S.replace("z",(A>k?"-":"+")+"z");var N=function(){a=0,_=[],H=[],z=[]};(!a||a<_.length*H.length*z.length)&&N();var O=function(he){return he==="x"?t:he==="y"?r:l},F=function(he){return he==="x"?_:he==="y"?H:z},U=function(he){return he[a-1]<he[0]?-1:1},Z=O(S[1]),q=O(S[3]),J=O(S[5]),te=F(S[1]).length,fe=F(S[3]).length,K=F(S[5]).length,Y=!1,W=function(he,xe,Ae){return te*(fe*he+xe)+Ae},X=U(O(S[1])),re=U(O(S[3])),se=U(O(S[5]));for(s=0;s<K-1;s++){for(c=0;c<fe-1;c++){for(u=0;u<te-1;u++){var Q=W(s,c,u),ee=W(s,c,u+1),le=W(s,c+1,u),oe=W(s+1,c,u);if((!(Z[Q]*X<Z[ee]*X)||!(q[Q]*re<q[le]*re)||!(J[Q]*se<J[oe]*se))&&(Y=!0),Y)break}if(Y)break}if(Y)break}return Y&&(p.warn("Encountered arbitrary coordinates! Unable to input data grid."),N()),{xMin:f,yMin:v,zMin:d,xMax:b,yMax:w,zMax:o,Xs:_,Ys:H,Zs:z,len:a,fill:S}}function y(g){return p.distinctVals(g).vals}function h(g,t){if(t===void 0&&(t=g.length),p.isTypedArray(g))return g.subarray(0,t);for(var r=[],l=0;l<t;l++)r[l]=+g[l];return r}V.exports={calc:n,filter:h,processGrid:C}},90154:function(V,B,e){var p=e(9330).gl_streamtube3d,L=p.createTubeMesh,n=e(71828),C=e(81697).parseColorScale,y=e(21081).extractOpts,h=e(90060),g={xaxis:0,yaxis:1,zaxis:2};function t(u,b){this.scene=u,this.uid=b,this.mesh=null,this.data=null}var r=t.prototype;r.handlePick=function(u){var b=this.scene.fullSceneLayout,f=this.scene.dataScale;function w(d,S){var M=b[S],P=f[g[S]];return M.l2c(d)/P}if(u.object===this.mesh){var v=u.data.position,o=u.data.velocity;return u.traceCoordinate=[w(v[0],"xaxis"),w(v[1],"yaxis"),w(v[2],"zaxis"),w(o[0],"xaxis"),w(o[1],"yaxis"),w(o[2],"zaxis"),u.data.intensity*this.data._normMax,u.data.divergence],u.textLabel=this.data.hovertext||this.data.text,!0}};function l(u){var b=u.length,f;return b>2?f=u.slice(1,b-1):b===2?f=[(u[0]+u[1])/2]:f=u,f}function a(u){var b=u.length;return b===1?[.5,.5]:[u[1]-u[0],u[b-1]-u[b-2]]}function s(u,b){var f=u.fullSceneLayout,w=u.dataScale,v=b._len,o={};function d(fe,K){var Y=f[K],W=w[g[K]];return n.simpleMap(fe,function(X){return Y.d2l(X)*W})}if(o.vectors=h(d(b._u,"xaxis"),d(b._v,"yaxis"),d(b._w,"zaxis"),v),!v)return{positions:[],cells:[]};var S=d(b._Xs,"xaxis"),M=d(b._Ys,"yaxis"),P=d(b._Zs,"zaxis");o.meshgrid=[S,M,P],o.gridFill=b._gridFill;var x=b._slen;if(x)o.startingPositions=h(d(b._startsX,"xaxis"),d(b._startsY,"yaxis"),d(b._startsZ,"zaxis"));else{for(var E=M[0],T=l(S),i=l(P),R=new Array(T.length*i.length),A=0,k=0;k<T.length;k++)for(var _=0;_<i.length;_++)R[A++]=[T[k],E,i[_]];o.startingPositions=R}o.colormap=C(b),o.tubeSize=b.sizeref,o.maxLength=b.maxdisplayed;var H=d(b._xbnds,"xaxis"),z=d(b._ybnds,"yaxis"),N=d(b._zbnds,"zaxis"),O=a(S),F=a(M),U=a(P),Z=[[H[0]-O[0],z[0]-F[0],N[0]-U[0]],[H[1]+O[1],z[1]+F[1],N[1]+U[1]]],q=p(o,Z),J=y(b);q.vertexIntensityBounds=[J.min/b._normMax,J.max/b._normMax];var te=b.lightposition;return q.lightPosition=[te.x,te.y,te.z],q.ambient=b.lighting.ambient,q.diffuse=b.lighting.diffuse,q.specular=b.lighting.specular,q.roughness=b.lighting.roughness,q.fresnel=b.lighting.fresnel,q.opacity=b.opacity,b._pad=q.tubeScale*b.sizeref*2,q}r.update=function(u){this.data=u;var b=s(this.scene,u);this.mesh.update(b)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function c(u,b){var f=u.glplot.gl,w=s(u,b),v=L(f,w),o=new t(u,b.uid);return o.mesh=v,o.data=b,v._trace=o,u.glplot.add(v),o}V.exports=c},22459:function(V,B,e){var p=e(71828),L=e(1586),n=e(21850);V.exports=function(y,h,g,t){function r(f,w){return p.coerce(y,h,n,f,w)}var l=r("u"),a=r("v"),s=r("w"),c=r("x"),u=r("y"),b=r("z");if(!l||!l.length||!a||!a.length||!s||!s.length||!c||!c.length||!u||!u.length||!b||!b.length){h.visible=!1;return}r("starts.x"),r("starts.y"),r("starts.z"),r("maxdisplayed"),r("sizeref"),r("lighting.ambient"),r("lighting.diffuse"),r("lighting.specular"),r("lighting.roughness"),r("lighting.fresnel"),r("lightposition.x"),r("lightposition.y"),r("lightposition.z"),L(y,h,t,r,{prefix:"",cLetter:"c"}),r("text"),r("hovertext"),r("hovertemplate"),r("uhoverformat"),r("vhoverformat"),r("whoverformat"),r("xhoverformat"),r("yhoverformat"),r("zhoverformat"),h._length=null}},61510:function(V,B,e){V.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(p,L){return p.tubex=p.x,p.tubey=p.y,p.tubez=p.z,p.tubeu=L.traceCoordinate[3],p.tubev=L.traceCoordinate[4],p.tubew=L.traceCoordinate[5],p.norm=L.traceCoordinate[6],p.divergence=L.traceCoordinate[7],delete p.x,delete p.y,delete p.z,p},meta:{}}},57564:function(V,B,e){var p=e(9012),L=e(5386).fF,n=e(5386).si,C=e(50693),y=e(27670).Y,h=e(34e3),g=e(7055),t=e(1426).extendFlat,r=e(79952).u;V.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},h.marker.line.color,{dflt:null}),width:t({},h.marker.line.width,{dflt:1}),editType:"calc"},pattern:r,editType:"calc"},C("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:h.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:n({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:h.hovertext,hoverinfo:t({},p.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:L({},{keys:g.eventDataKeys}),textfont:h.textfont,insidetextorientation:h.insidetextorientation,insidetextfont:h.insidetextfont,outsidetextfont:t({},h.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:h.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:y({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(V,B,e){var p=e(74875);B.name="sunburst",B.plot=function(L,n,C,y){p.plotBasePlot(B.name,L,n,C,y)},B.clean=function(L,n,C,y){p.cleanBasePlot(B.name,L,n,C,y)}},52147:function(V,B,e){var p=e(674),L=e(92770),n=e(71828),C=e(21081).makeColorScaleFuncFromTrace,y=e(32354).makePullColorFn,h=e(32354).generateExtendedColors,g=e(21081).calc,t=e(50606).ALMOST_EQUAL,r={},l={},a={};B.calc=function(c,u){var b=c._fullLayout,f=u.ids,w=n.isArrayOrTypedArray(f),v=u.labels,o=u.parents,d=u.values,S=n.isArrayOrTypedArray(d),M=[],P={},x={},E=function(X,re){P[X]?P[X].push(re):P[X]=[re],x[re]=1},T=function(X){return X||typeof X=="number"},i=function(X){return!S||L(d[X])&&d[X]>=0},R,A,k;w?(R=Math.min(f.length,o.length),A=function(X){return T(f[X])&&i(X)},k=function(X){return String(f[X])}):(R=Math.min(v.length,o.length),A=function(X){return T(v[X])&&i(X)},k=function(X){return String(v[X])}),S&&(R=Math.min(R,d.length));for(var _=0;_<R;_++)if(A(_)){var H=k(_),z=T(o[_])?String(o[_]):"",N={i:_,id:H,pid:z,label:T(v[_])?String(v[_]):""};S&&(N.v=+d[_]),M.push(N),E(z,H)}if(P[""]){if(P[""].length>1){for(var U=n.randstr(),Z=0;Z<M.length;Z++)M[Z].pid===""&&(M[Z].pid=U);M.unshift({hasMultipleRoots:!0,id:U,pid:"",label:""})}}else{var O=[],F;for(F in P)x[F]||O.push(F);if(O.length===1)F=O[0],M.unshift({hasImpliedRoot:!0,id:F,pid:"",label:F});else return n.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",O.join(", ")].join(" "))}var q;try{q=p.stratify().id(function(X){return X.id}).parentId(function(X){return X.pid})(M)}catch(X){return n.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",X.message].join(" "))}var J=p.hierarchy(q),te=!1;if(S)switch(u.branchvalues){case"remainder":J.sum(function(X){return X.data.v});break;case"total":J.each(function(X){var re=X.data.data,se=re.v;if(X.children){var Q=X.children.reduce(function(ee,le){return ee+le.data.data.v},0);if((re.hasImpliedRoot||re.hasMultipleRoots)&&(se=Q),se<Q*t)return te=!0,n.warn(["Total value for node",X.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,se,`
children sum =`,Q].join(" "))}X.value=se});break}else s(J,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!te){u.sort&&J.sort(function(X,re){return re.value-X.value});var fe,K,Y=u.marker.colors||[],W=!!Y.length;return u._hasColorscale?(W||(Y=S?u.values:u._values),g(c,u,{vals:Y,containerStr:"marker",cLetter:"c"}),K=C(u.marker)):fe=y(b["_"+u.type+"colormap"]),J.each(function(X){var re=X.data.data;re.color=u._hasColorscale?K(Y[re.i]):fe(Y[re.i],re.id)}),M[0].hierarchy=J,M}},B._runCrossTraceCalc=function(c,u){var b=u._fullLayout,f=u.calcdata,w=b[c+"colorway"],v=b["_"+c+"colormap"];b["extend"+c+"colors"]&&(w=h(w,c==="icicle"?a:c==="treemap"?l:r));var o=0,d;function S(E){var T=E.data.data,i=T.id;T.color===!1&&(v[i]?T.color=v[i]:E.parent?E.parent.parent?T.color=E.parent.data.data.color:(v[i]=T.color=w[o%w.length],o++):T.color=d)}for(var M=0;M<f.length;M++){var P=f[M],x=P[0];x.trace.type===c&&x.hierarchy&&(d=x.trace.root.color,x.hierarchy.each(S))}},B.crossTraceCalc=function(c){return B._runCrossTraceCalc("sunburst",c)};function s(c,u,b){var f=0,w=c.children;if(w){for(var v=w.length,o=0;o<v;o++)f+=s(w[o],u,b);b.branches&&f++}else b.leaves&&f++;return c.value=c.data.data.value=f,u._values||(u._values=[]),u._values[c.data.data.i]=f,f}},7055:function(V){V.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(V,B,e){var p=e(71828),L=e(57564),n=e(27670).c,C=e(90769).handleText,y=e(37434).handleMarkerDefaults,h=e(21081),g=h.hasColorscale,t=h.handleDefaults;V.exports=function(l,a,s,c){function u(S,M){return p.coerce(l,a,L,S,M)}var b=u("labels"),f=u("parents");if(!b||!b.length||!f||!f.length){a.visible=!1;return}var w=u("values");w&&w.length?u("branchvalues"):u("count"),u("level"),u("maxdepth"),y(l,a,c,u);var v=a._hasColorscale=g(l,"marker","colors")||(l.marker||{}).coloraxis;v&&t(l,a,c,u,{prefix:"marker.",cLetter:"c"}),u("leaf.opacity",v?1:.7);var o=u("text");u("texttemplate"),a.texttemplate||u("textinfo",Array.isArray(o)?"text+label":"label"),u("hovertext"),u("hovertemplate");var d="auto";C(l,a,c,u,d,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),u("insidetextorientation"),u("sort"),u("rotation"),u("root.color"),n(a,c,u),a._length=null}},43467:function(V,B,e){var p=e(91424),L=e(7901);V.exports=function(C,y,h,g,t){var r=y.data.data,l=r.i,a=t||r.color;if(l>=0){y.i=r.i;var s=h.marker;s.pattern?(!s.colors||!s.pattern.shape)&&(s.color=a,y.color=a):(s.color=a,y.color=a),p.pointStyle(C,h,g,y)}else L.fill(C,a)}},83523:function(V,B,e){var p=e(39898),L=e(73972),n=e(23469).appendArrayPointValue,C=e(30211),y=e(71828),h=e(11086),g=e(2791),t=e(53581),r=t.formatPieValue;V.exports=function(s,c,u,b,f){var w=b[0],v=w.trace,o=w.hierarchy,d=v.type==="sunburst",S=v.type==="treemap"||v.type==="icicle";"_hasHoverLabel"in v||(v._hasHoverLabel=!1),"_hasHoverEvent"in v||(v._hasHoverEvent=!1);var M=function(E){var T=u._fullLayout;if(!(u._dragging||T.hovermode===!1)){var i=u._fullData[v.index],R=E.data.data,A=R.i,k=g.isHierarchyRoot(E),_=g.getParent(o,E),H=g.getValue(E),z=function(ee){return y.castOption(i,A,ee)},N=z("hovertemplate"),O=C.castHoverinfo(i,T,A),F=T.separators,U;if(N||O&&O!=="none"&&O!=="skip"){var Z,q;d&&(Z=w.cx+E.pxmid[0]*(1-E.rInscribed),q=w.cy+E.pxmid[1]*(1-E.rInscribed)),S&&(Z=E._hoverX,q=E._hoverY);var J={},te=[],fe=[],K=function(ee){return te.indexOf(ee)!==-1};O&&(te=O==="all"?i._module.attributes.hoverinfo.flags:O.split("+")),J.label=R.label,K("label")&&J.label&&fe.push(J.label),R.hasOwnProperty("v")&&(J.value=R.v,J.valueLabel=r(J.value,F),K("value")&&fe.push(J.valueLabel)),J.currentPath=E.currentPath=g.getPath(E.data),K("current path")&&!k&&fe.push(J.currentPath);var Y,W=[],X=function(){W.indexOf(Y)===-1&&(fe.push(Y),W.push(Y))};J.percentParent=E.percentParent=H/g.getValue(_),J.parent=E.parentString=g.getPtLabel(_),K("percent parent")&&(Y=g.formatPercent(J.percentParent,F)+" of "+J.parent,X()),J.percentEntry=E.percentEntry=H/g.getValue(c),J.entry=E.entry=g.getPtLabel(c),K("percent entry")&&!k&&!E.onPathbar&&(Y=g.formatPercent(J.percentEntry,F)+" of "+J.entry,X()),J.percentRoot=E.percentRoot=H/g.getValue(o),J.root=E.root=g.getPtLabel(o),K("percent root")&&!k&&(Y=g.formatPercent(J.percentRoot,F)+" of "+J.root,X()),J.text=z("hovertext")||z("text"),K("text")&&(Y=J.text,y.isValidTextValue(Y)&&fe.push(Y)),U=[l(E,i,f.eventDataKeys)];var re={trace:i,y:q,_x0:E._x0,_x1:E._x1,_y0:E._y0,_y1:E._y1,text:fe.join("<br>"),name:N||K("name")?i.name:void 0,color:z("hoverlabel.bgcolor")||R.color,borderColor:z("hoverlabel.bordercolor"),fontFamily:z("hoverlabel.font.family"),fontSize:z("hoverlabel.font.size"),fontColor:z("hoverlabel.font.color"),nameLength:z("hoverlabel.namelength"),textAlign:z("hoverlabel.align"),hovertemplate:N,hovertemplateLabels:J,eventData:U};d&&(re.x0=Z-E.rInscribed*E.rpx1,re.x1=Z+E.rInscribed*E.rpx1,re.idealAlign=E.pxmid[0]<0?"left":"right"),S&&(re.x=Z,re.idealAlign=Z<0?"left":"right");var se=[];C.loneHover(re,{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:u,inOut_bbox:se}),U[0].bbox=se[0],v._hasHoverLabel=!0}if(S){var Q=s.select("path.surface");f.styleOne(Q,E,i,u,{hovered:!0})}v._hasHoverEvent=!0,u.emit("plotly_hover",{points:U||[l(E,i,f.eventDataKeys)],event:p.event})}},P=function(E){var T=u._fullLayout,i=u._fullData[v.index],R=p.select(this).datum();if(v._hasHoverEvent&&(E.originalEvent=p.event,u.emit("plotly_unhover",{points:[l(R,i,f.eventDataKeys)],event:p.event}),v._hasHoverEvent=!1),v._hasHoverLabel&&(C.loneUnhover(T._hoverlayer.node()),v._hasHoverLabel=!1),S){var A=s.select("path.surface");f.styleOne(A,R,i,u,{hovered:!1})}},x=function(E){var T=u._fullLayout,i=u._fullData[v.index],R=d&&(g.isHierarchyRoot(E)||g.isLeaf(E)),A=g.getPtId(E),k=g.isEntry(E)?g.findEntryWithChild(o,A):g.findEntryWithLevel(o,A),_=g.getPtId(k),H={points:[l(E,i,f.eventDataKeys)],event:p.event};R||(H.nextLevel=_);var z=h.triggerHandler(u,"plotly_"+v.type+"click",H);if(z!==!1&&T.hovermode&&(u._hoverdata=[l(E,i,f.eventDataKeys)],C.click(u,p.event)),!R&&z!==!1&&!u._dragging&&!u._transitioning){L.call("_storeDirectGUIEdit",i,T._tracePreGUI[i.uid],{level:i.level});var N={data:[{level:_}],traces:[v.index]},O={frame:{redraw:!1,duration:f.transitionTime},transition:{duration:f.transitionTime,easing:f.transitionEasing},mode:"immediate",fromcurrent:!0};C.loneUnhover(T._hoverlayer.node()),L.call("animate",u,N,O)}};s.on("mouseover",M),s.on("mouseout",P),s.on("click",x)};function l(a,s,c){for(var u=a.data.data,b={curveNumber:s.index,pointNumber:u.i,data:s._input,fullData:s},f=0;f<c.length;f++){var w=c[f];w in a&&(b[w]=a[w])}return"parentString"in a&&!g.isHierarchyRoot(a)&&(b.parent=a.parentString),n(b,s,u.i),b}},2791:function(V,B,e){var p=e(71828),L=e(7901),n=e(6964),C=e(53581);B.findEntryWithLevel=function(t,r){var l;return r&&t.eachAfter(function(a){if(B.getPtId(a)===r)return l=a.copy()}),l||t},B.findEntryWithChild=function(t,r){var l;return t.eachAfter(function(a){for(var s=a.children||[],c=0;c<s.length;c++){var u=s[c];if(B.getPtId(u)===r)return l=a.copy()}}),l||t},B.isEntry=function(t){return!t.parent},B.isLeaf=function(t){return!t.children},B.getPtId=function(t){return t.data.data.id},B.getPtLabel=function(t){return t.data.data.label},B.getValue=function(t){return t.value},B.isHierarchyRoot=function(t){return g(t)===""},B.setSliceCursor=function(t,r,l){var a=l.isTransitioning;if(!a){var s=t.datum();a=l.hideOnRoot&&B.isHierarchyRoot(s)||l.hideOnLeaves&&B.isLeaf(s)}n(t,a?null:"pointer")};function y(t,r,l){return{color:B.getOutsideTextFontKey("color",t,r,l),family:B.getOutsideTextFontKey("family",t,r,l),size:B.getOutsideTextFontKey("size",t,r,l)}}function h(t,r,l,a){var s=(a||{}).onPathbar,c=r.data.data,u=c.i,b=p.castOption(t,u,(s?"pathbar.textfont":"insidetextfont")+".color");return!b&&t._input.textfont&&(b=p.castOption(t._input,u,"textfont.color")),{color:b||L.contrast(c.color),family:B.getInsideTextFontKey("family",t,r,l,a),size:B.getInsideTextFontKey("size",t,r,l,a)}}B.getInsideTextFontKey=function(t,r,l,a,s){var c=(s||{}).onPathbar,u=c?"pathbar.textfont":"insidetextfont",b=l.data.data.i;return p.castOption(r,b,u+"."+t)||p.castOption(r,b,"textfont."+t)||a.size},B.getOutsideTextFontKey=function(t,r,l,a){var s=l.data.data.i;return p.castOption(r,s,"outsidetextfont."+t)||p.castOption(r,s,"textfont."+t)||a.size},B.isOutsideText=function(t,r){return!t._hasColorscale&&B.isHierarchyRoot(r)},B.determineTextFont=function(t,r,l,a){return B.isOutsideText(t,r)?y(t,r,l):h(t,r,l,a)},B.hasTransition=function(t){return!!(t&&t.duration>0)},B.getMaxDepth=function(t){return t.maxdepth>=0?t.maxdepth:1/0},B.isHeader=function(t,r){return!(B.isLeaf(t)||t.depth===r._maxDepth-1)};function g(t){return t.data.data.pid}B.getParent=function(t,r){return B.findEntryWithLevel(t,g(r))},B.listPath=function(t,r){var l=t.parent;if(!l)return[];var a=r?[l.data[r]]:[l];return B.listPath(l,r).concat(a)},B.getPath=function(t){return B.listPath(t,"label").join("/")+"/"},B.formatValue=C.formatPieValue,B.formatPercent=function(t,r){var l=p.formatPercent(t,0);return l==="0%"&&(l=C.formatPiePercent(t,r)),l}},87619:function(V,B,e){V.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(V){V.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(V,B,e){var p=e(71828),L=e(2654);V.exports=function(C,y){function h(g,t){return p.coerce(C,y,L,g,t)}h("sunburstcolorway",y.colorway),h("extendsunburstcolors")}},24714:function(V,B,e){var p=e(39898),L=e(674),n=e(81684).sX,C=e(91424),y=e(71828),h=e(63893),g=e(72597),t=g.recordMinTextSize,r=g.clearMinTextSize,l=e(14575),a=e(53581).getRotationAngle,s=l.computeTransform,c=l.transformInsideText,u=e(29969).styleOne,b=e(16688).resizeText,f=e(83523),w=e(7055),v=e(2791);B.plot=function(x,E,T,i){var R=x._fullLayout,A=R._sunburstlayer,k,_,H=!T,z=!R.uniformtext.mode&&v.hasTransition(T);if(r("sunburst",R),k=A.selectAll("g.trace.sunburst").data(E,function(O){return O[0].trace.uid}),k.enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),k.order(),z){i&&(_=i());var N=p.transition().duration(T.duration).ease(T.easing).each("end",function(){_&&_()}).each("interrupt",function(){_&&_()});N.each(function(){A.selectAll("g.trace").each(function(O){o(x,O,this,T)})})}else k.each(function(O){o(x,O,this,T)}),R.uniformtext.mode&&b(x,R._sunburstlayer.selectAll(".trace"),"sunburst");H&&k.exit().remove()};function o(x,E,T,i){var R=x._context.staticPlot,A=x._fullLayout,k=!A.uniformtext.mode&&v.hasTransition(i),_=p.select(T),H=_.selectAll("g.slice"),z=E[0],N=z.trace,O=z.hierarchy,F=v.findEntryWithLevel(O,N.level),U=v.getMaxDepth(N),Z=A._size,q=N.domain,J=Z.w*(q.x[1]-q.x[0]),te=Z.h*(q.y[1]-q.y[0]),fe=.5*Math.min(J,te),K=z.cx=Z.l+Z.w*(q.x[1]+q.x[0])/2,Y=z.cy=Z.t+Z.h*(1-q.y[0])-te/2;if(!F)return H.remove();var W=null,X={};k&&H.each(function(We){X[v.getPtId(We)]={rpx0:We.rpx0,rpx1:We.rpx1,x0:We.x0,x1:We.x1,transform:We.transform},!W&&v.isEntry(We)&&(W=We)});var re=d(F).descendants(),se=F.height+1,Q=0,ee=U;z.hasMultipleRoots&&v.isHierarchyRoot(F)&&(re=re.slice(1),se-=1,Q=1,ee+=1),re=re.filter(function(We){return We.y1<=ee});var le=a(N.rotation);le&&re.forEach(function(We){We.x0+=le,We.x1+=le});var oe=Math.min(se,U),he=function(We){return(We-Q)/oe*fe},xe=function(We,nt){return[We*Math.cos(nt),-We*Math.sin(nt)]},Ae=function(We){return y.pathAnnulus(We.rpx0,We.rpx1,We.x0,We.x1,K,Y)},Se=function(We){return K+M(We)[0]*(We.transform.rCenter||0)+(We.transform.x||0)},Oe=function(We){return Y+M(We)[1]*(We.transform.rCenter||0)+(We.transform.y||0)};H=H.data(re,v.getPtId),H.enter().append("g").classed("slice",!0),k?H.exit().transition().each(function(){var We=p.select(this),nt=We.select("path.surface");nt.transition().attrTween("d",function(Qe){var tt=Le(Qe);return function(vt){return Ae(tt(vt))}});var qe=We.select("g.slicetext");qe.attr("opacity",0)}).remove():H.exit().remove(),H.order();var Ve=null;if(k&&W){var Ee=v.getPtId(W);H.each(function(We){Ve===null&&v.getPtId(We)===Ee&&(Ve=We.x1)})}var Te=H;k&&(Te=Te.transition().each("end",function(){var We=p.select(this);v.setSliceCursor(We,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),Te.each(function(We){var nt=p.select(this),qe=y.ensureSingle(nt,"path","surface",function(Mt){Mt.style("pointer-events",R?"none":"all")});We.rpx0=he(We.y0),We.rpx1=he(We.y1),We.xmid=(We.x0+We.x1)/2,We.pxmid=xe(We.rpx1,We.xmid),We.midangle=-(We.xmid-Math.PI/2),We.startangle=-(We.x0-Math.PI/2),We.stopangle=-(We.x1-Math.PI/2),We.halfangle=.5*Math.min(y.angleDelta(We.x0,We.x1)||Math.PI,Math.PI),We.ring=1-We.rpx0/We.rpx1,We.rInscribed=S(We),k?qe.transition().attrTween("d",function(Mt){var Rt=Ge(Mt);return function(Wt){return Ae(Rt(Wt))}}):qe.attr("d",Ae),nt.call(f,F,x,E,{eventDataKeys:w.eventDataKeys,transitionTime:w.CLICK_TRANSITION_TIME,transitionEasing:w.CLICK_TRANSITION_EASING}).call(v.setSliceCursor,x,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:x._transitioning}),qe.call(u,We,N,x);var Qe=y.ensureSingle(nt,"g","slicetext"),tt=y.ensureSingle(Qe,"text","",function(Mt){Mt.attr("data-notex",1)}),vt=y.ensureUniformFontSize(x,v.determineTextFont(N,We,A.font));tt.text(B.formatSliceLabel(We,F,N,E,A)).classed("slicetext",!0).attr("text-anchor","middle").call(C.font,vt).call(h.convertToTspans,x);var dt=C.bBox(tt.node());We.transform=c(dt,We,z),We.transform.targetX=Se(We),We.transform.targetY=Oe(We);var gt=function(Mt,Rt){var Wt=Mt.transform;return s(Wt,Rt),Wt.fontSize=vt.size,t(N.type,Wt,A),y.getTextTransform(Wt)};k?tt.transition().attrTween("transform",function(Mt){var Rt=He(Mt);return function(Wt){return gt(Rt(Wt),dt)}}):tt.attr("transform",gt(We,dt))});function Le(We){var nt=v.getPtId(We),qe=X[nt],Qe=X[v.getPtId(F)],tt;if(Qe){var vt=(We.x1>Qe.x1?2*Math.PI:0)+le;tt=We.rpx1<Qe.rpx1?{x0:We.x0,x1:We.x1,rpx0:0,rpx1:0}:{x0:vt,x1:vt,rpx0:We.rpx0,rpx1:We.rpx1}}else{var dt,gt=v.getPtId(We.parent);H.each(function(_e){if(v.getPtId(_e)===gt)return dt=_e});var Mt=dt.children,Rt;Mt.forEach(function(_e,Fe){if(v.getPtId(_e)===nt)return Rt=Fe});var Wt=Mt.length,je=n(dt.x0,dt.x1);tt={rpx0:fe,rpx1:fe,x0:je(Rt/Wt),x1:je((Rt+1)/Wt)}}return n(qe,tt)}function Ge(We){var nt=X[v.getPtId(We)],qe,Qe={x0:We.x0,x1:We.x1,rpx0:We.rpx0,rpx1:We.rpx1};if(nt)qe=nt;else if(W)if(We.parent)if(Ve){var tt=(We.x1>Ve?2*Math.PI:0)+le;qe={x0:tt,x1:tt}}else qe={rpx0:fe,rpx1:fe},y.extendFlat(qe,ke(We));else qe={rpx0:0,rpx1:0};else qe={x0:le,x1:le};return n(qe,Qe)}function He(We){var nt=X[v.getPtId(We)],qe,Qe=We.transform;if(nt)qe=nt;else if(qe={rpx1:We.rpx1,transform:{textPosAngle:Qe.textPosAngle,scale:0,rotate:Qe.rotate,rCenter:Qe.rCenter,x:Qe.x,y:Qe.y}},W)if(We.parent)if(Ve){var tt=We.x1>Ve?2*Math.PI:0;qe.x0=qe.x1=tt}else y.extendFlat(qe,ke(We));else qe.x0=qe.x1=le;else qe.x0=qe.x1=le;var vt=n(qe.transform.textPosAngle,We.transform.textPosAngle),dt=n(qe.rpx1,We.rpx1),gt=n(qe.x0,We.x0),Mt=n(qe.x1,We.x1),Rt=n(qe.transform.scale,Qe.scale),Wt=n(qe.transform.rotate,Qe.rotate),je=Qe.rCenter===0?3:qe.transform.rCenter===0?1/3:1,_e=n(qe.transform.rCenter,Qe.rCenter),Fe=function(Be){return _e(Math.pow(Be,je))};return function(Be){var De=dt(Be),we=gt(Be),ue=Mt(Be),me=Fe(Be),Re=xe(De,(we+ue)/2),Ne=vt(Be),it={pxmid:Re,rpx1:De,transform:{textPosAngle:Ne,rCenter:me,x:Qe.x,y:Qe.y}};return t(N.type,Qe,A),{transform:{targetX:Se(it),targetY:Oe(it),scale:Rt(Be),rotate:Wt(Be),rCenter:me}}}}function ke(We){var nt=We.parent,qe=X[v.getPtId(nt)],Qe={};if(qe){var tt=nt.children,vt=tt.indexOf(We),dt=tt.length,gt=n(qe.x0,qe.x1);Qe.x0=gt(vt/dt),Qe.x1=gt(vt/dt)}else Qe.x0=Qe.x1=0;return Qe}}function d(x){return L.partition().size([2*Math.PI,x.height+1])(x)}B.formatSliceLabel=function(x,E,T,i,R){var A=T.texttemplate,k=T.textinfo;if(!A&&(!k||k==="none"))return"";var _=R.separators,H=i[0],z=x.data.data,N=H.hierarchy,O=v.isHierarchyRoot(x),F=v.getParent(N,x),U=v.getValue(x);if(!A){var Z=k.split("+"),q=function(Q){return Z.indexOf(Q)!==-1},J=[],te;if(q("label")&&z.label&&J.push(z.label),z.hasOwnProperty("v")&&q("value")&&J.push(v.formatValue(z.v,_)),!O){q("current path")&&J.push(v.getPath(x.data));var fe=0;q("percent parent")&&fe++,q("percent entry")&&fe++,q("percent root")&&fe++;var K=fe>1;if(fe){var Y,W=function(Q){te=v.formatPercent(Y,_),K&&(te+=" of "+Q),J.push(te)};q("percent parent")&&!O&&(Y=U/v.getValue(F),W("parent")),q("percent entry")&&(Y=U/v.getValue(E),W("entry")),q("percent root")&&(Y=U/v.getValue(N),W("root"))}}return q("text")&&(te=y.castOption(T,z.i,"text"),y.isValidTextValue(te)&&J.push(te)),J.join("<br>")}var X=y.castOption(T,z.i,"texttemplate");if(!X)return"";var re={};z.label&&(re.label=z.label),z.hasOwnProperty("v")&&(re.value=z.v,re.valueLabel=v.formatValue(z.v,_)),re.currentPath=v.getPath(x.data),O||(re.percentParent=U/v.getValue(F),re.percentParentLabel=v.formatPercent(re.percentParent,_),re.parent=v.getPtLabel(F)),re.percentEntry=U/v.getValue(E),re.percentEntryLabel=v.formatPercent(re.percentEntry,_),re.entry=v.getPtLabel(E),re.percentRoot=U/v.getValue(N),re.percentRootLabel=v.formatPercent(re.percentRoot,_),re.root=v.getPtLabel(N),z.hasOwnProperty("color")&&(re.color=z.color);var se=y.castOption(T,z.i,"text");return(y.isValidTextValue(se)||se==="")&&(re.text=se),re.customdata=y.castOption(T,z.i,"customdata"),y.texttemplateString(X,re,R._d3locale,re,T._meta||{})};function S(x){return x.rpx0===0&&y.isFullCircle([x.x0,x.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(x.halfangle)),x.ring/2))}function M(x){return P(x.rpx1,x.transform.textPosAngle)}function P(x,E){return[x*Math.sin(E),-x*Math.cos(E)]}},29969:function(V,B,e){var p=e(39898),L=e(7901),n=e(71828),C=e(72597).resizeText,y=e(43467);function h(t){var r=t._fullLayout._sunburstlayer.selectAll(".trace");C(t,r,"sunburst"),r.each(function(l){var a=p.select(this),s=l[0],c=s.trace;a.style("opacity",c.opacity),a.selectAll("path.surface").each(function(u){p.select(this).call(g,u,c,t)})})}function g(t,r,l,a){var s=r.data.data,c=!r.children,u=s.i,b=n.castOption(l,u,"marker.line.color")||L.defaultLine,f=n.castOption(l,u,"marker.line.width")||0;t.call(y,r,l,a).style("stroke-width",f).call(L.stroke,b).style("opacity",c?l.leaf.opacity:null)}V.exports={style:h,styleOne:g}},54532:function(V,B,e){var p=e(7901),L=e(50693),n=e(12663).axisHoverFormat,C=e(5386).fF,y=e(9012),h=e(1426).extendFlat,g=e(30962).overrideAll;function t(a){return{valType:"boolean",dflt:!1}}function r(a){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:t(),y:t(),z:t()},color:{valType:"color",dflt:p.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:p.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var l=V.exports=g(h({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:C(),xhoverformat:n("x"),yhoverformat:n("y"),zhoverformat:n("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},L("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:r(),y:r(),z:r()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:h({},L.zauto,{}),zmin:h({},L.zmin,{}),zmax:h({},L.zmax,{})},hoverinfo:h({},y.hoverinfo),showlegend:h({},y.showlegend,{dflt:!1})}),"calc","nested");l.x.editType=l.y.editType=l.z.editType="calc+clearAxisTypes",l.transforms=void 0},18396:function(V,B,e){var p=e(78803);V.exports=function(n,C){C.surfacecolor?p(n,C,{vals:C.surfacecolor,containerStr:"",cLetter:"c"}):p(n,C,{vals:C.z,containerStr:"",cLetter:"c"})}},43768:function(V,B,e){var p=e(9330).gl_surface3d,L=e(9330).ndarray,n=e(9330).ndarray_linear_interpolate.d2,C=e(824),y=e(43907),h=e(71828).isArrayOrTypedArray,g=e(81697).parseColorScale,t=e(78614),r=e(21081).extractOpts;function l(i,R,A){this.scene=i,this.uid=A,this.surface=R,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var a=l.prototype;a.getXat=function(i,R,A,k){var _=h(this.data.x)?h(this.data.x[0])?this.data.x[R][i]:this.data.x[i]:i;return A===void 0?_:k.d2l(_,0,A)},a.getYat=function(i,R,A,k){var _=h(this.data.y)?h(this.data.y[0])?this.data.y[R][i]:this.data.y[R]:R;return A===void 0?_:k.d2l(_,0,A)},a.getZat=function(i,R,A,k){var _=this.data.z[R][i];return _===null&&this.data.connectgaps&&this.data._interpolatedZ&&(_=this.data._interpolatedZ[R][i]),A===void 0?_:k.d2l(_,0,A)},a.handlePick=function(i){if(i.object===this.surface){var R=(i.data.index[0]-1)/this.dataScaleX-1,A=(i.data.index[1]-1)/this.dataScaleY-1,k=Math.max(Math.min(Math.round(R),this.data.z[0].length-1),0),_=Math.max(Math.min(Math.round(A),this.data._ylength-1),0);i.index=[k,_],i.traceCoordinate=[this.getXat(k,_),this.getYat(k,_),this.getZat(k,_)],i.dataCoordinate=[this.getXat(k,_,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(k,_,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(k,_,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var H=0;H<3;H++){var z=i.dataCoordinate[H];z!=null&&(i.dataCoordinate[H]*=this.scene.dataScale[H])}var N=this.data.hovertext||this.data.text;return Array.isArray(N)&&N[_]&&N[_][k]!==void 0?i.textLabel=N[_][k]:N?i.textLabel=N:i.textLabel="",i.data.dataCoordinate=i.dataCoordinate.slice(),this.surface.highlight(i.data),this.scene.glplot.spikes.position=i.dataCoordinate,!0}};function s(i){var R=i[0].rgb,A=i[i.length-1].rgb;return R[0]===A[0]&&R[1]===A[1]&&R[2]===A[2]&&R[3]===A[3]}var c=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function u(i,R){if(i<R)return 0;for(var A=0;Math.floor(i%R)===0;)i/=R,A++;return A}function b(i){for(var R=[],A=0;A<c.length;A++){var k=c[A];R.push(u(i,k))}return R}function f(i){for(var R=b(i),A=i,k=0;k<c.length;k++)if(R[k]>0){A=c[k];break}return A}function w(i,R){if(!(i<1||R<1)){for(var A=b(i),k=b(R),_=1,H=0;H<c.length;H++)_*=Math.pow(c[H],Math.max(A[H],k[H]));return _}}function v(i){if(i.length!==0){for(var R=1,A=0;A<i.length;A++)R=w(R,i[A]);return R}}a.calcXnums=function(i){var R,A=[];for(R=1;R<i;R++){var k=this.getXat(R-1,0),_=this.getXat(R,0);_!==k&&k!==void 0&&k!==null&&_!==void 0&&_!==null?A[R-1]=Math.abs(_-k):A[R-1]=0}var H=0;for(R=1;R<i;R++)H+=A[R-1];for(R=1;R<i;R++)A[R-1]===0?A[R-1]=1:A[R-1]=Math.round(H/A[R-1]);return A},a.calcYnums=function(i){var R,A=[];for(R=1;R<i;R++){var k=this.getYat(0,R-1),_=this.getYat(0,R);_!==k&&k!==void 0&&k!==null&&_!==void 0&&_!==null?A[R-1]=Math.abs(_-k):A[R-1]=0}var H=0;for(R=1;R<i;R++)H+=A[R-1];for(R=1;R<i;R++)A[R-1]===0?A[R-1]=1:A[R-1]=Math.round(H/A[R-1]);return A};var o=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],d=o[9],S=o[13];a.estimateScale=function(i,R){for(var A=R===0?this.calcXnums(i):this.calcYnums(i),k=1+v(A);k<d;)k*=2;for(;k>S;)k--,k/=f(k),k++,k<d&&(k=S);var _=Math.round(k/i);return _>1?_:1};function M(i,R,A){var k=A[8]+A[2]*R[0]+A[5]*R[1];return i[0]=(A[6]+A[0]*R[0]+A[3]*R[1])/k,i[1]=(A[7]+A[1]*R[0]+A[4]*R[1])/k,i}function P(i,R,A){return x(i,R,M,A),i}function x(i,R,A,k){for(var _=[0,0],H=i.shape[0],z=i.shape[1],N=0;N<H;N++)for(var O=0;O<z;O++)A(_,[N,O],k),i.set(N,O,n(R,_[0],_[1]));return i}a.refineCoords=function(i){for(var R=this.dataScaleX,A=this.dataScaleY,k=i[0].shape[0],_=i[0].shape[1],H=Math.floor(i[0].shape[0]*R+1)|0,z=Math.floor(i[0].shape[1]*A+1)|0,N=1+k+1,O=1+_+1,F=L(new Float32Array(N*O),[N,O]),U=[1/R,0,0,0,1/A,0,0,0,1],Z=0;Z<i.length;++Z){this.surface.padField(F,i[Z]);var q=L(new Float32Array(H*z),[H,z]);P(q,F,U),i[Z]=q}};function E(i,R){for(var A=!1,k=0;k<i.length;k++)if(R===i[k]){A=!0;break}A===!1&&i.push(R)}a.setContourLevels=function(){var i=[[],[],[]],R=[!1,!1,!1],A=!1,k,_,H;for(k=0;k<3;++k)if(this.showContour[k]&&(A=!0,this.contourSize[k]>0&&this.contourStart[k]!==null&&this.contourEnd[k]!==null&&this.contourEnd[k]>this.contourStart[k]))for(R[k]=!0,_=this.contourStart[k];_<this.contourEnd[k];_+=this.contourSize[k])H=_*this.scene.dataScale[k],E(i[k],H);if(A){var z=[[],[],[]];for(k=0;k<3;++k)this.showContour[k]&&(z[k]=R[k]?i[k]:this.scene.contourLevels[k]);this.surface.update({levels:z})}},a.update=function(i){var R=this.scene,A=R.fullSceneLayout,k=this.surface,_=g(i),H=R.dataScale,z=i.z[0].length,N=i._ylength,O=R.contourLevels;this.data=i;var F,U,Z,q,J=[];for(F=0;F<3;F++)for(J[F]=[],U=0;U<z;U++)J[F][U]=[];for(U=0;U<z;U++)for(Z=0;Z<N;Z++)J[0][U][Z]=this.getXat(U,Z,i.xcalendar,A.xaxis),J[1][U][Z]=this.getYat(U,Z,i.ycalendar,A.yaxis),J[2][U][Z]=this.getZat(U,Z,i.zcalendar,A.zaxis);if(i.connectgaps)for(i._emptypoints=y(J[2]),C(J[2],i._emptypoints),i._interpolatedZ=[],U=0;U<z;U++)for(i._interpolatedZ[U]=[],Z=0;Z<N;Z++)i._interpolatedZ[U][Z]=J[2][U][Z];for(F=0;F<3;F++)for(U=0;U<z;U++)for(Z=0;Z<N;Z++)q=J[F][U][Z],q==null?J[F][U][Z]=NaN:q=J[F][U][Z]*=H[F];for(F=0;F<3;F++)for(U=0;U<z;U++)for(Z=0;Z<N;Z++)q=J[F][U][Z],q!=null&&(this.minValues[F]>q&&(this.minValues[F]=q),this.maxValues[F]<q&&(this.maxValues[F]=q));for(F=0;F<3;F++)this.objectOffset[F]=.5*(this.minValues[F]+this.maxValues[F]);for(F=0;F<3;F++)for(U=0;U<z;U++)for(Z=0;Z<N;Z++)q=J[F][U][Z],q!=null&&(J[F][U][Z]-=this.objectOffset[F]);var te=[L(new Float32Array(z*N),[z,N]),L(new Float32Array(z*N),[z,N]),L(new Float32Array(z*N),[z,N])];for(F=0;F<3;F++)for(U=0;U<z;U++)for(Z=0;Z<N;Z++)te[F].set(U,Z,J[F][U][Z]);J=[];var fe={colormap:_,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!i.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:i.opacityscale,opacity:i.opacity},K=r(i);if(fe.intensityBounds=[K.min,K.max],i.surfacecolor){var Y=L(new Float32Array(z*N),[z,N]);for(U=0;U<z;U++)for(Z=0;Z<N;Z++)Y.set(U,Z,i.surfacecolor[Z][U]);te.push(Y)}else fe.intensityBounds[0]*=H[2],fe.intensityBounds[1]*=H[2];(S<te[0].shape[0]||S<te[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(te[0].shape[0],0),this.dataScaleY=this.estimateScale(te[0].shape[1],1),(this.dataScaleX!==1||this.dataScaleY!==1)&&this.refineCoords(te)),i.surfacecolor&&(fe.intensity=te.pop());var W=[!0,!0,!0],X=["x","y","z"];for(F=0;F<3;++F){var re=i.contours[X[F]];W[F]=re.highlight,fe.showContour[F]=re.show||re.highlight,fe.showContour[F]&&(fe.contourProject[F]=[re.project.x,re.project.y,re.project.z],re.show?(this.showContour[F]=!0,fe.levels[F]=O[F],k.highlightColor[F]=fe.contourColor[F]=t(re.color),re.usecolormap?k.highlightTint[F]=fe.contourTint[F]=0:k.highlightTint[F]=fe.contourTint[F]=1,fe.contourWidth[F]=re.width,this.contourStart[F]=re.start,this.contourEnd[F]=re.end,this.contourSize[F]=re.size):(this.showContour[F]=!1,this.contourStart[F]=null,this.contourEnd[F]=null,this.contourSize[F]=0),re.highlight&&(fe.dynamicColor[F]=t(re.highlightcolor),fe.dynamicWidth[F]=re.highlightwidth))}s(_)&&(fe.vertexColor=!0),fe.objectOffset=this.objectOffset,fe.coords=te,k.update(fe),k.visible=i.visible,k.enableDynamic=W,k.enableHighlight=W,k.snapToData=!0,"lighting"in i&&(k.ambientLight=i.lighting.ambient,k.diffuseLight=i.lighting.diffuse,k.specularLight=i.lighting.specular,k.roughness=i.lighting.roughness,k.fresnel=i.lighting.fresnel),"lightposition"in i&&(k.lightPosition=[i.lightposition.x,i.lightposition.y,i.lightposition.z])},a.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()};function T(i,R){var A=i.glplot.gl,k=p({gl:A}),_=new l(i,k,R.uid);return k._trace=_,_.update(R),i.glplot.add(k),_}V.exports=T},91831:function(V,B,e){var p=e(73972),L=e(71828),n=e(1586),C=e(54532),y=.1;function h(a,s){for(var c=[],u=32,b=0;b<u;b++){var f=b/(u-1),w=s+(1-s)*(1-Math.pow(Math.sin(a*f*Math.PI),2));c.push([f,Math.max(0,Math.min(1,w))])}return c}function g(a){var s=0;if(!Array.isArray(a)||a.length<2||!a[0]||!a[a.length-1]||+a[0][0]!=0||+a[a.length-1][0]!=1)return!1;for(var c=0;c<a.length;c++){var u=a[c];if(u.length!==2||+u[0]<s)return!1;s=+u[0]}return!0}function t(a,s,c,u){var b,f;function w(i,R){return L.coerce(a,s,C,i,R)}var v=w("x"),o=w("y"),d=w("z");if(!d||!d.length||v&&v.length<1||o&&o.length<1){s.visible=!1;return}s._xlength=Array.isArray(v)&&L.isArrayOrTypedArray(v[0])?d.length:d[0].length,s._ylength=d.length;var S=p.getComponentMethod("calendars","handleTraceDefaults");S(a,s,["x","y","z"],u),w("text"),w("hovertext"),w("hovertemplate"),w("xhoverformat"),w("yhoverformat"),w("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(i){w(i)});var M=w("surfacecolor"),P=["x","y","z"];for(b=0;b<3;++b){var x="contours."+P[b],E=w(x+".show"),T=w(x+".highlight");if(E||T)for(f=0;f<3;++f)w(x+".project."+P[f]);E&&(w(x+".color"),w(x+".width"),w(x+".usecolormap")),T&&(w(x+".highlightcolor"),w(x+".highlightwidth")),w(x+".start"),w(x+".end"),w(x+".size")}M||(l(a,"zmin","cmin"),l(a,"zmax","cmax"),l(a,"zauto","cauto")),n(a,s,u,w,{prefix:"",cLetter:"c"}),r(a,s,u,w),s._length=null}function r(a,s,c,u){var b=u("opacityscale");b==="max"?s.opacityscale=[[0,y],[1,1]]:b==="min"?s.opacityscale=[[0,1],[1,y]]:b==="extremes"?s.opacityscale=h(1,y):g(b)||(s.opacityscale=void 0)}function l(a,s,c){s in a&&!(c in a)&&(a[c]=a[s])}V.exports={supplyDefaults:t,opacityscaleDefaults:r}},93601:function(V,B,e){V.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(V,B,e){var p=e(50215),L=e(1426).extendFlat,n=e(30962).overrideAll,C=e(41940),y=e(27670).Y,h=e(12663).descriptionOnlyNumbers,g=V.exports=n({domain:y({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:h("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:L({},p.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:L({},C({arrayOk:!0}))}},"calc","from-root");g.transforms=void 0},99469:function(V,B,e){var p=e(27659).a0,L=e(36736),n="table";B.name=n,B.plot=function(C){var y=p(C.calcdata,n)[0];y.length&&L(C,y)},B.clean=function(C,y,h,g){var t=g._has&&g._has(n),r=y._has&&y._has(n);t&&!r&&g._paperdiv.selectAll(".table").remove()}},76333:function(V,B,e){var p=e(28984).wrap;V.exports=function(){return p({})}},49850:function(V){V.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(V,B,e){var p=e(49850),L=e(1426).extendFlat,n=e(92770);V.exports=function(c,u){var b=h(u.cells.values),f=function(U){return U.slice(u.header.values.length,U.length)},w=h(u.header.values);w.length&&!w[0].length&&(w[0]=[""],w=h(w));var v=w.concat(f(b).map(function(){return g((w[0]||[""]).length)})),o=u.domain,d=Math.floor(c._fullLayout._size.w*(o.x[1]-o.x[0])),S=Math.floor(c._fullLayout._size.h*(o.y[1]-o.y[0])),M=u.header.values.length?v[0].map(function(){return u.header.height}):[p.emptyHeaderHeight],P=b.length?b[0].map(function(){return u.cells.height}):[],x=M.reduce(y,0),E=S-x,T=E+p.uplift,i=l(P,T),R=l(M,x),A=r(R,[]),k=r(i,A),_={},H=u._fullInput.columnorder.concat(f(b.map(function(U,Z){return Z}))),z=v.map(function(U,Z){var q=Array.isArray(u.columnwidth)?u.columnwidth[Math.min(Z,u.columnwidth.length-1)]:u.columnwidth;return n(q)?Number(q):1}),N=z.reduce(y,0);z=z.map(function(U){return U/N*d});var O=Math.max(C(u.header.line.width),C(u.cells.line.width)),F={key:u.uid+c._context.staticPlot,translateX:o.x[0]*c._fullLayout._size.w,translateY:c._fullLayout._size.h*(1-o.y[1]),size:c._fullLayout._size,width:d,maxLineWidth:O,height:S,columnOrder:H,groupHeight:S,rowBlocks:k,headerRowBlocks:A,scrollY:0,cells:L({},u.cells,{values:b}),headerCells:L({},u.header,{values:v}),gdColumns:v.map(function(U){return U[0]}),gdColumnsOriginalOrder:v.map(function(U){return U[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:v.map(function(U,Z){var q=_[U];_[U]=(q||0)+1;var J=U+"__"+_[U];return{key:J,label:U,specIndex:Z,xIndex:H[Z],xScale:t,x:void 0,calcdata:void 0,columnWidth:z[Z]}})};return F.columns.forEach(function(U){U.calcdata=F,U.x=t(U)}),F};function C(s){if(Array.isArray(s)){for(var c=0,u=0;u<s.length;u++)c=Math.max(c,C(s[u]));return c}return s}function y(s,c){return s+c}function h(s){var c=s.slice(),u=1/0,b=0,f;for(f=0;f<c.length;f++)Array.isArray(c[f])||(c[f]=[c[f]]),u=Math.min(u,c[f].length),b=Math.max(b,c[f].length);if(u!==b)for(f=0;f<c.length;f++){var w=b-c[f].length;w&&(c[f]=c[f].concat(g(w)))}return c}function g(s){for(var c=new Array(s),u=0;u<s;u++)c[u]="";return c}function t(s){return s.calcdata.columns.reduce(function(c,u){return u.xIndex<s.xIndex?c+u.columnWidth:c},0)}function r(s,c){var u=Object.keys(s);return u.map(function(b){return L({},s[b],{auxiliaryBlocks:c})})}function l(s,c){for(var u={},b,f=0,w=0,v=a(),o=0,d=0,S=0;S<s.length;S++)b=s[S],v.rows.push({rowIndex:S,rowHeight:b}),w+=b,(w>=c||S===s.length-1)&&(u[f]=v,v.key=d++,v.firstRowIndex=o,v.lastRowIndex=S,v=a(),f+=w,o=S+1,w=0);return u}function a(){return{firstRowIndex:null,lastRowIndex:null,rows:[]}}},56269:function(V,B,e){var p=e(1426).extendFlat;B.splitToPanels=function(n){var C=[0,0],y=p({},n,{key:"header",type:"header",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!0,values:n.calcdata.headerCells.values[n.specIndex],rowBlocks:n.calcdata.headerRowBlocks,calcdata:p({},n.calcdata,{cells:n.calcdata.headerCells})}),h=p({},n,{key:"cells1",type:"cells",page:0,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks}),g=p({},n,{key:"cells2",type:"cells",page:1,prevPages:C,currentRepaint:[null,null],dragHandle:!1,values:n.calcdata.cells.values[n.specIndex],rowBlocks:n.calcdata.rowBlocks});return[h,g,y]},B.splitToCells=function(n){var C=L(n);return(n.values||[]).slice(C[0],C[1]).map(function(y,h){var g=typeof y=="string"&&y.match(/[<$&> ]/)?"_keybuster_"+Math.random():"";return{keyWithinBlock:h+g,key:C[0]+h,column:n,calcdata:n.calcdata,page:n.page,rowBlocks:n.rowBlocks,value:y}})};function L(n){var C=n.rowBlocks[n.page],y=C?C.rows[0].rowIndex:0,h=C?y+C.rows.length:0;return[y,h]}},39754:function(V,B,e){var p=e(71828),L=e(44464),n=e(27670).c;function C(y,h){for(var g=y.columnorder||[],t=y.header.values.length,r=g.slice(0,t),l=r.slice().sort(function(c,u){return c-u}),a=r.map(function(c){return l.indexOf(c)}),s=a.length;s<t;s++)a.push(s);h("columnorder",a)}V.exports=function(h,g,t,r){function l(a,s){return p.coerce(h,g,L,a,s)}n(g,r,l),l("columnwidth"),l("header.values"),l("header.format"),l("header.align"),l("header.prefix"),l("header.suffix"),l("header.height"),l("header.line.width"),l("header.line.color"),l("header.fill.color"),p.coerceFont(l,"header.font",p.extendFlat({},r.font)),C(g,l),l("cells.values"),l("cells.format"),l("cells.align"),l("cells.prefix"),l("cells.suffix"),l("cells.height"),l("cells.line.width"),l("cells.line.color"),l("cells.fill.color"),p.coerceFont(l,"cells.font",p.extendFlat({},r.font)),g._length=null}},96595:function(V,B,e){V.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(V,B,e){var p=e(49850),L=e(39898),n=e(71828),C=n.numberFormat,y=e(28984),h=e(91424),g=e(63893),t=e(71828).raiseToTop,r=e(71828).strTranslate,l=e(71828).cancelTransition,a=e(51018),s=e(56269),c=e(7901);V.exports=function(le,oe){var he=!le._context.staticPlot,xe=le._fullLayout._paper.selectAll("."+p.cn.table).data(oe.map(function(Qe){var tt=y.unwrap(Qe),vt=tt.trace;return a(le,vt)}),y.keyFun);xe.exit().remove(),xe.enter().append("g").classed(p.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),xe.attr("width",function(Qe){return Qe.width+Qe.size.l+Qe.size.r}).attr("height",function(Qe){return Qe.height+Qe.size.t+Qe.size.b}).attr("transform",function(Qe){return r(Qe.translateX,Qe.translateY)});var Ae=xe.selectAll("."+p.cn.tableControlView).data(y.repeat,y.keyFun),Se=Ae.enter().append("g").classed(p.cn.tableControlView,!0).style("box-sizing","content-box");if(he){var Oe="onwheel"in document?"wheel":"mousewheel";Se.on("mousemove",function(Qe){Ae.filter(function(tt){return Qe===tt}).call(v,le)}).on(Oe,function(Qe){if(!Qe.scrollbarState.wheeling){Qe.scrollbarState.wheeling=!0;var tt=Qe.scrollY+L.event.deltaY,vt=q(le,Ae,null,tt)(Qe);vt||(L.event.stopPropagation(),L.event.preventDefault()),Qe.scrollbarState.wheeling=!1}}).call(v,le,!0)}Ae.attr("transform",function(Qe){return r(Qe.size.l,Qe.size.t)});var Ve=Ae.selectAll("."+p.cn.scrollBackground).data(y.repeat,y.keyFun);Ve.enter().append("rect").classed(p.cn.scrollBackground,!0).attr("fill","none"),Ve.attr("width",function(Qe){return Qe.width}).attr("height",function(Qe){return Qe.height}),Ae.each(function(Qe){h.setClipUrl(L.select(this),b(le,Qe),le)});var Ee=Ae.selectAll("."+p.cn.yColumn).data(function(Qe){return Qe.columns},y.keyFun);Ee.enter().append("g").classed(p.cn.yColumn,!0),Ee.exit().remove(),Ee.attr("transform",function(Qe){return r(Qe.x,0)}),he&&Ee.call(L.behavior.drag().origin(function(Qe){var tt=L.select(this);return z(tt,Qe,-p.uplift),t(this),Qe.calcdata.columnDragInProgress=!0,v(Ae.filter(function(vt){return Qe.calcdata.key===vt.key}),le),Qe}).on("drag",function(Qe){var tt=L.select(this),vt=function(Mt){return(Qe===Mt?L.event.x:Mt.x)+Mt.columnWidth/2};Qe.x=Math.max(-p.overdrag,Math.min(Qe.calcdata.width+p.overdrag-Qe.columnWidth,L.event.x));var dt=w(Ee).filter(function(Mt){return Mt.calcdata.key===Qe.calcdata.key}),gt=dt.sort(function(Mt,Rt){return vt(Mt)-vt(Rt)});gt.forEach(function(Mt,Rt){Mt.xIndex=Rt,Mt.x=Qe===Mt?Mt.x:Mt.xScale(Mt)}),Ee.filter(function(Mt){return Qe!==Mt}).transition().ease(p.transitionEase).duration(p.transitionDuration).attr("transform",function(Mt){return r(Mt.x,0)}),tt.call(l).attr("transform",r(Qe.x,-p.uplift))}).on("dragend",function(Qe){var tt=L.select(this),vt=Qe.calcdata;Qe.x=Qe.xScale(Qe),Qe.calcdata.columnDragInProgress=!1,z(tt,Qe,0),_(le,vt,vt.columns.map(function(dt){return dt.xIndex}))})),Ee.each(function(Qe){h.setClipUrl(L.select(this),f(le,Qe),le)});var Te=Ee.selectAll("."+p.cn.columnBlock).data(s.splitToPanels,y.keyFun);Te.enter().append("g").classed(p.cn.columnBlock,!0).attr("id",function(Qe){return Qe.key}),Te.style("cursor",function(Qe){return Qe.dragHandle?"ew-resize":Qe.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var Le=Te.filter(O),Ge=Te.filter(N);he&&Ge.call(L.behavior.drag().origin(function(Qe){return L.event.stopPropagation(),Qe}).on("drag",q(le,Ae,-1)).on("dragend",function(){})),o(le,Ae,Le,Te),o(le,Ae,Ge,Te);var He=Ae.selectAll("."+p.cn.scrollAreaClip).data(y.repeat,y.keyFun);He.enter().append("clipPath").classed(p.cn.scrollAreaClip,!0).attr("id",function(Qe){return b(le,Qe)});var ke=He.selectAll("."+p.cn.scrollAreaClipRect).data(y.repeat,y.keyFun);ke.enter().append("rect").classed(p.cn.scrollAreaClipRect,!0).attr("x",-p.overdrag).attr("y",-p.uplift).attr("fill","none"),ke.attr("width",function(Qe){return Qe.width+2*p.overdrag}).attr("height",function(Qe){return Qe.height+p.uplift});var We=Ee.selectAll("."+p.cn.columnBoundary).data(y.repeat,y.keyFun);We.enter().append("g").classed(p.cn.columnBoundary,!0);var nt=Ee.selectAll("."+p.cn.columnBoundaryClippath).data(y.repeat,y.keyFun);nt.enter().append("clipPath").classed(p.cn.columnBoundaryClippath,!0),nt.attr("id",function(Qe){return f(le,Qe)});var qe=nt.selectAll("."+p.cn.columnBoundaryRect).data(y.repeat,y.keyFun);qe.enter().append("rect").classed(p.cn.columnBoundaryRect,!0).attr("fill","none"),qe.attr("width",function(Qe){return Qe.columnWidth+2*u(Qe)}).attr("height",function(Qe){return Qe.calcdata.height+2*u(Qe)+p.uplift}).attr("x",function(Qe){return-u(Qe)}).attr("y",function(Qe){return-u(Qe)}),Z(null,Ge,Ae)};function u(ee){return Math.ceil(ee.calcdata.maxLineWidth/2)}function b(ee,le){return"clip"+ee._fullLayout._uid+"_scrollAreaBottomClip_"+le.key}function f(ee,le){return"clip"+ee._fullLayout._uid+"_columnBoundaryClippath_"+le.calcdata.key+"_"+le.specIndex}function w(ee){return[].concat.apply([],ee.map(function(le){return le})).map(function(le){return le.__data__})}function v(ee,le,oe){function he(Ee){var Te=Ee.rowBlocks;return W(Te,Te.length-1)+(Te.length?X(Te[Te.length-1],1/0):1)}var xe=ee.selectAll("."+p.cn.scrollbarKit).data(y.repeat,y.keyFun);xe.enter().append("g").classed(p.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),xe.each(function(Ee){var Te=Ee.scrollbarState;Te.totalHeight=he(Ee),Te.scrollableAreaHeight=Ee.groupHeight-F(Ee),Te.currentlyVisibleHeight=Math.min(Te.totalHeight,Te.scrollableAreaHeight),Te.ratio=Te.currentlyVisibleHeight/Te.totalHeight,Te.barLength=Math.max(Te.ratio*Te.currentlyVisibleHeight,p.goldenRatio*p.scrollbarWidth),Te.barWiggleRoom=Te.currentlyVisibleHeight-Te.barLength,Te.wiggleRoom=Math.max(0,Te.totalHeight-Te.scrollableAreaHeight),Te.topY=Te.barWiggleRoom===0?0:Ee.scrollY/Te.wiggleRoom*Te.barWiggleRoom,Te.bottomY=Te.topY+Te.barLength,Te.dragMultiplier=Te.wiggleRoom/Te.barWiggleRoom}).attr("transform",function(Ee){var Te=Ee.width+p.scrollbarWidth/2+p.scrollbarOffset;return r(Te,F(Ee))});var Ae=xe.selectAll("."+p.cn.scrollbar).data(y.repeat,y.keyFun);Ae.enter().append("g").classed(p.cn.scrollbar,!0);var Se=Ae.selectAll("."+p.cn.scrollbarSlider).data(y.repeat,y.keyFun);Se.enter().append("g").classed(p.cn.scrollbarSlider,!0),Se.attr("transform",function(Ee){return r(0,Ee.scrollbarState.topY||0)});var Oe=Se.selectAll("."+p.cn.scrollbarGlyph).data(y.repeat,y.keyFun);Oe.enter().append("line").classed(p.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",p.scrollbarWidth).attr("stroke-linecap","round").attr("y1",p.scrollbarWidth/2),Oe.attr("y2",function(Ee){return Ee.scrollbarState.barLength-p.scrollbarWidth/2}).attr("stroke-opacity",function(Ee){return Ee.columnDragInProgress||!Ee.scrollbarState.barWiggleRoom||oe?0:.4}),Oe.transition().delay(0).duration(0),Oe.transition().delay(p.scrollbarHideDelay).duration(p.scrollbarHideDuration).attr("stroke-opacity",0);var Ve=Ae.selectAll("."+p.cn.scrollbarCaptureZone).data(y.repeat,y.keyFun);Ve.enter().append("line").classed(p.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",p.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(Ee){var Te=L.event.y,Le=this.getBoundingClientRect(),Ge=Ee.scrollbarState,He=Te-Le.top,ke=L.scale.linear().domain([0,Ge.scrollableAreaHeight]).range([0,Ge.totalHeight]).clamp(!0);Ge.topY<=He&&He<=Ge.bottomY||q(le,ee,null,ke(He-Ge.barLength/2))(Ee)}).call(L.behavior.drag().origin(function(Ee){return L.event.stopPropagation(),Ee.scrollbarState.scrollbarScrollInProgress=!0,Ee}).on("drag",q(le,ee)).on("dragend",function(){})),Ve.attr("y2",function(Ee){return Ee.scrollbarState.scrollableAreaHeight}),le._context.staticPlot&&(Oe.remove(),Ve.remove())}function o(ee,le,oe,he){var xe=d(oe),Ae=S(xe);E(Ae);var Se=M(Ae);i(Se);var Oe=x(Ae),Ve=P(Oe);T(Ve),R(Ve,le,he,ee),Y(Ae)}function d(ee){var le=ee.selectAll("."+p.cn.columnCells).data(y.repeat,y.keyFun);return le.enter().append("g").classed(p.cn.columnCells,!0),le.exit().remove(),le}function S(ee){var le=ee.selectAll("."+p.cn.columnCell).data(s.splitToCells,function(oe){return oe.keyWithinBlock});return le.enter().append("g").classed(p.cn.columnCell,!0),le.exit().remove(),le}function M(ee){var le=ee.selectAll("."+p.cn.cellRect).data(y.repeat,function(oe){return oe.keyWithinBlock});return le.enter().append("rect").classed(p.cn.cellRect,!0),le}function P(ee){var le=ee.selectAll("."+p.cn.cellText).data(y.repeat,function(oe){return oe.keyWithinBlock});return le.enter().append("text").classed(p.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){L.event.stopPropagation()}),le}function x(ee){var le=ee.selectAll("."+p.cn.cellTextHolder).data(y.repeat,function(oe){return oe.keyWithinBlock});return le.enter().append("g").classed(p.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),le}function E(ee){ee.each(function(le,oe){var he=le.calcdata.cells.font,xe=le.column.specIndex,Ae={size:H(he.size,xe,oe),color:H(he.color,xe,oe),family:H(he.family,xe,oe)};le.rowNumber=le.key,le.align=H(le.calcdata.cells.align,xe,oe),le.cellBorderWidth=H(le.calcdata.cells.line.width,xe,oe),le.font=Ae})}function T(ee){ee.each(function(le){h.font(L.select(this),le.font)})}function i(ee){ee.attr("width",function(le){return le.column.columnWidth}).attr("stroke-width",function(le){return le.cellBorderWidth}).each(function(le){var oe=L.select(this);c.stroke(oe,H(le.calcdata.cells.line.color,le.column.specIndex,le.rowNumber)),c.fill(oe,H(le.calcdata.cells.fill.color,le.column.specIndex,le.rowNumber))})}function R(ee,le,oe,he){ee.text(function(xe){var Ae=xe.column.specIndex,Se=xe.rowNumber,Oe=xe.value,Ve=typeof Oe=="string",Ee=Ve&&Oe.match(/<br>/i),Te=!Ve||Ee;xe.mayHaveMarkup=Ve&&Oe.match(/[<&>]/);var Le=A(Oe);xe.latex=Le;var Ge=Le?"":H(xe.calcdata.cells.prefix,Ae,Se)||"",He=Le?"":H(xe.calcdata.cells.suffix,Ae,Se)||"",ke=Le?null:H(xe.calcdata.cells.format,Ae,Se)||null,We=Ge+(ke?C(ke)(xe.value):xe.value)+He,nt;xe.wrappingNeeded=!xe.wrapped&&!Te&&!Le&&(nt=k(We)),xe.cellHeightMayIncrease=Ee||Le||xe.mayHaveMarkup||(nt===void 0?k(We):nt),xe.needsConvertToTspans=xe.mayHaveMarkup||xe.wrappingNeeded||xe.latex;var qe;if(xe.wrappingNeeded){var Qe=p.wrapSplitCharacter===" "?We.replace(/<a href=/ig,"<a_href="):We,tt=Qe.split(p.wrapSplitCharacter),vt=p.wrapSplitCharacter===" "?tt.map(function(dt){return dt.replace(/<a_href=/ig,"<a href=")}):tt;xe.fragments=vt.map(function(dt){return{text:dt,width:null}}),xe.fragments.push({fragment:p.wrapSpacer,width:null}),qe=vt.join(p.lineBreaker)+p.lineBreaker+p.wrapSpacer}else delete xe.fragments,qe=We;return qe}).attr("dy",function(xe){return xe.needsConvertToTspans?0:"0.75em"}).each(function(xe){var Ae=this,Se=L.select(Ae),Oe=xe.wrappingNeeded?te:fe;xe.needsConvertToTspans?g.convertToTspans(Se,he,Oe(oe,Ae,le,he,xe)):L.select(Ae.parentNode).attr("transform",function(Ve){return r(K(Ve),p.cellPad)}).attr("text-anchor",function(Ve){return{left:"start",center:"middle",right:"end"}[Ve.align]})})}function A(ee){return typeof ee=="string"&&ee.match(p.latexCheck)}function k(ee){return ee.indexOf(p.wrapSplitCharacter)!==-1}function _(ee,le,oe){var he=le.gdColumnsOriginalOrder;le.gdColumns.sort(function(xe,Ae){return oe[he.indexOf(xe)]-oe[he.indexOf(Ae)]}),le.columnorder=oe,ee.emit("plotly_restyle")}function H(ee,le,oe){if(Array.isArray(ee)){var he=ee[Math.min(le,ee.length-1)];return Array.isArray(he)?he[Math.min(oe,he.length-1)]:he}else return ee}function z(ee,le,oe){ee.transition().ease(p.releaseTransitionEase).duration(p.releaseTransitionDuration).attr("transform",r(le.x,oe))}function N(ee){return ee.type==="cells"}function O(ee){return ee.type==="header"}function F(ee){var le=ee.rowBlocks.length?ee.rowBlocks[0].auxiliaryBlocks:[];return le.reduce(function(oe,he){return oe+X(he,1/0)},0)}function U(ee,le,oe){for(var he=[],xe=0,Ae=0;Ae<ee.length;Ae++){for(var Se=ee[Ae],Oe=Se.rows,Ve=0,Ee=0;Ee<Oe.length;Ee++)Ve+=Oe[Ee].rowHeight;Se.allRowsHeight=Ve;var Te=xe+Ve,Le=le,Ge=Le+oe;Le<Te&&Ge>xe&&he.push(Ae),xe+=Ve}return he}function Z(ee,le,oe){var he=w(le)[0];if(he!==void 0){var xe=he.rowBlocks,Ae=he.calcdata,Se=W(xe,xe.length),Oe=he.calcdata.groupHeight-F(he),Ve=Ae.scrollY=Math.max(0,Math.min(Se-Oe,Ae.scrollY)),Ee=U(xe,Ve,Oe);Ee.length===1&&(Ee[0]===xe.length-1?Ee.unshift(Ee[0]-1):Ee.push(Ee[0]+1)),Ee[0]%2&&Ee.reverse(),le.each(function(Te,Le){Te.page=Ee[Le],Te.scrollY=Ve}),le.attr("transform",function(Te){var Le=W(Te.rowBlocks,Te.page)-Te.scrollY;return r(0,Le)}),ee&&(J(ee,oe,le,Ee,he.prevPages,he,0),J(ee,oe,le,Ee,he.prevPages,he,1),v(oe,ee))}}function q(ee,le,oe,he){return function(Ae){var Se=Ae.calcdata?Ae.calcdata:Ae,Oe=le.filter(function(Le){return Se.key===Le.key}),Ve=oe||Se.scrollbarState.dragMultiplier,Ee=Se.scrollY;Se.scrollY=he===void 0?Se.scrollY+Ve*L.event.dy:he;var Te=Oe.selectAll("."+p.cn.yColumn).selectAll("."+p.cn.columnBlock).filter(N);return Z(ee,Te,Oe),Se.scrollY===Ee}}function J(ee,le,oe,he,xe,Ae,Se){var Oe=he[Se]!==xe[Se];Oe&&(clearTimeout(Ae.currentRepaint[Se]),Ae.currentRepaint[Se]=setTimeout(function(){var Ve=oe.filter(function(Ee,Te){return Te===Se&&he[Te]!==xe[Te]});o(ee,le,Ve,oe),xe[Se]=he[Se]}))}function te(ee,le,oe,he){return function(){var Ae=L.select(le.parentNode);Ae.each(function(Se){var Oe=Se.fragments;Ae.selectAll("tspan.line").each(function(We,nt){Oe[nt].width=this.getComputedTextLength()});var Ve=Oe[Oe.length-1].width,Ee=Oe.slice(0,-1),Te=[],Le,Ge,He=0,ke=Se.column.columnWidth-2*p.cellPad;for(Se.value="";Ee.length;)Le=Ee.shift(),Ge=Le.width+Ve,He+Ge>ke&&(Se.value+=Te.join(p.wrapSpacer)+p.lineBreaker,Te=[],He=0),Te.push(Le.text),He+=Ge;He&&(Se.value+=Te.join(p.wrapSpacer)),Se.wrapped=!0}),Ae.selectAll("tspan.line").remove(),R(Ae.select("."+p.cn.cellText),oe,ee,he),L.select(le.parentNode.parentNode).call(Y)}}function fe(ee,le,oe,he,xe){return function(){if(!xe.settledY){var Se=L.select(le.parentNode),Oe=se(xe),Ve=xe.key-Oe.firstRowIndex,Ee=Oe.rows[Ve].rowHeight,Te=xe.cellHeightMayIncrease?le.parentNode.getBoundingClientRect().height+2*p.cellPad:Ee,Le=Math.max(Te,Ee),Ge=Le-Oe.rows[Ve].rowHeight;Ge&&(Oe.rows[Ve].rowHeight=Le,ee.selectAll("."+p.cn.columnCell).call(Y),Z(null,ee.filter(N),0),v(oe,he,!0)),Se.attr("transform",function(){var He=this,ke=He.parentNode,We=ke.getBoundingClientRect(),nt=L.select(He.parentNode).select("."+p.cn.cellRect).node().getBoundingClientRect(),qe=He.transform.baseVal.consolidate(),Qe=nt.top-We.top+(qe?qe.matrix.f:p.cellPad);return r(K(xe,L.select(He.parentNode).select("."+p.cn.cellTextHolder).node().getBoundingClientRect().width),Qe)}),xe.settledY=!0}}}function K(ee,le){switch(ee.align){case"left":return p.cellPad;case"right":return ee.column.columnWidth-(le||0)-p.cellPad;case"center":return(ee.column.columnWidth-(le||0))/2;default:return p.cellPad}}function Y(ee){ee.attr("transform",function(le){var oe=le.rowBlocks[0].auxiliaryBlocks.reduce(function(Se,Oe){return Se+X(Oe,1/0)},0),he=se(le),xe=X(he,le.key),Ae=xe+oe;return r(0,Ae)}).selectAll("."+p.cn.cellRect).attr("height",function(le){return Q(se(le),le.key).rowHeight})}function W(ee,le){for(var oe=0,he=le-1;he>=0;he--)oe+=re(ee[he]);return oe}function X(ee,le){for(var oe=0,he=0;he<ee.rows.length&&ee.rows[he].rowIndex<le;he++)oe+=ee.rows[he].rowHeight;return oe}function re(ee){var le=ee.allRowsHeight;if(le!==void 0)return le;for(var oe=0,he=0;he<ee.rows.length;he++)oe+=ee.rows[he].rowHeight;return ee.allRowsHeight=oe,oe}function se(ee){return ee.rowBlocks[ee.page]}function Q(ee,le){return ee.rows[le-ee.firstRowIndex]}},45802:function(V,B,e){var p=e(5386).fF,L=e(5386).si,n=e(50693),C=e(27670).Y,y=e(34e3),h=e(57564),g=e(43473),t=e(1426).extendFlat,r=e(79952).u;V.exports={labels:h.labels,parents:h.parents,values:h.values,branchvalues:h.branchvalues,count:h.count,level:h.level,maxdepth:h.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:h.marker.colors,pattern:r,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:h.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},n("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},y.textfont,{}),editType:"calc"},text:y.text,textinfo:h.textinfo,texttemplate:L({editType:"plot"},{keys:g.eventDataKeys.concat(["label","value"])}),hovertext:y.hovertext,hoverinfo:h.hoverinfo,hovertemplate:p({},{keys:g.eventDataKeys}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:t({},y.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:y.sort,root:h.root,domain:C({name:"treemap",trace:!0,editType:"calc"})}},78018:function(V,B,e){var p=e(74875);B.name="treemap",B.plot=function(L,n,C,y){p.plotBasePlot(B.name,L,n,C,y)},B.clean=function(L,n,C,y){p.cleanBasePlot(B.name,L,n,C,y)}},65039:function(V,B,e){var p=e(52147);B.y=function(L,n){return p.calc(L,n)},B.T=function(L){return p._runCrossTraceCalc("treemap",L)}},43473:function(V){V.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(V,B,e){var p=e(71828),L=e(45802),n=e(7901),C=e(27670).c,y=e(90769).handleText,h=e(97313).TEXTPAD,g=e(37434).handleMarkerDefaults,t=e(21081),r=t.hasColorscale,l=t.handleDefaults;V.exports=function(s,c,u,b){function f(i,R){return p.coerce(s,c,L,i,R)}var w=f("labels"),v=f("parents");if(!w||!w.length||!v||!v.length){c.visible=!1;return}var o=f("values");o&&o.length?f("branchvalues"):f("count"),f("level"),f("maxdepth");var d=f("tiling.packing");d==="squarify"&&f("tiling.squarifyratio"),f("tiling.flip"),f("tiling.pad");var S=f("text");f("texttemplate"),c.texttemplate||f("textinfo",Array.isArray(S)?"text+label":"label"),f("hovertext"),f("hovertemplate");var M=f("pathbar.visible"),P="auto";y(s,c,b,f,P,{hasPathbar:M,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),f("textposition");var x=c.textposition.indexOf("bottom")!==-1;g(s,c,b,f);var E=c._hasColorscale=r(s,"marker","colors")||(s.marker||{}).coloraxis;E?l(s,c,b,f,{prefix:"marker.",cLetter:"c"}):f("marker.depthfade",!(c.marker.colors||[]).length);var T=c.textfont.size*2;f("marker.pad.t",x?T/4:T),f("marker.pad.l",T/4),f("marker.pad.r",T/4),f("marker.pad.b",x?T:T/4),f("marker.cornerradius"),c._hovered={marker:{line:{width:2,color:n.contrast(b.paper_bgcolor)}}},M&&(f("pathbar.thickness",c.pathbar.textfont.size+2*h),f("pathbar.side"),f("pathbar.edgeshape")),f("sort"),f("root.color"),C(c,b,f),c._length=null}},80694:function(V,B,e){var p=e(39898),L=e(2791),n=e(72597),C=n.clearMinTextSize,y=e(16688).resizeText,h=e(46650);V.exports=function(t,r,l,a,s){var c=s.type,u=s.drawDescendants,b=t._fullLayout,f=b["_"+c+"layer"],w,v,o=!l;if(C(c,b),w=f.selectAll("g.trace."+c).data(r,function(S){return S[0].trace.uid}),w.enter().append("g").classed("trace",!0).classed(c,!0),w.order(),!b.uniformtext.mode&&L.hasTransition(l)){a&&(v=a());var d=p.transition().duration(l.duration).ease(l.easing).each("end",function(){v&&v()}).each("interrupt",function(){v&&v()});d.each(function(){f.selectAll("g.trace").each(function(S){h(t,S,this,l,u)})})}else w.each(function(S){h(t,S,this,l,u)}),b.uniformtext.mode&&y(t,f.selectAll(".trace"),c);o&&w.exit().remove()}},66209:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(63893),y=e(37210),h=e(96362).styleOne,g=e(43473),t=e(2791),r=e(83523),l=!0;V.exports=function(s,c,u,b,f){var w=f.barDifY,v=f.width,o=f.height,d=f.viewX,S=f.viewY,M=f.pathSlice,P=f.toMoveInsideSlice,x=f.strTransform,E=f.hasTransition,T=f.handleSlicesExit,i=f.makeUpdateSliceInterpolator,R=f.makeUpdateTextInterpolator,A={},k=s._context.staticPlot,_=s._fullLayout,H=c[0],z=H.trace,N=H.hierarchy,O=v/z._entryDepth,F=t.listPath(u.data,"id"),U=y(N.copy(),[v,o],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();U=U.filter(function(q){var J=F.indexOf(q.data.id);return J===-1?!1:(q.x0=O*J,q.x1=O*(J+1),q.y0=w,q.y1=w+o,q.onPathbar=!0,!0)}),U.reverse(),b=b.data(U,t.getPtId),b.enter().append("g").classed("pathbar",!0),T(b,l,A,[v,o],M),b.order();var Z=b;E&&(Z=Z.transition().each("end",function(){var q=p.select(this);t.setSliceCursor(q,s,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(q){q._x0=d(q.x0),q._x1=d(q.x1),q._y0=S(q.y0),q._y1=S(q.y1),q._hoverX=d(q.x1-Math.min(v,o)/2),q._hoverY=S(q.y1-o/2);var J=p.select(this),te=L.ensureSingle(J,"path","surface",function(W){W.style("pointer-events",k?"none":"all")});E?te.transition().attrTween("d",function(W){var X=i(W,l,A,[v,o]);return function(re){return M(X(re))}}):te.attr("d",M),J.call(r,u,s,c,{styleOne:h,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,s,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:s._transitioning}),te.call(h,q,z,s,{hovered:!1}),q._text=(t.getPtLabel(q)||"").split("<br>").join(" ")||"";var fe=L.ensureSingle(J,"g","slicetext"),K=L.ensureSingle(fe,"text","",function(W){W.attr("data-notex",1)}),Y=L.ensureUniformFontSize(s,t.determineTextFont(z,q,_.font,{onPathbar:!0}));K.text(q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(n.font,Y).call(C.convertToTspans,s),q.textBB=n.bBox(K.node()),q.transform=P(q,{fontSize:Y.size,onPathbar:!0}),q.transform.fontSize=Y.size,E?K.transition().attrTween("transform",function(W){var X=R(W,l,A,[v,o]);return function(re){return x(X(re))}}):K.attr("transform",x(q))})}},52583:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(63893),y=e(37210),h=e(96362).styleOne,g=e(43473),t=e(2791),r=e(83523),l=e(24714).formatSliceLabel,a=!1;V.exports=function(c,u,b,f,w){var v=w.width,o=w.height,d=w.viewX,S=w.viewY,M=w.pathSlice,P=w.toMoveInsideSlice,x=w.strTransform,E=w.hasTransition,T=w.handleSlicesExit,i=w.makeUpdateSliceInterpolator,R=w.makeUpdateTextInterpolator,A=w.prevEntry,k={},_=c._context.staticPlot,H=c._fullLayout,z=u[0],N=z.trace,O=N.textposition.indexOf("left")!==-1,F=N.textposition.indexOf("right")!==-1,U=N.textposition.indexOf("bottom")!==-1,Z=!U&&!N.marker.pad.t||U&&!N.marker.pad.b,q=y(b,[v,o],{packing:N.tiling.packing,squarifyratio:N.tiling.squarifyratio,flipX:N.tiling.flip.indexOf("x")>-1,flipY:N.tiling.flip.indexOf("y")>-1,pad:{inner:N.tiling.pad,top:N.marker.pad.t,left:N.marker.pad.l,right:N.marker.pad.r,bottom:N.marker.pad.b}}),J=q.descendants(),te=1/0,fe=-1/0;J.forEach(function(re){var se=re.depth;se>=N._maxDepth?(re.x0=re.x1=(re.x0+re.x1)/2,re.y0=re.y1=(re.y0+re.y1)/2):(te=Math.min(te,se),fe=Math.max(fe,se))}),f=f.data(J,t.getPtId),N._maxVisibleLayers=isFinite(fe)?fe-te+1:0,f.enter().append("g").classed("slice",!0),T(f,a,k,[v,o],M),f.order();var K=null;if(E&&A){var Y=t.getPtId(A);f.each(function(re){K===null&&t.getPtId(re)===Y&&(K={x0:re.x0,x1:re.x1,y0:re.y0,y1:re.y1})})}var W=function(){return K||{x0:0,x1:v,y0:0,y1:o}},X=f;return E&&(X=X.transition().each("end",function(){var re=p.select(this);t.setSliceCursor(re,c,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),X.each(function(re){var se=t.isHeader(re,N);re._x0=d(re.x0),re._x1=d(re.x1),re._y0=S(re.y0),re._y1=S(re.y1),re._hoverX=d(re.x1-N.marker.pad.r),re._hoverY=S(U?re.y1-N.marker.pad.b/2:re.y0+N.marker.pad.t/2);var Q=p.select(this),ee=L.ensureSingle(Q,"path","surface",function(xe){xe.style("pointer-events",_?"none":"all")});E?ee.transition().attrTween("d",function(xe){var Ae=i(xe,a,W(),[v,o]);return function(Se){return M(Ae(Se))}}):ee.attr("d",M),Q.call(r,b,c,u,{styleOne:h,eventDataKeys:g.eventDataKeys,transitionTime:g.CLICK_TRANSITION_TIME,transitionEasing:g.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,c,{isTransitioning:c._transitioning}),ee.call(h,re,N,c,{hovered:!1}),re.x0===re.x1||re.y0===re.y1?re._text="":se?re._text=Z?"":t.getPtLabel(re)||"":re._text=l(re,b,N,u,H)||"";var le=L.ensureSingle(Q,"g","slicetext"),oe=L.ensureSingle(le,"text","",function(xe){xe.attr("data-notex",1)}),he=L.ensureUniformFontSize(c,t.determineTextFont(N,re,H.font));oe.text(re._text||" ").classed("slicetext",!0).attr("text-anchor",F?"end":O||se?"start":"middle").call(n.font,he).call(C.convertToTspans,c),re.textBB=n.bBox(oe.node()),re.transform=P(re,{fontSize:he.size,isHeader:se}),re.transform.fontSize=he.size,E?oe.transition().attrTween("transform",function(xe){var Ae=R(xe,a,W(),[v,o]);return function(Se){return x(Ae(Se))}}):oe.attr("transform",x(re))}),K}},14102:function(V){V.exports=function B(e,p,L){var n;L.swapXY&&(n=e.x0,e.x0=e.y0,e.y0=n,n=e.x1,e.x1=e.y1,e.y1=n),L.flipX&&(n=e.x0,e.x0=p[0]-e.x1,e.x1=p[0]-n),L.flipY&&(n=e.y0,e.y0=p[1]-e.y1,e.y1=p[1]-n);var C=e.children;if(C)for(var y=0;y<C.length;y++)B(C[y],p,L)}},70954:function(V,B,e){V.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(V){V.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(V,B,e){var p=e(71828),L=e(55479);V.exports=function(C,y){function h(g,t){return p.coerce(C,y,L,g,t)}h("treemapcolorway",y.colorway),h("extendtreemapcolors")}},37210:function(V,B,e){var p=e(674),L=e(14102);V.exports=function(y,h,g){var t=g.flipX,r=g.flipY,l=g.packing==="dice-slice",a=g.pad[r?"bottom":"top"],s=g.pad[t?"right":"left"],c=g.pad[t?"left":"right"],u=g.pad[r?"top":"bottom"],b;l&&(b=s,s=a,a=b,b=c,c=u,u=b);var f=p.treemap().tile(n(g.packing,g.squarifyratio)).paddingInner(g.pad.inner).paddingLeft(s).paddingRight(c).paddingTop(a).paddingBottom(u).size(l?[h[1],h[0]]:h)(y);return(l||t||r)&&L(f,h,{swapXY:l,flipX:t,flipY:r}),f};function n(C,y){switch(C){case"squarify":return p.treemapSquarify.ratio(y);case"binary":return p.treemapBinary;case"dice":return p.treemapDice;case"slice":return p.treemapSlice;default:return p.treemapSliceDice}}},5893:function(V,B,e){var p=e(80694),L=e(52583);V.exports=function(C,y,h,g){return p(C,y,h,g,{type:"treemap",drawDescendants:L})}},46650:function(V,B,e){var p=e(39898),L=e(81684).sX,n=e(2791),C=e(71828),y=e(97313).TEXTPAD,h=e(17295),g=h.toMoveInsideBar,t=e(72597),r=t.recordMinTextSize,l=e(43473),a=e(66209);function s(c){return n.isHierarchyRoot(c)?"":n.getPtId(c)}V.exports=function(u,b,f,w,v){var o=u._fullLayout,d=b[0],S=d.trace,M=S.type,P=M==="icicle",x=d.hierarchy,E=n.findEntryWithLevel(x,S.level),T=p.select(f),i=T.selectAll("g.pathbar"),R=T.selectAll("g.slice");if(!E){i.remove(),R.remove();return}var A=n.isHierarchyRoot(E),k=!o.uniformtext.mode&&n.hasTransition(w),_=n.getMaxDepth(S),H=function(je){return je.data.depth-E.data.depth<_},z=o._size,N=S.domain,O=z.w*(N.x[1]-N.x[0]),F=z.h*(N.y[1]-N.y[0]),U=O,Z=S.pathbar.thickness,q=S.marker.line.width+l.gapWithPathbar,J=S.pathbar.visible?S.pathbar.side.indexOf("bottom")>-1?F+q:-(Z+q):0,te={x0:U,x1:U,y0:J,y1:J+Z},fe=function(je,_e,Fe){var Be=S.tiling.pad,De=function(Re){return Re-Be<=_e.x0},we=function(Re){return Re+Be>=_e.x1},ue=function(Re){return Re-Be<=_e.y0},me=function(Re){return Re+Be>=_e.y1};return je.x0===_e.x0&&je.x1===_e.x1&&je.y0===_e.y0&&je.y1===_e.y1?{x0:je.x0,x1:je.x1,y0:je.y0,y1:je.y1}:{x0:De(je.x0-Be)?0:we(je.x0-Be)?Fe[0]:je.x0,x1:De(je.x1+Be)?0:we(je.x1+Be)?Fe[0]:je.x1,y0:ue(je.y0-Be)?0:me(je.y0-Be)?Fe[1]:je.y0,y1:ue(je.y1+Be)?0:me(je.y1+Be)?Fe[1]:je.y1}},K=null,Y={},W={},X=null,re=function(je,_e){return _e?Y[s(je)]:W[s(je)]},se=function(je,_e,Fe,Be){if(_e)return Y[s(x)]||te;var De=W[S.level]||Fe;return H(je)?fe(je,De,Be):{}};d.hasMultipleRoots&&A&&_++,S._maxDepth=_,S._backgroundColor=o.paper_bgcolor,S._entryDepth=E.data.depth,S._atRootLevel=A;var Q=-O/2+z.l+z.w*(N.x[1]+N.x[0])/2,ee=-F/2+z.t+z.h*(1-(N.y[1]+N.y[0])/2),le=function(je){return Q+je},oe=function(je){return ee+je},he=oe(0),xe=le(0),Ae=function(je){return xe+je},Se=function(je){return he+je};function Oe(je,_e){return je+","+_e}var Ve=Ae(0),Ee=function(je){je.x=Math.max(Ve,je.x)},Te=S.pathbar.edgeshape,Le=function(je){var _e=Ae(Math.max(Math.min(je.x0,je.x0),0)),Fe=Ae(Math.min(Math.max(je.x1,je.x1),U)),Be=Se(je.y0),De=Se(je.y1),we=Z/2,ue={},me={};ue.x=_e,me.x=Fe,ue.y=me.y=(Be+De)/2;var Re={x:_e,y:Be},Ne={x:Fe,y:Be},it={x:Fe,y:De},ot={x:_e,y:De};return Te===">"?(Re.x-=we,Ne.x-=we,it.x-=we,ot.x-=we):Te==="/"?(it.x-=we,ot.x-=we,ue.x-=we/2,me.x-=we/2):Te==="\\"?(Re.x-=we,Ne.x-=we,ue.x-=we/2,me.x-=we/2):Te==="<"&&(ue.x-=we,me.x-=we),Ee(Re),Ee(ot),Ee(ue),Ee(Ne),Ee(it),Ee(me),"M"+Oe(Re.x,Re.y)+"L"+Oe(Ne.x,Ne.y)+"L"+Oe(me.x,me.y)+"L"+Oe(it.x,it.y)+"L"+Oe(ot.x,ot.y)+"L"+Oe(ue.x,ue.y)+"Z"},Ge=S[P?"tiling":"marker"].pad,He=function(je){return S.textposition.indexOf(je)!==-1},ke=He("top"),We=He("left"),nt=He("right"),qe=He("bottom"),Qe=function(je){var _e=le(je.x0),Fe=le(je.x1),Be=oe(je.y0),De=oe(je.y1),we=Fe-_e,ue=De-Be;if(!we||!ue)return"";var me=S.marker.cornerradius||0,Re=Math.min(me,we/2,ue/2);Re&&je.data&&je.data.data&&je.data.data.label&&(ke&&(Re=Math.min(Re,Ge.t)),We&&(Re=Math.min(Re,Ge.l)),nt&&(Re=Math.min(Re,Ge.r)),qe&&(Re=Math.min(Re,Ge.b)));var Ne=function(it,ot){return Re?"a"+Oe(Re,Re)+" 0 0 1 "+Oe(it,ot):""};return"M"+Oe(_e,Be+Re)+Ne(Re,-Re)+"L"+Oe(Fe-Re,Be)+Ne(Re,Re)+"L"+Oe(Fe,De-Re)+Ne(-Re,Re)+"L"+Oe(_e+Re,De)+Ne(-Re,-Re)+"Z"},tt=function(je,_e){var Fe=je.x0,Be=je.x1,De=je.y0,we=je.y1,ue=je.textBB,me=ke||_e.isHeader&&!qe,Re=me?"start":qe?"end":"middle",Ne=He("right"),it=He("left")||_e.onPathbar,ot=it?-1:Ne?1:0;if(_e.isHeader){if(Fe+=(P?Ge:Ge.l)-y,Be-=(P?Ge:Ge.r)-y,Fe>=Be){var wt=(Fe+Be)/2;Fe=wt,Be=wt}var Ft;qe?(Ft=we-(P?Ge:Ge.b),De<Ft&&Ft<we&&(De=Ft)):(Ft=De+(P?Ge:Ge.t),De<Ft&&Ft<we&&(we=Ft))}var Ut=g(Fe,Be,De,we,ue,{isHorizontal:!1,constrained:!0,angle:0,anchor:Re,leftToRight:ot});return Ut.fontSize=_e.fontSize,Ut.targetX=le(Ut.targetX),Ut.targetY=oe(Ut.targetY),isNaN(Ut.targetX)||isNaN(Ut.targetY)?{}:(Fe!==Be&&De!==we&&r(S.type,Ut,o),{scale:Ut.scale,rotate:Ut.rotate,textX:Ut.textX,textY:Ut.textY,anchorX:Ut.anchorX,anchorY:Ut.anchorY,targetX:Ut.targetX,targetY:Ut.targetY})},vt=function(je,_e){for(var Fe,Be=0,De=je;!Fe&&Be<_;)Be++,De=De.parent,De?Fe=re(De,_e):Be=_;return Fe||{}},dt=function(je,_e,Fe,Be){var De=re(je,_e),we;if(_e)we=te;else{var ue=re(E,_e);ue?we=fe(je,ue,Be):we={}}return L(De,we)},gt=function(je,_e,Fe,Be,De){var we=re(je,_e),ue;if(we)ue=we;else if(_e)ue=te;else if(K)if(je.parent){var me=X||Fe;me&&!_e?ue=fe(je,me,Be):(ue={},C.extendFlat(ue,vt(je,_e)))}else ue=C.extendFlat({},je),P&&(De.orientation==="h"?De.flipX?ue.x0=je.x1:ue.x1=0:De.flipY?ue.y0=je.y1:ue.y1=0);else ue={};return L(ue,{x0:je.x0,x1:je.x1,y0:je.y0,y1:je.y1})},Mt=function(je,_e,Fe,Be){var De=re(je,_e),we={},ue=se(je,_e,Fe,Be);C.extendFlat(we,{transform:tt({x0:ue.x0,x1:ue.x1,y0:ue.y0,y1:ue.y1,textBB:je.textBB,_text:je._text},{isHeader:n.isHeader(je,S)})}),De?we=De:je.parent&&C.extendFlat(we,vt(je,_e));var me=je.transform;return je.x0!==je.x1&&je.y0!==je.y1&&r(S.type,me,o),L(we,{transform:{scale:me.scale,rotate:me.rotate,textX:me.textX,textY:me.textY,anchorX:me.anchorX,anchorY:me.anchorY,targetX:me.targetX,targetY:me.targetY}})},Rt=function(je,_e,Fe,Be,De){var we=Be[0],ue=Be[1];k?je.exit().transition().each(function(){var me=p.select(this),Re=me.select("path.surface");Re.transition().attrTween("d",function(it){var ot=dt(it,_e,Fe,[we,ue]);return function(wt){return De(ot(wt))}});var Ne=me.select("g.slicetext");Ne.attr("opacity",0)}).remove():je.exit().remove()},Wt=function(je){var _e=je.transform;return je.x0!==je.x1&&je.y0!==je.y1&&r(S.type,_e,o),C.getTextTransform({textX:_e.textX,textY:_e.textY,anchorX:_e.anchorX,anchorY:_e.anchorY,targetX:_e.targetX,targetY:_e.targetY,scale:_e.scale,rotate:_e.rotate})};k&&(i.each(function(je){Y[s(je)]={x0:je.x0,x1:je.x1,y0:je.y0,y1:je.y1},je.transform&&(Y[s(je)].transform={textX:je.transform.textX,textY:je.transform.textY,anchorX:je.transform.anchorX,anchorY:je.transform.anchorY,targetX:je.transform.targetX,targetY:je.transform.targetY,scale:je.transform.scale,rotate:je.transform.rotate})}),R.each(function(je){W[s(je)]={x0:je.x0,x1:je.x1,y0:je.y0,y1:je.y1},je.transform&&(W[s(je)].transform={textX:je.transform.textX,textY:je.transform.textY,anchorX:je.transform.anchorX,anchorY:je.transform.anchorY,targetX:je.transform.targetX,targetY:je.transform.targetY,scale:je.transform.scale,rotate:je.transform.rotate}),!K&&n.isEntry(je)&&(K=je)})),X=v(u,b,E,R,{width:O,height:F,viewX:le,viewY:oe,pathSlice:Qe,toMoveInsideSlice:tt,prevEntry:K,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Mt,handleSlicesExit:Rt,hasTransition:k,strTransform:Wt}),S.pathbar.visible?a(u,b,E,i,{barDifY:J,width:U,height:Z,viewX:Ae,viewY:Se,pathSlice:Le,toMoveInsideSlice:tt,makeUpdateSliceInterpolator:gt,makeUpdateTextInterpolator:Mt,handleSlicesExit:Rt,hasTransition:k,strTransform:Wt}):i.remove()}},96362:function(V,B,e){var p=e(39898),L=e(7901),n=e(71828),C=e(2791),y=e(72597).resizeText,h=e(43467);function g(r){var l=r._fullLayout._treemaplayer.selectAll(".trace");y(r,l,"treemap"),l.each(function(a){var s=p.select(this),c=a[0],u=c.trace;s.style("opacity",u.opacity),s.selectAll("path.surface").each(function(b){p.select(this).call(t,b,u,r,{hovered:!1})})})}function t(r,l,a,s,c){var u=(c||{}).hovered,b=l.data.data,f=b.i,w,v,o=b.color,d=C.isHierarchyRoot(l),S=1;if(u)w=a._hovered.marker.line.color,v=a._hovered.marker.line.width;else if(d&&o===a.root.color)S=100,w="rgba(0,0,0,0)",v=0;else if(w=n.castOption(a,f,"marker.line.color")||L.defaultLine,v=n.castOption(a,f,"marker.line.width")||0,!a._hasColorscale&&!l.onPathbar){var M=a.marker.depthfade;if(M){var P=L.combine(L.addOpacity(a._backgroundColor,.75),o),x;if(M===!0){var E=C.getMaxDepth(a);isFinite(E)?C.isLeaf(l)?x=0:x=a._maxVisibleLayers-(l.data.depth-a._entryDepth):x=l.data.height+1}else x=l.data.depth-a._entryDepth,a._atRootLevel||x++;if(x>0)for(var T=0;T<x;T++){var i=.5*T/x;o=L.combine(L.addOpacity(P,i),o)}}}r.call(h,l,a,s,o).style("stroke-width",v).call(L.stroke,w).style("opacity",S)}V.exports={style:g,styleOne:t}},68875:function(V,B,e){var p=e(53522),L=e(1426).extendFlat,n=e(12663).axisHoverFormat;V.exports={y:p.y,x:p.x,x0:p.x0,y0:p.y0,xhoverformat:n("x"),yhoverformat:n("y"),name:L({},p.name,{}),orientation:L({},p.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:p.fillcolor,points:L({},p.boxpoints,{}),jitter:L({},p.jitter,{}),pointpos:L({},p.pointpos,{}),width:L({},p.width,{}),marker:p.marker,text:p.text,hovertext:p.hovertext,hovertemplate:p.hovertemplate,quartilemethod:p.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup,selected:p.selected,unselected:p.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(V,B,e){var p=e(71828),L=e(89298),n=e(48518),C=e(60168),y=e(50606).BADNUM;V.exports=function(l,a){var s=n(l,a);if(s[0].t.empty)return s;for(var c=l._fullLayout,u=L.getFromId(l,a[a.orientation==="h"?"xaxis":"yaxis"]),b=1/0,f=-1/0,w=0,v=0,o=0;o<s.length;o++){var d=s[o],S=d.pts.map(C.extractVal),M=d.bandwidth=g(a,d,S),P=d.span=t(a,d,u,M);if(d.min===d.max&&M===0)P=d.span=[d.min,d.max],d.density=[{v:1,t:P[0]}],d.bandwidth=M,w=Math.max(w,1);else{var x=P[1]-P[0],E=Math.ceil(x/(M/3)),T=x/E;if(!isFinite(T)||!isFinite(E))return p.error("Something went wrong with computing the violin span"),s[0].t.empty=!0,s;var i=C.makeKDE(d,a,S);d.density=new Array(E);for(var R=0,A=P[0];A<P[1]+T/2;R++,A+=T){var k=i(A);d.density[R]={v:k,t:A},w=Math.max(w,k)}}v=Math.max(v,S.length),b=Math.min(b,P[0]),f=Math.max(f,P[1])}var _=L.findExtremes(u,[b,f],{padded:!0});if(a._extremes[u._id]=_,a.width)s[0].t.maxKDE=w;else{var H=c._violinScaleGroupStats,z=a.scalegroup,N=H[z];N?(N.maxKDE=Math.max(N.maxKDE,w),N.maxCount=Math.max(N.maxCount,v)):H[z]={maxKDE:w,maxCount:v}}return s[0].t.labels.kde=p._(l,"kde:"),s};function h(r,l,a){var s=Math.min(l,a/1.349);return 1.059*s*Math.pow(r,-.2)}function g(r,l,a){var s=l.max-l.min;if(!s)return r.bandwidth?r.bandwidth:0;if(r.bandwidth)return Math.max(r.bandwidth,s/1e4);var c=a.length,u=p.stdev(a,c-1,l.mean);return Math.max(h(c,u,l.q3-l.q1),s/100)}function t(r,l,a,s){var c=r.spanmode,u=r.span||[],b=[l.min,l.max],f=[l.min-2*s,l.max+2*s],w;function v(d){var S=u[d],M=a.type==="multicategory"?a.r2c(S):a.d2c(S,0,r[l.valLetter+"calendar"]);return M===y?f[d]:M}c==="soft"?w=f:c==="hard"?w=b:w=[v(0),v(1)];var o={type:"linear",range:w};return L.setConvert(o),o.cleanRange(),w}},86403:function(V,B,e){var p=e(37188).setPositionOffset,L=["v","h"];V.exports=function(C,y){for(var h=C.calcdata,g=y.xaxis,t=y.yaxis,r=0;r<L.length;r++){for(var l=L[r],a=l==="h"?t:g,s=[],c=0;c<h.length;c++){var u=h[c],b=u[0].t,f=u[0].trace;f.visible===!0&&f.type==="violin"&&!b.empty&&f.orientation===l&&f.xaxis===g._id&&f.yaxis===t._id&&s.push(c)}p("violin",C,s,a)}}},15899:function(V,B,e){var p=e(71828),L=e(7901),n=e(36411),C=e(68875);V.exports=function(h,g,t,r){function l(T,i){return p.coerce(h,g,C,T,i)}function a(T,i){return p.coerce2(h,g,C,T,i)}if(n.handleSampleDefaults(h,g,l,r),g.visible!==!1){l("bandwidth"),l("side");var s=l("width");s||(l("scalegroup",g.name),l("scalemode"));var c=l("span"),u;Array.isArray(c)&&(u="manual"),l("spanmode",u);var b=l("line.color",(h.marker||{}).color||t),f=l("line.width"),w=l("fillcolor",L.addOpacity(g.line.color,.5));n.handlePointsDefaults(h,g,l,{prefix:""});var v=a("box.width"),o=a("box.fillcolor",w),d=a("box.line.color",b),S=a("box.line.width",f),M=l("box.visible",!!(v||o||d||S));M||(g.box={visible:!1});var P=a("meanline.color",b),x=a("meanline.width",f),E=l("meanline.visible",!!(P||x));E||(g.meanline={visible:!1}),l("quartilemethod")}}},60168:function(V,B,e){var p=e(71828),L={gaussian:function(n){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*n*n)}};B.makeKDE=function(n,C,y){var h=y.length,g=L.gaussian,t=n.bandwidth,r=1/(h*t);return function(l){for(var a=0,s=0;s<h;s++)a+=g((l-y[s])/t);return r*a}},B.getPositionOnKdePath=function(n,C,y){var h,g;C.orientation==="h"?(h="y",g="x"):(h="x",g="y");var t=p.findPointOnPath(n.path,y,g,{pathLength:n.pathLength}),r=n.posCenterPx,l=t[h],a=C.side==="both"?2*r-l:r;return[l,a]},B.getKdeValue=function(n,C,y){var h=n.pts.map(B.extractVal),g=B.makeKDE(n,C,h);return g(y)/n.posDensityScale},B.extractVal=function(n){return n.v}},57634:function(V,B,e){var p=e(7901),L=e(71828),n=e(89298),C=e(41868),y=e(60168);V.exports=function(g,t,r,l,a){a||(a={});var s=a.hoverLayer,c=g.cd,u=c[0].trace,b=u.hoveron,f=b.indexOf("violins")!==-1,w=b.indexOf("kde")!==-1,v=[],o,d;if(f||w){var S=C.hoverOnBoxes(g,t,r,l);if(w&&S.length>0){var M=g.xa,P=g.ya,x,E,T,i,R;u.orientation==="h"?(R=t,x="y",T=P,E="x",i=M):(R=r,x="x",T=M,E="y",i=P);var A=c[g.index];if(R>=A.span[0]&&R<=A.span[1]){var k=L.extendFlat({},g),_=i.c2p(R,!0),H=y.getKdeValue(A,u,R),z=y.getPositionOnKdePath(A,u,_),N=T._offset,O=T._length;k[x+"0"]=z[0],k[x+"1"]=z[1],k[E+"0"]=k[E+"1"]=_,k[E+"Label"]=E+": "+n.hoverLabelText(i,R,u[E+"hoverformat"])+", "+c[0].t.labels.kde+" "+H.toFixed(3);for(var F=0,U=0;U<S.length;U++)if(S[U].attr==="med"){F=U;break}k.spikeDistance=S[F].spikeDistance;var Z=x+"Spike";k[Z]=S[F][Z],S[F].spikeDistance=void 0,S[F][Z]=void 0,k.hovertemplate=!1,v.push(k),d={},d[x+"1"]=L.constrain(N+z[0],N,N+O),d[x+"2"]=L.constrain(N+z[1],N,N+O),d[E+"1"]=d[E+"2"]=i._offset+_}}f&&(v=v.concat(S))}b.indexOf("points")!==-1&&(o=C.hoverOnPoints(g,t,r));var q=s.selectAll(".violinline-"+u.uid).data(d?[0]:[]);return q.enter().append("line").classed("violinline-"+u.uid,!0).attr("stroke-width",1.5),q.exit().remove(),q.attr(d).call(p.stroke,g.color),l==="closest"?o?[o]:v:(o&&v.push(o),v)}},47462:function(V,B,e){V.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(V,B,e){var p=e(40094),L=e(71828).extendFlat;V.exports={violinmode:L({},p.boxmode,{}),violingap:L({},p.boxgap,{}),violingroupgap:L({},p.boxgroupgap,{})}},33598:function(V,B,e){var p=e(71828),L=e(9228),n=e(4199);V.exports=function(y,h,g){function t(r,l){return p.coerce(y,h,L,r,l)}n._supply(y,h,g,t,"violin")}},28443:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(86047),y=e(34621),h=e(60168);V.exports=function(t,r,l,a){var s=t._context.staticPlot,c=t._fullLayout,u=r.xaxis,b=r.yaxis;function f(w,v){var o=y(w,{xaxis:u,yaxis:b,trace:v,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return n.smoothopen(o[0],1)}L.makeTraceGroups(a,l,"trace violins").each(function(w){var v=p.select(this),o=w[0],d=o.t,S=o.trace;if(S.visible!==!0||d.empty){v.remove();return}var M=d.bPos,P=d.bdPos,x=r[d.valLetter+"axis"],E=r[d.posLetter+"axis"],T=S.side==="both",i=T||S.side==="positive",R=T||S.side==="negative",A=v.selectAll("path.violin").data(L.identity);A.enter().append("path").style("vector-effect",s?"none":"non-scaling-stroke").attr("class","violin"),A.exit().remove(),A.each(function(U){var Z=p.select(this),q=U.density,J=q.length,te=E.c2l(U.pos+M,!0),fe=E.l2p(te),K;if(S.width)K=d.maxKDE/P;else{var Y=c._violinScaleGroupStats[S.scalegroup];K=S.scalemode==="count"?Y.maxKDE/P*(Y.maxCount/U.pts.length):Y.maxKDE/P}var W,X,re,se,Q,ee,le;if(i){for(ee=new Array(J),se=0;se<J;se++)le=ee[se]={},le[d.posLetter]=te+q[se].v/K,le[d.valLetter]=x.c2l(q[se].t,!0);W=f(ee,S)}if(R){for(ee=new Array(J),Q=0,se=J-1;Q<J;Q++,se--)le=ee[Q]={},le[d.posLetter]=te-q[se].v/K,le[d.valLetter]=x.c2l(q[se].t,!0);X=f(ee,S)}if(T)re=W+"L"+X.substr(1)+"Z";else{var oe=[fe,x.c2p(q[0].t)],he=[fe,x.c2p(q[J-1].t)];S.orientation==="h"&&(oe.reverse(),he.reverse()),i?re="M"+oe+"L"+W.substr(1)+"L"+he:re="M"+he+"L"+X.substr(1)+"L"+oe}Z.attr("d",re),U.posCenterPx=fe,U.posDensityScale=K*P,U.path=Z.node(),U.pathLength=U.path.getTotalLength()/(T?2:1)});var k=S.box,_=k.width,H=(k.line||{}).width,z,N;T?(z=P*_,N=0):i?(z=[0,P*_/2],N=H*{x:1,y:-1}[d.posLetter]):(z=[P*_/2,0],N=H*{x:-1,y:1}[d.posLetter]),C.plotBoxAndWhiskers(v,{pos:E,val:x},S,{bPos:M,bdPos:z,bPosPxOffset:N}),C.plotBoxMean(v,{pos:E,val:x},S,{bPos:M,bdPos:z,bPosPxOffset:N});var O;!S.box.visible&&S.meanline.visible&&(O=L.identity);var F=v.selectAll("path.meanline").data(O||[]);F.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",s?"none":"non-scaling-stroke"),F.exit().remove(),F.each(function(U){var Z=x.c2p(U.mean,!0),q=h.getPositionOnKdePath(U,S,Z);p.select(this).attr("d",S.orientation==="h"?"M"+Z+","+q[0]+"V"+q[1]:"M"+q[0]+","+Z+"H"+q[1])}),C.plotPoints(v,{x:u,y:b},S,d)})}},31847:function(V,B,e){var p=e(39898),L=e(7901),n=e(16296).stylePoints;V.exports=function(y){var h=p.select(y).selectAll("g.trace.violins");h.style("opacity",function(g){return g[0].trace.opacity}),h.each(function(g){var t=g[0].trace,r=p.select(this),l=t.box||{},a=l.line||{},s=t.meanline||{},c=s.width;r.selectAll("path.violin").style("stroke-width",t.line.width+"px").call(L.stroke,t.line.color).call(L.fill,t.fillcolor),r.selectAll("path.box").style("stroke-width",a.width+"px").call(L.stroke,a.color).call(L.fill,l.fillcolor);var u={"stroke-width":c+"px","stroke-dasharray":2*c+"px,"+c+"px"};r.selectAll("path.mean").style(u).call(L.stroke,s.color),r.selectAll("path.meanline").style(u).call(L.stroke,s.color),n(r,t,y)})}},16336:function(V,B,e){var p=e(50693),L=e(16249),n=e(54532),C=e(9012),y=e(1426).extendFlat,h=e(30962).overrideAll,g=V.exports=h(y({x:L.x,y:L.y,z:L.z,value:L.value,isomin:L.isomin,isomax:L.isomax,surface:L.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:L.slices,caps:L.caps,text:L.text,hovertext:L.hovertext,xhoverformat:L.xhoverformat,yhoverformat:L.yhoverformat,zhoverformat:L.zhoverformat,valuehoverformat:L.valuehoverformat,hovertemplate:L.hovertemplate},p("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:L.colorbar,opacity:L.opacity,opacityscale:n.opacityscale,lightposition:L.lightposition,lighting:L.lighting,flatshading:L.flatshading,contour:L.contour,hoverinfo:y({},C.hoverinfo),showlegend:y({},C.showlegend,{dflt:!1})}),"calc","nested");g.x.editType=g.y.editType=g.z.editType=g.value.editType="calc+clearAxisTypes",g.transforms=void 0},64809:function(V,B,e){var p=e(9330).gl_mesh3d,L=e(81697).parseColorScale,n=e(78614),C=e(21081).extractOpts,y=e(90060),h=e(22674).findNearestOnAxis,g=e(22674).generateIsoMeshes;function t(a,s,c){this.scene=a,this.uid=c,this.mesh=s,this.name="",this.data=null,this.showContour=!1}var r=t.prototype;r.handlePick=function(a){if(a.object===this.mesh){var s=a.data.index,c=this.data._meshX[s],u=this.data._meshY[s],b=this.data._meshZ[s],f=this.data._Ys.length,w=this.data._Zs.length,v=h(c,this.data._Xs).id,o=h(u,this.data._Ys).id,d=h(b,this.data._Zs).id,S=a.index=d+w*o+w*f*v;a.traceCoordinate=[this.data._meshX[S],this.data._meshY[S],this.data._meshZ[S],this.data._value[S]];var M=this.data.hovertext||this.data.text;return Array.isArray(M)&&M[S]!==void 0?a.textLabel=M[S]:M&&(a.textLabel=M),!0}},r.update=function(a){var s=this.scene,c=s.fullSceneLayout;this.data=g(a);function u(o,d,S,M){return d.map(function(P){return o.d2l(P,0,M)*S})}var b=y(u(c.xaxis,a._meshX,s.dataScale[0],a.xcalendar),u(c.yaxis,a._meshY,s.dataScale[1],a.ycalendar),u(c.zaxis,a._meshZ,s.dataScale[2],a.zcalendar)),f=y(a._meshI,a._meshJ,a._meshK),w={positions:b,cells:f,lightPosition:[a.lightposition.x,a.lightposition.y,a.lightposition.z],ambient:a.lighting.ambient,diffuse:a.lighting.diffuse,specular:a.lighting.specular,roughness:a.lighting.roughness,fresnel:a.lighting.fresnel,vertexNormalsEpsilon:a.lighting.vertexnormalsepsilon,faceNormalsEpsilon:a.lighting.facenormalsepsilon,opacity:a.opacity,opacityscale:a.opacityscale,contourEnable:a.contour.show,contourColor:n(a.contour.color).slice(0,3),contourWidth:a.contour.width,useFacetNormals:a.flatshading},v=C(a);w.vertexIntensity=a._meshIntensity,w.vertexIntensityBounds=[v.min,v.max],w.colormap=L(a),this.mesh.update(w)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};function l(a,s){var c=a.glplot.gl,u=p({gl:c}),b=new t(a,u,s.uid);return u._trace=b,b.update(s),a.glplot.add(u),b}V.exports=l},47651:function(V,B,e){var p=e(71828),L=e(16336),n=e(82738).supplyIsoDefaults,C=e(91831).opacityscaleDefaults;V.exports=function(h,g,t,r){function l(a,s){return p.coerce(h,g,L,a,s)}n(h,g,t,r,l),C(h,g,r,l)}},17659:function(V,B,e){V.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(V,B,e){var p=e(1486),L=e(82196).line,n=e(9012),C=e(12663).axisHoverFormat,y=e(5386).fF,h=e(5386).si,g=e(48334),t=e(1426).extendFlat,r=e(7901);function l(a){return{marker:{color:t({},p.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},p.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},p.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}V.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:p.x,x0:p.x0,dx:p.dx,y:p.y,y0:p.y0,dy:p.dy,xperiod:p.xperiod,yperiod:p.yperiod,xperiod0:p.xperiod0,yperiod0:p.yperiod0,xperiodalignment:p.xperiodalignment,yperiodalignment:p.yperiodalignment,xhoverformat:C("x"),yhoverformat:C("y"),hovertext:p.hovertext,hovertemplate:y({},{keys:g.eventDataKeys}),hoverinfo:t({},n.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:h({editType:"plot"},{keys:g.eventDataKeys.concat(["label"])}),text:p.text,textposition:p.textposition,insidetextanchor:p.insidetextanchor,textangle:p.textangle,textfont:p.textfont,insidetextfont:p.insidetextfont,outsidetextfont:p.outsidetextfont,constraintext:p.constraintext,cliponaxis:p.cliponaxis,orientation:p.orientation,offset:p.offset,width:p.width,increasing:l(),decreasing:l(),totals:l(),connector:{line:{color:t({},L.color,{dflt:r.defaultLine}),width:t({},L.width,{editType:"plot"}),dash:L.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:p.offsetgroup,alignmentgroup:p.alignmentgroup}},52752:function(V,B,e){var p=e(89298),L=e(42973),n=e(71828).mergeArray,C=e(66279),y=e(50606).BADNUM;function h(t){return t==="a"||t==="absolute"}function g(t){return t==="t"||t==="total"}V.exports=function(r,l){var a=p.getFromId(r,l.xaxis||"x"),s=p.getFromId(r,l.yaxis||"y"),c,u,b,f,w,v;l.orientation==="h"?(c=a.makeCalcdata(l,"x"),b=s.makeCalcdata(l,"y"),f=L(l,s,"y",b),w=!!l.yperiodalignment,v="y"):(c=s.makeCalcdata(l,"y"),b=a.makeCalcdata(l,"x"),f=L(l,a,"x",b),w=!!l.xperiodalignment,v="x"),u=f.vals;for(var o=Math.min(u.length,c.length),d=new Array(o),S=0,M,P=!1,x=0;x<o;x++){var E=c[x]||0,T=!1;(c[x]!==y||g(l.measure[x])||h(l.measure[x]))&&x+1<o&&(c[x+1]!==y||g(l.measure[x+1])||h(l.measure[x+1]))&&(T=!0);var i=d[x]={i:x,p:u[x],s:E,rawS:E,cNext:T};h(l.measure[x])?(S=i.s,i.isSum=!0,i.dir="totals",i.s=S):g(l.measure[x])?(i.isSum=!0,i.dir="totals",i.s=S):(i.isSum=!1,i.dir=i.rawS<0?"decreasing":"increasing",M=i.s,i.s=S+M,S+=M),i.dir==="totals"&&(P=!0),w&&(d[x].orig_p=b[x],d[x][v+"End"]=f.ends[x],d[x][v+"Start"]=f.starts[x]),l.ids&&(i.id=String(l.ids[x])),i.v=(l.base||0)+S}return d.length&&(d[0].hasTotals=P),n(l.text,d,"tx"),n(l.hovertext,d,"htx"),C(d,l),d}},48334:function(V){V.exports={eventDataKeys:["initial","delta","final"]}},70766:function(V,B,e){var p=e(11661).setGroupPositions;V.exports=function(n,C){var y=n._fullLayout,h=n._fullData,g=n.calcdata,t=C.xaxis,r=C.yaxis,l=[],a=[],s=[],c,u;for(u=0;u<h.length;u++){var b=h[u];b.visible===!0&&b.xaxis===t._id&&b.yaxis===r._id&&b.type==="waterfall"&&(c=g[u],b.orientation==="h"?s.push(c):a.push(c),l.push(c))}var f={mode:y.waterfallmode,norm:y.waterfallnorm,gap:y.waterfallgap,groupgap:y.waterfallgroupgap};for(p(n,t,r,a,f),p(n,r,t,s,f),u=0;u<l.length;u++){c=l[u];for(var w=0;w<c.length;w++){var v=c[w];v.isSum===!1&&(v.s0+=w===0?0:c[w-1].s),w+1<c.length&&(c[w].nextP0=c[w+1].p0,c[w].nextS0=c[w+1].s0)}}}},83266:function(V,B,e){var p=e(71828),L=e(26125),n=e(90769).handleText,C=e(67513),y=e(73927),h=e(43037),g=e(7901),t=e(22372),r=t.INCREASING.COLOR,l=t.DECREASING.COLOR,a="#4499FF";function s(b,f,w){b(f+".marker.color",w),b(f+".marker.line.color",g.defaultLine),b(f+".marker.line.width")}function c(b,f,w,v){function o(x,E){return p.coerce(b,f,h,x,E)}var d=C(b,f,v,o);if(!d){f.visible=!1;return}y(b,f,v,o),o("xhoverformat"),o("yhoverformat"),o("measure"),o("orientation",f.x&&!f.y?"h":"v"),o("base"),o("offset"),o("width"),o("text"),o("hovertext"),o("hovertemplate");var S=o("textposition");n(b,f,v,o,S,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),f.textposition!=="none"&&(o("texttemplate"),f.texttemplate||o("textinfo")),s(o,"increasing",r),s(o,"decreasing",l),s(o,"totals",a);var M=o("connector.visible");if(M){o("connector.mode");var P=o("connector.line.width");P&&(o("connector.line.color"),o("connector.line.dash"))}}function u(b,f){var w,v;function o(S){return p.coerce(v._input,v,h,S)}if(f.waterfallmode==="group")for(var d=0;d<b.length;d++)v=b[d],w=v._input,L(w,v,f,o)}V.exports={supplyDefaults:c,crossTraceDefaults:u}},58593:function(V){V.exports=function(e,p){return e.x="xVal"in p?p.xVal:p.x,e.y="yVal"in p?p.yVal:p.y,"initial"in p&&(e.initial=p.initial),"delta"in p&&(e.delta=p.delta),"final"in p&&(e.final=p.final),p.xa&&(e.xaxis=p.xa),p.ya&&(e.yaxis=p.ya),e}},61326:function(V,B,e){var p=e(89298).hoverLabelText,L=e(7901).opacity,n=e(95423).hoverOnBars,C=e(22372),y={increasing:C.INCREASING.SYMBOL,decreasing:C.DECREASING.SYMBOL};V.exports=function(t,r,l,a,s){var c=n(t,r,l,a,s);if(!c)return;var u=c.cd,b=u[0].trace,f=b.orientation==="h",w=f?"x":"y",v=f?t.xa:t.ya;function o(A){return p(v,A,b[w+"hoverformat"])}var d=c.index,S=u[d],M=S.isSum?S.b+S.s:S.rawS;c.initial=S.b+S.s-M,c.delta=M,c.final=c.initial+c.delta;var P=o(Math.abs(c.delta));c.deltaLabel=M<0?"("+P+")":P,c.finalLabel=o(c.final),c.initialLabel=o(c.initial);var x=S.hi||b.hoverinfo,E=[];if(x&&x!=="none"&&x!=="skip"){var T=x==="all",i=x.split("+"),R=function(A){return T||i.indexOf(A)!==-1};S.isSum||(R("final")&&(f?!R("x"):!R("y"))&&E.push(c.finalLabel),R("delta")&&(M<0?E.push(c.deltaLabel+" "+y.decreasing):E.push(c.deltaLabel+" "+y.increasing)),R("initial")&&E.push("Initial: "+c.initialLabel))}return E.length&&(c.extraText=E.join("<br>")),c.color=h(b,S),[c]};function h(g,t){var r=g[t.dir].marker,l=r.color,a=r.line.color,s=r.line.width;if(L(l))return l;if(L(a)&&s)return a}},19990:function(V,B,e){V.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(V){V.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(V,B,e){var p=e(71828),L=e(13494);V.exports=function(n,C,y){var h=!1;function g(l,a){return p.coerce(n,C,L,l,a)}for(var t=0;t<y.length;t++){var r=y[t];if(r.visible&&r.type==="waterfall"){h=!0;break}}h&&(g("waterfallmode"),g("waterfallgap",.2),g("waterfallgroupgap"))}},30436:function(V,B,e){var p=e(39898),L=e(71828),n=e(91424),C=e(50606).BADNUM,y=e(17295),h=e(72597).clearMinTextSize;V.exports=function(l,a,s,c){var u=l._fullLayout;h("waterfall",u),y.plot(l,a,s,c,{mode:u.waterfallmode,norm:u.waterfallmode,gap:u.waterfallgap,groupgap:u.waterfallgroupgap}),g(l,a,s,c)};function g(r,l,a,s){var c=l.xaxis,u=l.yaxis;L.makeTraceGroups(s,a,"trace bars").each(function(b){var f=p.select(this),w=b[0].trace,v=L.ensureSingle(f,"g","lines");if(!w.connector||!w.connector.visible){v.remove();return}var o=w.orientation==="h",d=w.connector.mode,S=v.selectAll("g.line").data(L.identity);S.enter().append("g").classed("line",!0),S.exit().remove();var M=S.size();S.each(function(P,x){if(!(x!==M-1&&!P.cNext)){var E=t(P,c,u,o),T=E[0],i=E[1],R="";T[0]!==C&&i[0]!==C&&T[1]!==C&&i[1]!==C&&(d==="spanning"&&!P.isSum&&x>0&&(o?R+="M"+T[0]+","+i[1]+"V"+i[0]:R+="M"+T[1]+","+i[0]+"H"+T[0]),d!=="between"&&(P.isSum||x<M-1)&&(o?R+="M"+T[1]+","+i[0]+"V"+i[1]:R+="M"+T[0]+","+i[1]+"H"+T[1]),T[2]!==C&&i[2]!==C&&(o?R+="M"+T[1]+","+i[1]+"V"+i[2]:R+="M"+T[1]+","+i[1]+"H"+T[2])),R===""&&(R="M0,0Z"),L.ensureSingle(p.select(this),"path").attr("d",R).call(n.setClipUrl,l.layerClipId,r)}})})}function t(r,l,a,s){var c=[],u=[],b=s?l:a,f=s?a:l;return c[0]=b.c2p(r.s0,!0),u[0]=f.c2p(r.p0,!0),c[1]=b.c2p(r.s1,!0),u[1]=f.c2p(r.p1,!0),c[2]=b.c2p(r.nextS0,!0),u[2]=f.c2p(r.nextP0,!0),s?[c,u]:[u,c]}},55750:function(V,B,e){var p=e(39898),L=e(91424),n=e(7901),C=e(37822).DESELECTDIM,y=e(16688),h=e(72597).resizeText,g=y.styleTextPoints;function t(r,l,a){var s=a||p.select(r).selectAll("g.waterfalllayer").selectAll("g.trace");h(r,s,"waterfall"),s.style("opacity",function(c){return c[0].trace.opacity}),s.each(function(c){var u=p.select(this),b=c[0].trace;u.selectAll(".point > path").each(function(f){if(!f.isBlank){var w=b[f.dir].marker;p.select(this).call(n.fill,w.color).call(n.stroke,w.line.color).call(L.dashLine,w.line.dash,w.line.width).style("opacity",b.selectedpoints&&!f.selected?C:1)}}),g(u,b,r),u.selectAll(".lines").each(function(){var f=b.connector.line;L.lineGroupStyle(p.select(this).selectAll("path"),f.width,f.color,f.dash)})})}V.exports={style:t}},82887:function(V,B,e){var p=e(89298),L=e(71828),n=e(86281),C=e(79344).p,y=e(50606).BADNUM;B.moduleType="transform",B.name="aggregate";var h=B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},g=h.aggregations;B.supplyDefaults=function(c,u){var b={},f;function w(A,k){return L.coerce(c,b,h,A,k)}var v=w("enabled");if(!v)return b;var o=n.findArrayAttributes(u),d={};for(f=0;f<o.length;f++)d[o[f]]=1;var S=w("groups");if(!Array.isArray(S)){if(!d[S])return b.enabled=!1,b;d[S]=0}var M=c.aggregations||[],P=b.aggregations=new Array(M.length),x;function E(A,k){return L.coerce(M[f],x,g,A,k)}for(f=0;f<M.length;f++){x={_index:f};var T=E("target"),i=E("func"),R=E("enabled");R&&T&&(d[T]||i==="count"&&d[T]===void 0)?(i==="stddev"&&E("funcmode"),d[T]=0,P[f]=x):P[f]={enabled:!1,_index:f}}for(f=0;f<o.length;f++)d[o[f]]&&P.push({target:o[f],func:g.func.dflt,enabled:!0,_index:-1});return b},B.calcTransform=function(c,u,b){if(b.enabled){var f=b.groups,w=L.getTargetArray(u,{target:f});if(w){var v,o,d,S,M={},P={},x=[],E=C(u.transforms,b),T=w.length;for(u._length&&(T=Math.min(T,u._length)),v=0;v<T;v++)o=w[v],d=M[o],d===void 0?(M[o]=x.length,S=[v],x.push(S),P[M[o]]=E(v)):(x[d].push(v),P[M[o]]=(P[M[o]]||[]).concat(E(v)));b._indexToPoints=P;var i=b.aggregations;for(v=0;v<i.length;v++)t(c,u,x,i[v]);typeof f=="string"&&t(c,u,x,{target:f,func:"first",enabled:!0}),u._length=x.length}}};function t(c,u,b,f){if(f.enabled){for(var w=f.target,v=L.nestedProperty(u,w),o=v.get(),d=p.getDataConversions(c,u,w,o),S=r(f,d),M=new Array(b.length),P=0;P<b.length;P++)M[P]=S(o,b[P]);v.set(M),f.func==="count"&&L.pushUnique(u._arrayAttrs,w)}}function r(c,u){var b=c.func,f=u.d2c,w=u.c2d;switch(b){case"count":return l;case"first":return a;case"last":return s;case"sum":return function(v,o){for(var d=0,S=0;S<o.length;S++){var M=f(v[o[S]]);M!==y&&(d+=M)}return w(d)};case"avg":return function(v,o){for(var d=0,S=0,M=0;M<o.length;M++){var P=f(v[o[M]]);P!==y&&(d+=P,S++)}return S?w(d/S):y};case"min":return function(v,o){for(var d=1/0,S=0;S<o.length;S++){var M=f(v[o[S]]);M!==y&&(d=Math.min(d,M))}return d===1/0?y:w(d)};case"max":return function(v,o){for(var d=-1/0,S=0;S<o.length;S++){var M=f(v[o[S]]);M!==y&&(d=Math.max(d,M))}return d===-1/0?y:w(d)};case"range":return function(v,o){for(var d=1/0,S=-1/0,M=0;M<o.length;M++){var P=f(v[o[M]]);P!==y&&(d=Math.min(d,P),S=Math.max(S,P))}return S===-1/0||d===1/0?y:w(S-d)};case"change":return function(v,o){var d=f(v[o[0]]),S=f(v[o[o.length-1]]);return d===y||S===y?y:w(S-d)};case"median":return function(v,o){for(var d=[],S=0;S<o.length;S++){var M=f(v[o[S]]);M!==y&&d.push(M)}if(!d.length)return y;d.sort(L.sorterAsc);var P=(d.length-1)/2;return w((d[Math.floor(P)]+d[Math.ceil(P)])/2)};case"mode":return function(v,o){for(var d={},S=0,M=y,P=0;P<o.length;P++){var x=f(v[o[P]]);if(x!==y){var E=d[x]=(d[x]||0)+1;E>S&&(S=E,M=x)}}return S?w(M):y};case"rms":return function(v,o){for(var d=0,S=0,M=0;M<o.length;M++){var P=f(v[o[M]]);P!==y&&(d+=P*P,S++)}return S?w(Math.sqrt(d/S)):y};case"stddev":return function(v,o){var d=0,S=0,M=1,P=y,x;for(x=0;x<o.length&&P===y;x++)P=f(v[o[x]]);if(P===y)return y;for(;x<o.length;x++){var E=f(v[o[x]]);if(E!==y){var T=E-P;d+=T,S+=T*T,M++}}var i=c.funcmode==="sample"?M-1:M;return i?Math.sqrt((S-d*d/M)/i):0}}}function l(c,u){return u.length}function a(c,u){return c[u[0]]}function s(c,u){return c[u[u.length-1]]}},14382:function(V,B,e){var p=e(71828),L=e(73972),n=e(89298),C=e(79344).p,y=e(74808),h=y.COMPARISON_OPS,g=y.INTERVAL_OPS,t=y.SET_OPS;B.moduleType="transform",B.name="filter",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(h).concat(g).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},B.supplyDefaults=function(l){var a={};function s(f,w){return p.coerce(l,a,B.attributes,f,w)}var c=s("enabled");if(c){var u=s("target");if(p.isArrayOrTypedArray(u)&&u.length===0)return a.enabled=!1,a;s("preservegaps"),s("operation"),s("value");var b=L.getComponentMethod("calendars","handleDefaults");b(l,a,"valuecalendar",null),b(l,a,"targetcalendar",null)}return a},B.calcTransform=function(l,a,s){if(!s.enabled)return;var c=p.getTargetArray(a,s);if(!c)return;var u=s.target,b=c.length;a._length&&(b=Math.min(b,a._length));var f=s.targetcalendar,w=a._arrayAttrs,v=s.preservegaps;if(typeof u=="string"){var o=p.nestedProperty(a,u+"calendar").get();o&&(f=o)}var d=n.getDataToCoordFunc(l,a,u,c),S=r(s,d,f),M={},P={},x=0;function E(_,H){for(var z=0;z<w.length;z++){var N=p.nestedProperty(a,w[z]);_(N,H)}}var T,i;v?(T=function(_){M[_.astr]=p.extendDeep([],_.get()),_.set(new Array(b))},i=function(_,H){var z=M[_.astr][H];_.get()[H]=z}):(T=function(_){M[_.astr]=p.extendDeep([],_.get()),_.set([])},i=function(_,H){var z=M[_.astr][H];_.get().push(z)}),E(T);for(var R=C(a.transforms,s),A=0;A<b;A++){var k=S(c[A]);k?(E(i,A),P[x++]=R(A)):v&&x++}s._indexToPoints=P,a._length=x};function r(l,a,s){var c=l.operation,u=l.value,b=Array.isArray(u);function f(d){return d.indexOf(c)!==-1}var w=function(d){return a(d,0,l.valuecalendar)},v=function(d){return a(d,0,s)},o;switch(f(h)?o=w(b?u[0]:u):f(g)?o=b?[w(u[0]),w(u[1])]:[w(u),w(u)]:f(t)&&(o=b?u.map(w):[w(u)]),c){case"=":return function(d){return v(d)===o};case"!=":return function(d){return v(d)!==o};case"<":return function(d){return v(d)<o};case"<=":return function(d){return v(d)<=o};case">":return function(d){return v(d)>o};case">=":return function(d){return v(d)>=o};case"[]":return function(d){var S=v(d);return S>=o[0]&&S<=o[1]};case"()":return function(d){var S=v(d);return S>o[0]&&S<o[1]};case"[)":return function(d){var S=v(d);return S>=o[0]&&S<o[1]};case"(]":return function(d){var S=v(d);return S>o[0]&&S<=o[1]};case"][":return function(d){var S=v(d);return S<=o[0]||S>=o[1]};case")(":return function(d){var S=v(d);return S<o[0]||S>o[1]};case"](":return function(d){var S=v(d);return S<=o[0]||S>o[1]};case")[":return function(d){var S=v(d);return S<o[0]||S>=o[1]};case"{}":return function(d){return o.indexOf(v(d))!==-1};case"}{":return function(d){return o.indexOf(v(d))===-1}}}},43102:function(V,B,e){var p=e(71828),L=e(86281),n=e(74875),C=e(79344).p;B.moduleType="transform",B.name="groupby",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},B.supplyDefaults=function(h,g,t){var r,l={};function a(w,v){return p.coerce(h,l,B.attributes,w,v)}var s=a("enabled");if(!s)return l;a("groups"),a("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var c=h.styles,u=l.styles=[];if(c)for(r=0;r<c.length;r++){var b=u[r]={};p.coerce(c[r],u[r],B.attributes.styles,"target");var f=p.coerce(c[r],u[r],B.attributes.styles,"value");p.isPlainObject(f)?b.value=p.extendDeep({},f):f&&delete b.value}return l},B.transform=function(h,g){var t,r,l,a=[];for(r=0;r<h.length;r++)for(t=y(h[r],g),l=0;l<t.length;l++)a.push(t[l]);return a};function y(h,g){var t,r,l,a,s,c,u,b,f,w,v=g.transform,o=g.transformIndex,d=h.transforms[o].groups,S=C(h.transforms,v);if(!p.isArrayOrTypedArray(d)||d.length===0)return[h];var M=p.filterUnique(d),P=new Array(M.length),x=d.length,E=L.findArrayAttributes(h),T=v.styles||[],i={};for(t=0;t<T.length;t++)i[T[t].target]=T[t].value;v.styles&&(w=p.keyedContainer(v,"styles","target","value.name"));var R={},A={};for(t=0;t<M.length;t++){c=M[t],R[c]=t,A[c]=0,u=P[t]=p.extendDeepNoArrays({},h),u._group=c,u.transforms[o]._indexToPoints={};var k=null;for(w&&(k=w.get(c)),k||k===""?u.name=k:u.name=p.templateString(v.nameformat,{trace:h.name,group:c}),b=u.transforms,u.transforms=[],r=0;r<b.length;r++)u.transforms[r]=p.extendDeepNoArrays({},b[r]);for(r=0;r<E.length;r++)p.nestedProperty(u,E[r]).set([])}for(l=0;l<E.length;l++){for(a=E[l],r=0,f=[];r<M.length;r++)f[r]=p.nestedProperty(P[r],a).get();for(s=p.nestedProperty(h,a).get(),r=0;r<x;r++)f[R[d[r]]].push(s[r])}for(r=0;r<x;r++){u=P[R[d[r]]];var _=u.transforms[o]._indexToPoints;_[A[d[r]]]=S(r),A[d[r]]++}for(t=0;t<M.length;t++)c=M[t],u=P[t],n.clearExpandedTraceDefaultColors(u),u=p.extendDeepNoArrays(u,i[c]||{});return P}},79344:function(V,B){B.p=function(e,p){for(var L,n,C=0;C<e.length&&(L=e[C],L!==p);C++)!L._indexToPoints||L.enabled===!1||(n=L._indexToPoints);var y=n?function(h){return n[h]}:function(h){return[h]};return y}},32275:function(V,B,e){var p=e(71828),L=e(89298),n=e(79344).p,C=e(50606).BADNUM;B.moduleType="transform",B.name="sort",B.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},B.supplyDefaults=function(g){var t={};function r(a,s){return p.coerce(g,t,B.attributes,a,s)}var l=r("enabled");return l&&(r("target"),r("order")),t},B.calcTransform=function(g,t,r){if(r.enabled){var l=p.getTargetArray(t,r);if(l){var a=r.target,s=l.length;t._length&&(s=Math.min(s,t._length));var c=t._arrayAttrs,u=L.getDataToCoordFunc(g,t,a,l),b=y(r,l,u,s),f=n(t.transforms,r),w={},v,o;for(v=0;v<c.length;v++){var d=p.nestedProperty(t,c[v]),S=d.get(),M=new Array(s);for(o=0;o<s;o++)M[o]=S[b[o]];d.set(M)}for(o=0;o<s;o++)w[o]=f(b[o]);r._indexToPoints=w,t._length=s}}};function y(g,t,r,l){var a=new Array(l),s=new Array(l),c;for(c=0;c<l;c++)a[c]={v:t[c],i:c};for(a.sort(h(g,r)),c=0;c<l;c++)s[c]=a[c].i;return s}function h(g,t){switch(g.order){case"ascending":return function(r,l){var a=t(r.v),s=t(l.v);return a===C?1:s===C?-1:a-s};case"descending":return function(r,l){var a=t(r.v),s=t(l.v);return a===C?1:s===C?-1:s-a}}}},11506:function(V,B){B.version="2.24.3"},9330:function(V,B,e){var p=e(90386);(function(n,C){V.exports=C()})(self,function(){return function(){var L={7386:function(h,g,t){h.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(h,g,t){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/function r(we,ue){if(!(we instanceof ue))throw new TypeError("Cannot call a class as a function")}function l(we,ue){for(var me=0;me<ue.length;me++){var Re=ue[me];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(we,Re.key,Re)}}function a(we,ue,me){return ue&&l(we.prototype,ue),me&&l(we,me),Object.defineProperty(we,"prototype",{writable:!1}),we}function s(we,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function");we.prototype=Object.create(ue&&ue.prototype,{constructor:{value:we,writable:!0,configurable:!0}}),Object.defineProperty(we,"prototype",{writable:!1}),ue&&c(we,ue)}function c(we,ue){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Re,Ne){return Re.__proto__=Ne,Re},c(we,ue)}function u(we){var ue=w();return function(){var Re=v(we),Ne;if(ue){var it=v(this).constructor;Ne=Reflect.construct(Re,arguments,it)}else Ne=Re.apply(this,arguments);return b(this,Ne)}}function b(we,ue){if(ue&&(o(ue)==="object"||typeof ue=="function"))return ue;if(ue!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(we)}function f(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}function w(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function v(we){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(me){return me.__proto__||Object.getPrototypeOf(me)},v(we)}function o(we){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},o(we)}var d=t(3910),S=t(3187),M=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;g.lW=T,g.h2=50;var P=2147483647;T.TYPED_ARRAY_SUPPORT=x(),!T.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function x(){try{var we=new Uint8Array(1),ue={foo:function(){return 42}};return Object.setPrototypeOf(ue,Uint8Array.prototype),Object.setPrototypeOf(we,ue),we.foo()===42}catch{return!1}}Object.defineProperty(T.prototype,"parent",{enumerable:!0,get:function(){if(T.isBuffer(this))return this.buffer}}),Object.defineProperty(T.prototype,"offset",{enumerable:!0,get:function(){if(T.isBuffer(this))return this.byteOffset}});function E(we){if(we>P)throw new RangeError('The value "'+we+'" is invalid for option "size"');var ue=new Uint8Array(we);return Object.setPrototypeOf(ue,T.prototype),ue}function T(we,ue,me){if(typeof we=="number"){if(typeof ue=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return k(we)}return i(we,ue,me)}T.poolSize=8192;function i(we,ue,me){if(typeof we=="string")return _(we,ue);if(ArrayBuffer.isView(we))return z(we);if(we==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(we));if(je(we,ArrayBuffer)||we&&je(we.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(je(we,SharedArrayBuffer)||we&&je(we.buffer,SharedArrayBuffer)))return N(we,ue,me);if(typeof we=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Re=we.valueOf&&we.valueOf();if(Re!=null&&Re!==we)return T.from(Re,ue,me);var Ne=O(we);if(Ne)return Ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof we[Symbol.toPrimitive]=="function")return T.from(we[Symbol.toPrimitive]("string"),ue,me);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(we))}T.from=function(we,ue,me){return i(we,ue,me)},Object.setPrototypeOf(T.prototype,Uint8Array.prototype),Object.setPrototypeOf(T,Uint8Array);function R(we){if(typeof we!="number")throw new TypeError('"size" argument must be of type number');if(we<0)throw new RangeError('The value "'+we+'" is invalid for option "size"')}function A(we,ue,me){return R(we),we<=0?E(we):ue!==void 0?typeof me=="string"?E(we).fill(ue,me):E(we).fill(ue):E(we)}T.alloc=function(we,ue,me){return A(we,ue,me)};function k(we){return R(we),E(we<0?0:F(we)|0)}T.allocUnsafe=function(we){return k(we)},T.allocUnsafeSlow=function(we){return k(we)};function _(we,ue){if((typeof ue!="string"||ue==="")&&(ue="utf8"),!T.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);var me=U(we,ue)|0,Re=E(me),Ne=Re.write(we,ue);return Ne!==me&&(Re=Re.slice(0,Ne)),Re}function H(we){for(var ue=we.length<0?0:F(we.length)|0,me=E(ue),Re=0;Re<ue;Re+=1)me[Re]=we[Re]&255;return me}function z(we){if(je(we,Uint8Array)){var ue=new Uint8Array(we);return N(ue.buffer,ue.byteOffset,ue.byteLength)}return H(we)}function N(we,ue,me){if(ue<0||we.byteLength<ue)throw new RangeError('"offset" is outside of buffer bounds');if(we.byteLength<ue+(me||0))throw new RangeError('"length" is outside of buffer bounds');var Re;return ue===void 0&&me===void 0?Re=new Uint8Array(we):me===void 0?Re=new Uint8Array(we,ue):Re=new Uint8Array(we,ue,me),Object.setPrototypeOf(Re,T.prototype),Re}function O(we){if(T.isBuffer(we)){var ue=F(we.length)|0,me=E(ue);return me.length===0||we.copy(me,0,0,ue),me}if(we.length!==void 0)return typeof we.length!="number"||_e(we.length)?E(0):H(we);if(we.type==="Buffer"&&Array.isArray(we.data))return H(we.data)}function F(we){if(we>=P)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+P.toString(16)+" bytes");return we|0}T.isBuffer=function(ue){return ue!=null&&ue._isBuffer===!0&&ue!==T.prototype},T.compare=function(ue,me){if(je(ue,Uint8Array)&&(ue=T.from(ue,ue.offset,ue.byteLength)),je(me,Uint8Array)&&(me=T.from(me,me.offset,me.byteLength)),!T.isBuffer(ue)||!T.isBuffer(me))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ue===me)return 0;for(var Re=ue.length,Ne=me.length,it=0,ot=Math.min(Re,Ne);it<ot;++it)if(ue[it]!==me[it]){Re=ue[it],Ne=me[it];break}return Re<Ne?-1:Ne<Re?1:0},T.isEncoding=function(ue){switch(String(ue).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},T.concat=function(ue,me){if(!Array.isArray(ue))throw new TypeError('"list" argument must be an Array of Buffers');if(ue.length===0)return T.alloc(0);var Re;if(me===void 0)for(me=0,Re=0;Re<ue.length;++Re)me+=ue[Re].length;var Ne=T.allocUnsafe(me),it=0;for(Re=0;Re<ue.length;++Re){var ot=ue[Re];if(je(ot,Uint8Array))it+ot.length>Ne.length?(T.isBuffer(ot)||(ot=T.from(ot)),ot.copy(Ne,it)):Uint8Array.prototype.set.call(Ne,ot,it);else if(T.isBuffer(ot))ot.copy(Ne,it);else throw new TypeError('"list" argument must be an Array of Buffers');it+=ot.length}return Ne};function U(we,ue){if(T.isBuffer(we))return we.length;if(ArrayBuffer.isView(we)||je(we,ArrayBuffer))return we.byteLength;if(typeof we!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(we));var me=we.length,Re=arguments.length>2&&arguments[2]===!0;if(!Re&&me===0)return 0;for(var Ne=!1;;)switch(ue){case"ascii":case"latin1":case"binary":return me;case"utf8":case"utf-8":return dt(we).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me*2;case"hex":return me>>>1;case"base64":return Rt(we).length;default:if(Ne)return Re?-1:dt(we).length;ue=(""+ue).toLowerCase(),Ne=!0}}T.byteLength=U;function Z(we,ue,me){var Re=!1;if((ue===void 0||ue<0)&&(ue=0),ue>this.length||((me===void 0||me>this.length)&&(me=this.length),me<=0)||(me>>>=0,ue>>>=0,me<=ue))return"";for(we||(we="utf8");;)switch(we){case"hex":return he(this,ue,me);case"utf8":case"utf-8":return se(this,ue,me);case"ascii":return le(this,ue,me);case"latin1":case"binary":return oe(this,ue,me);case"base64":return re(this,ue,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,ue,me);default:if(Re)throw new TypeError("Unknown encoding: "+we);we=(we+"").toLowerCase(),Re=!0}}T.prototype._isBuffer=!0;function q(we,ue,me){var Re=we[ue];we[ue]=we[me],we[me]=Re}T.prototype.swap16=function(){var ue=this.length;if(ue%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var me=0;me<ue;me+=2)q(this,me,me+1);return this},T.prototype.swap32=function(){var ue=this.length;if(ue%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var me=0;me<ue;me+=4)q(this,me,me+3),q(this,me+1,me+2);return this},T.prototype.swap64=function(){var ue=this.length;if(ue%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var me=0;me<ue;me+=8)q(this,me,me+7),q(this,me+1,me+6),q(this,me+2,me+5),q(this,me+3,me+4);return this},T.prototype.toString=function(){var ue=this.length;return ue===0?"":arguments.length===0?se(this,0,ue):Z.apply(this,arguments)},T.prototype.toLocaleString=T.prototype.toString,T.prototype.equals=function(ue){if(!T.isBuffer(ue))throw new TypeError("Argument must be a Buffer");return this===ue?!0:T.compare(this,ue)===0},T.prototype.inspect=function(){var ue="",me=g.h2;return ue=this.toString("hex",0,me).replace(/(.{2})/g,"$1 ").trim(),this.length>me&&(ue+=" ... "),"<Buffer "+ue+">"},M&&(T.prototype[M]=T.prototype.inspect),T.prototype.compare=function(ue,me,Re,Ne,it){if(je(ue,Uint8Array)&&(ue=T.from(ue,ue.offset,ue.byteLength)),!T.isBuffer(ue))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(ue));if(me===void 0&&(me=0),Re===void 0&&(Re=ue?ue.length:0),Ne===void 0&&(Ne=0),it===void 0&&(it=this.length),me<0||Re>ue.length||Ne<0||it>this.length)throw new RangeError("out of range index");if(Ne>=it&&me>=Re)return 0;if(Ne>=it)return-1;if(me>=Re)return 1;if(me>>>=0,Re>>>=0,Ne>>>=0,it>>>=0,this===ue)return 0;for(var ot=it-Ne,wt=Re-me,Ft=Math.min(ot,wt),Ut=this.slice(Ne,it),Gt=ue.slice(me,Re),Et=0;Et<Ft;++Et)if(Ut[Et]!==Gt[Et]){ot=Ut[Et],wt=Gt[Et];break}return ot<wt?-1:wt<ot?1:0};function J(we,ue,me,Re,Ne){if(we.length===0)return-1;if(typeof me=="string"?(Re=me,me=0):me>2147483647?me=2147483647:me<-2147483648&&(me=-2147483648),me=+me,_e(me)&&(me=Ne?0:we.length-1),me<0&&(me=we.length+me),me>=we.length){if(Ne)return-1;me=we.length-1}else if(me<0)if(Ne)me=0;else return-1;if(typeof ue=="string"&&(ue=T.from(ue,Re)),T.isBuffer(ue))return ue.length===0?-1:te(we,ue,me,Re,Ne);if(typeof ue=="number")return ue=ue&255,typeof Uint8Array.prototype.indexOf=="function"?Ne?Uint8Array.prototype.indexOf.call(we,ue,me):Uint8Array.prototype.lastIndexOf.call(we,ue,me):te(we,[ue],me,Re,Ne);throw new TypeError("val must be string, number or Buffer")}function te(we,ue,me,Re,Ne){var it=1,ot=we.length,wt=ue.length;if(Re!==void 0&&(Re=String(Re).toLowerCase(),Re==="ucs2"||Re==="ucs-2"||Re==="utf16le"||Re==="utf-16le")){if(we.length<2||ue.length<2)return-1;it=2,ot/=2,wt/=2,me/=2}function Ft(lr,Fr){return it===1?lr[Fr]:lr.readUInt16BE(Fr*it)}var Ut;if(Ne){var Gt=-1;for(Ut=me;Ut<ot;Ut++)if(Ft(we,Ut)===Ft(ue,Gt===-1?0:Ut-Gt)){if(Gt===-1&&(Gt=Ut),Ut-Gt+1===wt)return Gt*it}else Gt!==-1&&(Ut-=Ut-Gt),Gt=-1}else for(me+wt>ot&&(me=ot-wt),Ut=me;Ut>=0;Ut--){for(var Et=!0,$t=0;$t<wt;$t++)if(Ft(we,Ut+$t)!==Ft(ue,$t)){Et=!1;break}if(Et)return Ut}return-1}T.prototype.includes=function(ue,me,Re){return this.indexOf(ue,me,Re)!==-1},T.prototype.indexOf=function(ue,me,Re){return J(this,ue,me,Re,!0)},T.prototype.lastIndexOf=function(ue,me,Re){return J(this,ue,me,Re,!1)};function fe(we,ue,me,Re){me=Number(me)||0;var Ne=we.length-me;Re?(Re=Number(Re),Re>Ne&&(Re=Ne)):Re=Ne;var it=ue.length;Re>it/2&&(Re=it/2);var ot;for(ot=0;ot<Re;++ot){var wt=parseInt(ue.substr(ot*2,2),16);if(_e(wt))return ot;we[me+ot]=wt}return ot}function K(we,ue,me,Re){return Wt(dt(ue,we.length-me),we,me,Re)}function Y(we,ue,me,Re){return Wt(gt(ue),we,me,Re)}function W(we,ue,me,Re){return Wt(Rt(ue),we,me,Re)}function X(we,ue,me,Re){return Wt(Mt(ue,we.length-me),we,me,Re)}T.prototype.write=function(ue,me,Re,Ne){if(me===void 0)Ne="utf8",Re=this.length,me=0;else if(Re===void 0&&typeof me=="string")Ne=me,Re=this.length,me=0;else if(isFinite(me))me=me>>>0,isFinite(Re)?(Re=Re>>>0,Ne===void 0&&(Ne="utf8")):(Ne=Re,Re=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var it=this.length-me;if((Re===void 0||Re>it)&&(Re=it),ue.length>0&&(Re<0||me<0)||me>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");for(var ot=!1;;)switch(Ne){case"hex":return fe(this,ue,me,Re);case"utf8":case"utf-8":return K(this,ue,me,Re);case"ascii":case"latin1":case"binary":return Y(this,ue,me,Re);case"base64":return W(this,ue,me,Re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,ue,me,Re);default:if(ot)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),ot=!0}},T.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(we,ue,me){return ue===0&&me===we.length?d.fromByteArray(we):d.fromByteArray(we.slice(ue,me))}function se(we,ue,me){me=Math.min(we.length,me);for(var Re=[],Ne=ue;Ne<me;){var it=we[Ne],ot=null,wt=it>239?4:it>223?3:it>191?2:1;if(Ne+wt<=me){var Ft=void 0,Ut=void 0,Gt=void 0,Et=void 0;switch(wt){case 1:it<128&&(ot=it);break;case 2:Ft=we[Ne+1],(Ft&192)===128&&(Et=(it&31)<<6|Ft&63,Et>127&&(ot=Et));break;case 3:Ft=we[Ne+1],Ut=we[Ne+2],(Ft&192)===128&&(Ut&192)===128&&(Et=(it&15)<<12|(Ft&63)<<6|Ut&63,Et>2047&&(Et<55296||Et>57343)&&(ot=Et));break;case 4:Ft=we[Ne+1],Ut=we[Ne+2],Gt=we[Ne+3],(Ft&192)===128&&(Ut&192)===128&&(Gt&192)===128&&(Et=(it&15)<<18|(Ft&63)<<12|(Ut&63)<<6|Gt&63,Et>65535&&Et<1114112&&(ot=Et))}}ot===null?(ot=65533,wt=1):ot>65535&&(ot-=65536,Re.push(ot>>>10&1023|55296),ot=56320|ot&1023),Re.push(ot),Ne+=wt}return ee(Re)}var Q=4096;function ee(we){var ue=we.length;if(ue<=Q)return String.fromCharCode.apply(String,we);for(var me="",Re=0;Re<ue;)me+=String.fromCharCode.apply(String,we.slice(Re,Re+=Q));return me}function le(we,ue,me){var Re="";me=Math.min(we.length,me);for(var Ne=ue;Ne<me;++Ne)Re+=String.fromCharCode(we[Ne]&127);return Re}function oe(we,ue,me){var Re="";me=Math.min(we.length,me);for(var Ne=ue;Ne<me;++Ne)Re+=String.fromCharCode(we[Ne]);return Re}function he(we,ue,me){var Re=we.length;(!ue||ue<0)&&(ue=0),(!me||me<0||me>Re)&&(me=Re);for(var Ne="",it=ue;it<me;++it)Ne+=Fe[we[it]];return Ne}function xe(we,ue,me){for(var Re=we.slice(ue,me),Ne="",it=0;it<Re.length-1;it+=2)Ne+=String.fromCharCode(Re[it]+Re[it+1]*256);return Ne}T.prototype.slice=function(ue,me){var Re=this.length;ue=~~ue,me=me===void 0?Re:~~me,ue<0?(ue+=Re,ue<0&&(ue=0)):ue>Re&&(ue=Re),me<0?(me+=Re,me<0&&(me=0)):me>Re&&(me=Re),me<ue&&(me=ue);var Ne=this.subarray(ue,me);return Object.setPrototypeOf(Ne,T.prototype),Ne};function Ae(we,ue,me){if(we%1!==0||we<0)throw new RangeError("offset is not uint");if(we+ue>me)throw new RangeError("Trying to access beyond buffer length")}T.prototype.readUintLE=T.prototype.readUIntLE=function(ue,me,Re){ue=ue>>>0,me=me>>>0,Re||Ae(ue,me,this.length);for(var Ne=this[ue],it=1,ot=0;++ot<me&&(it*=256);)Ne+=this[ue+ot]*it;return Ne},T.prototype.readUintBE=T.prototype.readUIntBE=function(ue,me,Re){ue=ue>>>0,me=me>>>0,Re||Ae(ue,me,this.length);for(var Ne=this[ue+--me],it=1;me>0&&(it*=256);)Ne+=this[ue+--me]*it;return Ne},T.prototype.readUint8=T.prototype.readUInt8=function(ue,me){return ue=ue>>>0,me||Ae(ue,1,this.length),this[ue]},T.prototype.readUint16LE=T.prototype.readUInt16LE=function(ue,me){return ue=ue>>>0,me||Ae(ue,2,this.length),this[ue]|this[ue+1]<<8},T.prototype.readUint16BE=T.prototype.readUInt16BE=function(ue,me){return ue=ue>>>0,me||Ae(ue,2,this.length),this[ue]<<8|this[ue+1]},T.prototype.readUint32LE=T.prototype.readUInt32LE=function(ue,me){return ue=ue>>>0,me||Ae(ue,4,this.length),(this[ue]|this[ue+1]<<8|this[ue+2]<<16)+this[ue+3]*16777216},T.prototype.readUint32BE=T.prototype.readUInt32BE=function(ue,me){return ue=ue>>>0,me||Ae(ue,4,this.length),this[ue]*16777216+(this[ue+1]<<16|this[ue+2]<<8|this[ue+3])},T.prototype.readBigUInt64LE=Be(function(ue){ue=ue>>>0,qe(ue,"offset");var me=this[ue],Re=this[ue+7];(me===void 0||Re===void 0)&&Qe(ue,this.length-8);var Ne=me+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,24),it=this[++ue]+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+Re*Math.pow(2,24);return BigInt(Ne)+(BigInt(it)<<BigInt(32))}),T.prototype.readBigUInt64BE=Be(function(ue){ue=ue>>>0,qe(ue,"offset");var me=this[ue],Re=this[ue+7];(me===void 0||Re===void 0)&&Qe(ue,this.length-8);var Ne=me*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+this[++ue],it=this[++ue]*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+Re;return(BigInt(Ne)<<BigInt(32))+BigInt(it)}),T.prototype.readIntLE=function(ue,me,Re){ue=ue>>>0,me=me>>>0,Re||Ae(ue,me,this.length);for(var Ne=this[ue],it=1,ot=0;++ot<me&&(it*=256);)Ne+=this[ue+ot]*it;return it*=128,Ne>=it&&(Ne-=Math.pow(2,8*me)),Ne},T.prototype.readIntBE=function(ue,me,Re){ue=ue>>>0,me=me>>>0,Re||Ae(ue,me,this.length);for(var Ne=me,it=1,ot=this[ue+--Ne];Ne>0&&(it*=256);)ot+=this[ue+--Ne]*it;return it*=128,ot>=it&&(ot-=Math.pow(2,8*me)),ot},T.prototype.readInt8=function(ue,me){return ue=ue>>>0,me||Ae(ue,1,this.length),this[ue]&128?(255-this[ue]+1)*-1:this[ue]},T.prototype.readInt16LE=function(ue,me){ue=ue>>>0,me||Ae(ue,2,this.length);var Re=this[ue]|this[ue+1]<<8;return Re&32768?Re|4294901760:Re},T.prototype.readInt16BE=function(ue,me){ue=ue>>>0,me||Ae(ue,2,this.length);var Re=this[ue+1]|this[ue]<<8;return Re&32768?Re|4294901760:Re},T.prototype.readInt32LE=function(ue,me){return ue=ue>>>0,me||Ae(ue,4,this.length),this[ue]|this[ue+1]<<8|this[ue+2]<<16|this[ue+3]<<24},T.prototype.readInt32BE=function(ue,me){return ue=ue>>>0,me||Ae(ue,4,this.length),this[ue]<<24|this[ue+1]<<16|this[ue+2]<<8|this[ue+3]},T.prototype.readBigInt64LE=Be(function(ue){ue=ue>>>0,qe(ue,"offset");var me=this[ue],Re=this[ue+7];(me===void 0||Re===void 0)&&Qe(ue,this.length-8);var Ne=this[ue+4]+this[ue+5]*Math.pow(2,8)+this[ue+6]*Math.pow(2,16)+(Re<<24);return(BigInt(Ne)<<BigInt(32))+BigInt(me+this[++ue]*Math.pow(2,8)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,24))}),T.prototype.readBigInt64BE=Be(function(ue){ue=ue>>>0,qe(ue,"offset");var me=this[ue],Re=this[ue+7];(me===void 0||Re===void 0)&&Qe(ue,this.length-8);var Ne=(me<<24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+this[++ue];return(BigInt(Ne)<<BigInt(32))+BigInt(this[++ue]*Math.pow(2,24)+this[++ue]*Math.pow(2,16)+this[++ue]*Math.pow(2,8)+Re)}),T.prototype.readFloatLE=function(ue,me){return ue=ue>>>0,me||Ae(ue,4,this.length),S.read(this,ue,!0,23,4)},T.prototype.readFloatBE=function(ue,me){return ue=ue>>>0,me||Ae(ue,4,this.length),S.read(this,ue,!1,23,4)},T.prototype.readDoubleLE=function(ue,me){return ue=ue>>>0,me||Ae(ue,8,this.length),S.read(this,ue,!0,52,8)},T.prototype.readDoubleBE=function(ue,me){return ue=ue>>>0,me||Ae(ue,8,this.length),S.read(this,ue,!1,52,8)};function Se(we,ue,me,Re,Ne,it){if(!T.isBuffer(we))throw new TypeError('"buffer" argument must be a Buffer instance');if(ue>Ne||ue<it)throw new RangeError('"value" argument is out of bounds');if(me+Re>we.length)throw new RangeError("Index out of range")}T.prototype.writeUintLE=T.prototype.writeUIntLE=function(ue,me,Re,Ne){if(ue=+ue,me=me>>>0,Re=Re>>>0,!Ne){var it=Math.pow(2,8*Re)-1;Se(this,ue,me,Re,it,0)}var ot=1,wt=0;for(this[me]=ue&255;++wt<Re&&(ot*=256);)this[me+wt]=ue/ot&255;return me+Re},T.prototype.writeUintBE=T.prototype.writeUIntBE=function(ue,me,Re,Ne){if(ue=+ue,me=me>>>0,Re=Re>>>0,!Ne){var it=Math.pow(2,8*Re)-1;Se(this,ue,me,Re,it,0)}var ot=Re-1,wt=1;for(this[me+ot]=ue&255;--ot>=0&&(wt*=256);)this[me+ot]=ue/wt&255;return me+Re},T.prototype.writeUint8=T.prototype.writeUInt8=function(ue,me,Re){return ue=+ue,me=me>>>0,Re||Se(this,ue,me,1,255,0),this[me]=ue&255,me+1},T.prototype.writeUint16LE=T.prototype.writeUInt16LE=function(ue,me,Re){return ue=+ue,me=me>>>0,Re||Se(this,ue,me,2,65535,0),this[me]=ue&255,this[me+1]=ue>>>8,me+2},T.prototype.writeUint16BE=T.prototype.writeUInt16BE=function(ue,me,Re){return ue=+ue,me=me>>>0,Re||Se(this,ue,me,2,65535,0),this[me]=ue>>>8,this[me+1]=ue&255,me+2},T.prototype.writeUint32LE=T.prototype.writeUInt32LE=function(ue,me,Re){return ue=+ue,me=me>>>0,Re||Se(this,ue,me,4,4294967295,0),this[me+3]=ue>>>24,this[me+2]=ue>>>16,this[me+1]=ue>>>8,this[me]=ue&255,me+4},T.prototype.writeUint32BE=T.prototype.writeUInt32BE=function(ue,me,Re){return ue=+ue,me=me>>>0,Re||Se(this,ue,me,4,4294967295,0),this[me]=ue>>>24,this[me+1]=ue>>>16,this[me+2]=ue>>>8,this[me+3]=ue&255,me+4};function Oe(we,ue,me,Re,Ne){nt(ue,Re,Ne,we,me,7);var it=Number(ue&BigInt(4294967295));we[me++]=it,it=it>>8,we[me++]=it,it=it>>8,we[me++]=it,it=it>>8,we[me++]=it;var ot=Number(ue>>BigInt(32)&BigInt(4294967295));return we[me++]=ot,ot=ot>>8,we[me++]=ot,ot=ot>>8,we[me++]=ot,ot=ot>>8,we[me++]=ot,me}function Ve(we,ue,me,Re,Ne){nt(ue,Re,Ne,we,me,7);var it=Number(ue&BigInt(4294967295));we[me+7]=it,it=it>>8,we[me+6]=it,it=it>>8,we[me+5]=it,it=it>>8,we[me+4]=it;var ot=Number(ue>>BigInt(32)&BigInt(4294967295));return we[me+3]=ot,ot=ot>>8,we[me+2]=ot,ot=ot>>8,we[me+1]=ot,ot=ot>>8,we[me]=ot,me+8}T.prototype.writeBigUInt64LE=Be(function(ue){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,ue,me,BigInt(0),BigInt("0xffffffffffffffff"))}),T.prototype.writeBigUInt64BE=Be(function(ue){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ve(this,ue,me,BigInt(0),BigInt("0xffffffffffffffff"))}),T.prototype.writeIntLE=function(ue,me,Re,Ne){if(ue=+ue,me=me>>>0,!Ne){var it=Math.pow(2,8*Re-1);Se(this,ue,me,Re,it-1,-it)}var ot=0,wt=1,Ft=0;for(this[me]=ue&255;++ot<Re&&(wt*=256);)ue<0&&Ft===0&&this[me+ot-1]!==0&&(Ft=1),this[me+ot]=(ue/wt>>0)-Ft&255;return me+Re},T.prototype.writeIntBE=function(ue,me,Re,Ne){if(ue=+ue,me=me>>>0,!Ne){var it=Math.pow(2,8*Re-1);Se(this,ue,me,Re,it-1,-it)}var ot=Re-1,wt=1,Ft=0;for(this[me+ot]=ue&255;--ot>=0&&(wt*=256);)ue<0&&Ft===0&&this[me+ot+1]!==0&&(Ft=1),this[me+ot]=(ue/wt>>0)-Ft&255;return me+Re},T.prototype.writeInt8=function(ue,me,Re){return ue=+ue,me=me>>>0,Re||Se(this,ue,me,1,127,-128),ue<0&&(ue=255+ue+1),this[me]=ue&255,me+1},T.prototype.writeInt16LE=function(ue,me,Re){return ue=+ue,me=me>>>0,Re||Se(this,ue,me,2,32767,-32768),this[me]=ue&255,this[me+1]=ue>>>8,me+2},T.prototype.writeInt16BE=function(ue,me,Re){return ue=+ue,me=me>>>0,Re||Se(this,ue,me,2,32767,-32768),this[me]=ue>>>8,this[me+1]=ue&255,me+2},T.prototype.writeInt32LE=function(ue,me,Re){return ue=+ue,me=me>>>0,Re||Se(this,ue,me,4,2147483647,-2147483648),this[me]=ue&255,this[me+1]=ue>>>8,this[me+2]=ue>>>16,this[me+3]=ue>>>24,me+4},T.prototype.writeInt32BE=function(ue,me,Re){return ue=+ue,me=me>>>0,Re||Se(this,ue,me,4,2147483647,-2147483648),ue<0&&(ue=4294967295+ue+1),this[me]=ue>>>24,this[me+1]=ue>>>16,this[me+2]=ue>>>8,this[me+3]=ue&255,me+4},T.prototype.writeBigInt64LE=Be(function(ue){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Oe(this,ue,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),T.prototype.writeBigInt64BE=Be(function(ue){var me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Ve(this,ue,me,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ee(we,ue,me,Re,Ne,it){if(me+Re>we.length)throw new RangeError("Index out of range");if(me<0)throw new RangeError("Index out of range")}function Te(we,ue,me,Re,Ne){return ue=+ue,me=me>>>0,Ne||Ee(we,ue,me,4),S.write(we,ue,me,Re,23,4),me+4}T.prototype.writeFloatLE=function(ue,me,Re){return Te(this,ue,me,!0,Re)},T.prototype.writeFloatBE=function(ue,me,Re){return Te(this,ue,me,!1,Re)};function Le(we,ue,me,Re,Ne){return ue=+ue,me=me>>>0,Ne||Ee(we,ue,me,8),S.write(we,ue,me,Re,52,8),me+8}T.prototype.writeDoubleLE=function(ue,me,Re){return Le(this,ue,me,!0,Re)},T.prototype.writeDoubleBE=function(ue,me,Re){return Le(this,ue,me,!1,Re)},T.prototype.copy=function(ue,me,Re,Ne){if(!T.isBuffer(ue))throw new TypeError("argument should be a Buffer");if(Re||(Re=0),!Ne&&Ne!==0&&(Ne=this.length),me>=ue.length&&(me=ue.length),me||(me=0),Ne>0&&Ne<Re&&(Ne=Re),Ne===Re||ue.length===0||this.length===0)return 0;if(me<0)throw new RangeError("targetStart out of bounds");if(Re<0||Re>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),ue.length-me<Ne-Re&&(Ne=ue.length-me+Re);var it=Ne-Re;return this===ue&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(me,Re,Ne):Uint8Array.prototype.set.call(ue,this.subarray(Re,Ne),me),it},T.prototype.fill=function(ue,me,Re,Ne){if(typeof ue=="string"){if(typeof me=="string"?(Ne=me,me=0,Re=this.length):typeof Re=="string"&&(Ne=Re,Re=this.length),Ne!==void 0&&typeof Ne!="string")throw new TypeError("encoding must be a string");if(typeof Ne=="string"&&!T.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(ue.length===1){var it=ue.charCodeAt(0);(Ne==="utf8"&&it<128||Ne==="latin1")&&(ue=it)}}else typeof ue=="number"?ue=ue&255:typeof ue=="boolean"&&(ue=Number(ue));if(me<0||this.length<me||this.length<Re)throw new RangeError("Out of range index");if(Re<=me)return this;me=me>>>0,Re=Re===void 0?this.length:Re>>>0,ue||(ue=0);var ot;if(typeof ue=="number")for(ot=me;ot<Re;++ot)this[ot]=ue;else{var wt=T.isBuffer(ue)?ue:T.from(ue,Ne),Ft=wt.length;if(Ft===0)throw new TypeError('The value "'+ue+'" is invalid for argument "value"');for(ot=0;ot<Re-me;++ot)this[ot+me]=wt[ot%Ft]}return this};var Ge={};function He(we,ue,me){Ge[we]=function(Re){s(it,Re);var Ne=u(it);function it(){var ot;return r(this,it),ot=Ne.call(this),Object.defineProperty(f(ot),"message",{value:ue.apply(f(ot),arguments),writable:!0,configurable:!0}),ot.name="".concat(ot.name," [").concat(we,"]"),ot.stack,delete ot.name,ot}return a(it,[{key:"code",get:function(){return we},set:function(wt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:wt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(we,"]: ").concat(this.message)}}]),it}(me)}He("ERR_BUFFER_OUT_OF_BOUNDS",function(we){return we?"".concat(we," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),He("ERR_INVALID_ARG_TYPE",function(we,ue){return'The "'.concat(we,'" argument must be of type number. Received type ').concat(o(ue))},TypeError),He("ERR_OUT_OF_RANGE",function(we,ue,me){var Re='The value of "'.concat(we,'" is out of range.'),Ne=me;return Number.isInteger(me)&&Math.abs(me)>Math.pow(2,32)?Ne=ke(String(me)):typeof me=="bigint"&&(Ne=String(me),(me>Math.pow(BigInt(2),BigInt(32))||me<-Math.pow(BigInt(2),BigInt(32)))&&(Ne=ke(Ne)),Ne+="n"),Re+=" It must be ".concat(ue,". Received ").concat(Ne),Re},RangeError);function ke(we){for(var ue="",me=we.length,Re=we[0]==="-"?1:0;me>=Re+4;me-=3)ue="_".concat(we.slice(me-3,me)).concat(ue);return"".concat(we.slice(0,me)).concat(ue)}function We(we,ue,me){qe(ue,"offset"),(we[ue]===void 0||we[ue+me]===void 0)&&Qe(ue,we.length-(me+1))}function nt(we,ue,me,Re,Ne,it){if(we>me||we<ue){var ot=typeof ue=="bigint"?"n":"",wt;throw it>3?ue===0||ue===BigInt(0)?wt=">= 0".concat(ot," and < 2").concat(ot," ** ").concat((it+1)*8).concat(ot):wt=">= -(2".concat(ot," ** ").concat((it+1)*8-1).concat(ot,") and < 2 ** ")+"".concat((it+1)*8-1).concat(ot):wt=">= ".concat(ue).concat(ot," and <= ").concat(me).concat(ot),new Ge.ERR_OUT_OF_RANGE("value",wt,we)}We(Re,Ne,it)}function qe(we,ue){if(typeof we!="number")throw new Ge.ERR_INVALID_ARG_TYPE(ue,"number",we)}function Qe(we,ue,me){throw Math.floor(we)!==we?(qe(we,me),new Ge.ERR_OUT_OF_RANGE(me||"offset","an integer",we)):ue<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE(me||"offset",">= ".concat(me?1:0," and <= ").concat(ue),we)}var tt=/[^+/0-9A-Za-z-_]/g;function vt(we){if(we=we.split("=")[0],we=we.trim().replace(tt,""),we.length<2)return"";for(;we.length%4!==0;)we=we+"=";return we}function dt(we,ue){ue=ue||1/0;for(var me,Re=we.length,Ne=null,it=[],ot=0;ot<Re;++ot){if(me=we.charCodeAt(ot),me>55295&&me<57344){if(!Ne){if(me>56319){(ue-=3)>-1&&it.push(239,191,189);continue}else if(ot+1===Re){(ue-=3)>-1&&it.push(239,191,189);continue}Ne=me;continue}if(me<56320){(ue-=3)>-1&&it.push(239,191,189),Ne=me;continue}me=(Ne-55296<<10|me-56320)+65536}else Ne&&(ue-=3)>-1&&it.push(239,191,189);if(Ne=null,me<128){if((ue-=1)<0)break;it.push(me)}else if(me<2048){if((ue-=2)<0)break;it.push(me>>6|192,me&63|128)}else if(me<65536){if((ue-=3)<0)break;it.push(me>>12|224,me>>6&63|128,me&63|128)}else if(me<1114112){if((ue-=4)<0)break;it.push(me>>18|240,me>>12&63|128,me>>6&63|128,me&63|128)}else throw new Error("Invalid code point")}return it}function gt(we){for(var ue=[],me=0;me<we.length;++me)ue.push(we.charCodeAt(me)&255);return ue}function Mt(we,ue){for(var me,Re,Ne,it=[],ot=0;ot<we.length&&!((ue-=2)<0);++ot)me=we.charCodeAt(ot),Re=me>>8,Ne=me%256,it.push(Ne),it.push(Re);return it}function Rt(we){return d.toByteArray(vt(we))}function Wt(we,ue,me,Re){var Ne;for(Ne=0;Ne<Re&&!(Ne+me>=ue.length||Ne>=we.length);++Ne)ue[Ne+me]=we[Ne];return Ne}function je(we,ue){return we instanceof ue||we!=null&&we.constructor!=null&&we.constructor.name!=null&&we.constructor.name===ue.name}function _e(we){return we!==we}var Fe=function(){for(var we="0123456789abcdef",ue=new Array(256),me=0;me<16;++me)for(var Re=me*16,Ne=0;Ne<16;++Ne)ue[Re+Ne]=we[me]+we[Ne];return ue}();function Be(we){return typeof BigInt>"u"?De:we}function De(){throw new Error("BigInt not supported")}},2321:function(h){h.exports=l,h.exports.isMobile=l,h.exports.default=l;var g=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,r=/android|ipad|playbook|silk/i;function l(a){a||(a={});var s=a.ua;if(!s&&typeof navigator<"u"&&(s=navigator.userAgent),s&&s.headers&&typeof s.headers["user-agent"]=="string"&&(s=s.headers["user-agent"]),typeof s!="string")return!1;var c=g.test(s)&&!t.test(s)||!!a.tablet&&r.test(s);return!c&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&s.indexOf("Macintosh")!==-1&&s.indexOf("Safari")!==-1&&(c=!0),c}},3910:function(h,g){g.byteLength=b,g.toByteArray=w,g.fromByteArray=d;for(var t=[],r=[],l=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)t[s]=a[s],r[a.charCodeAt(s)]=s;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63;function u(S){var M=S.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var P=S.indexOf("=");P===-1&&(P=M);var x=P===M?0:4-P%4;return[P,x]}function b(S){var M=u(S),P=M[0],x=M[1];return(P+x)*3/4-x}function f(S,M,P){return(M+P)*3/4-P}function w(S){var M,P=u(S),x=P[0],E=P[1],T=new l(f(S,x,E)),i=0,R=E>0?x-4:x,A;for(A=0;A<R;A+=4)M=r[S.charCodeAt(A)]<<18|r[S.charCodeAt(A+1)]<<12|r[S.charCodeAt(A+2)]<<6|r[S.charCodeAt(A+3)],T[i++]=M>>16&255,T[i++]=M>>8&255,T[i++]=M&255;return E===2&&(M=r[S.charCodeAt(A)]<<2|r[S.charCodeAt(A+1)]>>4,T[i++]=M&255),E===1&&(M=r[S.charCodeAt(A)]<<10|r[S.charCodeAt(A+1)]<<4|r[S.charCodeAt(A+2)]>>2,T[i++]=M>>8&255,T[i++]=M&255),T}function v(S){return t[S>>18&63]+t[S>>12&63]+t[S>>6&63]+t[S&63]}function o(S,M,P){for(var x,E=[],T=M;T<P;T+=3)x=(S[T]<<16&16711680)+(S[T+1]<<8&65280)+(S[T+2]&255),E.push(v(x));return E.join("")}function d(S){for(var M,P=S.length,x=P%3,E=[],T=16383,i=0,R=P-x;i<R;i+=T)E.push(o(S,i,i+T>R?R:i+T));return x===1?(M=S[P-1],E.push(t[M>>2]+t[M<<4&63]+"==")):x===2&&(M=(S[P-2]<<8)+S[P-1],E.push(t[M>>10]+t[M>>4&63]+t[M<<2&63]+"=")),E.join("")}},3187:function(h,g){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */g.read=function(t,r,l,a,s){var c,u,b=s*8-a-1,f=(1<<b)-1,w=f>>1,v=-7,o=l?s-1:0,d=l?-1:1,S=t[r+o];for(o+=d,c=S&(1<<-v)-1,S>>=-v,v+=b;v>0;c=c*256+t[r+o],o+=d,v-=8);for(u=c&(1<<-v)-1,c>>=-v,v+=a;v>0;u=u*256+t[r+o],o+=d,v-=8);if(c===0)c=1-w;else{if(c===f)return u?NaN:(S?-1:1)*(1/0);u=u+Math.pow(2,a),c=c-w}return(S?-1:1)*u*Math.pow(2,c-a)},g.write=function(t,r,l,a,s,c){var u,b,f,w=c*8-s-1,v=(1<<w)-1,o=v>>1,d=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=a?0:c-1,M=a?1:-1,P=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(b=isNaN(r)?1:0,u=v):(u=Math.floor(Math.log(r)/Math.LN2),r*(f=Math.pow(2,-u))<1&&(u--,f*=2),u+o>=1?r+=d/f:r+=d*Math.pow(2,1-o),r*f>=2&&(u++,f/=2),u+o>=v?(b=0,u=v):u+o>=1?(b=(r*f-1)*Math.pow(2,s),u=u+o):(b=r*Math.pow(2,o-1)*Math.pow(2,s),u=0));s>=8;t[l+S]=b&255,S+=M,b/=256,s-=8);for(u=u<<s|b,w+=s;w>0;t[l+S]=u&255,S+=M,u/=256,w-=8);t[l+S-M]|=P*128}},1152:function(h,g,t){h.exports=u;var r=t(3440),l=t(7774),a=t(9298);function s(b,f){this._controllerNames=Object.keys(b),this._controllerList=this._controllerNames.map(function(w){return b[w]}),this._mode=f,this._active=b[f],this._active||(this._mode="turntable",this._active=b.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var c=s.prototype;c.flush=function(b){for(var f=this._controllerList,w=0;w<f.length;++w)f[w].flush(b)},c.idle=function(b){for(var f=this._controllerList,w=0;w<f.length;++w)f[w].idle(b)},c.lookAt=function(b,f,w,v){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].lookAt(b,f,w,v)},c.rotate=function(b,f,w,v){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].rotate(b,f,w,v)},c.pan=function(b,f,w,v){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].pan(b,f,w,v)},c.translate=function(b,f,w,v){for(var o=this._controllerList,d=0;d<o.length;++d)o[d].translate(b,f,w,v)},c.setMatrix=function(b,f){for(var w=this._controllerList,v=0;v<w.length;++v)w[v].setMatrix(b,f)},c.setDistanceLimits=function(b,f){for(var w=this._controllerList,v=0;v<w.length;++v)w[v].setDistanceLimits(b,f)},c.setDistance=function(b,f){for(var w=this._controllerList,v=0;v<w.length;++v)w[v].setDistance(b,f)},c.recalcMatrix=function(b){this._active.recalcMatrix(b)},c.getDistance=function(b){return this._active.getDistance(b)},c.getDistanceLimits=function(b){return this._active.getDistanceLimits(b)},c.lastT=function(){return this._active.lastT()},c.setMode=function(b){if(b!==this._mode){var f=this._controllerNames.indexOf(b);if(!(f<0)){var w=this._active,v=this._controllerList[f],o=Math.max(w.lastT(),v.lastT());w.recalcMatrix(o),v.setMatrix(o,w.computedMatrix),this._active=v,this._mode=b,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},c.getMode=function(){return this._mode};function u(b){b=b||{};var f=b.eye||[0,0,1],w=b.center||[0,0,0],v=b.up||[0,1,0],o=b.distanceLimits||[0,1/0],d=b.mode||"turntable",S=r(),M=l(),P=a();return S.setDistanceLimits(o[0],o[1]),S.lookAt(0,f,w,v),M.setDistanceLimits(o[0],o[1]),M.lookAt(0,f,w,v),P.setDistanceLimits(o[0],o[1]),P.lookAt(0,f,w,v),new s({turntable:S,orbit:M,matrix:P},d)}},8126:function(h,g,t){var r=typeof WeakMap>"u"?t(5346):WeakMap,l=t(5827),a=t(2944),s=new r;function c(u){var b=s.get(u),f=b&&(b._triangleBuffer.handle||b._triangleBuffer.buffer);if(!f||!u.isBuffer(f)){var w=l(u,new Float32Array([-1,-1,-1,4,4,-1]));b=a(u,[{buffer:w,type:u.FLOAT,size:2}]),b._triangleBuffer=w,s.set(u,b)}b.bind(),u.drawArrays(u.TRIANGLES,0,3),b.unbind()}h.exports=c},8008:function(h,g,t){var r=t(4930);h.exports=l;function l(a,s,c){s=typeof s=="number"?s:1,c=c||": ";var u=a.split(/\r?\n/),b=String(u.length+s-1).length;return u.map(function(f,w){var v=w+s,o=String(v).length,d=r(v,b-o);return d+c+f}).join(`
`)}},2153:function(h,g,t){h.exports=a;var r=t(417);function l(s,c){for(var u=new Array(c+1),b=0;b<s.length;++b)u[b]=s[b];for(var b=0;b<=s.length;++b){for(var f=s.length;f<=c;++f){for(var w=new Array(c),v=0;v<c;++v)w[v]=Math.pow(f+1-b,v);u[f]=w}var o=r.apply(void 0,u);if(o)return!0}return!1}function a(s){var c=s.length;if(c===0)return[];if(c===1)return[0];for(var u=s[0].length,b=[s[0]],f=[0],w=1;w<c;++w){if(b.push(s[w]),!l(b,u)){b.pop();continue}if(f.push(w),f.length===u+1)return f}return f}},4653:function(h,g,t){h.exports=a;var r=t(4419),l=t(1778);function a(s,c){return r(c).filter(function(u){for(var b=new Array(u.length),f=0;f<u.length;++f)b[f]=c[u[f]];return l(b)*s<1})}},2350:function(h,g,t){h.exports=a;var r=t(4653),l=t(8691);function a(s,c){return l(r(s,c))}},7896:function(h){h.exports=function(t){return atob(t)}},957:function(h,g,t){h.exports=a;var r=t(6606);function l(s){for(var c=0,u=0;u<s.length;++u)c+=s[u];return c}function a(s,c){for(var u=c.length,b=new Array(u+1),f=0;f<u;++f){for(var w=new Array(u+1),v=0;v<=u;++v)w[v]=s[v][f];b[f]=w}b[u]=new Array(u+1);for(var f=0;f<=u;++f)b[u][f]=1;for(var o=new Array(u+1),f=0;f<u;++f)o[f]=c[f];o[u]=1;var d=r(b,o),S=l(d[u+1]);S===0&&(S=1);for(var M=new Array(u+1),f=0;f<=u;++f)M[f]=l(d[f])/S;return M}},1539:function(h,g,t){var r=t(8524);h.exports=l;function l(a,s){return r(a[0].mul(s[1]).add(s[0].mul(a[1])),a[1].mul(s[1]))}},8846:function(h){h.exports=g;function g(t,r){return t[0].mul(r[1]).cmp(r[0].mul(t[1]))}},9189:function(h,g,t){var r=t(8524);h.exports=l;function l(a,s){return r(a[0].mul(s[1]),a[1].mul(s[0]))}},5125:function(h,g,t){var r=t(234),l=t(3218),a=t(5514),s=t(2813),c=t(8524),u=t(9189);h.exports=b;function b(f,w){if(r(f))return w?u(f,b(w)):[f[0].clone(),f[1].clone()];var v=0,o,d;if(l(f))o=f.clone();else if(typeof f=="string")o=s(f);else{if(f===0)return[a(0),a(1)];if(f===Math.floor(f))o=a(f);else{for(;f!==Math.floor(f);)f=f*Math.pow(2,256),v-=256;o=a(f)}}if(r(w))o.mul(w[1]),d=w[0].clone();else if(l(w))d=w.clone();else if(typeof w=="string")d=s(w);else if(!w)d=a(1);else if(w===Math.floor(w))d=a(w);else{for(;w!==Math.floor(w);)w=w*Math.pow(2,256),v+=256;d=a(w)}return v>0?o=o.ushln(v):v<0&&(d=d.ushln(-v)),c(o,d)}},234:function(h,g,t){var r=t(3218);h.exports=l;function l(a){return Array.isArray(a)&&a.length===2&&r(a[0])&&r(a[1])}},4275:function(h,g,t){var r=t(1928);h.exports=l;function l(a){return a.cmp(new r(0))}},9958:function(h,g,t){var r=t(4275);h.exports=l;function l(a){var s=a.length,c=a.words,u=0;if(s===1)u=c[0];else if(s===2)u=c[0]+c[1]*67108864;else for(var b=0;b<s;b++){var f=c[b];u+=f*Math.pow(67108864,b)}return r(a)*u}},1112:function(h,g,t){var r=t(8362),l=t(2288).countTrailingZeros;h.exports=a;function a(s){var c=l(r.lo(s));if(c<32)return c;var u=l(r.hi(s));return u>20?52:u+32}},3218:function(h,g,t){t(1928),h.exports=r;function r(l){return l&&typeof l=="object"&&!!l.words}},5514:function(h,g,t){var r=t(1928),l=t(8362);h.exports=a;function a(s){var c=l.exponent(s);return c<52?new r(s):new r(s*Math.pow(2,52-c)).ushln(c-52)}},8524:function(h,g,t){var r=t(5514),l=t(4275);h.exports=a;function a(s,c){var u=l(s),b=l(c);if(u===0)return[r(0),r(1)];if(b===0)return[r(0),r(0)];b<0&&(s=s.neg(),c=c.neg());var f=s.gcd(c);return f.cmpn(1)?[s.div(f),c.div(f)]:[s,c]}},2813:function(h,g,t){var r=t(1928);h.exports=l;function l(a){return new r(a)}},3962:function(h,g,t){var r=t(8524);h.exports=l;function l(a,s){return r(a[0].mul(s[0]),a[1].mul(s[1]))}},4951:function(h,g,t){var r=t(4275);h.exports=l;function l(a){return r(a[0])*r(a[1])}},4354:function(h,g,t){var r=t(8524);h.exports=l;function l(a,s){return r(a[0].mul(s[1]).sub(a[1].mul(s[0])),a[1].mul(s[1]))}},7999:function(h,g,t){var r=t(9958),l=t(1112);h.exports=a;function a(s){var c=s[0],u=s[1];if(c.cmpn(0)===0)return 0;var b=c.abs().divmod(u.abs()),f=b.div,w=r(f),v=b.mod,o=c.negative!==u.negative?-1:1;if(v.cmpn(0)===0)return o*w;if(w){var d=l(w)+4,S=r(v.ushln(d).divRound(u));return o*(w+S*Math.pow(2,-d))}else{var M=u.bitLength()-v.bitLength()+53,S=r(v.ushln(M).divRound(u));return M<1023?o*S*Math.pow(2,-M):(S*=Math.pow(2,-1023),o*S*Math.pow(2,1023-M))}}},5070:function(h){function g(c,u,b,f,w){for(var v=w+1;f<=w;){var o=f+w>>>1,d=c[o],S=b!==void 0?b(d,u):d-u;S>=0?(v=o,w=o-1):f=o+1}return v}function t(c,u,b,f,w){for(var v=w+1;f<=w;){var o=f+w>>>1,d=c[o],S=b!==void 0?b(d,u):d-u;S>0?(v=o,w=o-1):f=o+1}return v}function r(c,u,b,f,w){for(var v=f-1;f<=w;){var o=f+w>>>1,d=c[o],S=b!==void 0?b(d,u):d-u;S<0?(v=o,f=o+1):w=o-1}return v}function l(c,u,b,f,w){for(var v=f-1;f<=w;){var o=f+w>>>1,d=c[o],S=b!==void 0?b(d,u):d-u;S<=0?(v=o,f=o+1):w=o-1}return v}function a(c,u,b,f,w){for(;f<=w;){var v=f+w>>>1,o=c[v],d=b!==void 0?b(o,u):o-u;if(d===0)return v;d<=0?f=v+1:w=v-1}return-1}function s(c,u,b,f,w,v){return typeof b=="function"?v(c,u,b,f===void 0?0:f|0,w===void 0?c.length-1:w|0):v(c,u,void 0,b===void 0?0:b|0,f===void 0?c.length-1:f|0)}h.exports={ge:function(c,u,b,f,w){return s(c,u,b,f,w,g)},gt:function(c,u,b,f,w){return s(c,u,b,f,w,t)},lt:function(c,u,b,f,w){return s(c,u,b,f,w,r)},le:function(c,u,b,f,w){return s(c,u,b,f,w,l)},eq:function(c,u,b,f,w){return s(c,u,b,f,w,a)}}},2288:function(h,g){"use restrict";var t=32;g.INT_BITS=t,g.INT_MAX=2147483647,g.INT_MIN=-1<<t-1,g.sign=function(a){return(a>0)-(a<0)},g.abs=function(a){var s=a>>t-1;return(a^s)-s},g.min=function(a,s){return s^(a^s)&-(a<s)},g.max=function(a,s){return a^(a^s)&-(a<s)},g.isPow2=function(a){return!(a&a-1)&&!!a},g.log2=function(a){var s,c;return s=(a>65535)<<4,a>>>=s,c=(a>255)<<3,a>>>=c,s|=c,c=(a>15)<<2,a>>>=c,s|=c,c=(a>3)<<1,a>>>=c,s|=c,s|a>>1},g.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},g.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function r(a){var s=32;return a&=-a,a&&s--,a&65535&&(s-=16),a&16711935&&(s-=8),a&252645135&&(s-=4),a&858993459&&(s-=2),a&1431655765&&(s-=1),s}g.countTrailingZeros=r,g.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},g.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},g.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var l=new Array(256);(function(a){for(var s=0;s<256;++s){var c=s,u=s,b=7;for(c>>>=1;c;c>>>=1)u<<=1,u|=c&1,--b;a[s]=u<<b&255}})(l),g.reverse=function(a){return l[a&255]<<24|l[a>>>8&255]<<16|l[a>>>16&255]<<8|l[a>>>24&255]},g.interleave2=function(a,s){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,a|s<<1},g.deinterleave2=function(a,s){return a=a>>>s&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},g.interleave3=function(a,s,c){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,a|=s<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,a|c<<2},g.deinterleave3=function(a,s){return a=a>>>s&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},g.nextCombination=function(a){var s=a|a-1;return s+1|(~s&-~s)-1>>>r(a)+1}},1928:function(h,g,t){h=t.nmd(h),function(r,l){function a(O,F){if(!O)throw new Error(F||"Assertion failed")}function s(O,F){O.super_=F;var U=function(){};U.prototype=F.prototype,O.prototype=new U,O.prototype.constructor=O}function c(O,F,U){if(c.isBN(O))return O;this.negative=0,this.words=null,this.length=0,this.red=null,O!==null&&((F==="le"||F==="be")&&(U=F,F=10),this._init(O||0,F||10,U||"be"))}typeof r=="object"?r.exports=c:l.BN=c,c.BN=c,c.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=t(6601).Buffer}catch{}c.isBN=function(F){return F instanceof c?!0:F!==null&&typeof F=="object"&&F.constructor.wordSize===c.wordSize&&Array.isArray(F.words)},c.max=function(F,U){return F.cmp(U)>0?F:U},c.min=function(F,U){return F.cmp(U)<0?F:U},c.prototype._init=function(F,U,Z){if(typeof F=="number")return this._initNumber(F,U,Z);if(typeof F=="object")return this._initArray(F,U,Z);U==="hex"&&(U=16),a(U===(U|0)&&U>=2&&U<=36),F=F.toString().replace(/\s+/g,"");var q=0;F[0]==="-"&&(q++,this.negative=1),q<F.length&&(U===16?this._parseHex(F,q,Z):(this._parseBase(F,U,q),Z==="le"&&this._initArray(this.toArray(),U,Z)))},c.prototype._initNumber=function(F,U,Z){F<0&&(this.negative=1,F=-F),F<67108864?(this.words=[F&67108863],this.length=1):F<4503599627370496?(this.words=[F&67108863,F/67108864&67108863],this.length=2):(a(F<9007199254740992),this.words=[F&67108863,F/67108864&67108863,1],this.length=3),Z==="le"&&this._initArray(this.toArray(),U,Z)},c.prototype._initArray=function(F,U,Z){if(a(typeof F.length=="number"),F.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(F.length/3),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var J,te,fe=0;if(Z==="be")for(q=F.length-1,J=0;q>=0;q-=3)te=F[q]|F[q-1]<<8|F[q-2]<<16,this.words[J]|=te<<fe&67108863,this.words[J+1]=te>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,J++);else if(Z==="le")for(q=0,J=0;q<F.length;q+=3)te=F[q]|F[q+1]<<8|F[q+2]<<16,this.words[J]|=te<<fe&67108863,this.words[J+1]=te>>>26-fe&67108863,fe+=24,fe>=26&&(fe-=26,J++);return this.strip()};function b(O,F){var U=O.charCodeAt(F);return U>=65&&U<=70?U-55:U>=97&&U<=102?U-87:U-48&15}function f(O,F,U){var Z=b(O,U);return U-1>=F&&(Z|=b(O,U-1)<<4),Z}c.prototype._parseHex=function(F,U,Z){this.length=Math.ceil((F.length-U)/6),this.words=new Array(this.length);for(var q=0;q<this.length;q++)this.words[q]=0;var J=0,te=0,fe;if(Z==="be")for(q=F.length-1;q>=U;q-=2)fe=f(F,U,q)<<J,this.words[te]|=fe&67108863,J>=18?(J-=18,te+=1,this.words[te]|=fe>>>26):J+=8;else{var K=F.length-U;for(q=K%2===0?U+1:U;q<F.length;q+=2)fe=f(F,U,q)<<J,this.words[te]|=fe&67108863,J>=18?(J-=18,te+=1,this.words[te]|=fe>>>26):J+=8}this.strip()};function w(O,F,U,Z){for(var q=0,J=Math.min(O.length,U),te=F;te<J;te++){var fe=O.charCodeAt(te)-48;q*=Z,fe>=49?q+=fe-49+10:fe>=17?q+=fe-17+10:q+=fe}return q}c.prototype._parseBase=function(F,U,Z){this.words=[0],this.length=1;for(var q=0,J=1;J<=67108863;J*=U)q++;q--,J=J/U|0;for(var te=F.length-Z,fe=te%q,K=Math.min(te,te-fe)+Z,Y=0,W=Z;W<K;W+=q)Y=w(F,W,W+q,U),this.imuln(J),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y);if(fe!==0){var X=1;for(Y=w(F,W,F.length,U),W=0;W<fe;W++)X*=U;this.imuln(X),this.words[0]+Y<67108864?this.words[0]+=Y:this._iaddn(Y)}this.strip()},c.prototype.copy=function(F){F.words=new Array(this.length);for(var U=0;U<this.length;U++)F.words[U]=this.words[U];F.length=this.length,F.negative=this.negative,F.red=this.red},c.prototype.clone=function(){var F=new c(null);return this.copy(F),F},c.prototype._expand=function(F){for(;this.length<F;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],o=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(F,U){F=F||10,U=U|0||1;var Z;if(F===16||F==="hex"){Z="";for(var q=0,J=0,te=0;te<this.length;te++){var fe=this.words[te],K=((fe<<q|J)&16777215).toString(16);J=fe>>>24-q&16777215,J!==0||te!==this.length-1?Z=v[6-K.length]+K+Z:Z=K+Z,q+=2,q>=26&&(q-=26,te--)}for(J!==0&&(Z=J.toString(16)+Z);Z.length%U!==0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}if(F===(F|0)&&F>=2&&F<=36){var Y=o[F],W=d[F];Z="";var X=this.clone();for(X.negative=0;!X.isZero();){var re=X.modn(W).toString(F);X=X.idivn(W),X.isZero()?Z=re+Z:Z=v[Y-re.length]+re+Z}for(this.isZero()&&(Z="0"+Z);Z.length%U!==0;)Z="0"+Z;return this.negative!==0&&(Z="-"+Z),Z}a(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var F=this.words[0];return this.length===2?F+=this.words[1]*67108864:this.length===3&&this.words[2]===1?F+=4503599627370496+this.words[1]*67108864:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-F:F},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(F,U){return a(typeof u<"u"),this.toArrayLike(u,F,U)},c.prototype.toArray=function(F,U){return this.toArrayLike(Array,F,U)},c.prototype.toArrayLike=function(F,U,Z){var q=this.byteLength(),J=Z||Math.max(1,q);a(q<=J,"byte array longer than desired length"),a(J>0,"Requested array length <= 0"),this.strip();var te=U==="le",fe=new F(J),K,Y,W=this.clone();if(te){for(Y=0;!W.isZero();Y++)K=W.andln(255),W.iushrn(8),fe[Y]=K;for(;Y<J;Y++)fe[Y]=0}else{for(Y=0;Y<J-q;Y++)fe[Y]=0;for(Y=0;!W.isZero();Y++)K=W.andln(255),W.iushrn(8),fe[J-Y-1]=K}return fe},Math.clz32?c.prototype._countBits=function(F){return 32-Math.clz32(F)}:c.prototype._countBits=function(F){var U=F,Z=0;return U>=4096&&(Z+=13,U>>>=13),U>=64&&(Z+=7,U>>>=7),U>=8&&(Z+=4,U>>>=4),U>=2&&(Z+=2,U>>>=2),Z+U},c.prototype._zeroBits=function(F){if(F===0)return 26;var U=F,Z=0;return U&8191||(Z+=13,U>>>=13),U&127||(Z+=7,U>>>=7),U&15||(Z+=4,U>>>=4),U&3||(Z+=2,U>>>=2),U&1||Z++,Z},c.prototype.bitLength=function(){var F=this.words[this.length-1],U=this._countBits(F);return(this.length-1)*26+U};function S(O){for(var F=new Array(O.bitLength()),U=0;U<F.length;U++){var Z=U/26|0,q=U%26;F[U]=(O.words[Z]&1<<q)>>>q}return F}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var F=0,U=0;U<this.length;U++){var Z=this._zeroBits(this.words[U]);if(F+=Z,Z!==26)break}return F},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(F){return this.negative!==0?this.abs().inotn(F).iaddn(1):this.clone()},c.prototype.fromTwos=function(F){return this.testn(F-1)?this.notn(F).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(F){for(;this.length<F.length;)this.words[this.length++]=0;for(var U=0;U<F.length;U++)this.words[U]=this.words[U]|F.words[U];return this.strip()},c.prototype.ior=function(F){return a((this.negative|F.negative)===0),this.iuor(F)},c.prototype.or=function(F){return this.length>F.length?this.clone().ior(F):F.clone().ior(this)},c.prototype.uor=function(F){return this.length>F.length?this.clone().iuor(F):F.clone().iuor(this)},c.prototype.iuand=function(F){var U;this.length>F.length?U=F:U=this;for(var Z=0;Z<U.length;Z++)this.words[Z]=this.words[Z]&F.words[Z];return this.length=U.length,this.strip()},c.prototype.iand=function(F){return a((this.negative|F.negative)===0),this.iuand(F)},c.prototype.and=function(F){return this.length>F.length?this.clone().iand(F):F.clone().iand(this)},c.prototype.uand=function(F){return this.length>F.length?this.clone().iuand(F):F.clone().iuand(this)},c.prototype.iuxor=function(F){var U,Z;this.length>F.length?(U=this,Z=F):(U=F,Z=this);for(var q=0;q<Z.length;q++)this.words[q]=U.words[q]^Z.words[q];if(this!==U)for(;q<U.length;q++)this.words[q]=U.words[q];return this.length=U.length,this.strip()},c.prototype.ixor=function(F){return a((this.negative|F.negative)===0),this.iuxor(F)},c.prototype.xor=function(F){return this.length>F.length?this.clone().ixor(F):F.clone().ixor(this)},c.prototype.uxor=function(F){return this.length>F.length?this.clone().iuxor(F):F.clone().iuxor(this)},c.prototype.inotn=function(F){a(typeof F=="number"&&F>=0);var U=Math.ceil(F/26)|0,Z=F%26;this._expand(U),Z>0&&U--;for(var q=0;q<U;q++)this.words[q]=~this.words[q]&67108863;return Z>0&&(this.words[q]=~this.words[q]&67108863>>26-Z),this.strip()},c.prototype.notn=function(F){return this.clone().inotn(F)},c.prototype.setn=function(F,U){a(typeof F=="number"&&F>=0);var Z=F/26|0,q=F%26;return this._expand(Z+1),U?this.words[Z]=this.words[Z]|1<<q:this.words[Z]=this.words[Z]&~(1<<q),this.strip()},c.prototype.iadd=function(F){var U;if(this.negative!==0&&F.negative===0)return this.negative=0,U=this.isub(F),this.negative^=1,this._normSign();if(this.negative===0&&F.negative!==0)return F.negative=0,U=this.isub(F),F.negative=1,U._normSign();var Z,q;this.length>F.length?(Z=this,q=F):(Z=F,q=this);for(var J=0,te=0;te<q.length;te++)U=(Z.words[te]|0)+(q.words[te]|0)+J,this.words[te]=U&67108863,J=U>>>26;for(;J!==0&&te<Z.length;te++)U=(Z.words[te]|0)+J,this.words[te]=U&67108863,J=U>>>26;if(this.length=Z.length,J!==0)this.words[this.length]=J,this.length++;else if(Z!==this)for(;te<Z.length;te++)this.words[te]=Z.words[te];return this},c.prototype.add=function(F){var U;return F.negative!==0&&this.negative===0?(F.negative=0,U=this.sub(F),F.negative^=1,U):F.negative===0&&this.negative!==0?(this.negative=0,U=F.sub(this),this.negative=1,U):this.length>F.length?this.clone().iadd(F):F.clone().iadd(this)},c.prototype.isub=function(F){if(F.negative!==0){F.negative=0;var U=this.iadd(F);return F.negative=1,U._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(F),this.negative=1,this._normSign();var Z=this.cmp(F);if(Z===0)return this.negative=0,this.length=1,this.words[0]=0,this;var q,J;Z>0?(q=this,J=F):(q=F,J=this);for(var te=0,fe=0;fe<J.length;fe++)U=(q.words[fe]|0)-(J.words[fe]|0)+te,te=U>>26,this.words[fe]=U&67108863;for(;te!==0&&fe<q.length;fe++)U=(q.words[fe]|0)+te,te=U>>26,this.words[fe]=U&67108863;if(te===0&&fe<q.length&&q!==this)for(;fe<q.length;fe++)this.words[fe]=q.words[fe];return this.length=Math.max(this.length,fe),q!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(F){return this.clone().isub(F)};function M(O,F,U){U.negative=F.negative^O.negative;var Z=O.length+F.length|0;U.length=Z,Z=Z-1|0;var q=O.words[0]|0,J=F.words[0]|0,te=q*J,fe=te&67108863,K=te/67108864|0;U.words[0]=fe;for(var Y=1;Y<Z;Y++){for(var W=K>>>26,X=K&67108863,re=Math.min(Y,F.length-1),se=Math.max(0,Y-O.length+1);se<=re;se++){var Q=Y-se|0;q=O.words[Q]|0,J=F.words[se]|0,te=q*J+X,W+=te/67108864|0,X=te&67108863}U.words[Y]=X|0,K=W|0}return K!==0?U.words[Y]=K|0:U.length--,U.strip()}var P=function(F,U,Z){var q=F.words,J=U.words,te=Z.words,fe=0,K,Y,W,X=q[0]|0,re=X&8191,se=X>>>13,Q=q[1]|0,ee=Q&8191,le=Q>>>13,oe=q[2]|0,he=oe&8191,xe=oe>>>13,Ae=q[3]|0,Se=Ae&8191,Oe=Ae>>>13,Ve=q[4]|0,Ee=Ve&8191,Te=Ve>>>13,Le=q[5]|0,Ge=Le&8191,He=Le>>>13,ke=q[6]|0,We=ke&8191,nt=ke>>>13,qe=q[7]|0,Qe=qe&8191,tt=qe>>>13,vt=q[8]|0,dt=vt&8191,gt=vt>>>13,Mt=q[9]|0,Rt=Mt&8191,Wt=Mt>>>13,je=J[0]|0,_e=je&8191,Fe=je>>>13,Be=J[1]|0,De=Be&8191,we=Be>>>13,ue=J[2]|0,me=ue&8191,Re=ue>>>13,Ne=J[3]|0,it=Ne&8191,ot=Ne>>>13,wt=J[4]|0,Ft=wt&8191,Ut=wt>>>13,Gt=J[5]|0,Et=Gt&8191,$t=Gt>>>13,lr=J[6]|0,Fr=lr&8191,yt=lr>>>13,Kt=J[7]|0,Zt=Kt&8191,Ar=Kt>>>13,vr=J[8]|0,ut=vr&8191,lt=vr>>>13,xt=J[9]|0,Tt=xt&8191,Ct=xt>>>13;Z.negative=F.negative^U.negative,Z.length=19,K=Math.imul(re,_e),Y=Math.imul(re,Fe),Y=Y+Math.imul(se,_e)|0,W=Math.imul(se,Fe);var At=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(At>>>26)|0,At&=67108863,K=Math.imul(ee,_e),Y=Math.imul(ee,Fe),Y=Y+Math.imul(le,_e)|0,W=Math.imul(le,Fe),K=K+Math.imul(re,De)|0,Y=Y+Math.imul(re,we)|0,Y=Y+Math.imul(se,De)|0,W=W+Math.imul(se,we)|0;var zt=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(zt>>>26)|0,zt&=67108863,K=Math.imul(he,_e),Y=Math.imul(he,Fe),Y=Y+Math.imul(xe,_e)|0,W=Math.imul(xe,Fe),K=K+Math.imul(ee,De)|0,Y=Y+Math.imul(ee,we)|0,Y=Y+Math.imul(le,De)|0,W=W+Math.imul(le,we)|0,K=K+Math.imul(re,me)|0,Y=Y+Math.imul(re,Re)|0,Y=Y+Math.imul(se,me)|0,W=W+Math.imul(se,Re)|0;var Ht=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,K=Math.imul(Se,_e),Y=Math.imul(Se,Fe),Y=Y+Math.imul(Oe,_e)|0,W=Math.imul(Oe,Fe),K=K+Math.imul(he,De)|0,Y=Y+Math.imul(he,we)|0,Y=Y+Math.imul(xe,De)|0,W=W+Math.imul(xe,we)|0,K=K+Math.imul(ee,me)|0,Y=Y+Math.imul(ee,Re)|0,Y=Y+Math.imul(le,me)|0,W=W+Math.imul(le,Re)|0,K=K+Math.imul(re,it)|0,Y=Y+Math.imul(re,ot)|0,Y=Y+Math.imul(se,it)|0,W=W+Math.imul(se,ot)|0;var qt=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(qt>>>26)|0,qt&=67108863,K=Math.imul(Ee,_e),Y=Math.imul(Ee,Fe),Y=Y+Math.imul(Te,_e)|0,W=Math.imul(Te,Fe),K=K+Math.imul(Se,De)|0,Y=Y+Math.imul(Se,we)|0,Y=Y+Math.imul(Oe,De)|0,W=W+Math.imul(Oe,we)|0,K=K+Math.imul(he,me)|0,Y=Y+Math.imul(he,Re)|0,Y=Y+Math.imul(xe,me)|0,W=W+Math.imul(xe,Re)|0,K=K+Math.imul(ee,it)|0,Y=Y+Math.imul(ee,ot)|0,Y=Y+Math.imul(le,it)|0,W=W+Math.imul(le,ot)|0,K=K+Math.imul(re,Ft)|0,Y=Y+Math.imul(re,Ut)|0,Y=Y+Math.imul(se,Ft)|0,W=W+Math.imul(se,Ut)|0;var Qt=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,K=Math.imul(Ge,_e),Y=Math.imul(Ge,Fe),Y=Y+Math.imul(He,_e)|0,W=Math.imul(He,Fe),K=K+Math.imul(Ee,De)|0,Y=Y+Math.imul(Ee,we)|0,Y=Y+Math.imul(Te,De)|0,W=W+Math.imul(Te,we)|0,K=K+Math.imul(Se,me)|0,Y=Y+Math.imul(Se,Re)|0,Y=Y+Math.imul(Oe,me)|0,W=W+Math.imul(Oe,Re)|0,K=K+Math.imul(he,it)|0,Y=Y+Math.imul(he,ot)|0,Y=Y+Math.imul(xe,it)|0,W=W+Math.imul(xe,ot)|0,K=K+Math.imul(ee,Ft)|0,Y=Y+Math.imul(ee,Ut)|0,Y=Y+Math.imul(le,Ft)|0,W=W+Math.imul(le,Ut)|0,K=K+Math.imul(re,Et)|0,Y=Y+Math.imul(re,$t)|0,Y=Y+Math.imul(se,Et)|0,W=W+Math.imul(se,$t)|0;var or=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(or>>>26)|0,or&=67108863,K=Math.imul(We,_e),Y=Math.imul(We,Fe),Y=Y+Math.imul(nt,_e)|0,W=Math.imul(nt,Fe),K=K+Math.imul(Ge,De)|0,Y=Y+Math.imul(Ge,we)|0,Y=Y+Math.imul(He,De)|0,W=W+Math.imul(He,we)|0,K=K+Math.imul(Ee,me)|0,Y=Y+Math.imul(Ee,Re)|0,Y=Y+Math.imul(Te,me)|0,W=W+Math.imul(Te,Re)|0,K=K+Math.imul(Se,it)|0,Y=Y+Math.imul(Se,ot)|0,Y=Y+Math.imul(Oe,it)|0,W=W+Math.imul(Oe,ot)|0,K=K+Math.imul(he,Ft)|0,Y=Y+Math.imul(he,Ut)|0,Y=Y+Math.imul(xe,Ft)|0,W=W+Math.imul(xe,Ut)|0,K=K+Math.imul(ee,Et)|0,Y=Y+Math.imul(ee,$t)|0,Y=Y+Math.imul(le,Et)|0,W=W+Math.imul(le,$t)|0,K=K+Math.imul(re,Fr)|0,Y=Y+Math.imul(re,yt)|0,Y=Y+Math.imul(se,Fr)|0,W=W+Math.imul(se,yt)|0;var Lr=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,K=Math.imul(Qe,_e),Y=Math.imul(Qe,Fe),Y=Y+Math.imul(tt,_e)|0,W=Math.imul(tt,Fe),K=K+Math.imul(We,De)|0,Y=Y+Math.imul(We,we)|0,Y=Y+Math.imul(nt,De)|0,W=W+Math.imul(nt,we)|0,K=K+Math.imul(Ge,me)|0,Y=Y+Math.imul(Ge,Re)|0,Y=Y+Math.imul(He,me)|0,W=W+Math.imul(He,Re)|0,K=K+Math.imul(Ee,it)|0,Y=Y+Math.imul(Ee,ot)|0,Y=Y+Math.imul(Te,it)|0,W=W+Math.imul(Te,ot)|0,K=K+Math.imul(Se,Ft)|0,Y=Y+Math.imul(Se,Ut)|0,Y=Y+Math.imul(Oe,Ft)|0,W=W+Math.imul(Oe,Ut)|0,K=K+Math.imul(he,Et)|0,Y=Y+Math.imul(he,$t)|0,Y=Y+Math.imul(xe,Et)|0,W=W+Math.imul(xe,$t)|0,K=K+Math.imul(ee,Fr)|0,Y=Y+Math.imul(ee,yt)|0,Y=Y+Math.imul(le,Fr)|0,W=W+Math.imul(le,yt)|0,K=K+Math.imul(re,Zt)|0,Y=Y+Math.imul(re,Ar)|0,Y=Y+Math.imul(se,Zt)|0,W=W+Math.imul(se,Ar)|0;var Ze=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,K=Math.imul(dt,_e),Y=Math.imul(dt,Fe),Y=Y+Math.imul(gt,_e)|0,W=Math.imul(gt,Fe),K=K+Math.imul(Qe,De)|0,Y=Y+Math.imul(Qe,we)|0,Y=Y+Math.imul(tt,De)|0,W=W+Math.imul(tt,we)|0,K=K+Math.imul(We,me)|0,Y=Y+Math.imul(We,Re)|0,Y=Y+Math.imul(nt,me)|0,W=W+Math.imul(nt,Re)|0,K=K+Math.imul(Ge,it)|0,Y=Y+Math.imul(Ge,ot)|0,Y=Y+Math.imul(He,it)|0,W=W+Math.imul(He,ot)|0,K=K+Math.imul(Ee,Ft)|0,Y=Y+Math.imul(Ee,Ut)|0,Y=Y+Math.imul(Te,Ft)|0,W=W+Math.imul(Te,Ut)|0,K=K+Math.imul(Se,Et)|0,Y=Y+Math.imul(Se,$t)|0,Y=Y+Math.imul(Oe,Et)|0,W=W+Math.imul(Oe,$t)|0,K=K+Math.imul(he,Fr)|0,Y=Y+Math.imul(he,yt)|0,Y=Y+Math.imul(xe,Fr)|0,W=W+Math.imul(xe,yt)|0,K=K+Math.imul(ee,Zt)|0,Y=Y+Math.imul(ee,Ar)|0,Y=Y+Math.imul(le,Zt)|0,W=W+Math.imul(le,Ar)|0,K=K+Math.imul(re,ut)|0,Y=Y+Math.imul(re,lt)|0,Y=Y+Math.imul(se,ut)|0,W=W+Math.imul(se,lt)|0;var Ye=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,K=Math.imul(Rt,_e),Y=Math.imul(Rt,Fe),Y=Y+Math.imul(Wt,_e)|0,W=Math.imul(Wt,Fe),K=K+Math.imul(dt,De)|0,Y=Y+Math.imul(dt,we)|0,Y=Y+Math.imul(gt,De)|0,W=W+Math.imul(gt,we)|0,K=K+Math.imul(Qe,me)|0,Y=Y+Math.imul(Qe,Re)|0,Y=Y+Math.imul(tt,me)|0,W=W+Math.imul(tt,Re)|0,K=K+Math.imul(We,it)|0,Y=Y+Math.imul(We,ot)|0,Y=Y+Math.imul(nt,it)|0,W=W+Math.imul(nt,ot)|0,K=K+Math.imul(Ge,Ft)|0,Y=Y+Math.imul(Ge,Ut)|0,Y=Y+Math.imul(He,Ft)|0,W=W+Math.imul(He,Ut)|0,K=K+Math.imul(Ee,Et)|0,Y=Y+Math.imul(Ee,$t)|0,Y=Y+Math.imul(Te,Et)|0,W=W+Math.imul(Te,$t)|0,K=K+Math.imul(Se,Fr)|0,Y=Y+Math.imul(Se,yt)|0,Y=Y+Math.imul(Oe,Fr)|0,W=W+Math.imul(Oe,yt)|0,K=K+Math.imul(he,Zt)|0,Y=Y+Math.imul(he,Ar)|0,Y=Y+Math.imul(xe,Zt)|0,W=W+Math.imul(xe,Ar)|0,K=K+Math.imul(ee,ut)|0,Y=Y+Math.imul(ee,lt)|0,Y=Y+Math.imul(le,ut)|0,W=W+Math.imul(le,lt)|0,K=K+Math.imul(re,Tt)|0,Y=Y+Math.imul(re,Ct)|0,Y=Y+Math.imul(se,Tt)|0,W=W+Math.imul(se,Ct)|0;var It=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(It>>>26)|0,It&=67108863,K=Math.imul(Rt,De),Y=Math.imul(Rt,we),Y=Y+Math.imul(Wt,De)|0,W=Math.imul(Wt,we),K=K+Math.imul(dt,me)|0,Y=Y+Math.imul(dt,Re)|0,Y=Y+Math.imul(gt,me)|0,W=W+Math.imul(gt,Re)|0,K=K+Math.imul(Qe,it)|0,Y=Y+Math.imul(Qe,ot)|0,Y=Y+Math.imul(tt,it)|0,W=W+Math.imul(tt,ot)|0,K=K+Math.imul(We,Ft)|0,Y=Y+Math.imul(We,Ut)|0,Y=Y+Math.imul(nt,Ft)|0,W=W+Math.imul(nt,Ut)|0,K=K+Math.imul(Ge,Et)|0,Y=Y+Math.imul(Ge,$t)|0,Y=Y+Math.imul(He,Et)|0,W=W+Math.imul(He,$t)|0,K=K+Math.imul(Ee,Fr)|0,Y=Y+Math.imul(Ee,yt)|0,Y=Y+Math.imul(Te,Fr)|0,W=W+Math.imul(Te,yt)|0,K=K+Math.imul(Se,Zt)|0,Y=Y+Math.imul(Se,Ar)|0,Y=Y+Math.imul(Oe,Zt)|0,W=W+Math.imul(Oe,Ar)|0,K=K+Math.imul(he,ut)|0,Y=Y+Math.imul(he,lt)|0,Y=Y+Math.imul(xe,ut)|0,W=W+Math.imul(xe,lt)|0,K=K+Math.imul(ee,Tt)|0,Y=Y+Math.imul(ee,Ct)|0,Y=Y+Math.imul(le,Tt)|0,W=W+Math.imul(le,Ct)|0;var kt=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(kt>>>26)|0,kt&=67108863,K=Math.imul(Rt,me),Y=Math.imul(Rt,Re),Y=Y+Math.imul(Wt,me)|0,W=Math.imul(Wt,Re),K=K+Math.imul(dt,it)|0,Y=Y+Math.imul(dt,ot)|0,Y=Y+Math.imul(gt,it)|0,W=W+Math.imul(gt,ot)|0,K=K+Math.imul(Qe,Ft)|0,Y=Y+Math.imul(Qe,Ut)|0,Y=Y+Math.imul(tt,Ft)|0,W=W+Math.imul(tt,Ut)|0,K=K+Math.imul(We,Et)|0,Y=Y+Math.imul(We,$t)|0,Y=Y+Math.imul(nt,Et)|0,W=W+Math.imul(nt,$t)|0,K=K+Math.imul(Ge,Fr)|0,Y=Y+Math.imul(Ge,yt)|0,Y=Y+Math.imul(He,Fr)|0,W=W+Math.imul(He,yt)|0,K=K+Math.imul(Ee,Zt)|0,Y=Y+Math.imul(Ee,Ar)|0,Y=Y+Math.imul(Te,Zt)|0,W=W+Math.imul(Te,Ar)|0,K=K+Math.imul(Se,ut)|0,Y=Y+Math.imul(Se,lt)|0,Y=Y+Math.imul(Oe,ut)|0,W=W+Math.imul(Oe,lt)|0,K=K+Math.imul(he,Tt)|0,Y=Y+Math.imul(he,Ct)|0,Y=Y+Math.imul(xe,Tt)|0,W=W+Math.imul(xe,Ct)|0;var Xt=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,K=Math.imul(Rt,it),Y=Math.imul(Rt,ot),Y=Y+Math.imul(Wt,it)|0,W=Math.imul(Wt,ot),K=K+Math.imul(dt,Ft)|0,Y=Y+Math.imul(dt,Ut)|0,Y=Y+Math.imul(gt,Ft)|0,W=W+Math.imul(gt,Ut)|0,K=K+Math.imul(Qe,Et)|0,Y=Y+Math.imul(Qe,$t)|0,Y=Y+Math.imul(tt,Et)|0,W=W+Math.imul(tt,$t)|0,K=K+Math.imul(We,Fr)|0,Y=Y+Math.imul(We,yt)|0,Y=Y+Math.imul(nt,Fr)|0,W=W+Math.imul(nt,yt)|0,K=K+Math.imul(Ge,Zt)|0,Y=Y+Math.imul(Ge,Ar)|0,Y=Y+Math.imul(He,Zt)|0,W=W+Math.imul(He,Ar)|0,K=K+Math.imul(Ee,ut)|0,Y=Y+Math.imul(Ee,lt)|0,Y=Y+Math.imul(Te,ut)|0,W=W+Math.imul(Te,lt)|0,K=K+Math.imul(Se,Tt)|0,Y=Y+Math.imul(Se,Ct)|0,Y=Y+Math.imul(Oe,Tt)|0,W=W+Math.imul(Oe,Ct)|0;var ir=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(ir>>>26)|0,ir&=67108863,K=Math.imul(Rt,Ft),Y=Math.imul(Rt,Ut),Y=Y+Math.imul(Wt,Ft)|0,W=Math.imul(Wt,Ut),K=K+Math.imul(dt,Et)|0,Y=Y+Math.imul(dt,$t)|0,Y=Y+Math.imul(gt,Et)|0,W=W+Math.imul(gt,$t)|0,K=K+Math.imul(Qe,Fr)|0,Y=Y+Math.imul(Qe,yt)|0,Y=Y+Math.imul(tt,Fr)|0,W=W+Math.imul(tt,yt)|0,K=K+Math.imul(We,Zt)|0,Y=Y+Math.imul(We,Ar)|0,Y=Y+Math.imul(nt,Zt)|0,W=W+Math.imul(nt,Ar)|0,K=K+Math.imul(Ge,ut)|0,Y=Y+Math.imul(Ge,lt)|0,Y=Y+Math.imul(He,ut)|0,W=W+Math.imul(He,lt)|0,K=K+Math.imul(Ee,Tt)|0,Y=Y+Math.imul(Ee,Ct)|0,Y=Y+Math.imul(Te,Tt)|0,W=W+Math.imul(Te,Ct)|0;var ur=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(ur>>>26)|0,ur&=67108863,K=Math.imul(Rt,Et),Y=Math.imul(Rt,$t),Y=Y+Math.imul(Wt,Et)|0,W=Math.imul(Wt,$t),K=K+Math.imul(dt,Fr)|0,Y=Y+Math.imul(dt,yt)|0,Y=Y+Math.imul(gt,Fr)|0,W=W+Math.imul(gt,yt)|0,K=K+Math.imul(Qe,Zt)|0,Y=Y+Math.imul(Qe,Ar)|0,Y=Y+Math.imul(tt,Zt)|0,W=W+Math.imul(tt,Ar)|0,K=K+Math.imul(We,ut)|0,Y=Y+Math.imul(We,lt)|0,Y=Y+Math.imul(nt,ut)|0,W=W+Math.imul(nt,lt)|0,K=K+Math.imul(Ge,Tt)|0,Y=Y+Math.imul(Ge,Ct)|0,Y=Y+Math.imul(He,Tt)|0,W=W+Math.imul(He,Ct)|0;var nr=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(nr>>>26)|0,nr&=67108863,K=Math.imul(Rt,Fr),Y=Math.imul(Rt,yt),Y=Y+Math.imul(Wt,Fr)|0,W=Math.imul(Wt,yt),K=K+Math.imul(dt,Zt)|0,Y=Y+Math.imul(dt,Ar)|0,Y=Y+Math.imul(gt,Zt)|0,W=W+Math.imul(gt,Ar)|0,K=K+Math.imul(Qe,ut)|0,Y=Y+Math.imul(Qe,lt)|0,Y=Y+Math.imul(tt,ut)|0,W=W+Math.imul(tt,lt)|0,K=K+Math.imul(We,Tt)|0,Y=Y+Math.imul(We,Ct)|0,Y=Y+Math.imul(nt,Tt)|0,W=W+Math.imul(nt,Ct)|0;var Nt=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,K=Math.imul(Rt,Zt),Y=Math.imul(Rt,Ar),Y=Y+Math.imul(Wt,Zt)|0,W=Math.imul(Wt,Ar),K=K+Math.imul(dt,ut)|0,Y=Y+Math.imul(dt,lt)|0,Y=Y+Math.imul(gt,ut)|0,W=W+Math.imul(gt,lt)|0,K=K+Math.imul(Qe,Tt)|0,Y=Y+Math.imul(Qe,Ct)|0,Y=Y+Math.imul(tt,Tt)|0,W=W+Math.imul(tt,Ct)|0;var hr=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(hr>>>26)|0,hr&=67108863,K=Math.imul(Rt,ut),Y=Math.imul(Rt,lt),Y=Y+Math.imul(Wt,ut)|0,W=Math.imul(Wt,lt),K=K+Math.imul(dt,Tt)|0,Y=Y+Math.imul(dt,Ct)|0,Y=Y+Math.imul(gt,Tt)|0,W=W+Math.imul(gt,Ct)|0;var pr=(fe+K|0)+((Y&8191)<<13)|0;fe=(W+(Y>>>13)|0)+(pr>>>26)|0,pr&=67108863,K=Math.imul(Rt,Tt),Y=Math.imul(Rt,Ct),Y=Y+Math.imul(Wt,Tt)|0,W=Math.imul(Wt,Ct);var gr=(fe+K|0)+((Y&8191)<<13)|0;return fe=(W+(Y>>>13)|0)+(gr>>>26)|0,gr&=67108863,te[0]=At,te[1]=zt,te[2]=Ht,te[3]=qt,te[4]=Qt,te[5]=or,te[6]=Lr,te[7]=Ze,te[8]=Ye,te[9]=It,te[10]=kt,te[11]=Xt,te[12]=ir,te[13]=ur,te[14]=nr,te[15]=Nt,te[16]=hr,te[17]=pr,te[18]=gr,fe!==0&&(te[19]=fe,Z.length++),Z};Math.imul||(P=M);function x(O,F,U){U.negative=F.negative^O.negative,U.length=O.length+F.length;for(var Z=0,q=0,J=0;J<U.length-1;J++){var te=q;q=0;for(var fe=Z&67108863,K=Math.min(J,F.length-1),Y=Math.max(0,J-O.length+1);Y<=K;Y++){var W=J-Y,X=O.words[W]|0,re=F.words[Y]|0,se=X*re,Q=se&67108863;te=te+(se/67108864|0)|0,Q=Q+fe|0,fe=Q&67108863,te=te+(Q>>>26)|0,q+=te>>>26,te&=67108863}U.words[J]=fe,Z=te,te=q}return Z!==0?U.words[J]=Z:U.length--,U.strip()}function E(O,F,U){var Z=new T;return Z.mulp(O,F,U)}c.prototype.mulTo=function(F,U){var Z,q=this.length+F.length;return this.length===10&&F.length===10?Z=P(this,F,U):q<63?Z=M(this,F,U):q<1024?Z=x(this,F,U):Z=E(this,F,U),Z};function T(O,F){this.x=O,this.y=F}T.prototype.makeRBT=function(F){for(var U=new Array(F),Z=c.prototype._countBits(F)-1,q=0;q<F;q++)U[q]=this.revBin(q,Z,F);return U},T.prototype.revBin=function(F,U,Z){if(F===0||F===Z-1)return F;for(var q=0,J=0;J<U;J++)q|=(F&1)<<U-J-1,F>>=1;return q},T.prototype.permute=function(F,U,Z,q,J,te){for(var fe=0;fe<te;fe++)q[fe]=U[F[fe]],J[fe]=Z[F[fe]]},T.prototype.transform=function(F,U,Z,q,J,te){this.permute(te,F,U,Z,q,J);for(var fe=1;fe<J;fe<<=1)for(var K=fe<<1,Y=Math.cos(2*Math.PI/K),W=Math.sin(2*Math.PI/K),X=0;X<J;X+=K)for(var re=Y,se=W,Q=0;Q<fe;Q++){var ee=Z[X+Q],le=q[X+Q],oe=Z[X+Q+fe],he=q[X+Q+fe],xe=re*oe-se*he;he=re*he+se*oe,oe=xe,Z[X+Q]=ee+oe,q[X+Q]=le+he,Z[X+Q+fe]=ee-oe,q[X+Q+fe]=le-he,Q!==K&&(xe=Y*re-W*se,se=Y*se+W*re,re=xe)}},T.prototype.guessLen13b=function(F,U){var Z=Math.max(U,F)|1,q=Z&1,J=0;for(Z=Z/2|0;Z;Z=Z>>>1)J++;return 1<<J+1+q},T.prototype.conjugate=function(F,U,Z){if(!(Z<=1))for(var q=0;q<Z/2;q++){var J=F[q];F[q]=F[Z-q-1],F[Z-q-1]=J,J=U[q],U[q]=-U[Z-q-1],U[Z-q-1]=-J}},T.prototype.normalize13b=function(F,U){for(var Z=0,q=0;q<U/2;q++){var J=Math.round(F[2*q+1]/U)*8192+Math.round(F[2*q]/U)+Z;F[q]=J&67108863,J<67108864?Z=0:Z=J/67108864|0}return F},T.prototype.convert13b=function(F,U,Z,q){for(var J=0,te=0;te<U;te++)J=J+(F[te]|0),Z[2*te]=J&8191,J=J>>>13,Z[2*te+1]=J&8191,J=J>>>13;for(te=2*U;te<q;++te)Z[te]=0;a(J===0),a((J&-8192)===0)},T.prototype.stub=function(F){for(var U=new Array(F),Z=0;Z<F;Z++)U[Z]=0;return U},T.prototype.mulp=function(F,U,Z){var q=2*this.guessLen13b(F.length,U.length),J=this.makeRBT(q),te=this.stub(q),fe=new Array(q),K=new Array(q),Y=new Array(q),W=new Array(q),X=new Array(q),re=new Array(q),se=Z.words;se.length=q,this.convert13b(F.words,F.length,fe,q),this.convert13b(U.words,U.length,W,q),this.transform(fe,te,K,Y,q,J),this.transform(W,te,X,re,q,J);for(var Q=0;Q<q;Q++){var ee=K[Q]*X[Q]-Y[Q]*re[Q];Y[Q]=K[Q]*re[Q]+Y[Q]*X[Q],K[Q]=ee}return this.conjugate(K,Y,q),this.transform(K,Y,se,te,q,J),this.conjugate(se,te,q),this.normalize13b(se,q),Z.negative=F.negative^U.negative,Z.length=F.length+U.length,Z.strip()},c.prototype.mul=function(F){var U=new c(null);return U.words=new Array(this.length+F.length),this.mulTo(F,U)},c.prototype.mulf=function(F){var U=new c(null);return U.words=new Array(this.length+F.length),E(this,F,U)},c.prototype.imul=function(F){return this.clone().mulTo(F,this)},c.prototype.imuln=function(F){a(typeof F=="number"),a(F<67108864);for(var U=0,Z=0;Z<this.length;Z++){var q=(this.words[Z]|0)*F,J=(q&67108863)+(U&67108863);U>>=26,U+=q/67108864|0,U+=J>>>26,this.words[Z]=J&67108863}return U!==0&&(this.words[Z]=U,this.length++),this},c.prototype.muln=function(F){return this.clone().imuln(F)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(F){var U=S(F);if(U.length===0)return new c(1);for(var Z=this,q=0;q<U.length&&U[q]===0;q++,Z=Z.sqr());if(++q<U.length)for(var J=Z.sqr();q<U.length;q++,J=J.sqr())U[q]!==0&&(Z=Z.mul(J));return Z},c.prototype.iushln=function(F){a(typeof F=="number"&&F>=0);var U=F%26,Z=(F-U)/26,q=67108863>>>26-U<<26-U,J;if(U!==0){var te=0;for(J=0;J<this.length;J++){var fe=this.words[J]&q,K=(this.words[J]|0)-fe<<U;this.words[J]=K|te,te=fe>>>26-U}te&&(this.words[J]=te,this.length++)}if(Z!==0){for(J=this.length-1;J>=0;J--)this.words[J+Z]=this.words[J];for(J=0;J<Z;J++)this.words[J]=0;this.length+=Z}return this.strip()},c.prototype.ishln=function(F){return a(this.negative===0),this.iushln(F)},c.prototype.iushrn=function(F,U,Z){a(typeof F=="number"&&F>=0);var q;U?q=(U-U%26)/26:q=0;var J=F%26,te=Math.min((F-J)/26,this.length),fe=67108863^67108863>>>J<<J,K=Z;if(q-=te,q=Math.max(0,q),K){for(var Y=0;Y<te;Y++)K.words[Y]=this.words[Y];K.length=te}if(te!==0)if(this.length>te)for(this.length-=te,Y=0;Y<this.length;Y++)this.words[Y]=this.words[Y+te];else this.words[0]=0,this.length=1;var W=0;for(Y=this.length-1;Y>=0&&(W!==0||Y>=q);Y--){var X=this.words[Y]|0;this.words[Y]=W<<26-J|X>>>J,W=X&fe}return K&&W!==0&&(K.words[K.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(F,U,Z){return a(this.negative===0),this.iushrn(F,U,Z)},c.prototype.shln=function(F){return this.clone().ishln(F)},c.prototype.ushln=function(F){return this.clone().iushln(F)},c.prototype.shrn=function(F){return this.clone().ishrn(F)},c.prototype.ushrn=function(F){return this.clone().iushrn(F)},c.prototype.testn=function(F){a(typeof F=="number"&&F>=0);var U=F%26,Z=(F-U)/26,q=1<<U;if(this.length<=Z)return!1;var J=this.words[Z];return!!(J&q)},c.prototype.imaskn=function(F){a(typeof F=="number"&&F>=0);var U=F%26,Z=(F-U)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=Z)return this;if(U!==0&&Z++,this.length=Math.min(Z,this.length),U!==0){var q=67108863^67108863>>>U<<U;this.words[this.length-1]&=q}return this.strip()},c.prototype.maskn=function(F){return this.clone().imaskn(F)},c.prototype.iaddn=function(F){return a(typeof F=="number"),a(F<67108864),F<0?this.isubn(-F):this.negative!==0?this.length===1&&(this.words[0]|0)<F?(this.words[0]=F-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(F),this.negative=1,this):this._iaddn(F)},c.prototype._iaddn=function(F){this.words[0]+=F;for(var U=0;U<this.length&&this.words[U]>=67108864;U++)this.words[U]-=67108864,U===this.length-1?this.words[U+1]=1:this.words[U+1]++;return this.length=Math.max(this.length,U+1),this},c.prototype.isubn=function(F){if(a(typeof F=="number"),a(F<67108864),F<0)return this.iaddn(-F);if(this.negative!==0)return this.negative=0,this.iaddn(F),this.negative=1,this;if(this.words[0]-=F,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var U=0;U<this.length&&this.words[U]<0;U++)this.words[U]+=67108864,this.words[U+1]-=1;return this.strip()},c.prototype.addn=function(F){return this.clone().iaddn(F)},c.prototype.subn=function(F){return this.clone().isubn(F)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(F,U,Z){var q=F.length+Z,J;this._expand(q);var te,fe=0;for(J=0;J<F.length;J++){te=(this.words[J+Z]|0)+fe;var K=(F.words[J]|0)*U;te-=K&67108863,fe=(te>>26)-(K/67108864|0),this.words[J+Z]=te&67108863}for(;J<this.length-Z;J++)te=(this.words[J+Z]|0)+fe,fe=te>>26,this.words[J+Z]=te&67108863;if(fe===0)return this.strip();for(a(fe===-1),fe=0,J=0;J<this.length;J++)te=-(this.words[J]|0)+fe,fe=te>>26,this.words[J]=te&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(F,U){var Z=this.length-F.length,q=this.clone(),J=F,te=J.words[J.length-1]|0,fe=this._countBits(te);Z=26-fe,Z!==0&&(J=J.ushln(Z),q.iushln(Z),te=J.words[J.length-1]|0);var K=q.length-J.length,Y;if(U!=="mod"){Y=new c(null),Y.length=K+1,Y.words=new Array(Y.length);for(var W=0;W<Y.length;W++)Y.words[W]=0}var X=q.clone()._ishlnsubmul(J,1,K);X.negative===0&&(q=X,Y&&(Y.words[K]=1));for(var re=K-1;re>=0;re--){var se=(q.words[J.length+re]|0)*67108864+(q.words[J.length+re-1]|0);for(se=Math.min(se/te|0,67108863),q._ishlnsubmul(J,se,re);q.negative!==0;)se--,q.negative=0,q._ishlnsubmul(J,1,re),q.isZero()||(q.negative^=1);Y&&(Y.words[re]=se)}return Y&&Y.strip(),q.strip(),U!=="div"&&Z!==0&&q.iushrn(Z),{div:Y||null,mod:q}},c.prototype.divmod=function(F,U,Z){if(a(!F.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var q,J,te;return this.negative!==0&&F.negative===0?(te=this.neg().divmod(F,U),U!=="mod"&&(q=te.div.neg()),U!=="div"&&(J=te.mod.neg(),Z&&J.negative!==0&&J.iadd(F)),{div:q,mod:J}):this.negative===0&&F.negative!==0?(te=this.divmod(F.neg(),U),U!=="mod"&&(q=te.div.neg()),{div:q,mod:te.mod}):this.negative&F.negative?(te=this.neg().divmod(F.neg(),U),U!=="div"&&(J=te.mod.neg(),Z&&J.negative!==0&&J.isub(F)),{div:te.div,mod:J}):F.length>this.length||this.cmp(F)<0?{div:new c(0),mod:this}:F.length===1?U==="div"?{div:this.divn(F.words[0]),mod:null}:U==="mod"?{div:null,mod:new c(this.modn(F.words[0]))}:{div:this.divn(F.words[0]),mod:new c(this.modn(F.words[0]))}:this._wordDiv(F,U)},c.prototype.div=function(F){return this.divmod(F,"div",!1).div},c.prototype.mod=function(F){return this.divmod(F,"mod",!1).mod},c.prototype.umod=function(F){return this.divmod(F,"mod",!0).mod},c.prototype.divRound=function(F){var U=this.divmod(F);if(U.mod.isZero())return U.div;var Z=U.div.negative!==0?U.mod.isub(F):U.mod,q=F.ushrn(1),J=F.andln(1),te=Z.cmp(q);return te<0||J===1&&te===0?U.div:U.div.negative!==0?U.div.isubn(1):U.div.iaddn(1)},c.prototype.modn=function(F){a(F<=67108863);for(var U=(1<<26)%F,Z=0,q=this.length-1;q>=0;q--)Z=(U*Z+(this.words[q]|0))%F;return Z},c.prototype.idivn=function(F){a(F<=67108863);for(var U=0,Z=this.length-1;Z>=0;Z--){var q=(this.words[Z]|0)+U*67108864;this.words[Z]=q/F|0,U=q%F}return this.strip()},c.prototype.divn=function(F){return this.clone().idivn(F)},c.prototype.egcd=function(F){a(F.negative===0),a(!F.isZero());var U=this,Z=F.clone();U.negative!==0?U=U.umod(F):U=U.clone();for(var q=new c(1),J=new c(0),te=new c(0),fe=new c(1),K=0;U.isEven()&&Z.isEven();)U.iushrn(1),Z.iushrn(1),++K;for(var Y=Z.clone(),W=U.clone();!U.isZero();){for(var X=0,re=1;!(U.words[0]&re)&&X<26;++X,re<<=1);if(X>0)for(U.iushrn(X);X-- >0;)(q.isOdd()||J.isOdd())&&(q.iadd(Y),J.isub(W)),q.iushrn(1),J.iushrn(1);for(var se=0,Q=1;!(Z.words[0]&Q)&&se<26;++se,Q<<=1);if(se>0)for(Z.iushrn(se);se-- >0;)(te.isOdd()||fe.isOdd())&&(te.iadd(Y),fe.isub(W)),te.iushrn(1),fe.iushrn(1);U.cmp(Z)>=0?(U.isub(Z),q.isub(te),J.isub(fe)):(Z.isub(U),te.isub(q),fe.isub(J))}return{a:te,b:fe,gcd:Z.iushln(K)}},c.prototype._invmp=function(F){a(F.negative===0),a(!F.isZero());var U=this,Z=F.clone();U.negative!==0?U=U.umod(F):U=U.clone();for(var q=new c(1),J=new c(0),te=Z.clone();U.cmpn(1)>0&&Z.cmpn(1)>0;){for(var fe=0,K=1;!(U.words[0]&K)&&fe<26;++fe,K<<=1);if(fe>0)for(U.iushrn(fe);fe-- >0;)q.isOdd()&&q.iadd(te),q.iushrn(1);for(var Y=0,W=1;!(Z.words[0]&W)&&Y<26;++Y,W<<=1);if(Y>0)for(Z.iushrn(Y);Y-- >0;)J.isOdd()&&J.iadd(te),J.iushrn(1);U.cmp(Z)>=0?(U.isub(Z),q.isub(J)):(Z.isub(U),J.isub(q))}var X;return U.cmpn(1)===0?X=q:X=J,X.cmpn(0)<0&&X.iadd(F),X},c.prototype.gcd=function(F){if(this.isZero())return F.abs();if(F.isZero())return this.abs();var U=this.clone(),Z=F.clone();U.negative=0,Z.negative=0;for(var q=0;U.isEven()&&Z.isEven();q++)U.iushrn(1),Z.iushrn(1);do{for(;U.isEven();)U.iushrn(1);for(;Z.isEven();)Z.iushrn(1);var J=U.cmp(Z);if(J<0){var te=U;U=Z,Z=te}else if(J===0||Z.cmpn(1)===0)break;U.isub(Z)}while(!0);return Z.iushln(q)},c.prototype.invm=function(F){return this.egcd(F).a.umod(F)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(F){return this.words[0]&F},c.prototype.bincn=function(F){a(typeof F=="number");var U=F%26,Z=(F-U)/26,q=1<<U;if(this.length<=Z)return this._expand(Z+1),this.words[Z]|=q,this;for(var J=q,te=Z;J!==0&&te<this.length;te++){var fe=this.words[te]|0;fe+=J,J=fe>>>26,fe&=67108863,this.words[te]=fe}return J!==0&&(this.words[te]=J,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(F){var U=F<0;if(this.negative!==0&&!U)return-1;if(this.negative===0&&U)return 1;this.strip();var Z;if(this.length>1)Z=1;else{U&&(F=-F),a(F<=67108863,"Number is too big");var q=this.words[0]|0;Z=q===F?0:q<F?-1:1}return this.negative!==0?-Z|0:Z},c.prototype.cmp=function(F){if(this.negative!==0&&F.negative===0)return-1;if(this.negative===0&&F.negative!==0)return 1;var U=this.ucmp(F);return this.negative!==0?-U|0:U},c.prototype.ucmp=function(F){if(this.length>F.length)return 1;if(this.length<F.length)return-1;for(var U=0,Z=this.length-1;Z>=0;Z--){var q=this.words[Z]|0,J=F.words[Z]|0;if(q!==J){q<J?U=-1:q>J&&(U=1);break}}return U},c.prototype.gtn=function(F){return this.cmpn(F)===1},c.prototype.gt=function(F){return this.cmp(F)===1},c.prototype.gten=function(F){return this.cmpn(F)>=0},c.prototype.gte=function(F){return this.cmp(F)>=0},c.prototype.ltn=function(F){return this.cmpn(F)===-1},c.prototype.lt=function(F){return this.cmp(F)===-1},c.prototype.lten=function(F){return this.cmpn(F)<=0},c.prototype.lte=function(F){return this.cmp(F)<=0},c.prototype.eqn=function(F){return this.cmpn(F)===0},c.prototype.eq=function(F){return this.cmp(F)===0},c.red=function(F){return new z(F)},c.prototype.toRed=function(F){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),F.convertTo(this)._forceRed(F)},c.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(F){return this.red=F,this},c.prototype.forceRed=function(F){return a(!this.red,"Already a number in reduction context"),this._forceRed(F)},c.prototype.redAdd=function(F){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,F)},c.prototype.redIAdd=function(F){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,F)},c.prototype.redSub=function(F){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,F)},c.prototype.redISub=function(F){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,F)},c.prototype.redShl=function(F){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,F)},c.prototype.redMul=function(F){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.mul(this,F)},c.prototype.redIMul=function(F){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,F),this.red.imul(this,F)},c.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(F){return a(this.red&&!F.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,F)};var i={k256:null,p224:null,p192:null,p25519:null};function R(O,F){this.name=O,this.p=new c(F,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var F=new c(null);return F.words=new Array(Math.ceil(this.n/13)),F},R.prototype.ireduce=function(F){var U=F,Z;do this.split(U,this.tmp),U=this.imulK(U),U=U.iadd(this.tmp),Z=U.bitLength();while(Z>this.n);var q=Z<this.n?-1:U.ucmp(this.p);return q===0?(U.words[0]=0,U.length=1):q>0?U.isub(this.p):U.strip!==void 0?U.strip():U._strip(),U},R.prototype.split=function(F,U){F.iushrn(this.n,0,U)},R.prototype.imulK=function(F){return F.imul(this.k)};function A(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(A,R),A.prototype.split=function(F,U){for(var Z=4194303,q=Math.min(F.length,9),J=0;J<q;J++)U.words[J]=F.words[J];if(U.length=q,F.length<=9){F.words[0]=0,F.length=1;return}var te=F.words[9];for(U.words[U.length++]=te&Z,J=10;J<F.length;J++){var fe=F.words[J]|0;F.words[J-10]=(fe&Z)<<4|te>>>22,te=fe}te>>>=22,F.words[J-10]=te,te===0&&F.length>10?F.length-=10:F.length-=9},A.prototype.imulK=function(F){F.words[F.length]=0,F.words[F.length+1]=0,F.length+=2;for(var U=0,Z=0;Z<F.length;Z++){var q=F.words[Z]|0;U+=q*977,F.words[Z]=U&67108863,U=q*64+(U/67108864|0)}return F.words[F.length-1]===0&&(F.length--,F.words[F.length-1]===0&&F.length--),F};function k(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(k,R);function _(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(_,R);function H(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(H,R),H.prototype.imulK=function(F){for(var U=0,Z=0;Z<F.length;Z++){var q=(F.words[Z]|0)*19+U,J=q&67108863;q>>>=26,F.words[Z]=J,U=q}return U!==0&&(F.words[F.length++]=U),F},c._prime=function(F){if(i[F])return i[F];var U;if(F==="k256")U=new A;else if(F==="p224")U=new k;else if(F==="p192")U=new _;else if(F==="p25519")U=new H;else throw new Error("Unknown prime "+F);return i[F]=U,U};function z(O){if(typeof O=="string"){var F=c._prime(O);this.m=F.p,this.prime=F}else a(O.gtn(1),"modulus must be greater than 1"),this.m=O,this.prime=null}z.prototype._verify1=function(F){a(F.negative===0,"red works only with positives"),a(F.red,"red works only with red numbers")},z.prototype._verify2=function(F,U){a((F.negative|U.negative)===0,"red works only with positives"),a(F.red&&F.red===U.red,"red works only with red numbers")},z.prototype.imod=function(F){return this.prime?this.prime.ireduce(F)._forceRed(this):F.umod(this.m)._forceRed(this)},z.prototype.neg=function(F){return F.isZero()?F.clone():this.m.sub(F)._forceRed(this)},z.prototype.add=function(F,U){this._verify2(F,U);var Z=F.add(U);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z._forceRed(this)},z.prototype.iadd=function(F,U){this._verify2(F,U);var Z=F.iadd(U);return Z.cmp(this.m)>=0&&Z.isub(this.m),Z},z.prototype.sub=function(F,U){this._verify2(F,U);var Z=F.sub(U);return Z.cmpn(0)<0&&Z.iadd(this.m),Z._forceRed(this)},z.prototype.isub=function(F,U){this._verify2(F,U);var Z=F.isub(U);return Z.cmpn(0)<0&&Z.iadd(this.m),Z},z.prototype.shl=function(F,U){return this._verify1(F),this.imod(F.ushln(U))},z.prototype.imul=function(F,U){return this._verify2(F,U),this.imod(F.imul(U))},z.prototype.mul=function(F,U){return this._verify2(F,U),this.imod(F.mul(U))},z.prototype.isqr=function(F){return this.imul(F,F.clone())},z.prototype.sqr=function(F){return this.mul(F,F)},z.prototype.sqrt=function(F){if(F.isZero())return F.clone();var U=this.m.andln(3);if(a(U%2===1),U===3){var Z=this.m.add(new c(1)).iushrn(2);return this.pow(F,Z)}for(var q=this.m.subn(1),J=0;!q.isZero()&&q.andln(1)===0;)J++,q.iushrn(1);a(!q.isZero());var te=new c(1).toRed(this),fe=te.redNeg(),K=this.m.subn(1).iushrn(1),Y=this.m.bitLength();for(Y=new c(2*Y*Y).toRed(this);this.pow(Y,K).cmp(fe)!==0;)Y.redIAdd(fe);for(var W=this.pow(Y,q),X=this.pow(F,q.addn(1).iushrn(1)),re=this.pow(F,q),se=J;re.cmp(te)!==0;){for(var Q=re,ee=0;Q.cmp(te)!==0;ee++)Q=Q.redSqr();a(ee<se);var le=this.pow(W,new c(1).iushln(se-ee-1));X=X.redMul(le),W=le.redSqr(),re=re.redMul(W),se=ee}return X},z.prototype.invm=function(F){var U=F._invmp(this.m);return U.negative!==0?(U.negative=0,this.imod(U).redNeg()):this.imod(U)},z.prototype.pow=function(F,U){if(U.isZero())return new c(1).toRed(this);if(U.cmpn(1)===0)return F.clone();var Z=4,q=new Array(1<<Z);q[0]=new c(1).toRed(this),q[1]=F;for(var J=2;J<q.length;J++)q[J]=this.mul(q[J-1],F);var te=q[0],fe=0,K=0,Y=U.bitLength()%26;for(Y===0&&(Y=26),J=U.length-1;J>=0;J--){for(var W=U.words[J],X=Y-1;X>=0;X--){var re=W>>X&1;if(te!==q[0]&&(te=this.sqr(te)),re===0&&fe===0){K=0;continue}fe<<=1,fe|=re,K++,!(K!==Z&&(J!==0||X!==0))&&(te=this.mul(te,q[fe]),K=0,fe=0)}Y=26}return te},z.prototype.convertTo=function(F){var U=F.umod(this.m);return U===F?U.clone():U},z.prototype.convertFrom=function(F){var U=F.clone();return U.red=null,U},c.mont=function(F){return new N(F)};function N(O){z.call(this,O),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(N,z),N.prototype.convertTo=function(F){return this.imod(F.ushln(this.shift))},N.prototype.convertFrom=function(F){var U=this.imod(F.mul(this.rinv));return U.red=null,U},N.prototype.imul=function(F,U){if(F.isZero()||U.isZero())return F.words[0]=0,F.length=1,F;var Z=F.imul(U),q=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),J=Z.isub(q).iushrn(this.shift),te=J;return J.cmp(this.m)>=0?te=J.isub(this.m):J.cmpn(0)<0&&(te=J.iadd(this.m)),te._forceRed(this)},N.prototype.mul=function(F,U){if(F.isZero()||U.isZero())return new c(0)._forceRed(this);var Z=F.mul(U),q=Z.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),J=Z.isub(q).iushrn(this.shift),te=J;return J.cmp(this.m)>=0?te=J.isub(this.m):J.cmpn(0)<0&&(te=J.iadd(this.m)),te._forceRed(this)},N.prototype.invm=function(F){var U=this.imod(F._invmp(this.m).mul(this.r2));return U._forceRed(this)}}(h,this)},2692:function(h){h.exports=g;function g(t){var r,l,a,s=t.length,c=0;for(r=0;r<s;++r)c+=t[r].length;var u=new Array(c),b=0;for(r=0;r<s;++r){var f=t[r],w=f.length;for(l=0;l<w;++l){var v=u[b++]=new Array(w-1),o=0;for(a=0;a<w;++a)a!==l&&(v[o++]=f[a]);if(l&1){var d=v[1];v[1]=v[0],v[0]=d}}}return u}},2569:function(h,g,t){h.exports=o;var r=t(5306),l=t(1390),a=t(2337);function s(d,S){for(var M=0;M<d;++M)if(!(S[M]<=S[M+d]))return!0;return!1}function c(d,S,M,P){for(var x=0,E=0,T=0,i=d.length;T<i;++T){var R=d[T];if(!s(S,R)){for(var A=0;A<2*S;++A)M[x++]=R[A];P[E++]=T}}return E}function u(d,S,M,P){var x=d.length,E=S.length;if(!(x<=0||E<=0)){var T=d[0].length>>>1;if(!(T<=0)){var i,R=r.mallocDouble(2*T*x),A=r.mallocInt32(x);if(x=c(d,T,R,A),x>0){if(T===1&&P)l.init(x),i=l.sweepComplete(T,M,0,x,R,A,0,x,R,A);else{var k=r.mallocDouble(2*T*E),_=r.mallocInt32(E);E=c(S,T,k,_),E>0&&(l.init(x+E),T===1?i=l.sweepBipartite(T,M,0,x,R,A,0,E,k,_):i=a(T,M,P,x,R,A,E,k,_),r.free(k),r.free(_))}r.free(R),r.free(A)}return i}}}var b;function f(d,S){b.push([d,S])}function w(d){return b=[],u(d,d,f,!0),b}function v(d,S){return b=[],u(d,S,f,!1),b}function o(d,S,M){switch(arguments.length){case 1:return w(d);case 2:return typeof S=="function"?u(d,d,S,!0):v(d,S);case 3:return u(d,S,M,!1);default:throw new Error("box-intersect: Invalid arguments")}}},7333:function(h,g){function t(){function a(u,b,f,w,v,o,d,S,M,P,x){for(var E=2*u,T=w,i=E*w;T<v;++T,i+=E){var R=o[b+i],A=o[b+i+u],k=d[T];e:for(var _=S,H=E*S;_<M;++_,H+=E){var z=P[b+H],N=P[b+H+u],O=x[_];if(!(N<R||A<z)){for(var F=b+1;F<u;++F){var U=o[F+i],Z=o[F+u+i],q=P[F+H],J=P[F+u+H];if(Z<q||J<U)continue e}var te=f(k,O);if(te!==void 0)return te}}}}function s(u,b,f,w,v,o,d,S,M,P,x){for(var E=2*u,T=S,i=E*S;T<M;++T,i+=E){var R=P[b+i],A=P[b+i+u],k=x[T];e:for(var _=w,H=E*w;_<v;++_,H+=E){var z=o[b+H],N=o[b+H+u],O=d[_];if(!(A<z||N<R)){for(var F=b+1;F<u;++F){var U=o[F+H],Z=o[F+u+H],q=P[F+i],J=P[F+u+i];if(Z<q||J<U)continue e}var te=f(O,k);if(te!==void 0)return te}}}}function c(u,b,f,w,v,o,d,S,M,P,x){return v-w>M-S?a(u,b,f,w,v,o,d,S,M,P,x):s(u,b,f,w,v,o,d,S,M,P,x)}return c}function r(){function a(f,w,v,o,d,S,M,P,x,E,T){for(var i=2*f,R=o,A=i*o;R<d;++R,A+=i){var k=S[w+A],_=S[w+A+f],H=M[R];e:for(var z=P,N=i*P;z<x;++z,N+=i){var O=E[w+N],F=T[z];if(!(O<=k||_<O)){for(var U=w+1;U<f;++U){var Z=S[U+A],q=S[U+f+A],J=E[U+N],te=E[U+f+N];if(q<J||te<Z)continue e}var fe=v(F,H);if(fe!==void 0)return fe}}}}function s(f,w,v,o,d,S,M,P,x,E,T){for(var i=2*f,R=o,A=i*o;R<d;++R,A+=i){var k=S[w+A],_=S[w+A+f],H=M[R];e:for(var z=P,N=i*P;z<x;++z,N+=i){var O=E[w+N],F=T[z];if(!(O<k||_<O)){for(var U=w+1;U<f;++U){var Z=S[U+A],q=S[U+f+A],J=E[U+N],te=E[U+f+N];if(q<J||te<Z)continue e}var fe=v(H,F);if(fe!==void 0)return fe}}}}function c(f,w,v,o,d,S,M,P,x,E,T){for(var i=2*f,R=P,A=i*P;R<x;++R,A+=i){var k=E[w+A],_=T[R];e:for(var H=o,z=i*o;H<d;++H,z+=i){var N=S[w+z],O=S[w+z+f],F=M[H];if(!(k<=N||O<k)){for(var U=w+1;U<f;++U){var Z=S[U+z],q=S[U+f+z],J=E[U+A],te=E[U+f+A];if(q<J||te<Z)continue e}var fe=v(_,F);if(fe!==void 0)return fe}}}}function u(f,w,v,o,d,S,M,P,x,E,T){for(var i=2*f,R=P,A=i*P;R<x;++R,A+=i){var k=E[w+A],_=T[R];e:for(var H=o,z=i*o;H<d;++H,z+=i){var N=S[w+z],O=S[w+z+f],F=M[H];if(!(k<N||O<k)){for(var U=w+1;U<f;++U){var Z=S[U+z],q=S[U+f+z],J=E[U+A],te=E[U+f+A];if(q<J||te<Z)continue e}var fe=v(F,_);if(fe!==void 0)return fe}}}}function b(f,w,v,o,d,S,M,P,x,E,T,i){return S-d>E-x?o?a(f,w,v,d,S,M,P,x,E,T,i):s(f,w,v,d,S,M,P,x,E,T,i):o?c(f,w,v,d,S,M,P,x,E,T,i):u(f,w,v,d,S,M,P,x,E,T,i)}return b}function l(a){return a?t():r()}g.partial=l(!1),g.full=l(!0)},2337:function(h,g,t){h.exports=O;var r=t(5306),l=t(2288),a=t(7333),s=a.partial,c=a.full,u=t(1390),b=t(2464),f=t(122),w=128,v=1<<22,o=1<<22,d=f("!(lo>=p0)&&!(p1>=hi)"),S=f("lo===p0"),M=f("lo<p0"),P=f("hi<=p0"),x=f("lo<=p0&&p0<=hi"),E=f("lo<p0&&p0<=hi"),T=6,i=2,R=1024,A=r.mallocInt32(R),k=r.mallocDouble(R);function _(F,U){var Z=8*l.log2(U+1)*(F+1)|0,q=l.nextPow2(T*Z);A.length<q&&(r.free(A),A=r.mallocInt32(q));var J=l.nextPow2(i*Z);k.length<J&&(r.free(k),k=r.mallocDouble(J))}function H(F,U,Z,q,J,te,fe,K,Y){var W=T*F;A[W]=U,A[W+1]=Z,A[W+2]=q,A[W+3]=J,A[W+4]=te,A[W+5]=fe;var X=i*F;k[X]=K,k[X+1]=Y}function z(F,U,Z,q,J,te,fe,K,Y,W,X){var re=2*F,se=Y*re,Q=W[se+U];e:for(var ee=J,le=J*re;ee<te;++ee,le+=re){var oe=fe[le+U],he=fe[le+U+F];if(!(Q<oe||he<Q)&&!(q&&Q===oe)){for(var xe=K[ee],Ae=U+1;Ae<F;++Ae){var oe=fe[le+Ae],he=fe[le+Ae+F],Se=W[se+Ae],Oe=W[se+Ae+F];if(he<Se||Oe<oe)continue e}var Ve;if(q?Ve=Z(X,xe):Ve=Z(xe,X),Ve!==void 0)return Ve}}}function N(F,U,Z,q,J,te,fe,K,Y,W){var X=2*F,re=K*X,se=Y[re+U];e:for(var Q=q,ee=q*X;Q<J;++Q,ee+=X){var le=fe[Q];if(le!==W){var oe=te[ee+U],he=te[ee+U+F];if(!(se<oe||he<se)){for(var xe=U+1;xe<F;++xe){var oe=te[ee+xe],he=te[ee+xe+F],Ae=Y[re+xe],Se=Y[re+xe+F];if(he<Ae||Se<oe)continue e}var Oe=Z(le,W);if(Oe!==void 0)return Oe}}}}function O(F,U,Z,q,J,te,fe,K,Y){_(F,q+fe);var W=0,X=2*F,re;for(H(W++,0,0,q,0,fe,Z?16:0,-1/0,1/0),Z||H(W++,0,0,fe,0,q,1,-1/0,1/0);W>0;){W-=1;var se=W*T,Q=A[se],ee=A[se+1],le=A[se+2],oe=A[se+3],he=A[se+4],xe=A[se+5],Ae=W*i,Se=k[Ae],Oe=k[Ae+1],Ve=xe&1,Ee=!!(xe&16),Te=J,Le=te,Ge=K,He=Y;if(Ve&&(Te=K,Le=Y,Ge=J,He=te),!(xe&2&&(le=M(F,Q,ee,le,Te,Le,Oe),ee>=le))&&!(xe&4&&(ee=P(F,Q,ee,le,Te,Le,Se),ee>=le))){var ke=le-ee,We=he-oe;if(Ee){if(F*ke*(ke+We)<o){if(re=u.scanComplete(F,Q,U,ee,le,Te,Le,oe,he,Ge,He),re!==void 0)return re;continue}}else if(F*Math.min(ke,We)<w){if(re=s(F,Q,U,Ve,ee,le,Te,Le,oe,he,Ge,He),re!==void 0)return re;continue}else if(F*ke*We<v){if(re=u.scanBipartite(F,Q,U,Ve,ee,le,Te,Le,oe,he,Ge,He),re!==void 0)return re;continue}var nt=d(F,Q,ee,le,Te,Le,Se,Oe);if(ee<nt)if(F*(nt-ee)<w){if(re=c(F,Q+1,U,ee,nt,Te,Le,oe,he,Ge,He),re!==void 0)return re}else if(Q===F-2){if(Ve?re=u.sweepBipartite(F,U,oe,he,Ge,He,ee,nt,Te,Le):re=u.sweepBipartite(F,U,ee,nt,Te,Le,oe,he,Ge,He),re!==void 0)return re}else H(W++,Q+1,ee,nt,oe,he,Ve,-1/0,1/0),H(W++,Q+1,oe,he,ee,nt,Ve^1,-1/0,1/0);if(nt<le){var qe=b(F,Q,oe,he,Ge,He),Qe=Ge[X*qe+Q],tt=S(F,Q,qe,he,Ge,He,Qe);if(tt<he&&H(W++,Q,nt,le,tt,he,(Ve|4)+(Ee?16:0),Qe,Oe),oe<qe&&H(W++,Q,nt,le,oe,qe,(Ve|2)+(Ee?16:0),Se,Qe),qe+1===tt){if(Ee?re=N(F,Q,U,nt,le,Te,Le,qe,Ge,He[qe]):re=z(F,Q,U,Ve,nt,le,Te,Le,qe,Ge,He[qe]),re!==void 0)return re}else if(qe<tt){var vt;if(Ee){if(vt=x(F,Q,nt,le,Te,Le,Qe),nt<vt){var dt=S(F,Q,nt,vt,Te,Le,Qe);if(Q===F-2){if(nt<dt&&(re=u.sweepComplete(F,U,nt,dt,Te,Le,qe,tt,Ge,He),re!==void 0)||dt<vt&&(re=u.sweepBipartite(F,U,dt,vt,Te,Le,qe,tt,Ge,He),re!==void 0))return re}else nt<dt&&H(W++,Q+1,nt,dt,qe,tt,16,-1/0,1/0),dt<vt&&(H(W++,Q+1,dt,vt,qe,tt,0,-1/0,1/0),H(W++,Q+1,qe,tt,dt,vt,1,-1/0,1/0))}}else Ve?vt=E(F,Q,nt,le,Te,Le,Qe):vt=x(F,Q,nt,le,Te,Le,Qe),nt<vt&&(Q===F-2?Ve?re=u.sweepBipartite(F,U,qe,tt,Ge,He,nt,vt,Te,Le):re=u.sweepBipartite(F,U,nt,vt,Te,Le,qe,tt,Ge,He):(H(W++,Q+1,nt,vt,qe,tt,Ve,-1/0,1/0),H(W++,Q+1,qe,tt,nt,vt,Ve^1,-1/0,1/0)))}}}}}},2464:function(h,g,t){h.exports=c;var r=t(122),l=r("lo<p0"),a=8;function s(u,b,f,w,v,o){for(var d=2*u,S=d*(f+1)+b,M=f+1;M<w;++M,S+=d)for(var P=v[S],x=M,E=d*(M-1);x>f&&v[E+b]>P;--x,E-=d){for(var T=E,i=E+d,R=0;R<d;++R,++T,++i){var A=v[T];v[T]=v[i],v[i]=A}var k=o[x];o[x]=o[x-1],o[x-1]=k}}function c(u,b,f,w,v,o){if(w<=f+1)return f;for(var d=f,S=w,M=w+f>>>1,P=2*u,x=M,E=v[P*M+b];d<S;){if(S-d<a){s(u,b,d,S,v,o),E=v[P*M+b];break}var T=S-d,i=Math.random()*T+d|0,R=v[P*i+b],A=Math.random()*T+d|0,k=v[P*A+b],_=Math.random()*T+d|0,H=v[P*_+b];R<=k?H>=k?(x=A,E=k):R>=H?(x=i,E=R):(x=_,E=H):k>=H?(x=A,E=k):H>=R?(x=i,E=R):(x=_,E=H);for(var O=P*(S-1),F=P*x,z=0;z<P;++z,++O,++F){var N=v[O];v[O]=v[F],v[F]=N}var U=o[S-1];o[S-1]=o[x],o[x]=U,x=l(u,b,d,S-1,v,o,E);for(var O=P*(S-1),F=P*x,z=0;z<P;++z,++O,++F){var N=v[O];v[O]=v[F],v[F]=N}var U=o[S-1];if(o[S-1]=o[x],o[x]=U,M<x){for(S=x-1;d<S&&v[P*(S-1)+b]===E;)S-=1;S+=1}else if(x<M)for(d=x+1;d<S&&v[P*d+b]===E;)d+=1;else break}return l(u,b,f,M,v,o,v[P*M+b])}},122:function(h){h.exports=t;var g={"lo===p0":r,"lo<p0":l,"lo<=p0":a,"hi<=p0":s,"lo<p0&&p0<=hi":u,"lo<=p0&&p0<=hi":c,"!(lo>=p0)&&!(p1>=hi)":b};function t(f){return g[f]}function r(f,w,v,o,d,S,M){for(var P=2*f,x=P*v,E=x,T=v,i=w,R=f+w,A=v;o>A;++A,x+=P){var k=d[x+i];if(k===M)if(T===A)T+=1,E+=P;else{for(var _=0;P>_;++_){var H=d[x+_];d[x+_]=d[E],d[E++]=H}var z=S[A];S[A]=S[T],S[T++]=z}}return T}function l(f,w,v,o,d,S,M){for(var P=2*f,x=P*v,E=x,T=v,i=w,R=f+w,A=v;o>A;++A,x+=P){var k=d[x+i];if(k<M)if(T===A)T+=1,E+=P;else{for(var _=0;P>_;++_){var H=d[x+_];d[x+_]=d[E],d[E++]=H}var z=S[A];S[A]=S[T],S[T++]=z}}return T}function a(f,w,v,o,d,S,M){for(var P=2*f,x=P*v,E=x,T=v,i=w,R=f+w,A=v;o>A;++A,x+=P){var k=d[x+R];if(k<=M)if(T===A)T+=1,E+=P;else{for(var _=0;P>_;++_){var H=d[x+_];d[x+_]=d[E],d[E++]=H}var z=S[A];S[A]=S[T],S[T++]=z}}return T}function s(f,w,v,o,d,S,M){for(var P=2*f,x=P*v,E=x,T=v,i=w,R=f+w,A=v;o>A;++A,x+=P){var k=d[x+R];if(k<=M)if(T===A)T+=1,E+=P;else{for(var _=0;P>_;++_){var H=d[x+_];d[x+_]=d[E],d[E++]=H}var z=S[A];S[A]=S[T],S[T++]=z}}return T}function c(f,w,v,o,d,S,M){for(var P=2*f,x=P*v,E=x,T=v,i=w,R=f+w,A=v;o>A;++A,x+=P){var k=d[x+i],_=d[x+R];if(k<=M&&M<=_)if(T===A)T+=1,E+=P;else{for(var H=0;P>H;++H){var z=d[x+H];d[x+H]=d[E],d[E++]=z}var N=S[A];S[A]=S[T],S[T++]=N}}return T}function u(f,w,v,o,d,S,M){for(var P=2*f,x=P*v,E=x,T=v,i=w,R=f+w,A=v;o>A;++A,x+=P){var k=d[x+i],_=d[x+R];if(k<M&&M<=_)if(T===A)T+=1,E+=P;else{for(var H=0;P>H;++H){var z=d[x+H];d[x+H]=d[E],d[E++]=z}var N=S[A];S[A]=S[T],S[T++]=N}}return T}function b(f,w,v,o,d,S,M,P){for(var x=2*f,E=x*v,T=E,i=v,R=w,A=f+w,k=v;o>k;++k,E+=x){var _=d[E+R],H=d[E+A];if(!(_>=M)&&!(P>=H))if(i===k)i+=1,T+=x;else{for(var z=0;x>z;++z){var N=d[E+z];d[E+z]=d[T],d[T++]=N}var O=S[k];S[k]=S[i],S[i++]=O}}return i}},309:function(h){h.exports=t;var g=32;function t(w,v){v<=4*g?r(0,v-1,w):f(0,v-1,w)}function r(w,v,o){for(var d=2*(w+1),S=w+1;S<=v;++S){for(var M=o[d++],P=o[d++],x=S,E=d-2;x-- >w;){var T=o[E-2],i=o[E-1];if(T<M)break;if(T===M&&i<P)break;o[E]=T,o[E+1]=i,E-=2}o[E]=M,o[E+1]=P}}function l(w,v,o){w*=2,v*=2;var d=o[w],S=o[w+1];o[w]=o[v],o[w+1]=o[v+1],o[v]=d,o[v+1]=S}function a(w,v,o){w*=2,v*=2,o[w]=o[v],o[w+1]=o[v+1]}function s(w,v,o,d){w*=2,v*=2,o*=2;var S=d[w],M=d[w+1];d[w]=d[v],d[w+1]=d[v+1],d[v]=d[o],d[v+1]=d[o+1],d[o]=S,d[o+1]=M}function c(w,v,o,d,S){w*=2,v*=2,S[w]=S[v],S[v]=o,S[w+1]=S[v+1],S[v+1]=d}function u(w,v,o){w*=2,v*=2;var d=o[w],S=o[v];return d<S?!1:d===S?o[w+1]>o[v+1]:!0}function b(w,v,o,d){w*=2;var S=d[w];return S<v?!0:S===v?d[w+1]<o:!1}function f(w,v,o){var d=(v-w+1)/6|0,S=w+d,M=v-d,P=w+v>>1,x=P-d,E=P+d,T=S,i=x,R=P,A=E,k=M,_=w+1,H=v-1,z=0;u(T,i,o)&&(z=T,T=i,i=z),u(A,k,o)&&(z=A,A=k,k=z),u(T,R,o)&&(z=T,T=R,R=z),u(i,R,o)&&(z=i,i=R,R=z),u(T,A,o)&&(z=T,T=A,A=z),u(R,A,o)&&(z=R,R=A,A=z),u(i,k,o)&&(z=i,i=k,k=z),u(i,R,o)&&(z=i,i=R,R=z),u(A,k,o)&&(z=A,A=k,k=z);for(var N=o[2*i],O=o[2*i+1],F=o[2*A],U=o[2*A+1],Z=2*T,q=2*R,J=2*k,te=2*S,fe=2*P,K=2*M,Y=0;Y<2;++Y){var W=o[Z+Y],X=o[q+Y],re=o[J+Y];o[te+Y]=W,o[fe+Y]=X,o[K+Y]=re}a(x,w,o),a(E,v,o);for(var se=_;se<=H;++se)if(b(se,N,O,o))se!==_&&l(se,_,o),++_;else if(!b(se,F,U,o))for(;;)if(b(H,F,U,o)){b(H,N,O,o)?(s(se,_,H,o),++_,--H):(l(se,H,o),--H);break}else{if(--H<se)break;continue}c(w,_-1,N,O,o),c(v,H+1,F,U,o),_-2-w<=g?r(w,_-2,o):f(w,_-2,o),v-(H+2)<=g?r(H+2,v,o):f(H+2,v,o),H-_<=g?r(_,H,o):f(_,H,o)}},1390:function(h,g,t){h.exports={init:S,sweepBipartite:x,sweepComplete:E,scanBipartite:T,scanComplete:i};var r=t(5306),l=t(2288),a=t(309),s=1<<28,c=1024,u=r.mallocInt32(c),b=r.mallocInt32(c),f=r.mallocInt32(c),w=r.mallocInt32(c),v=r.mallocInt32(c),o=r.mallocInt32(c),d=r.mallocDouble(c*8);function S(R){var A=l.nextPow2(R);u.length<A&&(r.free(u),u=r.mallocInt32(A)),b.length<A&&(r.free(b),b=r.mallocInt32(A)),f.length<A&&(r.free(f),f=r.mallocInt32(A)),w.length<A&&(r.free(w),w=r.mallocInt32(A)),v.length<A&&(r.free(v),v=r.mallocInt32(A)),o.length<A&&(r.free(o),o=r.mallocInt32(A));var k=8*A;d.length<k&&(r.free(d),d=r.mallocDouble(k))}function M(R,A,k,_){var H=A[_],z=R[k-1];R[H]=z,A[z]=H}function P(R,A,k,_){R[k]=_,A[_]=k}function x(R,A,k,_,H,z,N,O,F,U){for(var Z=0,q=2*R,J=R-1,te=q-1,fe=k;fe<_;++fe){var K=z[fe],Y=q*fe;d[Z++]=H[Y+J],d[Z++]=-(K+1),d[Z++]=H[Y+te],d[Z++]=K}for(var fe=N;fe<O;++fe){var K=U[fe]+s,W=q*fe;d[Z++]=F[W+J],d[Z++]=-K,d[Z++]=F[W+te],d[Z++]=K}var X=Z>>>1;a(d,X);for(var re=0,se=0,fe=0;fe<X;++fe){var Q=d[2*fe+1]|0;if(Q>=s)Q=Q-s|0,M(f,w,se--,Q);else if(Q>=0)M(u,b,re--,Q);else if(Q<=-s){Q=-Q-s|0;for(var ee=0;ee<re;++ee){var le=A(u[ee],Q);if(le!==void 0)return le}P(f,w,se++,Q)}else{Q=-Q-1|0;for(var ee=0;ee<se;++ee){var le=A(Q,f[ee]);if(le!==void 0)return le}P(u,b,re++,Q)}}}function E(R,A,k,_,H,z,N,O,F,U){for(var Z=0,q=2*R,J=R-1,te=q-1,fe=k;fe<_;++fe){var K=z[fe]+1<<1,Y=q*fe;d[Z++]=H[Y+J],d[Z++]=-K,d[Z++]=H[Y+te],d[Z++]=K}for(var fe=N;fe<O;++fe){var K=U[fe]+1<<1,W=q*fe;d[Z++]=F[W+J],d[Z++]=-K|1,d[Z++]=F[W+te],d[Z++]=K|1}var X=Z>>>1;a(d,X);for(var re=0,se=0,Q=0,fe=0;fe<X;++fe){var ee=d[2*fe+1]|0,le=ee&1;if(fe<X-1&&ee>>1===d[2*fe+3]>>1&&(le=2,fe+=1),ee<0){for(var oe=-(ee>>1)-1,he=0;he<Q;++he){var xe=A(v[he],oe);if(xe!==void 0)return xe}if(le!==0)for(var he=0;he<re;++he){var xe=A(u[he],oe);if(xe!==void 0)return xe}if(le!==1)for(var he=0;he<se;++he){var xe=A(f[he],oe);if(xe!==void 0)return xe}le===0?P(u,b,re++,oe):le===1?P(f,w,se++,oe):le===2&&P(v,o,Q++,oe)}else{var oe=(ee>>1)-1;le===0?M(u,b,re--,oe):le===1?M(f,w,se--,oe):le===2&&M(v,o,Q--,oe)}}}function T(R,A,k,_,H,z,N,O,F,U,Z,q){var J=0,te=2*R,fe=A,K=A+R,Y=1,W=1;_?W=s:Y=s;for(var X=H;X<z;++X){var re=X+Y,se=te*X;d[J++]=N[se+fe],d[J++]=-re,d[J++]=N[se+K],d[J++]=re}for(var X=F;X<U;++X){var re=X+W,Q=te*X;d[J++]=Z[Q+fe],d[J++]=-re}var ee=J>>>1;a(d,ee);for(var le=0,X=0;X<ee;++X){var oe=d[2*X+1]|0;if(oe<0){var re=-oe,he=!1;if(re>=s?(he=!_,re-=s):(he=!!_,re-=1),he)P(u,b,le++,re);else{var xe=q[re],Ae=te*re,Se=Z[Ae+A+1],Oe=Z[Ae+A+1+R];e:for(var Ve=0;Ve<le;++Ve){var Ee=u[Ve],Te=te*Ee;if(!(Oe<N[Te+A+1]||N[Te+A+1+R]<Se)){for(var Le=A+2;Le<R;++Le)if(Z[Ae+Le+R]<N[Te+Le]||N[Te+Le+R]<Z[Ae+Le])continue e;var Ge=O[Ee],He;if(_?He=k(xe,Ge):He=k(Ge,xe),He!==void 0)return He}}}}else M(u,b,le--,oe-Y)}}function i(R,A,k,_,H,z,N,O,F,U,Z){for(var q=0,J=2*R,te=A,fe=A+R,K=_;K<H;++K){var Y=K+s,W=J*K;d[q++]=z[W+te],d[q++]=-Y,d[q++]=z[W+fe],d[q++]=Y}for(var K=O;K<F;++K){var Y=K+1,X=J*K;d[q++]=U[X+te],d[q++]=-Y}var re=q>>>1;a(d,re);for(var se=0,K=0;K<re;++K){var Q=d[2*K+1]|0;if(Q<0){var Y=-Q;if(Y>=s)u[se++]=Y-s;else{Y-=1;var ee=Z[Y],le=J*Y,oe=U[le+A+1],he=U[le+A+1+R];e:for(var xe=0;xe<se;++xe){var Ae=u[xe],Se=N[Ae];if(Se===ee)break;var Oe=J*Ae;if(!(he<z[Oe+A+1]||z[Oe+A+1+R]<oe)){for(var Ve=A+2;Ve<R;++Ve)if(U[le+Ve+R]<z[Oe+Ve]||z[Oe+Ve+R]<U[le+Ve])continue e;var Ee=k(Se,ee);if(Ee!==void 0)return Ee}}}}else{for(var Y=Q-s,xe=se-1;xe>=0;--xe)if(u[xe]===Y){for(var Ve=xe+1;Ve<se;++Ve)u[Ve-1]=u[Ve];break}--se}}}},7761:function(h,g,t){var r=t(9971),l=t(743),a=t(2161),s=t(7098);h.exports=w;function c(v){return[Math.min(v[0],v[1]),Math.max(v[0],v[1])]}function u(v,o){return v[0]-o[0]||v[1]-o[1]}function b(v){return v.map(c).sort(u)}function f(v,o,d){return o in v?v[o]:d}function w(v,o,d){Array.isArray(o)?(d=d||{},o=o||[]):(d=o||{},o=[]);var S=!!f(d,"delaunay",!0),M=!!f(d,"interior",!0),P=!!f(d,"exterior",!0),x=!!f(d,"infinity",!1);if(!M&&!P||v.length===0)return[];var E=r(v,o);if(S||M!==P||x){for(var T=l(v.length,b(o)),i=0;i<E.length;++i){var R=E[i];T.addTriangle(R[0],R[1],R[2])}return S&&a(v,T),P?M?x?s(T,0,x):T.cells():s(T,1,x):s(T,-1)}else return E}},2161:function(h,g,t){var r=t(2227)[4];t(5070),h.exports=a;function l(s,c,u,b,f,w){var v=c.opposite(b,f);if(!(v<0)){if(f<b){var o=b;b=f,f=o,o=w,w=v,v=o}c.isConstraint(b,f)||r(s[b],s[f],s[w],s[v])<0&&u.push(b,f)}}function a(s,c){for(var u=[],b=s.length,f=c.stars,w=0;w<b;++w)for(var v=f[w],o=1;o<v.length;o+=2){var d=v[o];if(!(d<w)&&!c.isConstraint(w,d)){for(var S=v[o-1],M=-1,P=1;P<v.length;P+=2)if(v[P-1]===d){M=v[P];break}M<0||r(s[w],s[d],s[S],s[M])<0&&u.push(w,d)}}for(;u.length>0;){for(var d=u.pop(),w=u.pop(),S=-1,M=-1,v=f[w],x=1;x<v.length;x+=2){var E=v[x-1],T=v[x];E===d?M=T:T===d&&(S=E)}S<0||M<0||r(s[w],s[d],s[S],s[M])>=0||(c.flip(w,d),l(s,c,u,S,w,M),l(s,c,u,w,M,S),l(s,c,u,M,d,S),l(s,c,u,d,S,M))}}},7098:function(h,g,t){var r=t(5070);h.exports=b;function l(f,w,v,o,d,S,M){this.cells=f,this.neighbor=w,this.flags=o,this.constraint=v,this.active=d,this.next=S,this.boundary=M}var a=l.prototype;function s(f,w){return f[0]-w[0]||f[1]-w[1]||f[2]-w[2]}a.locate=function(){var f=[0,0,0];return function(w,v,o){var d=w,S=v,M=o;return v<o?v<w&&(d=v,S=o,M=w):o<w&&(d=o,S=w,M=v),d<0?-1:(f[0]=d,f[1]=S,f[2]=M,r.eq(this.cells,f,s))}}();function c(f,w){for(var v=f.cells(),o=v.length,d=0;d<o;++d){var S=v[d],M=S[0],P=S[1],x=S[2];P<x?P<M&&(S[0]=P,S[1]=x,S[2]=M):x<M&&(S[0]=x,S[1]=M,S[2]=P)}v.sort(s);for(var E=new Array(o),d=0;d<E.length;++d)E[d]=0;var T=[],i=[],R=new Array(3*o),A=new Array(3*o),k=null;w&&(k=[]);for(var _=new l(v,R,A,E,T,i,k),d=0;d<o;++d)for(var S=v[d],H=0;H<3;++H){var M=S[H],P=S[(H+1)%3],z=R[3*d+H]=_.locate(P,M,f.opposite(P,M)),N=A[3*d+H]=f.isConstraint(M,P);z<0&&(N?i.push(d):(T.push(d),E[d]=1),w&&k.push([P,M,-1]))}return _}function u(f,w,v){for(var o=0,d=0;d<f.length;++d)w[d]===v&&(f[o++]=f[d]);return f.length=o,f}function b(f,w,v){var o=c(f,v);if(w===0)return v?o.cells.concat(o.boundary):o.cells;for(var d=1,S=o.active,M=o.next,P=o.flags,x=o.cells,E=o.constraint,T=o.neighbor;S.length>0||M.length>0;){for(;S.length>0;){var i=S.pop();if(P[i]!==-d){P[i]=d,x[i];for(var R=0;R<3;++R){var A=T[3*i+R];A>=0&&P[A]===0&&(E[3*i+R]?M.push(A):(S.push(A),P[A]=d))}}}var k=M;M=S,S=k,M.length=0,d=-d}var _=u(x,P,w);return v?_.concat(o.boundary):_}},9971:function(h,g,t){var r=t(5070),l=t(417)[3],a=0,s=1,c=2;h.exports=M;function u(P,x,E,T,i){this.a=P,this.b=x,this.idx=E,this.lowerIds=T,this.upperIds=i}function b(P,x,E,T){this.a=P,this.b=x,this.type=E,this.idx=T}function f(P,x){var E=P.a[0]-x.a[0]||P.a[1]-x.a[1]||P.type-x.type;return E||P.type!==a&&(E=l(P.a,P.b,x.b),E)?E:P.idx-x.idx}function w(P,x){return l(P.a,P.b,x)}function v(P,x,E,T,i){for(var R=r.lt(x,T,w),A=r.gt(x,T,w),k=R;k<A;++k){for(var _=x[k],H=_.lowerIds,N=H.length;N>1&&l(E[H[N-2]],E[H[N-1]],T)>0;)P.push([H[N-1],H[N-2],i]),N-=1;H.length=N,H.push(i);for(var z=_.upperIds,N=z.length;N>1&&l(E[z[N-2]],E[z[N-1]],T)<0;)P.push([z[N-2],z[N-1],i]),N-=1;z.length=N,z.push(i)}}function o(P,x){var E;return P.a[0]<x.a[0]?E=l(P.a,P.b,x.a):E=l(x.b,x.a,P.a),E||(x.b[0]<P.b[0]?E=l(P.a,P.b,x.b):E=l(x.b,x.a,P.b),E||P.idx-x.idx)}function d(P,x,E){var T=r.le(P,E,o),i=P[T],R=i.upperIds,A=R[R.length-1];i.upperIds=[A],P.splice(T+1,0,new u(E.a,E.b,E.idx,[A],R))}function S(P,x,E){var T=E.a;E.a=E.b,E.b=T;var i=r.eq(P,E,o),R=P[i],A=P[i-1];A.upperIds=R.upperIds,P.splice(i,1)}function M(P,x){for(var E=P.length,T=x.length,i=[],R=0;R<E;++R)i.push(new b(P[R],null,a,R));for(var R=0;R<T;++R){var A=x[R],k=P[A[0]],_=P[A[1]];k[0]<_[0]?i.push(new b(k,_,c,R),new b(_,k,s,R)):k[0]>_[0]&&i.push(new b(_,k,c,R),new b(k,_,s,R))}i.sort(f);for(var H=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),z=[new u([H,1],[H,0],-1,[],[])],N=[],R=0,O=i.length;R<O;++R){var F=i[R],U=F.type;U===a?v(N,z,P,F.a,F.idx):U===c?d(z,P,F):S(z,P,F)}return N}},743:function(h,g,t){var r=t(5070);h.exports=c;function l(u,b){this.stars=u,this.edges=b}var a=l.prototype;function s(u,b,f){for(var w=1,v=u.length;w<v;w+=2)if(u[w-1]===b&&u[w]===f){u[w-1]=u[v-2],u[w]=u[v-1],u.length=v-2;return}}a.isConstraint=function(){var u=[0,0];function b(f,w){return f[0]-w[0]||f[1]-w[1]}return function(f,w){return u[0]=Math.min(f,w),u[1]=Math.max(f,w),r.eq(this.edges,u,b)>=0}}(),a.removeTriangle=function(u,b,f){var w=this.stars;s(w[u],b,f),s(w[b],f,u),s(w[f],u,b)},a.addTriangle=function(u,b,f){var w=this.stars;w[u].push(b,f),w[b].push(f,u),w[f].push(u,b)},a.opposite=function(u,b){for(var f=this.stars[b],w=1,v=f.length;w<v;w+=2)if(f[w]===u)return f[w-1];return-1},a.flip=function(u,b){var f=this.opposite(u,b),w=this.opposite(b,u);this.removeTriangle(u,b,f),this.removeTriangle(b,u,w),this.addTriangle(u,w,f),this.addTriangle(b,f,w)},a.edges=function(){for(var u=this.stars,b=[],f=0,w=u.length;f<w;++f)for(var v=u[f],o=0,d=v.length;o<d;o+=2)b.push([v[o],v[o+1]]);return b},a.cells=function(){for(var u=this.stars,b=[],f=0,w=u.length;f<w;++f)for(var v=u[f],o=0,d=v.length;o<d;o+=2){var S=v[o],M=v[o+1];f<Math.min(S,M)&&b.push([f,S,M])}return b};function c(u,b){for(var f=new Array(u),w=0;w<u;++w)f[w]=[];return new l(f,b)}},9887:function(h){h.exports=g;function g(t){for(var r=1,l=1;l<t.length;++l)for(var a=0;a<l;++a)if(t[l]<t[a])r=-r;else if(t[a]===t[l])return 0;return r}},9243:function(h,g,t){var r=t(3094),l=t(6606);function a(u,b){for(var f=0,w=u.length,v=0;v<w;++v)f+=u[v]*b[v];return f}function s(u){var b=u.length;if(b===0)return[];u[0].length;var f=r([u.length+1,u.length+1],1),w=r([u.length+1],1);f[b][b]=0;for(var v=0;v<b;++v){for(var o=0;o<=v;++o)f[o][v]=f[v][o]=2*a(u[v],u[o]);w[v]=a(u[v],u[v])}for(var d=l(f,w),S=0,M=d[b+1],v=0;v<M.length;++v)S+=M[v];for(var P=new Array(b),v=0;v<b;++v){for(var M=d[v],x=0,o=0;o<M.length;++o)x+=M[o];P[v]=x/S}return P}function c(u){if(u.length===0)return[];for(var b=u[0].length,f=r([b]),w=s(u),v=0;v<u.length;++v)for(var o=0;o<b;++o)f[o]+=u[v][o]*w[v];return f}c.barycenetric=s,h.exports=c},1778:function(h,g,t){h.exports=l;var r=t(9243);function l(a){for(var s=r(a),c=0,u=0;u<a.length;++u)for(var b=a[u],f=0;f<s.length;++f)c+=Math.pow(b[f]-s[f],2);return Math.sqrt(c/a.length)}},197:function(h,g,t){h.exports=k;var r=t(1731),l=t(2569),a=t(4434),s=t(5125),c=t(8846),u=t(7999),b=t(2826),f=t(8551),w=t(5528);function v(_){var H=u(_);return[f(H,-1/0),f(H,1/0)]}function o(_,H){for(var z=new Array(H.length),N=0;N<H.length;++N){var O=H[N],F=_[O[0]],U=_[O[1]];z[N]=[f(Math.min(F[0],U[0]),-1/0),f(Math.min(F[1],U[1]),-1/0),f(Math.max(F[0],U[0]),1/0),f(Math.max(F[1],U[1]),1/0)]}return z}function d(_){for(var H=new Array(_.length),z=0;z<_.length;++z){var N=_[z];H[z]=[f(N[0],-1/0),f(N[1],-1/0),f(N[0],1/0),f(N[1],1/0)]}return H}function S(_,H,z){var N=[];return l(z,function(O,F){var U=H[O],Z=H[F];if(!(U[0]===Z[0]||U[0]===Z[1]||U[1]===Z[0]||U[1]===Z[1])){var q=_[U[0]],J=_[U[1]],te=_[Z[0]],fe=_[Z[1]];a(q,J,te,fe)&&N.push([O,F])}}),N}function M(_,H,z,N){var O=[];return l(z,N,function(F,U){var Z=H[F];if(!(Z[0]===U||Z[1]===U)){var q=_[U],J=_[Z[0]],te=_[Z[1]];a(J,te,q,q)&&O.push([F,U])}}),O}function P(_,H,z,N,O){var F,U,Z=_.map(function(Ae){return[s(Ae[0]),s(Ae[1])]});for(F=0;F<z.length;++F){var q=z[F];U=q[0];var J=q[1],te=H[U],fe=H[J],K=w(b(_[te[0]]),b(_[te[1]]),b(_[fe[0]]),b(_[fe[1]]));if(K){var Y=_.length;_.push([u(K[0]),u(K[1])]),Z.push(K),N.push([U,Y],[J,Y])}}for(N.sort(function(Ae,Se){if(Ae[0]!==Se[0])return Ae[0]-Se[0];var Oe=Z[Ae[1]],Ve=Z[Se[1]];return c(Oe[0],Ve[0])||c(Oe[1],Ve[1])}),F=N.length-1;F>=0;--F){var W=N[F];U=W[0];var X=H[U],re=X[0],se=X[1],Q=_[re],ee=_[se];if((Q[0]-ee[0]||Q[1]-ee[1])<0){var le=re;re=se,se=le}X[0]=re;var oe=X[1]=W[1],he;for(O&&(he=X[2]);F>0&&N[F-1][0]===U;){var W=N[--F],xe=W[1];O?H.push([oe,xe,he]):H.push([oe,xe]),oe=xe}O?H.push([oe,se,he]):H.push([oe,se])}return Z}function x(_,H,z){for(var N=H.length,O=new r(N),F=[],U=0;U<H.length;++U){var Z=H[U],q=v(Z[0]),J=v(Z[1]);F.push([f(q[0],-1/0),f(J[0],-1/0),f(q[1],1/0),f(J[1],1/0)])}l(F,function(W,X){O.link(W,X)});for(var te=!0,fe=new Array(N),U=0;U<N;++U){var K=O.find(U);K!==U&&(te=!1,_[K]=[Math.min(_[U][0],_[K][0]),Math.min(_[U][1],_[K][1])])}if(te)return null;for(var Y=0,U=0;U<N;++U){var K=O.find(U);K===U?(fe[U]=Y,_[Y++]=_[U]):fe[U]=-1}_.length=Y;for(var U=0;U<N;++U)fe[U]<0&&(fe[U]=fe[O.find(U)]);return fe}function E(_,H){return _[0]-H[0]||_[1]-H[1]}function T(_,H){var z=_[0]-H[0]||_[1]-H[1];return z||(_[2]<H[2]?-1:_[2]>H[2]?1:0)}function i(_,H,z){if(_.length!==0){if(H)for(var N=0;N<_.length;++N){var O=_[N],F=H[O[0]],U=H[O[1]];O[0]=Math.min(F,U),O[1]=Math.max(F,U)}else for(var N=0;N<_.length;++N){var O=_[N],F=O[0],U=O[1];O[0]=Math.min(F,U),O[1]=Math.max(F,U)}z?_.sort(T):_.sort(E);for(var Z=1,N=1;N<_.length;++N){var q=_[N-1],J=_[N];J[0]===q[0]&&J[1]===q[1]&&(!z||J[2]===q[2])||(_[Z++]=J)}_.length=Z}}function R(_,H,z){var N=x(_,[],d(_));return i(H,N,z),!!N}function A(_,H,z){var N=o(_,H),O=S(_,H,N),F=d(_),U=M(_,H,N,F),Z=P(_,H,O,U,z),q=x(_,Z);return i(H,q,z),q?!0:O.length>0||U.length>0}function k(_,H,z){var N;if(z){N=H;for(var O=new Array(H.length),F=0;F<H.length;++F){var U=H[F];O[F]=[U[0],U[1],z[F]]}H=O}for(var Z=R(_,H,!!z);A(_,H,!!z);)Z=!0;if(z&&Z){N.length=0,z.length=0;for(var F=0;F<H.length;++F){var U=H[F];N.push([U[0],U[1]]),z.push(U[2])}}return Z}},5528:function(h,g,t){h.exports=w;var r=t(3962),l=t(9189),a=t(4354),s=t(4951),c=t(6695),u=t(7584),b=t(4469);function f(v,o){return a(r(v[0],o[1]),r(v[1],o[0]))}function w(v,o,d,S){var M=c(o,v),P=c(S,d),x=f(M,P);if(s(x)===0)return null;var E=c(v,d),T=f(P,E),i=l(T,x),R=b(M,i),A=u(v,R);return A}},5692:function(h){h.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(h,g,t){var r=t(5692),l=t(3578);h.exports=a;function a(b){var f,w,v,o,d,S,M,P,i,x,E;if(b||(b={}),P=(b.nshades||72)-1,M=b.format||"hex",S=b.colormap,S||(S="jet"),typeof S=="string"){if(S=S.toLowerCase(),!r[S])throw Error(S+" not a supported colorscale");d=r[S]}else if(Array.isArray(S))d=S.slice();else throw Error("unsupported colormap option",S);if(d.length>P+1)throw new Error(S+" map requires nshades to be at least size "+d.length);Array.isArray(b.alpha)?b.alpha.length!==2?x=[1,1]:x=b.alpha.slice():typeof b.alpha=="number"?x=[b.alpha,b.alpha]:x=[1,1],f=d.map(function(k){return Math.round(k.index*P)}),x[0]=Math.min(Math.max(x[0],0),1),x[1]=Math.min(Math.max(x[1],0),1);var T=d.map(function(k,_){var H=d[_].index,z=d[_].rgb.slice();return z.length===4&&z[3]>=0&&z[3]<=1||(z[3]=x[0]+(x[1]-x[0])*H),z}),i=[];for(E=0;E<f.length-1;++E){o=f[E+1]-f[E],w=T[E],v=T[E+1];for(var R=0;R<o;R++){var A=R/o;i.push([Math.round(l(w[0],v[0],A)),Math.round(l(w[1],v[1],A)),Math.round(l(w[2],v[2],A)),l(w[3],v[3],A)])}}return i.push(d[d.length-1].rgb.concat(x[1])),M==="hex"?i=i.map(c):M==="rgbaString"?i=i.map(u):M==="float"&&(i=i.map(s)),i}function s(b){return[b[0]/255,b[1]/255,b[2]/255,b[3]]}function c(b){for(var f,w="#",v=0;v<3;++v)f=b[v],f=f.toString(16),w+=("00"+f).substr(f.length);return w}function u(b){return"rgba("+b.join(",")+")"}},9398:function(h,g,t){h.exports=b;var r=t(417),l=t(7538),a=t(87),s=t(2019),c=t(9662);function u(f,w,v){var o=a(f[0],-w[0]),d=a(f[1],-w[1]),S=a(v[0],-w[0]),M=a(v[1],-w[1]),P=c(s(o,S),s(d,M));return P[P.length-1]>=0}function b(f,w,v,o){var d=r(w,v,o);if(d===0){var S=l(r(f,w,v)),M=l(r(f,w,o));if(S===M){if(S===0){var P=u(f,w,v),x=u(f,w,o);return P===x?0:P?1:-1}return 0}else{if(M===0)return S>0||u(f,w,o)?-1:1;if(S===0)return M>0||u(f,w,v)?1:-1}return l(M-S)}var E=r(f,w,v);if(E>0)return d>0&&r(f,w,o)>0?1:-1;if(E<0)return d>0||r(f,w,o)>0?1:-1;var T=r(f,w,o);return T>0||u(f,w,v)?1:-1}},7538:function(h){h.exports=function(t){return t<0?-1:t>0?1:0}},9209:function(h){h.exports=r;var g=Math.min;function t(l,a){return l-a}function r(l,a){var s=l.length,c=l.length-a.length;if(c)return c;switch(s){case 0:return 0;case 1:return l[0]-a[0];case 2:return l[0]+l[1]-a[0]-a[1]||g(l[0],l[1])-g(a[0],a[1]);case 3:var u=l[0]+l[1],b=a[0]+a[1];if(c=u+l[2]-(b+a[2]),c)return c;var f=g(l[0],l[1]),w=g(a[0],a[1]);return g(f,l[2])-g(w,a[2])||g(f+l[2],u)-g(w+a[2],b);case 4:var v=l[0],o=l[1],d=l[2],S=l[3],M=a[0],P=a[1],x=a[2],E=a[3];return v+o+d+S-(M+P+x+E)||g(v,o,d,S)-g(M,P,x,E,M)||g(v+o,v+d,v+S,o+d,o+S,d+S)-g(M+P,M+x,M+E,P+x,P+E,x+E)||g(v+o+d,v+o+S,v+d+S,o+d+S)-g(M+P+x,M+P+E,M+x+E,P+x+E);default:for(var T=l.slice().sort(t),i=a.slice().sort(t),R=0;R<s;++R)if(c=T[R]-i[R],c)return c;return 0}}},1284:function(h,g,t){var r=t(9209),l=t(9887);h.exports=a;function a(s,c){return r(s,c)||l(s)-l(c)}},5537:function(h,g,t){var r=t(8950),l=t(8722),a=t(3332);h.exports=s;function s(c){var u=c.length;if(u===0)return[];if(u===1)return[[0]];var b=c[0].length;return b===0?[]:b===1?r(c):b===2?l(c):a(c,b)}},8950:function(h){h.exports=g;function g(t){for(var r=0,l=0,a=1;a<t.length;++a)t[a][0]<t[r][0]&&(r=a),t[a][0]>t[l][0]&&(l=a);return r<l?[[r],[l]]:r>l?[[l],[r]]:[[r]]}},8722:function(h,g,t){h.exports=l;var r=t(3266);function l(a){var s=r(a),c=s.length;if(c<=2)return[];for(var u=new Array(c),b=s[c-1],f=0;f<c;++f){var w=s[f];u[f]=[b,w],b=w}return u}},3332:function(h,g,t){h.exports=c;var r=t(2183),l=t(2153);function a(u,b){for(var f=u.length,w=new Array(f),v=0;v<b.length;++v)w[v]=u[b[v]];for(var o=b.length,v=0;v<f;++v)b.indexOf(v)<0&&(w[o++]=u[v]);return w}function s(u,b){for(var f=u.length,w=b.length,v=0;v<f;++v)for(var o=u[v],d=0;d<o.length;++d){var S=o[d];if(S<w)o[d]=b[S];else{S=S-w;for(var M=0;M<w;++M)S>=b[M]&&(S+=1);o[d]=S}}return u}function c(u,b){try{return r(u,!0)}catch{var f=l(u);if(f.length<=b)return[];var w=a(u,f),v=r(w,!0);return s(v,f)}}},9680:function(h){function g(r,l,a,s,c,u){var b=6*c*c-6*c,f=3*c*c-4*c+1,w=-6*c*c+6*c,v=3*c*c-2*c;if(r.length){u||(u=new Array(r.length));for(var o=r.length-1;o>=0;--o)u[o]=b*r[o]+f*l[o]+w*a[o]+v*s[o];return u}return b*r+f*l+w*a[o]+v*s}function t(r,l,a,s,c,u){var b=c-1,f=c*c,w=b*b,v=(1+2*c)*w,o=c*w,d=f*(3-2*c),S=f*b;if(r.length){u||(u=new Array(r.length));for(var M=r.length-1;M>=0;--M)u[M]=v*r[M]+o*l[M]+d*a[M]+S*s[M];return u}return v*r+o*l+d*a+S*s}h.exports=t,h.exports.derivative=g},4419:function(h,g,t){var r=t(2183),l=t(1215);h.exports=u;function a(b,f){this.point=b,this.index=f}function s(b,f){for(var w=b.point,v=f.point,o=w.length,d=0;d<o;++d){var S=v[d]-w[d];if(S)return S}return 0}function c(b,f,w){if(b===1)return w?[[-1,0]]:[];var v=f.map(function(P,x){return[P[0],x]});v.sort(function(P,x){return P[0]-x[0]});for(var o=new Array(b-1),d=1;d<b;++d){var S=v[d-1],M=v[d];o[d-1]=[S[1],M[1]]}return w&&o.push([-1,o[0][1]],[o[b-1][1],-1]),o}function u(b,f){var w=b.length;if(w===0)return[];var v=b[0].length;if(v<1)return[];if(v===1)return c(w,b,f);for(var o=new Array(w),d=1,S=0;S<w;++S){for(var M=b[S],P=new Array(v+1),x=0,E=0;E<v;++E){var T=M[E];P[E]=T,x+=T*T}P[v]=x,o[S]=new a(P,S),d=Math.max(x,d)}l(o,s),w=o.length;for(var i=new Array(w+v+1),R=new Array(w+v+1),A=(v+1)*(v+1)*d,k=new Array(v+1),S=0;S<=v;++S)k[S]=0;k[v]=A,i[0]=k.slice(),R[0]=-1;for(var S=0;S<=v;++S){var P=k.slice();P[S]=1,i[S+1]=P,R[S+1]=-1}for(var S=0;S<w;++S){var _=o[S];i[S+v+1]=_.point,R[S+v+1]=_.index}var H=r(i,!1);if(f?H=H.filter(function(z){for(var N=0,O=0;O<=v;++O){var F=R[z[O]];if(F<0&&++N>=2)return!1;z[O]=F}return!0}):H=H.filter(function(z){for(var N=0;N<=v;++N){var O=R[z[N]];if(O<0)return!1;z[N]=O}return!0}),v&1)for(var S=0;S<H.length;++S){var _=H[S],P=_[0];_[0]=_[1],_[1]=P}return H}},8362:function(h){var g=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),r=new Uint32Array(t.buffer);if(t[0]=1,g=!0,r[1]===1072693248){let d=function(P,x){return r[0]=P,r[1]=x,t[0]},S=function(P){return t[0]=P,r[0]},M=function(P){return t[0]=P,r[1]};var a=d,s=S,c=M;h.exports=function(x){return t[0]=x,[r[0],r[1]]},h.exports.pack=d,h.exports.lo=S,h.exports.hi=M}else if(r[0]===1072693248){let d=function(P,x){return r[1]=P,r[0]=x,t[0]},S=function(P){return t[0]=P,r[1]},M=function(P){return t[0]=P,r[0]};var u=d,b=S,f=M;h.exports=function(x){return t[0]=x,[r[1],r[0]]},h.exports.pack=d,h.exports.lo=S,h.exports.hi=M}else g=!1}if(!g){let d=function(P,x){return l.writeUInt32LE(P,0,!0),l.writeUInt32LE(x,4,!0),l.readDoubleLE(0,!0)},S=function(P){return l.writeDoubleLE(P,0,!0),l.readUInt32LE(0,!0)},M=function(P){return l.writeDoubleLE(P,0,!0),l.readUInt32LE(4,!0)};var w=d,v=S,o=M,l=new Buffer(8);h.exports=function(x){return l.writeDoubleLE(x,0,!0),[l.readUInt32LE(0,!0),l.readUInt32LE(4,!0)]},h.exports.pack=d,h.exports.lo=S,h.exports.hi=M}h.exports.sign=function(d){return h.exports.hi(d)>>>31},h.exports.exponent=function(d){var S=h.exports.hi(d);return(S<<1>>>21)-1023},h.exports.fraction=function(d){var S=h.exports.lo(d),M=h.exports.hi(d),P=M&(1<<20)-1;return M&2146435072&&(P+=1048576),[S,P]},h.exports.denormalized=function(d){var S=h.exports.hi(d);return!(S&2146435072)}},3094:function(h){function g(l,a,s){var c=l[s]|0;if(c<=0)return[];var u=new Array(c),b;if(s===l.length-1)for(b=0;b<c;++b)u[b]=a;else for(b=0;b<c;++b)u[b]=g(l,a,s+1);return u}function t(l,a){var s,c;for(s=new Array(l),c=0;c<l;++c)s[c]=a;return s}function r(l,a){switch(typeof a>"u"&&(a=0),typeof l){case"number":if(l>0)return t(l|0,a);break;case"object":if(typeof l.length=="number")return g(l,a,0);break}return[]}h.exports=r},8348:function(h,g,t){h.exports=l;var r=t(1215);function l(a,s){var c=a.length;if(typeof s!="number"){s=0;for(var u=0;u<c;++u){var b=a[u];s=Math.max(s,b[0],b[1])}s=(s|0)+1}s=s|0;for(var f=new Array(s),u=0;u<s;++u)f[u]=[];for(var u=0;u<c;++u){var b=a[u];f[b[0]].push(b[1]),f[b[1]].push(b[0])}for(var w=0;w<s;++w)r(f[w],function(v,o){return v-o});return f}},5795:function(h){h.exports=g;function g(t,r,l){var a=r||0,s=l||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[a*t[12]+t[8],a*t[13]+t[9],a*t[14]+t[10],a*t[15]+t[11]],[s*t[12]-t[8],s*t[13]-t[9],s*t[14]-t[10],s*t[15]-t[11]]]}},8444:function(h,g,t){h.exports=b;var r=t(9680),l=t(5070);function a(f,w,v){return Math.min(w,Math.max(f,v))}function s(f,w,v){this.dimension=f.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var o=0;o<this.dimension;++o)this.bounds[0][o]=-1/0,this.bounds[1][o]=1/0;this._state=f.slice().reverse(),this._velocity=w.slice().reverse(),this._time=[v],this._scratch=[f.slice(),f.slice(),f.slice(),f.slice(),f.slice()]}var c=s.prototype;c.flush=function(f){var w=l.gt(this._time,f)-1;w<=0||(this._time.splice(0,w),this._state.splice(0,w*this.dimension),this._velocity.splice(0,w*this.dimension))},c.curve=function(f){var w=this._time,v=w.length,o=l.le(w,f),d=this._scratch[0],S=this._state,M=this._velocity,P=this.dimension,x=this.bounds;if(o<0)for(var E=P-1,T=0;T<P;++T,--E)d[T]=S[E];else if(o>=v-1)for(var E=S.length-1,i=f-w[v-1],T=0;T<P;++T,--E)d[T]=S[E]+i*M[E];else{for(var E=P*(o+1)-1,R=w[o],A=w[o+1],k=A-R||1,_=this._scratch[1],H=this._scratch[2],z=this._scratch[3],N=this._scratch[4],O=!0,T=0;T<P;++T,--E)_[T]=S[E],z[T]=M[E]*k,H[T]=S[E+P],N[T]=M[E+P]*k,O=O&&_[T]===H[T]&&z[T]===N[T]&&z[T]===0;if(O)for(var T=0;T<P;++T)d[T]=_[T];else r(_,z,H,N,(f-R)/k,d)}for(var F=x[0],U=x[1],T=0;T<P;++T)d[T]=a(F[T],U[T],d[T]);return d},c.dcurve=function(f){var w=this._time,v=w.length,o=l.le(w,f),d=this._scratch[0],S=this._state,M=this._velocity,P=this.dimension;if(o>=v-1){var x=S.length-1;f-w[v-1];for(var E=0;E<P;++E,--x)d[E]=M[x]}else{for(var x=P*(o+1)-1,T=w[o],i=w[o+1],R=i-T||1,A=this._scratch[1],k=this._scratch[2],_=this._scratch[3],H=this._scratch[4],z=!0,E=0;E<P;++E,--x)A[E]=S[x],_[E]=M[x]*R,k[E]=S[x+P],H[E]=M[x+P]*R,z=z&&A[E]===k[E]&&_[E]===H[E]&&_[E]===0;if(z)for(var E=0;E<P;++E)d[E]=0;else{r.derivative(A,_,k,H,(f-T)/R,d);for(var E=0;E<P;++E)d[E]/=R}}return d},c.lastT=function(){var f=this._time;return f[f.length-1]},c.stable=function(){for(var f=this._velocity,w=f.length,v=this.dimension-1;v>=0;--v)if(f[--w])return!1;return!0},c.jump=function(f){var w=this.lastT(),v=this.dimension;if(!(f<w||arguments.length!==v+1)){var o=this._state,d=this._velocity,S=o.length-this.dimension,M=this.bounds,P=M[0],x=M[1];this._time.push(w,f);for(var E=0;E<2;++E)for(var T=0;T<v;++T)o.push(o[S++]),d.push(0);this._time.push(f);for(var T=v;T>0;--T)o.push(a(P[T-1],x[T-1],arguments[T])),d.push(0)}},c.push=function(f){var w=this.lastT(),v=this.dimension;if(!(f<w||arguments.length!==v+1)){var o=this._state,d=this._velocity,S=o.length-this.dimension,M=f-w,P=this.bounds,x=P[0],E=P[1],T=M>1e-6?1/M:0;this._time.push(f);for(var i=v;i>0;--i){var R=a(x[i-1],E[i-1],arguments[i]);o.push(R),d.push((R-o[S++])*T)}}},c.set=function(f){var w=this.dimension;if(!(f<this.lastT()||arguments.length!==w+1)){var v=this._state,o=this._velocity,d=this.bounds,S=d[0],M=d[1];this._time.push(f);for(var P=w;P>0;--P)v.push(a(S[P-1],M[P-1],arguments[P])),o.push(0)}},c.move=function(f){var w=this.lastT(),v=this.dimension;if(!(f<=w||arguments.length!==v+1)){var o=this._state,d=this._velocity,S=o.length-this.dimension,M=this.bounds,P=M[0],x=M[1],E=f-w,T=E>1e-6?1/E:0;this._time.push(f);for(var i=v;i>0;--i){var R=arguments[i];o.push(a(P[i-1],x[i-1],o[S++]+R)),d.push(R*T)}}},c.idle=function(f){var w=this.lastT();if(!(f<w)){var v=this.dimension,o=this._state,d=this._velocity,S=o.length-v,M=this.bounds,P=M[0],x=M[1],E=f-w;this._time.push(f);for(var T=v-1;T>=0;--T)o.push(a(P[T],x[T],o[S]+E*d[S])),d.push(0),S+=1}};function u(f){for(var w=new Array(f),v=0;v<f;++v)w[v]=0;return w}function b(f,w,v){switch(arguments.length){case 0:return new s([0],[0],0);case 1:if(typeof f=="number"){var o=u(f);return new s(o,o,0)}else return new s(f,u(f.length),0);case 2:if(typeof w=="number"){var o=u(f.length);return new s(f,o,+w)}else v=0;case 3:if(f.length!==w.length)throw new Error("state and velocity lengths must match");return new s(f,w,v)}}},7080:function(h){h.exports=P;var g=0,t=1;function r(x,E,T,i,R,A){this._color=x,this.key=E,this.value=T,this.left=i,this.right=R,this._count=A}function l(x){return new r(x._color,x.key,x.value,x.left,x.right,x._count)}function a(x,E){return new r(x,E.key,E.value,E.left,E.right,E._count)}function s(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function c(x,E){this._compare=x,this.root=E}var u=c.prototype;Object.defineProperty(u,"keys",{get:function(){var x=[];return this.forEach(function(E,T){x.push(E)}),x}}),Object.defineProperty(u,"values",{get:function(){var x=[];return this.forEach(function(E,T){x.push(T)}),x}}),Object.defineProperty(u,"length",{get:function(){return this.root?this.root._count:0}}),u.insert=function(x,E){for(var T=this._compare,i=this.root,R=[],A=[];i;){var k=T(x,i.key);R.push(i),A.push(k),k<=0?i=i.left:i=i.right}R.push(new r(g,x,E,null,null,1));for(var _=R.length-2;_>=0;--_){var i=R[_];A[_]<=0?R[_]=new r(i._color,i.key,i.value,R[_+1],i.right,i._count+1):R[_]=new r(i._color,i.key,i.value,i.left,R[_+1],i._count+1)}for(var _=R.length-1;_>1;--_){var H=R[_-1],i=R[_];if(H._color===t||i._color===t)break;var z=R[_-2];if(z.left===H)if(H.left===i){var N=z.right;if(N&&N._color===g)H._color=t,z.right=a(t,N),z._color=g,_-=1;else{if(z._color=g,z.left=H.right,H._color=t,H.right=z,R[_-2]=H,R[_-1]=i,s(z),s(H),_>=3){var O=R[_-3];O.left===z?O.left=H:O.right=H}break}}else{var N=z.right;if(N&&N._color===g)H._color=t,z.right=a(t,N),z._color=g,_-=1;else{if(H.right=i.left,z._color=g,z.left=i.right,i._color=t,i.left=H,i.right=z,R[_-2]=i,R[_-1]=H,s(z),s(H),s(i),_>=3){var O=R[_-3];O.left===z?O.left=i:O.right=i}break}}else if(H.right===i){var N=z.left;if(N&&N._color===g)H._color=t,z.left=a(t,N),z._color=g,_-=1;else{if(z._color=g,z.right=H.left,H._color=t,H.left=z,R[_-2]=H,R[_-1]=i,s(z),s(H),_>=3){var O=R[_-3];O.right===z?O.right=H:O.left=H}break}}else{var N=z.left;if(N&&N._color===g)H._color=t,z.left=a(t,N),z._color=g,_-=1;else{if(H.left=i.right,z._color=g,z.right=i.left,i._color=t,i.right=H,i.left=z,R[_-2]=i,R[_-1]=H,s(z),s(H),s(i),_>=3){var O=R[_-3];O.right===z?O.right=i:O.left=i}break}}}return R[0]._color=t,new c(T,R[0])};function b(x,E){if(E.left){var T=b(x,E.left);if(T)return T}var T=x(E.key,E.value);if(T)return T;if(E.right)return b(x,E.right)}function f(x,E,T,i){var R=E(x,i.key);if(R<=0){if(i.left){var A=f(x,E,T,i.left);if(A)return A}var A=T(i.key,i.value);if(A)return A}if(i.right)return f(x,E,T,i.right)}function w(x,E,T,i,R){var A=T(x,R.key),k=T(E,R.key),_;if(A<=0&&(R.left&&(_=w(x,E,T,i,R.left),_)||k>0&&(_=i(R.key,R.value),_)))return _;if(k>0&&R.right)return w(x,E,T,i,R.right)}u.forEach=function(E,T,i){if(this.root)switch(arguments.length){case 1:return b(E,this.root);case 2:return f(T,this._compare,E,this.root);case 3:return this._compare(T,i)>=0?void 0:w(T,i,this._compare,E,this.root)}},Object.defineProperty(u,"begin",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.left;return new v(this,x)}}),Object.defineProperty(u,"end",{get:function(){for(var x=[],E=this.root;E;)x.push(E),E=E.right;return new v(this,x)}}),u.at=function(x){if(x<0)return new v(this,[]);for(var E=this.root,T=[];;){if(T.push(E),E.left){if(x<E.left._count){E=E.left;continue}x-=E.left._count}if(!x)return new v(this,T);if(x-=1,E.right){if(x>=E.right._count)break;E=E.right}else break}return new v(this,[])},u.ge=function(x){for(var E=this._compare,T=this.root,i=[],R=0;T;){var A=E(x,T.key);i.push(T),A<=0&&(R=i.length),A<=0?T=T.left:T=T.right}return i.length=R,new v(this,i)},u.gt=function(x){for(var E=this._compare,T=this.root,i=[],R=0;T;){var A=E(x,T.key);i.push(T),A<0&&(R=i.length),A<0?T=T.left:T=T.right}return i.length=R,new v(this,i)},u.lt=function(x){for(var E=this._compare,T=this.root,i=[],R=0;T;){var A=E(x,T.key);i.push(T),A>0&&(R=i.length),A<=0?T=T.left:T=T.right}return i.length=R,new v(this,i)},u.le=function(x){for(var E=this._compare,T=this.root,i=[],R=0;T;){var A=E(x,T.key);i.push(T),A>=0&&(R=i.length),A<0?T=T.left:T=T.right}return i.length=R,new v(this,i)},u.find=function(x){for(var E=this._compare,T=this.root,i=[];T;){var R=E(x,T.key);if(i.push(T),R===0)return new v(this,i);R<=0?T=T.left:T=T.right}return new v(this,[])},u.remove=function(x){var E=this.find(x);return E?E.remove():this},u.get=function(x){for(var E=this._compare,T=this.root;T;){var i=E(x,T.key);if(i===0)return T.value;i<=0?T=T.left:T=T.right}};function v(x,E){this.tree=x,this._stack=E}var o=v.prototype;Object.defineProperty(o,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(o,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),o.clone=function(){return new v(this.tree,this._stack.slice())};function d(x,E){x.key=E.key,x.value=E.value,x.left=E.left,x.right=E.right,x._color=E._color,x._count=E._count}function S(x){for(var E,T,i,R,A=x.length-1;A>=0;--A){if(E=x[A],A===0){E._color=t;return}if(T=x[A-1],T.left===E){if(i=T.right,i.right&&i.right._color===g){if(i=T.right=l(i),R=i.right=l(i.right),T.right=i.left,i.left=T,i.right=R,i._color=T._color,E._color=t,T._color=t,R._color=t,s(T),s(i),A>1){var k=x[A-2];k.left===T?k.left=i:k.right=i}x[A-1]=i;return}else if(i.left&&i.left._color===g){if(i=T.right=l(i),R=i.left=l(i.left),T.right=R.left,i.left=R.right,R.left=T,R.right=i,R._color=T._color,T._color=t,i._color=t,E._color=t,s(T),s(i),s(R),A>1){var k=x[A-2];k.left===T?k.left=R:k.right=R}x[A-1]=R;return}if(i._color===t)if(T._color===g){T._color=t,T.right=a(g,i);return}else{T.right=a(g,i);continue}else{if(i=l(i),T.right=i.left,i.left=T,i._color=T._color,T._color=g,s(T),s(i),A>1){var k=x[A-2];k.left===T?k.left=i:k.right=i}x[A-1]=i,x[A]=T,A+1<x.length?x[A+1]=E:x.push(E),A=A+2}}else{if(i=T.left,i.left&&i.left._color===g){if(i=T.left=l(i),R=i.left=l(i.left),T.left=i.right,i.right=T,i.left=R,i._color=T._color,E._color=t,T._color=t,R._color=t,s(T),s(i),A>1){var k=x[A-2];k.right===T?k.right=i:k.left=i}x[A-1]=i;return}else if(i.right&&i.right._color===g){if(i=T.left=l(i),R=i.right=l(i.right),T.left=R.right,i.right=R.left,R.right=T,R.left=i,R._color=T._color,T._color=t,i._color=t,E._color=t,s(T),s(i),s(R),A>1){var k=x[A-2];k.right===T?k.right=R:k.left=R}x[A-1]=R;return}if(i._color===t)if(T._color===g){T._color=t,T.left=a(g,i);return}else{T.left=a(g,i);continue}else{if(i=l(i),T.left=i.right,i.right=T,i._color=T._color,T._color=g,s(T),s(i),A>1){var k=x[A-2];k.right===T?k.right=i:k.left=i}x[A-1]=i,x[A]=T,A+1<x.length?x[A+1]=E:x.push(E),A=A+2}}}}o.remove=function(){var x=this._stack;if(x.length===0)return this.tree;var E=new Array(x.length),T=x[x.length-1];E[E.length-1]=new r(T._color,T.key,T.value,T.left,T.right,T._count);for(var i=x.length-2;i>=0;--i){var T=x[i];T.left===x[i+1]?E[i]=new r(T._color,T.key,T.value,E[i+1],T.right,T._count):E[i]=new r(T._color,T.key,T.value,T.left,E[i+1],T._count)}if(T=E[E.length-1],T.left&&T.right){var R=E.length;for(T=T.left;T.right;)E.push(T),T=T.right;var A=E[R-1];E.push(new r(T._color,A.key,A.value,T.left,T.right,T._count)),E[R-1].key=T.key,E[R-1].value=T.value;for(var i=E.length-2;i>=R;--i)T=E[i],E[i]=new r(T._color,T.key,T.value,T.left,E[i+1],T._count);E[R-1].left=E[R]}if(T=E[E.length-1],T._color===g){var k=E[E.length-2];k.left===T?k.left=null:k.right===T&&(k.right=null),E.pop();for(var i=0;i<E.length;++i)E[i]._count--;return new c(this.tree._compare,E[0])}else if(T.left||T.right){T.left?d(T,T.left):T.right&&d(T,T.right),T._color=t;for(var i=0;i<E.length-1;++i)E[i]._count--;return new c(this.tree._compare,E[0])}else{if(E.length===1)return new c(this.tree._compare,null);for(var i=0;i<E.length;++i)E[i]._count--;var _=E[E.length-2];S(E),_.left===T?_.left=null:_.right=null}return new c(this.tree._compare,E[0])},Object.defineProperty(o,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(o,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(o,"index",{get:function(){var x=0,E=this._stack;if(E.length===0){var T=this.tree.root;return T?T._count:0}else E[E.length-1].left&&(x=E[E.length-1].left._count);for(var i=E.length-2;i>=0;--i)E[i+1]===E[i].right&&(++x,E[i].left&&(x+=E[i].left._count));return x},enumerable:!0}),o.next=function(){var x=this._stack;if(x.length!==0){var E=x[x.length-1];if(E.right)for(E=E.right;E;)x.push(E),E=E.left;else for(x.pop();x.length>0&&x[x.length-1].right===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(o,"hasNext",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].right)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].left===x[E])return!0;return!1}}),o.update=function(x){var E=this._stack;if(E.length===0)throw new Error("Can't update empty node!");var T=new Array(E.length),i=E[E.length-1];T[T.length-1]=new r(i._color,i.key,x,i.left,i.right,i._count);for(var R=E.length-2;R>=0;--R)i=E[R],i.left===E[R+1]?T[R]=new r(i._color,i.key,i.value,T[R+1],i.right,i._count):T[R]=new r(i._color,i.key,i.value,i.left,T[R+1],i._count);return new c(this.tree._compare,T[0])},o.prev=function(){var x=this._stack;if(x.length!==0){var E=x[x.length-1];if(E.left)for(E=E.left;E;)x.push(E),E=E.right;else for(x.pop();x.length>0&&x[x.length-1].left===E;)E=x[x.length-1],x.pop()}},Object.defineProperty(o,"hasPrev",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].left)return!0;for(var E=x.length-1;E>0;--E)if(x[E-1].right===x[E])return!0;return!1}});function M(x,E){return x<E?-1:x>E?1:0}function P(x){return new c(x||M,null)}},7453:function(h,g,t){h.exports=i;var r=t(9557),l=t(1681),a=t(1011),s=t(2864),c=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function b(R,A){return R[0]=A[0],R[1]=A[1],R[2]=A[2],R}function f(R){this.gl=R,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(R)}var w=f.prototype;w.update=function(R){R=R||{};function A(te,fe,K){if(K in R){var Y=R[K],W=this[K],X;(te?Array.isArray(Y)&&Array.isArray(Y[0]):Array.isArray(Y))?this[K]=X=[fe(Y[0]),fe(Y[1]),fe(Y[2])]:this[K]=X=[fe(Y),fe(Y),fe(Y)];for(var re=0;re<3;++re)if(X[re]!==W[re])return!0}return!1}var k=A.bind(this,!1,Number),_=A.bind(this,!1,Boolean),H=A.bind(this,!1,String),z=A.bind(this,!0,function(te){if(Array.isArray(te)){if(te.length===3)return[+te[0],+te[1],+te[2],1];if(te.length===4)return[+te[0],+te[1],+te[2],+te[3]]}return[0,0,0,1]}),N,O=!1,F=!1;if("bounds"in R)for(var U=R.bounds,Z=0;Z<2;++Z)for(var q=0;q<3;++q)U[Z][q]!==this.bounds[Z][q]&&(F=!0),this.bounds[Z][q]=U[Z][q];if("ticks"in R){N=R.ticks,O=!0,this.autoTicks=!1;for(var Z=0;Z<3;++Z)this.tickSpacing[Z]=0}else k("tickSpacing")&&(this.autoTicks=!0,F=!0);if(this._firstInit&&("ticks"in R||"tickSpacing"in R||(this.autoTicks=!0),F=!0,O=!0,this._firstInit=!1),F&&this.autoTicks&&(N=c.create(this.bounds,this.tickSpacing),O=!0),O){for(var Z=0;Z<3;++Z)N[Z].sort(function(fe,K){return fe.x-K.x});c.equal(N,this.ticks)?O=!1:this.ticks=N}_("tickEnable"),H("tickFont")&&(O=!0),k("tickSize"),k("tickAngle"),k("tickPad"),z("tickColor");var J=H("labels");H("labelFont")&&(J=!0),_("labelEnable"),k("labelSize"),k("labelPad"),z("labelColor"),_("lineEnable"),_("lineMirror"),k("lineWidth"),z("lineColor"),_("lineTickEnable"),_("lineTickMirror"),k("lineTickLength"),k("lineTickWidth"),z("lineTickColor"),_("gridEnable"),k("gridWidth"),z("gridColor"),_("zeroEnable"),z("zeroLineColor"),k("zeroLineWidth"),_("backgroundEnable"),z("backgroundColor"),this._text?this._text&&(J||O)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=r(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&O&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=l(this.gl,this.bounds,this.ticks))};function v(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}var o=[new v,new v,new v];function d(R,A,k,_,H){for(var z=R.primalOffset,N=R.primalMinor,O=R.mirrorOffset,F=R.mirrorMinor,U=_[A],Z=0;Z<3;++Z)if(A!==Z){var q=z,J=O,te=N,fe=F;U&1<<Z&&(q=O,J=z,te=F,fe=N),q[Z]=k[0][Z],J[Z]=k[1][Z],H[Z]>0?(te[Z]=-1,fe[Z]=0):(te[Z]=0,fe[Z]=1)}}var S=[0,0,0],M={model:u,view:u,projection:u,_ortho:!1};w.isOpaque=function(){return!0},w.isTransparent=function(){return!1},w.drawTransparent=function(R){};var P=0,x=[0,0,0],E=[0,0,0],T=[0,0,0];w.draw=function(R){R=R||M;for(var W=this.gl,A=R.model||u,k=R.view||u,_=R.projection||u,H=this.bounds,z=R._ortho||!1,N=s(A,k,_,H,z),O=N.cubeEdges,F=N.axis,U=k[12],Z=k[13],q=k[14],J=k[15],te=z?2:1,fe=te*this.pixelRatio*(_[3]*U+_[7]*Z+_[11]*q+_[15]*J)/W.drawingBufferHeight,K=0;K<3;++K)this.lastCubeProps.cubeEdges[K]=O[K],this.lastCubeProps.axis[K]=F[K];for(var Y=o,K=0;K<3;++K)d(o[K],K,this.bounds,O,F);for(var W=this.gl,X=S,K=0;K<3;++K)this.backgroundEnable[K]?X[K]=F[K]:X[K]=0;this._background.draw(A,k,_,H,X,this.backgroundColor),this._lines.bind(A,k,_,this);for(var K=0;K<3;++K){var re=[0,0,0];F[K]>0?re[K]=H[1][K]:re[K]=H[0][K];for(var se=0;se<2;++se){var Q=(K+1+se)%3,ee=(K+1+(se^1))%3;this.gridEnable[Q]&&this._lines.drawGrid(Q,ee,this.bounds,re,this.gridColor[Q],this.gridWidth[Q]*this.pixelRatio)}for(var se=0;se<2;++se){var Q=(K+1+se)%3,ee=(K+1+(se^1))%3;this.zeroEnable[ee]&&Math.min(H[0][ee],H[1][ee])<=0&&Math.max(H[0][ee],H[1][ee])>=0&&this._lines.drawZero(Q,ee,this.bounds,re,this.zeroLineColor[ee],this.zeroLineWidth[ee]*this.pixelRatio)}}for(var K=0;K<3;++K){this.lineEnable[K]&&this._lines.drawAxisLine(K,this.bounds,Y[K].primalOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio),this.lineMirror[K]&&this._lines.drawAxisLine(K,this.bounds,Y[K].mirrorOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio);for(var le=b(x,Y[K].primalMinor),oe=b(E,Y[K].mirrorMinor),he=this.lineTickLength,se=0;se<3;++se){var xe=fe/A[5*se];le[se]*=he[se]*xe,oe[se]*=he[se]*xe}this.lineTickEnable[K]&&this._lines.drawAxisTicks(K,Y[K].primalOffset,le,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio),this.lineTickMirror[K]&&this._lines.drawAxisTicks(K,Y[K].mirrorOffset,oe,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio)}this._lines.unbind(),this._text.bind(A,k,_,this.pixelRatio);var Ae,Se=.5,Oe,Ve;function Ee(We){Ve=[0,0,0],Ve[We]=1}function Te(We,nt,qe){var Qe=(We+1)%3,tt=(We+2)%3,vt=nt[Qe],dt=nt[tt],gt=qe[Qe],Mt=qe[tt];if(vt>0&&Mt>0){Ee(Qe);return}else if(vt>0&&Mt<0){Ee(Qe);return}else if(vt<0&&Mt>0){Ee(Qe);return}else if(vt<0&&Mt<0){Ee(Qe);return}else if(dt>0&&gt>0){Ee(tt);return}else if(dt>0&&gt<0){Ee(tt);return}else if(dt<0&&gt>0){Ee(tt);return}else if(dt<0&&gt<0){Ee(tt);return}}for(var K=0;K<3;++K){for(var Le=Y[K].primalMinor,Ge=Y[K].mirrorMinor,He=b(T,Y[K].primalOffset),se=0;se<3;++se)this.lineTickEnable[K]&&(He[se]+=fe*Le[se]*Math.max(this.lineTickLength[se],0)/A[5*se]);var ke=[0,0,0];if(ke[K]=1,this.tickEnable[K]){this.tickAngle[K]===-3600?(this.tickAngle[K]=0,this.tickAlign[K]="auto"):this.tickAlign[K]=-1,Oe=1,Ae=[this.tickAlign[K],Se,Oe],Ae[0]==="auto"?Ae[0]=P:Ae[0]=parseInt(""+Ae[0]),Ve=[0,0,0],Te(K,Le,Ge);for(var se=0;se<3;++se)He[se]+=fe*Le[se]*this.tickPad[se]/A[5*se];this._text.drawTicks(K,this.tickSize[K],this.tickAngle[K],He,this.tickColor[K],ke,Ve,Ae)}if(this.labelEnable[K]){Oe=0,Ve=[0,0,0],this.labels[K].length>4&&(Ee(K),Oe=1),Ae=[this.labelAlign[K],Se,Oe],Ae[0]==="auto"?Ae[0]=P:Ae[0]=parseInt(""+Ae[0]);for(var se=0;se<3;++se)He[se]+=fe*Le[se]*this.labelPad[se]/A[5*se];He[K]+=.5*(H[0][K]+H[1][K]),this._text.drawLabel(K,this.labelSize[K],this.labelAngle[K],He,this.labelColor[K],[0,0,0],Ve,Ae)}}this._text.unbind()},w.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null};function i(R,A){var k=new f(R);return k.update(A),k}},1011:function(h,g,t){h.exports=u;var r=t(5827),l=t(2944),a=t(1943).bg;function s(b,f,w,v){this.gl=b,this.buffer=f,this.vao=w,this.shader=v}var c=s.prototype;c.draw=function(b,f,w,v,o,d){for(var S=!1,M=0;M<3;++M)S=S||o[M];if(S){var P=this.gl;P.enable(P.POLYGON_OFFSET_FILL),P.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:b,view:f,projection:w,bounds:v,enable:o,colors:d},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),P.disable(P.POLYGON_OFFSET_FILL)}},c.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function u(b){for(var f=[],w=[],v=0,o=0;o<3;++o)for(var d=(o+1)%3,S=(o+2)%3,M=[0,0,0],P=[0,0,0],x=-1;x<=1;x+=2){w.push(v,v+2,v+1,v+1,v+2,v+3),M[o]=x,P[o]=x;for(var E=-1;E<=1;E+=2){M[d]=E;for(var T=-1;T<=1;T+=2)M[S]=T,f.push(M[0],M[1],M[2],P[0],P[1],P[2]),v+=1}var i=d;d=S,S=i}var R=r(b,new Float32Array(f)),A=r(b,new Uint16Array(w),b.ELEMENT_ARRAY_BUFFER),k=l(b,[{buffer:R,type:b.FLOAT,size:3,offset:0,stride:24},{buffer:R,type:b.FLOAT,size:3,offset:12,stride:24}],A),_=a(b);return _.attributes.position.location=0,_.attributes.normal.location=1,new s(b,R,k,_)}},2864:function(h,g,t){h.exports=x;var r=t(2288),l=t(104),a=t(4670),s=t(417),c=new Array(16),u=new Array(8),b=new Array(8),f=new Array(3),w=[0,0,0];(function(){for(var E=0;E<8;++E)u[E]=[1,1,1,1],b[E]=[1,1,1]})();function v(E,T,i){for(var R=0;R<4;++R){E[R]=i[12+R];for(var A=0;A<3;++A)E[R]+=T[A]*i[4*A+R]}}var o=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(E){for(var T=0;T<o.length;++T)if(E=a.positive(E,o[T]),E.length<3)return 0;for(var i=E[0],R=i[0]/i[3],A=i[1]/i[3],k=0,T=1;T+1<E.length;++T){var _=E[T],H=E[T+1],z=_[0]/_[3],N=_[1]/_[3],O=H[0]/H[3],F=H[1]/H[3],U=z-R,Z=N-A,q=O-R,J=F-A;k+=Math.abs(U*J-Z*q)}return k}var S=[1,1,1],M=[0,0,0],P={cubeEdges:S,axis:M};function x(E,T,i,R,A){l(c,T,E),l(c,i,c);for(var k=0,_=0;_<2;++_){f[2]=R[_][2];for(var H=0;H<2;++H){f[1]=R[H][1];for(var z=0;z<2;++z)f[0]=R[z][0],v(u[k],f,c),k+=1}}for(var N=-1,_=0;_<8;++_){for(var O=u[_][3],F=0;F<3;++F)b[_][F]=u[_][F]/O;A&&(b[_][2]*=-1),O<0&&(N<0||b[_][2]<b[N][2])&&(N=_)}if(N<0){N=0;for(var U=0;U<3;++U){for(var Z=(U+2)%3,q=(U+1)%3,J=-1,te=-1,fe=0;fe<2;++fe){var K=fe<<U,Y=K+(fe<<Z)+(1-fe<<q),W=K+(1-fe<<Z)+(fe<<q);s(b[K],b[Y],b[W],w)<0||(fe?J=1:te=1)}if(J<0||te<0){te>J&&(N|=1<<U);continue}for(var fe=0;fe<2;++fe){var K=fe<<U,Y=K+(fe<<Z)+(1-fe<<q),W=K+(1-fe<<Z)+(fe<<q),X=d([u[K],u[Y],u[W],u[K+(1<<Z)+(1<<q)]]);fe?J=X:te=X}if(te>J){N|=1<<U;continue}}}for(var re=7^N,se=-1,_=0;_<8;++_)_===N||_===re||(se<0||b[se][1]>b[_][1])&&(se=_);for(var Q=-1,_=0;_<3;++_){var ee=se^1<<_;if(!(ee===N||ee===re)){Q<0&&(Q=ee);var q=b[ee];q[0]<b[Q][0]&&(Q=ee)}}for(var le=-1,_=0;_<3;++_){var ee=se^1<<_;if(!(ee===N||ee===re||ee===Q)){le<0&&(le=ee);var q=b[ee];q[0]>b[le][0]&&(le=ee)}}var oe=S;oe[0]=oe[1]=oe[2]=0,oe[r.log2(Q^se)]=se&Q,oe[r.log2(se^le)]=se&le;var he=le^7;he===N||he===re?(he=Q^7,oe[r.log2(le^he)]=he&le):oe[r.log2(Q^he)]=he&Q;for(var xe=M,Ae=N,U=0;U<3;++U)Ae&1<<U?xe[U]=-1:xe[U]=1;return P}},1681:function(h,g,t){h.exports=S;var r=t(5827),l=t(2944),a=t(1943).j,s=[0,0,0],c=[0,0,0],u=[0,0,0],b=[0,0,0],f=[1,1];function w(M){return M[0]=M[1]=M[2]=0,M}function v(M,P){return M[0]=P[0],M[1]=P[1],M[2]=P[2],M}function o(M,P,x,E,T,i,R,A){this.gl=M,this.vertBuffer=P,this.vao=x,this.shader=E,this.tickCount=T,this.tickOffset=i,this.gridCount=R,this.gridOffset=A}var d=o.prototype;d.bind=function(M,P,x){this.shader.bind(),this.shader.uniforms.model=M,this.shader.uniforms.view=P,this.shader.uniforms.projection=x,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=f,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(M,P,x,E,T){var i=w(c);this.shader.uniforms.majorAxis=c,i[M]=P[1][M]-P[0][M],this.shader.uniforms.minorAxis=i;var R=v(b,x);R[M]+=P[0][M],this.shader.uniforms.offset=R,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=E;var A=w(u);A[(M+2)%3]=1,this.shader.uniforms.screenAxis=A,this.vao.draw(this.gl.TRIANGLES,6);var A=w(u);A[(M+1)%3]=1,this.shader.uniforms.screenAxis=A,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(M,P,x,E,T){if(this.tickCount[M]){var i=w(s);i[M]=1,this.shader.uniforms.majorAxis=i,this.shader.uniforms.offset=P,this.shader.uniforms.minorAxis=x,this.shader.uniforms.color=E,this.shader.uniforms.lineWidth=T;var R=w(u);R[M]=1,this.shader.uniforms.screenAxis=R,this.vao.draw(this.gl.TRIANGLES,this.tickCount[M],this.tickOffset[M])}},d.drawGrid=function(M,P,x,E,T,i){if(this.gridCount[M]){var R=w(c);R[P]=x[1][P]-x[0][P],this.shader.uniforms.minorAxis=R;var A=v(b,E);A[P]+=x[0][P],this.shader.uniforms.offset=A;var k=w(s);k[M]=1,this.shader.uniforms.majorAxis=k;var _=w(u);_[M]=1,this.shader.uniforms.screenAxis=_,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=T,this.vao.draw(this.gl.TRIANGLES,this.gridCount[M],this.gridOffset[M])}},d.drawZero=function(M,P,x,E,T,i){var R=w(c);this.shader.uniforms.majorAxis=R,R[M]=x[1][M]-x[0][M],this.shader.uniforms.minorAxis=R;var A=v(b,E);A[M]+=x[0][M],this.shader.uniforms.offset=A;var k=w(u);k[P]=1,this.shader.uniforms.screenAxis=k,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=T,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()};function S(M,P,x){var E=[],T=[0,0,0],i=[0,0,0],R=[0,0,0],A=[0,0,0];E.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var k=0;k<3;++k){for(var z=E.length/3|0,_=0;_<x[k].length;++_){var H=+x[k][_].x;E.push(H,0,1,H,1,1,H,0,-1,H,0,-1,H,1,1,H,1,-1)}var O=E.length/3|0;T[k]=z,i[k]=O-z;for(var z=E.length/3|0,N=0;N<x[k].length;++N){var H=+x[k][N].x;E.push(H,0,1,H,1,1,H,0,-1,H,0,-1,H,1,1,H,1,-1)}var O=E.length/3|0;R[k]=z,A[k]=O-z}var F=r(M,new Float32Array(E)),U=l(M,[{buffer:F,type:M.FLOAT,size:3,stride:0,offset:0}]),Z=a(M);return Z.attributes.position.location=0,new o(M,F,U,Z,i,T,A,R)}},1943:function(h,g,t){var r=t(6832),l=t(5158),a=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.j=function(w){return l(w,a,s,null,[{name:"position",type:"vec3"}])};var c=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);g.f=function(w){return l(w,c,u,null,[{name:"position",type:"vec3"}])};var b=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),f=r([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);g.bg=function(w){return l(w,b,f,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(h,g,t){h.exports=d;var r=t(5827),l=t(2944),a=t(875),s=t(1943).f,c=window||p.global||{},u=c.__TEXT_CACHE||{};c.__TEXT_CACHE={};var b=3;function f(S,M,P,x){this.gl=S,this.shader=M,this.buffer=P,this.vao=x,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var w=f.prototype,v=[0,0];w.bind=function(S,M,P,x){this.vao.bind(),this.shader.bind();var E=this.shader.uniforms;E.model=S,E.view=M,E.projection=P,E.pixelScale=x,v[0]=this.gl.drawingBufferWidth,v[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=v},w.unbind=function(){this.vao.unbind()},w.update=function(S,M,P,x,E){var T=[];function i(F,U,Z,q,J,te){var fe=u[Z];fe||(fe=u[Z]={});var K=fe[U];K||(K=fe[U]=o(U,{triangles:!0,font:Z,textAlign:"center",textBaseline:"middle",lineSpacing:J,styletags:te}));for(var Y=(q||12)/12,W=K.positions,X=K.cells,re=0,se=X.length;re<se;++re)for(var Q=X[re],ee=2;ee>=0;--ee){var le=W[Q[ee]];T.push(Y*le[0],-Y*le[1],F)}}for(var R=[0,0,0],A=[0,0,0],k=[0,0,0],_=[0,0,0],H=1.25,z={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},N=0;N<3;++N){k[N]=T.length/b|0,i(.5*(S[0][N]+S[1][N]),M[N],P[N],12,H,z),_[N]=(T.length/b|0)-k[N],R[N]=T.length/b|0;for(var O=0;O<x[N].length;++O)x[N][O].text&&i(x[N][O].x,x[N][O].text,x[N][O].font||E,x[N][O].fontSize||12,H,z);A[N]=(T.length/b|0)-R[N]}this.buffer.update(T),this.tickOffset=R,this.tickCount=A,this.labelOffset=k,this.labelCount=_},w.drawTicks=function(S,M,P,x,E,T,i,R){this.tickCount[S]&&(this.shader.uniforms.axis=T,this.shader.uniforms.color=E,this.shader.uniforms.angle=P,this.shader.uniforms.scale=M,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=R,this.vao.draw(this.gl.TRIANGLES,this.tickCount[S],this.tickOffset[S]))},w.drawLabel=function(S,M,P,x,E,T,i,R){this.labelCount[S]&&(this.shader.uniforms.axis=T,this.shader.uniforms.color=E,this.shader.uniforms.angle=P,this.shader.uniforms.scale=M,this.shader.uniforms.offset=x,this.shader.uniforms.alignDir=i,this.shader.uniforms.alignOpt=R,this.vao.draw(this.gl.TRIANGLES,this.labelCount[S],this.labelOffset[S]))},w.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()};function o(S,M){try{return a(S,M)}catch(P){return console.warn('error vectorizing text:"'+S+'" error:',P),{cells:[],positions:[]}}}function d(S,M,P,x,E,T){var i=r(S),R=l(S,[{buffer:i,size:3}]),A=s(S);A.attributes.position.location=0;var k=new f(S,A,i,R);return k.update(M,P,x,E,T),k}},8468:function(h,g){g.create=r,g.equal=l;function t(a,s){var c=a+"",u=c.indexOf("."),b=0;u>=0&&(b=c.length-u-1);var f=Math.pow(10,b),w=Math.round(a*s*f),v=w+"";if(v.indexOf("e")>=0)return v;var o=w/f,d=w%f;w<0?(o=-Math.ceil(o)|0,d=-d|0):(o=Math.floor(o)|0,d=d|0);var S=""+o;if(w<0&&(S="-"+S),b){for(var M=""+d;M.length<b;)M="0"+M;return S+"."+M}else return S}function r(a,s){for(var c=[],u=0;u<3;++u){var b=[];.5*(a[0][u]+a[1][u]);for(var f=0;f*s[u]<=a[1][u];++f)b.push({x:f*s[u],text:t(s[u],f)});for(var f=-1;f*s[u]>=a[0][u];--f)b.push({x:f*s[u],text:t(s[u],f)});c.push(b)}return c}function l(a,s){for(var c=0;c<3;++c){if(a[c].length!==s[c].length)return!1;for(var u=0;u<a[c].length;++u){var b=a[c][u],f=s[c][u];if(b.x!==f.x||b.text!==f.text||b.font!==f.font||b.fontColor!==f.fontColor||b.fontSize!==f.fontSize||b.dx!==f.dx||b.dy!==f.dy)return!1}}return!0}},2771:function(h,g,t){h.exports=P;var r=t(5795),l=t(4670),a=t(2864),s=t(104),c=t(2142),u=t(6342),b=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),f=new Float32Array(16);function w(x,E,T){this.lo=x,this.hi=E,this.pixelsPerDataUnit=T}var v=[0,0,0,1],o=[0,0,0,1];function d(x,E,T,i,R){for(var A=0;A<3;++A){for(var k=v,_=o,H=0;H<3;++H)_[H]=k[H]=T[H];_[3]=k[3]=1,_[A]+=1,u(_,_,E),_[3]<0&&(x[A]=1/0),k[A]-=1,u(k,k,E),k[3]<0&&(x[A]=1/0);var z=(k[0]/k[3]-_[0]/_[3])*i,N=(k[1]/k[3]-_[1]/_[3])*R;x[A]=.25*Math.sqrt(z*z+N*N)}return x}var S=[new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0),new w(1/0,-1/0,1/0)],M=[0,0,0];function P(x,E,T,i,N){var A=E.model||b,k=E.view||b,_=E.projection||b,H=E._ortho||!1,z=x.bounds,N=N||a(A,k,_,z,H),O=N.axis;s(f,k,A),s(f,_,f);for(var F=S,U=0;U<3;++U)F[U].lo=1/0,F[U].hi=-1/0,F[U].pixelsPerDataUnit=1/0;var Z=r(c(f,f));c(f,f);for(var q=0;q<3;++q){var J=(q+1)%3,te=(q+2)%3,fe=M;e:for(var U=0;U<2;++U){var K=[];if(O[q]<0!=!!U){fe[q]=z[U][q];for(var Y=0;Y<2;++Y){fe[J]=z[Y^U][J];for(var W=0;W<2;++W)fe[te]=z[W^Y^U][te],K.push(fe.slice())}for(var X=H?5:4,Y=X;Y===X;++Y){if(K.length===0)continue e;K=l.positive(K,Z[Y])}for(var Y=0;Y<K.length;++Y)for(var te=K[Y],re=d(M,f,te,T,i),W=0;W<3;++W)F[W].lo=Math.min(F[W].lo,te[W]),F[W].hi=Math.max(F[W].hi,te[W]),W!==q&&(F[W].pixelsPerDataUnit=Math.min(F[W].pixelsPerDataUnit,Math.abs(re[W])))}}}return F}},5827:function(h,g,t){var r=t(5306),l=t(7498),a=t(5050),s=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function c(o,d,S,M,P){this.gl=o,this.type=d,this.handle=S,this.length=M,this.usage=P}var u=c.prototype;u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)};function b(o,d,S,M,P,x){var E=P.length*P.BYTES_PER_ELEMENT;if(x<0)return o.bufferData(d,P,M),E;if(E+x>S)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return o.bufferSubData(d,x,P),S}function f(o,d){for(var S=r.malloc(o.length,d),M=o.length,P=0;P<M;++P)S[P]=o[P];return S}function w(o,d){for(var S=1,M=d.length-1;M>=0;--M){if(d[M]!==S)return!1;S*=o[M]}return!0}u.update=function(o,d){if(typeof d!="number"&&(d=-1),this.bind(),typeof o=="object"&&typeof o.shape<"u"){var S=o.dtype;if(s.indexOf(S)<0&&(S="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){var M=gl.getExtension("OES_element_index_uint");M&&S!=="uint16"?S="uint32":S="uint16"}if(S===o.dtype&&w(o.shape,o.stride))o.offset===0&&o.data.length===o.shape[0]?this.length=b(this.gl,this.type,this.length,this.usage,o.data,d):this.length=b(this.gl,this.type,this.length,this.usage,o.data.subarray(o.offset,o.shape[0]),d);else{var P=r.malloc(o.size,S),x=a(P,o.shape);l.assign(x,o),d<0?this.length=b(this.gl,this.type,this.length,this.usage,P,d):this.length=b(this.gl,this.type,this.length,this.usage,P.subarray(0,o.size),d),r.free(P)}}else if(Array.isArray(o)){var E;this.type===this.gl.ELEMENT_ARRAY_BUFFER?E=f(o,"uint16"):E=f(o,"float32"),d<0?this.length=b(this.gl,this.type,this.length,this.usage,E,d):this.length=b(this.gl,this.type,this.length,this.usage,E.subarray(0,o.length),d),r.free(E)}else if(typeof o=="object"&&typeof o.length=="number")this.length=b(this.gl,this.type,this.length,this.usage,o,d);else if(typeof o=="number"||o===void 0){if(d>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");o=o|0,o<=0&&(o=1),this.gl.bufferData(this.type,o|0,this.usage),this.length=o}else throw new Error("gl-buffer: Invalid data type")};function v(o,d,S,M){if(S=S||o.ARRAY_BUFFER,M=M||o.DYNAMIC_DRAW,S!==o.ARRAY_BUFFER&&S!==o.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(M!==o.DYNAMIC_DRAW&&M!==o.STATIC_DRAW&&M!==o.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var P=o.createBuffer(),x=new c(o,S,P,0,M);return x.update(d),x}h.exports=v},1140:function(h,g,t){var r=t(2858);h.exports=function(a,s){var c=a.positions,u=a.vectors,b={positions:[],vertexIntensity:[],vertexIntensityBounds:a.vertexIntensityBounds,vectors:[],cells:[],coneOffset:a.coneOffset,colormap:a.colormap};if(a.positions.length===0)return s&&(s[0]=[0,0,0],s[1]=[0,0,0]),b;for(var f=0,w=1/0,v=-1/0,o=1/0,d=-1/0,S=1/0,M=-1/0,P=null,x=null,E=[],T=1/0,i=!1,R=0;R<c.length;R++){var A=c[R];w=Math.min(A[0],w),v=Math.max(A[0],v),o=Math.min(A[1],o),d=Math.max(A[1],d),S=Math.min(A[2],S),M=Math.max(A[2],M);var k=u[R];if(r.length(k)>f&&(f=r.length(k)),R){var _=2*r.distance(P,A)/(r.length(x)+r.length(k));_?(T=Math.min(T,_),i=!1):i=!0}i||(P=A,x=k),E.push(k)}var H=[w,o,S],z=[v,d,M];s&&(s[0]=H,s[1]=z),f===0&&(f=1);var N=1/f;isFinite(T)||(T=1),b.vectorScale=T;var O=a.coneSize||.5;a.absoluteConeSize&&(O=a.absoluteConeSize*N),b.coneScale=O;for(var R=0,F=0;R<c.length;R++)for(var A=c[R],U=A[0],Z=A[1],q=A[2],J=E[R],te=r.length(J)*N,fe=0,K=8;fe<K;fe++){b.positions.push([U,Z,q,F++]),b.positions.push([U,Z,q,F++]),b.positions.push([U,Z,q,F++]),b.positions.push([U,Z,q,F++]),b.positions.push([U,Z,q,F++]),b.positions.push([U,Z,q,F++]),b.vectors.push(J),b.vectors.push(J),b.vectors.push(J),b.vectors.push(J),b.vectors.push(J),b.vectors.push(J),b.vertexIntensity.push(te,te,te),b.vertexIntensity.push(te,te,te);var Y=b.positions.length;b.cells.push([Y-6,Y-5,Y-4],[Y-3,Y-2,Y-1])}return b};var l=t(7234);h.exports.createMesh=t(5028),h.exports.createConeMesh=function(a,s){return h.exports.createMesh(a,s,{shaders:l,traceType:"cone"})}},5028:function(h,g,t){var r=t(5158),l=t(5827),a=t(2944),s=t(8931),c=t(104),u=t(7437),b=t(5050),f=t(9156),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function v(E,T,i,R,A,k,_,H,z,N,O){this.gl=E,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=T,this.dirty=!0,this.triShader=i,this.pickShader=R,this.trianglePositions=A,this.triangleVectors=k,this.triangleColors=H,this.triangleUVs=z,this.triangleIds=_,this.triangleVAO=N,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=O,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var o=v.prototype;o.isOpaque=function(){return this.opacity>=1},o.isTransparent=function(){return this.opacity<1},o.pickSlots=1,o.setPickBase=function(E){this.pickId=E};function d(E){for(var T=f({colormap:E,nshades:256,format:"rgba"}),i=new Uint8Array(256*4),R=0;R<256;++R){for(var A=T[R],k=0;k<3;++k)i[4*R+k]=A[k];i[4*R+3]=A[3]*255}return b(i,[256,256,4],[4,0,1])}function S(E){for(var T=E.length,i=new Array(T),R=0;R<T;++R)i[R]=E[R][2];return i}o.update=function(E){E=E||{};var T=this.gl;this.dirty=!0,"lightPosition"in E&&(this.lightPosition=E.lightPosition),"opacity"in E&&(this.opacity=E.opacity),"ambient"in E&&(this.ambientLight=E.ambient),"diffuse"in E&&(this.diffuseLight=E.diffuse),"specular"in E&&(this.specularLight=E.specular),"roughness"in E&&(this.roughness=E.roughness),"fresnel"in E&&(this.fresnel=E.fresnel),E.tubeScale!==void 0&&(this.tubeScale=E.tubeScale),E.vectorScale!==void 0&&(this.vectorScale=E.vectorScale),E.coneScale!==void 0&&(this.coneScale=E.coneScale),E.coneOffset!==void 0&&(this.coneOffset=E.coneOffset),E.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=T.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=T.LINEAR,this.texture.setPixels(d(E.colormap)),this.texture.generateMipmap());var i=E.cells,R=E.positions,A=E.vectors;if(!(!R||!i||!A)){var k=[],_=[],H=[],z=[],N=[];this.cells=i,this.positions=R,this.vectors=A;var O=E.meshColor||[1,1,1,1],F=E.vertexIntensity,U=1/0,Z=-1/0;if(F)if(E.vertexIntensityBounds)U=+E.vertexIntensityBounds[0],Z=+E.vertexIntensityBounds[1];else for(var q=0;q<F.length;++q){var J=F[q];U=Math.min(U,J),Z=Math.max(Z,J)}else for(var q=0;q<R.length;++q){var J=R[q][2];U=Math.min(U,J),Z=Math.max(Z,J)}F?this.intensity=F:this.intensity=S(R),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var q=0;q<R.length;++q)for(var te=R[q],fe=0;fe<3;++fe)isNaN(te[fe])||!isFinite(te[fe])||(this.bounds[0][fe]=Math.min(this.bounds[0][fe],te[fe]),this.bounds[1][fe]=Math.max(this.bounds[1][fe],te[fe]));var K=0;e:for(var q=0;q<i.length;++q){var Y=i[q];switch(Y.length){case 3:for(var fe=0;fe<3;++fe)for(var W=Y[fe],te=R[W],X=0;X<3;++X)if(isNaN(te[X])||!isFinite(te[X]))continue e;for(var fe=0;fe<3;++fe){var W=Y[2-fe],te=R[W];k.push(te[0],te[1],te[2],te[3]);var re=A[W];_.push(re[0],re[1],re[2],re[3]||0);var se=O;se.length===3?H.push(se[0],se[1],se[2],1):H.push(se[0],se[1],se[2],se[3]);var Q;F?Q=[(F[W]-U)/(Z-U),0]:Q=[(te[2]-U)/(Z-U),0],z.push(Q[0],Q[1]),N.push(q)}K+=1;break}}this.triangleCount=K,this.trianglePositions.update(k),this.triangleVectors.update(_),this.triangleColors.update(H),this.triangleUVs.update(z),this.triangleIds.update(new Uint32Array(N))}},o.drawTransparent=o.draw=function(E){E=E||{};for(var T=this.gl,i=E.model||w,R=E.view||w,A=E.projection||w,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)k[0][_]=Math.max(k[0][_],this.clipBounds[0][_]),k[1][_]=Math.min(k[1][_],this.clipBounds[1][_]);var H={model:i,view:R,projection:A,inverseModel:w.slice(),clipBounds:k,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};H.inverseModel=u(H.inverseModel,H.model),T.disable(T.CULL_FACE),this.texture.bind(0);var z=new Array(16);c(z,H.view,H.model),c(z,H.projection,z),u(z,z);for(var _=0;_<3;++_)H.eyePosition[_]=z[12+_]/z[15];for(var N=z[15],_=0;_<3;++_)N+=this.lightPosition[_]*z[4*_+3];for(var _=0;_<3;++_){for(var O=z[12+_],F=0;F<3;++F)O+=z[4*F+_]*this.lightPosition[F];H.lightPosition[_]=O/N}if(this.triangleCount>0){var U=this.triShader;U.bind(),U.uniforms=H,this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}},o.drawPick=function(E){E=E||{};for(var T=this.gl,i=E.model||w,R=E.view||w,A=E.projection||w,k=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],_=0;_<3;++_)k[0][_]=Math.max(k[0][_],this.clipBounds[0][_]),k[1][_]=Math.min(k[1][_],this.clipBounds[1][_]);this._model=[].slice.call(i),this._view=[].slice.call(R),this._projection=[].slice.call(A),this._resolution=[T.drawingBufferWidth,T.drawingBufferHeight];var H={model:i,view:R,projection:A,clipBounds:k,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},z=this.pickShader;z.bind(),z.uniforms=H,this.triangleCount>0&&(this.triangleVAO.bind(),T.drawArrays(T.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind())},o.pick=function(E){if(!E||E.id!==this.pickId)return null;var T=E.value[0]+256*E.value[1]+65536*E.value[2],i=this.cells[T],R=this.positions[i[1]].slice(0,3),A={position:R,dataCoordinate:R,index:Math.floor(i[1]/48)};return this.traceType==="cone"?A.index=Math.floor(i[1]/48):this.traceType==="streamtube"&&(A.intensity=this.intensity[i[1]],A.velocity=this.vectors[i[1]].slice(0,3),A.divergence=this.vectors[i[1]][3],A.index=T),A},o.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()};function M(E,T){var i=r(E,T.meshShader.vertex,T.meshShader.fragment,null,T.meshShader.attributes);return i.attributes.position.location=0,i.attributes.color.location=2,i.attributes.uv.location=3,i.attributes.vector.location=4,i}function P(E,T){var i=r(E,T.pickShader.vertex,T.pickShader.fragment,null,T.pickShader.attributes);return i.attributes.position.location=0,i.attributes.id.location=1,i.attributes.vector.location=4,i}function x(E,T,i){var R=i.shaders;arguments.length===1&&(T=E,E=T.gl);var A=M(E,R),k=P(E,R),_=s(E,b(new Uint8Array([255,255,255,255]),[1,1,4]));_.generateMipmap(),_.minFilter=E.LINEAR_MIPMAP_LINEAR,_.magFilter=E.LINEAR;var H=l(E),z=l(E),N=l(E),O=l(E),F=l(E),U=a(E,[{buffer:H,type:E.FLOAT,size:4},{buffer:F,type:E.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:N,type:E.FLOAT,size:4},{buffer:O,type:E.FLOAT,size:2},{buffer:z,type:E.FLOAT,size:4}]),Z=new v(E,_,A,k,H,z,F,N,O,U,i.traceType||"cone");return Z.update(T),Z}h.exports=x},7234:function(h,g,t){var r=t(6832),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:l,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},g.pickShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(h){h.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(h,g,t){var r=t(1950);h.exports=function(a){return r[a]}},3110:function(h,g,t){h.exports=v;var r=t(5827),l=t(2944),a=t(7667),s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(o,d,S,M){this.gl=o,this.shader=M,this.buffer=d,this.vao=S,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=c.prototype;u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(o){var d=this.gl,S=this.shader.uniforms;this.shader.bind();var M=S.view=o.view||s,P=S.projection=o.projection||s;S.model=o.model||s,S.clipBounds=this.clipBounds,S.opacity=this.opacity;var x=M[12],E=M[13],T=M[14],i=M[15],R=o._ortho||!1,A=R?2:1,k=A*this.pixelRatio*(P[3]*x+P[7]*E+P[11]*T+P[15]*i)/d.drawingBufferHeight;this.vao.bind();for(var _=0;_<3;++_)d.lineWidth(this.lineWidth[_]*this.pixelRatio),S.capSize=this.capSize[_]*k,this.lineCount[_]&&d.drawArrays(d.LINES,this.lineOffset[_],this.lineCount[_]);this.vao.unbind()};function b(o,d){for(var S=0;S<3;++S)o[0][S]=Math.min(o[0][S],d[S]),o[1][S]=Math.max(o[1][S],d[S])}var f=function(){for(var o=new Array(3),d=0;d<3;++d){for(var S=[],M=1;M<=2;++M)for(var P=-1;P<=1;P+=2){var x=(M+d)%3,E=[0,0,0];E[x]=P,S.push(E)}o[d]=S}return o}();function w(o,d,S,M){for(var P=f[M],x=0;x<P.length;++x){var E=P[x];o.push(d[0],d[1],d[2],S[0],S[1],S[2],S[3],E[0],E[1],E[2])}return P.length}u.update=function(o){o=o||{},"lineWidth"in o&&(this.lineWidth=o.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in o&&(this.capSize=o.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in o&&(this.opacity=+o.opacity,this.opacity<1&&(this.hasAlpha=!0));var d=o.color||[[0,0,0],[0,0,0],[0,0,0]],S=o.position,M=o.error;if(Array.isArray(d[0])||(d=[d,d,d]),S&&M){var P=[],x=S.length,E=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var T=0;T<3;++T){this.lineOffset[T]=E;e:for(var i=0;i<x;++i){for(var R=S[i],A=0;A<3;++A)if(isNaN(R[A])||!isFinite(R[A]))continue e;var k=M[i],_=d[T];if(Array.isArray(_[0])&&(_=d[i]),_.length===3?_=[_[0],_[1],_[2],1]:_.length===4&&(_=[_[0],_[1],_[2],_[3]],!this.hasAlpha&&_[3]<1&&(this.hasAlpha=!0)),!(isNaN(k[0][T])||isNaN(k[1][T]))){if(k[0][T]<0){var H=R.slice();H[T]+=k[0][T],P.push(R[0],R[1],R[2],_[0],_[1],_[2],_[3],0,0,0,H[0],H[1],H[2],_[0],_[1],_[2],_[3],0,0,0),b(this.bounds,H),E+=2+w(P,H,_,T)}if(k[1][T]>0){var H=R.slice();H[T]+=k[1][T],P.push(R[0],R[1],R[2],_[0],_[1],_[2],_[3],0,0,0,H[0],H[1],H[2],_[0],_[1],_[2],_[3],0,0,0),b(this.bounds,H),E+=2+w(P,H,_,T)}}}this.lineCount[T]=E-this.lineOffset[T]}this.buffer.update(P)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()};function v(o){var d=o.gl,S=r(d),M=l(d,[{buffer:S,type:d.FLOAT,size:3,offset:0,stride:40},{buffer:S,type:d.FLOAT,size:4,offset:12,stride:40},{buffer:S,type:d.FLOAT,size:3,offset:28,stride:40}]),P=a(d);P.attributes.position.location=0,P.attributes.color.location=1,P.attributes.offset.location=2;var x=new c(d,S,M,P);return x.update(o),x}},7667:function(h,g,t){var r=t(6832),l=t(5158),a=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);h.exports=function(c){return l(c,a,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(h,g,t){var r=t(8931);h.exports=E;var l=null,a,s,c,u;function b(T){var i=T.getParameter(T.FRAMEBUFFER_BINDING),R=T.getParameter(T.RENDERBUFFER_BINDING),A=T.getParameter(T.TEXTURE_BINDING_2D);return[i,R,A]}function f(T,i){T.bindFramebuffer(T.FRAMEBUFFER,i[0]),T.bindRenderbuffer(T.RENDERBUFFER,i[1]),T.bindTexture(T.TEXTURE_2D,i[2])}function w(T,i){var R=T.getParameter(i.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(R+1);for(var A=0;A<=R;++A){for(var k=new Array(R),_=0;_<A;++_)k[_]=T.COLOR_ATTACHMENT0+_;for(var _=A;_<R;++_)k[_]=T.NONE;l[A]=k}}function v(T){switch(T){case a:throw new Error("gl-fbo: Framebuffer unsupported");case s:throw new Error("gl-fbo: Framebuffer incomplete attachment");case c:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case u:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function o(T,i,R,A,k,_){if(!A)return null;var H=r(T,i,R,k,A);return H.magFilter=T.NEAREST,H.minFilter=T.NEAREST,H.mipSamples=1,H.bind(),T.framebufferTexture2D(T.FRAMEBUFFER,_,T.TEXTURE_2D,H.handle,0),H}function d(T,i,R,A,k){var _=T.createRenderbuffer();return T.bindRenderbuffer(T.RENDERBUFFER,_),T.renderbufferStorage(T.RENDERBUFFER,A,i,R),T.framebufferRenderbuffer(T.FRAMEBUFFER,k,T.RENDERBUFFER,_),_}function S(T){var i=b(T.gl),R=T.gl,A=T.handle=R.createFramebuffer(),k=T._shape[0],_=T._shape[1],H=T.color.length,z=T._ext,N=T._useStencil,O=T._useDepth,F=T._colorType;R.bindFramebuffer(R.FRAMEBUFFER,A);for(var U=0;U<H;++U)T.color[U]=o(R,k,_,F,R.RGBA,R.COLOR_ATTACHMENT0+U);H===0?(T._color_rb=d(R,k,_,R.RGBA4,R.COLOR_ATTACHMENT0),z&&z.drawBuffersWEBGL(l[0])):H>1&&z.drawBuffersWEBGL(l[H]);var Z=R.getExtension("WEBGL_depth_texture");Z?N?T.depth=o(R,k,_,Z.UNSIGNED_INT_24_8_WEBGL,R.DEPTH_STENCIL,R.DEPTH_STENCIL_ATTACHMENT):O&&(T.depth=o(R,k,_,R.UNSIGNED_SHORT,R.DEPTH_COMPONENT,R.DEPTH_ATTACHMENT)):O&&N?T._depth_rb=d(R,k,_,R.DEPTH_STENCIL,R.DEPTH_STENCIL_ATTACHMENT):O?T._depth_rb=d(R,k,_,R.DEPTH_COMPONENT16,R.DEPTH_ATTACHMENT):N&&(T._depth_rb=d(R,k,_,R.STENCIL_INDEX,R.STENCIL_ATTACHMENT));var q=R.checkFramebufferStatus(R.FRAMEBUFFER);if(q!==R.FRAMEBUFFER_COMPLETE){T._destroyed=!0,R.bindFramebuffer(R.FRAMEBUFFER,null),R.deleteFramebuffer(T.handle),T.handle=null,T.depth&&(T.depth.dispose(),T.depth=null),T._depth_rb&&(R.deleteRenderbuffer(T._depth_rb),T._depth_rb=null);for(var U=0;U<T.color.length;++U)T.color[U].dispose(),T.color[U]=null;T._color_rb&&(R.deleteRenderbuffer(T._color_rb),T._color_rb=null),f(R,i),v(q)}f(R,i)}function M(T,i,R,A,k,_,H,z){this.gl=T,this._shape=[i|0,R|0],this._destroyed=!1,this._ext=z,this.color=new Array(k);for(var N=0;N<k;++N)this.color[N]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=A,this._useDepth=_,this._useStencil=H;var O=this,F=[i|0,R|0];Object.defineProperties(F,{0:{get:function(){return O._shape[0]},set:function(U){return O.width=U}},1:{get:function(){return O._shape[1]},set:function(U){return O.height=U}}}),this._shapeVector=F,S(this)}var P=M.prototype;function x(T,i,R){if(T._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(!(T._shape[0]===i&&T._shape[1]===R)){var A=T.gl,k=A.getParameter(A.MAX_RENDERBUFFER_SIZE);if(i<0||i>k||R<0||R>k)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");T._shape[0]=i,T._shape[1]=R;for(var _=b(A),H=0;H<T.color.length;++H)T.color[H].shape=T._shape;T._color_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,T._color_rb),A.renderbufferStorage(A.RENDERBUFFER,A.RGBA4,T._shape[0],T._shape[1])),T.depth&&(T.depth.shape=T._shape),T._depth_rb&&(A.bindRenderbuffer(A.RENDERBUFFER,T._depth_rb),T._useDepth&&T._useStencil?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_STENCIL,T._shape[0],T._shape[1]):T._useDepth?A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_COMPONENT16,T._shape[0],T._shape[1]):T._useStencil&&A.renderbufferStorage(A.RENDERBUFFER,A.STENCIL_INDEX,T._shape[0],T._shape[1])),A.bindFramebuffer(A.FRAMEBUFFER,T.handle);var z=A.checkFramebufferStatus(A.FRAMEBUFFER);z!==A.FRAMEBUFFER_COMPLETE&&(T.dispose(),f(A,_),v(z)),f(A,_)}}Object.defineProperties(P,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(T){if(Array.isArray(T)||(T=[T|0,T|0]),T.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var i=T[0]|0,R=T[1]|0;return x(this,i,R),[i,R]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(T){return T=T|0,x(this,T,this._shape[1]),T},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(T){return T=T|0,x(this,this._shape[0],T),T},enumerable:!1}}),P.bind=function(){if(!this._destroyed){var T=this.gl;T.bindFramebuffer(T.FRAMEBUFFER,this.handle),T.viewport(0,0,this._shape[0],this._shape[1])}},P.dispose=function(){if(!this._destroyed){this._destroyed=!0;var T=this.gl;T.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(T.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var i=0;i<this.color.length;++i)this.color[i].dispose(),this.color[i]=null;this._color_rb&&(T.deleteRenderbuffer(this._color_rb),this._color_rb=null)}};function E(T,i,R,A){a||(a=T.FRAMEBUFFER_UNSUPPORTED,s=T.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,c=T.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,u=T.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var k=T.getExtension("WEBGL_draw_buffers");if(!l&&k&&w(T,k),Array.isArray(i)&&(A=R,R=i[1]|0,i=i[0]|0),typeof i!="number")throw new Error("gl-fbo: Missing shape parameter");var _=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(i<0||i>_||R<0||R>_)throw new Error("gl-fbo: Parameters are too large for FBO");A=A||{};var H=1;if("color"in A){if(H=Math.max(A.color|0,0),H<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(H>1)if(k){if(H>T.getParameter(k.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+H+" draw buffers")}else throw new Error("gl-fbo: Multiple draw buffer extension not supported")}var z=T.UNSIGNED_BYTE,N=T.getExtension("OES_texture_float");if(A.float&&H>0){if(!N)throw new Error("gl-fbo: Context does not support floating point textures");z=T.FLOAT}else A.preferFloat&&H>0&&N&&(z=T.FLOAT);var O=!0;"depth"in A&&(O=!!A.depth);var F=!1;return"stencil"in A&&(F=!!A.stencil),new M(T,i,R,z,H,O,F,k)}},3530:function(h,g,t){var r=t(8974).sprintf,l=t(6603),a=t(9365),s=t(8008);h.exports=c;function c(u,b,f){var w=a(b)||"of unknown name (see npm glsl-shader-name)",v="unknown type";f!==void 0&&(v=f===l.FRAGMENT_SHADER?"fragment":"vertex");for(var o=r(`Error compiling %s shader %s:
`,v,w),d=r("%s%s",o,u),S=u.split(`
`),M={},P=0;P<S.length;P++){var x=S[P];if(!(x===""||x==="\0")){var E=parseInt(x.split(":")[2]);if(isNaN(E))throw new Error(r("Could not parse error: %s",x));M[E]=x}}for(var T=s(b).split(`
`),P=0;P<T.length;P++)if(!(!M[P+3]&&!M[P+2]&&!M[P+1])){var i=T[P];if(o+=i+`
`,M[P+1]){var R=M[P+1];R=R.substr(R.split(":",3).join(":").length+1).trim(),o+=r(`^^^ %s

`,R)}}return{long:o.trim(),short:d.trim()}}},6386:function(h,g,t){h.exports=v;var r=t(5070),l=t(9560),a=t(5306),s=t(5158),c=t(5827),u=t(1292);function b(o,d,S,M,P,x,E){this.plot=o,this.shader=d,this.pickShader=S,this.positionBuffer=M,this.weightBuffer=P,this.colorBuffer=x,this.idBuffer=E,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var f=b.prototype,w=[0,0,1,0,0,1,1,0,1,1,0,1];f.draw=function(){var o=[1,0,0,0,1,0,0,0,1];return function(){var d=this.plot,S=this.shader,M=this.bounds,P=this.numVertices;if(!(P<=0)){var x=d.gl,E=d.dataBox,T=M[2]-M[0],i=M[3]-M[1],R=E[2]-E[0],A=E[3]-E[1];o[0]=2*T/R,o[4]=2*i/A,o[6]=2*(M[0]-E[0])/R-1,o[7]=2*(M[1]-E[1])/A-1,S.bind();var k=S.uniforms;k.viewTransform=o,k.shape=this.shape;var _=S.attributes;this.positionBuffer.bind(),_.position.pointer(),this.weightBuffer.bind(),_.weight.pointer(x.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),_.color.pointer(x.UNSIGNED_BYTE,!0),x.drawArrays(x.TRIANGLES,0,P)}}}(),f.drawPick=function(){var o=[1,0,0,0,1,0,0,0,1],d=[0,0,0,0];return function(S){var M=this.plot,P=this.pickShader,x=this.bounds,E=this.numVertices;if(!(E<=0)){var T=M.gl,i=M.dataBox,R=x[2]-x[0],A=x[3]-x[1],k=i[2]-i[0],_=i[3]-i[1];o[0]=2*R/k,o[4]=2*A/_,o[6]=2*(x[0]-i[0])/k-1,o[7]=2*(x[1]-i[1])/_-1;for(var H=0;H<4;++H)d[H]=S>>H*8&255;this.pickOffset=S,P.bind();var z=P.uniforms;z.viewTransform=o,z.pickOffset=d,z.shape=this.shape;var N=P.attributes;return this.positionBuffer.bind(),N.position.pointer(),this.weightBuffer.bind(),N.weight.pointer(T.UNSIGNED_BYTE,!1),this.idBuffer.bind(),N.pickId.pointer(T.UNSIGNED_BYTE,!1),T.drawArrays(T.TRIANGLES,0,E),S+this.shape[0]*this.shape[1]}}}(),f.pick=function(o,d,S){var M=this.pickOffset,P=this.shape[0]*this.shape[1];if(S<M||S>=M+P)return null;var x=S-M,E=this.xData,T=this.yData;return{object:this,pointId:x,dataCoord:[E[x%this.shape[0]],T[x/this.shape[0]|0]]}},f.update=function(o){o=o||{};var d=o.shape||[0,0],S=o.x||l(d[0]),M=o.y||l(d[1]),P=o.z||new Float32Array(d[0]*d[1]),x=o.zsmooth!==!1;this.xData=S,this.yData=M;var E=o.colorLevels||[0],T=o.colorValues||[0,0,0,1],i=E.length,R=this.bounds,A,k,_,H;x?(A=R[0]=S[0],k=R[1]=M[0],_=R[2]=S[S.length-1],H=R[3]=M[M.length-1]):(A=R[0]=S[0]+(S[1]-S[0])/2,k=R[1]=M[0]+(M[1]-M[0])/2,_=R[2]=S[S.length-1]+(S[S.length-1]-S[S.length-2])/2,H=R[3]=M[M.length-1]+(M[M.length-1]-M[M.length-2])/2);var z=1/(_-A),N=1/(H-k),O=d[0],F=d[1];this.shape=[O,F];var U=(x?(O-1)*(F-1):O*F)*(w.length>>>1);this.numVertices=U;for(var Z=a.mallocUint8(U*4),q=a.mallocFloat32(U*2),J=a.mallocUint8(U*2),te=a.mallocUint32(U),fe=0,K=x?O-1:O,Y=x?F-1:F,W=0;W<Y;++W){var X,re;x?(X=N*(M[W]-k),re=N*(M[W+1]-k)):(X=W<F-1?N*(M[W]-(M[W+1]-M[W])/2-k):N*(M[W]-(M[W]-M[W-1])/2-k),re=W<F-1?N*(M[W]+(M[W+1]-M[W])/2-k):N*(M[W]+(M[W]-M[W-1])/2-k));for(var se=0;se<K;++se){var Q,ee;x?(Q=z*(S[se]-A),ee=z*(S[se+1]-A)):(Q=se<O-1?z*(S[se]-(S[se+1]-S[se])/2-A):z*(S[se]-(S[se]-S[se-1])/2-A),ee=se<O-1?z*(S[se]+(S[se+1]-S[se])/2-A):z*(S[se]+(S[se]-S[se-1])/2-A));for(var le=0;le<w.length;le+=2){var oe=w[le],he=w[le+1],xe=x?(W+he)*O+(se+oe):W*O+se,Ae=P[xe],Se=r.le(E,Ae),Oe,Ve,Ee,Te;if(Se<0)Oe=T[0],Ve=T[1],Ee=T[2],Te=T[3];else if(Se===i-1)Oe=T[4*i-4],Ve=T[4*i-3],Ee=T[4*i-2],Te=T[4*i-1];else{var Le=(Ae-E[Se])/(E[Se+1]-E[Se]),Ge=1-Le,He=4*Se,ke=4*(Se+1);Oe=Ge*T[He]+Le*T[ke],Ve=Ge*T[He+1]+Le*T[ke+1],Ee=Ge*T[He+2]+Le*T[ke+2],Te=Ge*T[He+3]+Le*T[ke+3]}Z[4*fe]=255*Oe,Z[4*fe+1]=255*Ve,Z[4*fe+2]=255*Ee,Z[4*fe+3]=255*Te,q[2*fe]=Q*.5+ee*.5,q[2*fe+1]=X*.5+re*.5,J[2*fe]=oe,J[2*fe+1]=he,te[fe]=W*O+se,fe+=1}}}this.positionBuffer.update(q),this.weightBuffer.update(J),this.colorBuffer.update(Z),this.idBuffer.update(te),a.free(q),a.free(Z),a.free(J),a.free(te)},f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)};function v(o,d){var S=o.gl,M=s(S,u.vertex,u.fragment),P=s(S,u.pickVertex,u.pickFragment),x=c(S),E=c(S),T=c(S),i=c(S),R=new b(o,M,P,x,E,T,i);return R.update(d),o.addObject(R),R}},1292:function(h,g,t){var r=t(6832);h.exports={fragment:r([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(h,g,t){var r=t(6832),l=t(5158),a=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];g.createShader=function(b){return l(b,a,s,null,u)},g.createPickShader=function(b){return l(b,a,c,null,u)}},6086:function(h,g,t){h.exports=T;var r=t(5827),l=t(2944),a=t(8931),s=new Uint8Array(4),c=new Float32Array(s.buffer);function u(i,R,A,k){return s[0]=k,s[1]=A,s[2]=R,s[3]=i,c[0]}var b=t(5070),f=t(5050),w=t(248),v=w.createShader,o=w.createPickShader,d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function S(i,R){for(var A=0,k=0;k<3;++k){var _=i[k]-R[k];A+=_*_}return Math.sqrt(A)}function M(i){for(var R=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],A=0;A<3;++A)R[0][A]=Math.max(i[0][A],R[0][A]),R[1][A]=Math.min(i[1][A],R[1][A]);return R}function P(i,R,A,k){this.arcLength=i,this.position=R,this.index=A,this.dataCoordinate=k}function x(i,R,A,k,_,H){this.gl=i,this.shader=R,this.pickShader=A,this.buffer=k,this.vao=_,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=H,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var E=x.prototype;E.isTransparent=function(){return this.hasAlpha},E.isOpaque=function(){return!this.hasAlpha},E.pickSlots=1,E.setPickBase=function(i){this.pickId=i},E.drawTransparent=E.draw=function(i){if(this.vertexCount){var R=this.gl,A=this.shader,k=this.vao;A.bind(),A.uniforms={model:i.model||d,view:i.view||d,projection:i.projection||d,clipBounds:M(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[R.drawingBufferWidth,R.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(R.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},E.drawPick=function(i){if(this.vertexCount){var R=this.gl,A=this.pickShader,k=this.vao;A.bind(),A.uniforms={model:i.model||d,view:i.view||d,projection:i.projection||d,pickId:this.pickId,clipBounds:M(this.clipBounds),screenShape:[R.drawingBufferWidth,R.drawingBufferHeight],pixelRatio:this.pixelRatio},k.bind(),k.draw(R.TRIANGLE_STRIP,this.vertexCount),k.unbind()}},E.update=function(i){var R,A;this.dirty=!0;var k=!!i.connectGaps;"dashScale"in i&&(this.dashScale=i.dashScale),this.hasAlpha=!1,"opacity"in i&&(this.opacity=+i.opacity,this.opacity<1&&(this.hasAlpha=!0));var _=[],H=[],z=[],N=0,O=0,F=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],U=i.position||i.positions;if(U){var Z=i.color||i.colors||[0,0,0,1],q=i.lineWidth||1,J=!1;e:for(R=1;R<U.length;++R){var te=U[R-1],fe=U[R];for(H.push(N),z.push(te.slice()),A=0;A<3;++A){if(isNaN(te[A])||isNaN(fe[A])||!isFinite(te[A])||!isFinite(fe[A])){if(!k&&_.length>0){for(var K=0;K<24;++K)_.push(_[_.length-12]);O+=2,J=!0}continue e}F[0][A]=Math.min(F[0][A],te[A],fe[A]),F[1][A]=Math.max(F[1][A],te[A],fe[A])}var Y,W;Array.isArray(Z[0])?(Y=Z.length>R-1?Z[R-1]:Z.length>0?Z[Z.length-1]:[0,0,0,1],W=Z.length>R?Z[R]:Z.length>0?Z[Z.length-1]:[0,0,0,1]):Y=W=Z,Y.length===3&&(Y=[Y[0],Y[1],Y[2],1]),W.length===3&&(W=[W[0],W[1],W[2],1]),!this.hasAlpha&&Y[3]<1&&(this.hasAlpha=!0);var X;Array.isArray(q)?X=q.length>R-1?q[R-1]:q.length>0?q[q.length-1]:[0,0,0,1]:X=q;var re=N;if(N+=S(te,fe),J){for(A=0;A<2;++A)_.push(te[0],te[1],te[2],fe[0],fe[1],fe[2],re,X,Y[0],Y[1],Y[2],Y[3]);O+=2,J=!1}_.push(te[0],te[1],te[2],fe[0],fe[1],fe[2],re,X,Y[0],Y[1],Y[2],Y[3],te[0],te[1],te[2],fe[0],fe[1],fe[2],re,-X,Y[0],Y[1],Y[2],Y[3],fe[0],fe[1],fe[2],te[0],te[1],te[2],N,-X,W[0],W[1],W[2],W[3],fe[0],fe[1],fe[2],te[0],te[1],te[2],N,X,W[0],W[1],W[2],W[3]),O+=4}}if(this.buffer.update(_),H.push(N),z.push(U[U.length-1].slice()),this.bounds=F,this.vertexCount=O,this.points=z,this.arcLength=H,"dashes"in i){var se=i.dashes,Q=se.slice();for(Q.unshift(0),R=1;R<Q.length;++R)Q[R]=Q[R-1]+Q[R];var ee=f(new Array(256*4),[256,1,4]);for(R=0;R<256;++R){for(A=0;A<4;++A)ee.set(R,0,A,0);b.le(Q,Q[Q.length-1]*R/255)&1?ee.set(R,0,0,0):ee.set(R,0,0,255)}this.texture.setPixels(ee)}},E.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},E.pick=function(i){if(!i||i.id!==this.pickId)return null;var R=u(i.value[0],i.value[1],i.value[2],0),A=b.le(this.arcLength,R);if(A<0)return null;if(A===this.arcLength.length-1)return new P(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),A);for(var k=this.points[A],_=this.points[Math.min(A+1,this.points.length-1)],H=(R-this.arcLength[A])/(this.arcLength[A+1]-this.arcLength[A]),z=1-H,N=[0,0,0],O=0;O<3;++O)N[O]=z*k[O]+H*_[O];var F=Math.min(H<.5?A:A+1,this.points.length-1);return new P(R,N,F,this.points[F])};function T(i){var R=i.gl||i.scene&&i.scene.gl,A=v(R);A.attributes.position.location=0,A.attributes.nextPosition.location=1,A.attributes.arcLength.location=2,A.attributes.lineWidth.location=3,A.attributes.color.location=4;var k=o(R);k.attributes.position.location=0,k.attributes.nextPosition.location=1,k.attributes.arcLength.location=2,k.attributes.lineWidth.location=3,k.attributes.color.location=4;for(var _=r(R),H=l(R,[{buffer:_,size:3,offset:0,stride:48},{buffer:_,size:3,offset:12,stride:48},{buffer:_,size:1,offset:24,stride:48},{buffer:_,size:1,offset:28,stride:48},{buffer:_,size:4,offset:32,stride:48}]),z=f(new Array(256*4),[256,1,4]),N=0;N<1024;++N)z.data[N]=255;var O=a(R,z);O.wrap=R.REPEAT;var F=new x(R,A,k,_,H,O);return F.update(i),F}},7332:function(h){h.exports=g;function g(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}},9823:function(h){h.exports=g;function g(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7787:function(h){h.exports=g;function g(t){var r=t[0],l=t[1],a=t[2],s=t[3],c=t[4],u=t[5],b=t[6],f=t[7],w=t[8],v=t[9],o=t[10],d=t[11],S=t[12],M=t[13],P=t[14],x=t[15],E=r*u-l*c,T=r*b-a*c,i=r*f-s*c,R=l*b-a*u,A=l*f-s*u,k=a*f-s*b,_=w*M-v*S,H=w*P-o*S,z=w*x-d*S,N=v*P-o*M,O=v*x-d*M,F=o*x-d*P;return E*F-T*O+i*N+R*z-A*H+k*_}},5950:function(h){h.exports=g;function g(t,r){var l=r[0],a=r[1],s=r[2],c=r[3],u=l+l,b=a+a,f=s+s,w=l*u,v=a*u,o=a*b,d=s*u,S=s*b,M=s*f,P=c*u,x=c*b,E=c*f;return t[0]=1-o-M,t[1]=v+E,t[2]=d-x,t[3]=0,t[4]=v-E,t[5]=1-w-M,t[6]=S+P,t[7]=0,t[8]=d+x,t[9]=S-P,t[10]=1-w-o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7280:function(h){h.exports=g;function g(t,r,l){var a=r[0],s=r[1],c=r[2],u=r[3],b=a+a,f=s+s,w=c+c,v=a*b,o=a*f,d=a*w,S=s*f,M=s*w,P=c*w,x=u*b,E=u*f,T=u*w;return t[0]=1-(S+P),t[1]=o+T,t[2]=d-E,t[3]=0,t[4]=o-T,t[5]=1-(v+P),t[6]=M+x,t[7]=0,t[8]=d+E,t[9]=M-x,t[10]=1-(v+S),t[11]=0,t[12]=l[0],t[13]=l[1],t[14]=l[2],t[15]=1,t}},9947:function(h){h.exports=g;function g(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},7437:function(h){h.exports=g;function g(t,r){var l=r[0],a=r[1],s=r[2],c=r[3],u=r[4],b=r[5],f=r[6],w=r[7],v=r[8],o=r[9],d=r[10],S=r[11],M=r[12],P=r[13],x=r[14],E=r[15],T=l*b-a*u,i=l*f-s*u,R=l*w-c*u,A=a*f-s*b,k=a*w-c*b,_=s*w-c*f,H=v*P-o*M,z=v*x-d*M,N=v*E-S*M,O=o*x-d*P,F=o*E-S*P,U=d*E-S*x,Z=T*U-i*F+R*O+A*N-k*z+_*H;return Z?(Z=1/Z,t[0]=(b*U-f*F+w*O)*Z,t[1]=(s*F-a*U-c*O)*Z,t[2]=(P*_-x*k+E*A)*Z,t[3]=(d*k-o*_-S*A)*Z,t[4]=(f*N-u*U-w*z)*Z,t[5]=(l*U-s*N+c*z)*Z,t[6]=(x*R-M*_-E*i)*Z,t[7]=(v*_-d*R+S*i)*Z,t[8]=(u*F-b*N+w*H)*Z,t[9]=(a*N-l*F-c*H)*Z,t[10]=(M*k-P*R+E*T)*Z,t[11]=(o*R-v*k-S*T)*Z,t[12]=(b*z-u*O-f*H)*Z,t[13]=(l*O-a*z+s*H)*Z,t[14]=(P*i-M*A-x*T)*Z,t[15]=(v*A-o*i+d*T)*Z,t):null}},3012:function(h,g,t){var r=t(9947);h.exports=l;function l(a,s,c,u){var b,f,w,v,o,d,S,M,P,x,E=s[0],T=s[1],i=s[2],R=u[0],A=u[1],k=u[2],_=c[0],H=c[1],z=c[2];return Math.abs(E-_)<1e-6&&Math.abs(T-H)<1e-6&&Math.abs(i-z)<1e-6?r(a):(S=E-_,M=T-H,P=i-z,x=1/Math.sqrt(S*S+M*M+P*P),S*=x,M*=x,P*=x,b=A*P-k*M,f=k*S-R*P,w=R*M-A*S,x=Math.sqrt(b*b+f*f+w*w),x?(x=1/x,b*=x,f*=x,w*=x):(b=0,f=0,w=0),v=M*w-P*f,o=P*b-S*w,d=S*f-M*b,x=Math.sqrt(v*v+o*o+d*d),x?(x=1/x,v*=x,o*=x,d*=x):(v=0,o=0,d=0),a[0]=b,a[1]=v,a[2]=S,a[3]=0,a[4]=f,a[5]=o,a[6]=M,a[7]=0,a[8]=w,a[9]=d,a[10]=P,a[11]=0,a[12]=-(b*E+f*T+w*i),a[13]=-(v*E+o*T+d*i),a[14]=-(S*E+M*T+P*i),a[15]=1,a)}},104:function(h){h.exports=g;function g(t,r,l){var a=r[0],s=r[1],c=r[2],u=r[3],b=r[4],f=r[5],w=r[6],v=r[7],o=r[8],d=r[9],S=r[10],M=r[11],P=r[12],x=r[13],E=r[14],T=r[15],i=l[0],R=l[1],A=l[2],k=l[3];return t[0]=i*a+R*b+A*o+k*P,t[1]=i*s+R*f+A*d+k*x,t[2]=i*c+R*w+A*S+k*E,t[3]=i*u+R*v+A*M+k*T,i=l[4],R=l[5],A=l[6],k=l[7],t[4]=i*a+R*b+A*o+k*P,t[5]=i*s+R*f+A*d+k*x,t[6]=i*c+R*w+A*S+k*E,t[7]=i*u+R*v+A*M+k*T,i=l[8],R=l[9],A=l[10],k=l[11],t[8]=i*a+R*b+A*o+k*P,t[9]=i*s+R*f+A*d+k*x,t[10]=i*c+R*w+A*S+k*E,t[11]=i*u+R*v+A*M+k*T,i=l[12],R=l[13],A=l[14],k=l[15],t[12]=i*a+R*b+A*o+k*P,t[13]=i*s+R*f+A*d+k*x,t[14]=i*c+R*w+A*S+k*E,t[15]=i*u+R*v+A*M+k*T,t}},5268:function(h){h.exports=g;function g(t,r,l,a,s,c,u){var b=1/(r-l),f=1/(a-s),w=1/(c-u);return t[0]=-2*b,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*f,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*w,t[11]=0,t[12]=(r+l)*b,t[13]=(s+a)*f,t[14]=(u+c)*w,t[15]=1,t}},1120:function(h){h.exports=g;function g(t,r,l,a,s){var c=1/Math.tan(r/2),u=1/(a-s);return t[0]=c/l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(s+a)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*s*a*u,t[15]=0,t}},4422:function(h){h.exports=g;function g(t,r,l,a){var s=a[0],c=a[1],u=a[2],b=Math.sqrt(s*s+c*c+u*u),f,w,v,o,d,S,M,P,x,E,T,i,R,A,k,_,H,z,N,O,F,U,Z,q;return Math.abs(b)<1e-6?null:(b=1/b,s*=b,c*=b,u*=b,f=Math.sin(l),w=Math.cos(l),v=1-w,o=r[0],d=r[1],S=r[2],M=r[3],P=r[4],x=r[5],E=r[6],T=r[7],i=r[8],R=r[9],A=r[10],k=r[11],_=s*s*v+w,H=c*s*v+u*f,z=u*s*v-c*f,N=s*c*v-u*f,O=c*c*v+w,F=u*c*v+s*f,U=s*u*v+c*f,Z=c*u*v-s*f,q=u*u*v+w,t[0]=o*_+P*H+i*z,t[1]=d*_+x*H+R*z,t[2]=S*_+E*H+A*z,t[3]=M*_+T*H+k*z,t[4]=o*N+P*O+i*F,t[5]=d*N+x*O+R*F,t[6]=S*N+E*O+A*F,t[7]=M*N+T*O+k*F,t[8]=o*U+P*Z+i*q,t[9]=d*U+x*Z+R*q,t[10]=S*U+E*Z+A*q,t[11]=M*U+T*Z+k*q,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}},6109:function(h){h.exports=g;function g(t,r,l){var a=Math.sin(l),s=Math.cos(l),c=r[4],u=r[5],b=r[6],f=r[7],w=r[8],v=r[9],o=r[10],d=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=c*s+w*a,t[5]=u*s+v*a,t[6]=b*s+o*a,t[7]=f*s+d*a,t[8]=w*s-c*a,t[9]=v*s-u*a,t[10]=o*s-b*a,t[11]=d*s-f*a,t}},7115:function(h){h.exports=g;function g(t,r,l){var a=Math.sin(l),s=Math.cos(l),c=r[0],u=r[1],b=r[2],f=r[3],w=r[8],v=r[9],o=r[10],d=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=c*s-w*a,t[1]=u*s-v*a,t[2]=b*s-o*a,t[3]=f*s-d*a,t[8]=c*a+w*s,t[9]=u*a+v*s,t[10]=b*a+o*s,t[11]=f*a+d*s,t}},5240:function(h){h.exports=g;function g(t,r,l){var a=Math.sin(l),s=Math.cos(l),c=r[0],u=r[1],b=r[2],f=r[3],w=r[4],v=r[5],o=r[6],d=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=c*s+w*a,t[1]=u*s+v*a,t[2]=b*s+o*a,t[3]=f*s+d*a,t[4]=w*s-c*a,t[5]=v*s-u*a,t[6]=o*s-b*a,t[7]=d*s-f*a,t}},3668:function(h){h.exports=g;function g(t,r,l){var a=l[0],s=l[1],c=l[2];return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=r[3]*a,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=r[7]*s,t[8]=r[8]*c,t[9]=r[9]*c,t[10]=r[10]*c,t[11]=r[11]*c,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}},998:function(h){h.exports=g;function g(t,r,l){var a=l[0],s=l[1],c=l[2],u,b,f,w,v,o,d,S,M,P,x,E;return r===t?(t[12]=r[0]*a+r[4]*s+r[8]*c+r[12],t[13]=r[1]*a+r[5]*s+r[9]*c+r[13],t[14]=r[2]*a+r[6]*s+r[10]*c+r[14],t[15]=r[3]*a+r[7]*s+r[11]*c+r[15]):(u=r[0],b=r[1],f=r[2],w=r[3],v=r[4],o=r[5],d=r[6],S=r[7],M=r[8],P=r[9],x=r[10],E=r[11],t[0]=u,t[1]=b,t[2]=f,t[3]=w,t[4]=v,t[5]=o,t[6]=d,t[7]=S,t[8]=M,t[9]=P,t[10]=x,t[11]=E,t[12]=u*a+v*s+M*c+r[12],t[13]=b*a+o*s+P*c+r[13],t[14]=f*a+d*s+x*c+r[14],t[15]=w*a+S*s+E*c+r[15]),t}},2142:function(h){h.exports=g;function g(t,r){if(t===r){var l=r[1],a=r[2],s=r[3],c=r[6],u=r[7],b=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=l,t[6]=r[9],t[7]=r[13],t[8]=a,t[9]=c,t[11]=r[14],t[12]=s,t[13]=u,t[14]=b}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}},4340:function(h,g,t){var r=t(957),l=t(7309);h.exports=b;function a(f,w){for(var v=[0,0,0,0],o=0;o<4;++o)for(var d=0;d<4;++d)v[d]+=f[4*o+d]*w[o];return v}function s(f,w,v,o,d){for(var S=a(o,a(v,a(w,[f[0],f[1],f[2],1]))),M=0;M<3;++M)S[M]/=S[3];return[.5*d[0]*(1+S[0]),.5*d[1]*(1-S[1])]}function c(f,w){if(f.length===2){for(var v=0,o=0,d=0;d<2;++d)v+=Math.pow(w[d]-f[0][d],2),o+=Math.pow(w[d]-f[1][d],2);return v=Math.sqrt(v),o=Math.sqrt(o),v+o<1e-6?[1,0]:[o/(v+o),v/(o+v)]}else if(f.length===3){var S=[0,0];return l(f[0],f[1],f[2],w,S),r(f,S)}return[]}function u(f,w){for(var v=[0,0,0],o=0;o<f.length;++o)for(var d=f[o],S=w[o],M=0;M<3;++M)v[M]+=S*d[M];return v}function b(f,w,v,o,d,S){if(f.length===1)return[0,f[0].slice()];for(var M=new Array(f.length),P=0;P<f.length;++P)M[P]=s(f[P],v,o,d,S);for(var x=0,E=1/0,P=0;P<M.length;++P){for(var T=0,i=0;i<2;++i)T+=Math.pow(M[P][i]-w[i],2);T<E&&(E=T,x=P)}for(var R=c(M,w),A=0,P=0;P<3;++P){if(R[P]<-.001||R[P]>1.0001)return null;A+=R[P]}return Math.abs(A-1)>.001?null:[x,u(f,R),R]}},2056:function(h,g,t){var r=t(6832),l=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),a=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),s=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),b=r([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),f=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),w=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),v=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),o=r([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),d=r([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);g.meshShader={vertex:l,fragment:a,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.wireShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},g.pointShader={vertex:u,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},g.pickShader={vertex:f,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},g.pointPickShader={vertex:v,fragment:w,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},g.contourShader={vertex:o,fragment:d,attributes:[{name:"position",type:"vec3"}]}},8116:function(h,g,t){var r=1e-6,l=1e-6,a=t(5158),s=t(5827),c=t(2944),u=t(8931),b=t(115),f=t(104),w=t(7437),v=t(5050),o=t(9156),d=t(7212),S=t(5306),M=t(2056),P=t(4340),x=M.meshShader,E=M.wireShader,T=M.pointShader,i=M.pickShader,R=M.pointPickShader,A=M.contourShader,k=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function _(K,Y,W,X,re,se,Q,ee,le,oe,he,xe,Ae,Se,Oe,Ve,Ee,Te,Le,Ge,He,ke,We,nt,qe,Qe,tt){this.gl=K,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=Y,this.dirty=!0,this.triShader=W,this.lineShader=X,this.pointShader=re,this.pickShader=se,this.pointPickShader=Q,this.contourShader=ee,this.trianglePositions=le,this.triangleColors=he,this.triangleNormals=Ae,this.triangleUVs=xe,this.triangleIds=oe,this.triangleVAO=Se,this.triangleCount=0,this.lineWidth=1,this.edgePositions=Oe,this.edgeColors=Ee,this.edgeUVs=Te,this.edgeIds=Ve,this.edgeVAO=Le,this.edgeCount=0,this.pointPositions=Ge,this.pointColors=ke,this.pointUVs=We,this.pointSizes=nt,this.pointIds=He,this.pointVAO=qe,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Qe,this.contourVAO=tt,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=k,this._view=k,this._projection=k,this._resolution=[1,1]}var H=_.prototype;H.isOpaque=function(){return!this.hasAlpha},H.isTransparent=function(){return this.hasAlpha},H.pickSlots=1,H.setPickBase=function(K){this.pickId=K};function z(K,Y){if(!Y||!Y.length)return 1;for(var W=0;W<Y.length;++W){if(Y.length<2)return 1;if(Y[W][0]===K)return Y[W][1];if(Y[W][0]>K&&W>0){var X=(Y[W][0]-K)/(Y[W][0]-Y[W-1][0]);return Y[W][1]*(1-X)+X*Y[W-1][1]}}return 1}function N(K,Y){for(var W=o({colormap:K,nshades:256,format:"rgba"}),X=new Uint8Array(256*4),re=0;re<256;++re){for(var se=W[re],Q=0;Q<3;++Q)X[4*re+Q]=se[Q];Y?X[4*re+3]=255*z(re/255,Y):X[4*re+3]=255*se[3]}return v(X,[256,256,4],[4,0,1])}function O(K){for(var Y=K.length,W=new Array(Y),X=0;X<Y;++X)W[X]=K[X][2];return W}H.highlight=function(K){if(!K||!this.contourEnable){this.contourCount=0;return}for(var Y=d(this.cells,this.intensity,K.intensity),W=Y.cells,X=Y.vertexIds,re=Y.vertexWeights,se=W.length,Q=S.mallocFloat32(2*3*se),ee=0,le=0;le<se;++le)for(var oe=W[le],he=0;he<2;++he){var xe=oe[0];oe.length===2&&(xe=oe[he]);for(var Ae=X[xe][0],Se=X[xe][1],Oe=re[xe],Ve=1-Oe,Ee=this.positions[Ae],Te=this.positions[Se],Le=0;Le<3;++Le)Q[ee++]=Oe*Ee[Le]+Ve*Te[Le]}this.contourCount=ee/3|0,this.contourPositions.update(Q.subarray(0,ee)),S.free(Q)},H.update=function(K){K=K||{};var Y=this.gl;this.dirty=!0,"contourEnable"in K&&(this.contourEnable=K.contourEnable),"contourColor"in K&&(this.contourColor=K.contourColor),"lineWidth"in K&&(this.lineWidth=K.lineWidth),"lightPosition"in K&&(this.lightPosition=K.lightPosition),this.hasAlpha=!1,"opacity"in K&&(this.opacity=K.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in K&&(this.opacityscale=K.opacityscale,this.hasAlpha=!0),"ambient"in K&&(this.ambientLight=K.ambient),"diffuse"in K&&(this.diffuseLight=K.diffuse),"specular"in K&&(this.specularLight=K.specular),"roughness"in K&&(this.roughness=K.roughness),"fresnel"in K&&(this.fresnel=K.fresnel),K.texture?(this.texture.dispose(),this.texture=u(Y,K.texture)):K.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=Y.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=Y.LINEAR,this.texture.setPixels(N(K.colormap,this.opacityscale)),this.texture.generateMipmap());var W=K.cells,X=K.positions;if(!(!X||!W)){var re=[],se=[],Q=[],ee=[],le=[],oe=[],he=[],xe=[],Ae=[],Se=[],Oe=[],Ve=[],Ee=[],Te=[];this.cells=W,this.positions=X;var Le=K.vertexNormals,Ge=K.cellNormals,He=K.vertexNormalsEpsilon===void 0?r:K.vertexNormalsEpsilon,ke=K.faceNormalsEpsilon===void 0?l:K.faceNormalsEpsilon;K.useFacetNormals&&!Ge&&(Ge=b.faceNormals(W,X,ke)),!Ge&&!Le&&(Le=b.vertexNormals(W,X,He));var We=K.vertexColors,nt=K.cellColors,qe=K.meshColor||[1,1,1,1],Qe=K.vertexUVs,tt=K.vertexIntensity,vt=K.cellUVs,dt=K.cellIntensity,gt=1/0,Mt=-1/0;if(!Qe&&!vt)if(tt)if(K.vertexIntensityBounds)gt=+K.vertexIntensityBounds[0],Mt=+K.vertexIntensityBounds[1];else for(var Rt=0;Rt<tt.length;++Rt){var Wt=tt[Rt];gt=Math.min(gt,Wt),Mt=Math.max(Mt,Wt)}else if(dt)if(K.cellIntensityBounds)gt=+K.cellIntensityBounds[0],Mt=+K.cellIntensityBounds[1];else for(var Rt=0;Rt<dt.length;++Rt){var Wt=dt[Rt];gt=Math.min(gt,Wt),Mt=Math.max(Mt,Wt)}else for(var Rt=0;Rt<X.length;++Rt){var Wt=X[Rt][2];gt=Math.min(gt,Wt),Mt=Math.max(Mt,Wt)}tt?this.intensity=tt:dt?this.intensity=dt:this.intensity=O(X),this.pickVertex=!(dt||nt);var je=K.pointSizes,_e=K.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(var Rt=0;Rt<X.length;++Rt)for(var Fe=X[Rt],Be=0;Be<3;++Be)isNaN(Fe[Be])||!isFinite(Fe[Be])||(this.bounds[0][Be]=Math.min(this.bounds[0][Be],Fe[Be]),this.bounds[1][Be]=Math.max(this.bounds[1][Be],Fe[Be]));var De=0,we=0,ue=0;e:for(var Rt=0;Rt<W.length;++Rt){var me=W[Rt];switch(me.length){case 1:for(var Re=me[0],Fe=X[Re],Be=0;Be<3;++Be)if(isNaN(Fe[Be])||!isFinite(Fe[Be]))continue e;Se.push(Fe[0],Fe[1],Fe[2]);var Ne;We?Ne=We[Re]:nt?Ne=nt[Rt]:Ne=qe,this.opacityscale&&tt?se.push(Ne[0],Ne[1],Ne[2],this.opacity*z((tt[Re]-gt)/(Mt-gt),this.opacityscale)):Ne.length===3?Oe.push(Ne[0],Ne[1],Ne[2],this.opacity):(Oe.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0));var it;Qe?it=Qe[Re]:tt?it=[(tt[Re]-gt)/(Mt-gt),0]:vt?it=vt[Rt]:dt?it=[(dt[Rt]-gt)/(Mt-gt),0]:it=[(Fe[2]-gt)/(Mt-gt),0],Ve.push(it[0],it[1]),je?Ee.push(je[Re]):Ee.push(_e),Te.push(Rt),ue+=1;break;case 2:for(var Be=0;Be<2;++Be)for(var Re=me[Be],Fe=X[Re],ot=0;ot<3;++ot)if(isNaN(Fe[ot])||!isFinite(Fe[ot]))continue e;for(var Be=0;Be<2;++Be){var Re=me[Be],Fe=X[Re];oe.push(Fe[0],Fe[1],Fe[2]);var Ne;We?Ne=We[Re]:nt?Ne=nt[Rt]:Ne=qe,this.opacityscale&&tt?se.push(Ne[0],Ne[1],Ne[2],this.opacity*z((tt[Re]-gt)/(Mt-gt),this.opacityscale)):Ne.length===3?he.push(Ne[0],Ne[1],Ne[2],this.opacity):(he.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0));var it;Qe?it=Qe[Re]:tt?it=[(tt[Re]-gt)/(Mt-gt),0]:vt?it=vt[Rt]:dt?it=[(dt[Rt]-gt)/(Mt-gt),0]:it=[(Fe[2]-gt)/(Mt-gt),0],xe.push(it[0],it[1]),Ae.push(Rt)}we+=1;break;case 3:for(var Be=0;Be<3;++Be)for(var Re=me[Be],Fe=X[Re],ot=0;ot<3;++ot)if(isNaN(Fe[ot])||!isFinite(Fe[ot]))continue e;for(var Be=0;Be<3;++Be){var Re=me[2-Be],Fe=X[Re];re.push(Fe[0],Fe[1],Fe[2]);var Ne;We?Ne=We[Re]:nt?Ne=nt[Rt]:Ne=qe,Ne?this.opacityscale&&tt?se.push(Ne[0],Ne[1],Ne[2],this.opacity*z((tt[Re]-gt)/(Mt-gt),this.opacityscale)):Ne.length===3?se.push(Ne[0],Ne[1],Ne[2],this.opacity):(se.push(Ne[0],Ne[1],Ne[2],Ne[3]*this.opacity),Ne[3]<1&&(this.hasAlpha=!0)):se.push(.5,.5,.5,1);var it;Qe?it=Qe[Re]:tt?it=[(tt[Re]-gt)/(Mt-gt),0]:vt?it=vt[Rt]:dt?it=[(dt[Rt]-gt)/(Mt-gt),0]:it=[(Fe[2]-gt)/(Mt-gt),0],ee.push(it[0],it[1]);var wt;Le?wt=Le[Re]:wt=Ge[Rt],Q.push(wt[0],wt[1],wt[2]),le.push(Rt)}De+=1;break}}this.pointCount=ue,this.edgeCount=we,this.triangleCount=De,this.pointPositions.update(Se),this.pointColors.update(Oe),this.pointUVs.update(Ve),this.pointSizes.update(Ee),this.pointIds.update(new Uint32Array(Te)),this.edgePositions.update(oe),this.edgeColors.update(he),this.edgeUVs.update(xe),this.edgeIds.update(new Uint32Array(Ae)),this.trianglePositions.update(re),this.triangleColors.update(se),this.triangleUVs.update(ee),this.triangleNormals.update(Q),this.triangleIds.update(new Uint32Array(le))}},H.drawTransparent=H.draw=function(K){K=K||{};for(var Y=this.gl,W=K.model||k,X=K.view||k,re=K.projection||k,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)se[0][Q]=Math.max(se[0][Q],this.clipBounds[0][Q]),se[1][Q]=Math.min(se[1][Q],this.clipBounds[1][Q]);var ee={model:W,view:X,projection:re,inverseModel:k.slice(),clipBounds:se,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};ee.inverseModel=w(ee.inverseModel,ee.model),Y.disable(Y.CULL_FACE),this.texture.bind(0);var le=new Array(16);f(le,ee.view,ee.model),f(le,ee.projection,le),w(le,le);for(var Q=0;Q<3;++Q)ee.eyePosition[Q]=le[12+Q]/le[15];for(var oe=le[15],Q=0;Q<3;++Q)oe+=this.lightPosition[Q]*le[4*Q+3];for(var Q=0;Q<3;++Q){for(var he=le[12+Q],xe=0;xe<3;++xe)he+=le[4*xe+Q]*this.lightPosition[xe];ee.lightPosition[Q]=he/oe}if(this.triangleCount>0){var Ae=this.triShader;Ae.bind(),Ae.uniforms=ee,this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()}if(this.edgeCount>0&&this.lineWidth>0){var Ae=this.lineShader;Ae.bind(),Ae.uniforms=ee,this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()}if(this.pointCount>0){var Ae=this.pointShader;Ae.bind(),Ae.uniforms=ee,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}if(this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0){var Ae=this.contourShader;Ae.bind(),Ae.uniforms=ee,this.contourVAO.bind(),Y.drawArrays(Y.LINES,0,this.contourCount),this.contourVAO.unbind()}},H.drawPick=function(K){K=K||{};for(var Y=this.gl,W=K.model||k,X=K.view||k,re=K.projection||k,se=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Q=0;Q<3;++Q)se[0][Q]=Math.max(se[0][Q],this.clipBounds[0][Q]),se[1][Q]=Math.min(se[1][Q],this.clipBounds[1][Q]);this._model=[].slice.call(W),this._view=[].slice.call(X),this._projection=[].slice.call(re),this._resolution=[Y.drawingBufferWidth,Y.drawingBufferHeight];var ee={model:W,view:X,projection:re,clipBounds:se,pickId:this.pickId/255},le=this.pickShader;if(le.bind(),le.uniforms=ee,this.triangleCount>0&&(this.triangleVAO.bind(),Y.drawArrays(Y.TRIANGLES,0,this.triangleCount*3),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),Y.lineWidth(this.lineWidth*this.pixelRatio),Y.drawArrays(Y.LINES,0,this.edgeCount*2),this.edgeVAO.unbind()),this.pointCount>0){var le=this.pointPickShader;le.bind(),le.uniforms=ee,this.pointVAO.bind(),Y.drawArrays(Y.POINTS,0,this.pointCount),this.pointVAO.unbind()}},H.pick=function(K){if(!K||K.id!==this.pickId)return null;for(var Y=K.value[0]+256*K.value[1]+65536*K.value[2],W=this.cells[Y],X=this.positions,re=new Array(W.length),se=0;se<W.length;++se)re[se]=X[W[se]];var Q=K.coord[0],ee=K.coord[1];if(!this.pickVertex){var le=this.positions[W[0]],oe=this.positions[W[1]],he=this.positions[W[2]],xe=[(le[0]+oe[0]+he[0])/3,(le[1]+oe[1]+he[1])/3,(le[2]+oe[2]+he[2])/3];return{_cellCenter:!0,position:[Q,ee],index:Y,cell:W,cellId:Y,intensity:this.intensity[Y],dataCoordinate:xe}}var Ae=P(re,[Q*this.pixelRatio,this._resolution[1]-ee*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!Ae)return null;for(var Se=Ae[2],Oe=0,se=0;se<W.length;++se)Oe+=Se[se]*this.intensity[W[se]];return{position:Ae[1],index:W[Ae[0]],cell:W,cellId:Y,intensity:Oe,dataCoordinate:this.positions[W[Ae[0]]]}},H.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()};function F(K){var Y=a(K,x.vertex,x.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.normal.location=4,Y}function U(K){var Y=a(K,E.vertex,E.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y}function Z(K){var Y=a(K,T.vertex,T.fragment);return Y.attributes.position.location=0,Y.attributes.color.location=2,Y.attributes.uv.location=3,Y.attributes.pointSize.location=4,Y}function q(K){var Y=a(K,i.vertex,i.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y}function J(K){var Y=a(K,R.vertex,R.fragment);return Y.attributes.position.location=0,Y.attributes.id.location=1,Y.attributes.pointSize.location=4,Y}function te(K){var Y=a(K,A.vertex,A.fragment);return Y.attributes.position.location=0,Y}function fe(K,Y){arguments.length===1&&(Y=K,K=Y.gl);var W=K.getExtension("OES_standard_derivatives")||K.getExtension("MOZ_OES_standard_derivatives")||K.getExtension("WEBKIT_OES_standard_derivatives");if(!W)throw new Error("derivatives not supported");var X=F(K),re=U(K),se=Z(K),Q=q(K),ee=J(K),le=te(K),oe=u(K,v(new Uint8Array([255,255,255,255]),[1,1,4]));oe.generateMipmap(),oe.minFilter=K.LINEAR_MIPMAP_LINEAR,oe.magFilter=K.LINEAR;var he=s(K),xe=s(K),Ae=s(K),Se=s(K),Oe=s(K),Ve=c(K,[{buffer:he,type:K.FLOAT,size:3},{buffer:Oe,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:xe,type:K.FLOAT,size:4},{buffer:Ae,type:K.FLOAT,size:2},{buffer:Se,type:K.FLOAT,size:3}]),Ee=s(K),Te=s(K),Le=s(K),Ge=s(K),He=c(K,[{buffer:Ee,type:K.FLOAT,size:3},{buffer:Ge,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:Te,type:K.FLOAT,size:4},{buffer:Le,type:K.FLOAT,size:2}]),ke=s(K),We=s(K),nt=s(K),qe=s(K),Qe=s(K),tt=c(K,[{buffer:ke,type:K.FLOAT,size:3},{buffer:Qe,type:K.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:We,type:K.FLOAT,size:4},{buffer:nt,type:K.FLOAT,size:2},{buffer:qe,type:K.FLOAT,size:1}]),vt=s(K),dt=c(K,[{buffer:vt,type:K.FLOAT,size:3}]),gt=new _(K,oe,X,re,se,Q,ee,le,he,Oe,xe,Ae,Se,Ve,Ee,Ge,Te,Le,He,ke,Qe,We,nt,qe,tt,vt,dt);return gt.update(Y),gt}h.exports=fe},4554:function(h,g,t){h.exports=u;var r=t(5827),l=t(5158),a=t(2709);function s(b,f,w){this.plot=b,this.vbo=f,this.shader=w}var c=s.prototype;c.bind=function(){var b=this.shader;this.vbo.bind(),this.shader.bind(),b.attributes.coord.pointer(),b.uniforms.screenBox=this.plot.screenBox},c.drawBox=function(){var b=[0,0],f=[0,0];return function(w,v,o,d,S){var M=this.plot,P=this.shader,x=M.gl;b[0]=w,b[1]=v,f[0]=o,f[1]=d,P.uniforms.lo=b,P.uniforms.hi=f,P.uniforms.color=S,x.drawArrays(x.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(b){var f=b.gl,w=r(f,[0,0,0,1,1,0,1,1]),v=l(f,a.boxVert,a.lineFrag);return new s(b,w,v)}},3016:function(h,g,t){h.exports=f;var r=t(5827),l=t(5158),a=t(5070),s=t(2709);function c(w,v,o,d){this.plot=w,this.vbo=v,this.shader=o,this.tickShader=d,this.ticks=[[],[]]}function u(w,v){return w-v}var b=c.prototype;b.draw=function(){var w=[0,0],v=[0,0],o=[0,0];return function(){for(var d=this.plot,S=this.vbo,M=this.shader,P=this.ticks,x=d.gl,E=d._tickBounds,T=d.dataBox,i=d.viewBox,R=d.gridLineWidth,A=d.gridLineColor,k=d.gridLineEnable,_=d.pixelRatio,H=0;H<2;++H){var z=E[H],N=E[H+2],O=N-z,F=.5*(T[H+2]+T[H]),U=T[H+2]-T[H];v[H]=2*O/U,w[H]=2*(z-F)/U}M.bind(),S.bind(),M.attributes.dataCoord.pointer(),M.uniforms.dataShift=w,M.uniforms.dataScale=v;for(var Z=0,H=0;H<2;++H){o[0]=o[1]=0,o[H]=1,M.uniforms.dataAxis=o,M.uniforms.lineWidth=R[H]/(i[H+2]-i[H])*_,M.uniforms.color=A[H];var q=P[H].length*6;k[H]&&q&&x.drawArrays(x.TRIANGLES,Z,q),Z+=q}}}(),b.drawTickMarks=function(){var w=[0,0],v=[0,0],o=[1,0],d=[0,1],S=[0,0],M=[0,0];return function(){for(var P=this.plot,x=this.vbo,E=this.tickShader,T=this.ticks,i=P.gl,R=P._tickBounds,A=P.dataBox,k=P.viewBox,_=P.pixelRatio,H=P.screenBox,z=H[2]-H[0],N=H[3]-H[1],O=k[2]-k[0],F=k[3]-k[1],U=0;U<2;++U){var Z=R[U],q=R[U+2],J=q-Z,te=.5*(A[U+2]+A[U]),fe=A[U+2]-A[U];v[U]=2*J/fe,w[U]=2*(Z-te)/fe}v[0]*=O/z,w[0]*=O/z,v[1]*=F/N,w[1]*=F/N,E.bind(),x.bind(),E.attributes.dataCoord.pointer();var K=E.uniforms;K.dataShift=w,K.dataScale=v;var Y=P.tickMarkLength,W=P.tickMarkWidth,X=P.tickMarkColor,re=0,se=T[0].length*6,Q=Math.min(a.ge(T[0],(A[0]-R[0])/(R[2]-R[0]),u),T[0].length),ee=Math.min(a.gt(T[0],(A[2]-R[0])/(R[2]-R[0]),u),T[0].length),le=re+6*Q,oe=6*Math.max(0,ee-Q),he=Math.min(a.ge(T[1],(A[1]-R[1])/(R[3]-R[1]),u),T[1].length),xe=Math.min(a.gt(T[1],(A[3]-R[1])/(R[3]-R[1]),u),T[1].length),Ae=se+6*he,Se=6*Math.max(0,xe-he);S[0]=2*(k[0]-Y[1])/z-1,S[1]=(k[3]+k[1])/N-1,M[0]=Y[1]*_/z,M[1]=W[1]*_/N,Se&&(K.color=X[1],K.tickScale=M,K.dataAxis=d,K.screenOffset=S,i.drawArrays(i.TRIANGLES,Ae,Se)),S[0]=(k[2]+k[0])/z-1,S[1]=2*(k[1]-Y[0])/N-1,M[0]=W[0]*_/z,M[1]=Y[0]*_/N,oe&&(K.color=X[0],K.tickScale=M,K.dataAxis=o,K.screenOffset=S,i.drawArrays(i.TRIANGLES,le,oe)),S[0]=2*(k[2]+Y[3])/z-1,S[1]=(k[3]+k[1])/N-1,M[0]=Y[3]*_/z,M[1]=W[3]*_/N,Se&&(K.color=X[3],K.tickScale=M,K.dataAxis=d,K.screenOffset=S,i.drawArrays(i.TRIANGLES,Ae,Se)),S[0]=(k[2]+k[0])/z-1,S[1]=2*(k[3]+Y[2])/N-1,M[0]=W[2]*_/z,M[1]=Y[2]*_/N,oe&&(K.color=X[2],K.tickScale=M,K.dataAxis=o,K.screenOffset=S,i.drawArrays(i.TRIANGLES,le,oe))}}(),b.update=function(){var w=[1,1,-1,-1,1,-1],v=[1,-1,1,1,-1,-1];return function(o){var d=o.ticks,S=o.bounds,M=new Float32Array(6*3*(d[0].length+d[1].length));this.plot.zeroLineEnable;for(var P=0,x=[[],[]],E=0;E<2;++E)for(var T=x[E],i=d[E],R=S[E],A=S[E+2],k=0;k<i.length;++k){var _=(i[k].x-R)/(A-R);T.push(_);for(var H=0;H<6;++H)M[P++]=_,M[P++]=w[H],M[P++]=v[H]}this.ticks=x,this.vbo.update(M)}}(),b.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()};function f(w){var v=w.gl,o=r(v),d=l(v,s.gridVert,s.gridFrag),S=l(v,s.tickVert,s.gridFrag),M=new c(w,o,d,S);return M}},1154:function(h,g,t){h.exports=u;var r=t(5827),l=t(5158),a=t(2709);function s(b,f,w){this.plot=b,this.vbo=f,this.shader=w}var c=s.prototype;c.bind=function(){var b=this.shader;this.vbo.bind(),this.shader.bind(),b.attributes.coord.pointer(),b.uniforms.screenBox=this.plot.screenBox},c.drawLine=function(){var b=[0,0],f=[0,0];return function(w,v,o,d,S,M){var P=this.plot,x=this.shader,E=P.gl;b[0]=w,b[1]=v,f[0]=o,f[1]=d,x.uniforms.start=b,x.uniforms.end=f,x.uniforms.width=S*P.pixelRatio,x.uniforms.color=M,E.drawArrays(E.TRIANGLE_STRIP,0,4)}}(),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function u(b){var f=b.gl,w=r(f,[-1,-1,-1,1,1,-1,1,1]),v=l(f,a.lineVert,a.lineFrag),o=new s(b,w,v);return o}},2709:function(h,g,t){var r=t(6832),l=r([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);h.exports={lineVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:l,textVert:r([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:l,gridVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:l,boxVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(h,g,t){h.exports=f;var r=t(5827),l=t(5158),a=t(6946),s=t(5070),c=t(2709);function u(w,v,o){this.plot=w,this.vbo=v,this.shader=o,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var b=u.prototype;b.drawTicks=function(){var w=[0,0],v=[0,0],o=[0,0];return function(d){var S=this.plot,M=this.shader,P=this.tickX[d],x=this.tickOffset[d],E=S.gl,T=S.viewBox,i=S.dataBox,R=S.screenBox,A=S.pixelRatio,k=S.tickEnable,_=S.tickPad,H=S.tickColor,z=S.tickAngle,N=S.labelEnable,O=S.labelPad,F=S.labelColor,U=S.labelAngle,Z=this.labelOffset[d],q=this.labelCount[d],J=s.lt(P,i[d]),te=s.le(P,i[d+2]);w[0]=w[1]=0,w[d]=1,v[d]=(T[2+d]+T[d])/(R[2+d]-R[d])-1;var fe=2/R[2+(d^1)]-R[d^1];v[d^1]=fe*T[d^1]-1,k[d]&&(v[d^1]-=fe*A*_[d],J<te&&x[te]>x[J]&&(M.uniforms.dataAxis=w,M.uniforms.screenOffset=v,M.uniforms.color=H[d],M.uniforms.angle=z[d],E.drawArrays(E.TRIANGLES,x[J],x[te]-x[J]))),N[d]&&q&&(v[d^1]-=fe*A*O[d],M.uniforms.dataAxis=o,M.uniforms.screenOffset=v,M.uniforms.color=F[d],M.uniforms.angle=U[d],E.drawArrays(E.TRIANGLES,Z,q)),v[d^1]=fe*T[2+(d^1)]-1,k[d+2]&&(v[d^1]+=fe*A*_[d+2],J<te&&x[te]>x[J]&&(M.uniforms.dataAxis=w,M.uniforms.screenOffset=v,M.uniforms.color=H[d+2],M.uniforms.angle=z[d+2],E.drawArrays(E.TRIANGLES,x[J],x[te]-x[J]))),N[d+2]&&q&&(v[d^1]+=fe*A*O[d+2],M.uniforms.dataAxis=o,M.uniforms.screenOffset=v,M.uniforms.color=F[d+2],M.uniforms.angle=U[d+2],E.drawArrays(E.TRIANGLES,Z,q))}}(),b.drawTitle=function(){var w=[0,0],v=[0,0];return function(){var o=this.plot,d=this.shader,S=o.gl,M=o.screenBox,P=o.titleCenter,x=o.titleAngle,E=o.titleColor,T=o.pixelRatio;if(this.titleCount){for(var i=0;i<2;++i)v[i]=2*(P[i]*T-M[i])/(M[2+i]-M[i])-1;d.bind(),d.uniforms.dataAxis=w,d.uniforms.screenOffset=v,d.uniforms.angle=x,d.uniforms.color=E,S.drawArrays(S.TRIANGLES,this.titleOffset,this.titleCount)}}}(),b.bind=function(){var w=[0,0],v=[0,0],o=[0,0];return function(){var d=this.plot,S=this.shader,M=d._tickBounds,P=d.dataBox,x=d.screenBox,E=d.viewBox;S.bind();for(var T=0;T<2;++T){var i=M[T],R=M[T+2],A=R-i,k=.5*(P[T+2]+P[T]),_=P[T+2]-P[T],H=E[T],z=E[T+2],N=z-H,O=x[T],F=x[T+2],U=F-O;v[T]=2*A/_*N/U,w[T]=2*(i-k)/_*N/U}o[1]=2*d.pixelRatio/(x[3]-x[1]),o[0]=o[1]*(x[3]-x[1])/(x[2]-x[0]),S.uniforms.dataScale=v,S.uniforms.dataShift=w,S.uniforms.textScale=o,this.vbo.bind(),S.attributes.textCoordinate.pointer()}}(),b.update=function(w){var v=[],o=w.ticks,d=w.bounds,S,M,P,x,E;for(E=0;E<2;++E){var T=[Math.floor(v.length/3)],i=[-1/0],R=o[E];for(S=0;S<R.length;++S){var A=R[S],k=A.x,_=A.text,H=A.font||"sans-serif";x=A.fontSize||12;for(var z=1/(d[E+2]-d[E]),N=d[E],O=_.split(`
`),F=0;F<O.length;F++)for(P=a(H,O[F]).data,M=0;M<P.length;M+=2)v.push(P[M]*x,-P[M+1]*x-F*x*1.2,(k-N)*z);T.push(Math.floor(v.length/3)),i.push(k)}this.tickOffset[E]=T,this.tickX[E]=i}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(v.length/3),P=a(w.labelFont[E],w.labels[E],{textAlign:"center"}).data,x=w.labelSize[E],S=0;S<P.length;S+=2)v.push(P[S]*x,-P[S+1]*x,0);this.labelCount[E]=Math.floor(v.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(v.length/3),P=a(w.titleFont,w.title).data,x=w.titleSize,S=0;S<P.length;S+=2)v.push(P[S]*x,-P[S+1]*x,0);this.titleCount=Math.floor(v.length/3)-this.titleOffset,this.vbo.update(v)},b.dispose=function(){this.vbo.dispose(),this.shader.dispose()};function f(w){var v=w.gl,o=r(v),d=l(v,c.textVert,c.textFrag),S=new u(w,o,d);return S}},2117:function(h,g,t){h.exports=v;var r=t(2611),l=t(3016),a=t(5613),s=t(1154),c=t(4554);function u(o,d){this.gl=o,this.pickBuffer=d,this.screenBox=[0,0,o.drawingBufferWidth,o.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var b=u.prototype;b.setDirty=function(){this.dirty=this.pickDirty=!0},b.setOverlayDirty=function(){this.dirty=!0},b.nextDepthValue=function(){return this._depthCounter++/65536},b.draw=function(){return function(){var o=this.gl,d=this.screenBox,S=this.viewBox,M=this.dataBox,P=this.pixelRatio,x=this.grid,E=this.line,T=this.text,i=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),!!this.dirty){if(this.dirty=!1,o.bindFramebuffer(o.FRAMEBUFFER,null),o.enable(o.SCISSOR_TEST),o.disable(o.DEPTH_TEST),o.depthFunc(o.LESS),o.depthMask(!1),o.enable(o.BLEND),o.blendEquation(o.FUNC_ADD,o.FUNC_ADD),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA),this.borderColor){o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]);var R=this.borderColor;o.clearColor(R[0]*R[3],R[1]*R[3],R[2]*R[3],R[3]),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)}o.scissor(S[0],S[1],S[2]-S[0],S[3]-S[1]),o.viewport(S[0],S[1],S[2]-S[0],S[3]-S[1]);var A=this.backgroundColor;o.clearColor(A[0]*A[3],A[1]*A[3],A[2]*A[3],A[3]),o.clear(o.COLOR_BUFFER_BIT),x.draw();var k=this.zeroLineEnable,_=this.zeroLineColor,H=this.zeroLineWidth;if(k[0]||k[1]){E.bind();for(var z=0;z<2;++z)if(!(!k[z]||!(M[z]<=0&&M[z+2]>=0))){var N=d[z]-M[z]*(d[z+2]-d[z])/(M[z+2]-M[z]);z===0?E.drawLine(N,d[1],N,d[3],H[z],_[z]):E.drawLine(d[0],N,d[2],N,H[z],_[z])}}for(var z=0;z<i.length;++z)i[z].draw();o.viewport(d[0],d[1],d[2]-d[0],d[3]-d[1]),o.scissor(d[0],d[1],d[2]-d[0],d[3]-d[1]),this.grid.drawTickMarks(),E.bind();var O=this.borderLineEnable,F=this.borderLineWidth,U=this.borderLineColor;O[1]&&E.drawLine(S[0],S[1]-.5*F[1]*P,S[0],S[3]+.5*F[3]*P,F[1],U[1]),O[0]&&E.drawLine(S[0]-.5*F[0]*P,S[1],S[2]+.5*F[2]*P,S[1],F[0],U[0]),O[3]&&E.drawLine(S[2],S[1]-.5*F[1]*P,S[2],S[3]+.5*F[3]*P,F[3],U[3]),O[2]&&E.drawLine(S[0]-.5*F[0]*P,S[3],S[2]+.5*F[2]*P,S[3],F[2],U[2]),T.bind();for(var z=0;z<2;++z)T.drawTicks(z);this.titleEnable&&T.drawTitle();for(var Z=this.overlays,z=0;z<Z.length;++z)Z[z].draw();o.disable(o.SCISSOR_TEST),o.disable(o.BLEND),o.depthMask(!0)}}}(),b.drawPick=function(){return function(){if(!this.static){var o=this.pickBuffer;this.gl,this._pickTimeout=null,o.begin();for(var d=1,S=this.objects,M=0;M<S.length;++M)d=S[M].drawPick(d);o.end()}}}(),b.pick=function(){return function(o,d){if(!this.static){var S=this.pixelRatio,M=this.pickPixelRatio,P=this.viewBox,x=Math.round((o-P[0]/S)*M)|0,E=Math.round((d-P[1]/S)*M)|0,T=this.pickBuffer.query(x,E,this.pickRadius);if(!T)return null;for(var i=T.id+(T.value[0]<<8)+(T.value[1]<<16)+(T.value[2]<<24),R=this.objects,A=0;A<R.length;++A){var k=R[A].pick(x,E,i);if(k)return k}return null}}}();function f(o){for(var d=o.slice(),S=0;S<d.length;++S)d[S]=d[S].slice();return d}function w(o,d){return o.x-d.x}b.setScreenBox=function(o){var d=this.screenBox,S=this.pixelRatio;d[0]=Math.round(o[0]*S)|0,d[1]=Math.round(o[1]*S)|0,d[2]=Math.round(o[2]*S)|0,d[3]=Math.round(o[3]*S)|0,this.setDirty()},b.setDataBox=function(o){var d=this.dataBox,S=d[0]!==o[0]||d[1]!==o[1]||d[2]!==o[2]||d[3]!==o[3];S&&(d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],this.setDirty())},b.setViewBox=function(o){var d=this.pixelRatio,S=this.viewBox;S[0]=Math.round(o[0]*d)|0,S[1]=Math.round(o[1]*d)|0,S[2]=Math.round(o[2]*d)|0,S[3]=Math.round(o[3]*d)|0;var M=this.pickPixelRatio;this.pickBuffer.shape=[Math.round((o[2]-o[0])*M)|0,Math.round((o[3]-o[1])*M)|0],this.setDirty()},b.update=function(o){o=o||{};var d=this.gl;this.pixelRatio=o.pixelRatio||1;var S=this.pixelRatio;this.pickPixelRatio=Math.max(S,1),this.setScreenBox(o.screenBox||[0,0,d.drawingBufferWidth/S,d.drawingBufferHeight/S]),this.screenBox,this.setViewBox(o.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/S,.125*(this.screenBox[3]-this.screenBox[1])/S,.875*(this.screenBox[2]-this.screenBox[0])/S,.875*(this.screenBox[3]-this.screenBox[1])/S]);var M=this.viewBox,P=(M[2]-M[0])/(M[3]-M[1]);this.setDataBox(o.dataBox||[-10,-10/P,10,10/P]),this.borderColor=o.borderColor!==!1?(o.borderColor||[0,0,0,0]).slice():!1,this.backgroundColor=(o.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(o.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(o.gridLineWidth||[1,1]).slice(),this.gridLineColor=f(o.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(o.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(o.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=f(o.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(o.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(o.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=f(o.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(o.titleCenter||[.5*(M[0]+M[2])/S,(M[3]+120)/S]).slice(),this.titleEnable=!("titleEnable"in o)||!!o.titleEnable,this.titleAngle=o.titleAngle||0,this.titleColor=(o.titleColor||[0,0,0,1]).slice(),this.labelPad=(o.labelPad||[15,15,15,15]).slice(),this.labelAngle=(o.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(o.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=f(o.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(o.tickPad||[15,15,15,15]).slice(),this.tickAngle=(o.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(o.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=f(o.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(o.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(o.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=f(o.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var x=o.ticks||[[],[]],E=this._tickBounds;E[0]=E[1]=1/0,E[2]=E[3]=-1/0;for(var T=0;T<2;++T){var i=x[T].slice(0);i.length!==0&&(i.sort(w),E[T]=Math.min(E[T],i[0].x),E[T+2]=Math.max(E[T+2],i[i.length-1].x))}this.grid.update({bounds:E,ticks:x}),this.text.update({bounds:E,ticks:x,labels:o.labels||["x","y"],labelSize:o.labelSize||[12,12],labelFont:o.labelFont||["sans-serif","sans-serif"],title:o.title||"",titleSize:o.titleSize||18,titleFont:o.titleFont||"sans-serif"}),this.static=!!o.static,this.setDirty()},b.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var o=this.objects.length-1;o>=0;--o)this.objects[o].dispose();this.objects.length=0;for(var o=this.overlays.length-1;o>=0;--o)this.overlays[o].dispose();this.overlays.length=0,this.gl=null},b.addObject=function(o){this.objects.indexOf(o)<0&&(this.objects.push(o),this.setDirty())},b.removeObject=function(o){for(var d=this.objects,S=0;S<d.length;++S)if(d[S]===o){d.splice(S,1),this.setDirty();break}},b.addOverlay=function(o){this.overlays.indexOf(o)<0&&(this.overlays.push(o),this.setOverlayDirty())},b.removeOverlay=function(o){for(var d=this.overlays,S=0;S<d.length;++S)if(d[S]===o){d.splice(S,1),this.setOverlayDirty();break}};function v(o){var d=o.gl,S=r(d,[d.drawingBufferWidth,d.drawingBufferHeight]),M=new u(d,S);return M.grid=l(M),M.text=a(M),M.line=s(M),M.box=c(M),M.update(o),M}},4296:function(h,g,t){h.exports=b;var r=t(8161),l=t(1152),a=t(6145),s=t(6475),c=t(2565),u=t(5233);function b(f,w){f=f||document.body,w=w||{};var v=[.01,1/0];"distanceLimits"in w&&(v[0]=w.distanceLimits[0],v[1]=w.distanceLimits[1]),"zoomMin"in w&&(v[0]=w.zoomMin),"zoomMax"in w&&(v[1]=w.zoomMax);var o=l({center:w.center||[0,0,0],up:w.up||[0,1,0],eye:w.eye||[0,0,10],mode:w.mode||"orbit",distanceLimits:v}),d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=0,M=f.clientWidth,P=f.clientHeight,x={keyBindingMode:"rotate",enableWheel:!0,view:o,element:f,delay:w.delay||16,rotateSpeed:w.rotateSpeed||1,zoomSpeed:w.zoomSpeed||1,translateSpeed:w.translateSpeed||1,flipX:!!w.flipX,flipY:!!w.flipY,modes:o.modes,_ortho:w._ortho||w.projection&&w.projection.type==="orthographic"||!1,tick:function(){var E=r(),T=this.delay,i=E-2*T;o.idle(E-T),o.recalcMatrix(i),o.flush(E-(100+T*2));for(var R=!0,A=o.computedMatrix,k=0;k<16;++k)R=R&&d[k]===A[k],d[k]=A[k];var _=f.clientWidth===M&&f.clientHeight===P;return M=f.clientWidth,P=f.clientHeight,R?!_:(S=Math.exp(o.computedRadius[0]),!0)},lookAt:function(E,T,i){o.lookAt(o.lastT(),E,T,i)},rotate:function(E,T,i){o.rotate(o.lastT(),E,T,i)},pan:function(E,T,i){o.pan(o.lastT(),E,T,i)},translate:function(E,T,i){o.translate(o.lastT(),E,T,i)}};return Object.defineProperties(x,{matrix:{get:function(){return o.computedMatrix},set:function(E){return o.setMatrix(o.lastT(),E),o.computedMatrix},enumerable:!0},mode:{get:function(){return o.getMode()},set:function(E){var T=o.computedUp.slice(),i=o.computedEye.slice(),R=o.computedCenter.slice();if(o.setMode(E),E==="turntable"){var A=r();o._active.lookAt(A,i,R,T),o._active.lookAt(A+500,i,R,[0,0,1]),o._active.flush(A)}return o.getMode()},enumerable:!0},center:{get:function(){return o.computedCenter},set:function(E){return o.lookAt(o.lastT(),null,E),o.computedCenter},enumerable:!0},eye:{get:function(){return o.computedEye},set:function(E){return o.lookAt(o.lastT(),E),o.computedEye},enumerable:!0},up:{get:function(){return o.computedUp},set:function(E){return o.lookAt(o.lastT(),null,null,E),o.computedUp},enumerable:!0},distance:{get:function(){return S},set:function(E){return o.setDistance(o.lastT(),E),E},enumerable:!0},distanceLimits:{get:function(){return o.getDistanceLimits(v)},set:function(E){return o.setDistanceLimits(E),E},enumerable:!0}}),f.addEventListener("contextmenu",function(E){return E.preventDefault(),!1}),x._lastX=-1,x._lastY=-1,x._lastMods={shift:!1,control:!1,alt:!1,meta:!1},x.enableMouseListeners=function(){x.mouseListener=a(f,E),f.addEventListener("touchstart",function(T){var i=c(T.changedTouches[0],f);E(0,i[0],i[1],x._lastMods),E(1,i[0],i[1],x._lastMods)},u?{passive:!0}:!1),f.addEventListener("touchmove",function(T){var i=c(T.changedTouches[0],f);E(1,i[0],i[1],x._lastMods),T.preventDefault()},u?{passive:!1}:!1),f.addEventListener("touchend",function(T){E(0,x._lastX,x._lastY,x._lastMods)},u?{passive:!0}:!1);function E(T,i,R,A){var k=x.keyBindingMode;if(k!==!1){var _=k==="rotate",H=k==="pan",z=k==="zoom",N=!!A.control,O=!!A.alt,F=!!A.shift,U=!!(T&1),Z=!!(T&2),q=!!(T&4),J=1/f.clientHeight,te=J*(i-x._lastX),fe=J*(R-x._lastY),K=x.flipX?1:-1,Y=x.flipY?1:-1,W=Math.PI*x.rotateSpeed,X=r();if(x._lastX!==-1&&x._lastY!==-1&&((_&&U&&!N&&!O&&!F||U&&!N&&!O&&F)&&o.rotate(X,K*W*te,-Y*W*fe,0),(H&&U&&!N&&!O&&!F||Z||U&&N&&!O&&!F)&&o.pan(X,-x.translateSpeed*te*S,x.translateSpeed*fe*S,0),z&&U&&!N&&!O&&!F||q||U&&!N&&O&&!F)){var re=-x.zoomSpeed*fe/window.innerHeight*(X-o.lastT())*100;o.pan(X,0,0,S*(Math.exp(re)-1))}return x._lastX=i,x._lastY=R,x._lastMods=A,!0}}x.wheelListener=s(f,function(T,i){if(x.keyBindingMode!==!1&&x.enableWheel){var R=x.flipX?1:-1,A=x.flipY?1:-1,k=r();if(Math.abs(T)>Math.abs(i))o.rotate(k,0,0,-T*R*Math.PI*x.rotateSpeed/window.innerWidth);else if(!x._ortho){var _=-x.zoomSpeed*A*i/window.innerHeight*(k-o.lastT())/20;o.pan(k,0,0,S*(Math.exp(_)-1))}}},!0)},x.enableMouseListeners(),x}},8245:function(h,g,t){var r=t(6832),l=t(5158),a=r([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),s=r([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);h.exports=function(c){return l(c,a,s,null,[{name:"position",type:"vec2"}])}},1059:function(h,g,t){var r=t(4296),l=t(7453),a=t(2771),s=t(6496),c=t(2611),u=t(4234),b=t(8126),f=t(6145),w=t(1120),v=t(5268),o=t(8245),d=t(2321)({tablet:!0,featureDetect:!0});h.exports={createScene:E,createCamera:r};function S(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function M(i,R){var A=null;try{A=i.getContext("webgl",R),A||(A=i.getContext("experimental-webgl",R))}catch{return null}return A}function P(i){var R=Math.round(Math.log(Math.abs(i))/Math.log(10));if(R<0){var A=Math.round(Math.pow(10,-R));return Math.ceil(i*A)/A}else if(R>0){var A=Math.round(Math.pow(10,R));return Math.ceil(i/A)*A}return Math.ceil(i)}function x(i){return typeof i=="boolean"?i:!0}function E(i){i=i||{},i.camera=i.camera||{};var R=i.canvas;if(!R)if(R=document.createElement("canvas"),i.container){var A=i.container;A.appendChild(R)}else document.body.appendChild(R);var k=i.gl;if(k||(i.glOptions&&(d=!!i.glOptions.preserveDrawingBuffer),k=M(R,i.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d})),!k)throw new Error("webgl not supported");var _=i.bounds||[[-10,-10,-10],[10,10,10]],H=new S,z=u(k,k.drawingBufferWidth,k.drawingBufferHeight,{preferFloat:!d}),N=o(k),O=i.cameraObject&&i.cameraObject._ortho===!0||i.camera.projection&&i.camera.projection.type==="orthographic"||!1,F={eye:i.camera.eye||[2,0,0],center:i.camera.center||[0,0,0],up:i.camera.up||[0,1,0],zoomMin:i.camera.zoomMax||.1,zoomMax:i.camera.zoomMin||100,mode:i.camera.mode||"turntable",_ortho:O},U=i.axes||{},Z=l(k,U);Z.enable=!U.disable;var q=i.spikes||{},J=s(k,q),te=[],fe=[],K=[],Y=[],W=!0,Q=!0,X=new Array(16),re=new Array(16),se={view:null,projection:X,model:re,_ortho:!1},Q=!0,ee=[k.drawingBufferWidth,k.drawingBufferHeight],le=i.cameraObject||r(R,F),oe={gl:k,contextLost:!1,pixelRatio:i.pixelRatio||1,canvas:R,selection:H,camera:le,axes:Z,axesPixels:null,spikes:J,bounds:_,objects:te,shape:ee,aspect:i.aspectRatio||[1,1,1],pickRadius:i.pickRadius||10,zNear:i.zNear||.01,zFar:i.zFar||1e3,fovy:i.fovy||Math.PI/4,clearColor:i.clearColor||[0,0,0,0],autoResize:x(i.autoResize),autoBounds:x(i.autoBounds),autoScale:!!i.autoScale,autoCenter:x(i.autoCenter),clipToBounds:x(i.clipToBounds),snapToData:!!i.snapToData,onselect:i.onselect||null,onrender:i.onrender||null,onclick:i.onclick||null,cameraParams:se,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ge){this.aspect[0]=Ge.x,this.aspect[1]=Ge.y,this.aspect[2]=Ge.z,Q=!0},setBounds:function(Ge,He){this.bounds[0][Ge]=He.min,this.bounds[1][Ge]=He.max},setClearColor:function(Ge){this.clearColor=Ge},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},he=[k.drawingBufferWidth/oe.pixelRatio|0,k.drawingBufferHeight/oe.pixelRatio|0];function xe(){if(!oe._stopped&&oe.autoResize){var Ge=R.parentNode,He=1,ke=1;Ge&&Ge!==document.body?(He=Ge.clientWidth,ke=Ge.clientHeight):(He=window.innerWidth,ke=window.innerHeight);var We=Math.ceil(He*oe.pixelRatio)|0,nt=Math.ceil(ke*oe.pixelRatio)|0;if(We!==R.width||nt!==R.height){R.width=We,R.height=nt;var qe=R.style;qe.position=qe.position||"absolute",qe.left="0px",qe.top="0px",qe.width=He+"px",qe.height=ke+"px",W=!0}}}oe.autoResize&&xe(),window.addEventListener("resize",xe);function Ae(){for(var Ge=te.length,He=Y.length,ke=0;ke<He;++ke)K[ke]=0;e:for(var ke=0;ke<Ge;++ke){var We=te[ke],nt=We.pickSlots;if(!nt){fe[ke]=-1;continue}for(var qe=0;qe<He;++qe)if(K[qe]+nt<255){fe[ke]=qe,We.setPickBase(K[qe]+1),K[qe]+=nt;continue e}var Qe=c(k,ee);fe[ke]=He,Y.push(Qe),K.push(nt),We.setPickBase(1),He+=1}for(;He>0&&K[He-1]===0;)K.pop(),Y.pop().dispose()}oe.update=function(Ge){oe._stopped||(W=!0,Q=!0)},oe.add=function(Ge){oe._stopped||(Ge.axes=Z,te.push(Ge),fe.push(-1),W=!0,Q=!0,Ae())},oe.remove=function(Ge){if(!oe._stopped){var He=te.indexOf(Ge);He<0||(te.splice(He,1),fe.pop(),W=!0,Q=!0,Ae())}},oe.dispose=function(){if(!oe._stopped&&(oe._stopped=!0,window.removeEventListener("resize",xe),R.removeEventListener("webglcontextlost",Se),oe.mouseListener.enabled=!1,!oe.contextLost)){Z.dispose(),J.dispose();for(var Ge=0;Ge<te.length;++Ge)te[Ge].dispose();z.dispose();for(var Ge=0;Ge<Y.length;++Ge)Y[Ge].dispose();N.dispose(),k=null,Z=null,J=null,te=[]}},oe._mouseRotating=!1,oe._prevButtons=0,oe.enableMouseListeners=function(){oe.mouseListener=f(R,function(Ge,He,ke){if(!oe._stopped){var We=Y.length,nt=te.length,qe=H.object;H.distance=1/0,H.mouse[0]=He,H.mouse[1]=ke,H.object=null,H.screen=null,H.dataCoordinate=H.dataPosition=null;var Qe=!1;if(Ge&&oe._prevButtons)oe._mouseRotating=!0;else{oe._mouseRotating&&(Q=!0),oe._mouseRotating=!1;for(var tt=0;tt<We;++tt){var vt=Y[tt].query(He,he[1]-ke-1,oe.pickRadius);if(vt){if(vt.distance>H.distance)continue;for(var dt=0;dt<nt;++dt){var gt=te[dt];if(fe[dt]===tt){var Mt=gt.pick(vt);Mt&&(H.buttons=Ge,H.screen=vt.coord,H.distance=vt.distance,H.object=gt,H.index=Mt.distance,H.dataPosition=Mt.position,H.dataCoordinate=Mt.dataCoordinate,H.data=Mt,Qe=!0)}}}}}qe&&qe!==H.object&&(qe.highlight&&qe.highlight(null),W=!0),H.object&&(H.object.highlight&&H.object.highlight(H.data),W=!0),Qe=Qe||H.object!==qe,Qe&&oe.onselect&&oe.onselect(H),Ge&1&&!(oe._prevButtons&1)&&oe.onclick&&oe.onclick(H),oe._prevButtons=Ge}})};function Se(){if(oe.contextLost)return!0;k.isContextLost()&&(oe.contextLost=!0,oe.mouseListener.enabled=!1,oe.selection.object=null,oe.oncontextloss&&oe.oncontextloss())}R.addEventListener("webglcontextlost",Se);function Oe(){if(!Se()){k.colorMask(!0,!0,!0,!0),k.depthMask(!0),k.disable(k.BLEND),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL);for(var Ge=te.length,He=Y.length,ke=0;ke<He;++ke){var We=Y[ke];We.shape=he,We.begin();for(var nt=0;nt<Ge;++nt)if(fe[nt]===ke){var qe=te[nt];qe.drawPick&&(qe.pixelRatio=1,qe.drawPick(se))}We.end()}}}var Ve=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],Ee=[Ve[0].slice(),Ve[1].slice()];function Te(){if(!Se()){xe();var Ge=oe.camera.tick();se.view=oe.camera.matrix,W=W||Ge,Q=Q||Ge,Z.pixelRatio=oe.pixelRatio,J.pixelRatio=oe.pixelRatio;var He=te.length,ke=Ve[0],We=Ve[1];ke[0]=ke[1]=ke[2]=1/0,We[0]=We[1]=We[2]=-1/0;for(var nt=0;nt<He;++nt){var qe=te[nt];qe.pixelRatio=oe.pixelRatio,qe.axes=oe.axes,W=W||!!qe.dirty,Q=Q||!!qe.dirty;var Qe=qe.bounds;if(Qe)for(var tt=Qe[0],vt=Qe[1],dt=0;dt<3;++dt)ke[dt]=Math.min(ke[dt],tt[dt]),We[dt]=Math.max(We[dt],vt[dt])}var gt=oe.bounds;if(oe.autoBounds)for(var dt=0;dt<3;++dt){if(We[dt]<ke[dt])ke[dt]=-1,We[dt]=1;else{ke[dt]===We[dt]&&(ke[dt]-=1,We[dt]+=1);var Mt=.05*(We[dt]-ke[dt]);ke[dt]=ke[dt]-Mt,We[dt]=We[dt]+Mt}gt[0][dt]=ke[dt],gt[1][dt]=We[dt]}for(var Rt=!1,dt=0;dt<3;++dt)Rt=Rt||Ee[0][dt]!==gt[0][dt]||Ee[1][dt]!==gt[1][dt],Ee[0][dt]=gt[0][dt],Ee[1][dt]=gt[1][dt];if(Q=Q||Rt,W=W||Rt,!!W){if(Rt){for(var Wt=[0,0,0],nt=0;nt<3;++nt)Wt[nt]=P((gt[1][nt]-gt[0][nt])/10);Z.autoTicks?Z.update({bounds:gt,tickSpacing:Wt}):Z.update({bounds:gt})}var je=k.drawingBufferWidth,_e=k.drawingBufferHeight;ee[0]=je,ee[1]=_e,he[0]=Math.max(je/oe.pixelRatio,1)|0,he[1]=Math.max(_e/oe.pixelRatio,1)|0,T(oe,O);for(var nt=0;nt<He;++nt){var qe=te[nt];qe.axesBounds=gt,oe.clipToBounds&&(qe.clipBounds=gt)}H.object&&(oe.snapToData?J.position=H.dataCoordinate:J.position=H.dataPosition,J.bounds=gt),Q&&(Q=!1,Oe()),oe.axesPixels=a(oe.axes,se,je,_e),oe.onrender&&oe.onrender(),k.bindFramebuffer(k.FRAMEBUFFER,null),k.viewport(0,0,je,_e),oe.clearRGBA(),k.depthMask(!0),k.colorMask(!0,!0,!0,!0),k.enable(k.DEPTH_TEST),k.depthFunc(k.LEQUAL),k.disable(k.BLEND),k.disable(k.CULL_FACE);var Fe=!1;Z.enable&&(Fe=Fe||Z.isTransparent(),Z.draw(se)),J.axes=Z,H.object&&J.draw(se),k.disable(k.CULL_FACE);for(var nt=0;nt<He;++nt){var qe=te[nt];qe.axes=Z,qe.pixelRatio=oe.pixelRatio,qe.isOpaque&&qe.isOpaque()&&qe.draw(se),qe.isTransparent&&qe.isTransparent()&&(Fe=!0)}if(Fe){z.shape=ee,z.bind(),k.clear(k.DEPTH_BUFFER_BIT),k.colorMask(!1,!1,!1,!1),k.depthMask(!0),k.depthFunc(k.LESS),Z.enable&&Z.isTransparent()&&Z.drawTransparent(se);for(var nt=0;nt<He;++nt){var qe=te[nt];qe.isOpaque&&qe.isOpaque()&&qe.draw(se)}k.enable(k.BLEND),k.blendEquation(k.FUNC_ADD),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.colorMask(!0,!0,!0,!0),k.depthMask(!1),k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT),Z.isTransparent()&&Z.drawTransparent(se);for(var nt=0;nt<He;++nt){var qe=te[nt];qe.isTransparent&&qe.isTransparent()&&qe.drawTransparent(se)}k.bindFramebuffer(k.FRAMEBUFFER,null),k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA),k.disable(k.DEPTH_TEST),N.bind(),z.color[0].bind(0),N.uniforms.accumBuffer=0,b(k),k.disable(k.BLEND)}W=!1;for(var nt=0;nt<He;++nt)te[nt].dirty=!1}}}function Le(){oe._stopped||oe.contextLost||(Te(),requestAnimationFrame(Le))}return oe.enableMouseListeners(),Le(),oe.redraw=function(){oe._stopped||(W=!0,Te())},oe}function T(i,R){var A=i.bounds,k=i.cameraParams,_=k.projection,H=k.model,z=i.gl.drawingBufferWidth,N=i.gl.drawingBufferHeight,O=i.zNear,F=i.zFar,U=i.fovy,Z=z/N;R?(v(_,-Z,Z,-1,1,O,F),k._ortho=!0):(w(_,U,Z,O,F),k._ortho=!1);for(var q=0;q<16;++q)H[q]=0;H[15]=1;for(var J=0,q=0;q<3;++q)J=Math.max(J,A[1][q]-A[0][q]);for(var q=0;q<3;++q)i.autoScale?H[5*q]=i.aspect[q]/(A[1][q]-A[0][q]):H[5*q]=1/J,i.autoCenter&&(H[12+q]=-H[5*q]*.5*(A[0][q]+A[1][q]))}},8023:function(h,g,t){var r=t(6832);g.pointVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),g.pointFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),g.pickVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),g.pickFragment=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(h,g,t){var r=t(5158),l=t(5827),a=t(5306),s=t(8023);h.exports=f;function c(w,v,o,d,S){this.plot=w,this.offsetBuffer=v,this.pickBuffer=o,this.shader=d,this.pickShader=S,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}var u=c.prototype;u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(w){var v;w=w||{};function o(T,i){return T in w?w[T]:i}this.sizeMin=o("sizeMin",.5),this.sizeMax=o("sizeMax",20),this.color=o("color",[1,0,0,1]).slice(),this.areaRatio=o("areaRatio",1),this.borderColor=o("borderColor",[0,0,0,1]).slice(),this.blend=o("blend",!1);var d=w.positions.length>>>1,S=w.positions instanceof Float32Array,M=w.idToIndex instanceof Int32Array&&w.idToIndex.length>=d,P=w.positions,x=S?P:a.mallocFloat32(P.length),E=M?w.idToIndex:a.mallocInt32(d);if(S||x.set(P),!M)for(x.set(P),v=0;v<d;v++)E[v]=v;this.points=P,this.offsetBuffer.update(x),this.pickBuffer.update(E),S||a.free(x),M||a.free(E),this.pointCount=d,this.pickOffset=0};function b(w,v){var o=0,d=w.length>>>1,S;for(S=0;S<d;S++){var M=w[S*2],P=w[S*2+1];M>=v[0]&&M<=v[2]&&P>=v[1]&&P<=v[3]&&o++}return o}u.unifiedDraw=function(){var w=[1,0,0,0,1,0,0,0,1],v=[0,0,0,0];return function(o){var d=o!==void 0,S=d?this.pickShader:this.shader,M=this.plot.gl,P=this.plot.dataBox;if(this.pointCount===0)return o;var x=P[2]-P[0],E=P[3]-P[1],T=b(this.points,P),i=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(T,.33333)));w[0]=2/x,w[4]=2/E,w[6]=-2*P[0]/x-1,w[7]=-2*P[1]/E-1,this.offsetBuffer.bind(),S.bind(),S.attributes.position.pointer(),S.uniforms.matrix=w,S.uniforms.color=this.color,S.uniforms.borderColor=this.borderColor,S.uniforms.pointCloud=i<5,S.uniforms.pointSize=i,S.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),d&&(v[0]=o&255,v[1]=o>>8&255,v[2]=o>>16&255,v[3]=o>>24&255,this.pickBuffer.bind(),S.attributes.pickId.pointer(M.UNSIGNED_BYTE),S.uniforms.pickOffset=v,this.pickOffset=o);var R=M.getParameter(M.BLEND),A=M.getParameter(M.DITHER);return R&&!this.blend&&M.disable(M.BLEND),A&&M.disable(M.DITHER),M.drawArrays(M.POINTS,0,this.pointCount),R&&!this.blend&&M.enable(M.BLEND),A&&M.enable(M.DITHER),o+this.pointCount}}(),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(w,v,o){var d=this.pickOffset,S=this.pointCount;if(o<d||o>=d+S)return null;var M=o-d,P=this.points;return{object:this,pointId:M,dataCoord:[P[2*M],P[2*M+1]]}};function f(w,v){var o=w.gl,d=l(o),S=l(o),M=r(o,s.pointVertex,s.pointFragment),P=r(o,s.pickVertex,s.pickFragment),x=new c(w,d,S,M,P);return x.update(v),w.addObject(x),x}},6093:function(h){h.exports=g;function g(t,r,l,a){var s=r[0],c=r[1],u=r[2],b=r[3],f=l[0],w=l[1],v=l[2],o=l[3],d,S,M,P,x;return S=s*f+c*w+u*v+b*o,S<0&&(S=-S,f=-f,w=-w,v=-v,o=-o),1-S>1e-6?(d=Math.acos(S),M=Math.sin(d),P=Math.sin((1-a)*d)/M,x=Math.sin(a*d)/M):(P=1-a,x=a),t[0]=P*s+x*f,t[1]=P*c+x*w,t[2]=P*u+x*v,t[3]=P*b+x*o,t}},8240:function(h){h.exports=function(g){return!g&&g!==0?"":g.toString()}},4123:function(h,g,t){var r=t(875);h.exports=a;var l={};function a(s,c,u){var b=l[c];if(b||(b=l[c]={}),s in b)return b[s];var f={textAlign:"center",textBaseline:"middle",lineHeight:1,font:c,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}};f.triangles=!0;var w=r(s,f);f.triangles=!1;var v=r(s,f),o,d;if(u&&u!==1){for(o=0;o<w.positions.length;++o)for(d=0;d<w.positions[o].length;++d)w.positions[o][d]/=u;for(o=0;o<v.positions.length;++o)for(d=0;d<v.positions[o].length;++d)v.positions[o][d]/=u}var S=[[1/0,1/0],[-1/0,-1/0]],M=v.positions.length;for(o=0;o<M;++o){var P=v.positions[o];for(d=0;d<2;++d)S[0][d]=Math.min(S[0][d],P[d]),S[1][d]=Math.max(S[1][d],P[d])}return b[s]=[w,v,S]}},9282:function(h,g,t){var r=t(5158),l=t(6832),a=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),s=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),c=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),b=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),f=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],w={vertex:a,fragment:u,attributes:f},v={vertex:s,fragment:u,attributes:f},o={vertex:c,fragment:u,attributes:f},d={vertex:a,fragment:b,attributes:f},S={vertex:s,fragment:b,attributes:f},M={vertex:c,fragment:b,attributes:f};function P(x,E){var T=r(x,E),i=T.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,T}g.createPerspective=function(x){return P(x,w)},g.createOrtho=function(x){return P(x,v)},g.createProject=function(x){return P(x,o)},g.createPickPerspective=function(x){return P(x,d)},g.createPickOrtho=function(x){return P(x,S)},g.createPickProject=function(x){return P(x,M)}},2182:function(h,g,t){var r=t(3596),l=t(5827),a=t(2944),s=t(5306),c=t(104),u=t(9282),b=t(4123),f=t(8240),w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];h.exports=fe;function v(K,Y){var W=K[0],X=K[1],re=K[2],se=K[3];return K[0]=Y[0]*W+Y[4]*X+Y[8]*re+Y[12]*se,K[1]=Y[1]*W+Y[5]*X+Y[9]*re+Y[13]*se,K[2]=Y[2]*W+Y[6]*X+Y[10]*re+Y[14]*se,K[3]=Y[3]*W+Y[7]*X+Y[11]*re+Y[15]*se,K}function o(K,Y,W,X){return v(X,X),v(X,X),v(X,X)}function d(K,Y){this.index=K,this.dataCoordinate=this.position=Y}function S(K){return K===!0||K>1?1:K}function M(K,Y,W,X,re,se,Q,ee,le,oe,he,xe){this.gl=K,this.pixelRatio=1,this.shader=Y,this.orthoShader=W,this.projectShader=X,this.pointBuffer=re,this.colorBuffer=se,this.glyphBuffer=Q,this.idBuffer=ee,this.vao=le,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=oe,this.pickOrthoShader=he,this.pickProjectShader=xe,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}var P=M.prototype;P.pickSlots=1,P.setPickBase=function(K){this.pickId=K},P.isTransparent=function(){if(this.hasAlpha)return!0;for(var K=0;K<3;++K)if(this.axesProject[K]&&this.projectHasAlpha)return!0;return!1},P.isOpaque=function(){if(!this.hasAlpha)return!0;for(var K=0;K<3;++K)if(this.axesProject[K]&&!this.projectHasAlpha)return!0;return!1};var x=[0,0],E=[0,0,0],T=[0,0,0],i=[0,0,0,1],R=[0,0,0,1],A=w.slice(),k=[0,0,0],_=[[0,0,0],[0,0,0]];function H(K){return K[0]=K[1]=K[2]=0,K}function z(K,Y){return K[0]=Y[0],K[1]=Y[1],K[2]=Y[2],K[3]=1,K}function N(K,Y,W,X){return K[0]=Y[0],K[1]=Y[1],K[2]=Y[2],K[W]=X,K}function O(K){for(var Y=_,W=0;W<2;++W)for(var X=0;X<3;++X)Y[W][X]=Math.max(Math.min(K[W][X],1e8),-1e8);return Y}function F(K,Y,W,X){var re=Y.axesProject,se=Y.gl,Q=K.uniforms,ee=W.model||w,le=W.view||w,oe=W.projection||w,he=Y.axesBounds,xe=O(Y.clipBounds),Ae;Y.axes&&Y.axes.lastCubeProps?Ae=Y.axes.lastCubeProps.axis:Ae=[1,1,1],x[0]=2/se.drawingBufferWidth,x[1]=2/se.drawingBufferHeight,K.bind(),Q.view=le,Q.projection=oe,Q.screenSize=x,Q.highlightId=Y.highlightId,Q.highlightScale=Y.highlightScale,Q.clipBounds=xe,Q.pickGroup=Y.pickId/255,Q.pixelRatio=X;for(var Se=0;Se<3;++Se)if(re[Se]){Q.scale=Y.projectScale[Se],Q.opacity=Y.projectOpacity[Se];for(var Oe=A,Ve=0;Ve<16;++Ve)Oe[Ve]=0;for(var Ve=0;Ve<4;++Ve)Oe[5*Ve]=1;Oe[5*Se]=0,Ae[Se]<0?Oe[12+Se]=he[0][Se]:Oe[12+Se]=he[1][Se],c(Oe,ee,Oe),Q.model=Oe;var Ee=(Se+1)%3,Te=(Se+2)%3,Le=H(E),Ge=H(T);Le[Ee]=1,Ge[Te]=1;var He=o(oe,le,ee,z(i,Le)),ke=o(oe,le,ee,z(R,Ge));if(Math.abs(He[1])>Math.abs(ke[1])){var We=He;He=ke,ke=We,We=Le,Le=Ge,Ge=We;var nt=Ee;Ee=Te,Te=nt}He[0]<0&&(Le[Ee]=-1),ke[1]>0&&(Ge[Te]=-1);for(var qe=0,Qe=0,Ve=0;Ve<4;++Ve)qe+=Math.pow(ee[4*Ee+Ve],2),Qe+=Math.pow(ee[4*Te+Ve],2);Le[Ee]/=Math.sqrt(qe),Ge[Te]/=Math.sqrt(Qe),Q.axes[0]=Le,Q.axes[1]=Ge,Q.fragClipBounds[0]=N(k,xe[0],Se,-1e8),Q.fragClipBounds[1]=N(k,xe[1],Se,1e8),Y.vao.bind(),Y.vao.draw(se.TRIANGLES,Y.vertexCount),Y.lineWidth>0&&(se.lineWidth(Y.lineWidth*X),Y.vao.draw(se.LINES,Y.lineVertexCount,Y.vertexCount)),Y.vao.unbind()}}var U=[-1e8,-1e8,-1e8],Z=[1e8,1e8,1e8],q=[U,Z];function J(K,Y,W,X,re,se,Q){var ee=W.gl;if((se===W.projectHasAlpha||Q)&&F(Y,W,X,re),se===W.hasAlpha||Q){K.bind();var le=K.uniforms;le.model=X.model||w,le.view=X.view||w,le.projection=X.projection||w,x[0]=2/ee.drawingBufferWidth,x[1]=2/ee.drawingBufferHeight,le.screenSize=x,le.highlightId=W.highlightId,le.highlightScale=W.highlightScale,le.fragClipBounds=q,le.clipBounds=W.axes.bounds,le.opacity=W.opacity,le.pickGroup=W.pickId/255,le.pixelRatio=re,W.vao.bind(),W.vao.draw(ee.TRIANGLES,W.vertexCount),W.lineWidth>0&&(ee.lineWidth(W.lineWidth*re),W.vao.draw(ee.LINES,W.lineVertexCount,W.vertexCount)),W.vao.unbind()}}P.draw=function(K){var Y=this.useOrtho?this.orthoShader:this.shader;J(Y,this.projectShader,this,K,this.pixelRatio,!1,!1)},P.drawTransparent=function(K){var Y=this.useOrtho?this.orthoShader:this.shader;J(Y,this.projectShader,this,K,this.pixelRatio,!0,!1)},P.drawPick=function(K){var Y=this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader;J(Y,this.pickProjectShader,this,K,1,!0,!0)},P.pick=function(K){if(!K||K.id!==this.pickId)return null;var Y=K.value[2]+(K.value[1]<<8)+(K.value[0]<<16);if(Y>=this.pointCount||Y<0)return null;var W=this.points[Y],X=this._selectResult;X.index=Y;for(var re=0;re<3;++re)X.position[re]=X.dataCoordinate[re]=W[re];return X},P.highlight=function(K){if(!K)this.highlightId=[1,1,1,1];else{var Y=K.index,W=Y&255,X=Y>>8&255,re=Y>>16&255;this.highlightId=[W/255,X/255,re/255,0]}};function te(K,Y,W,X){var re;Array.isArray(K)?Y<K.length?re=K[Y]:re=void 0:re=K,re=f(re);var se=!0;r(re)&&(re="",se=!1);var Q=b(re,W,X);return{mesh:Q[0],lines:Q[1],bounds:Q[2],visible:se}}P.update=function(K){if(K=K||{},"perspective"in K&&(this.useOrtho=!K.perspective),"orthographic"in K&&(this.useOrtho=!!K.orthographic),"lineWidth"in K&&(this.lineWidth=K.lineWidth),"project"in K)if(Array.isArray(K.project))this.axesProject=K.project;else{var Y=!!K.project;this.axesProject=[Y,Y,Y]}if("projectScale"in K)if(Array.isArray(K.projectScale))this.projectScale=K.projectScale.slice();else{var W=+K.projectScale;this.projectScale=[W,W,W]}if(this.projectHasAlpha=!1,"projectOpacity"in K){if(Array.isArray(K.projectOpacity))this.projectOpacity=K.projectOpacity.slice();else{var W=+K.projectOpacity;this.projectOpacity=[W,W,W]}for(var X=0;X<3;++X)this.projectOpacity[X]=S(this.projectOpacity[X]),this.projectOpacity[X]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in K&&(this.opacity=S(K.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var re=K.position,se=K.font||"normal",Q=K.alignment||[0,0],ee,le;if(Q.length===2)ee=Q[0],le=Q[1];else{ee=[],le=[];for(var X=0;X<Q.length;++X)ee[X]=Q[X][0],le[X]=Q[X][1]}var oe=[1/0,1/0,1/0],he=[-1/0,-1/0,-1/0],xe=K.glyph,Ae=K.color,Se=K.size,Oe=K.angle,Ve=K.lineColor,Ee=-1,Te=0,Le=0,Ge=0;if(re.length){Ge=re.length;e:for(var X=0;X<Ge;++X){for(var He=re[X],ke=0;ke<3;++ke)if(isNaN(He[ke])||!isFinite(He[ke]))continue e;var We=te(xe,X,se,this.pixelRatio),nt=We.mesh,qe=We.lines,Qe=We.bounds;Te+=nt.cells.length*3,Le+=qe.edges.length*2}}var tt=Te+Le,vt=s.mallocFloat(3*tt),dt=s.mallocFloat(4*tt),gt=s.mallocFloat(2*tt),Mt=s.mallocUint32(tt);if(tt>0){var Rt=0,Wt=Te,je=[0,0,0,1],_e=[0,0,0,1],Fe=Array.isArray(Ae)&&Array.isArray(Ae[0]),Be=Array.isArray(Ve)&&Array.isArray(Ve[0]);e:for(var X=0;X<Ge;++X){Ee+=1;for(var He=re[X],ke=0;ke<3;++ke){if(isNaN(He[ke])||!isFinite(He[ke]))continue e;he[ke]=Math.max(he[ke],He[ke]),oe[ke]=Math.min(oe[ke],He[ke])}var We=te(xe,X,se,this.pixelRatio),nt=We.mesh,qe=We.lines,Qe=We.bounds,De=We.visible;if(!De)je=[1,1,1,0];else if(Array.isArray(Ae)){var we;if(Fe?X<Ae.length?we=Ae[X]:we=[0,0,0,0]:we=Ae,we.length===3){for(var ke=0;ke<3;++ke)je[ke]=we[ke];je[3]=1}else if(we.length===4){for(var ke=0;ke<4;++ke)je[ke]=we[ke];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else je[0]=je[1]=je[2]=0,je[3]=1;if(!De)_e=[1,1,1,0];else if(Array.isArray(Ve)){var we;if(Be?X<Ve.length?we=Ve[X]:we=[0,0,0,0]:we=Ve,we.length===3){for(var ke=0;ke<3;++ke)_e[ke]=we[ke];_e[ke]=1}else if(we.length===4){for(var ke=0;ke<4;++ke)_e[ke]=we[ke];!this.hasAlpha&&we[3]<1&&(this.hasAlpha=!0)}}else _e[0]=_e[1]=_e[2]=0,_e[3]=1;var ue=.5;De?Array.isArray(Se)?X<Se.length?ue=+Se[X]:ue=12:Se?ue=+Se:this.useOrtho&&(ue=12):ue=0;var me=0;Array.isArray(Oe)?X<Oe.length?me=+Oe[X]:me=0:Oe&&(me=+Oe);for(var Re=Math.cos(me),Ne=Math.sin(me),He=re[X],ke=0;ke<3;++ke)he[ke]=Math.max(he[ke],He[ke]),oe[ke]=Math.min(oe[ke],He[ke]);var it=ee,ot=le,it=0;Array.isArray(ee)?X<ee.length?it=ee[X]:it=0:ee&&(it=ee);var ot=0;Array.isArray(le)?X<le.length?ot=le[X]:ot=0:le&&(ot=le),it*=it>0?1-Qe[0][0]:it<0?1+Qe[1][0]:1,ot*=ot>0?1-Qe[0][1]:ot<0?1+Qe[1][1]:1;for(var wt=[it,ot],$t=nt.cells||[],lr=nt.positions||[],ke=0;ke<$t.length;++ke)for(var Ft=$t[ke],Ut=0;Ut<3;++Ut){for(var Gt=0;Gt<3;++Gt)vt[3*Rt+Gt]=He[Gt];for(var Gt=0;Gt<4;++Gt)dt[4*Rt+Gt]=je[Gt];Mt[Rt]=Ee;var Et=lr[Ft[Ut]];gt[2*Rt]=ue*(Re*Et[0]-Ne*Et[1]+wt[0]),gt[2*Rt+1]=ue*(Ne*Et[0]+Re*Et[1]+wt[1]),Rt+=1}for(var $t=qe.edges,lr=qe.positions,ke=0;ke<$t.length;++ke)for(var Ft=$t[ke],Ut=0;Ut<2;++Ut){for(var Gt=0;Gt<3;++Gt)vt[3*Wt+Gt]=He[Gt];for(var Gt=0;Gt<4;++Gt)dt[4*Wt+Gt]=_e[Gt];Mt[Wt]=Ee;var Et=lr[Ft[Ut]];gt[2*Wt]=ue*(Re*Et[0]-Ne*Et[1]+wt[0]),gt[2*Wt+1]=ue*(Ne*Et[0]+Re*Et[1]+wt[1]),Wt+=1}}}this.bounds=[oe,he],this.points=re,this.pointCount=re.length,this.vertexCount=Te,this.lineVertexCount=Le,this.pointBuffer.update(vt),this.colorBuffer.update(dt),this.glyphBuffer.update(gt),this.idBuffer.update(Mt),s.free(vt),s.free(dt),s.free(gt),s.free(Mt)},P.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()};function fe(K){var Y=K.gl,W=u.createPerspective(Y),X=u.createOrtho(Y),re=u.createProject(Y),se=u.createPickPerspective(Y),Q=u.createPickOrtho(Y),ee=u.createPickProject(Y),le=l(Y),oe=l(Y),he=l(Y),xe=l(Y),Ae=a(Y,[{buffer:le,size:3,type:Y.FLOAT},{buffer:oe,size:4,type:Y.FLOAT},{buffer:he,size:2,type:Y.FLOAT},{buffer:xe,size:4,type:Y.UNSIGNED_BYTE,normalized:!0}]),Se=new M(Y,W,X,re,le,oe,he,xe,Ae,se,Q,ee);return Se.update(K),Se}},1884:function(h,g,t){var r=t(6832);g.boxVertex=r([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),g.boxFragment=r([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(h,g,t){var r=t(5158),l=t(5827),a=t(1884);h.exports=u;function s(b,f,w){this.plot=b,this.boxBuffer=f,this.boxShader=w,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}var c=s.prototype;c.draw=function(){if(this.enabled){var b=this.plot,f=this.selectBox,w=this.borderWidth;this.innerFill;var v=this.innerColor;this.outerFill;var o=this.outerColor,d=this.borderColor,S=b.box,M=b.screenBox,P=b.dataBox,x=b.viewBox,E=b.pixelRatio,T=(f[0]-P[0])*(x[2]-x[0])/(P[2]-P[0])+x[0],i=(f[1]-P[1])*(x[3]-x[1])/(P[3]-P[1])+x[1],R=(f[2]-P[0])*(x[2]-x[0])/(P[2]-P[0])+x[0],A=(f[3]-P[1])*(x[3]-x[1])/(P[3]-P[1])+x[1];if(T=Math.max(T,x[0]),i=Math.max(i,x[1]),R=Math.min(R,x[2]),A=Math.min(A,x[3]),!(R<T||A<i)){S.bind();var k=M[2]-M[0],_=M[3]-M[1];if(this.outerFill&&(S.drawBox(0,0,k,i,o),S.drawBox(0,i,T,A,o),S.drawBox(0,A,k,_,o),S.drawBox(R,i,k,A,o)),this.innerFill&&S.drawBox(T,i,R,A,v),w>0){var H=w*E;S.drawBox(T-H,i-H,R+H,i+H,d),S.drawBox(T-H,A-H,R+H,A+H,d),S.drawBox(T-H,i-H,T+H,A+H,d),S.drawBox(R-H,i-H,R+H,A+H,d)}}}},c.update=function(b){b=b||{},this.innerFill=!!b.innerFill,this.outerFill=!!b.outerFill,this.innerColor=(b.innerColor||[0,0,0,.5]).slice(),this.outerColor=(b.outerColor||[0,0,0,.5]).slice(),this.borderColor=(b.borderColor||[0,0,0,1]).slice(),this.borderWidth=b.borderWidth||0,this.selectBox=(b.selectBox||this.selectBox).slice()},c.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)};function u(b,f){var w=b.gl,v=l(w,[0,0,0,1,1,0,1,1]),o=r(w,a.boxVertex,a.boxFragment),d=new s(b,v,o);return d.update(f),b.addOverlay(d),d}},2611:function(h,g,t){h.exports=w;var r=t(4234),l=t(5306),a=t(5050),s=t(2288).nextPow2,c=function(v,o,d){for(var S=1e8,M=-1,P=-1,x=v.shape[0],E=v.shape[1],T=0;T<x;T++)for(var i=0;i<E;i++){var R=v.get(T,i,0),A=v.get(T,i,1),k=v.get(T,i,2),_=v.get(T,i,3);if(R<255||A<255||k<255||_<255){var H=o-T,z=d-i,N=H*H+z*z;N<S&&(S=N,M=T,P=i)}}return[M,P,S]};function u(v,o,d,S,M){this.coord=[v,o],this.id=d,this.value=S,this.distance=M}function b(v,o,d){this.gl=v,this.fbo=o,this.buffer=d,this._readTimeout=null;var S=this;this._readCallback=function(){S.gl&&(o.bind(),v.readPixels(0,0,o.shape[0],o.shape[1],v.RGBA,v.UNSIGNED_BYTE,S.buffer),S._readTimeout=null)}}var f=b.prototype;Object.defineProperty(f,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(v){if(this.gl){this.fbo.shape=v;var o=this.fbo.shape[0],d=this.fbo.shape[1];if(d*o*4>this.buffer.length){l.free(this.buffer);for(var S=this.buffer=l.mallocUint8(s(d*o*4)),M=0;M<d*o*4;++M)S[M]=255}return v}}}),f.begin=function(){var v=this.gl;this.shape,v&&(this.fbo.bind(),v.clearColor(1,1,1,1),v.clear(v.COLOR_BUFFER_BIT|v.DEPTH_BUFFER_BIT))},f.end=function(){var v=this.gl;v&&(v.bindFramebuffer(v.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},f.query=function(v,o,d){if(!this.gl)return null;var S=this.fbo.shape.slice();v=v|0,o=o|0,typeof d!="number"&&(d=1);var M=Math.min(Math.max(v-d,0),S[0])|0,P=Math.min(Math.max(v+d,0),S[0])|0,x=Math.min(Math.max(o-d,0),S[1])|0,E=Math.min(Math.max(o+d,0),S[1])|0;if(P<=M||E<=x)return null;var T=[P-M,E-x],i=a(this.buffer,[T[0],T[1],4],[4,S[0]*4,1],4*(M+S[0]*x)),R=c(i.hi(T[0],T[1],1),d,d),A=R[0],k=R[1];if(A<0||Math.pow(this.radius,2)<R[2])return null;var _=i.get(A,k,0),H=i.get(A,k,1),z=i.get(A,k,2),N=i.get(A,k,3);return new u(A+M|0,k+x|0,_,[H,z,N],Math.sqrt(R[2]))},f.dispose=function(){this.gl&&(this.fbo.dispose(),l.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))};function w(v,o){var d=o[0],S=o[1],M={},P=r(v,d,S,M),x=l.mallocUint8(d*S*4);return new b(v,P,x)}},5158:function(h,g,t){var r=t(9016),l=t(4280),a=t(3984),s=t(1628),c=t(2631),u=t(9068);function b(o){this.gl=o,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var f=b.prototype;f.bind=function(){this.program||this._relink();var o,d=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),S=this.gl.lastAttribCount;if(d>S)for(o=S;o<d;o++)this.gl.enableVertexAttribArray(o);else if(S>d)for(o=d;o<S;o++)this.gl.disableVertexAttribArray(o);this.gl.lastAttribCount=d,this.gl.useProgram(this.program)},f.dispose=function(){for(var o=this.gl.lastAttribCount,d=0;d<o;d++)this.gl.disableVertexAttribArray(d);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null};function w(o,d){return o.name<d.name?-1:1}f.update=function(o,d,S,M){if(!d||arguments.length===1){var P=o;o=P.vertex,d=P.fragment,S=P.uniforms,M=P.attributes}var x=this,E=x.gl,T=x._vref;x._vref=s.shader(E,E.VERTEX_SHADER,o),T&&T.dispose(),x.vertShader=x._vref.shader;var i=this._fref;if(x._fref=s.shader(E,E.FRAGMENT_SHADER,d),i&&i.dispose(),x.fragShader=x._fref.shader,!S||!M){var R=E.createProgram();if(E.attachShader(R,x.fragShader),E.attachShader(R,x.vertShader),E.linkProgram(R),!E.getProgramParameter(R,E.LINK_STATUS)){var A=E.getProgramInfoLog(R);throw new u(A,"Error linking program:"+A)}S=S||c.uniforms(E,R),M=M||c.attributes(E,R),E.deleteProgram(R)}M=M.slice(),M.sort(w);var k=[],_=[],H=[],z;for(z=0;z<M.length;++z){var N=M[z];if(N.type.indexOf("mat")>=0){for(var O=N.type.charAt(N.type.length-1)|0,F=new Array(O),U=0;U<O;++U)F[U]=H.length,_.push(N.name+"["+U+"]"),typeof N.location=="number"?H.push(N.location+U):Array.isArray(N.location)&&N.location.length===O&&typeof N.location[U]=="number"?H.push(N.location[U]|0):H.push(-1);k.push({name:N.name,type:N.type,locations:F})}else k.push({name:N.name,type:N.type,locations:[H.length]}),_.push(N.name),typeof N.location=="number"?H.push(N.location|0):H.push(-1)}var Z=0;for(z=0;z<H.length;++z)if(H[z]<0){for(;H.indexOf(Z)>=0;)Z+=1;H[z]=Z}var q=new Array(S.length);function J(){x.program=s.program(E,x._vref,x._fref,_,H);for(var te=0;te<S.length;++te)q[te]=E.getUniformLocation(x.program,S[te].name)}J(),x._relink=J,x.types={uniforms:a(S),attributes:a(M)},x.attributes=l(E,x,k,H),Object.defineProperty(x,"uniforms",r(E,x,S,q))};function v(o,d,S,M,P){var x=new b(o);return x.update(d,S,M,P),x}h.exports=v},9068:function(h){function g(t,r,l){this.shortMessage=r||"",this.longMessage=l||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(l?`
`+l:""),this.stack=new Error().stack}g.prototype=new Error,g.prototype.name="GLError",g.prototype.constructor=g,h.exports=g},4280:function(h,g,t){h.exports=b;var r=t(9068);function l(f,w,v,o,d,S){this._gl=f,this._wrapper=w,this._index=v,this._locations=o,this._dimension=d,this._constFunc=S}var a=l.prototype;a.pointer=function(w,v,o,d){var S=this,M=S._gl,P=S._locations[S._index];M.vertexAttribPointer(P,S._dimension,w||M.FLOAT,!!v,o||0,d||0),M.enableVertexAttribArray(P)},a.set=function(f,w,v,o){return this._constFunc(this._locations[this._index],f,w,v,o)},Object.defineProperty(a,"location",{get:function(){return this._locations[this._index]},set:function(f){return f!==this._locations[this._index]&&(this._locations[this._index]=f|0,this._wrapper.program=null),f|0}});var s=[function(f,w,v){return v.length===void 0?f.vertexAttrib1f(w,v):f.vertexAttrib1fv(w,v)},function(f,w,v,o){return v.length===void 0?f.vertexAttrib2f(w,v,o):f.vertexAttrib2fv(w,v)},function(f,w,v,o,d){return v.length===void 0?f.vertexAttrib3f(w,v,o,d):f.vertexAttrib3fv(w,v)},function(f,w,v,o,d,S){return v.length===void 0?f.vertexAttrib4f(w,v,o,d,S):f.vertexAttrib4fv(w,v)}];function c(f,w,v,o,d,S,M){var P=s[d],x=new l(f,w,v,o,d,P);Object.defineProperty(S,M,{set:function(E){return f.disableVertexAttribArray(o[v]),P(f,o[v],E),E},get:function(){return x},enumerable:!0})}function u(f,w,v,o,d,S,M){for(var P=new Array(d),x=new Array(d),E=0;E<d;++E)c(f,w,v[E],o,d,P,E),x[E]=P[E];Object.defineProperty(P,"location",{set:function(R){if(Array.isArray(R))for(var A=0;A<d;++A)x[A].location=R[A];else for(var A=0;A<d;++A)x[A].location=R+A;return R},get:function(){for(var R=new Array(d),A=0;A<d;++A)R[A]=o[v[A]];return R},enumerable:!0}),P.pointer=function(R,A,k,_){R=R||f.FLOAT,A=!!A,k=k||d*d,_=_||0;for(var H=0;H<d;++H){var z=o[v[H]];f.vertexAttribPointer(z,d,R,A,k,_+H*d),f.enableVertexAttribArray(z)}};var T=new Array(d),i=f["vertexAttrib"+d+"fv"];Object.defineProperty(S,M,{set:function(R){for(var A=0;A<d;++A){var k=o[v[A]];if(f.disableVertexAttribArray(k),Array.isArray(R[0]))i.call(f,k,R[A]);else{for(var _=0;_<d;++_)T[_]=R[d*A+_];i.call(f,k,T)}}return R},get:function(){return P},enumerable:!0})}function b(f,w,v,o){for(var d={},S=0,M=v.length;S<M;++S){var P=v[S],x=P.name,E=P.type,T=P.locations;switch(E){case"bool":case"int":case"float":c(f,w,T[0],o,1,d,x);break;default:if(E.indexOf("vec")>=0){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+x+": "+E);c(f,w,T[0],o,i,d,x)}else if(E.indexOf("mat")>=0){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new r("","Invalid data type for attribute "+x+": "+E);u(f,w,T,o,i,d,x)}else throw new r("","Unknown data type for attribute "+x+": "+E);break}}return d}},9016:function(h,g,t){var r=t(3984),l=t(9068);h.exports=c;function a(u){return function(){return u}}function s(u,b){for(var f=new Array(u),w=0;w<u;++w)f[w]=b;return f}function c(u,b,f,w){function v(E){return function(T,i,R){return T.getUniform(i.program,R[E])}}function o(E){return function(i){for(var R=d("",E),A=0;A<R.length;++A){var k=R[A],_=k[0],H=k[1];if(w[H]){var z=i;if(typeof _=="string"&&(_.indexOf(".")===0||_.indexOf("[")===0)){var N=_;if(_.indexOf(".")===0&&(N=_.slice(1)),N.indexOf("]")===N.length-1){var O=N.indexOf("["),F=N.slice(0,O),U=N.slice(O+1,N.length-1);z=F?i[F][U]:i[U]}else z=i[N]}var Z=f[H].type,q;switch(Z){case"bool":case"int":case"sampler2D":case"samplerCube":u.uniform1i(w[H],z);break;case"float":u.uniform1f(w[H],z);break;default:var J=Z.indexOf("vec");if(0<=J&&J<=1&&Z.length===4+J){if(q=Z.charCodeAt(Z.length-1)-48,q<2||q>4)throw new l("","Invalid data type");switch(Z.charAt(0)){case"b":case"i":u["uniform"+q+"iv"](w[H],z);break;case"v":u["uniform"+q+"fv"](w[H],z);break;default:throw new l("","Unrecognized data type for vector "+name+": "+Z)}}else if(Z.indexOf("mat")===0&&Z.length===4){if(q=Z.charCodeAt(Z.length-1)-48,q<2||q>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+Z);u["uniformMatrix"+q+"fv"](w[H],!1,z);break}else throw new l("","Unknown uniform data type for "+name+": "+Z)}}}}}function d(E,T){if(typeof T!="object")return[[E,T]];var i=[];for(var R in T){var A=T[R],k=E;parseInt(R)+""===R?k+="["+R+"]":k+="."+R,typeof A=="object"?i.push.apply(i,d(k,A)):i.push([k,A])}return i}function S(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":return 0;case"float":return 0;default:var T=E.indexOf("vec");if(0<=T&&T<=1&&E.length===4+T){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new l("","Invalid data type");return E.charAt(0)==="b"?s(i,!1):s(i,0)}else if(E.indexOf("mat")===0&&E.length===4){var i=E.charCodeAt(E.length-1)-48;if(i<2||i>4)throw new l("","Invalid uniform dimension type for matrix "+name+": "+E);return s(i*i,0)}else throw new l("","Unknown uniform data type for "+name+": "+E)}}function M(E,T,i){if(typeof i=="object"){var R=P(i);Object.defineProperty(E,T,{get:a(R),set:o(i),enumerable:!0,configurable:!1})}else w[i]?Object.defineProperty(E,T,{get:v(i),set:o(i),enumerable:!0,configurable:!1}):E[T]=S(f[i].type)}function P(E){var T;if(Array.isArray(E)){T=new Array(E.length);for(var i=0;i<E.length;++i)M(T,i,E[i])}else{T={};for(var R in E)M(T,R,E[R])}return T}var x=r(f,!0);return{get:a(P(x)),set:o(x),enumerable:!0,configurable:!0}}},3984:function(h){h.exports=g;function g(t,r){for(var l={},a=0;a<t.length;++a)for(var s=t[a].name,c=s.split("."),u=l,b=0;b<c.length;++b){var f=c[b].split("[");if(f.length>1){f[0]in u||(u[f[0]]=[]),u=u[f[0]];for(var w=1;w<f.length;++w){var v=parseInt(f[w]);w<f.length-1||b<c.length-1?(v in u||(w<f.length-1?u[v]=[]:u[v]={}),u=u[v]):r?u[v]=a:u[v]=t[a].type}}else b<c.length-1?(f[0]in u||(u[f[0]]={}),u=u[f[0]]):r?u[f[0]]=a:u[f[0]]=t[a].type}return l}},2631:function(h,g){g.uniforms=a,g.attributes=s;var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},r=null;function l(c,u){if(!r){var b=Object.keys(t);r={};for(var f=0;f<b.length;++f){var w=b[f];r[c[w]]=t[w]}}return r[u]}function a(c,u){for(var b=c.getProgramParameter(u,c.ACTIVE_UNIFORMS),f=[],w=0;w<b;++w){var v=c.getActiveUniform(u,w);if(v){var o=l(c,v.type);if(v.size>1)for(var d=0;d<v.size;++d)f.push({name:v.name.replace("[0]","["+d+"]"),type:o});else f.push({name:v.name,type:o})}}return f}function s(c,u){for(var b=c.getProgramParameter(u,c.ACTIVE_ATTRIBUTES),f=[],w=0;w<b;++w){var v=c.getActiveAttrib(u,w);v&&f.push({name:v.name,type:l(c,v.type)})}return f}},1628:function(h,g,t){g.shader=d,g.program=S;var r=t(9068),l=t(3530),a=typeof WeakMap>"u"?t(4037):WeakMap,s=new a,c=0;function u(M,P,x,E,T,i,R){this.id=M,this.src=P,this.type=x,this.shader=E,this.count=i,this.programs=[],this.cache=R}u.prototype.dispose=function(){if(--this.count===0){for(var M=this.cache,P=M.gl,x=this.programs,E=0,T=x.length;E<T;++E){var i=M.programs[x[E]];i&&(delete M.programs[E],P.deleteProgram(i))}P.deleteShader(this.shader),delete M.shaders[this.type===P.FRAGMENT_SHADER|0][this.src]}};function b(M){this.gl=M,this.shaders=[{},{}],this.programs={}}var f=b.prototype;function w(M,P,x){var E=M.createShader(P);if(M.shaderSource(E,x),M.compileShader(E),!M.getShaderParameter(E,M.COMPILE_STATUS)){var T=M.getShaderInfoLog(E);try{var i=l(T,x,P)}catch(R){throw console.warn("Failed to format compiler error: "+R),new r(T,`Error compiling shader:
`+T)}throw new r(T,i.short,i.long)}return E}f.getShaderReference=function(M,P){var x=this.gl,E=this.shaders[M===x.FRAGMENT_SHADER|0],T=E[P];if(!T||!x.isShader(T.shader)){var i=w(x,M,P);T=E[P]=new u(c++,P,M,i,[],1,this)}else T.count+=1;return T};function v(M,P,x,E,T){var i=M.createProgram();M.attachShader(i,P),M.attachShader(i,x);for(var R=0;R<E.length;++R)M.bindAttribLocation(i,T[R],E[R]);if(M.linkProgram(i),!M.getProgramParameter(i,M.LINK_STATUS)){var A=M.getProgramInfoLog(i);throw new r(A,"Error linking program: "+A)}return i}f.getProgram=function(M,P,x,E){var T=[M.id,P.id,x.join(":"),E.join(":")].join("@"),i=this.programs[T];return(!i||!this.gl.isProgram(i))&&(this.programs[T]=i=v(this.gl,M.shader,P.shader,x,E),M.programs.push(T),P.programs.push(T)),i};function o(M){var P=s.get(M);return P||(P=new b(M),s.set(M,P)),P}function d(M,P,x){return o(M).getShaderReference(P,x)}function S(M,P,x,E,T){return o(M).getProgram(P,x,E,T)}},3050:function(h){h.exports=r;function g(l){this.plot=l,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}var t=g.prototype;t.update=function(l){l=l||{},this.enable=(l.enable||[!0,!0,!1,!1]).slice(),this.width=(l.width||[1,1,1,1]).slice(),this.color=(l.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(a){return a.slice()}),this.center=(l.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var l=this.enable,a=this.width,s=this.color,c=this.center,u=this.plot,b=u.line,f=u.dataBox,w=u.viewBox;if(b.bind(),f[0]<=c[0]&&c[0]<=f[2]&&f[1]<=c[1]&&c[1]<=f[3]){var v=w[0]+(c[0]-f[0])/(f[2]-f[0])*(w[2]-w[0]),o=w[1]+(c[1]-f[1])/(f[3]-f[1])*(w[3]-w[1]);l[0]&&b.drawLine(v,o,w[0],o,a[0],s[0]),l[1]&&b.drawLine(v,o,v,w[1],a[1],s[1]),l[2]&&b.drawLine(v,o,w[2],o,a[2],s[2]),l[3]&&b.drawLine(v,o,v,w[3],a[3],s[3])}},t.dispose=function(){this.plot.removeOverlay(this)};function r(l,a){var s=new g(l);return s.update(a),l.addOverlay(s),s}},3540:function(h,g,t){var r=t(6832),l=t(5158),a=r([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),s=r([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);h.exports=function(c){return l(c,a,s,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(h,g,t){var r=t(5827),l=t(2944),a=t(3540);h.exports=v;var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function c(o,d,S,M){this.gl=o,this.buffer=d,this.vao=S,this.shader=M,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=c.prototype,b=[0,0,0],f=[0,0,0],w=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(o){},u.draw=function(o){var d=this.gl,S=this.vao,M=this.shader;S.bind(),M.bind();var P=o.model||s,x=o.view||s,E=o.projection||s,T;this.axes&&(T=this.axes.lastCubeProps.axis);for(var i=b,R=f,A=0;A<3;++A)T&&T[A]<0?(i[A]=this.bounds[0][A],R[A]=this.bounds[1][A]):(i[A]=this.bounds[1][A],R[A]=this.bounds[0][A]);w[0]=d.drawingBufferWidth,w[1]=d.drawingBufferHeight,M.uniforms.model=P,M.uniforms.view=x,M.uniforms.projection=E,M.uniforms.coordinates=[this.position,i,R],M.uniforms.colors=this.colors,M.uniforms.screenShape=w;for(var A=0;A<3;++A)M.uniforms.lineWidth=this.lineWidth[A]*this.pixelRatio,this.enabled[A]&&(S.draw(d.TRIANGLES,6,6*A),this.drawSides[A]&&S.draw(d.TRIANGLES,12,18+12*A));S.unbind()},u.update=function(o){o&&("bounds"in o&&(this.bounds=o.bounds),"position"in o&&(this.position=o.position),"lineWidth"in o&&(this.lineWidth=o.lineWidth),"colors"in o&&(this.colors=o.colors),"enabled"in o&&(this.enabled=o.enabled),"drawSides"in o&&(this.drawSides=o.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()};function v(o,d){var S=[];function M(i,R,A,k,_,H){var z=[i,R,A,0,0,0,1];z[k+3]=1,z[k]=_,S.push.apply(S,z),z[6]=-1,S.push.apply(S,z),z[k]=H,S.push.apply(S,z),S.push.apply(S,z),z[6]=1,S.push.apply(S,z),z[k]=_,S.push.apply(S,z)}M(0,0,0,0,0,1),M(0,0,0,1,0,1),M(0,0,0,2,0,1),M(1,0,0,1,-1,1),M(1,0,0,2,-1,1),M(0,1,0,0,-1,1),M(0,1,0,2,-1,1),M(0,0,1,0,-1,1),M(0,0,1,1,-1,1);var P=r(o,S),x=l(o,[{type:o.FLOAT,buffer:P,size:3,offset:0,stride:28},{type:o.FLOAT,buffer:P,size:3,offset:12,stride:28},{type:o.FLOAT,buffer:P,size:1,offset:24,stride:28}]),E=a(o);E.attributes.position.location=0,E.attributes.color.location=1,E.attributes.weight.location=2;var T=new c(o,P,x,E);return T.update(d),T}},9578:function(h,g,t){var r=t(6832),l=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),a=r([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),s=r([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),c=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);g.meshShader={vertex:l,fragment:a,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},g.pickShader={vertex:s,fragment:c,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(h,g,t){var r=t(2858),l=t(4020),a=["xyz","xzy","yxz","yzx","zxy","zyx"],s=function(S,M,P,x){for(var E=S.points,T=S.velocities,i=S.divergences,R=[],A=[],k=[],_=[],H=[],z=[],N=0,O=0,F=l.create(),U=l.create(),Z=8,q=0;q<E.length;q++){var J=E[q],te=T[q],fe=i[q];M===0&&(fe=P*.05),O=r.length(te)/x,F=l.create(),r.copy(F,te),F[3]=fe;for(var K=0;K<Z;K++)H[K]=[J[0],J[1],J[2],K];if(_.length>0)for(var K=0;K<Z;K++){var Y=(K+1)%Z;R.push(_[K],H[K],H[Y],H[Y],_[Y],_[K]),k.push(U,F,F,F,U,U),z.push(N,O,O,O,N,N);var W=R.length;A.push([W-6,W-5,W-4],[W-3,W-2,W-1])}var X=_;_=H,H=X;var re=U;U=F,F=re;var se=N;N=O,O=se}return{positions:R,cells:A,vectors:k,vertexIntensity:z}},c=function(S,M,P,x){for(var E=0,T=0;T<S.length;T++)for(var i=S[T].velocities,R=0;R<i.length;R++)E=Math.max(E,r.length(i[R]));for(var A=S.map(function(q){return s(q,P,x,E)}),k=[],_=[],H=[],z=[],T=0;T<A.length;T++){var N=A[T],O=k.length;k=k.concat(N.positions),H=H.concat(N.vectors),z=z.concat(N.vertexIntensity);for(var R=0;R<N.cells.length;R++){var F=N.cells[R],U=[];_.push(U);for(var Z=0;Z<F.length;Z++)U.push(F[Z]+O)}}return{positions:k,cells:_,vectors:H,vertexIntensity:z,colormap:M}},u=function(S,M){var P=S.length,x;for(x=0;x<P;x++){var E=S[x];if(E===M)return x;if(E>M)return x-1}return x},b=function(S,M,P){return S<M?M:S>P?P:S},f=function(S,M,P){var x=M.vectors,E=M.meshgrid,T=S[0],i=S[1],R=S[2],A=E[0].length,k=E[1].length,_=E[2].length,H=u(E[0],T),z=u(E[1],i),N=u(E[2],R),O=H+1,F=z+1,U=N+1;if(H=b(H,0,A-1),O=b(O,0,A-1),z=b(z,0,k-1),F=b(F,0,k-1),N=b(N,0,_-1),U=b(U,0,_-1),H<0||z<0||N<0||O>A-1||F>k-1||U>_-1)return r.create();var Z=E[0][H],q=E[0][O],J=E[1][z],te=E[1][F],fe=E[2][N],K=E[2][U],Y=(T-Z)/(q-Z),W=(i-J)/(te-J),X=(R-fe)/(K-fe);isFinite(Y)||(Y=.5),isFinite(W)||(W=.5),isFinite(X)||(X=.5);var re,se,Q,ee,le,oe;switch(P.reversedX&&(H=A-1-H,O=A-1-O),P.reversedY&&(z=k-1-z,F=k-1-F),P.reversedZ&&(N=_-1-N,U=_-1-U),P.filled){case 5:le=N,oe=U,Q=z*_,ee=F*_,re=H*_*k,se=O*_*k;break;case 4:le=N,oe=U,re=H*_,se=O*_,Q=z*_*A,ee=F*_*A;break;case 3:Q=z,ee=F,le=N*k,oe=U*k,re=H*k*_,se=O*k*_;break;case 2:Q=z,ee=F,re=H*k,se=O*k,le=N*k*A,oe=U*k*A;break;case 1:re=H,se=O,le=N*A,oe=U*A,Q=z*A*_,ee=F*A*_;break;default:re=H,se=O,Q=z*A,ee=F*A,le=N*A*k,oe=U*A*k;break}var he=x[re+Q+le],xe=x[re+Q+oe],Ae=x[re+ee+le],Se=x[re+ee+oe],Oe=x[se+Q+le],Ve=x[se+Q+oe],Ee=x[se+ee+le],Te=x[se+ee+oe],Le=r.create(),Ge=r.create(),He=r.create(),ke=r.create();r.lerp(Le,he,Oe,Y),r.lerp(Ge,xe,Ve,Y),r.lerp(He,Ae,Ee,Y),r.lerp(ke,Se,Te,Y);var We=r.create(),nt=r.create();r.lerp(We,Le,He,W),r.lerp(nt,Ge,ke,W);var qe=r.create();return r.lerp(qe,We,nt,X),qe},w=function(S){var M=1/0;S.sort(function(T,i){return T-i});for(var P=S.length,x=1;x<P;x++){var E=Math.abs(S[x]-S[x-1]);E<M&&(M=E)}return M},v=function(S){for(var M=[],P=[],x=[],E={},T={},i={},R=S.length,A=0;A<R;A++){var k=S[A],_=k[0],H=k[1],z=k[2];E[_]||(M.push(_),E[_]=!0),T[H]||(P.push(H),T[H]=!0),i[z]||(x.push(z),i[z]=!0)}var N=w(M),O=w(P),F=w(x),U=Math.min(N,O,F);return isFinite(U)?U:1};h.exports=function(S,M){var P=S.startingPositions,x=S.maxLength||1e3,E=S.tubeSize||1,T=S.absoluteTubeSize,i=S.gridFill||"+x+y+z",R={};i.indexOf("-x")!==-1&&(R.reversedX=!0),i.indexOf("-y")!==-1&&(R.reversedY=!0),i.indexOf("-z")!==-1&&(R.reversedZ=!0),R.filled=a.indexOf(i.replace(/-/g,"").replace(/\+/g,""));var A=S.getVelocity||function(Ve){return f(Ve,S,R)},k=S.getDivergence||function(Ve,Ee){var Te=r.create(),Le=1e-4;r.add(Te,Ve,[Le,0,0]);var Ge=A(Te);r.subtract(Ge,Ge,Ee),r.scale(Ge,Ge,1/Le),r.add(Te,Ve,[0,Le,0]);var He=A(Te);r.subtract(He,He,Ee),r.scale(He,He,1/Le),r.add(Te,Ve,[0,0,Le]);var ke=A(Te);return r.subtract(ke,ke,Ee),r.scale(ke,ke,1/Le),r.add(Te,Ge,He),r.add(Te,Te,ke),Te},_=[],H=M[0][0],z=M[0][1],N=M[0][2],O=M[1][0],F=M[1][1],U=M[1][2],Z=function(Ve){var Ee=Ve[0],Te=Ve[1],Le=Ve[2];return!(Ee<H||Ee>O||Te<z||Te>F||Le<N||Le>U)},q=r.distance(M[0],M[1]),J=10*q/x,te=J*J,fe=1,K=0,Y=P.length;Y>1&&(fe=v(P));for(var W=0;W<Y;W++){var X=r.create();r.copy(X,P[W]);var re=[X],se=[],Q=A(X),ee=X;se.push(Q);var le=[],oe=k(X,Q),he=r.length(oe);isFinite(he)&&he>K&&(K=he),le.push(he),_.push({points:re,velocities:se,divergences:le});for(var xe=0;xe<x*100&&re.length<x&&Z(X);){xe++;var Ae=r.clone(Q),Se=r.squaredLength(Ae);if(Se===0)break;if(Se>te&&r.scale(Ae,Ae,J/Math.sqrt(Se)),r.add(Ae,Ae,X),Q=A(Ae),r.squaredDistance(ee,Ae)-te>-1e-4*te){re.push(Ae),ee=Ae,se.push(Q);var oe=k(Ae,Q),he=r.length(oe);isFinite(he)&&he>K&&(K=he),le.push(he)}X=Ae}}var Oe=c(_,S.colormap,K,fe);return T?Oe.tubeScale=T:(K===0&&(K=1),Oe.tubeScale=E*.5*fe/K),Oe};var o=t(9578),d=t(1140).createMesh;h.exports.createTubeMesh=function(S,M){return d(S,M,{shaders:o,traceType:"streamtube"})}},9054:function(h,g,t){var r=t(5158),l=t(6832),a=l([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),s=l([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color  in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),c=l([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=l([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);g.createShader=function(b){var f=r(b,a,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},g.createPickShader=function(b){var f=r(b,a,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f.attributes.normal.location=2,f},g.createContourShader=function(b){var f=r(b,c,s,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f},g.createPickContourShader=function(b){var f=r(b,c,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return f.attributes.uv.location=0,f.attributes.f.location=1,f}},3754:function(h,g,t){h.exports=se;var r=t(2288),l=t(5827),a=t(2944),s=t(8931),c=t(5306),u=t(9156),b=t(7498),f=t(7382),w=t(5050),v=t(4162),o=t(104),d=t(7437),S=t(5070),M=t(9144),P=t(9054),x=P.createShader,E=P.createContourShader,T=P.createPickShader,i=P.createPickContourShader,R=4*(4+3+3),A=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],k=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],_=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];(function(){for(var Q=0;Q<3;++Q){var ee=_[Q],le=(Q+1)%3,oe=(Q+2)%3;ee[le+0]=1,ee[oe+3]=1,ee[Q+6]=1}})();function H(Q,ee,le,oe,he){this.position=Q,this.index=ee,this.uv=le,this.level=oe,this.dataCoordinate=he}var z=256;function N(Q,ee,le,oe,he,xe,Ae,Se,Oe,Ve,Ee,Te,Le,Ge,He){this.gl=Q,this.shape=ee,this.bounds=le,this.objectOffset=He,this.intensityBounds=[],this._shader=oe,this._pickShader=he,this._coordinateBuffer=xe,this._vao=Ae,this._colorMap=Se,this._contourShader=Oe,this._contourPickShader=Ve,this._contourBuffer=Ee,this._contourVAO=Te,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new H([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=Le,this._dynamicVAO=Ge,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[w(c.mallocFloat(1024),[0,0]),w(c.mallocFloat(1024),[0,0]),w(c.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var O=N.prototype;O.genColormap=function(Q,ee){var le=!1,oe=f([u({colormap:Q,nshades:z,format:"rgba"}).map(function(he,xe){var Ae=ee?F(xe/255,ee):he[3];return Ae<1&&(le=!0),[he[0],he[1],he[2],255*Ae]})]);return b.divseq(oe,255),this.hasAlphaScale=le,oe},O.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},O.isOpaque=function(){return!this.isTransparent()},O.pickSlots=1,O.setPickBase=function(Q){this.pickId=Q};function F(Q,ee){if(!ee||!ee.length)return 1;for(var le=0;le<ee.length;++le){if(ee.length<2)return 1;if(ee[le][0]===Q)return ee[le][1];if(ee[le][0]>Q&&le>0){var oe=(ee[le][0]-Q)/(ee[le][0]-ee[le-1][0]);return ee[le][1]*(1-oe)+oe*ee[le-1][1]}}return 1}var U=[0,0,0],Z={showSurface:!1,showContour:!1,projections:[A.slice(),A.slice(),A.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function q(Q,ee){var le,oe,he,xe=ee.axes&&ee.axes.lastCubeProps.axis||U,Ae=ee.showSurface,Se=ee.showContour;for(le=0;le<3;++le)for(Ae=Ae||ee.surfaceProject[le],oe=0;oe<3;++oe)Se=Se||ee.contourProject[le][oe];for(le=0;le<3;++le){var Oe=Z.projections[le];for(oe=0;oe<16;++oe)Oe[oe]=0;for(oe=0;oe<4;++oe)Oe[5*oe]=1;Oe[5*le]=0,Oe[12+le]=ee.axesBounds[+(xe[le]>0)][le],o(Oe,Q.model,Oe);var Ve=Z.clipBounds[le];for(he=0;he<2;++he)for(oe=0;oe<3;++oe)Ve[he][oe]=Q.clipBounds[he][oe];Ve[0][le]=-1e8,Ve[1][le]=1e8}return Z.showSurface=Ae,Z.showContour=Se,Z}var J={model:A,view:A,projection:A,inverseModel:A.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},te=A.slice(),fe=[1,0,0,0,1,0,0,0,1];function K(Q,ee){Q=Q||{};var le=this.gl;le.disable(le.CULL_FACE),this._colorMap.bind(0);var oe=J;oe.model=Q.model||A,oe.view=Q.view||A,oe.projection=Q.projection||A,oe.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],oe.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],oe.objectOffset=this.objectOffset,oe.contourColor=this.contourColor[0],oe.inverseModel=d(oe.inverseModel,oe.model);for(var he=0;he<2;++he)for(var xe=oe.clipBounds[he],Ae=0;Ae<3;++Ae)xe[Ae]=Math.min(Math.max(this.clipBounds[he][Ae],-1e8),1e8);oe.kambient=this.ambientLight,oe.kdiffuse=this.diffuseLight,oe.kspecular=this.specularLight,oe.roughness=this.roughness,oe.fresnel=this.fresnel,oe.opacity=this.opacity,oe.height=0,oe.permutation=fe,oe.vertexColor=this.vertexColor;var Se=te;for(o(Se,oe.view,oe.model),o(Se,oe.projection,Se),d(Se,Se),he=0;he<3;++he)oe.eyePosition[he]=Se[12+he]/Se[15];var Oe=Se[15];for(he=0;he<3;++he)Oe+=this.lightPosition[he]*Se[4*he+3];for(he=0;he<3;++he){var Ve=Se[12+he];for(Ae=0;Ae<3;++Ae)Ve+=Se[4*Ae+he]*this.lightPosition[Ae];oe.lightPosition[he]=Ve/Oe}var Ee=q(oe,this);if(Ee.showSurface){for(this._shader.bind(),this._shader.uniforms=oe,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(le.TRIANGLES,this._vertexCount),he=0;he<3;++he)!this.surfaceProject[he]||!this.vertexCount||(this._shader.uniforms.model=Ee.projections[he],this._shader.uniforms.clipBounds=Ee.clipBounds[he],this._vao.draw(le.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ee.showContour){var Te=this._contourShader;oe.kambient=1,oe.kdiffuse=0,oe.kspecular=0,oe.opacity=1,Te.bind(),Te.uniforms=oe;var Le=this._contourVAO;for(Le.bind(),he=0;he<3;++he)for(Te.uniforms.permutation=_[he],le.lineWidth(this.contourWidth[he]*this.pixelRatio),Ae=0;Ae<this.contourLevels[he].length;++Ae)Ae===this.highlightLevel[he]?(Te.uniforms.contourColor=this.highlightColor[he],Te.uniforms.contourTint=this.highlightTint[he]):(Ae===0||Ae-1===this.highlightLevel[he])&&(Te.uniforms.contourColor=this.contourColor[he],Te.uniforms.contourTint=this.contourTint[he]),this._contourCounts[he][Ae]&&(Te.uniforms.height=this.contourLevels[he][Ae],Le.draw(le.LINES,this._contourCounts[he][Ae],this._contourOffsets[he][Ae]));for(he=0;he<3;++he)for(Te.uniforms.model=Ee.projections[he],Te.uniforms.clipBounds=Ee.clipBounds[he],Ae=0;Ae<3;++Ae)if(this.contourProject[he][Ae]){Te.uniforms.permutation=_[Ae],le.lineWidth(this.contourWidth[Ae]*this.pixelRatio);for(var Ge=0;Ge<this.contourLevels[Ae].length;++Ge)Ge===this.highlightLevel[Ae]?(Te.uniforms.contourColor=this.highlightColor[Ae],Te.uniforms.contourTint=this.highlightTint[Ae]):(Ge===0||Ge-1===this.highlightLevel[Ae])&&(Te.uniforms.contourColor=this.contourColor[Ae],Te.uniforms.contourTint=this.contourTint[Ae]),this._contourCounts[Ae][Ge]&&(Te.uniforms.height=this.contourLevels[Ae][Ge],Le.draw(le.LINES,this._contourCounts[Ae][Ge],this._contourOffsets[Ae][Ge]))}for(Le.unbind(),Le=this._dynamicVAO,Le.bind(),he=0;he<3;++he)if(this._dynamicCounts[he]!==0)for(Te.uniforms.model=oe.model,Te.uniforms.clipBounds=oe.clipBounds,Te.uniforms.permutation=_[he],le.lineWidth(this.dynamicWidth[he]*this.pixelRatio),Te.uniforms.contourColor=this.dynamicColor[he],Te.uniforms.contourTint=this.dynamicTint[he],Te.uniforms.height=this.dynamicLevel[he],Le.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]),Ae=0;Ae<3;++Ae)this.contourProject[Ae][he]&&(Te.uniforms.model=Ee.projections[Ae],Te.uniforms.clipBounds=Ee.clipBounds[Ae],Le.draw(le.LINES,this._dynamicCounts[he],this._dynamicOffsets[he]));Le.unbind()}}O.draw=function(Q){return K.call(this,Q,!1)},O.drawTransparent=function(Q){return K.call(this,Q,!0)};var Y={model:A,view:A,projection:A,inverseModel:A,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};O.drawPick=function(Q){Q=Q||{};var ee=this.gl;ee.disable(ee.CULL_FACE);var le=Y;le.model=Q.model||A,le.view=Q.view||A,le.projection=Q.projection||A,le.shape=this._field[2].shape,le.pickId=this.pickId/255,le.lowerBound=this.bounds[0],le.upperBound=this.bounds[1],le.objectOffset=this.objectOffset,le.permutation=fe;for(var oe=0;oe<2;++oe)for(var he=le.clipBounds[oe],xe=0;xe<3;++xe)he[xe]=Math.min(Math.max(this.clipBounds[oe][xe],-1e8),1e8);var Ae=q(le,this);if(Ae.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=le,this._vao.bind(),this._vao.draw(ee.TRIANGLES,this._vertexCount),oe=0;oe<3;++oe)this.surfaceProject[oe]&&(this._pickShader.uniforms.model=Ae.projections[oe],this._pickShader.uniforms.clipBounds=Ae.clipBounds[oe],this._vao.draw(ee.TRIANGLES,this._vertexCount));this._vao.unbind()}if(Ae.showContour){var Se=this._contourPickShader;Se.bind(),Se.uniforms=le;var Oe=this._contourVAO;for(Oe.bind(),xe=0;xe<3;++xe)for(ee.lineWidth(this.contourWidth[xe]*this.pixelRatio),Se.uniforms.permutation=_[xe],oe=0;oe<this.contourLevels[xe].length;++oe)this._contourCounts[xe][oe]&&(Se.uniforms.height=this.contourLevels[xe][oe],Oe.draw(ee.LINES,this._contourCounts[xe][oe],this._contourOffsets[xe][oe]));for(oe=0;oe<3;++oe)for(Se.uniforms.model=Ae.projections[oe],Se.uniforms.clipBounds=Ae.clipBounds[oe],xe=0;xe<3;++xe)if(this.contourProject[oe][xe]){Se.uniforms.permutation=_[xe],ee.lineWidth(this.contourWidth[xe]*this.pixelRatio);for(var Ve=0;Ve<this.contourLevels[xe].length;++Ve)this._contourCounts[xe][Ve]&&(Se.uniforms.height=this.contourLevels[xe][Ve],Oe.draw(ee.LINES,this._contourCounts[xe][Ve],this._contourOffsets[xe][Ve]))}Oe.unbind()}},O.pick=function(Q){if(!Q||Q.id!==this.pickId)return null;var ee=this._field[2].shape,le=this._pickResult,oe=ee[0]*(Q.value[0]+(Q.value[2]>>4)/16)/255,he=Math.floor(oe),xe=oe-he,Ae=ee[1]*(Q.value[1]+(Q.value[2]&15)/16)/255,Se=Math.floor(Ae),Oe=Ae-Se;he+=1,Se+=1;var Ve=le.position;Ve[0]=Ve[1]=Ve[2]=0;for(var Ee=0;Ee<2;++Ee)for(var Te=Ee?xe:1-xe,Le=0;Le<2;++Le)for(var Ge=Le?Oe:1-Oe,He=he+Ee,ke=Se+Le,We=Te*Ge,nt=0;nt<3;++nt)Ve[nt]+=this._field[nt].get(He,ke)*We;for(var qe=this._pickResult.level,Qe=0;Qe<3;++Qe)if(qe[Qe]=S.le(this.contourLevels[Qe],Ve[Qe]),qe[Qe]<0)this.contourLevels[Qe].length>0&&(qe[Qe]=0);else if(qe[Qe]<this.contourLevels[Qe].length-1){var tt=this.contourLevels[Qe][qe[Qe]],vt=this.contourLevels[Qe][qe[Qe]+1];Math.abs(tt-Ve[Qe])>Math.abs(vt-Ve[Qe])&&(qe[Qe]+=1)}for(le.index[0]=xe<.5?he:he+1,le.index[1]=Oe<.5?Se:Se+1,le.uv[0]=oe/ee[0],le.uv[1]=Ae/ee[1],nt=0;nt<3;++nt)le.dataCoordinate[nt]=this._field[nt].get(le.index[0],le.index[1]);return le},O.padField=function(Q,ee){var le=ee.shape.slice(),oe=Q.shape.slice();b.assign(Q.lo(1,1).hi(le[0],le[1]),ee),b.assign(Q.lo(1).hi(le[0],1),ee.hi(le[0],1)),b.assign(Q.lo(1,oe[1]-1).hi(le[0],1),ee.lo(0,le[1]-1).hi(le[0],1)),b.assign(Q.lo(0,1).hi(1,le[1]),ee.hi(1)),b.assign(Q.lo(oe[0]-1,1).hi(1,le[1]),ee.lo(le[0]-1)),Q.set(0,0,ee.get(0,0)),Q.set(0,oe[1]-1,ee.get(0,le[1]-1)),Q.set(oe[0]-1,0,ee.get(le[0]-1,0)),Q.set(oe[0]-1,oe[1]-1,ee.get(le[0]-1,le[1]-1))};function W(Q,ee){return Array.isArray(Q)?[ee(Q[0]),ee(Q[1]),ee(Q[2])]:[ee(Q),ee(Q),ee(Q)]}function X(Q){return Array.isArray(Q)?Q.length===3?[Q[0],Q[1],Q[2],1]:[Q[0],Q[1],Q[2],Q[3]]:[0,0,0,1]}function re(Q){if(Array.isArray(Q)){if(Array.isArray(Q))return[X(Q[0]),X(Q[1]),X(Q[2])];var ee=X(Q);return[ee.slice(),ee.slice(),ee.slice()]}}O.update=function(Q){Q=Q||{},this.objectOffset=Q.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in Q&&(this.contourWidth=W(Q.contourWidth,Number)),"showContour"in Q&&(this.showContour=W(Q.showContour,Boolean)),"showSurface"in Q&&(this.showSurface=!!Q.showSurface),"contourTint"in Q&&(this.contourTint=W(Q.contourTint,Boolean)),"contourColor"in Q&&(this.contourColor=re(Q.contourColor)),"contourProject"in Q&&(this.contourProject=W(Q.contourProject,function(kt){return W(kt,Boolean)})),"surfaceProject"in Q&&(this.surfaceProject=Q.surfaceProject),"dynamicColor"in Q&&(this.dynamicColor=re(Q.dynamicColor)),"dynamicTint"in Q&&(this.dynamicTint=W(Q.dynamicTint,Number)),"dynamicWidth"in Q&&(this.dynamicWidth=W(Q.dynamicWidth,Number)),"opacity"in Q&&(this.opacity=Q.opacity),"opacityscale"in Q&&(this.opacityscale=Q.opacityscale),"colorBounds"in Q&&(this.colorBounds=Q.colorBounds),"vertexColor"in Q&&(this.vertexColor=Q.vertexColor?1:0),"colormap"in Q&&this._colorMap.setPixels(this.genColormap(Q.colormap,this.opacityscale));var ee=Q.field||Q.coords&&Q.coords[2]||null,le=!1;if(ee||(this._field[2].shape[0]||this._field[2].shape[2]?ee=this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):ee=this._field[2].hi(0,0)),"field"in Q||"coords"in Q){var oe=(ee.shape[0]+2)*(ee.shape[1]+2);oe>this._field[2].data.length&&(c.freeFloat(this._field[2].data),this._field[2].data=c.mallocFloat(r.nextPow2(oe))),this._field[2]=w(this._field[2].data,[ee.shape[0]+2,ee.shape[1]+2]),this.padField(this._field[2],ee),this.shape=ee.shape.slice();for(var he=this.shape,xe=0;xe<2;++xe)this._field[2].size>this._field[xe].data.length&&(c.freeFloat(this._field[xe].data),this._field[xe].data=c.mallocFloat(this._field[2].size)),this._field[xe]=w(this._field[xe].data,[he[0]+2,he[1]+2]);if(Q.coords){var Ae=Q.coords;if(!Array.isArray(Ae)||Ae.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(xe=0;xe<2;++xe){var Se=Ae[xe];for(Le=0;Le<2;++Le)if(Se.shape[Le]!==he[Le])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[xe],Se)}}else if(Q.ticks){var Oe=Q.ticks;if(!Array.isArray(Oe)||Oe.length!==2)throw new Error("gl-surface: invalid ticks");for(xe=0;xe<2;++xe){var Ve=Oe[xe];if((Array.isArray(Ve)||Ve.length)&&(Ve=w(Ve)),Ve.shape[0]!==he[xe])throw new Error("gl-surface: invalid tick length");var Ee=w(Ve.data,he);Ee.stride[xe]=Ve.stride[0],Ee.stride[xe^1]=0,this.padField(this._field[xe],Ee)}}else{for(xe=0;xe<2;++xe){var Te=[0,0];Te[xe]=1,this._field[xe]=w(this._field[xe].data,[he[0]+2,he[1]+2],Te,0)}this._field[0].set(0,0,0);for(var Le=0;Le<he[0];++Le)this._field[0].set(Le+1,0,Le);for(this._field[0].set(he[0]+1,0,he[0]-1),this._field[1].set(0,0,0),Le=0;Le<he[1];++Le)this._field[1].set(0,Le+1,Le);this._field[1].set(0,he[1]+1,he[1]-1)}var Ge=this._field,He=w(c.mallocFloat(Ge[2].size*3*2),[3,he[0]+2,he[1]+2,2]);for(xe=0;xe<3;++xe)M(He.pick(xe),Ge[xe],"mirror");var ke=w(c.mallocFloat(Ge[2].size*3),[he[0]+2,he[1]+2,3]);for(xe=0;xe<he[0]+2;++xe)for(Le=0;Le<he[1]+2;++Le){var We=He.get(0,xe,Le,0),nt=He.get(0,xe,Le,1),qe=He.get(1,xe,Le,0),Qe=He.get(1,xe,Le,1),tt=He.get(2,xe,Le,0),vt=He.get(2,xe,Le,1),dt=qe*vt-Qe*tt,gt=tt*nt-vt*We,Mt=We*Qe-nt*qe,Rt=Math.sqrt(dt*dt+gt*gt+Mt*Mt);Rt<1e-8?(Rt=Math.max(Math.abs(dt),Math.abs(gt),Math.abs(Mt)),Rt<1e-8?(Mt=1,gt=dt=0,Rt=1):Rt=1/Rt):Rt=1/Math.sqrt(Rt),ke.set(xe,Le,0,dt*Rt),ke.set(xe,Le,1,gt*Rt),ke.set(xe,Le,2,Mt*Rt)}c.free(He.data);var Wt=[1/0,1/0,1/0],je=[-1/0,-1/0,-1/0],_e=1/0,Fe=-1/0,Be=(he[0]-1)*(he[1]-1)*6,De=c.mallocFloat(r.nextPow2(10*Be)),we=0,ue=0;for(xe=0;xe<he[0]-1;++xe)e:for(Le=0;Le<he[1]-1;++Le){for(var me=0;me<2;++me)for(var Re=0;Re<2;++Re)for(var Ne=0;Ne<3;++Ne){var it=this._field[Ne].get(1+xe+me,1+Le+Re);if(isNaN(it)||!isFinite(it))continue e}for(Ne=0;Ne<6;++Ne){var ot=xe+k[Ne][0],wt=Le+k[Ne][1],Ft=this._field[0].get(ot+1,wt+1),Ut=this._field[1].get(ot+1,wt+1);it=this._field[2].get(ot+1,wt+1),dt=ke.get(ot+1,wt+1,0),gt=ke.get(ot+1,wt+1,1),Mt=ke.get(ot+1,wt+1,2),Q.intensity&&(Gt=Q.intensity.get(ot,wt));var Gt=Q.intensity?Q.intensity.get(ot,wt):it+this.objectOffset[2];De[we++]=ot,De[we++]=wt,De[we++]=Ft,De[we++]=Ut,De[we++]=it,De[we++]=0,De[we++]=Gt,De[we++]=dt,De[we++]=gt,De[we++]=Mt,Wt[0]=Math.min(Wt[0],Ft+this.objectOffset[0]),Wt[1]=Math.min(Wt[1],Ut+this.objectOffset[1]),Wt[2]=Math.min(Wt[2],it+this.objectOffset[2]),_e=Math.min(_e,Gt),je[0]=Math.max(je[0],Ft+this.objectOffset[0]),je[1]=Math.max(je[1],Ut+this.objectOffset[1]),je[2]=Math.max(je[2],it+this.objectOffset[2]),Fe=Math.max(Fe,Gt),ue+=1}}for(Q.intensityBounds&&(_e=+Q.intensityBounds[0],Fe=+Q.intensityBounds[1]),xe=6;xe<we;xe+=10)De[xe]=(De[xe]-_e)/(Fe-_e);this._vertexCount=ue,this._coordinateBuffer.update(De.subarray(0,we)),c.freeFloat(De),c.free(ke.data),this.bounds=[Wt,je],this.intensity=Q.intensity||this._field[2],(this.intensityBounds[0]!==_e||this.intensityBounds[1]!==Fe)&&(le=!0),this.intensityBounds=[_e,Fe]}if("levels"in Q){var Et=Q.levels;for(Array.isArray(Et[0])?Et=Et.slice():Et=[[],[],Et],xe=0;xe<3;++xe)Et[xe]=Et[xe].slice(),Et[xe].sort(function(kt,Xt){return kt-Xt});for(xe=0;xe<3;++xe)for(Le=0;Le<Et[xe].length;++Le)Et[xe][Le]-=this.objectOffset[xe];e:for(xe=0;xe<3;++xe){if(Et[xe].length!==this.contourLevels[xe].length){le=!0;break}for(Le=0;Le<Et[xe].length;++Le)if(Et[xe][Le]!==this.contourLevels[xe][Le]){le=!0;break e}}this.contourLevels=Et}if(le){Ge=this._field,he=this.shape;for(var $t=[],lr=0;lr<3;++lr){var Fr=this.contourLevels[lr],yt=[],Kt=[],Zt=[0,0,0];for(xe=0;xe<Fr.length;++xe){var Ar=v(this._field[lr],Fr[xe]);yt.push($t.length/5|0),ue=0;e:for(Le=0;Le<Ar.cells.length;++Le){var vr=Ar.cells[Le];for(Ne=0;Ne<2;++Ne){var ut=Ar.positions[vr[Ne]],lt=ut[0],xt=Math.floor(lt)|0,Tt=lt-xt,Ct=ut[1],At=Math.floor(Ct)|0,zt=Ct-At,Ht=!1;t:for(var qt=0;qt<3;++qt){Zt[qt]=0;var Qt=(lr+qt+1)%3;for(me=0;me<2;++me){var or=me?Tt:1-Tt;for(ot=Math.min(Math.max(xt+me,0),he[0])|0,Re=0;Re<2;++Re){var Lr=Re?zt:1-zt;if(wt=Math.min(Math.max(At+Re,0),he[1])|0,qt<2?it=this._field[Qt].get(ot,wt):it=(this.intensity.get(ot,wt)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(it)||isNaN(it)){Ht=!0;break t}var Ze=or*Lr;Zt[qt]+=Ze*it}}}if(!Ht)$t.push(Zt[0],Zt[1],ut[0],ut[1],Zt[2]),ue+=1;else{if(Ne>0){for(var Ye=0;Ye<5;++Ye)$t.pop();ue-=1}continue e}}}Kt.push(ue)}this._contourOffsets[lr]=yt,this._contourCounts[lr]=Kt}var It=c.mallocFloat($t.length);for(xe=0;xe<$t.length;++xe)It[xe]=$t[xe];this._contourBuffer.update(It),c.freeFloat(It)}},O.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var Q=0;Q<3;++Q)c.freeFloat(this._field[Q].data)},O.highlight=function(Q){var ee;if(!Q){this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],this.highlightLevel=[-1,-1,-1];return}for(ee=0;ee<3;++ee)this.enableHighlight[ee]?this.highlightLevel[ee]=Q.level[ee]:this.highlightLevel[ee]=-1;var le;for(this.snapToData?le=Q.dataCoordinate:le=Q.position,ee=0;ee<3;++ee)le[ee]-=this.objectOffset[ee];if(!((!this.enableDynamic[0]||le[0]===this.dynamicLevel[0])&&(!this.enableDynamic[1]||le[1]===this.dynamicLevel[1])&&(!this.enableDynamic[2]||le[2]===this.dynamicLevel[2]))){for(var oe=0,he=this.shape,xe=c.mallocFloat(12*he[0]*he[1]),Ae=0;Ae<3;++Ae){if(!this.enableDynamic[Ae]){this.dynamicLevel[Ae]=NaN,this._dynamicCounts[Ae]=0;continue}this.dynamicLevel[Ae]=le[Ae];var Se=(Ae+1)%3,Oe=(Ae+2)%3,Ve=this._field[Ae],Ee=this._field[Se],Te=this._field[Oe],Le=v(Ve,le[Ae]),Ge=Le.cells,He=Le.positions;for(this._dynamicOffsets[Ae]=oe,ee=0;ee<Ge.length;++ee)for(var ke=Ge[ee],We=0;We<2;++We){var nt=He[ke[We]],qe=+nt[0],Qe=qe|0,tt=Math.min(Qe+1,he[0])|0,vt=qe-Qe,dt=1-vt,gt=+nt[1],Mt=gt|0,Rt=Math.min(Mt+1,he[1])|0,Wt=gt-Mt,je=1-Wt,_e=dt*je,Fe=dt*Wt,Be=vt*je,De=vt*Wt,we=_e*Ee.get(Qe,Mt)+Fe*Ee.get(Qe,Rt)+Be*Ee.get(tt,Mt)+De*Ee.get(tt,Rt),ue=_e*Te.get(Qe,Mt)+Fe*Te.get(Qe,Rt)+Be*Te.get(tt,Mt)+De*Te.get(tt,Rt);if(isNaN(we)||isNaN(ue)){We&&(oe-=1);break}xe[2*oe+0]=we,xe[2*oe+1]=ue,oe+=1}this._dynamicCounts[Ae]=oe-this._dynamicOffsets[Ae]}this._dynamicBuffer.update(xe.subarray(0,2*oe)),c.freeFloat(xe)}};function se(Q){var ee=Q.gl,le=x(ee),oe=T(ee),he=E(ee),xe=i(ee),Ae=l(ee),Se=a(ee,[{buffer:Ae,size:4,stride:R,offset:0},{buffer:Ae,size:3,stride:R,offset:16},{buffer:Ae,size:3,stride:R,offset:28}]),Oe=l(ee),Ve=a(ee,[{buffer:Oe,size:4,stride:20,offset:0},{buffer:Oe,size:1,stride:20,offset:16}]),Ee=l(ee),Te=a(ee,[{buffer:Ee,size:2,type:ee.FLOAT}]),Le=s(ee,1,z,ee.RGBA,ee.UNSIGNED_BYTE);Le.minFilter=ee.LINEAR,Le.magFilter=ee.LINEAR;var Ge=new N(ee,[0,0],[[0,0,0],[0,0,0]],le,oe,Ae,Se,Le,he,xe,Oe,Ve,Ee,Te,[0,0,0]),He={levels:[[],[],[]]};for(var ke in Q)He[ke]=Q[ke];return He.colormap=He.colormap||"jet",Ge.update(He),Ge}},8931:function(h,g,t){var r=t(5050),l=t(7498),a=t(5306);h.exports=i;var s=null,c=null,u=null;function b(R){s=[R.LINEAR,R.NEAREST_MIPMAP_LINEAR,R.LINEAR_MIPMAP_NEAREST,R.LINEAR_MIPMAP_NEAREST],c=[R.NEAREST,R.LINEAR,R.NEAREST_MIPMAP_NEAREST,R.NEAREST_MIPMAP_LINEAR,R.LINEAR_MIPMAP_NEAREST,R.LINEAR_MIPMAP_LINEAR],u=[R.REPEAT,R.CLAMP_TO_EDGE,R.MIRRORED_REPEAT]}function f(R){return typeof HTMLCanvasElement<"u"&&R instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&R instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&R instanceof HTMLVideoElement||typeof ImageData<"u"&&R instanceof ImageData}var w=function(R,A){l.muls(R,A,255)};function v(R,A,k){var _=R.gl,H=_.getParameter(_.MAX_TEXTURE_SIZE);if(A<0||A>H||k<0||k>H)throw new Error("gl-texture2d: Invalid texture size");return R._shape=[A,k],R.bind(),_.texImage2D(_.TEXTURE_2D,0,R.format,A,k,0,R.format,R.type,null),R._mipLevels=[0],R}function o(R,A,k,_,H,z){this.gl=R,this.handle=A,this.format=H,this.type=z,this._shape=[k,_],this._mipLevels=[0],this._magFilter=R.NEAREST,this._minFilter=R.NEAREST,this._wrapS=R.CLAMP_TO_EDGE,this._wrapT=R.CLAMP_TO_EDGE,this._anisoSamples=1;var N=this,O=[this._wrapS,this._wrapT];Object.defineProperties(O,[{get:function(){return N._wrapS},set:function(U){return N.wrapS=U}},{get:function(){return N._wrapT},set:function(U){return N.wrapT=U}}]),this._wrapVector=O;var F=[this._shape[0],this._shape[1]];Object.defineProperties(F,[{get:function(){return N._shape[0]},set:function(U){return N.width=U}},{get:function(){return N._shape[1]},set:function(U){return N.height=U}}]),this._shapeVector=F}var d=o.prototype;Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(R){this.bind();var A=this.gl;if(this.type===A.FLOAT&&s.indexOf(R)>=0&&(A.getExtension("OES_texture_float_linear")||(R=A.NEAREST)),c.indexOf(R)<0)throw new Error("gl-texture2d: Unknown filter mode "+R);return A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MIN_FILTER,R),this._minFilter=R}},magFilter:{get:function(){return this._magFilter},set:function(R){this.bind();var A=this.gl;if(this.type===A.FLOAT&&s.indexOf(R)>=0&&(A.getExtension("OES_texture_float_linear")||(R=A.NEAREST)),c.indexOf(R)<0)throw new Error("gl-texture2d: Unknown filter mode "+R);return A.texParameteri(A.TEXTURE_2D,A.TEXTURE_MAG_FILTER,R),this._magFilter=R}},mipSamples:{get:function(){return this._anisoSamples},set:function(R){var A=this._anisoSamples;if(this._anisoSamples=Math.max(R,1)|0,A!==this._anisoSamples){var k=this.gl.getExtension("EXT_texture_filter_anisotropic");k&&this.gl.texParameterf(this.gl.TEXTURE_2D,k.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(R){if(this.bind(),u.indexOf(R)<0)throw new Error("gl-texture2d: Unknown wrap mode "+R);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,R),this._wrapS=R}},wrapT:{get:function(){return this._wrapT},set:function(R){if(this.bind(),u.indexOf(R)<0)throw new Error("gl-texture2d: Unknown wrap mode "+R);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,R),this._wrapT=R}},wrap:{get:function(){return this._wrapVector},set:function(R){if(Array.isArray(R)||(R=[R,R]),R.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var A=0;A<2;++A)if(u.indexOf(R[A])<0)throw new Error("gl-texture2d: Unknown wrap mode "+R);this._wrapS=R[0],this._wrapT=R[1];var k=this.gl;return this.bind(),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,this._wrapS),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,this._wrapT),R}},shape:{get:function(){return this._shapeVector},set:function(R){if(!Array.isArray(R))R=[R|0,R|0];else if(R.length!==2)throw new Error("gl-texture2d: Invalid texture shape");return v(this,R[0]|0,R[1]|0),[R[0]|0,R[1]|0]}},width:{get:function(){return this._shape[0]},set:function(R){return R=R|0,v(this,R,this._shape[1]),R}},height:{get:function(){return this._shape[1]},set:function(R){return R=R|0,v(this,this._shape[0],R),R}}}),d.bind=function(R){var A=this.gl;return R!==void 0&&A.activeTexture(A.TEXTURE0+(R|0)),A.bindTexture(A.TEXTURE_2D,this.handle),R!==void 0?R|0:A.getParameter(A.ACTIVE_TEXTURE)-A.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var R=Math.min(this._shape[0],this._shape[1]),A=0;R>0;++A,R>>>=1)this._mipLevels.indexOf(A)<0&&this._mipLevels.push(A)},d.setPixels=function(R,A,k,_){var H=this.gl;this.bind(),Array.isArray(A)?(_=k,k=A[1]|0,A=A[0]|0):(A=A||0,k=k||0),_=_||0;var z=f(R)?R:R.raw;if(z){var N=this._mipLevels.indexOf(_)<0;N?(H.texImage2D(H.TEXTURE_2D,0,this.format,this.format,this.type,z),this._mipLevels.push(_)):H.texSubImage2D(H.TEXTURE_2D,_,A,k,this.format,this.type,z)}else if(R.shape&&R.stride&&R.data){if(R.shape.length<2||A+R.shape[1]>this._shape[1]>>>_||k+R.shape[0]>this._shape[0]>>>_||A<0||k<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");M(H,A,k,_,this.format,this.type,this._mipLevels,R)}else throw new Error("gl-texture2d: Unsupported data type")};function S(R,A){return R.length===3?A[2]===1&&A[1]===R[0]*R[2]&&A[0]===R[2]:A[0]===1&&A[1]===R[0]}function M(R,A,k,_,H,z,N,O){var F=O.dtype,U=O.shape.slice();if(U.length<2||U.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var Z=0,q=0,J=S(U,O.stride.slice());if(F==="float32"?Z=R.FLOAT:F==="float64"?(Z=R.FLOAT,J=!1,F="float32"):F==="uint8"?Z=R.UNSIGNED_BYTE:(Z=R.UNSIGNED_BYTE,J=!1,F="uint8"),U.length===2)q=R.LUMINANCE,U=[U[0],U[1],1],O=r(O.data,U,[O.stride[0],O.stride[1],1],O.offset);else if(U.length===3){if(U[2]===1)q=R.ALPHA;else if(U[2]===2)q=R.LUMINANCE_ALPHA;else if(U[2]===3)q=R.RGB;else if(U[2]===4)q=R.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");U[2]}else throw new Error("gl-texture2d: Invalid shape for texture");if((q===R.LUMINANCE||q===R.ALPHA)&&(H===R.LUMINANCE||H===R.ALPHA)&&(q=H),q!==H)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var te=O.size,fe=N.indexOf(_)<0;if(fe&&N.push(_),Z===z&&J)O.offset===0&&O.data.length===te?fe?R.texImage2D(R.TEXTURE_2D,_,H,U[0],U[1],0,H,z,O.data):R.texSubImage2D(R.TEXTURE_2D,_,A,k,U[0],U[1],H,z,O.data):fe?R.texImage2D(R.TEXTURE_2D,_,H,U[0],U[1],0,H,z,O.data.subarray(O.offset,O.offset+te)):R.texSubImage2D(R.TEXTURE_2D,_,A,k,U[0],U[1],H,z,O.data.subarray(O.offset,O.offset+te));else{var K;z===R.FLOAT?K=a.mallocFloat32(te):K=a.mallocUint8(te);var Y=r(K,U,[U[2],U[2]*U[0],1]);Z===R.FLOAT&&z===R.UNSIGNED_BYTE?w(Y,O):l.assign(Y,O),fe?R.texImage2D(R.TEXTURE_2D,_,H,U[0],U[1],0,H,z,K.subarray(0,te)):R.texSubImage2D(R.TEXTURE_2D,_,A,k,U[0],U[1],H,z,K.subarray(0,te)),z===R.FLOAT?a.freeFloat32(K):a.freeUint8(K)}}function P(R){var A=R.createTexture();return R.bindTexture(R.TEXTURE_2D,A),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,R.NEAREST),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,R.NEAREST),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_S,R.CLAMP_TO_EDGE),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_WRAP_T,R.CLAMP_TO_EDGE),A}function x(R,A,k,_,H){var z=R.getParameter(R.MAX_TEXTURE_SIZE);if(A<0||A>z||k<0||k>z)throw new Error("gl-texture2d: Invalid texture shape");if(H===R.FLOAT&&!R.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var N=P(R);return R.texImage2D(R.TEXTURE_2D,0,_,A,k,0,_,H,null),new o(R,N,A,k,_,H)}function E(R,A,k,_,H,z){var N=P(R);return R.texImage2D(R.TEXTURE_2D,0,H,H,z,A),new o(R,N,k,_,H,z)}function T(R,A){var k=A.dtype,_=A.shape.slice(),H=R.getParameter(R.MAX_TEXTURE_SIZE);if(_[0]<0||_[0]>H||_[1]<0||_[1]>H)throw new Error("gl-texture2d: Invalid texture size");var z=S(_,A.stride.slice()),N=0;k==="float32"?N=R.FLOAT:k==="float64"?(N=R.FLOAT,z=!1,k="float32"):k==="uint8"?N=R.UNSIGNED_BYTE:(N=R.UNSIGNED_BYTE,z=!1,k="uint8");var O=0;if(_.length===2)O=R.LUMINANCE,_=[_[0],_[1],1],A=r(A.data,_,[A.stride[0],A.stride[1],1],A.offset);else if(_.length===3)if(_[2]===1)O=R.ALPHA;else if(_[2]===2)O=R.LUMINANCE_ALPHA;else if(_[2]===3)O=R.RGB;else if(_[2]===4)O=R.RGBA;else throw new Error("gl-texture2d: Invalid shape for pixel coords");else throw new Error("gl-texture2d: Invalid shape for texture");N===R.FLOAT&&!R.getExtension("OES_texture_float")&&(N=R.UNSIGNED_BYTE,z=!1);var F,U,Z=A.size;if(z)A.offset===0&&A.data.length===Z?F=A.data:F=A.data.subarray(A.offset,A.offset+Z);else{var q=[_[2],_[2]*_[0],1];U=a.malloc(Z,k);var J=r(U,_,q,0);(k==="float32"||k==="float64")&&N===R.UNSIGNED_BYTE?w(J,A):l.assign(J,A),F=U.subarray(0,Z)}var te=P(R);return R.texImage2D(R.TEXTURE_2D,0,O,_[0],_[1],0,O,N,F),z||a.free(U),new o(R,te,_[0],_[1],O,N)}function i(R){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(s||b(R),typeof arguments[1]=="number")return x(R,arguments[1],arguments[2],arguments[3]||R.RGBA,arguments[4]||R.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return x(R,arguments[1][0]|0,arguments[1][1]|0,arguments[2]||R.RGBA,arguments[3]||R.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var A=arguments[1],k=f(A)?A:A.raw;if(k)return E(R,k,A.width|0,A.height|0,arguments[2]||R.RGBA,arguments[3]||R.UNSIGNED_BYTE);if(A.shape&&A.data&&A.stride)return T(R,A)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}},3056:function(h){function g(t,r,l){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var a=t.getParameter(t.MAX_VERTEX_ATTRIBS)|0;if(l){if(l.length>a)throw new Error("gl-vao: Too many vertex attributes");for(var s=0;s<l.length;++s){var c=l[s];if(c.buffer){var u=c.buffer,b=c.size||4,f=c.type||t.FLOAT,w=!!c.normalized,v=c.stride||0,o=c.offset||0;u.bind(),t.enableVertexAttribArray(s),t.vertexAttribPointer(s,b,f,w,v,o)}else{if(typeof c=="number")t.vertexAttrib1f(s,c);else if(c.length===1)t.vertexAttrib1f(s,c[0]);else if(c.length===2)t.vertexAttrib2f(s,c[0],c[1]);else if(c.length===3)t.vertexAttrib3f(s,c[0],c[1],c[2]);else if(c.length===4)t.vertexAttrib4f(s,c[0],c[1],c[2],c[3]);else throw new Error("gl-vao: Invalid vertex attribute");t.disableVertexAttribArray(s)}}for(;s<a;++s)t.disableVertexAttribArray(s)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var s=0;s<a;++s)t.disableVertexAttribArray(s)}}h.exports=g},7220:function(h,g,t){var r=t(3056);function l(s){this.gl=s,this._elements=null,this._attributes=null,this._elementsType=s.UNSIGNED_SHORT}l.prototype.bind=function(){r(this.gl,this._elements,this._attributes)},l.prototype.update=function(s,c,u){this._elements=c,this._attributes=s,this._elementsType=u||this.gl.UNSIGNED_SHORT},l.prototype.dispose=function(){},l.prototype.unbind=function(){},l.prototype.draw=function(s,c,u){u=u||0;var b=this.gl;this._elements?b.drawElements(s,c,this._elementsType,u):b.drawArrays(s,u,c)};function a(s){return new l(s)}h.exports=a},3778:function(h,g,t){var r=t(3056);function l(c,u,b,f,w,v){this.location=c,this.dimension=u,this.a=b,this.b=f,this.c=w,this.d=v}l.prototype.bind=function(c){switch(this.dimension){case 1:c.vertexAttrib1f(this.location,this.a);break;case 2:c.vertexAttrib2f(this.location,this.a,this.b);break;case 3:c.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:c.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d);break}};function a(c,u,b){this.gl=c,this._ext=u,this.handle=b,this._attribs=[],this._useElements=!1,this._elementsType=c.UNSIGNED_SHORT}a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var c=0;c<this._attribs.length;++c)this._attribs[c].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(c,u,b){if(this.bind(),r(this.gl,u,c),this.unbind(),this._attribs.length=0,c)for(var f=0;f<c.length;++f){var w=c[f];typeof w=="number"?this._attribs.push(new l(f,1,w)):Array.isArray(w)&&this._attribs.push(new l(f,w.length,w[0],w[1],w[2],w[3]))}this._useElements=!!u,this._elementsType=b||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(c,u,b){b=b||0;var f=this.gl;this._useElements?f.drawElements(c,u,this._elementsType,b):f.drawArrays(c,b,u)};function s(c,u){return new a(c,u,u.createVertexArrayOES())}h.exports=s},2944:function(h,g,t){var r=t(3778),l=t(7220);function a(c){this.bindVertexArrayOES=c.bindVertexArray.bind(c),this.createVertexArrayOES=c.createVertexArray.bind(c),this.deleteVertexArrayOES=c.deleteVertexArray.bind(c)}function s(c,u,b,f){var w=c.createVertexArray?new a(c):c.getExtension("OES_vertex_array_object"),v;return w?v=r(c,w):v=l(c),v.update(u,b,f),v}h.exports=s},2598:function(h){h.exports=g;function g(t,r,l){return t[0]=r[0]+l[0],t[1]=r[1]+l[1],t[2]=r[2]+l[2],t}},5879:function(h,g,t){h.exports=s;var r=t(5415),l=t(899),a=t(9305);function s(c,u){var b=r(c[0],c[1],c[2]),f=r(u[0],u[1],u[2]);l(b,b),l(f,f);var w=a(b,f);return w>1?0:Math.acos(w)}},8827:function(h){h.exports=g;function g(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}},7622:function(h){h.exports=g;function g(t){var r=new Float32Array(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}},8782:function(h){h.exports=g;function g(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}},8501:function(h){h.exports=g;function g(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},903:function(h){h.exports=g;function g(t,r,l){var a=r[0],s=r[1],c=r[2],u=l[0],b=l[1],f=l[2];return t[0]=s*f-c*b,t[1]=c*u-a*f,t[2]=a*b-s*u,t}},5981:function(h,g,t){h.exports=t(8288)},8288:function(h){h.exports=g;function g(t,r){var l=r[0]-t[0],a=r[1]-t[1],s=r[2]-t[2];return Math.sqrt(l*l+a*a+s*s)}},8629:function(h,g,t){h.exports=t(7979)},7979:function(h){h.exports=g;function g(t,r,l){return t[0]=r[0]/l[0],t[1]=r[1]/l[1],t[2]=r[2]/l[2],t}},9305:function(h){h.exports=g;function g(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}},154:function(h){h.exports=1e-6},4932:function(h,g,t){h.exports=l;var r=t(154);function l(a,s){var c=a[0],u=a[1],b=a[2],f=s[0],w=s[1],v=s[2];return Math.abs(c-f)<=r*Math.max(1,Math.abs(c),Math.abs(f))&&Math.abs(u-w)<=r*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(b-v)<=r*Math.max(1,Math.abs(b),Math.abs(v))}},5777:function(h){h.exports=g;function g(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}},3306:function(h){h.exports=g;function g(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}},7447:function(h,g,t){h.exports=l;var r=t(8501)();function l(a,s,c,u,b,f){var w,v;for(s||(s=3),c||(c=0),u?v=Math.min(u*s+c,a.length):v=a.length,w=c;w<v;w+=s)r[0]=a[w],r[1]=a[w+1],r[2]=a[w+2],b(r,r,f),a[w]=r[0],a[w+1]=r[1],a[w+2]=r[2];return a}},5415:function(h){h.exports=g;function g(t,r,l){var a=new Float32Array(3);return a[0]=t,a[1]=r,a[2]=l,a}},2858:function(h,g,t){h.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(h){h.exports=g;function g(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}},1468:function(h,g,t){h.exports=t(4693)},4693:function(h){h.exports=g;function g(t){var r=t[0],l=t[1],a=t[2];return Math.sqrt(r*r+l*l+a*a)}},1868:function(h){h.exports=g;function g(t,r,l,a){var s=r[0],c=r[1],u=r[2];return t[0]=s+a*(l[0]-s),t[1]=c+a*(l[1]-c),t[2]=u+a*(l[2]-u),t}},1716:function(h){h.exports=g;function g(t,r,l){return t[0]=Math.max(r[0],l[0]),t[1]=Math.max(r[1],l[1]),t[2]=Math.max(r[2],l[2]),t}},3605:function(h){h.exports=g;function g(t,r,l){return t[0]=Math.min(r[0],l[0]),t[1]=Math.min(r[1],l[1]),t[2]=Math.min(r[2],l[2]),t}},5733:function(h,g,t){h.exports=t(105)},105:function(h){h.exports=g;function g(t,r,l){return t[0]=r[0]*l[0],t[1]=r[1]*l[1],t[2]=r[2]*l[2],t}},435:function(h){h.exports=g;function g(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}},899:function(h){h.exports=g;function g(t,r){var l=r[0],a=r[1],s=r[2],c=l*l+a*a+s*s;return c>0&&(c=1/Math.sqrt(c),t[0]=r[0]*c,t[1]=r[1]*c,t[2]=r[2]*c),t}},6660:function(h){h.exports=g;function g(t,r){r=r||1;var l=Math.random()*2*Math.PI,a=Math.random()*2-1,s=Math.sqrt(1-a*a)*r;return t[0]=Math.cos(l)*s,t[1]=Math.sin(l)*s,t[2]=a*r,t}},392:function(h){h.exports=g;function g(t,r,l,a){var s=l[1],c=l[2],u=r[1]-s,b=r[2]-c,f=Math.sin(a),w=Math.cos(a);return t[0]=r[0],t[1]=s+u*w-b*f,t[2]=c+u*f+b*w,t}},3222:function(h){h.exports=g;function g(t,r,l,a){var s=l[0],c=l[2],u=r[0]-s,b=r[2]-c,f=Math.sin(a),w=Math.cos(a);return t[0]=s+b*f+u*w,t[1]=r[1],t[2]=c+b*w-u*f,t}},3388:function(h){h.exports=g;function g(t,r,l,a){var s=l[0],c=l[1],u=r[0]-s,b=r[1]-c,f=Math.sin(a),w=Math.cos(a);return t[0]=s+u*w-b*f,t[1]=c+u*f+b*w,t[2]=r[2],t}},1624:function(h){h.exports=g;function g(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}},5685:function(h){h.exports=g;function g(t,r,l){return t[0]=r[0]*l,t[1]=r[1]*l,t[2]=r[2]*l,t}},6722:function(h){h.exports=g;function g(t,r,l,a){return t[0]=r[0]+l[0]*a,t[1]=r[1]+l[1]*a,t[2]=r[2]+l[2]*a,t}},831:function(h){h.exports=g;function g(t,r,l,a){return t[0]=r,t[1]=l,t[2]=a,t}},5294:function(h,g,t){h.exports=t(6403)},3303:function(h,g,t){h.exports=t(4337)},6403:function(h){h.exports=g;function g(t,r){var l=r[0]-t[0],a=r[1]-t[1],s=r[2]-t[2];return l*l+a*a+s*s}},4337:function(h){h.exports=g;function g(t){var r=t[0],l=t[1],a=t[2];return r*r+l*l+a*a}},8921:function(h,g,t){h.exports=t(911)},911:function(h){h.exports=g;function g(t,r,l){return t[0]=r[0]-l[0],t[1]=r[1]-l[1],t[2]=r[2]-l[2],t}},9908:function(h){h.exports=g;function g(t,r,l){var a=r[0],s=r[1],c=r[2];return t[0]=a*l[0]+s*l[3]+c*l[6],t[1]=a*l[1]+s*l[4]+c*l[7],t[2]=a*l[2]+s*l[5]+c*l[8],t}},3255:function(h){h.exports=g;function g(t,r,l){var a=r[0],s=r[1],c=r[2],u=l[3]*a+l[7]*s+l[11]*c+l[15];return u=u||1,t[0]=(l[0]*a+l[4]*s+l[8]*c+l[12])/u,t[1]=(l[1]*a+l[5]*s+l[9]*c+l[13])/u,t[2]=(l[2]*a+l[6]*s+l[10]*c+l[14])/u,t}},6568:function(h){h.exports=g;function g(t,r,l){var a=r[0],s=r[1],c=r[2],u=l[0],b=l[1],f=l[2],w=l[3],v=w*a+b*c-f*s,o=w*s+f*a-u*c,d=w*c+u*s-b*a,S=-u*a-b*s-f*c;return t[0]=v*w+S*-u+o*-f-d*-b,t[1]=o*w+S*-b+d*-u-v*-f,t[2]=d*w+S*-f+v*-b-o*-u,t}},3433:function(h){h.exports=g;function g(t,r,l){return t[0]=r[0]+l[0],t[1]=r[1]+l[1],t[2]=r[2]+l[2],t[3]=r[3]+l[3],t}},1413:function(h){h.exports=g;function g(t){var r=new Float32Array(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}},3470:function(h){h.exports=g;function g(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}},5313:function(h){h.exports=g;function g(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},5446:function(h){h.exports=g;function g(t,r){var l=r[0]-t[0],a=r[1]-t[1],s=r[2]-t[2],c=r[3]-t[3];return Math.sqrt(l*l+a*a+s*s+c*c)}},205:function(h){h.exports=g;function g(t,r,l){return t[0]=r[0]/l[0],t[1]=r[1]/l[1],t[2]=r[2]/l[2],t[3]=r[3]/l[3],t}},4242:function(h){h.exports=g;function g(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}},5680:function(h){h.exports=g;function g(t,r,l,a){var s=new Float32Array(4);return s[0]=t,s[1]=r,s[2]=l,s[3]=a,s}},4020:function(h,g,t){h.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(h){h.exports=g;function g(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}},8177:function(h){h.exports=g;function g(t){var r=t[0],l=t[1],a=t[2],s=t[3];return Math.sqrt(r*r+l*l+a*a+s*s)}},8746:function(h){h.exports=g;function g(t,r,l,a){var s=r[0],c=r[1],u=r[2],b=r[3];return t[0]=s+a*(l[0]-s),t[1]=c+a*(l[1]-c),t[2]=u+a*(l[2]-u),t[3]=b+a*(l[3]-b),t}},3030:function(h){h.exports=g;function g(t,r,l){return t[0]=Math.max(r[0],l[0]),t[1]=Math.max(r[1],l[1]),t[2]=Math.max(r[2],l[2]),t[3]=Math.max(r[3],l[3]),t}},2170:function(h){h.exports=g;function g(t,r,l){return t[0]=Math.min(r[0],l[0]),t[1]=Math.min(r[1],l[1]),t[2]=Math.min(r[2],l[2]),t[3]=Math.min(r[3],l[3]),t}},746:function(h){h.exports=g;function g(t,r,l){return t[0]=r[0]*l[0],t[1]=r[1]*l[1],t[2]=r[2]*l[2],t[3]=r[3]*l[3],t}},6459:function(h){h.exports=g;function g(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}},381:function(h){h.exports=g;function g(t,r){var l=r[0],a=r[1],s=r[2],c=r[3],u=l*l+a*a+s*s+c*c;return u>0&&(u=1/Math.sqrt(u),t[0]=l*u,t[1]=a*u,t[2]=s*u,t[3]=c*u),t}},3770:function(h,g,t){var r=t(381),l=t(5510);h.exports=a;function a(s,c){return c=c||1,s[0]=Math.random(),s[1]=Math.random(),s[2]=Math.random(),s[3]=Math.random(),r(s,s),l(s,s,c),s}},5510:function(h){h.exports=g;function g(t,r,l){return t[0]=r[0]*l,t[1]=r[1]*l,t[2]=r[2]*l,t[3]=r[3]*l,t}},4224:function(h){h.exports=g;function g(t,r,l,a){return t[0]=r[0]+l[0]*a,t[1]=r[1]+l[1]*a,t[2]=r[2]+l[2]*a,t[3]=r[3]+l[3]*a,t}},6453:function(h){h.exports=g;function g(t,r,l,a,s){return t[0]=r,t[1]=l,t[2]=a,t[3]=s,t}},1542:function(h){h.exports=g;function g(t,r){var l=r[0]-t[0],a=r[1]-t[1],s=r[2]-t[2],c=r[3]-t[3];return l*l+a*a+s*s+c*c}},9037:function(h){h.exports=g;function g(t){var r=t[0],l=t[1],a=t[2],s=t[3];return r*r+l*l+a*a+s*s}},2705:function(h){h.exports=g;function g(t,r,l){return t[0]=r[0]-l[0],t[1]=r[1]-l[1],t[2]=r[2]-l[2],t[3]=r[3]-l[3],t}},6342:function(h){h.exports=g;function g(t,r,l){var a=r[0],s=r[1],c=r[2],u=r[3];return t[0]=l[0]*a+l[4]*s+l[8]*c+l[12]*u,t[1]=l[1]*a+l[5]*s+l[9]*c+l[13]*u,t[2]=l[2]*a+l[6]*s+l[10]*c+l[14]*u,t[3]=l[3]*a+l[7]*s+l[11]*c+l[15]*u,t}},5022:function(h){h.exports=g;function g(t,r,l){var a=r[0],s=r[1],c=r[2],u=l[0],b=l[1],f=l[2],w=l[3],v=w*a+b*c-f*s,o=w*s+f*a-u*c,d=w*c+u*s-b*a,S=-u*a-b*s-f*c;return t[0]=v*w+S*-u+o*-f-d*-b,t[1]=o*w+S*-b+d*-u-v*-f,t[2]=d*w+S*-f+v*-b-o*-u,t[3]=r[3],t}},9365:function(h,g,t){var r=t(8096),l=t(7896);h.exports=a;function a(s){for(var c=Array.isArray(s)?s:r(s),u=0;u<c.length;u++){var b=c[u];if(b.type==="preprocessor"){var f=b.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(f&&f[2]){var w=f[1],v=f[2];return(w?l(v):v).trim()}}}}},3193:function(h,g,t){h.exports=A;var r=t(399),l=t(9746),a=t(9525),s=t(9458),c=t(3585),u=999,b=9999,f=0,w=1,v=2,o=3,d=4,S=5,M=6,P=7,x=8,E=9,T=10,i=11,R=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"];function A(k){var _=0,H=0,z=u,N,O,F=[],U=[],Z=1,q=0,J=0,te=!1,fe=!1,K="",Y;k=k||{};var W=a,X=r;k.version==="300 es"&&(W=c,X=s);for(var re={},se={},_=0;_<W.length;_++)re[W[_]]=!0;for(var _=0;_<X.length;_++)se[X[_]]=!0;return function(He){return U=[],He!==null?ee(He):le()};function Q(He){He.length&&U.push({type:R[z],data:He,position:J,line:Z,column:q})}function ee(He){_=0,He.toString&&(He=He.toString()),K+=He.replace(/\r\n/g,`
`),Y=K.length;for(var ke;N=K[_],_<Y;){switch(ke=_,z){case f:_=Se();break;case w:_=Ae();break;case v:_=xe();break;case o:_=Oe();break;case d:_=Te();break;case i:_=Ee();break;case S:_=Le();break;case b:_=Ge();break;case E:_=he();break;case u:_=oe();break}if(ke!==_)switch(K[ke]){case`
`:q=0,++Z;break;default:++q;break}}return H+=_,K=K.slice(_),U}function le(He){return F.length&&Q(F.join("")),z=T,Q("(eof)"),U}function oe(){return F=F.length?[]:F,O==="/"&&N==="*"?(J=H+_-1,z=f,O=N,_+1):O==="/"&&N==="/"?(J=H+_-1,z=w,O=N,_+1):N==="#"?(z=v,J=H+_,_):/\s/.test(N)?(z=E,J=H+_,_):(te=/\d/.test(N),fe=/[^\w_]/.test(N),J=H+_,z=te?d:fe?o:b,_)}function he(){return/[^\s]/g.test(N)?(Q(F.join("")),z=u,_):(F.push(N),O=N,_+1)}function xe(){return(N==="\r"||N===`
`)&&O!=="\\"?(Q(F.join("")),z=u,_):(F.push(N),O=N,_+1)}function Ae(){return xe()}function Se(){return N==="/"&&O==="*"?(F.push(N),Q(F.join("")),z=u,_+1):(F.push(N),O=N,_+1)}function Oe(){if(O==="."&&/\d/.test(N))return z=S,_;if(O==="/"&&N==="*")return z=f,_;if(O==="/"&&N==="/")return z=w,_;if(N==="."&&F.length){for(;Ve(F););return z=S,_}if(N===";"||N===")"||N==="("){if(F.length)for(;Ve(F););return Q(N),z=u,_+1}var He=F.length===2&&N!=="=";if(/[\w_\d\s]/.test(N)||He){for(;Ve(F););return z=u,_}return F.push(N),O=N,_+1}function Ve(He){var ke=0,We,nt;do{if(We=l.indexOf(He.slice(0,He.length+ke).join("")),nt=l[We],We===-1){if(ke--+He.length>0)continue;nt=He.slice(0,1).join("")}return Q(nt),J+=nt.length,F=F.slice(nt.length),F.length}while(1)}function Ee(){return/[^a-fA-F0-9]/.test(N)?(Q(F.join("")),z=u,_):(F.push(N),O=N,_+1)}function Te(){return N==="."||/[eE]/.test(N)?(F.push(N),z=S,O=N,_+1):N==="x"&&F.length===1&&F[0]==="0"?(z=i,F.push(N),O=N,_+1):/[^\d]/.test(N)?(Q(F.join("")),z=u,_):(F.push(N),O=N,_+1)}function Le(){return N==="f"&&(F.push(N),O=N,_+=1),/[eE]/.test(N)||(N==="-"||N==="+")&&/[eE]/.test(O)?(F.push(N),O=N,_+1):/[^\d]/.test(N)?(Q(F.join("")),z=u,_):(F.push(N),O=N,_+1)}function Ge(){if(/[^\d\w_]/.test(N)){var He=F.join("");return se[He]?z=x:re[He]?z=P:z=M,Q(F.join("")),z=u,_}return F.push(N),O=N,_+1}}},3585:function(h,g,t){var r=t(9525);r=r.slice().filter(function(l){return!/^(gl\_|texture)/.test(l)}),h.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(h){h.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(h,g,t){var r=t(399);h.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(h){h.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(h){h.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(h,g,t){var r=t(3193);h.exports=l;function l(a,s){var c=r(s),u=[];return u=u.concat(c(a)),u=u.concat(c(null)),u}},6832:function(h){h.exports=function(g){typeof g=="string"&&(g=[g]);for(var t=[].slice.call(arguments,1),r=[],l=0;l<g.length-1;l++)r.push(g[l],t[l]||"");return r.push(g[l]),r.join("")}},5233:function(h,g,t){var r=t(4846);function l(){var a=!1;try{var s=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch{a=!1}return a}h.exports=r&&l()},2183:function(h,g,t){h.exports=o;var r=t(417),l=t(8211).H;function a(d,S,M){this.vertices=d,this.adjacent=S,this.boundary=M,this.lastVisited=-1}a.prototype.flip=function(){var d=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=d;var S=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=S};function s(d,S,M){this.vertices=d,this.cell=S,this.index=M}function c(d,S){return l(d.vertices,S.vertices)}function u(d){return function(){var S=this.tuple;return d.apply(this,S)}}function b(d){var S=r[d+1];return S||(S=r),u(S)}var f=[];function w(d,S,M){this.dimension=d,this.vertices=S,this.simplices=M,this.interior=M.filter(function(E){return!E.boundary}),this.tuple=new Array(d+1);for(var P=0;P<=d;++P)this.tuple[P]=this.vertices[P];var x=f[d];x||(x=f[d]=b(d)),this.orient=x}var v=w.prototype;v.handleBoundaryDegeneracy=function(d,S){var M=this.dimension,P=this.vertices.length-1,x=this.tuple,E=this.vertices,T=[d];for(d.lastVisited=-P;T.length>0;){d=T.pop();for(var i=d.adjacent,R=0;R<=M;++R){var A=i[R];if(!(!A.boundary||A.lastVisited<=-P)){for(var k=A.vertices,_=0;_<=M;++_){var H=k[_];H<0?x[_]=S:x[_]=E[H]}var z=this.orient();if(z>0)return A;A.lastVisited=-P,z===0&&T.push(A)}}}return null},v.walk=function(d,S){var M=this.vertices.length-1,P=this.dimension,x=this.vertices,E=this.tuple,T=S?this.interior.length*Math.random()|0:this.interior.length-1,i=this.interior[T];e:for(;!i.boundary;){for(var R=i.vertices,A=i.adjacent,k=0;k<=P;++k)E[k]=x[R[k]];i.lastVisited=M;for(var k=0;k<=P;++k){var _=A[k];if(!(_.lastVisited>=M)){var H=E[k];E[k]=d;var z=this.orient();if(E[k]=H,z<0){i=_;continue e}else _.boundary?_.lastVisited=-M:_.lastVisited=M}}return}return i},v.addPeaks=function(d,S){var M=this.vertices.length-1,P=this.dimension,x=this.vertices,E=this.tuple,T=this.interior,i=this.simplices,R=[S];S.lastVisited=M,S.vertices[S.vertices.indexOf(-1)]=M,S.boundary=!1,T.push(S);for(var A=[];R.length>0;){var S=R.pop(),k=S.vertices,_=S.adjacent,H=k.indexOf(M);if(!(H<0)){for(var z=0;z<=P;++z)if(z!==H){var N=_[z];if(!(!N.boundary||N.lastVisited>=M)){var O=N.vertices;if(N.lastVisited!==-M){for(var F=0,U=0;U<=P;++U)O[U]<0?(F=U,E[U]=d):E[U]=x[O[U]];var Z=this.orient();if(Z>0){O[F]=M,N.boundary=!1,T.push(N),R.push(N),N.lastVisited=M;continue}else N.lastVisited=-M}var q=N.adjacent,J=k.slice(),te=_.slice(),fe=new a(J,te,!0);i.push(fe);var K=q.indexOf(S);if(!(K<0)){q[K]=fe,te[H]=N,J[z]=-1,te[z]=S,_[z]=fe,fe.flip();for(var U=0;U<=P;++U){var Y=J[U];if(!(Y<0||Y===M)){for(var W=new Array(P-1),X=0,re=0;re<=P;++re){var se=J[re];se<0||re===U||(W[X++]=se)}A.push(new s(W,fe,U))}}}}}}}A.sort(c);for(var z=0;z+1<A.length;z+=2){var Q=A[z],ee=A[z+1],le=Q.index,oe=ee.index;le<0||oe<0||(Q.cell.adjacent[Q.index]=ee.cell,ee.cell.adjacent[ee.index]=Q.cell)}},v.insert=function(d,S){var M=this.vertices;M.push(d);var P=this.walk(d,S);if(P){for(var x=this.dimension,E=this.tuple,T=0;T<=x;++T){var i=P.vertices[T];i<0?E[T]=d:E[T]=M[i]}var R=this.orient(E);R<0||R===0&&(P=this.handleBoundaryDegeneracy(P,d),!P)||this.addPeaks(d,P)}},v.boundary=function(){for(var d=this.dimension,S=[],M=this.simplices,P=M.length,x=0;x<P;++x){var E=M[x];if(E.boundary){for(var T=new Array(d),i=E.vertices,R=0,A=0,k=0;k<=d;++k)i[k]>=0?T[R++]=i[k]:A=k&1;if(A===(d&1)){var _=T[0];T[0]=T[1],T[1]=_}S.push(T)}}return S};function o(d,S){var M=d.length;if(M===0)throw new Error("Must have at least d+1 points");var P=d[0].length;if(M<=P)throw new Error("Must input at least d+1 points");var x=d.slice(0,P+1),E=r.apply(void 0,x);if(E===0)throw new Error("Input not in general position");for(var T=new Array(P+1),i=0;i<=P;++i)T[i]=i;E<0&&(T[0]=1,T[1]=0);for(var R=new a(T,new Array(P+1),!1),A=R.adjacent,k=new Array(P+2),i=0;i<=P;++i){for(var _=T.slice(),H=0;H<=P;++H)H===i&&(_[H]=-1);var z=_[0];_[0]=_[1],_[1]=z;var N=new a(_,new Array(P+1),!0);A[i]=N,k[i]=N}k[P+1]=R;for(var i=0;i<=P;++i)for(var _=A[i].vertices,O=A[i].adjacent,H=0;H<=P;++H){var F=_[H];if(F<0){O[H]=R;continue}for(var U=0;U<=P;++U)A[U].vertices.indexOf(F)<0&&(O[H]=A[U])}for(var Z=new w(P,x,k),q=!!S,i=P+1;i<M;++i)Z.insert(d[i],q);return Z.boundary()}},9014:function(h,g,t){var r=t(5070),l=0,a=1,s=2;h.exports=R;function c(A,k,_,H,z){this.mid=A,this.left=k,this.right=_,this.leftPoints=H,this.rightPoints=z,this.count=(k?k.count:0)+(_?_.count:0)+H.length}var u=c.prototype;function b(A,k){A.mid=k.mid,A.left=k.left,A.right=k.right,A.leftPoints=k.leftPoints,A.rightPoints=k.rightPoints,A.count=k.count}function f(A,k){var _=E(k);A.mid=_.mid,A.left=_.left,A.right=_.right,A.leftPoints=_.leftPoints,A.rightPoints=_.rightPoints,A.count=_.count}function w(A,k){var _=A.intervals([]);_.push(k),f(A,_)}function v(A,k){var _=A.intervals([]),H=_.indexOf(k);return H<0?l:(_.splice(H,1),f(A,_),a)}u.intervals=function(A){return A.push.apply(A,this.leftPoints),this.left&&this.left.intervals(A),this.right&&this.right.intervals(A),A},u.insert=function(A){var k=this.count-this.leftPoints.length;if(this.count+=1,A[1]<this.mid)this.left?4*(this.left.count+1)>3*(k+1)?w(this,A):this.left.insert(A):this.left=E([A]);else if(A[0]>this.mid)this.right?4*(this.right.count+1)>3*(k+1)?w(this,A):this.right.insert(A):this.right=E([A]);else{var _=r.ge(this.leftPoints,A,P),H=r.ge(this.rightPoints,A,x);this.leftPoints.splice(_,0,A),this.rightPoints.splice(H,0,A)}},u.remove=function(A){var k=this.count-this.leftPoints;if(A[1]<this.mid){if(!this.left)return l;var _=this.right?this.right.count:0;if(4*_>3*(k-1))return v(this,A);var H=this.left.remove(A);return H===s?(this.left=null,this.count-=1,a):(H===a&&(this.count-=1),H)}else if(A[0]>this.mid){if(!this.right)return l;var z=this.left?this.left.count:0;if(4*z>3*(k-1))return v(this,A);var H=this.right.remove(A);return H===s?(this.right=null,this.count-=1,a):(H===a&&(this.count-=1),H)}else{if(this.count===1)return this.leftPoints[0]===A?s:l;if(this.leftPoints.length===1&&this.leftPoints[0]===A){if(this.left&&this.right){for(var N=this,O=this.left;O.right;)N=O,O=O.right;if(N===this)O.right=this.right;else{var F=this.left,H=this.right;N.count-=O.count,N.right=O.left,O.left=F,O.right=H}b(this,O),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?b(this,this.left):b(this,this.right);return a}for(var F=r.ge(this.leftPoints,A,P);F<this.leftPoints.length&&this.leftPoints[F][0]===A[0];++F)if(this.leftPoints[F]===A){this.count-=1,this.leftPoints.splice(F,1);for(var H=r.ge(this.rightPoints,A,x);H<this.rightPoints.length&&this.rightPoints[H][1]===A[1];++H)if(this.rightPoints[H]===A)return this.rightPoints.splice(H,1),a}return l}};function o(A,k,_){for(var H=0;H<A.length&&A[H][0]<=k;++H){var z=_(A[H]);if(z)return z}}function d(A,k,_){for(var H=A.length-1;H>=0&&A[H][1]>=k;--H){var z=_(A[H]);if(z)return z}}function S(A,k){for(var _=0;_<A.length;++_){var H=k(A[_]);if(H)return H}}u.queryPoint=function(A,k){if(A<this.mid){if(this.left){var _=this.left.queryPoint(A,k);if(_)return _}return o(this.leftPoints,A,k)}else if(A>this.mid){if(this.right){var _=this.right.queryPoint(A,k);if(_)return _}return d(this.rightPoints,A,k)}else return S(this.leftPoints,k)},u.queryInterval=function(A,k,_){if(A<this.mid&&this.left){var H=this.left.queryInterval(A,k,_);if(H)return H}if(k>this.mid&&this.right){var H=this.right.queryInterval(A,k,_);if(H)return H}return k<this.mid?o(this.leftPoints,k,_):A>this.mid?d(this.rightPoints,A,_):S(this.leftPoints,_)};function M(A,k){return A-k}function P(A,k){var _=A[0]-k[0];return _||A[1]-k[1]}function x(A,k){var _=A[1]-k[1];return _||A[0]-k[0]}function E(A){if(A.length===0)return null;for(var k=[],_=0;_<A.length;++_)k.push(A[_][0],A[_][1]);k.sort(M);for(var H=k[k.length>>1],z=[],N=[],O=[],_=0;_<A.length;++_){var F=A[_];F[1]<H?z.push(F):H<F[0]?N.push(F):O.push(F)}var U=O,Z=O.slice();return U.sort(P),Z.sort(x),new c(H,E(z),E(N),U,Z)}function T(A){this.root=A}var i=T.prototype;i.insert=function(A){this.root?this.root.insert(A):this.root=new c(A[0],null,null,[A],[A])},i.remove=function(A){if(this.root){var k=this.root.remove(A);return k===s&&(this.root=null),k!==l}return!1},i.queryPoint=function(A,k){if(this.root)return this.root.queryPoint(A,k)},i.queryInterval=function(A,k,_){if(A<=k&&this.root)return this.root.queryInterval(A,k,_)},Object.defineProperty(i,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(i,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function R(A){return!A||A.length===0?new T(null):new T(E(A))}},9560:function(h){function g(t){for(var r=new Array(t),l=0;l<t;++l)r[l]=l;return r}h.exports=g},4846:function(h){h.exports=!0},4780:function(h){/*!
* Determine if an object is a Buffer
*
* @author   Feross Aboukhadijeh <https://feross.org>
* @license  MIT
*/h.exports=function(r){return r!=null&&(g(r)||t(r)||!!r._isBuffer)};function g(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function t(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&g(r.slice(0,0))}},3596:function(h){h.exports=function(g){for(var t=g.length,r,l=0;l<t;l++)if(r=g.charCodeAt(l),(r<9||r>13)&&r!==32&&r!==133&&r!==160&&r!==5760&&r!==6158&&(r<8192||r>8205)&&r!==8232&&r!==8233&&r!==8239&&r!==8287&&r!==8288&&r!==12288&&r!==65279)return!1;return!0}},3578:function(h){function g(t,r,l){return t*(1-l)+r*l}h.exports=g},7191:function(h,g,t){var r=t(4690),l=t(9823),a=t(7332),s=t(7787),c=t(7437),u=t(2142),b={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},f=l(),w=l(),v=[0,0,0,0],o=[[0,0,0],[0,0,0],[0,0,0]],d=[0,0,0];h.exports=function(E,T,i,R,A,k){if(T||(T=[0,0,0]),i||(i=[0,0,0]),R||(R=[0,0,0]),A||(A=[0,0,0,1]),k||(k=[0,0,0,1]),!r(f,E)||(a(w,f),w[3]=0,w[7]=0,w[11]=0,w[15]=1,Math.abs(s(w)<1e-8)))return!1;var _=f[3],H=f[7],z=f[11],N=f[12],O=f[13],F=f[14],U=f[15];if(_!==0||H!==0||z!==0){v[0]=_,v[1]=H,v[2]=z,v[3]=U;var Z=c(w,w);if(!Z)return!1;u(w,w),S(A,v,w)}else A[0]=A[1]=A[2]=0,A[3]=1;if(T[0]=N,T[1]=O,T[2]=F,M(o,f),i[0]=b.length(o[0]),b.normalize(o[0],o[0]),R[0]=b.dot(o[0],o[1]),P(o[1],o[1],o[0],1,-R[0]),i[1]=b.length(o[1]),b.normalize(o[1],o[1]),R[0]/=i[1],R[1]=b.dot(o[0],o[2]),P(o[2],o[2],o[0],1,-R[1]),R[2]=b.dot(o[1],o[2]),P(o[2],o[2],o[1],1,-R[2]),i[2]=b.length(o[2]),b.normalize(o[2],o[2]),R[1]/=i[2],R[2]/=i[2],b.cross(d,o[1],o[2]),b.dot(o[0],d)<0)for(var q=0;q<3;q++)i[q]*=-1,o[q][0]*=-1,o[q][1]*=-1,o[q][2]*=-1;return k[0]=.5*Math.sqrt(Math.max(1+o[0][0]-o[1][1]-o[2][2],0)),k[1]=.5*Math.sqrt(Math.max(1-o[0][0]+o[1][1]-o[2][2],0)),k[2]=.5*Math.sqrt(Math.max(1-o[0][0]-o[1][1]+o[2][2],0)),k[3]=.5*Math.sqrt(Math.max(1+o[0][0]+o[1][1]+o[2][2],0)),o[2][1]>o[1][2]&&(k[0]=-k[0]),o[0][2]>o[2][0]&&(k[1]=-k[1]),o[1][0]>o[0][1]&&(k[2]=-k[2]),!0};function S(x,E,T){var i=E[0],R=E[1],A=E[2],k=E[3];return x[0]=T[0]*i+T[4]*R+T[8]*A+T[12]*k,x[1]=T[1]*i+T[5]*R+T[9]*A+T[13]*k,x[2]=T[2]*i+T[6]*R+T[10]*A+T[14]*k,x[3]=T[3]*i+T[7]*R+T[11]*A+T[15]*k,x}function M(x,E){x[0][0]=E[0],x[0][1]=E[1],x[0][2]=E[2],x[1][0]=E[4],x[1][1]=E[5],x[1][2]=E[6],x[2][0]=E[8],x[2][1]=E[9],x[2][2]=E[10]}function P(x,E,T,i,R){x[0]=E[0]*i+T[0]*R,x[1]=E[1]*i+T[1]*R,x[2]=E[2]*i+T[2]*R}},4690:function(h){h.exports=function(t,r){var l=r[15];if(l===0)return!1;for(var a=1/l,s=0;s<16;s++)t[s]=r[s]*a;return!0}},7649:function(h,g,t){var r=t(1868),l=t(1102),a=t(7191),s=t(7787),c=t(1116),u=v(),b=v(),f=v();h.exports=w;function w(S,M,P,x){if(s(M)===0||s(P)===0)return!1;var E=a(M,u.translate,u.scale,u.skew,u.perspective,u.quaternion),T=a(P,b.translate,b.scale,b.skew,b.perspective,b.quaternion);return!E||!T?!1:(r(f.translate,u.translate,b.translate,x),r(f.skew,u.skew,b.skew,x),r(f.scale,u.scale,b.scale,x),r(f.perspective,u.perspective,b.perspective,x),c(f.quaternion,u.quaternion,b.quaternion,x),l(S,f.translate,f.scale,f.skew,f.perspective,f.quaternion),!0)}function v(){return{translate:o(),scale:o(1),skew:o(),perspective:d(),quaternion:d()}}function o(S){return[S||0,S||0,S||0]}function d(){return[0,0,0,1]}},1102:function(h,g,t){var r={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)};r.create();var l=r.create();h.exports=function(s,c,u,b,f,w){return r.identity(s),r.fromRotationTranslation(s,w,c),s[3]=f[0],s[7]=f[1],s[11]=f[2],s[15]=f[3],r.identity(l),b[2]!==0&&(l[9]=b[2],r.multiply(s,s,l)),b[1]!==0&&(l[9]=0,l[8]=b[1],r.multiply(s,s,l)),b[0]!==0&&(l[8]=0,l[4]=b[0],r.multiply(s,s,l)),r.scale(s,s,u),s}},9298:function(h,g,t){var r=t(5070),l=t(7649),a=t(7437),s=t(6109),c=t(7115),u=t(5240),b=t(3012),f=t(998);t(3668);var w=t(899),v=[0,0,0];h.exports=M;function o(P){this._components=P.slice(),this._time=[0],this.prevMatrix=P.slice(),this.nextMatrix=P.slice(),this.computedMatrix=P.slice(),this.computedInverse=P.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}var d=o.prototype;d.recalcMatrix=function(P){var x=this._time,E=r.le(x,P),T=this.computedMatrix;if(!(E<0)){var i=this._components;if(E===x.length-1)for(var R=16*E,A=0;A<16;++A)T[A]=i[R++];else{for(var k=x[E+1]-x[E],R=16*E,_=this.prevMatrix,H=!0,A=0;A<16;++A)_[A]=i[R++];for(var z=this.nextMatrix,A=0;A<16;++A)z[A]=i[R++],H=H&&_[A]===z[A];if(k<1e-6||H)for(var A=0;A<16;++A)T[A]=_[A];else l(T,_,z,(P-x[E])/k)}var N=this.computedUp;N[0]=T[1],N[1]=T[5],N[2]=T[9],w(N,N);var O=this.computedInverse;a(O,T);var F=this.computedEye,U=O[15];F[0]=O[12]/U,F[1]=O[13]/U,F[2]=O[14]/U;for(var Z=this.computedCenter,q=Math.exp(this.computedRadius[0]),A=0;A<3;++A)Z[A]=F[A]-T[2+4*A]*q}},d.idle=function(P){if(!(P<this.lastT())){for(var x=this._components,E=x.length-16,T=0;T<16;++T)x.push(x[E++]);this._time.push(P)}},d.flush=function(P){var x=r.gt(this._time,P)-2;x<0||(this._time.splice(0,x),this._components.splice(0,16*x))},d.lastT=function(){return this._time[this._time.length-1]},d.lookAt=function(P,x,E,T){this.recalcMatrix(P),x=x||this.computedEye,E=E||v,T=T||this.computedUp,this.setMatrix(P,b(this.computedMatrix,x,E,T));for(var i=0,R=0;R<3;++R)i+=Math.pow(E[R]-x[R],2);i=Math.log(Math.sqrt(i)),this.computedRadius[0]=i},d.rotate=function(P,x,E,T){this.recalcMatrix(P);var i=this.computedInverse;x&&c(i,i,x),E&&s(i,i,E),T&&u(i,i,T),this.setMatrix(P,a(this.computedMatrix,i))};var S=[0,0,0];d.pan=function(P,x,E,T){S[0]=-(x||0),S[1]=-(E||0),S[2]=-(T||0),this.recalcMatrix(P);var i=this.computedInverse;f(i,i,S),this.setMatrix(P,a(i,i))},d.translate=function(P,x,E,T){S[0]=x||0,S[1]=E||0,S[2]=T||0,this.recalcMatrix(P);var i=this.computedMatrix;f(i,i,S),this.setMatrix(P,i)},d.setMatrix=function(P,x){if(!(P<this.lastT())){this._time.push(P);for(var E=0;E<16;++E)this._components.push(x[E])}},d.setDistance=function(P,x){this.computedRadius[0]=x},d.setDistanceLimits=function(P,x){var E=this._limits;E[0]=P,E[1]=x},d.getDistanceLimits=function(P){var x=this._limits;return P?(P[0]=x[0],P[1]=x[1],P):x};function M(P){P=P||{};var x=P.matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return new o(x)}},3266:function(h,g,t){h.exports=l;var r=t(417)[3];function l(a){var s=a.length;if(s<3){for(var d=new Array(s),c=0;c<s;++c)d[c]=c;return s===2&&a[0][0]===a[1][0]&&a[0][1]===a[1][1]?[0]:d}for(var u=new Array(s),c=0;c<s;++c)u[c]=c;u.sort(function(x,E){var T=a[x][0]-a[E][0];return T||a[x][1]-a[E][1]});for(var b=[u[0],u[1]],f=[u[0],u[1]],c=2;c<s;++c){for(var w=u[c],v=a[w],o=b.length;o>1&&r(a[b[o-2]],a[b[o-1]],v)<=0;)o-=1,b.pop();for(b.push(w),o=f.length;o>1&&r(a[f[o-2]],a[f[o-1]],v)>=0;)o-=1,f.pop();f.push(w)}for(var d=new Array(f.length+b.length-2),S=0,c=0,M=b.length;c<M;++c)d[S++]=b[c];for(var P=f.length-2;P>0;--P)d[S++]=f[P];return d}},6145:function(h,g,t){h.exports=l;var r=t(4110);function l(a,s){s||(s=a,a=window);var c=0,u=0,b=0,f={shift:!1,alt:!1,control:!1,meta:!1},w=!1;function v(A){var k=!1;return"altKey"in A&&(k=k||A.altKey!==f.alt,f.alt=!!A.altKey),"shiftKey"in A&&(k=k||A.shiftKey!==f.shift,f.shift=!!A.shiftKey),"ctrlKey"in A&&(k=k||A.ctrlKey!==f.control,f.control=!!A.ctrlKey),"metaKey"in A&&(k=k||A.metaKey!==f.meta,f.meta=!!A.metaKey),k}function o(A,k){var _=r.x(k),H=r.y(k);"buttons"in k&&(A=k.buttons|0),(A!==c||_!==u||H!==b||v(k))&&(c=A|0,u=_||0,b=H||0,s&&s(c,u,b,f))}function d(A){o(0,A)}function S(){(c||u||b||f.shift||f.alt||f.meta||f.control)&&(u=b=0,c=0,f.shift=f.alt=f.control=f.meta=!1,s&&s(0,0,0,f))}function M(A){v(A)&&s&&s(c,u,b,f)}function P(A){r.buttons(A)===0?o(0,A):o(c,A)}function x(A){o(c|r.buttons(A),A)}function E(A){o(c&~r.buttons(A),A)}function T(){w||(w=!0,a.addEventListener("mousemove",P),a.addEventListener("mousedown",x),a.addEventListener("mouseup",E),a.addEventListener("mouseleave",d),a.addEventListener("mouseenter",d),a.addEventListener("mouseout",d),a.addEventListener("mouseover",d),a.addEventListener("blur",S),a.addEventListener("keyup",M),a.addEventListener("keydown",M),a.addEventListener("keypress",M),a!==window&&(window.addEventListener("blur",S),window.addEventListener("keyup",M),window.addEventListener("keydown",M),window.addEventListener("keypress",M)))}function i(){w&&(w=!1,a.removeEventListener("mousemove",P),a.removeEventListener("mousedown",x),a.removeEventListener("mouseup",E),a.removeEventListener("mouseleave",d),a.removeEventListener("mouseenter",d),a.removeEventListener("mouseout",d),a.removeEventListener("mouseover",d),a.removeEventListener("blur",S),a.removeEventListener("keyup",M),a.removeEventListener("keydown",M),a.removeEventListener("keypress",M),a!==window&&(window.removeEventListener("blur",S),window.removeEventListener("keyup",M),window.removeEventListener("keydown",M),window.removeEventListener("keypress",M)))}T();var R={element:a};return Object.defineProperties(R,{enabled:{get:function(){return w},set:function(A){A?T():i()},enumerable:!0},buttons:{get:function(){return c},enumerable:!0},x:{get:function(){return u},enumerable:!0},y:{get:function(){return b},enumerable:!0},mods:{get:function(){return f},enumerable:!0}}),R}},2565:function(h){var g={left:0,top:0};h.exports=t;function t(l,a,s){a=a||l.currentTarget||l.srcElement,Array.isArray(s)||(s=[0,0]);var c=l.clientX||0,u=l.clientY||0,b=r(a);return s[0]=c-b.left,s[1]=u-b.top,s}function r(l){return l===window||l===document||l===document.body?g:l.getBoundingClientRect()}},4110:function(h,g){function t(s){if(typeof s=="object"){if("buttons"in s)return s.buttons;if("which"in s){var c=s.which;if(c===2)return 4;if(c===3)return 2;if(c>0)return 1<<c-1}else if("button"in s){var c=s.button;if(c===1)return 4;if(c===2)return 2;if(c>=0)return 1<<c}}return 0}g.buttons=t;function r(s){return s.target||s.srcElement||window}g.element=r;function l(s){if(typeof s=="object"){if("offsetX"in s)return s.offsetX;var c=r(s),u=c.getBoundingClientRect();return s.clientX-u.left}return 0}g.x=l;function a(s){if(typeof s=="object"){if("offsetY"in s)return s.offsetY;var c=r(s),u=c.getBoundingClientRect();return s.clientY-u.top}return 0}g.y=a},6475:function(h,g,t){var r=t(14);h.exports=l;function l(a,s,c){typeof a=="function"&&(c=!!s,s=a,a=window);var u=r("ex",a),b=function(f){c&&f.preventDefault();var w=f.deltaX||0,v=f.deltaY||0,o=f.deltaZ||0,d=f.deltaMode,S=1;switch(d){case 1:S=u;break;case 2:S=window.innerHeight;break}if(w*=S,v*=S,o*=S,w||v||o)return s(w,v,o,f)};return a.addEventListener("wheel",b),b}},9284:function(h,g,t){var r=t(5306);h.exports=s;var l={"false,0,1":function(u,b,f,w,v){return function(d,S,M,P){var x=d.shape[0]|0,E=d.shape[1]|0,T=d.data,i=d.offset|0,R=d.stride[0]|0,A=d.stride[1]|0,k=i,_,H=-R|0,z=0,N=-A|0,O=0,F=-R-A|0,U=0,Z=R|0,q=A-R*x|0,J=0,te=0,fe=0,K=2*x|0,Y=w(K),W=w(K),X=0,re=0,se=-1,Q=-1,ee=0,le=-x|0,oe=x|0,he=0,xe=-x-1|0,Ae=x-1|0,Se=0,Oe=0,Ve=0;for(J=0;J<x;++J)Y[X++]=f(T[k],S,M,P),k+=Z;if(k+=q,E>0){if(te=1,Y[X++]=f(T[k],S,M,P),k+=Z,x>0)for(J=1,_=T[k],re=Y[X]=f(_,S,M,P),ee=Y[X+se],he=Y[X+le],Se=Y[X+xe],(re!==ee||re!==he||re!==Se)&&(z=T[k+H],O=T[k+N],U=T[k+F],u(J,te,_,z,O,U,re,ee,he,Se,S,M,P),Oe=W[X]=fe++),X+=1,k+=Z,J=2;J<x;++J)_=T[k],re=Y[X]=f(_,S,M,P),ee=Y[X+se],he=Y[X+le],Se=Y[X+xe],(re!==ee||re!==he||re!==Se)&&(z=T[k+H],O=T[k+N],U=T[k+F],u(J,te,_,z,O,U,re,ee,he,Se,S,M,P),Oe=W[X]=fe++,Se!==ee&&b(W[X+se],Oe,U,z,Se,ee,S,M,P)),X+=1,k+=Z;for(k+=q,X=0,Ve=se,se=Q,Q=Ve,Ve=le,le=oe,oe=Ve,Ve=xe,xe=Ae,Ae=Ve,te=2;te<E;++te){if(Y[X++]=f(T[k],S,M,P),k+=Z,x>0)for(J=1,_=T[k],re=Y[X]=f(_,S,M,P),ee=Y[X+se],he=Y[X+le],Se=Y[X+xe],(re!==ee||re!==he||re!==Se)&&(z=T[k+H],O=T[k+N],U=T[k+F],u(J,te,_,z,O,U,re,ee,he,Se,S,M,P),Oe=W[X]=fe++,Se!==he&&b(W[X+le],Oe,O,U,he,Se,S,M,P)),X+=1,k+=Z,J=2;J<x;++J)_=T[k],re=Y[X]=f(_,S,M,P),ee=Y[X+se],he=Y[X+le],Se=Y[X+xe],(re!==ee||re!==he||re!==Se)&&(z=T[k+H],O=T[k+N],U=T[k+F],u(J,te,_,z,O,U,re,ee,he,Se,S,M,P),Oe=W[X]=fe++,Se!==he&&b(W[X+le],Oe,O,U,he,Se,S,M,P),Se!==ee&&b(W[X+se],Oe,U,z,Se,ee,S,M,P)),X+=1,k+=Z;te&1&&(X=0),Ve=se,se=Q,Q=Ve,Ve=le,le=oe,oe=Ve,Ve=xe,xe=Ae,Ae=Ve,k+=q}}v(W),v(Y)}},"false,1,0":function(u,b,f,w,v){return function(d,S,M,P){var x=d.shape[0]|0,E=d.shape[1]|0,T=d.data,i=d.offset|0,R=d.stride[0]|0,A=d.stride[1]|0,k=i,_,H=-R|0,z=0,N=-A|0,O=0,F=-R-A|0,U=0,Z=A|0,q=R-A*E|0,J=0,te=0,fe=0,K=2*E|0,Y=w(K),W=w(K),X=0,re=0,se=-1,Q=-1,ee=0,le=-E|0,oe=E|0,he=0,xe=-E-1|0,Ae=E-1|0,Se=0,Oe=0,Ve=0;for(te=0;te<E;++te)Y[X++]=f(T[k],S,M,P),k+=Z;if(k+=q,x>0){if(J=1,Y[X++]=f(T[k],S,M,P),k+=Z,E>0)for(te=1,_=T[k],re=Y[X]=f(_,S,M,P),he=Y[X+le],ee=Y[X+se],Se=Y[X+xe],(re!==he||re!==ee||re!==Se)&&(z=T[k+H],O=T[k+N],U=T[k+F],u(J,te,_,z,O,U,re,he,ee,Se,S,M,P),Oe=W[X]=fe++),X+=1,k+=Z,te=2;te<E;++te)_=T[k],re=Y[X]=f(_,S,M,P),he=Y[X+le],ee=Y[X+se],Se=Y[X+xe],(re!==he||re!==ee||re!==Se)&&(z=T[k+H],O=T[k+N],U=T[k+F],u(J,te,_,z,O,U,re,he,ee,Se,S,M,P),Oe=W[X]=fe++,Se!==ee&&b(W[X+se],Oe,O,U,ee,Se,S,M,P)),X+=1,k+=Z;for(k+=q,X=0,Ve=le,le=oe,oe=Ve,Ve=se,se=Q,Q=Ve,Ve=xe,xe=Ae,Ae=Ve,J=2;J<x;++J){if(Y[X++]=f(T[k],S,M,P),k+=Z,E>0)for(te=1,_=T[k],re=Y[X]=f(_,S,M,P),he=Y[X+le],ee=Y[X+se],Se=Y[X+xe],(re!==he||re!==ee||re!==Se)&&(z=T[k+H],O=T[k+N],U=T[k+F],u(J,te,_,z,O,U,re,he,ee,Se,S,M,P),Oe=W[X]=fe++,Se!==he&&b(W[X+le],Oe,U,z,Se,he,S,M,P)),X+=1,k+=Z,te=2;te<E;++te)_=T[k],re=Y[X]=f(_,S,M,P),he=Y[X+le],ee=Y[X+se],Se=Y[X+xe],(re!==he||re!==ee||re!==Se)&&(z=T[k+H],O=T[k+N],U=T[k+F],u(J,te,_,z,O,U,re,he,ee,Se,S,M,P),Oe=W[X]=fe++,Se!==ee&&b(W[X+se],Oe,O,U,ee,Se,S,M,P),Se!==he&&b(W[X+le],Oe,U,z,Se,he,S,M,P)),X+=1,k+=Z;J&1&&(X=0),Ve=le,le=oe,oe=Ve,Ve=se,se=Q,Q=Ve,Ve=xe,xe=Ae,Ae=Ve,k+=q}}v(W),v(Y)}}};function a(c,u,b,f,w,v){var o=[v,w].join(","),d=l[o];return d(c,u,b,r.mallocUint32,r.freeUint32)}function s(c){function u(S){throw new Error("ndarray-extract-contour: "+S)}typeof c!="object"&&u("Must specify arguments");var b=c.order;Array.isArray(b)||u("Must specify order");var f=c.arrayArguments||1;f<1&&u("Must have at least one array argument");var w=c.scalarArguments||0;w<0&&u("Scalar arg count must be > 0"),typeof c.vertex!="function"&&u("Must specify vertex creation function"),typeof c.cell!="function"&&u("Must specify cell creation function"),typeof c.phase!="function"&&u("Must specify phase function");for(var v=c.getters||[],o=new Array(f),d=0;d<f;++d)v.indexOf(d)>=0?o[d]=!0:o[d]=!1;return a(c.vertex,c.cell,c.phase,w,b,o)}},9144:function(h,g,t){var r=t(3094),l={zero:function(M,P,x,E){var T=M[0],i=x[0];E|=0;var R=0,A=i;for(R=0;R<T;++R)P[E]=0,E+=A},fdTemplate1:function(M,P,x,E,T,i,R){var A=M[0],k=x[0],_=i[0],H=-1*k,z=k;E|=0,R|=0;var N=0,O=k,F=_;for(N=0;N<A;++N)T[R]=.5*(P[E+H]-P[E+z]),E+=O,R+=F},fdTemplate2:function(M,P,x,E,T,i,R,A,k,_){var H=M[0],z=M[1],N=x[0],O=x[1],F=i[0],U=i[1],Z=k[0],q=k[1],J=-1*N,te=N,fe=-1*O,K=O;E|=0,R|=0,_|=0;var Y=0,W=0,X=O,re=N-z*O,se=U,Q=F-z*U,ee=q,le=Z-z*q;for(W=0;W<H;++W){for(Y=0;Y<z;++Y)T[R]=.5*(P[E+J]-P[E+te]),A[_]=.5*(P[E+fe]-P[E+K]),E+=X,R+=se,_+=ee;E+=re,R+=Q,_+=le}}},a={cdiff:function(M){var P={};return function(E,T,i){var R=E.dtype,A=E.order,k=T.dtype,_=T.order,H=i.dtype,z=i.order,N=[R,A.join(),k,_.join(),H,z.join()].join(),O=P[N];return O||(P[N]=O=M([R,A,k,_,H,z])),O(E.shape.slice(0),E.data,E.stride,E.offset|0,T.data,T.stride,T.offset|0,i.data,i.stride,i.offset|0)}},zero:function(M){var P={};return function(E){var T=E.dtype,i=E.order,R=[T,i.join()].join(),A=P[R];return A||(P[R]=A=M([T,i])),A(E.shape.slice(0),E.data,E.stride,E.offset|0)}},fdTemplate1:function(M){var P={};return function(E,T){var i=E.dtype,R=E.order,A=T.dtype,k=T.order,_=[i,R.join(),A,k.join()].join(),H=P[_];return H||(P[_]=H=M([i,R,A,k])),H(E.shape.slice(0),E.data,E.stride,E.offset|0,T.data,T.stride,T.offset|0)}},fdTemplate2:function(M){var P={};return function(E,T,i){var R=E.dtype,A=E.order,k=T.dtype,_=T.order,H=i.dtype,z=i.order,N=[R,A.join(),k,_.join(),H,z.join()].join(),O=P[N];return O||(P[N]=O=M([R,A,k,_,H,z])),O(E.shape.slice(0),E.data,E.stride,E.offset|0,T.data,T.stride,T.offset|0,i.data,i.stride,i.offset|0)}}};function s(M){var P=a[M.funcName];return P(c.bind(void 0,M))}function c(M){return l[M.funcName]}function u(M){return s({funcName:M.funcName})}var b={},f={},w=u({funcName:"cdiff"}),v=u({funcName:"zero"});function o(M){return M in b?b[M]:b[M]=u({funcName:"fdTemplate"+M})}function d(M,P,x,E){return function(T,i){var R=i.shape.slice();return R[0]>2&&R[1]>2&&E(i.pick(-1,-1).lo(1,1).hi(R[0]-2,R[1]-2),T.pick(-1,-1,0).lo(1,1).hi(R[0]-2,R[1]-2),T.pick(-1,-1,1).lo(1,1).hi(R[0]-2,R[1]-2)),R[1]>2&&(x(i.pick(0,-1).lo(1).hi(R[1]-2),T.pick(0,-1,1).lo(1).hi(R[1]-2)),P(T.pick(0,-1,0).lo(1).hi(R[1]-2))),R[1]>2&&(x(i.pick(R[0]-1,-1).lo(1).hi(R[1]-2),T.pick(R[0]-1,-1,1).lo(1).hi(R[1]-2)),P(T.pick(R[0]-1,-1,0).lo(1).hi(R[1]-2))),R[0]>2&&(x(i.pick(-1,0).lo(1).hi(R[0]-2),T.pick(-1,0,0).lo(1).hi(R[0]-2)),P(T.pick(-1,0,1).lo(1).hi(R[0]-2))),R[0]>2&&(x(i.pick(-1,R[1]-1).lo(1).hi(R[0]-2),T.pick(-1,R[1]-1,0).lo(1).hi(R[0]-2)),P(T.pick(-1,R[1]-1,1).lo(1).hi(R[0]-2))),T.set(0,0,0,0),T.set(0,0,1,0),T.set(R[0]-1,0,0,0),T.set(R[0]-1,0,1,0),T.set(0,R[1]-1,0,0),T.set(0,R[1]-1,1,0),T.set(R[0]-1,R[1]-1,0,0),T.set(R[0]-1,R[1]-1,1,0),T}}function S(M){var P=M.join(),R=f[P];if(R)return R;for(var x=M.length,E=[w,v],T=1;T<=x;++T)E.push(o(T));var i=d,R=i.apply(void 0,E);return f[P]=R,R}h.exports=function(P,x,E){if(Array.isArray(E)||(typeof E=="string"?E=r(x.dimension,E):E=r(x.dimension,"clamp")),x.size===0)return P;if(x.dimension===0)return P.set(0),P;var T=S(E);return T(P,x)}},3581:function(h){function g(s,c){var u=Math.floor(c),b=c-u,f=0<=u&&u<s.shape[0],w=0<=u+1&&u+1<s.shape[0],v=f?+s.get(u):0,o=w?+s.get(u+1):0;return(1-b)*v+b*o}function t(s,c,u){var b=Math.floor(c),f=c-b,w=0<=b&&b<s.shape[0],v=0<=b+1&&b+1<s.shape[0],o=Math.floor(u),d=u-o,S=0<=o&&o<s.shape[1],M=0<=o+1&&o+1<s.shape[1],P=w&&S?s.get(b,o):0,x=w&&M?s.get(b,o+1):0,E=v&&S?s.get(b+1,o):0,T=v&&M?s.get(b+1,o+1):0;return(1-d)*((1-f)*P+f*E)+d*((1-f)*x+f*T)}function r(s,c,u,b){var f=Math.floor(c),w=c-f,v=0<=f&&f<s.shape[0],o=0<=f+1&&f+1<s.shape[0],d=Math.floor(u),S=u-d,M=0<=d&&d<s.shape[1],P=0<=d+1&&d+1<s.shape[1],x=Math.floor(b),E=b-x,T=0<=x&&x<s.shape[2],i=0<=x+1&&x+1<s.shape[2],R=v&&M&&T?s.get(f,d,x):0,A=v&&P&&T?s.get(f,d+1,x):0,k=o&&M&&T?s.get(f+1,d,x):0,_=o&&P&&T?s.get(f+1,d+1,x):0,H=v&&M&&i?s.get(f,d,x+1):0,z=v&&P&&i?s.get(f,d+1,x+1):0,N=o&&M&&i?s.get(f+1,d,x+1):0,O=o&&P&&i?s.get(f+1,d+1,x+1):0;return(1-E)*((1-S)*((1-w)*R+w*k)+S*((1-w)*A+w*_))+E*((1-S)*((1-w)*H+w*N)+S*((1-w)*z+w*O))}function l(s){var c=s.shape.length|0,u=new Array(c),b=new Array(c),f=new Array(c),w=new Array(c),v,o;for(v=0;v<c;++v)o=+arguments[v+1],u[v]=Math.floor(o),b[v]=o-u[v],f[v]=0<=u[v]&&u[v]<s.shape[v],w[v]=0<=u[v]+1&&u[v]+1<s.shape[v];var d=0,S,M,P;e:for(v=0;v<1<<c;++v){for(M=1,P=s.offset,S=0;S<c;++S)if(v&1<<S){if(!w[S])continue e;M*=b[S],P+=s.stride[S]*(u[S]+1)}else{if(!f[S])continue e;M*=1-b[S],P+=s.stride[S]*u[S]}d+=M*s.data[P]}return d}function a(s,c,u,b){switch(s.shape.length){case 0:return 0;case 1:return g(s,c);case 2:return t(s,c,u);case 3:return r(s,c,u,b);default:return l.apply(void 0,arguments)}}h.exports=a,h.exports.d1=g,h.exports.d2=t,h.exports.d3=r},7498:function(h,g){var t={"float64,2,1,0":function(){return function(f,w,v,o,d){var S=f[0],M=f[1],P=f[2],x=v[0],E=v[1],T=v[2];o|=0;var i=0,R=0,A=0,k=T,_=E-P*T,H=x-M*E;for(A=0;A<S;++A){for(R=0;R<M;++R){for(i=0;i<P;++i)w[o]/=d,o+=k;o+=_}o+=H}}},"uint8,2,0,1,float64,2,1,0":function(){return function(f,w,v,o,d,S,M,P){var x=f[0],E=f[1],T=f[2],i=v[0],R=v[1],A=v[2],k=S[0],_=S[1],H=S[2];o|=0,M|=0;for(var z=o,N=M,O=f[0]|0;O>0;){O<64?(x=O,O=0):(x=64,O-=64);for(var F=f[1]|0;F>0;){F<64?(E=F,F=0):(E=64,F-=64),o=z+O*i+F*R,M=N+O*k+F*_;var U=0,Z=0,q=0,J=A,te=i-T*A,fe=R-x*i,K=H,Y=k-T*H,W=_-x*k;for(q=0;q<E;++q){for(Z=0;Z<x;++Z){for(U=0;U<T;++U)w[o]=d[M]*P,o+=J,M+=K;o+=te,M+=Y}o+=fe,M+=W}}}}},"float32,1,0,float32,1,0":function(){return function(f,w,v,o,d,S,M){var P=f[0],x=f[1],E=v[0],T=v[1],i=S[0],R=S[1];o|=0,M|=0;var A=0,k=0,_=T,H=E-x*T,z=R,N=i-x*R;for(k=0;k<P;++k){for(A=0;A<x;++A)w[o]=d[M],o+=_,M+=z;o+=H,M+=N}}},"float32,1,0,float32,0,1":function(){return function(f,w,v,o,d,S,M){var P=f[0],x=f[1],E=v[0],T=v[1],i=S[0],R=S[1];o|=0,M|=0;for(var A=o,k=M,_=f[1]|0;_>0;){_<64?(x=_,_=0):(x=64,_-=64);for(var H=f[0]|0;H>0;){H<64?(P=H,H=0):(P=64,H-=64),o=A+_*T+H*E,M=k+_*R+H*i;var z=0,N=0,O=T,F=E-x*T,U=R,Z=i-x*R;for(N=0;N<P;++N){for(z=0;z<x;++z)w[o]=d[M],o+=O,M+=U;o+=F,M+=Z}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(f,w,v,o,d,S,M){var P=f[0],x=f[1],E=f[2],T=v[0],i=v[1],R=v[2],A=S[0],k=S[1],_=S[2];o|=0,M|=0;for(var H=o,z=M,N=f[2]|0;N>0;){N<64?(E=N,N=0):(E=64,N-=64);for(var O=f[0]|0;O>0;){O<64?(P=O,O=0):(P=64,O-=64);for(var F=f[1]|0;F>0;){F<64?(x=F,F=0):(x=64,F-=64),o=H+N*R+O*T+F*i,M=z+N*_+O*A+F*k;var U=0,Z=0,q=0,J=R,te=T-E*R,fe=i-P*T,K=_,Y=A-E*_,W=k-P*A;for(q=0;q<x;++q){for(Z=0;Z<P;++Z){for(U=0;U<E;++U)w[o]=d[M],o+=J,M+=K;o+=te,M+=Y}o+=fe,M+=W}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(f,w,v,o,d,S,M){var P=f[0],x=f[1],E=f[2],T=v[0],i=v[1],R=v[2],A=S[0],k=S[1],_=S[2];o|=0,M|=0;var H=0,z=0,N=0,O=R,F=T-E*R,U=i-P*T,Z=_,q=A-E*_,J=k-P*A;for(N=0;N<x;++N){for(z=0;z<P;++z){for(H=0;H<E;++H)w[o]=d[M],o+=O,M+=Z;o+=F,M+=q}o+=U,M+=J}}}};function r(b,f){var w=f.join(","),v=t[w];return v()}var l=r,a={mul:function(b){var f={};return function(v,o,d){var S=v.dtype,M=v.order,P=o.dtype,x=o.order,E=d.dtype,T=d.order,i=[S,M.join(),P,x.join(),E,T.join()].join(),R=f[i];return R||(f[i]=R=b([S,M,P,x,E,T])),R(v.shape.slice(0),v.data,v.stride,v.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},muls:function(b){var f={};return function(v,o,d){var S=v.dtype,M=v.order,P=o.dtype,x=o.order,E=[S,M.join(),P,x.join()].join(),T=f[E];return T||(f[E]=T=b([S,M,P,x])),T(v.shape.slice(0),v.data,v.stride,v.offset|0,o.data,o.stride,o.offset|0,d)}},mulseq:function(b){var f={};return function(v,o){var d=v.dtype,S=v.order,M=[d,S.join()].join(),P=f[M];return P||(f[M]=P=b([d,S])),P(v.shape.slice(0),v.data,v.stride,v.offset|0,o)}},div:function(b){var f={};return function(v,o,d){var S=v.dtype,M=v.order,P=o.dtype,x=o.order,E=d.dtype,T=d.order,i=[S,M.join(),P,x.join(),E,T.join()].join(),R=f[i];return R||(f[i]=R=b([S,M,P,x,E,T])),R(v.shape.slice(0),v.data,v.stride,v.offset|0,o.data,o.stride,o.offset|0,d.data,d.stride,d.offset|0)}},divs:function(b){var f={};return function(v,o,d){var S=v.dtype,M=v.order,P=o.dtype,x=o.order,E=[S,M.join(),P,x.join()].join(),T=f[E];return T||(f[E]=T=b([S,M,P,x])),T(v.shape.slice(0),v.data,v.stride,v.offset|0,o.data,o.stride,o.offset|0,d)}},divseq:function(b){var f={};return function(v,o){var d=v.dtype,S=v.order,M=[d,S.join()].join(),P=f[M];return P||(f[M]=P=b([d,S])),P(v.shape.slice(0),v.data,v.stride,v.offset|0,o)}},assign:function(b){var f={};return function(v,o){var d=v.dtype,S=v.order,M=o.dtype,P=o.order,x=[d,S.join(),M,P.join()].join(),E=f[x];return E||(f[x]=E=b([d,S,M,P])),E(v.shape.slice(0),v.data,v.stride,v.offset|0,o.data,o.stride,o.offset|0)}}};function s(b){var f=a[b.funcName];return f(l.bind(void 0,b))}function c(b){return s({funcName:b.funcName})}var u={mul:"*",div:"/"};(function(){for(var b in u)g[b]=c({funcName:b}),g[b+"s"]=c({funcName:b+"s"}),g[b+"seq"]=c({funcName:b+"seq"})})(),g.assign=c({funcName:"assign"})},7382:function(h,g,t){var r=t(5050),l=t(9262);h.exports=function(s,c){for(var u=[],b=s,f=1;Array.isArray(b);)u.push(b.length),f*=b.length,b=b[0];return u.length===0?r():(c||(c=r(new Float64Array(f),u)),l(c,s),c)}},9262:function(h){function g(){return function(c,u,b,f,w){var v=c[0],o=c[1],d=c[2],S=b[0],M=b[1],P=b[2],x=[0,0,0];f|=0;var E=0,T=0,i=0,R=P,A=M-d*P,k=S-o*M;for(i=0;i<v;++i){for(T=0;T<o;++T){for(E=0;E<d;++E){{var _=w,H;for(H=0;H<x.length-1;++H)_=_[x[H]];u[f]=_[x[x.length-1]]}f+=R,++x[2]}f+=A,x[2]-=d,++x[1]}f+=k,x[1]-=o,++x[0]}}}function t(){return g()}var r=t;function l(c){var u={};return function(f,w){var v=f.dtype,o=f.order,d=[v,o.join()].join(),S=u[d];return S||(u[d]=S=c([v,o])),S(f.shape.slice(0),f.data,f.stride,f.offset|0,w)}}function a(c){return l(r.bind(void 0,c))}function s(c){return a({funcName:c.funcName})}h.exports=s({funcName:"convert"})},8139:function(h,g,t){var r=t(5306);function l(w){switch(w){case"uint32":return[r.mallocUint32,r.freeUint32];default:return null}}var a={"uint32,1,0":function(w,v){return function(d,S,M,P,x,E,T,i,R,A,k){var _,H,z,N=d*x+P,O,F=w(i),U,Z,q,J;for(_=d+1;_<=S;++_){for(H=_,N+=x,z=N,U=0,Z=N,O=0;O<i;++O)F[U++]=M[Z],Z+=R;e:for(;H-- >d;){U=0,Z=z-x;t:for(O=0;O<i;++O){if(q=M[Z],J=F[U],q<J)break e;if(q>J)break t;Z+=A,U+=k}for(U=z,Z=z-x,O=0;O<i;++O)M[U]=M[Z],U+=R,Z+=R;z-=x}for(U=z,Z=0,O=0;O<i;++O)M[U]=F[Z++],U+=R}v(F)}}};function s(w,v){var o=l(v),d=[v,w].join(","),S=a[d];return o?S(o[0],o[1]):S()}var c={"uint32,1,0":function(w,v,o){return function d(S,M,P,x,E,T,i,R,A,k,_){var H=(M-S+1)/6|0,z=S+H,N=M-H,O=S+M>>1,F=O-H,U=O+H,Z=z,q=F,J=O,te=U,fe=N,K=S+1,Y=M-1,W=!0,X,re,se,Q,ee,le,oe,he,xe,Ae=0,Se=0,Oe=0,Ve,Ee,Te,Le,Ge,He,ke,We,nt,qe,Qe,tt,vt,dt,gt,Mt,Rt=R,Wt=v(Rt),je=v(Rt);Ee=E*Z,Te=E*q,Mt=x;e:for(Ve=0;Ve<R;++Ve){if(oe=Ee+Mt,he=Te+Mt,Oe=P[oe]-P[he],Oe>0){re=Z,Z=q,q=re;break e}if(Oe<0)break e;Mt+=k}Ee=E*te,Te=E*fe,Mt=x;e:for(Ve=0;Ve<R;++Ve){if(oe=Ee+Mt,he=Te+Mt,Oe=P[oe]-P[he],Oe>0){re=te,te=fe,fe=re;break e}if(Oe<0)break e;Mt+=k}Ee=E*Z,Te=E*J,Mt=x;e:for(Ve=0;Ve<R;++Ve){if(oe=Ee+Mt,he=Te+Mt,Oe=P[oe]-P[he],Oe>0){re=Z,Z=J,J=re;break e}if(Oe<0)break e;Mt+=k}Ee=E*q,Te=E*J,Mt=x;e:for(Ve=0;Ve<R;++Ve){if(oe=Ee+Mt,he=Te+Mt,Oe=P[oe]-P[he],Oe>0){re=q,q=J,J=re;break e}if(Oe<0)break e;Mt+=k}Ee=E*Z,Te=E*te,Mt=x;e:for(Ve=0;Ve<R;++Ve){if(oe=Ee+Mt,he=Te+Mt,Oe=P[oe]-P[he],Oe>0){re=Z,Z=te,te=re;break e}if(Oe<0)break e;Mt+=k}Ee=E*J,Te=E*te,Mt=x;e:for(Ve=0;Ve<R;++Ve){if(oe=Ee+Mt,he=Te+Mt,Oe=P[oe]-P[he],Oe>0){re=J,J=te,te=re;break e}if(Oe<0)break e;Mt+=k}Ee=E*q,Te=E*fe,Mt=x;e:for(Ve=0;Ve<R;++Ve){if(oe=Ee+Mt,he=Te+Mt,Oe=P[oe]-P[he],Oe>0){re=q,q=fe,fe=re;break e}if(Oe<0)break e;Mt+=k}Ee=E*q,Te=E*J,Mt=x;e:for(Ve=0;Ve<R;++Ve){if(oe=Ee+Mt,he=Te+Mt,Oe=P[oe]-P[he],Oe>0){re=q,q=J,J=re;break e}if(Oe<0)break e;Mt+=k}Ee=E*te,Te=E*fe,Mt=x;e:for(Ve=0;Ve<R;++Ve){if(oe=Ee+Mt,he=Te+Mt,Oe=P[oe]-P[he],Oe>0){re=te,te=fe,fe=re;break e}if(Oe<0)break e;Mt+=k}for(Ee=E*Z,Te=E*q,Le=E*J,Ge=E*te,He=E*fe,ke=E*z,We=E*O,nt=E*N,gt=0,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,xe=Le+Mt,qe=Ge+Mt,Qe=He+Mt,tt=ke+Mt,vt=We+Mt,dt=nt+Mt,Wt[gt]=P[he],je[gt]=P[qe],W=W&&Wt[gt]===je[gt],se=P[oe],Q=P[xe],ee=P[Qe],P[tt]=se,P[vt]=Q,P[dt]=ee,++gt,Mt+=A;for(Ee=E*F,Te=E*S,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,P[oe]=P[he],Mt+=A;for(Ee=E*U,Te=E*M,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,P[oe]=P[he],Mt+=A;if(W)for(le=K;le<=Y;++le){oe=x+le*E,gt=0;e:for(Ve=0;Ve<R;++Ve){if(Oe=P[oe]-Wt[gt],Oe!==0)break e;gt+=_,oe+=k}if(Oe!==0)if(Oe<0){if(le!==K)for(Ee=E*le,Te=E*K,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,X=P[oe],P[oe]=P[he],P[he]=X,Mt+=A;++K}else for(;;){oe=x+Y*E,gt=0;e:for(Ve=0;Ve<R;++Ve){if(Oe=P[oe]-Wt[gt],Oe!==0)break e;gt+=_,oe+=k}if(Oe>0)Y--;else if(Oe<0){for(Ee=E*le,Te=E*K,Le=E*Y,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,xe=Le+Mt,X=P[oe],P[oe]=P[he],P[he]=P[xe],P[xe]=X,Mt+=A;++K,--Y;break}else{for(Ee=E*le,Te=E*Y,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,X=P[oe],P[oe]=P[he],P[he]=X,Mt+=A;--Y;break}}}else for(le=K;le<=Y;++le){oe=x+le*E,gt=0;e:for(Ve=0;Ve<R;++Ve){if(Ae=P[oe]-Wt[gt],Ae!==0)break e;gt+=_,oe+=k}if(Ae<0){if(le!==K)for(Ee=E*le,Te=E*K,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,X=P[oe],P[oe]=P[he],P[he]=X,Mt+=A;++K}else{oe=x+le*E,gt=0;e:for(Ve=0;Ve<R;++Ve){if(Se=P[oe]-je[gt],Se!==0)break e;gt+=_,oe+=k}if(Se>0)for(;;){oe=x+Y*E,gt=0;e:for(Ve=0;Ve<R;++Ve){if(Oe=P[oe]-je[gt],Oe!==0)break e;gt+=_,oe+=k}if(Oe>0){if(--Y<le)break;continue}else{oe=x+Y*E,gt=0;e:for(Ve=0;Ve<R;++Ve){if(Oe=P[oe]-Wt[gt],Oe!==0)break e;gt+=_,oe+=k}if(Oe<0){for(Ee=E*le,Te=E*K,Le=E*Y,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,xe=Le+Mt,X=P[oe],P[oe]=P[he],P[he]=P[xe],P[xe]=X,Mt+=A;++K,--Y}else{for(Ee=E*le,Te=E*Y,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,X=P[oe],P[oe]=P[he],P[he]=X,Mt+=A;--Y}break}}}}for(Ee=E*S,Te=E*(K-1),gt=0,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,P[oe]=P[he],P[he]=Wt[gt],++gt,Mt+=A;for(Ee=E*M,Te=E*(Y+1),gt=0,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,P[oe]=P[he],P[he]=je[gt],++gt,Mt+=A;if(K-2-S<=32?w(S,K-2,P,x,E,T,i,R,A,k,_):d(S,K-2,P,x,E,T,i,R,A,k,_),M-(Y+2)<=32?w(Y+2,M,P,x,E,T,i,R,A,k,_):d(Y+2,M,P,x,E,T,i,R,A,k,_),W){o(Wt),o(je);return}if(K<z&&Y>N){e:for(;;){for(oe=x+K*E,gt=0,Mt=x,Ve=0;Ve<R;++Ve){if(P[oe]!==Wt[gt])break e;++gt,oe+=A}++K}e:for(;;){for(oe=x+Y*E,gt=0,Mt=x,Ve=0;Ve<R;++Ve){if(P[oe]!==je[gt])break e;++gt,oe+=A}--Y}for(le=K;le<=Y;++le){oe=x+le*E,gt=0;e:for(Ve=0;Ve<R;++Ve){if(Ae=P[oe]-Wt[gt],Ae!==0)break e;gt+=_,oe+=k}if(Ae===0){if(le!==K)for(Ee=E*le,Te=E*K,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,X=P[oe],P[oe]=P[he],P[he]=X,Mt+=A;++K}else{oe=x+le*E,gt=0;e:for(Ve=0;Ve<R;++Ve){if(Se=P[oe]-je[gt],Se!==0)break e;gt+=_,oe+=k}if(Se===0)for(;;){oe=x+Y*E,gt=0;e:for(Ve=0;Ve<R;++Ve){if(Oe=P[oe]-je[gt],Oe!==0)break e;gt+=_,oe+=k}if(Oe===0){if(--Y<le)break;continue}else{oe=x+Y*E,gt=0;e:for(Ve=0;Ve<R;++Ve){if(Oe=P[oe]-Wt[gt],Oe!==0)break e;gt+=_,oe+=k}if(Oe<0){for(Ee=E*le,Te=E*K,Le=E*Y,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,xe=Le+Mt,X=P[oe],P[oe]=P[he],P[he]=P[xe],P[xe]=X,Mt+=A;++K,--Y}else{for(Ee=E*le,Te=E*Y,Mt=x,Ve=0;Ve<R;++Ve)oe=Ee+Mt,he=Te+Mt,X=P[oe],P[oe]=P[he],P[he]=X,Mt+=A;--Y}break}}}}}o(Wt),o(je),Y-K<=32?w(K,Y,P,x,E,T,i,R,A,k,_):d(K,Y,P,x,E,T,i,R,A,k,_)}}};function u(w,v,o){var d=l(v),S=[v,w].join(","),M=c[S];return w.length>1&&d?M(o,d[0],d[1]):M(o)}var b={"uint32,1,0":function(w,v){return function(o){var d=o.data,S=o.offset|0,M=o.shape,P=o.stride,x=P[0]|0,E=M[0]|0,T=P[1]|0,i=M[1]|0,R=T,A=T,k=1;E<=32?w(0,E-1,d,S,x,T,E,i,R,A,k):v(0,E-1,d,S,x,T,E,i,R,A,k)}}};function f(w,v){var o=[v,w].join(","),d=b[o],S=s(w,v),M=u(w,v,S);return d(S,M)}h.exports=f},8729:function(h,g,t){var r=t(8139),l={};function a(s){var c=s.order,u=s.dtype,b=[c,u],f=b.join(":"),w=l[f];return w||(l[f]=w=r(c,u)),w(s),s}h.exports=a},5050:function(h,g,t){var r=t(4780),l=typeof Float64Array<"u";function a(v,o){return v[0]-o[0]}function s(){var v=this.stride,o=new Array(v.length),d;for(d=0;d<o.length;++d)o[d]=[Math.abs(v[d]),d];o.sort(a);var S=new Array(o.length);for(d=0;d<S.length;++d)S[d]=o[d][1];return S}var c={T:function(v){function o(S){this.data=S}var d=o.prototype;return d.dtype=v,d.index=function(){return-1},d.size=0,d.dimension=-1,d.shape=d.stride=d.order=[],d.lo=d.hi=d.transpose=d.step=function(){return new o(this.data)},d.get=d.set=function(){},d.pick=function(){return null},function(M){return new o(M)}},0:function(v,o){function d(M,P){this.data=M,this.offset=P}var S=d.prototype;return S.dtype=v,S.index=function(){return this.offset},S.dimension=0,S.size=1,S.shape=S.stride=S.order=[],S.lo=S.hi=S.transpose=S.step=function(){return new d(this.data,this.offset)},S.pick=function(){return o(this.data)},S.valueOf=S.get=function(){return v==="generic"?this.data.get(this.offset):this.data[this.offset]},S.set=function(P){return v==="generic"?this.data.set(this.offset,P):this.data[this.offset]=P},function(P,x,E,T){return new d(P,T)}},1:function(v,o,d){function S(P,x,E,T){this.data=P,this.shape=[x],this.stride=[E],this.offset=T|0}var M=S.prototype;return M.dtype=v,M.dimension=1,Object.defineProperty(M,"size",{get:function(){return this.shape[0]}}),M.order=[0],M.set=function(x,E){return v==="generic"?this.data.set(this.offset+this.stride[0]*x,E):this.data[this.offset+this.stride[0]*x]=E},M.get=function(x){return v==="generic"?this.data.get(this.offset+this.stride[0]*x):this.data[this.offset+this.stride[0]*x]},M.index=function(x){return this.offset+this.stride[0]*x},M.hi=function(x){return new S(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,this.stride[0],this.offset)},M.lo=function(x){var E=this.offset,T=0,i=this.shape[0],R=this.stride[0];return typeof x=="number"&&x>=0&&(T=x|0,E+=R*T,i-=T),new S(this.data,i,R,E)},M.step=function(x){var E=this.shape[0],T=this.stride[0],i=this.offset,R=0,A=Math.ceil;return typeof x=="number"&&(R=x|0,R<0?(i+=T*(E-1),E=A(-E/R)):E=A(E/R),T*=R),new S(this.data,E,T,i)},M.transpose=function(x){x=x===void 0?0:x|0;var E=this.shape,T=this.stride;return new S(this.data,E[x],T[x],this.offset)},M.pick=function(x){var E=[],T=[],i=this.offset;typeof x=="number"&&x>=0?i=i+this.stride[0]*x|0:(E.push(this.shape[0]),T.push(this.stride[0]));var R=o[E.length+1];return R(this.data,E,T,i)},function(x,E,T,i){return new S(x,E[0],T[0],i)}},2:function(v,o,d){function S(P,x,E,T,i,R){this.data=P,this.shape=[x,E],this.stride=[T,i],this.offset=R|0}var M=S.prototype;return M.dtype=v,M.dimension=2,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(M,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),M.set=function(x,E,T){return v==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E,T):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]=T},M.get=function(x,E){return v==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E):this.data[this.offset+this.stride[0]*x+this.stride[1]*E]},M.index=function(x,E){return this.offset+this.stride[0]*x+this.stride[1]*E},M.hi=function(x,E){return new S(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,this.stride[0],this.stride[1],this.offset)},M.lo=function(x,E){var T=this.offset,i=0,R=this.shape[0],A=this.shape[1],k=this.stride[0],_=this.stride[1];return typeof x=="number"&&x>=0&&(i=x|0,T+=k*i,R-=i),typeof E=="number"&&E>=0&&(i=E|0,T+=_*i,A-=i),new S(this.data,R,A,k,_,T)},M.step=function(x,E){var T=this.shape[0],i=this.shape[1],R=this.stride[0],A=this.stride[1],k=this.offset,_=0,H=Math.ceil;return typeof x=="number"&&(_=x|0,_<0?(k+=R*(T-1),T=H(-T/_)):T=H(T/_),R*=_),typeof E=="number"&&(_=E|0,_<0?(k+=A*(i-1),i=H(-i/_)):i=H(i/_),A*=_),new S(this.data,T,i,R,A,k)},M.transpose=function(x,E){x=x===void 0?0:x|0,E=E===void 0?1:E|0;var T=this.shape,i=this.stride;return new S(this.data,T[x],T[E],i[x],i[E],this.offset)},M.pick=function(x,E){var T=[],i=[],R=this.offset;typeof x=="number"&&x>=0?R=R+this.stride[0]*x|0:(T.push(this.shape[0]),i.push(this.stride[0])),typeof E=="number"&&E>=0?R=R+this.stride[1]*E|0:(T.push(this.shape[1]),i.push(this.stride[1]));var A=o[T.length+1];return A(this.data,T,i,R)},function(x,E,T,i){return new S(x,E[0],E[1],T[0],T[1],i)}},3:function(v,o,d){function S(P,x,E,T,i,R,A,k){this.data=P,this.shape=[x,E,T],this.stride=[i,R,A],this.offset=k|0}var M=S.prototype;return M.dtype=v,M.dimension=3,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(M,"order",{get:function(){var x=Math.abs(this.stride[0]),E=Math.abs(this.stride[1]),T=Math.abs(this.stride[2]);return x>E?E>T?[2,1,0]:x>T?[1,2,0]:[1,0,2]:x>T?[2,0,1]:T>E?[0,1,2]:[0,2,1]}}),M.set=function(x,E,T,i){return v==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T,i):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T]=i},M.get=function(x,E,T){return v==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T]},M.index=function(x,E,T){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T},M.hi=function(x,E,T){return new S(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof T!="number"||T<0?this.shape[2]:T|0,this.stride[0],this.stride[1],this.stride[2],this.offset)},M.lo=function(x,E,T){var i=this.offset,R=0,A=this.shape[0],k=this.shape[1],_=this.shape[2],H=this.stride[0],z=this.stride[1],N=this.stride[2];return typeof x=="number"&&x>=0&&(R=x|0,i+=H*R,A-=R),typeof E=="number"&&E>=0&&(R=E|0,i+=z*R,k-=R),typeof T=="number"&&T>=0&&(R=T|0,i+=N*R,_-=R),new S(this.data,A,k,_,H,z,N,i)},M.step=function(x,E,T){var i=this.shape[0],R=this.shape[1],A=this.shape[2],k=this.stride[0],_=this.stride[1],H=this.stride[2],z=this.offset,N=0,O=Math.ceil;return typeof x=="number"&&(N=x|0,N<0?(z+=k*(i-1),i=O(-i/N)):i=O(i/N),k*=N),typeof E=="number"&&(N=E|0,N<0?(z+=_*(R-1),R=O(-R/N)):R=O(R/N),_*=N),typeof T=="number"&&(N=T|0,N<0?(z+=H*(A-1),A=O(-A/N)):A=O(A/N),H*=N),new S(this.data,i,R,A,k,_,H,z)},M.transpose=function(x,E,T){x=x===void 0?0:x|0,E=E===void 0?1:E|0,T=T===void 0?2:T|0;var i=this.shape,R=this.stride;return new S(this.data,i[x],i[E],i[T],R[x],R[E],R[T],this.offset)},M.pick=function(x,E,T){var i=[],R=[],A=this.offset;typeof x=="number"&&x>=0?A=A+this.stride[0]*x|0:(i.push(this.shape[0]),R.push(this.stride[0])),typeof E=="number"&&E>=0?A=A+this.stride[1]*E|0:(i.push(this.shape[1]),R.push(this.stride[1])),typeof T=="number"&&T>=0?A=A+this.stride[2]*T|0:(i.push(this.shape[2]),R.push(this.stride[2]));var k=o[i.length+1];return k(this.data,i,R,A)},function(x,E,T,i){return new S(x,E[0],E[1],E[2],T[0],T[1],T[2],i)}},4:function(v,o,d){function S(P,x,E,T,i,R,A,k,_,H){this.data=P,this.shape=[x,E,T,i],this.stride=[R,A,k,_],this.offset=H|0}var M=S.prototype;return M.dtype=v,M.dimension=4,Object.defineProperty(M,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(M,"order",{get:d}),M.set=function(x,E,T,i,R){return v==="generic"?this.data.set(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T+this.stride[3]*i,R):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T+this.stride[3]*i]=R},M.get=function(x,E,T,i){return v==="generic"?this.data.get(this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T+this.stride[3]*i):this.data[this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T+this.stride[3]*i]},M.index=function(x,E,T,i){return this.offset+this.stride[0]*x+this.stride[1]*E+this.stride[2]*T+this.stride[3]*i},M.hi=function(x,E,T,i){return new S(this.data,typeof x!="number"||x<0?this.shape[0]:x|0,typeof E!="number"||E<0?this.shape[1]:E|0,typeof T!="number"||T<0?this.shape[2]:T|0,typeof i!="number"||i<0?this.shape[3]:i|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},M.lo=function(x,E,T,i){var R=this.offset,A=0,k=this.shape[0],_=this.shape[1],H=this.shape[2],z=this.shape[3],N=this.stride[0],O=this.stride[1],F=this.stride[2],U=this.stride[3];return typeof x=="number"&&x>=0&&(A=x|0,R+=N*A,k-=A),typeof E=="number"&&E>=0&&(A=E|0,R+=O*A,_-=A),typeof T=="number"&&T>=0&&(A=T|0,R+=F*A,H-=A),typeof i=="number"&&i>=0&&(A=i|0,R+=U*A,z-=A),new S(this.data,k,_,H,z,N,O,F,U,R)},M.step=function(x,E,T,i){var R=this.shape[0],A=this.shape[1],k=this.shape[2],_=this.shape[3],H=this.stride[0],z=this.stride[1],N=this.stride[2],O=this.stride[3],F=this.offset,U=0,Z=Math.ceil;return typeof x=="number"&&(U=x|0,U<0?(F+=H*(R-1),R=Z(-R/U)):R=Z(R/U),H*=U),typeof E=="number"&&(U=E|0,U<0?(F+=z*(A-1),A=Z(-A/U)):A=Z(A/U),z*=U),typeof T=="number"&&(U=T|0,U<0?(F+=N*(k-1),k=Z(-k/U)):k=Z(k/U),N*=U),typeof i=="number"&&(U=i|0,U<0?(F+=O*(_-1),_=Z(-_/U)):_=Z(_/U),O*=U),new S(this.data,R,A,k,_,H,z,N,O,F)},M.transpose=function(x,E,T,i){x=x===void 0?0:x|0,E=E===void 0?1:E|0,T=T===void 0?2:T|0,i=i===void 0?3:i|0;var R=this.shape,A=this.stride;return new S(this.data,R[x],R[E],R[T],R[i],A[x],A[E],A[T],A[i],this.offset)},M.pick=function(x,E,T,i){var R=[],A=[],k=this.offset;typeof x=="number"&&x>=0?k=k+this.stride[0]*x|0:(R.push(this.shape[0]),A.push(this.stride[0])),typeof E=="number"&&E>=0?k=k+this.stride[1]*E|0:(R.push(this.shape[1]),A.push(this.stride[1])),typeof T=="number"&&T>=0?k=k+this.stride[2]*T|0:(R.push(this.shape[2]),A.push(this.stride[2])),typeof i=="number"&&i>=0?k=k+this.stride[3]*i|0:(R.push(this.shape[3]),A.push(this.stride[3]));var _=o[R.length+1];return _(this.data,R,A,k)},function(x,E,T,i){return new S(x,E[0],E[1],E[2],E[3],T[0],T[1],T[2],T[3],i)}},5:function(o,d,S){function M(x,E,T,i,R,A,k,_,H,z,N,O){this.data=x,this.shape=[E,T,i,R,A],this.stride=[k,_,H,z,N],this.offset=O|0}var P=M.prototype;return P.dtype=o,P.dimension=5,Object.defineProperty(P,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(P,"order",{get:S}),P.set=function(E,T,i,R,A,k){return o==="generic"?this.data.set(this.offset+this.stride[0]*E+this.stride[1]*T+this.stride[2]*i+this.stride[3]*R+this.stride[4]*A,k):this.data[this.offset+this.stride[0]*E+this.stride[1]*T+this.stride[2]*i+this.stride[3]*R+this.stride[4]*A]=k},P.get=function(E,T,i,R,A){return o==="generic"?this.data.get(this.offset+this.stride[0]*E+this.stride[1]*T+this.stride[2]*i+this.stride[3]*R+this.stride[4]*A):this.data[this.offset+this.stride[0]*E+this.stride[1]*T+this.stride[2]*i+this.stride[3]*R+this.stride[4]*A]},P.index=function(E,T,i,R,A){return this.offset+this.stride[0]*E+this.stride[1]*T+this.stride[2]*i+this.stride[3]*R+this.stride[4]*A},P.hi=function(E,T,i,R,A){return new M(this.data,typeof E!="number"||E<0?this.shape[0]:E|0,typeof T!="number"||T<0?this.shape[1]:T|0,typeof i!="number"||i<0?this.shape[2]:i|0,typeof R!="number"||R<0?this.shape[3]:R|0,typeof A!="number"||A<0?this.shape[4]:A|0,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},P.lo=function(E,T,i,R,A){var k=this.offset,_=0,H=this.shape[0],z=this.shape[1],N=this.shape[2],O=this.shape[3],F=this.shape[4],U=this.stride[0],Z=this.stride[1],q=this.stride[2],J=this.stride[3],te=this.stride[4];return typeof E=="number"&&E>=0&&(_=E|0,k+=U*_,H-=_),typeof T=="number"&&T>=0&&(_=T|0,k+=Z*_,z-=_),typeof i=="number"&&i>=0&&(_=i|0,k+=q*_,N-=_),typeof R=="number"&&R>=0&&(_=R|0,k+=J*_,O-=_),typeof A=="number"&&A>=0&&(_=A|0,k+=te*_,F-=_),new M(this.data,H,z,N,O,F,U,Z,q,J,te,k)},P.step=function(E,T,i,R,A){var k=this.shape[0],_=this.shape[1],H=this.shape[2],z=this.shape[3],N=this.shape[4],O=this.stride[0],F=this.stride[1],U=this.stride[2],Z=this.stride[3],q=this.stride[4],J=this.offset,te=0,fe=Math.ceil;return typeof E=="number"&&(te=E|0,te<0?(J+=O*(k-1),k=fe(-k/te)):k=fe(k/te),O*=te),typeof T=="number"&&(te=T|0,te<0?(J+=F*(_-1),_=fe(-_/te)):_=fe(_/te),F*=te),typeof i=="number"&&(te=i|0,te<0?(J+=U*(H-1),H=fe(-H/te)):H=fe(H/te),U*=te),typeof R=="number"&&(te=R|0,te<0?(J+=Z*(z-1),z=fe(-z/te)):z=fe(z/te),Z*=te),typeof A=="number"&&(te=A|0,te<0?(J+=q*(N-1),N=fe(-N/te)):N=fe(N/te),q*=te),new M(this.data,k,_,H,z,N,O,F,U,Z,q,J)},P.transpose=function(E,T,i,R,A){E=E===void 0?0:E|0,T=T===void 0?1:T|0,i=i===void 0?2:i|0,R=R===void 0?3:R|0,A=A===void 0?4:A|0;var k=this.shape,_=this.stride;return new M(this.data,k[E],k[T],k[i],k[R],k[A],_[E],_[T],_[i],_[R],_[A],this.offset)},P.pick=function(E,T,i,R,A){var k=[],_=[],H=this.offset;typeof E=="number"&&E>=0?H=H+this.stride[0]*E|0:(k.push(this.shape[0]),_.push(this.stride[0])),typeof T=="number"&&T>=0?H=H+this.stride[1]*T|0:(k.push(this.shape[1]),_.push(this.stride[1])),typeof i=="number"&&i>=0?H=H+this.stride[2]*i|0:(k.push(this.shape[2]),_.push(this.stride[2])),typeof R=="number"&&R>=0?H=H+this.stride[3]*R|0:(k.push(this.shape[3]),_.push(this.stride[3])),typeof A=="number"&&A>=0?H=H+this.stride[4]*A|0:(k.push(this.shape[4]),_.push(this.stride[4]));var z=d[k.length+1];return z(this.data,k,_,H)},function(E,T,i,R){return new M(E,T[0],T[1],T[2],T[3],T[4],i[0],i[1],i[2],i[3],i[4],R)}}};function u(v,o){var d=o===-1?"T":String(o),S=c[d];return o===-1?S(v):o===0?S(v,f[v][0]):S(v,f[v],s)}function b(v){if(r(v))return"buffer";if(l)switch(Object.prototype.toString.call(v)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(v)?"array":"generic"}var f={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};function w(v,o,d,S){if(v===void 0){var i=f.array[0];return i([])}else typeof v=="number"&&(v=[v]);o===void 0&&(o=[v.length]);var M=o.length;if(d===void 0){d=new Array(M);for(var P=M-1,x=1;P>=0;--P)d[P]=x,x*=o[P]}if(S===void 0){S=0;for(var P=0;P<M;++P)d[P]<0&&(S-=(o[P]-1)*d[P])}for(var E=b(v),T=f[E];T.length<=M+1;)T.push(u(E,T.length-1));var i=T[M+1];return i(v,o,d,S)}h.exports=w},8551:function(h,g,t){var r=t(8362),l=Math.pow(2,-1074),a=-1>>>0;h.exports=s;function s(c,u){if(isNaN(c)||isNaN(u))return NaN;if(c===u)return c;if(c===0)return u<0?-l:l;var b=r.hi(c),f=r.lo(c);return u>c==c>0?f===a?(b+=1,f=0):f+=1:f===0?(f=a,b-=1):f-=1,r.pack(f,b)}},115:function(h,g){var t=1e-6,r=1e-6;g.vertexNormals=function(l,a,s){for(var c=a.length,u=new Array(c),b=s===void 0?t:s,f=0;f<c;++f)u[f]=[0,0,0];for(var f=0;f<l.length;++f)for(var w=l[f],v=0,o=w[w.length-1],d=w[0],S=0;S<w.length;++S){v=o,o=d,d=w[(S+1)%w.length];for(var M=a[v],P=a[o],x=a[d],E=new Array(3),T=0,i=new Array(3),R=0,A=0;A<3;++A)E[A]=M[A]-P[A],T+=E[A]*E[A],i[A]=x[A]-P[A],R+=i[A]*i[A];if(T*R>b)for(var k=u[o],_=1/Math.sqrt(T*R),A=0;A<3;++A){var H=(A+1)%3,z=(A+2)%3;k[A]+=_*(i[H]*E[z]-i[z]*E[H])}}for(var f=0;f<c;++f){for(var k=u[f],N=0,A=0;A<3;++A)N+=k[A]*k[A];if(N>b)for(var _=1/Math.sqrt(N),A=0;A<3;++A)k[A]*=_;else for(var A=0;A<3;++A)k[A]=0}return u},g.faceNormals=function(l,a,s){for(var c=l.length,u=new Array(c),b=s===void 0?r:s,f=0;f<c;++f){for(var w=l[f],v=new Array(3),o=0;o<3;++o)v[o]=a[w[o]];for(var d=new Array(3),S=new Array(3),o=0;o<3;++o)d[o]=v[1][o]-v[0][o],S[o]=v[2][o]-v[0][o];for(var M=new Array(3),P=0,o=0;o<3;++o){var x=(o+1)%3,E=(o+2)%3;M[o]=d[x]*S[E]-d[E]*S[x],P+=M[o]*M[o]}P>b?P=1/Math.sqrt(P):P=0;for(var o=0;o<3;++o)M[o]*=P;u[f]=M}return u}},567:function(h){h.exports=g;function g(t,r,l,a,s,c,u,b,f,w){var v=r+c+w;if(o>0){var o=Math.sqrt(v+1);t[0]=.5*(u-f)/o,t[1]=.5*(b-a)/o,t[2]=.5*(l-c)/o,t[3]=.5*o}else{var d=Math.max(r,c,w),o=Math.sqrt(2*d-v+1);r>=d?(t[0]=.5*o,t[1]=.5*(s+l)/o,t[2]=.5*(b+a)/o,t[3]=.5*(u-f)/o):c>=d?(t[0]=.5*(l+s)/o,t[1]=.5*o,t[2]=.5*(f+u)/o,t[3]=.5*(b-a)/o):(t[0]=.5*(a+b)/o,t[1]=.5*(u+f)/o,t[2]=.5*o,t[3]=.5*(l-s)/o)}return t}},7774:function(h,g,t){h.exports=o;var r=t(8444),l=t(3012),a=t(5950),s=t(7437),c=t(567);function u(d,S,M){return Math.sqrt(Math.pow(d,2)+Math.pow(S,2)+Math.pow(M,2))}function b(d,S,M,P){return Math.sqrt(Math.pow(d,2)+Math.pow(S,2)+Math.pow(M,2)+Math.pow(P,2))}function f(d,S){var M=S[0],P=S[1],x=S[2],E=S[3],T=b(M,P,x,E);T>1e-6?(d[0]=M/T,d[1]=P/T,d[2]=x/T,d[3]=E/T):(d[0]=d[1]=d[2]=0,d[3]=1)}function w(d,S,M){this.radius=r([M]),this.center=r(S),this.rotation=r(d),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var v=w.prototype;v.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},v.recalcMatrix=function(d){this.radius.curve(d),this.center.curve(d),this.rotation.curve(d);var S=this.computedRotation;f(S,S);var M=this.computedMatrix;a(M,S);var P=this.computedCenter,x=this.computedEye,E=this.computedUp,T=Math.exp(this.computedRadius[0]);x[0]=P[0]+T*M[2],x[1]=P[1]+T*M[6],x[2]=P[2]+T*M[10],E[0]=M[1],E[1]=M[5],E[2]=M[9];for(var i=0;i<3;++i){for(var R=0,A=0;A<3;++A)R+=M[i+4*A]*x[A];M[12+i]=-R}},v.getMatrix=function(d,S){this.recalcMatrix(d);var M=this.computedMatrix;if(S){for(var P=0;P<16;++P)S[P]=M[P];return S}return M},v.idle=function(d){this.center.idle(d),this.radius.idle(d),this.rotation.idle(d)},v.flush=function(d){this.center.flush(d),this.radius.flush(d),this.rotation.flush(d)},v.pan=function(d,S,M,P){S=S||0,M=M||0,P=P||0,this.recalcMatrix(d);var x=this.computedMatrix,E=x[1],T=x[5],i=x[9],R=u(E,T,i);E/=R,T/=R,i/=R;var A=x[0],k=x[4],_=x[8],H=A*E+k*T+_*i;A-=E*H,k-=T*H,_-=i*H;var z=u(A,k,_);A/=z,k/=z,_/=z,x[2],x[6],x[10];var N=A*S+E*M,O=k*S+T*M,F=_*S+i*M;this.center.move(d,N,O,F);var U=Math.exp(this.computedRadius[0]);U=Math.max(1e-4,U+P),this.radius.set(d,Math.log(U))},v.rotate=function(d,S,M,P){this.recalcMatrix(d),S=S||0,M=M||0;var x=this.computedMatrix,E=x[0],T=x[4],i=x[8],R=x[1],A=x[5],k=x[9],_=x[2],H=x[6],z=x[10],N=S*E+M*R,O=S*T+M*A,F=S*i+M*k,U=-(H*F-z*O),Z=-(z*N-_*F),q=-(_*O-H*N),J=Math.sqrt(Math.max(0,1-Math.pow(U,2)-Math.pow(Z,2)-Math.pow(q,2))),te=b(U,Z,q,J);te>1e-6?(U/=te,Z/=te,q/=te,J/=te):(U=Z=q=0,J=1);var fe=this.computedRotation,K=fe[0],Y=fe[1],W=fe[2],X=fe[3],re=K*J+X*U+Y*q-W*Z,se=Y*J+X*Z+W*U-K*q,Q=W*J+X*q+K*Z-Y*U,ee=X*J-K*U-Y*Z-W*q;if(P){U=_,Z=H,q=z;var le=Math.sin(P)/u(U,Z,q);U*=le,Z*=le,q*=le,J=Math.cos(S),re=re*J+ee*U+se*q-Q*Z,se=se*J+ee*Z+Q*U-re*q,Q=Q*J+ee*q+re*Z-se*U,ee=ee*J-re*U-se*Z-Q*q}var oe=b(re,se,Q,ee);oe>1e-6?(re/=oe,se/=oe,Q/=oe,ee/=oe):(re=se=Q=0,ee=1),this.rotation.set(d,re,se,Q,ee)},v.lookAt=function(d,S,M,P){this.recalcMatrix(d),M=M||this.computedCenter,S=S||this.computedEye,P=P||this.computedUp;var x=this.computedMatrix;l(x,S,M,P);var E=this.computedRotation;c(E,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),f(E,E),this.rotation.set(d,E[0],E[1],E[2],E[3]);for(var T=0,i=0;i<3;++i)T+=Math.pow(M[i]-S[i],2);this.radius.set(d,.5*Math.log(Math.max(T,1e-6))),this.center.set(d,M[0],M[1],M[2])},v.translate=function(d,S,M,P){this.center.move(d,S||0,M||0,P||0)},v.setMatrix=function(d,S){var M=this.computedRotation;c(M,S[0],S[1],S[2],S[4],S[5],S[6],S[8],S[9],S[10]),f(M,M),this.rotation.set(d,M[0],M[1],M[2],M[3]);var P=this.computedMatrix;s(P,S);var x=P[15];if(Math.abs(x)>1e-6){var E=P[12]/x,T=P[13]/x,i=P[14]/x;this.recalcMatrix(d);var R=Math.exp(this.computedRadius[0]);this.center.set(d,E-P[2]*R,T-P[6]*R,i-P[10]*R),this.radius.idle(d)}else this.center.idle(d),this.radius.idle(d)},v.setDistance=function(d,S){S>0&&this.radius.set(d,Math.log(S))},v.setDistanceLimits=function(d,S){d>0?d=Math.log(d):d=-1/0,S>0?S=Math.log(S):S=1/0,S=Math.max(S,d),this.radius.bounds[0][0]=d,this.radius.bounds[1][0]=S},v.getDistanceLimits=function(d){var S=this.radius.bounds;return d?(d[0]=Math.exp(S[0][0]),d[1]=Math.exp(S[1][0]),d):[Math.exp(S[0][0]),Math.exp(S[1][0])]},v.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},v.fromJSON=function(d){var S=this.lastT(),M=d.center;M&&this.center.set(S,M[0],M[1],M[2]);var P=d.rotation;P&&this.rotation.set(S,P[0],P[1],P[2],P[3]);var x=d.distance;x&&x>0&&this.radius.set(S,Math.log(x)),this.setDistanceLimits(d.zoomMin,d.zoomMax)};function o(d){d=d||{};var S=d.center||[0,0,0],M=d.rotation||[0,0,0,1],P=d.radius||1;S=[].slice.call(S,0,3),M=[].slice.call(M,0,4),f(M,M);var x=new w(M,S,Math.log(P));return x.setDistanceLimits(d.zoomMin,d.zoomMax),("eye"in d||"up"in d)&&x.lookAt(0,d.eye,d.center,d.up),x}},4930:function(h,g,t){/*!
* pad-left <https://github.com/jonschlinkert/pad-left>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT license.
*/var r=t(6184);h.exports=function(a,s,c){return c=typeof c<"u"?c+"":" ",r(c,s)+a}},4405:function(h){h.exports=function(t,r){r||(r=[0,""]),t=String(t);var l=parseFloat(t,10);return r[0]=l,r[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",r}},4166:function(h,g,t){h.exports=l;var r=t(9398);function l(a,s){for(var c=s.length|0,u=a.length,b=[new Array(c),new Array(c)],f=0;f<c;++f)b[0][f]=[],b[1][f]=[];for(var f=0;f<u;++f){var w=a[f];b[0][w[0]].push(w),b[1][w[1]].push(w)}for(var v=[],f=0;f<c;++f)b[0][f].length+b[1][f].length===0&&v.push([f]);function o(T,i){var R=b[i][T[i]];R.splice(R.indexOf(T),1)}function d(T,i,R){for(var A,k,_,H=0;H<2;++H)if(b[H][i].length>0){A=b[H][i][0],_=H;break}k=A[_^1];for(var z=0;z<2;++z)for(var N=b[z][i],O=0;O<N.length;++O){var F=N[O],U=F[z^1],Z=r(s[T],s[i],s[k],s[U]);Z>0&&(A=F,k=U,_=z)}return R||A&&o(A,_),k}function S(T,i){var R=b[i][T][0],A=[T];o(R,i);for(var k=R[i^1];;){for(;k!==T;)A.push(k),k=d(A[A.length-2],k,!1);if(b[0][T].length+b[1][T].length===0)break;var _=A[A.length-1],H=T,z=A[1],N=d(_,H,!0);if(r(s[_],s[H],s[z],s[N])<0)break;A.push(T),k=d(_,H)}return A}function M(T,i){return i[1]===i[i.length-1]}for(var f=0;f<c;++f)for(var P=0;P<2;++P){for(var x=[];b[P][f].length>0;){b[0][f].length;var E=S(f,P);M(x,E)?x.push.apply(x,E):(x.length>0&&v.push(x),x=E)}x.length>0&&v.push(x)}return v}},3959:function(h,g,t){h.exports=l;var r=t(8348);function l(a,s){for(var c=r(a,s.length),u=new Array(s.length),b=new Array(s.length),f=[],w=0;w<s.length;++w){var v=c[w].length;b[w]=v,u[w]=!0,v<=1&&f.push(w)}for(;f.length>0;){var o=f.pop();u[o]=!1;for(var d=c[o],w=0;w<d.length;++w){var S=d[w];--b[S]===0&&f.push(S)}}for(var M=new Array(s.length),P=[],w=0;w<s.length;++w)if(u[w]){var o=P.length;M[w]=o,P.push(s[w])}else M[w]=-1;for(var x=[],w=0;w<a.length;++w){var E=a[w];u[E[0]]&&u[E[1]]&&x.push([M[E[0]],M[E[1]]])}return[x,P]}},8040:function(h,g,t){h.exports=v;var r=t(8348),l=t(4166),a=t(211),s=t(9660),c=t(9662),u=t(1215),b=t(3959);function f(o,d){for(var S=new Array(o),M=0;M<o;++M)S[M]=d;return S}function w(o){for(var d=new Array(o),S=0;S<o;++S)d[S]=[];return d}function v(o,d){var ee=b(o,d);o=ee[0],d=ee[1];var S=d.length;o.length;for(var M=r(o,d.length),P=0;P<S;++P)if(M[P].length%2===1)throw new Error("planar-graph-to-polyline: graph must be manifold");var x=l(o,d);function E(Oe){for(var Ve=Oe.length,Ee=[0],Te=0;Te<Ve;++Te){var Le=d[Oe[Te]],Ge=d[Oe[(Te+1)%Ve]],He=s(-Le[0],Le[1]),ke=s(-Le[0],Ge[1]),We=s(Ge[0],Le[1]),nt=s(Ge[0],Ge[1]);Ee=c(Ee,c(c(He,ke),c(We,nt)))}return Ee[Ee.length-1]>0}x=x.filter(E);for(var T=x.length,i=new Array(T),R=new Array(T),P=0;P<T;++P){i[P]=P;var A=new Array(T),k=x[P].map(function(Ve){return d[Ve]}),_=a([k]),H=0;e:for(var z=0;z<T;++z)if(A[z]=0,P!==z){for(var N=x[z],O=N.length,F=0;F<O;++F){var U=_(d[N[F]]);if(U!==0){U<0&&(A[z]=1,H+=1);continue e}}A[z]=1,H+=1}R[P]=[H,P,A]}R.sort(function(Oe,Ve){return Ve[0]-Oe[0]});for(var P=0;P<T;++P)for(var A=R[P],Z=A[1],q=A[2],z=0;z<T;++z)q[z]&&(i[z]=Z);for(var J=w(T),P=0;P<T;++P)J[P].push(i[P]),J[i[P]].push(P);for(var te={},fe=f(S,!1),P=0;P<T;++P)for(var N=x[P],O=N.length,z=0;z<O;++z){var K=N[z],Y=N[(z+1)%O],W=Math.min(K,Y)+":"+Math.max(K,Y);if(W in te){var X=te[W];J[X].push(P),J[P].push(X),fe[K]=fe[Y]=!0}else te[W]=P}function re(Oe){for(var Ve=Oe.length,Ee=0;Ee<Ve;++Ee)if(!fe[Oe[Ee]])return!1;return!0}for(var se=[],Q=f(T,-1),P=0;P<T;++P)i[P]===P&&!re(x[P])?(se.push(P),Q[P]=0):Q[P]=-1;for(var ee=[];se.length>0;){var le=se.pop(),oe=J[le];u(oe,function(Oe,Ve){return Oe-Ve});var he=oe.length,xe=Q[le],Ae;if(xe===0){var N=x[le];Ae=[N]}for(var P=0;P<he;++P){var Se=oe[P];if(!(Q[Se]>=0)&&(Q[Se]=xe^1,se.push(Se),xe===0)){var N=x[Se];re(N)||(N.reverse(),Ae.push(N))}}xe===0&&ee.push(Ae)}return ee}},211:function(h,g,t){h.exports=d;var r=t(417)[3],l=t(4385),a=t(9014),s=t(5070);function c(){return!0}function u(S){return function(M,P){var x=S[M];return x?!!x.queryPoint(P,c):!1}}function b(S){for(var M={},P=0;P<S.length;++P){var x=S[P],E=x[0][0],T=x[0][1],i=x[1][1],R=[Math.min(T,i),Math.max(T,i)];E in M?M[E].push(R):M[E]=[R]}for(var A={},k=Object.keys(M),P=0;P<k.length;++P){var _=M[k[P]];A[k[P]]=a(_)}return u(A)}function f(S,M){return function(P){var x=s.le(M,P[0]);if(x<0)return 1;var E=S[x];if(!E)if(x>0&&M[x]===P[0])E=S[x-1];else return 1;for(var T=1;E;){var i=E.key,R=r(P,i[0],i[1]);if(i[0][0]<i[1][0])if(R<0)E=E.left;else if(R>0)T=-1,E=E.right;else return 0;else if(R>0)E=E.left;else if(R<0)T=1,E=E.right;else return 0}return T}}function w(S){return 1}function v(S){return function(P){return S(P[0],P[1])?0:1}}function o(S,M){return function(x){return S(x[0],x[1])?0:M(x)}}function d(S){for(var M=S.length,P=[],x=[],E=0;E<M;++E)for(var T=S[E],i=T.length,R=i-1,A=0;A<i;R=A++){var k=T[R],_=T[A];k[0]===_[0]?x.push([k,_]):P.push([k,_])}if(P.length===0)return x.length===0?w:v(b(x));var H=l(P),z=f(H.slabs,H.coordinates);return x.length===0?z:o(b(x),z)}},7309:function(h){var g=new Float64Array(4),t=new Float64Array(4),r=new Float64Array(4);function l(a,s,c,u,b){g.length<u.length&&(g=new Float64Array(u.length),t=new Float64Array(u.length),r=new Float64Array(u.length));for(var f=0;f<u.length;++f)g[f]=a[f]-u[f],t[f]=s[f]-a[f],r[f]=c[f]-a[f];for(var w=0,v=0,o=0,d=0,S=0,M=0,f=0;f<u.length;++f){var P=t[f],x=r[f],E=g[f];w+=P*P,v+=P*x,o+=x*x,d+=E*P,S+=E*x,M+=E*E}var T=Math.abs(w*o-v*v),i=v*S-o*d,R=v*d-w*S,A;if(i+R<=T)if(i<0)R<0&&d<0?(R=0,-d>=w?(i=1,A=w+2*d+M):(i=-d/w,A=d*i+M)):(i=0,S>=0?(R=0,A=M):-S>=o?(R=1,A=o+2*S+M):(R=-S/o,A=S*R+M));else if(R<0)R=0,d>=0?(i=0,A=M):-d>=w?(i=1,A=w+2*d+M):(i=-d/w,A=d*i+M);else{var k=1/T;i*=k,R*=k,A=i*(w*i+v*R+2*d)+R*(v*i+o*R+2*S)+M}else{var _,H,z,N;i<0?(_=v+d,H=o+S,H>_?(z=H-_,N=w-2*v+o,z>=N?(i=1,R=0,A=w+2*d+M):(i=z/N,R=1-i,A=i*(w*i+v*R+2*d)+R*(v*i+o*R+2*S)+M)):(i=0,H<=0?(R=1,A=o+2*S+M):S>=0?(R=0,A=M):(R=-S/o,A=S*R+M))):R<0?(_=v+S,H=w+d,H>_?(z=H-_,N=w-2*v+o,z>=N?(R=1,i=0,A=o+2*S+M):(R=z/N,i=1-R,A=i*(w*i+v*R+2*d)+R*(v*i+o*R+2*S)+M)):(R=0,H<=0?(i=1,A=w+2*d+M):d>=0?(i=0,A=M):(i=-d/w,A=d*i+M))):(z=o+S-v-d,z<=0?(i=0,R=1,A=o+2*S+M):(N=w-2*v+o,z>=N?(i=1,R=0,A=w+2*d+M):(i=z/N,R=1-i,A=i*(w*i+v*R+2*d)+R*(v*i+o*R+2*S)+M)))}for(var O=1-i-R,f=0;f<u.length;++f)b[f]=O*a[f]+i*s[f]+R*c[f];return A<0?0:A}h.exports=l},1116:function(h,g,t){h.exports=t(6093)},7584:function(h,g,t){var r=t(1539);h.exports=l;function l(a,s){for(var c=a.length,u=new Array(c),b=0;b<c;++b)u[b]=r(a[b],s[b]);return u}},2826:function(h,g,t){h.exports=l;var r=t(5125);function l(a){for(var s=new Array(a.length),c=0;c<a.length;++c)s[c]=r(a[c]);return s}},4469:function(h,g,t){var r=t(5125),l=t(3962);h.exports=a;function a(s,c){for(var u=r(c),b=s.length,f=new Array(b),w=0;w<b;++w)f[w]=l(s[w],u);return f}},6695:function(h,g,t){var r=t(4354);h.exports=l;function l(a,s){for(var c=a.length,u=new Array(c),b=0;b<c;++b)u[b]=r(a[b],s[b]);return u}},7037:function(h,g,t){var r=t(9209),l=t(1284),a=t(9887);h.exports=s;function s(c){c.sort(l);for(var u=c.length,b=0,f=0;f<u;++f){var w=c[f],v=a(w);if(v!==0){if(b>0){var o=c[b-1];if(r(w,o)===0&&a(o)!==v){b-=1;continue}}c[b++]=w}}return c.length=b,c}},6184:function(h){/*!
* repeat-string <https://github.com/jonschlinkert/repeat-string>
*
* Copyright (c) 2014-2015, Jon Schlinkert.
* Licensed under the MIT License.
*/var g="",t;h.exports=r;function r(l,a){if(typeof l!="string")throw new TypeError("expected a string");if(a===1)return l;if(a===2)return l+l;var s=l.length*a;if(t!==l||typeof t>"u")t=l,g="";else if(g.length>=s)return g.substr(0,s);for(;s>g.length&&a>1;)a&1&&(g+=l),a>>=1,l+=l;return g+=l,g=g.substr(0,s),g}},8161:function(h,g,t){h.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(h){h.exports=g;function g(t){for(var r=t.length,l=t[t.length-1],a=r,s=r-2;s>=0;--s){var c=l,u=t[s];l=c+u;var b=l-c,f=u-b;f&&(t[--a]=l,l=f)}for(var w=0,s=a;s<r;++s){var c=t[s],u=l;l=c+u;var b=l-c,f=u-b;f&&(t[w++]=f)}return t[w++]=l,t.length=w,t}},8167:function(h,g,t){var r=t(9660),l=t(9662),a=t(8289),s=t(402),c=6;function u(M,P,x,E){return function(i){return E(M(x(i[0][0],i[1][1]),x(-i[0][1],i[1][0])))}}function b(M,P,x,E){return function(i){return E(M(P(M(x(i[1][1],i[2][2]),x(-i[1][2],i[2][1])),i[0][0]),M(P(M(x(i[1][0],i[2][2]),x(-i[1][2],i[2][0])),-i[0][1]),P(M(x(i[1][0],i[2][1]),x(-i[1][1],i[2][0])),i[0][2]))))}}function f(M,P,x,E){return function(i){return E(M(M(P(M(P(M(x(i[2][2],i[3][3]),x(-i[2][3],i[3][2])),i[1][1]),M(P(M(x(i[2][1],i[3][3]),x(-i[2][3],i[3][1])),-i[1][2]),P(M(x(i[2][1],i[3][2]),x(-i[2][2],i[3][1])),i[1][3]))),i[0][0]),P(M(P(M(x(i[2][2],i[3][3]),x(-i[2][3],i[3][2])),i[1][0]),M(P(M(x(i[2][0],i[3][3]),x(-i[2][3],i[3][0])),-i[1][2]),P(M(x(i[2][0],i[3][2]),x(-i[2][2],i[3][0])),i[1][3]))),-i[0][1])),M(P(M(P(M(x(i[2][1],i[3][3]),x(-i[2][3],i[3][1])),i[1][0]),M(P(M(x(i[2][0],i[3][3]),x(-i[2][3],i[3][0])),-i[1][1]),P(M(x(i[2][0],i[3][1]),x(-i[2][1],i[3][0])),i[1][3]))),i[0][2]),P(M(P(M(x(i[2][1],i[3][2]),x(-i[2][2],i[3][1])),i[1][0]),M(P(M(x(i[2][0],i[3][2]),x(-i[2][2],i[3][0])),-i[1][1]),P(M(x(i[2][0],i[3][1]),x(-i[2][1],i[3][0])),i[1][2]))),-i[0][3]))))}}function w(M,P,x,E){return function(i){return E(M(M(P(M(M(P(M(P(M(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][2]),M(P(M(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),-i[2][3]),P(M(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][4]))),i[1][1]),P(M(P(M(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][1]),M(P(M(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][3]),P(M(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][4]))),-i[1][2])),M(P(M(P(M(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][1]),M(P(M(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][2]),P(M(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][4]))),i[1][3]),P(M(P(M(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][1]),M(P(M(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),-i[2][2]),P(M(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][3]))),-i[1][4]))),i[0][0]),P(M(M(P(M(P(M(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][2]),M(P(M(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),-i[2][3]),P(M(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][4]))),i[1][0]),P(M(P(M(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][0]),M(P(M(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][3]),P(M(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),i[2][4]))),-i[1][2])),M(P(M(P(M(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][0]),M(P(M(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][2]),P(M(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][4]))),i[1][3]),P(M(P(M(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][0]),M(P(M(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][2]),P(M(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][3]))),-i[1][4]))),-i[0][1])),M(P(M(M(P(M(P(M(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][1]),M(P(M(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][3]),P(M(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][4]))),i[1][0]),P(M(P(M(x(i[3][3],i[4][4]),x(-i[3][4],i[4][3])),i[2][0]),M(P(M(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][3]),P(M(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),i[2][4]))),-i[1][1])),M(P(M(P(M(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),i[2][0]),M(P(M(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][1]),P(M(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][4]))),i[1][3]),P(M(P(M(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][0]),M(P(M(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][1]),P(M(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][3]))),-i[1][4]))),i[0][2]),M(P(M(M(P(M(P(M(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][1]),M(P(M(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),-i[2][2]),P(M(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][4]))),i[1][0]),P(M(P(M(x(i[3][2],i[4][4]),x(-i[3][4],i[4][2])),i[2][0]),M(P(M(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][2]),P(M(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][4]))),-i[1][1])),M(P(M(P(M(x(i[3][1],i[4][4]),x(-i[3][4],i[4][1])),i[2][0]),M(P(M(x(i[3][0],i[4][4]),x(-i[3][4],i[4][0])),-i[2][1]),P(M(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][4]))),i[1][2]),P(M(P(M(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][0]),M(P(M(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),-i[2][1]),P(M(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][2]))),-i[1][4]))),-i[0][3]),P(M(M(P(M(P(M(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][1]),M(P(M(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),-i[2][2]),P(M(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][3]))),i[1][0]),P(M(P(M(x(i[3][2],i[4][3]),x(-i[3][3],i[4][2])),i[2][0]),M(P(M(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][2]),P(M(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),i[2][3]))),-i[1][1])),M(P(M(P(M(x(i[3][1],i[4][3]),x(-i[3][3],i[4][1])),i[2][0]),M(P(M(x(i[3][0],i[4][3]),x(-i[3][3],i[4][0])),-i[2][1]),P(M(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][3]))),i[1][2]),P(M(P(M(x(i[3][1],i[4][2]),x(-i[3][2],i[4][1])),i[2][0]),M(P(M(x(i[3][0],i[4][2]),x(-i[3][2],i[4][0])),-i[2][1]),P(M(x(i[3][0],i[4][1]),x(-i[3][1],i[4][0])),i[2][2]))),-i[1][3]))),i[0][4])))))}}function v(M){var P=M===2?u:M===3?b:M===4?f:M===5?w:void 0;return P(l,a,r,s)}var o=[function(){return[0]},function(P){return[P[0][0]]}];function d(M,P,x,E,T,i,R,A){return function(_){switch(_.length){case 0:return M(_);case 1:return P(_);case 2:return x(_);case 3:return E(_);case 4:return T(_);case 5:return i(_)}var H=R[_.length];return H||(H=R[_.length]=A(_.length)),H(_)}}function S(){for(;o.length<c;)o.push(v(o.length));h.exports=d.apply(void 0,o.concat([o,v]));for(var M=0;M<o.length;++M)h.exports[M]=o[M]}S()},9130:function(h,g,t){var r=t(9660),l=t(9662);h.exports=a;function a(s,c){for(var u=r(s[0],c[0]),b=1;b<s.length;++b)u=l(u,r(s[b],c[b]));return u}},2227:function(h,g,t){var r=t(9660),l=t(9662),a=t(4078),s=t(8289),c=6;function u(T){var i=T===3?v:T===4?o:T===5?d:S;return i(l,a,r,s)}function b(){return 0}function f(){return 0}function w(){return 0}function v(T,i,R,A){function k(_,H,z){var N=R(_[0],_[0]),O=A(N,H[0]),F=A(N,z[0]),U=R(H[0],H[0]),Z=A(U,_[0]),q=A(U,z[0]),J=R(z[0],z[0]),te=A(J,_[0]),fe=A(J,H[0]),K=T(i(fe,q),i(Z,O)),Y=i(te,F),W=i(K,Y);return W[W.length-1]}return k}function o(T,i,R,A){function k(_,H,z,N){var O=T(R(_[0],_[0]),R(_[1],_[1])),F=A(O,H[0]),U=A(O,z[0]),Z=A(O,N[0]),q=T(R(H[0],H[0]),R(H[1],H[1])),J=A(q,_[0]),te=A(q,z[0]),fe=A(q,N[0]),K=T(R(z[0],z[0]),R(z[1],z[1])),Y=A(K,_[0]),W=A(K,H[0]),X=A(K,N[0]),re=T(R(N[0],N[0]),R(N[1],N[1])),se=A(re,_[0]),Q=A(re,H[0]),ee=A(re,z[0]),le=T(T(A(i(ee,X),H[1]),T(A(i(Q,fe),-z[1]),A(i(W,te),N[1]))),T(A(i(Q,fe),_[1]),T(A(i(se,Z),-H[1]),A(i(J,F),N[1])))),oe=T(T(A(i(ee,X),_[1]),T(A(i(se,Z),-z[1]),A(i(Y,U),N[1]))),T(A(i(W,te),_[1]),T(A(i(Y,U),-H[1]),A(i(J,F),z[1])))),he=i(le,oe);return he[he.length-1]}return k}function d(T,i,R,A){function k(_,H,z,N,O){var F=T(R(_[0],_[0]),T(R(_[1],_[1]),R(_[2],_[2]))),U=A(F,H[0]),Z=A(F,z[0]),q=A(F,N[0]),J=A(F,O[0]),te=T(R(H[0],H[0]),T(R(H[1],H[1]),R(H[2],H[2]))),fe=A(te,_[0]),K=A(te,z[0]),Y=A(te,N[0]),W=A(te,O[0]),X=T(R(z[0],z[0]),T(R(z[1],z[1]),R(z[2],z[2]))),re=A(X,_[0]),se=A(X,H[0]),Q=A(X,N[0]),ee=A(X,O[0]),le=T(R(N[0],N[0]),T(R(N[1],N[1]),R(N[2],N[2]))),oe=A(le,_[0]),he=A(le,H[0]),xe=A(le,z[0]),Ae=A(le,O[0]),Se=T(R(O[0],O[0]),T(R(O[1],O[1]),R(O[2],O[2]))),Oe=A(Se,_[0]),Ve=A(Se,H[0]),Ee=A(Se,z[0]),Te=A(Se,N[0]),Le=T(T(T(A(T(A(i(Te,Ae),z[1]),T(A(i(Ee,ee),-N[1]),A(i(xe,Q),O[1]))),H[2]),T(A(T(A(i(Te,Ae),H[1]),T(A(i(Ve,W),-N[1]),A(i(he,Y),O[1]))),-z[2]),A(T(A(i(Ee,ee),H[1]),T(A(i(Ve,W),-z[1]),A(i(se,K),O[1]))),N[2]))),T(A(T(A(i(xe,Q),H[1]),T(A(i(he,Y),-z[1]),A(i(se,K),N[1]))),-O[2]),T(A(T(A(i(Te,Ae),H[1]),T(A(i(Ve,W),-N[1]),A(i(he,Y),O[1]))),_[2]),A(T(A(i(Te,Ae),_[1]),T(A(i(Oe,J),-N[1]),A(i(oe,q),O[1]))),-H[2])))),T(T(A(T(A(i(Ve,W),_[1]),T(A(i(Oe,J),-H[1]),A(i(fe,U),O[1]))),N[2]),T(A(T(A(i(he,Y),_[1]),T(A(i(oe,q),-H[1]),A(i(fe,U),N[1]))),-O[2]),A(T(A(i(xe,Q),H[1]),T(A(i(he,Y),-z[1]),A(i(se,K),N[1]))),_[2]))),T(A(T(A(i(xe,Q),_[1]),T(A(i(oe,q),-z[1]),A(i(re,Z),N[1]))),-H[2]),T(A(T(A(i(he,Y),_[1]),T(A(i(oe,q),-H[1]),A(i(fe,U),N[1]))),z[2]),A(T(A(i(se,K),_[1]),T(A(i(re,Z),-H[1]),A(i(fe,U),z[1]))),-N[2]))))),Ge=T(T(T(A(T(A(i(Te,Ae),z[1]),T(A(i(Ee,ee),-N[1]),A(i(xe,Q),O[1]))),_[2]),A(T(A(i(Te,Ae),_[1]),T(A(i(Oe,J),-N[1]),A(i(oe,q),O[1]))),-z[2])),T(A(T(A(i(Ee,ee),_[1]),T(A(i(Oe,J),-z[1]),A(i(re,Z),O[1]))),N[2]),A(T(A(i(xe,Q),_[1]),T(A(i(oe,q),-z[1]),A(i(re,Z),N[1]))),-O[2]))),T(T(A(T(A(i(Ee,ee),H[1]),T(A(i(Ve,W),-z[1]),A(i(se,K),O[1]))),_[2]),A(T(A(i(Ee,ee),_[1]),T(A(i(Oe,J),-z[1]),A(i(re,Z),O[1]))),-H[2])),T(A(T(A(i(Ve,W),_[1]),T(A(i(Oe,J),-H[1]),A(i(fe,U),O[1]))),z[2]),A(T(A(i(se,K),_[1]),T(A(i(re,Z),-H[1]),A(i(fe,U),z[1]))),-O[2])))),He=i(Le,Ge);return He[He.length-1]}return k}function S(T,i,R,A){function k(_,H,z,N,O,F){var U=T(T(R(_[0],_[0]),R(_[1],_[1])),T(R(_[2],_[2]),R(_[3],_[3]))),Z=A(U,H[0]),q=A(U,z[0]),J=A(U,N[0]),te=A(U,O[0]),fe=A(U,F[0]),K=T(T(R(H[0],H[0]),R(H[1],H[1])),T(R(H[2],H[2]),R(H[3],H[3]))),Y=A(K,_[0]),W=A(K,z[0]),X=A(K,N[0]),re=A(K,O[0]),se=A(K,F[0]),Q=T(T(R(z[0],z[0]),R(z[1],z[1])),T(R(z[2],z[2]),R(z[3],z[3]))),ee=A(Q,_[0]),le=A(Q,H[0]),oe=A(Q,N[0]),he=A(Q,O[0]),xe=A(Q,F[0]),Ae=T(T(R(N[0],N[0]),R(N[1],N[1])),T(R(N[2],N[2]),R(N[3],N[3]))),Se=A(Ae,_[0]),Oe=A(Ae,H[0]),Ve=A(Ae,z[0]),Ee=A(Ae,O[0]),Te=A(Ae,F[0]),Le=T(T(R(O[0],O[0]),R(O[1],O[1])),T(R(O[2],O[2]),R(O[3],O[3]))),Ge=A(Le,_[0]),He=A(Le,H[0]),ke=A(Le,z[0]),We=A(Le,N[0]),nt=A(Le,F[0]),qe=T(T(R(F[0],F[0]),R(F[1],F[1])),T(R(F[2],F[2]),R(F[3],F[3]))),Qe=A(qe,_[0]),tt=A(qe,H[0]),vt=A(qe,z[0]),dt=A(qe,N[0]),gt=A(qe,O[0]),Mt=T(T(T(A(T(T(A(T(A(i(gt,nt),N[1]),T(A(i(dt,Te),-O[1]),A(i(We,Ee),F[1]))),z[2]),A(T(A(i(gt,nt),z[1]),T(A(i(vt,xe),-O[1]),A(i(ke,he),F[1]))),-N[2])),T(A(T(A(i(dt,Te),z[1]),T(A(i(vt,xe),-N[1]),A(i(Ve,oe),F[1]))),O[2]),A(T(A(i(We,Ee),z[1]),T(A(i(ke,he),-N[1]),A(i(Ve,oe),O[1]))),-F[2]))),H[3]),T(A(T(T(A(T(A(i(gt,nt),N[1]),T(A(i(dt,Te),-O[1]),A(i(We,Ee),F[1]))),H[2]),A(T(A(i(gt,nt),H[1]),T(A(i(tt,se),-O[1]),A(i(He,re),F[1]))),-N[2])),T(A(T(A(i(dt,Te),H[1]),T(A(i(tt,se),-N[1]),A(i(Oe,X),F[1]))),O[2]),A(T(A(i(We,Ee),H[1]),T(A(i(He,re),-N[1]),A(i(Oe,X),O[1]))),-F[2]))),-z[3]),A(T(T(A(T(A(i(gt,nt),z[1]),T(A(i(vt,xe),-O[1]),A(i(ke,he),F[1]))),H[2]),A(T(A(i(gt,nt),H[1]),T(A(i(tt,se),-O[1]),A(i(He,re),F[1]))),-z[2])),T(A(T(A(i(vt,xe),H[1]),T(A(i(tt,se),-z[1]),A(i(le,W),F[1]))),O[2]),A(T(A(i(ke,he),H[1]),T(A(i(He,re),-z[1]),A(i(le,W),O[1]))),-F[2]))),N[3]))),T(T(A(T(T(A(T(A(i(dt,Te),z[1]),T(A(i(vt,xe),-N[1]),A(i(Ve,oe),F[1]))),H[2]),A(T(A(i(dt,Te),H[1]),T(A(i(tt,se),-N[1]),A(i(Oe,X),F[1]))),-z[2])),T(A(T(A(i(vt,xe),H[1]),T(A(i(tt,se),-z[1]),A(i(le,W),F[1]))),N[2]),A(T(A(i(Ve,oe),H[1]),T(A(i(Oe,X),-z[1]),A(i(le,W),N[1]))),-F[2]))),-O[3]),A(T(T(A(T(A(i(We,Ee),z[1]),T(A(i(ke,he),-N[1]),A(i(Ve,oe),O[1]))),H[2]),A(T(A(i(We,Ee),H[1]),T(A(i(He,re),-N[1]),A(i(Oe,X),O[1]))),-z[2])),T(A(T(A(i(ke,he),H[1]),T(A(i(He,re),-z[1]),A(i(le,W),O[1]))),N[2]),A(T(A(i(Ve,oe),H[1]),T(A(i(Oe,X),-z[1]),A(i(le,W),N[1]))),-O[2]))),F[3])),T(A(T(T(A(T(A(i(gt,nt),N[1]),T(A(i(dt,Te),-O[1]),A(i(We,Ee),F[1]))),H[2]),A(T(A(i(gt,nt),H[1]),T(A(i(tt,se),-O[1]),A(i(He,re),F[1]))),-N[2])),T(A(T(A(i(dt,Te),H[1]),T(A(i(tt,se),-N[1]),A(i(Oe,X),F[1]))),O[2]),A(T(A(i(We,Ee),H[1]),T(A(i(He,re),-N[1]),A(i(Oe,X),O[1]))),-F[2]))),_[3]),A(T(T(A(T(A(i(gt,nt),N[1]),T(A(i(dt,Te),-O[1]),A(i(We,Ee),F[1]))),_[2]),A(T(A(i(gt,nt),_[1]),T(A(i(Qe,fe),-O[1]),A(i(Ge,te),F[1]))),-N[2])),T(A(T(A(i(dt,Te),_[1]),T(A(i(Qe,fe),-N[1]),A(i(Se,J),F[1]))),O[2]),A(T(A(i(We,Ee),_[1]),T(A(i(Ge,te),-N[1]),A(i(Se,J),O[1]))),-F[2]))),-H[3])))),T(T(T(A(T(T(A(T(A(i(gt,nt),H[1]),T(A(i(tt,se),-O[1]),A(i(He,re),F[1]))),_[2]),A(T(A(i(gt,nt),_[1]),T(A(i(Qe,fe),-O[1]),A(i(Ge,te),F[1]))),-H[2])),T(A(T(A(i(tt,se),_[1]),T(A(i(Qe,fe),-H[1]),A(i(Y,Z),F[1]))),O[2]),A(T(A(i(He,re),_[1]),T(A(i(Ge,te),-H[1]),A(i(Y,Z),O[1]))),-F[2]))),N[3]),A(T(T(A(T(A(i(dt,Te),H[1]),T(A(i(tt,se),-N[1]),A(i(Oe,X),F[1]))),_[2]),A(T(A(i(dt,Te),_[1]),T(A(i(Qe,fe),-N[1]),A(i(Se,J),F[1]))),-H[2])),T(A(T(A(i(tt,se),_[1]),T(A(i(Qe,fe),-H[1]),A(i(Y,Z),F[1]))),N[2]),A(T(A(i(Oe,X),_[1]),T(A(i(Se,J),-H[1]),A(i(Y,Z),N[1]))),-F[2]))),-O[3])),T(A(T(T(A(T(A(i(We,Ee),H[1]),T(A(i(He,re),-N[1]),A(i(Oe,X),O[1]))),_[2]),A(T(A(i(We,Ee),_[1]),T(A(i(Ge,te),-N[1]),A(i(Se,J),O[1]))),-H[2])),T(A(T(A(i(He,re),_[1]),T(A(i(Ge,te),-H[1]),A(i(Y,Z),O[1]))),N[2]),A(T(A(i(Oe,X),_[1]),T(A(i(Se,J),-H[1]),A(i(Y,Z),N[1]))),-O[2]))),F[3]),A(T(T(A(T(A(i(dt,Te),z[1]),T(A(i(vt,xe),-N[1]),A(i(Ve,oe),F[1]))),H[2]),A(T(A(i(dt,Te),H[1]),T(A(i(tt,se),-N[1]),A(i(Oe,X),F[1]))),-z[2])),T(A(T(A(i(vt,xe),H[1]),T(A(i(tt,se),-z[1]),A(i(le,W),F[1]))),N[2]),A(T(A(i(Ve,oe),H[1]),T(A(i(Oe,X),-z[1]),A(i(le,W),N[1]))),-F[2]))),_[3]))),T(T(A(T(T(A(T(A(i(dt,Te),z[1]),T(A(i(vt,xe),-N[1]),A(i(Ve,oe),F[1]))),_[2]),A(T(A(i(dt,Te),_[1]),T(A(i(Qe,fe),-N[1]),A(i(Se,J),F[1]))),-z[2])),T(A(T(A(i(vt,xe),_[1]),T(A(i(Qe,fe),-z[1]),A(i(ee,q),F[1]))),N[2]),A(T(A(i(Ve,oe),_[1]),T(A(i(Se,J),-z[1]),A(i(ee,q),N[1]))),-F[2]))),-H[3]),A(T(T(A(T(A(i(dt,Te),H[1]),T(A(i(tt,se),-N[1]),A(i(Oe,X),F[1]))),_[2]),A(T(A(i(dt,Te),_[1]),T(A(i(Qe,fe),-N[1]),A(i(Se,J),F[1]))),-H[2])),T(A(T(A(i(tt,se),_[1]),T(A(i(Qe,fe),-H[1]),A(i(Y,Z),F[1]))),N[2]),A(T(A(i(Oe,X),_[1]),T(A(i(Se,J),-H[1]),A(i(Y,Z),N[1]))),-F[2]))),z[3])),T(A(T(T(A(T(A(i(vt,xe),H[1]),T(A(i(tt,se),-z[1]),A(i(le,W),F[1]))),_[2]),A(T(A(i(vt,xe),_[1]),T(A(i(Qe,fe),-z[1]),A(i(ee,q),F[1]))),-H[2])),T(A(T(A(i(tt,se),_[1]),T(A(i(Qe,fe),-H[1]),A(i(Y,Z),F[1]))),z[2]),A(T(A(i(le,W),_[1]),T(A(i(ee,q),-H[1]),A(i(Y,Z),z[1]))),-F[2]))),-N[3]),A(T(T(A(T(A(i(Ve,oe),H[1]),T(A(i(Oe,X),-z[1]),A(i(le,W),N[1]))),_[2]),A(T(A(i(Ve,oe),_[1]),T(A(i(Se,J),-z[1]),A(i(ee,q),N[1]))),-H[2])),T(A(T(A(i(Oe,X),_[1]),T(A(i(Se,J),-H[1]),A(i(Y,Z),N[1]))),z[2]),A(T(A(i(le,W),_[1]),T(A(i(ee,q),-H[1]),A(i(Y,Z),z[1]))),-N[2]))),F[3]))))),Rt=T(T(T(A(T(T(A(T(A(i(gt,nt),N[1]),T(A(i(dt,Te),-O[1]),A(i(We,Ee),F[1]))),z[2]),A(T(A(i(gt,nt),z[1]),T(A(i(vt,xe),-O[1]),A(i(ke,he),F[1]))),-N[2])),T(A(T(A(i(dt,Te),z[1]),T(A(i(vt,xe),-N[1]),A(i(Ve,oe),F[1]))),O[2]),A(T(A(i(We,Ee),z[1]),T(A(i(ke,he),-N[1]),A(i(Ve,oe),O[1]))),-F[2]))),_[3]),T(A(T(T(A(T(A(i(gt,nt),N[1]),T(A(i(dt,Te),-O[1]),A(i(We,Ee),F[1]))),_[2]),A(T(A(i(gt,nt),_[1]),T(A(i(Qe,fe),-O[1]),A(i(Ge,te),F[1]))),-N[2])),T(A(T(A(i(dt,Te),_[1]),T(A(i(Qe,fe),-N[1]),A(i(Se,J),F[1]))),O[2]),A(T(A(i(We,Ee),_[1]),T(A(i(Ge,te),-N[1]),A(i(Se,J),O[1]))),-F[2]))),-z[3]),A(T(T(A(T(A(i(gt,nt),z[1]),T(A(i(vt,xe),-O[1]),A(i(ke,he),F[1]))),_[2]),A(T(A(i(gt,nt),_[1]),T(A(i(Qe,fe),-O[1]),A(i(Ge,te),F[1]))),-z[2])),T(A(T(A(i(vt,xe),_[1]),T(A(i(Qe,fe),-z[1]),A(i(ee,q),F[1]))),O[2]),A(T(A(i(ke,he),_[1]),T(A(i(Ge,te),-z[1]),A(i(ee,q),O[1]))),-F[2]))),N[3]))),T(T(A(T(T(A(T(A(i(dt,Te),z[1]),T(A(i(vt,xe),-N[1]),A(i(Ve,oe),F[1]))),_[2]),A(T(A(i(dt,Te),_[1]),T(A(i(Qe,fe),-N[1]),A(i(Se,J),F[1]))),-z[2])),T(A(T(A(i(vt,xe),_[1]),T(A(i(Qe,fe),-z[1]),A(i(ee,q),F[1]))),N[2]),A(T(A(i(Ve,oe),_[1]),T(A(i(Se,J),-z[1]),A(i(ee,q),N[1]))),-F[2]))),-O[3]),A(T(T(A(T(A(i(We,Ee),z[1]),T(A(i(ke,he),-N[1]),A(i(Ve,oe),O[1]))),_[2]),A(T(A(i(We,Ee),_[1]),T(A(i(Ge,te),-N[1]),A(i(Se,J),O[1]))),-z[2])),T(A(T(A(i(ke,he),_[1]),T(A(i(Ge,te),-z[1]),A(i(ee,q),O[1]))),N[2]),A(T(A(i(Ve,oe),_[1]),T(A(i(Se,J),-z[1]),A(i(ee,q),N[1]))),-O[2]))),F[3])),T(A(T(T(A(T(A(i(gt,nt),z[1]),T(A(i(vt,xe),-O[1]),A(i(ke,he),F[1]))),H[2]),A(T(A(i(gt,nt),H[1]),T(A(i(tt,se),-O[1]),A(i(He,re),F[1]))),-z[2])),T(A(T(A(i(vt,xe),H[1]),T(A(i(tt,se),-z[1]),A(i(le,W),F[1]))),O[2]),A(T(A(i(ke,he),H[1]),T(A(i(He,re),-z[1]),A(i(le,W),O[1]))),-F[2]))),_[3]),A(T(T(A(T(A(i(gt,nt),z[1]),T(A(i(vt,xe),-O[1]),A(i(ke,he),F[1]))),_[2]),A(T(A(i(gt,nt),_[1]),T(A(i(Qe,fe),-O[1]),A(i(Ge,te),F[1]))),-z[2])),T(A(T(A(i(vt,xe),_[1]),T(A(i(Qe,fe),-z[1]),A(i(ee,q),F[1]))),O[2]),A(T(A(i(ke,he),_[1]),T(A(i(Ge,te),-z[1]),A(i(ee,q),O[1]))),-F[2]))),-H[3])))),T(T(T(A(T(T(A(T(A(i(gt,nt),H[1]),T(A(i(tt,se),-O[1]),A(i(He,re),F[1]))),_[2]),A(T(A(i(gt,nt),_[1]),T(A(i(Qe,fe),-O[1]),A(i(Ge,te),F[1]))),-H[2])),T(A(T(A(i(tt,se),_[1]),T(A(i(Qe,fe),-H[1]),A(i(Y,Z),F[1]))),O[2]),A(T(A(i(He,re),_[1]),T(A(i(Ge,te),-H[1]),A(i(Y,Z),O[1]))),-F[2]))),z[3]),A(T(T(A(T(A(i(vt,xe),H[1]),T(A(i(tt,se),-z[1]),A(i(le,W),F[1]))),_[2]),A(T(A(i(vt,xe),_[1]),T(A(i(Qe,fe),-z[1]),A(i(ee,q),F[1]))),-H[2])),T(A(T(A(i(tt,se),_[1]),T(A(i(Qe,fe),-H[1]),A(i(Y,Z),F[1]))),z[2]),A(T(A(i(le,W),_[1]),T(A(i(ee,q),-H[1]),A(i(Y,Z),z[1]))),-F[2]))),-O[3])),T(A(T(T(A(T(A(i(ke,he),H[1]),T(A(i(He,re),-z[1]),A(i(le,W),O[1]))),_[2]),A(T(A(i(ke,he),_[1]),T(A(i(Ge,te),-z[1]),A(i(ee,q),O[1]))),-H[2])),T(A(T(A(i(He,re),_[1]),T(A(i(Ge,te),-H[1]),A(i(Y,Z),O[1]))),z[2]),A(T(A(i(le,W),_[1]),T(A(i(ee,q),-H[1]),A(i(Y,Z),z[1]))),-O[2]))),F[3]),A(T(T(A(T(A(i(We,Ee),z[1]),T(A(i(ke,he),-N[1]),A(i(Ve,oe),O[1]))),H[2]),A(T(A(i(We,Ee),H[1]),T(A(i(He,re),-N[1]),A(i(Oe,X),O[1]))),-z[2])),T(A(T(A(i(ke,he),H[1]),T(A(i(He,re),-z[1]),A(i(le,W),O[1]))),N[2]),A(T(A(i(Ve,oe),H[1]),T(A(i(Oe,X),-z[1]),A(i(le,W),N[1]))),-O[2]))),_[3]))),T(T(A(T(T(A(T(A(i(We,Ee),z[1]),T(A(i(ke,he),-N[1]),A(i(Ve,oe),O[1]))),_[2]),A(T(A(i(We,Ee),_[1]),T(A(i(Ge,te),-N[1]),A(i(Se,J),O[1]))),-z[2])),T(A(T(A(i(ke,he),_[1]),T(A(i(Ge,te),-z[1]),A(i(ee,q),O[1]))),N[2]),A(T(A(i(Ve,oe),_[1]),T(A(i(Se,J),-z[1]),A(i(ee,q),N[1]))),-O[2]))),-H[3]),A(T(T(A(T(A(i(We,Ee),H[1]),T(A(i(He,re),-N[1]),A(i(Oe,X),O[1]))),_[2]),A(T(A(i(We,Ee),_[1]),T(A(i(Ge,te),-N[1]),A(i(Se,J),O[1]))),-H[2])),T(A(T(A(i(He,re),_[1]),T(A(i(Ge,te),-H[1]),A(i(Y,Z),O[1]))),N[2]),A(T(A(i(Oe,X),_[1]),T(A(i(Se,J),-H[1]),A(i(Y,Z),N[1]))),-O[2]))),z[3])),T(A(T(T(A(T(A(i(ke,he),H[1]),T(A(i(He,re),-z[1]),A(i(le,W),O[1]))),_[2]),A(T(A(i(ke,he),_[1]),T(A(i(Ge,te),-z[1]),A(i(ee,q),O[1]))),-H[2])),T(A(T(A(i(He,re),_[1]),T(A(i(Ge,te),-H[1]),A(i(Y,Z),O[1]))),z[2]),A(T(A(i(le,W),_[1]),T(A(i(ee,q),-H[1]),A(i(Y,Z),z[1]))),-O[2]))),-N[3]),A(T(T(A(T(A(i(Ve,oe),H[1]),T(A(i(Oe,X),-z[1]),A(i(le,W),N[1]))),_[2]),A(T(A(i(Ve,oe),_[1]),T(A(i(Se,J),-z[1]),A(i(ee,q),N[1]))),-H[2])),T(A(T(A(i(Oe,X),_[1]),T(A(i(Se,J),-H[1]),A(i(Y,Z),N[1]))),z[2]),A(T(A(i(le,W),_[1]),T(A(i(ee,q),-H[1]),A(i(Y,Z),z[1]))),-N[2]))),O[3]))))),Wt=i(Mt,Rt);return Wt[Wt.length-1]}return k}var M=[b,f,w];function P(T){var i=M[T.length];return i||(i=M[T.length]=u(T.length)),i.apply(void 0,T)}function x(T,i,R,A,k,_,H,z){function N(O,F,U,Z,q,J){switch(arguments.length){case 0:case 1:return 0;case 2:return A(O,F);case 3:return k(O,F,U);case 4:return _(O,F,U,Z);case 5:return H(O,F,U,Z,q);case 6:return z(O,F,U,Z,q,J)}for(var te=new Array(arguments.length),fe=0;fe<arguments.length;++fe)te[fe]=arguments[fe];return T(te)}return N}function E(){for(;M.length<=c;)M.push(u(M.length));h.exports=x.apply(void 0,[P].concat(M));for(var T=0;T<=c;++T)h.exports[T]=M[T]}E()},6606:function(h,g,t){var r=t(8167),l=6;function a(M){var P=M===2?u:M===3?b:M===4?f:M===5?w:v;return M<6?P(r[M]):P(r)}function s(){return[[0]]}function c(M,P){return[[P[0]],[M[0][0]]]}function u(M){return function(x,E){return[M([[+E[0],+x[0][1]],[+E[1],+x[1][1]]]),M([[+x[0][0],+E[0]],[+x[1][0],+E[1]]]),M(x)]}}function b(M){return function(x,E){return[M([[+E[0],+x[0][1],+x[0][2]],[+E[1],+x[1][1],+x[1][2]],[+E[2],+x[2][1],+x[2][2]]]),M([[+x[0][0],+E[0],+x[0][2]],[+x[1][0],+E[1],+x[1][2]],[+x[2][0],+E[2],+x[2][2]]]),M([[+x[0][0],+x[0][1],+E[0]],[+x[1][0],+x[1][1],+E[1]],[+x[2][0],+x[2][1],+E[2]]]),M(x)]}}function f(M){return function(x,E){return[M([[+E[0],+x[0][1],+x[0][2],+x[0][3]],[+E[1],+x[1][1],+x[1][2],+x[1][3]],[+E[2],+x[2][1],+x[2][2],+x[2][3]],[+E[3],+x[3][1],+x[3][2],+x[3][3]]]),M([[+x[0][0],+E[0],+x[0][2],+x[0][3]],[+x[1][0],+E[1],+x[1][2],+x[1][3]],[+x[2][0],+E[2],+x[2][2],+x[2][3]],[+x[3][0],+E[3],+x[3][2],+x[3][3]]]),M([[+x[0][0],+x[0][1],+E[0],+x[0][3]],[+x[1][0],+x[1][1],+E[1],+x[1][3]],[+x[2][0],+x[2][1],+E[2],+x[2][3]],[+x[3][0],+x[3][1],+E[3],+x[3][3]]]),M([[+x[0][0],+x[0][1],+x[0][2],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+E[3]]]),M(x)]}}function w(M){return function(x,E){return[M([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4]]]),M([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4]]]),M([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4]]]),M([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4]]]),M([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4]]]),M(x)]}}function v(M){return function(x,E){return[M([[+E[0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+E[1],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+E[2],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+E[3],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+E[4],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+E[5],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),M([[+x[0][0],+E[0],+x[0][2],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+E[1],+x[1][2],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+E[2],+x[2][2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+E[3],+x[3][2],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+E[4],+x[4][2],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+E[5],+x[5][2],+x[5][3],+x[5][4],+x[5][5]]]),M([[+x[0][0],+x[0][1],+E[0],+x[0][3],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+E[1],+x[1][3],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+E[2],+x[2][3],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+E[3],+x[3][3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+E[4],+x[4][3],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+E[5],+x[5][3],+x[5][4],+x[5][5]]]),M([[+x[0][0],+x[0][1],+x[0][2],+E[0],+x[0][4],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+E[1],+x[1][4],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+E[2],+x[2][4],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+E[3],+x[3][4],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+E[4],+x[4][4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+E[5],+x[5][4],+x[5][5]]]),M([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+E[0],+x[0][5]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+E[1],+x[1][5]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+E[2],+x[2][5]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+E[3],+x[3][5]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+E[4],+x[4][5]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+E[5],+x[5][5]]]),M([[+x[0][0],+x[0][1],+x[0][2],+x[0][3],+x[0][4],+E[0]],[+x[1][0],+x[1][1],+x[1][2],+x[1][3],+x[1][4],+E[1]],[+x[2][0],+x[2][1],+x[2][2],+x[2][3],+x[2][4],+E[2]],[+x[3][0],+x[3][1],+x[3][2],+x[3][3],+x[3][4],+E[3]],[+x[4][0],+x[4][1],+x[4][2],+x[4][3],+x[4][4],+E[4]],[+x[5][0],+x[5][1],+x[5][2],+x[5][3],+x[5][4],+E[5]]]),M(x)]}}var o=[s,c];function d(M,P,x,E,T,i,R,A){return function(_,H){switch(_.length){case 0:return M(_,H);case 1:return P(_,H);case 2:return x(_,H);case 3:return E(_,H);case 4:return T(_,H);case 5:return i(_,H)}var z=R[_.length];return z||(z=R[_.length]=A(_.length)),z(_,H)}}function S(){for(;o.length<l;)o.push(a(o.length));h.exports=d.apply(void 0,o.concat([o,a]));for(var M=0;M<l;++M)h.exports[M]=o[M]}S()},417:function(h,g,t){var r=t(9660),l=t(9662),a=t(8289),s=t(4078),c=5,u=11102230246251565e-32,b=(3+16*u)*u,f=(7+56*u)*u;function w(i,R,A,k){return function(H,z,N){var O=i(i(R(z[1],N[0]),R(-N[1],z[0])),i(R(H[1],z[0]),R(-z[1],H[0]))),F=i(R(H[1],N[0]),R(-N[1],H[0])),U=k(O,F);return U[U.length-1]}}function v(i,R,A,k){return function(H,z,N,O){var F=i(i(A(i(R(N[1],O[0]),R(-O[1],N[0])),z[2]),i(A(i(R(z[1],O[0]),R(-O[1],z[0])),-N[2]),A(i(R(z[1],N[0]),R(-N[1],z[0])),O[2]))),i(A(i(R(z[1],O[0]),R(-O[1],z[0])),H[2]),i(A(i(R(H[1],O[0]),R(-O[1],H[0])),-z[2]),A(i(R(H[1],z[0]),R(-z[1],H[0])),O[2])))),U=i(i(A(i(R(N[1],O[0]),R(-O[1],N[0])),H[2]),i(A(i(R(H[1],O[0]),R(-O[1],H[0])),-N[2]),A(i(R(H[1],N[0]),R(-N[1],H[0])),O[2]))),i(A(i(R(z[1],N[0]),R(-N[1],z[0])),H[2]),i(A(i(R(H[1],N[0]),R(-N[1],H[0])),-z[2]),A(i(R(H[1],z[0]),R(-z[1],H[0])),N[2])))),Z=k(F,U);return Z[Z.length-1]}}function o(i,R,A,k){return function(H,z,N,O,F){var U=i(i(i(A(i(A(i(R(O[1],F[0]),R(-F[1],O[0])),N[2]),i(A(i(R(N[1],F[0]),R(-F[1],N[0])),-O[2]),A(i(R(N[1],O[0]),R(-O[1],N[0])),F[2]))),z[3]),i(A(i(A(i(R(O[1],F[0]),R(-F[1],O[0])),z[2]),i(A(i(R(z[1],F[0]),R(-F[1],z[0])),-O[2]),A(i(R(z[1],O[0]),R(-O[1],z[0])),F[2]))),-N[3]),A(i(A(i(R(N[1],F[0]),R(-F[1],N[0])),z[2]),i(A(i(R(z[1],F[0]),R(-F[1],z[0])),-N[2]),A(i(R(z[1],N[0]),R(-N[1],z[0])),F[2]))),O[3]))),i(A(i(A(i(R(N[1],O[0]),R(-O[1],N[0])),z[2]),i(A(i(R(z[1],O[0]),R(-O[1],z[0])),-N[2]),A(i(R(z[1],N[0]),R(-N[1],z[0])),O[2]))),-F[3]),i(A(i(A(i(R(O[1],F[0]),R(-F[1],O[0])),z[2]),i(A(i(R(z[1],F[0]),R(-F[1],z[0])),-O[2]),A(i(R(z[1],O[0]),R(-O[1],z[0])),F[2]))),H[3]),A(i(A(i(R(O[1],F[0]),R(-F[1],O[0])),H[2]),i(A(i(R(H[1],F[0]),R(-F[1],H[0])),-O[2]),A(i(R(H[1],O[0]),R(-O[1],H[0])),F[2]))),-z[3])))),i(i(A(i(A(i(R(z[1],F[0]),R(-F[1],z[0])),H[2]),i(A(i(R(H[1],F[0]),R(-F[1],H[0])),-z[2]),A(i(R(H[1],z[0]),R(-z[1],H[0])),F[2]))),O[3]),i(A(i(A(i(R(z[1],O[0]),R(-O[1],z[0])),H[2]),i(A(i(R(H[1],O[0]),R(-O[1],H[0])),-z[2]),A(i(R(H[1],z[0]),R(-z[1],H[0])),O[2]))),-F[3]),A(i(A(i(R(N[1],O[0]),R(-O[1],N[0])),z[2]),i(A(i(R(z[1],O[0]),R(-O[1],z[0])),-N[2]),A(i(R(z[1],N[0]),R(-N[1],z[0])),O[2]))),H[3]))),i(A(i(A(i(R(N[1],O[0]),R(-O[1],N[0])),H[2]),i(A(i(R(H[1],O[0]),R(-O[1],H[0])),-N[2]),A(i(R(H[1],N[0]),R(-N[1],H[0])),O[2]))),-z[3]),i(A(i(A(i(R(z[1],O[0]),R(-O[1],z[0])),H[2]),i(A(i(R(H[1],O[0]),R(-O[1],H[0])),-z[2]),A(i(R(H[1],z[0]),R(-z[1],H[0])),O[2]))),N[3]),A(i(A(i(R(z[1],N[0]),R(-N[1],z[0])),H[2]),i(A(i(R(H[1],N[0]),R(-N[1],H[0])),-z[2]),A(i(R(H[1],z[0]),R(-z[1],H[0])),N[2]))),-O[3]))))),Z=i(i(i(A(i(A(i(R(O[1],F[0]),R(-F[1],O[0])),N[2]),i(A(i(R(N[1],F[0]),R(-F[1],N[0])),-O[2]),A(i(R(N[1],O[0]),R(-O[1],N[0])),F[2]))),H[3]),A(i(A(i(R(O[1],F[0]),R(-F[1],O[0])),H[2]),i(A(i(R(H[1],F[0]),R(-F[1],H[0])),-O[2]),A(i(R(H[1],O[0]),R(-O[1],H[0])),F[2]))),-N[3])),i(A(i(A(i(R(N[1],F[0]),R(-F[1],N[0])),H[2]),i(A(i(R(H[1],F[0]),R(-F[1],H[0])),-N[2]),A(i(R(H[1],N[0]),R(-N[1],H[0])),F[2]))),O[3]),A(i(A(i(R(N[1],O[0]),R(-O[1],N[0])),H[2]),i(A(i(R(H[1],O[0]),R(-O[1],H[0])),-N[2]),A(i(R(H[1],N[0]),R(-N[1],H[0])),O[2]))),-F[3]))),i(i(A(i(A(i(R(N[1],F[0]),R(-F[1],N[0])),z[2]),i(A(i(R(z[1],F[0]),R(-F[1],z[0])),-N[2]),A(i(R(z[1],N[0]),R(-N[1],z[0])),F[2]))),H[3]),A(i(A(i(R(N[1],F[0]),R(-F[1],N[0])),H[2]),i(A(i(R(H[1],F[0]),R(-F[1],H[0])),-N[2]),A(i(R(H[1],N[0]),R(-N[1],H[0])),F[2]))),-z[3])),i(A(i(A(i(R(z[1],F[0]),R(-F[1],z[0])),H[2]),i(A(i(R(H[1],F[0]),R(-F[1],H[0])),-z[2]),A(i(R(H[1],z[0]),R(-z[1],H[0])),F[2]))),N[3]),A(i(A(i(R(z[1],N[0]),R(-N[1],z[0])),H[2]),i(A(i(R(H[1],N[0]),R(-N[1],H[0])),-z[2]),A(i(R(H[1],z[0]),R(-z[1],H[0])),N[2]))),-F[3])))),q=k(U,Z);return q[q.length-1]}}function d(i){var R=i===3?w:i===4?v:o;return R(l,r,a,s)}var S=d(3),M=d(4),P=[function(){return 0},function(){return 0},function(R,A){return A[0]-R[0]},function(R,A,k){var _=(R[1]-k[1])*(A[0]-k[0]),H=(R[0]-k[0])*(A[1]-k[1]),z=_-H,N;if(_>0){if(H<=0)return z;N=_+H}else if(_<0){if(H>=0)return z;N=-(_+H)}else return z;var O=b*N;return z>=O||z<=-O?z:S(R,A,k)},function(R,A,k,_){var H=R[0]-_[0],z=A[0]-_[0],N=k[0]-_[0],O=R[1]-_[1],F=A[1]-_[1],U=k[1]-_[1],Z=R[2]-_[2],q=A[2]-_[2],J=k[2]-_[2],te=z*U,fe=N*F,K=N*O,Y=H*U,W=H*F,X=z*O,re=Z*(te-fe)+q*(K-Y)+J*(W-X),se=(Math.abs(te)+Math.abs(fe))*Math.abs(Z)+(Math.abs(K)+Math.abs(Y))*Math.abs(q)+(Math.abs(W)+Math.abs(X))*Math.abs(J),Q=f*se;return re>Q||-re>Q?re:M(R,A,k,_)}];function x(i){var R=P[i.length];return R||(R=P[i.length]=d(i.length)),R.apply(void 0,i)}function E(i,R,A,k,_,H,z){return function(O,F,U,Z,q){switch(arguments.length){case 0:case 1:return 0;case 2:return k(O,F);case 3:return _(O,F,U);case 4:return H(O,F,U,Z);case 5:return z(O,F,U,Z,q)}for(var J=new Array(arguments.length),te=0;te<arguments.length;++te)J[te]=arguments[te];return i(J)}}function T(){for(;P.length<=c;)P.push(d(P.length));h.exports=E.apply(void 0,[x].concat(P));for(var i=0;i<=c;++i)h.exports[i]=P[i]}T()},2019:function(h,g,t){var r=t(9662),l=t(8289);h.exports=a;function a(s,c){if(s.length===1)return l(c,s[0]);if(c.length===1)return l(s,c[0]);if(s.length===0||c.length===0)return[0];var u=[0];if(s.length<c.length)for(var b=0;b<s.length;++b)u=r(u,l(c,s[b]));else for(var b=0;b<c.length;++b)u=r(u,l(s,c[b]));return u}},8289:function(h,g,t){var r=t(9660),l=t(87);h.exports=a;function a(s,c){var u=s.length;if(u===1){var b=r(s[0],c);return b[0]?b:[b[1]]}var f=new Array(2*u),w=[.1,.1],v=[.1,.1],o=0;r(s[0],c,w),w[0]&&(f[o++]=w[0]);for(var d=1;d<u;++d){r(s[d],c,v);var S=w[1];l(S,v[0],w),w[0]&&(f[o++]=w[0]);var M=v[1],P=w[1],x=M+P,E=x-M,T=P-E;w[1]=x,T&&(f[o++]=T)}return w[1]&&(f[o++]=w[1]),o===0&&(f[o++]=0),f.length=o,f}},4434:function(h,g,t){h.exports=a;var r=t(417)[3];function l(s,c,u,b){for(var f=0;f<2;++f){var w=s[f],v=c[f],o=Math.min(w,v),d=Math.max(w,v),S=u[f],M=b[f],P=Math.min(S,M),x=Math.max(S,M);if(x<o||d<P)return!1}return!0}function a(s,c,u,b){var f=r(s,u,b),w=r(c,u,b);if(f>0&&w>0||f<0&&w<0)return!1;var v=r(u,s,c),o=r(b,s,c);return v>0&&o>0||v<0&&o<0?!1:f===0&&w===0&&v===0&&o===0?l(s,c,u,b):!0}},4078:function(h){h.exports=t;function g(r,l){var a=r+l,s=a-r,c=a-s,u=l-s,b=r-c,f=b+u;return f?[f,a]:[a]}function t(r,l){var a=r.length|0,s=l.length|0;if(a===1&&s===1)return g(r[0],-l[0]);var c=a+s,u=new Array(c),b=0,f=0,w=0,v=Math.abs,o=r[f],d=v(o),S=-l[w],M=v(S),P,x;d<M?(x=o,f+=1,f<a&&(o=r[f],d=v(o))):(x=S,w+=1,w<s&&(S=-l[w],M=v(S))),f<a&&d<M||w>=s?(P=o,f+=1,f<a&&(o=r[f],d=v(o))):(P=S,w+=1,w<s&&(S=-l[w],M=v(S)));for(var E=P+x,T=E-P,i=x-T,R=i,A=E,k,_,H,z,N;f<a&&w<s;)d<M?(P=o,f+=1,f<a&&(o=r[f],d=v(o))):(P=S,w+=1,w<s&&(S=-l[w],M=v(S))),x=R,E=P+x,T=E-P,i=x-T,i&&(u[b++]=i),k=A+E,_=k-A,H=k-_,z=E-_,N=A-H,R=N+z,A=k;for(;f<a;)P=o,x=R,E=P+x,T=E-P,i=x-T,i&&(u[b++]=i),k=A+E,_=k-A,H=k-_,z=E-_,N=A-H,R=N+z,A=k,f+=1,f<a&&(o=r[f]);for(;w<s;)P=S,x=R,E=P+x,T=E-P,i=x-T,i&&(u[b++]=i),k=A+E,_=k-A,H=k-_,z=E-_,N=A-H,R=N+z,A=k,w+=1,w<s&&(S=-l[w]);return R&&(u[b++]=R),A&&(u[b++]=A),b||(u[b++]=0),u.length=b,u}},9662:function(h){h.exports=t;function g(r,l){var a=r+l,s=a-r,c=a-s,u=l-s,b=r-c,f=b+u;return f?[f,a]:[a]}function t(r,l){var a=r.length|0,s=l.length|0;if(a===1&&s===1)return g(r[0],l[0]);var c=a+s,u=new Array(c),b=0,f=0,w=0,v=Math.abs,o=r[f],d=v(o),S=l[w],M=v(S),P,x;d<M?(x=o,f+=1,f<a&&(o=r[f],d=v(o))):(x=S,w+=1,w<s&&(S=l[w],M=v(S))),f<a&&d<M||w>=s?(P=o,f+=1,f<a&&(o=r[f],d=v(o))):(P=S,w+=1,w<s&&(S=l[w],M=v(S)));for(var E=P+x,T=E-P,i=x-T,R=i,A=E,k,_,H,z,N;f<a&&w<s;)d<M?(P=o,f+=1,f<a&&(o=r[f],d=v(o))):(P=S,w+=1,w<s&&(S=l[w],M=v(S))),x=R,E=P+x,T=E-P,i=x-T,i&&(u[b++]=i),k=A+E,_=k-A,H=k-_,z=E-_,N=A-H,R=N+z,A=k;for(;f<a;)P=o,x=R,E=P+x,T=E-P,i=x-T,i&&(u[b++]=i),k=A+E,_=k-A,H=k-_,z=E-_,N=A-H,R=N+z,A=k,f+=1,f<a&&(o=r[f]);for(;w<s;)P=S,x=R,E=P+x,T=E-P,i=x-T,i&&(u[b++]=i),k=A+E,_=k-A,H=k-_,z=E-_,N=A-H,R=N+z,A=k,w+=1,w<s&&(S=l[w]);return R&&(u[b++]=R),A&&(u[b++]=A),b||(u[b++]=0),u.length=b,u}},8691:function(h,g,t){h.exports=a;var r=t(2692),l=t(7037);function a(s){return l(r(s))}},7212:function(h,g,t){h.exports=o;var r=t(5050),l=t(5306),a=t(8729),s=t(1168);function c(d){for(var S=d.length,M=0,P=0;P<S;++P)M=Math.max(M,d[P].length)|0;return M-1}function u(d,S){for(var M=d.length,P=l.mallocUint8(M),x=0;x<M;++x)P[x]=d[x]<S|0;return P}function b(d,S){for(var M=d.length,P=S*(S+1)/2*M|0,x=l.mallocUint32(P*2),E=0,T=0;T<M;++T)for(var i=d[T],S=i.length,R=0;R<S;++R)for(var A=0;A<R;++A){var k=i[A],_=i[R];x[E++]=Math.min(k,_)|0,x[E++]=Math.max(k,_)|0}var H=E/2|0;a(r(x,[H,2]));for(var z=2,T=2;T<E;T+=2)x[T-2]===x[T]&&x[T-1]===x[T+1]||(x[z++]=x[T],x[z++]=x[T+1]);return r(x,[z/2|0,2])}function f(d,S,M,P){for(var x=d.data,E=d.shape[0],T=l.mallocDouble(E),i=0,R=0;R<E;++R){var A=x[2*R],k=x[2*R+1];if(M[A]!==M[k]){var _=S[A],H=S[k];x[2*i]=A,x[2*i+1]=k,T[i++]=(H-P)/(H-_)}}return d.shape[0]=i,r(T,[i])}function w(d,S){var M=l.mallocInt32(S*2),P=d.shape[0],x=d.data;M[0]=0;for(var E=0,T=0;T<P;++T){var i=x[2*T];if(i!==E){for(M[2*E+1]=T;++E<i;)M[2*E]=T,M[2*E+1]=T;M[2*E]=T}}for(M[2*E+1]=P;++E<S;)M[2*E]=M[2*E+1]=P;return M}function v(d){for(var S=d.shape[0]|0,M=d.data,P=new Array(S),x=0;x<S;++x)P[x]=[M[2*x],M[2*x+1]];return P}function o(d,S,M,P){M=M||0,typeof P>"u"&&(P=c(d));var x=d.length;if(x===0||P<1)return{cells:[],vertexIds:[],vertexWeights:[]};var E=u(S,+M),T=b(d,P),i=f(T,S,E,+M),R=w(T,S.length|0),A=s(P)(d,T.data,R,E),k=v(T),_=[].slice.call(i.data,0,i.shape[0]);return l.free(E),l.free(T.data),l.free(i.data),l.free(R),{cells:A,vertexIds:k,vertexWeights:_}}},1168:function(h){h.exports=t;var g=[function(){function l(a,s,c,u){for(var b=a.length,f=[],w=0;w<b;++w){var v=a[w];v.length}return f}return l},function(){function l(s,c,u,b){for(var f=Math.min(u,b)|0,w=Math.max(u,b)|0,v=s[2*f],o=s[2*f+1];v<o;){var d=v+o>>1,S=c[2*d+1];if(S===w)return d;w<S?o=d:v=d+1}return v}function a(s,c,u,b){for(var f=s.length,w=[],v=0;v<f;++v){var o=s[v],d=o.length;if(d===2){var S=(b[o[0]]<<0)+(b[o[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([l(u,c,o[0],o[1])]);break;case 2:w.push([l(u,c,o[1],o[0])]);break}}}return w}return a},function(){function l(s,c,u,b){for(var f=Math.min(u,b)|0,w=Math.max(u,b)|0,v=s[2*f],o=s[2*f+1];v<o;){var d=v+o>>1,S=c[2*d+1];if(S===w)return d;w<S?o=d:v=d+1}return v}function a(s,c,u,b){for(var f=s.length,w=[],v=0;v<f;++v){var o=s[v],d=o.length;if(d===3){var S=(b[o[0]]<<0)+(b[o[1]]<<1)+(b[o[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:w.push([l(u,c,o[0],o[2]),l(u,c,o[0],o[1])]);break;case 2:w.push([l(u,c,o[1],o[0]),l(u,c,o[1],o[2])]);break;case 3:w.push([l(u,c,o[0],o[2]),l(u,c,o[1],o[2])]);break;case 4:w.push([l(u,c,o[2],o[1]),l(u,c,o[2],o[0])]);break;case 5:w.push([l(u,c,o[2],o[1]),l(u,c,o[0],o[1])]);break;case 6:w.push([l(u,c,o[1],o[0]),l(u,c,o[2],o[0])]);break}}else if(d===2){var S=(b[o[0]]<<0)+(b[o[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([l(u,c,o[0],o[1])]);break;case 2:w.push([l(u,c,o[1],o[0])]);break}}}return w}return a},function(){function l(s,c,u,b){for(var f=Math.min(u,b)|0,w=Math.max(u,b)|0,v=s[2*f],o=s[2*f+1];v<o;){var d=v+o>>1,S=c[2*d+1];if(S===w)return d;w<S?o=d:v=d+1}return v}function a(s,c,u,b){for(var f=s.length,w=[],v=0;v<f;++v){var o=s[v],d=o.length;if(d===4){var S=(b[o[0]]<<0)+(b[o[1]]<<1)+(b[o[2]]<<2)+(b[o[3]]<<3);if(S===0||S===15)continue;switch(S){case 0:break;case 1:w.push([l(u,c,o[0],o[1]),l(u,c,o[0],o[2]),l(u,c,o[0],o[3])]);break;case 2:w.push([l(u,c,o[1],o[2]),l(u,c,o[1],o[0]),l(u,c,o[1],o[3])]);break;case 3:w.push([l(u,c,o[1],o[2]),l(u,c,o[0],o[2]),l(u,c,o[0],o[3])],[l(u,c,o[1],o[3]),l(u,c,o[1],o[2]),l(u,c,o[0],o[3])]);break;case 4:w.push([l(u,c,o[2],o[0]),l(u,c,o[2],o[1]),l(u,c,o[2],o[3])]);break;case 5:w.push([l(u,c,o[0],o[1]),l(u,c,o[2],o[1]),l(u,c,o[0],o[3])],[l(u,c,o[2],o[1]),l(u,c,o[2],o[3]),l(u,c,o[0],o[3])]);break;case 6:w.push([l(u,c,o[2],o[0]),l(u,c,o[1],o[0]),l(u,c,o[1],o[3])],[l(u,c,o[2],o[3]),l(u,c,o[2],o[0]),l(u,c,o[1],o[3])]);break;case 7:w.push([l(u,c,o[0],o[3]),l(u,c,o[1],o[3]),l(u,c,o[2],o[3])]);break;case 8:w.push([l(u,c,o[3],o[1]),l(u,c,o[3],o[0]),l(u,c,o[3],o[2])]);break;case 9:w.push([l(u,c,o[3],o[1]),l(u,c,o[0],o[1]),l(u,c,o[0],o[2])],[l(u,c,o[3],o[2]),l(u,c,o[3],o[1]),l(u,c,o[0],o[2])]);break;case 10:w.push([l(u,c,o[1],o[0]),l(u,c,o[3],o[0]),l(u,c,o[1],o[2])],[l(u,c,o[3],o[0]),l(u,c,o[3],o[2]),l(u,c,o[1],o[2])]);break;case 11:w.push([l(u,c,o[1],o[2]),l(u,c,o[0],o[2]),l(u,c,o[3],o[2])]);break;case 12:w.push([l(u,c,o[3],o[0]),l(u,c,o[2],o[0]),l(u,c,o[2],o[1])],[l(u,c,o[3],o[1]),l(u,c,o[3],o[0]),l(u,c,o[2],o[1])]);break;case 13:w.push([l(u,c,o[0],o[1]),l(u,c,o[2],o[1]),l(u,c,o[3],o[1])]);break;case 14:w.push([l(u,c,o[2],o[0]),l(u,c,o[1],o[0]),l(u,c,o[3],o[0])]);break}}else if(d===3){var S=(b[o[0]]<<0)+(b[o[1]]<<1)+(b[o[2]]<<2);if(S===0||S===7)continue;switch(S){case 0:break;case 1:w.push([l(u,c,o[0],o[2]),l(u,c,o[0],o[1])]);break;case 2:w.push([l(u,c,o[1],o[0]),l(u,c,o[1],o[2])]);break;case 3:w.push([l(u,c,o[0],o[2]),l(u,c,o[1],o[2])]);break;case 4:w.push([l(u,c,o[2],o[1]),l(u,c,o[2],o[0])]);break;case 5:w.push([l(u,c,o[2],o[1]),l(u,c,o[0],o[1])]);break;case 6:w.push([l(u,c,o[1],o[0]),l(u,c,o[2],o[0])]);break}}else if(d===2){var S=(b[o[0]]<<0)+(b[o[1]]<<1);if(S===0||S===3)continue;switch(S){case 0:break;case 1:w.push([l(u,c,o[0],o[1])]);break;case 2:w.push([l(u,c,o[1],o[0])]);break}}}return w}return a}];function t(r){return g[r]()}},8211:function(h,g,t){t(2288),t(1731);function r(l,a){var s=l.length,c=l.length-a.length,u=Math.min;if(c)return c;switch(s){case 0:return 0;case 1:return l[0]-a[0];case 2:var o=l[0]+l[1]-a[0]-a[1];return o||u(l[0],l[1])-u(a[0],a[1]);case 3:var b=l[0]+l[1],f=a[0]+a[1];if(o=b+l[2]-(f+a[2]),o)return o;var w=u(l[0],l[1]),v=u(a[0],a[1]),o=u(w,l[2])-u(v,a[2]);return o||u(w+l[2],b)-u(v+a[2],f);default:var d=l.slice(0);d.sort();var S=a.slice(0);S.sort();for(var M=0;M<s;++M)if(c=d[M]-S[M],c)return c;return 0}}g.H=r},9392:function(h,g){"use restrict";var t=32;g.INT_BITS=t,g.INT_MAX=2147483647,g.INT_MIN=-1<<t-1,g.sign=function(a){return(a>0)-(a<0)},g.abs=function(a){var s=a>>t-1;return(a^s)-s},g.min=function(a,s){return s^(a^s)&-(a<s)},g.max=function(a,s){return a^(a^s)&-(a<s)},g.isPow2=function(a){return!(a&a-1)&&!!a},g.log2=function(a){var s,c;return s=(a>65535)<<4,a>>>=s,c=(a>255)<<3,a>>>=c,s|=c,c=(a>15)<<2,a>>>=c,s|=c,c=(a>3)<<1,a>>>=c,s|=c,s|a>>1},g.log10=function(a){return a>=1e9?9:a>=1e8?8:a>=1e7?7:a>=1e6?6:a>=1e5?5:a>=1e4?4:a>=1e3?3:a>=100?2:a>=10?1:0},g.popCount=function(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),(a+(a>>>4)&252645135)*16843009>>>24};function r(a){var s=32;return a&=-a,a&&s--,a&65535&&(s-=16),a&16711935&&(s-=8),a&252645135&&(s-=4),a&858993459&&(s-=2),a&1431655765&&(s-=1),s}g.countTrailingZeros=r,g.nextPow2=function(a){return a+=a===0,--a,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a+1},g.prevPow2=function(a){return a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a-(a>>>1)},g.parity=function(a){return a^=a>>>16,a^=a>>>8,a^=a>>>4,a&=15,27030>>>a&1};var l=new Array(256);(function(a){for(var s=0;s<256;++s){var c=s,u=s,b=7;for(c>>>=1;c;c>>>=1)u<<=1,u|=c&1,--b;a[s]=u<<b&255}})(l),g.reverse=function(a){return l[a&255]<<24|l[a>>>8&255]<<16|l[a>>>16&255]<<8|l[a>>>24&255]},g.interleave2=function(a,s){return a&=65535,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,s&=65535,s=(s|s<<8)&16711935,s=(s|s<<4)&252645135,s=(s|s<<2)&858993459,s=(s|s<<1)&1431655765,a|s<<1},g.deinterleave2=function(a,s){return a=a>>>s&1431655765,a=(a|a>>>1)&858993459,a=(a|a>>>2)&252645135,a=(a|a>>>4)&16711935,a=(a|a>>>16)&65535,a<<16>>16},g.interleave3=function(a,s,c){return a&=1023,a=(a|a<<16)&4278190335,a=(a|a<<8)&251719695,a=(a|a<<4)&3272356035,a=(a|a<<2)&1227133513,s&=1023,s=(s|s<<16)&4278190335,s=(s|s<<8)&251719695,s=(s|s<<4)&3272356035,s=(s|s<<2)&1227133513,a|=s<<1,c&=1023,c=(c|c<<16)&4278190335,c=(c|c<<8)&251719695,c=(c|c<<4)&3272356035,c=(c|c<<2)&1227133513,a|c<<2},g.deinterleave3=function(a,s){return a=a>>>s&1227133513,a=(a|a>>>2)&3272356035,a=(a|a>>>4)&251719695,a=(a|a>>>8)&4278190335,a=(a|a>>>16)&1023,a<<22>>22},g.nextCombination=function(a){var s=a|a-1;return s+1|(~s&-~s)-1>>>r(a)+1}},6656:function(h,g,t){"use restrict";var r=t(9392),l=t(9521);function a(i){for(var R=0,A=Math.max,k=0,_=i.length;k<_;++k)R=A(R,i[k].length);return R-1}g.dimension=a;function s(i){for(var R=-1,A=Math.max,k=0,_=i.length;k<_;++k)for(var H=i[k],z=0,N=H.length;z<N;++z)R=A(R,H[z]);return R+1}g.countVertices=s;function c(i){for(var R=new Array(i.length),A=0,k=i.length;A<k;++A)R[A]=i[A].slice(0);return R}g.cloneCells=c;function u(i,R){var A=i.length,k=i.length-R.length,_=Math.min;if(k)return k;switch(A){case 0:return 0;case 1:return i[0]-R[0];case 2:var F=i[0]+i[1]-R[0]-R[1];return F||_(i[0],i[1])-_(R[0],R[1]);case 3:var H=i[0]+i[1],z=R[0]+R[1];if(F=H+i[2]-(z+R[2]),F)return F;var N=_(i[0],i[1]),O=_(R[0],R[1]),F=_(N,i[2])-_(O,R[2]);return F||_(N+i[2],H)-_(O+R[2],z);default:var U=i.slice(0);U.sort();var Z=R.slice(0);Z.sort();for(var q=0;q<A;++q)if(k=U[q]-Z[q],k)return k;return 0}}g.compareCells=u;function b(i,R){return u(i[0],R[0])}function f(i,R){if(R){for(var A=i.length,k=new Array(A),_=0;_<A;++_)k[_]=[i[_],R[_]];k.sort(b);for(var _=0;_<A;++_)i[_]=k[_][0],R[_]=k[_][1];return i}else return i.sort(u),i}g.normalize=f;function w(i){if(i.length===0)return[];for(var R=1,A=i.length,k=1;k<A;++k){var _=i[k];if(u(_,i[k-1])){if(k===R){R++;continue}i[R++]=_}}return i.length=R,i}g.unique=w;function v(i,R){for(var A=0,k=i.length-1,_=-1;A<=k;){var H=A+k>>1,z=u(i[H],R);z<=0?(z===0&&(_=H),A=H+1):z>0&&(k=H-1)}return _}g.findCell=v;function o(i,R){for(var A=new Array(i.length),k=0,_=A.length;k<_;++k)A[k]=[];for(var H=[],k=0,z=R.length;k<z;++k)for(var N=R[k],O=N.length,F=1,U=1<<O;F<U;++F){H.length=r.popCount(F);for(var Z=0,q=0;q<O;++q)F&1<<q&&(H[Z++]=N[q]);var J=v(i,H);if(!(J<0))for(;A[J++].push(k),!(J>=i.length||u(i[J],H)!==0););}return A}g.incidence=o;function d(i,R){if(!R)return o(w(M(i,0)),i);for(var A=new Array(R),k=0;k<R;++k)A[k]=[];for(var k=0,_=i.length;k<_;++k)for(var H=i[k],z=0,N=H.length;z<N;++z)A[H[z]].push(k);return A}g.dual=d;function S(i){for(var R=[],A=0,k=i.length;A<k;++A)for(var _=i[A],H=_.length|0,z=1,N=1<<H;z<N;++z){for(var O=[],F=0;F<H;++F)z>>>F&1&&O.push(_[F]);R.push(O)}return f(R)}g.explode=S;function M(i,R){if(R<0)return[];for(var A=[],k=(1<<R+1)-1,_=0;_<i.length;++_)for(var H=i[_],z=k;z<1<<H.length;z=r.nextCombination(z)){for(var N=new Array(R+1),O=0,F=0;F<H.length;++F)z&1<<F&&(N[O++]=H[F]);A.push(N)}return f(A)}g.skeleton=M;function P(i){for(var R=[],A=0,k=i.length;A<k;++A)for(var _=i[A],H=0,z=_.length;H<z;++H){for(var N=new Array(_.length-1),O=0,F=0;O<z;++O)O!==H&&(N[F++]=_[O]);R.push(N)}return f(R)}g.boundary=P;function x(i,R){for(var A=new l(R),k=0;k<i.length;++k)for(var _=i[k],H=0;H<_.length;++H)for(var z=H+1;z<_.length;++z)A.link(_[H],_[z]);for(var N=[],O=A.ranks,k=0;k<O.length;++k)O[k]=-1;for(var k=0;k<i.length;++k){var F=A.find(i[k][0]);O[F]<0?(O[F]=N.length,N.push([i[k].slice(0)])):N[O[F]].push(i[k].slice(0))}return N}function E(i){for(var R=w(f(M(i,0))),A=new l(R.length),k=0;k<i.length;++k)for(var _=i[k],H=0;H<_.length;++H)for(var z=v(R,[_[H]]),N=H+1;N<_.length;++N)A.link(z,v(R,[_[N]]));for(var O=[],F=A.ranks,k=0;k<F.length;++k)F[k]=-1;for(var k=0;k<i.length;++k){var U=A.find(v(R,[i[k][0]]));F[U]<0?(F[U]=O.length,O.push([i[k].slice(0)])):O[F[U]].push(i[k].slice(0))}return O}function T(i,R){return R?x(i,R):E(i)}g.connectedComponents=T},9521:function(h){"use restrict";h.exports=g;function g(t){this.roots=new Array(t),this.ranks=new Array(t);for(var r=0;r<t;++r)this.roots[r]=r,this.ranks[r]=0}g.prototype.length=function(){return this.roots.length},g.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},g.prototype.find=function(t){for(var r=this.roots;r[t]!==t;){var l=r[t];r[t]=r[l],t=l}return t},g.prototype.link=function(t,r){var l=this.find(t),a=this.find(r);if(l!==a){var s=this.ranks,c=this.roots,u=s[l],b=s[a];u<b?c[l]=a:b<u?c[a]=l:(c[a]=l,++s[l])}}},8243:function(h,g,t){h.exports=s;var r=t(417),l=t(6656);function a(c,u,b){var f=Math.abs(r(c,u,b)),w=Math.sqrt(Math.pow(u[0]-b[0],2)+Math.pow(u[1]-b[1],2));return f/w}function s(c,u,b){for(var f=u.length,w=c.length,v=new Array(f),o=new Array(f),d=new Array(f),S=new Array(f),M=0;M<f;++M)v[M]=o[M]=-1,d[M]=1/0,S[M]=!1;for(var M=0;M<w;++M){var P=c[M];if(P.length!==2)throw new Error("Input must be a graph");var x=P[1],E=P[0];o[E]!==-1?o[E]=-2:o[E]=x,v[x]!==-1?v[x]=-2:v[x]=E}function T(K){if(S[K])return 1/0;var Y=v[K],W=o[K];return Y<0||W<0?1/0:a(u[K],u[Y],u[W])}function i(K,Y){var W=O[K],X=O[Y];O[K]=X,O[Y]=W,F[W]=Y,F[X]=K}function R(K){return d[O[K]]}function A(K){return K&1?K-1>>1:(K>>1)-1}function k(K){for(var Y=R(K);;){var W=Y,X=2*K+1,re=2*(K+1),se=K;if(X<Z){var Q=R(X);Q<W&&(se=X,W=Q)}if(re<Z){var ee=R(re);ee<W&&(se=re)}if(se===K)return K;i(K,se),K=se}}function _(K){for(var Y=R(K);K>0;){var W=A(K);if(W>=0){var X=R(W);if(Y<X){i(K,W),K=W;continue}}return K}}function H(){if(Z>0){var K=O[0];return i(0,Z-1),Z-=1,k(0),K}return-1}function z(K,Y){var W=O[K];return d[W]===Y?K:(d[W]=-1/0,_(K),H(),d[W]=Y,Z+=1,_(Z-1))}function N(K){if(!S[K]){S[K]=!0;var Y=v[K],W=o[K];v[W]>=0&&(v[W]=Y),o[Y]>=0&&(o[Y]=W),F[Y]>=0&&z(F[Y],T(Y)),F[W]>=0&&z(F[W],T(W))}}for(var O=[],F=new Array(f),M=0;M<f;++M){var U=d[M]=T(M);U<1/0?(F[M]=O.length,O.push(M)):F[M]=-1}for(var Z=O.length,M=Z>>1;M>=0;--M)k(M);for(;;){var q=H();if(q<0||d[q]>b)break;N(q)}for(var J=[],M=0;M<f;++M)S[M]||(F[M]=J.length,J.push(u[M].slice()));J.length;function te(K,Y){if(K[Y]<0)return Y;var W=Y,X=Y;do{var re=K[X];if(!S[X]||re<0||re===X||(X=re,re=K[X],!S[X]||re<0||re===X))break;X=re,W=K[W]}while(W!==X);for(var se=Y;se!==X;se=K[se])K[se]=X;return X}var fe=[];return c.forEach(function(K){var Y=te(v,K[0]),W=te(o,K[1]);if(Y>=0&&W>=0&&Y!==W){var X=F[Y],re=F[W];X!==re&&fe.push([X,re])}}),l.unique(l.normalize(fe)),{positions:J,edges:fe}}},6638:function(h,g,t){h.exports=a;var r=t(417);function l(s,c){var u,b;if(c[0][0]<c[1][0])u=c[0],b=c[1];else if(c[0][0]>c[1][0])u=c[1],b=c[0];else{var f=Math.min(s[0][1],s[1][1]),w=Math.max(s[0][1],s[1][1]),v=Math.min(c[0][1],c[1][1]),o=Math.max(c[0][1],c[1][1]);return w<v?w-v:f>o?f-o:w-o}var d,S;s[0][1]<s[1][1]?(d=s[0],S=s[1]):(d=s[1],S=s[0]);var M=r(b,u,d);return M||(M=r(b,u,S),M)?M:S-b}function a(s,c){var u,b;if(c[0][0]<c[1][0])u=c[0],b=c[1];else if(c[0][0]>c[1][0])u=c[1],b=c[0];else return l(c,s);var f,w;if(s[0][0]<s[1][0])f=s[0],w=s[1];else if(s[0][0]>s[1][0])f=s[1],w=s[0];else return-l(s,c);var v=r(u,b,w),o=r(u,b,f);if(v<0){if(o<=0)return v}else if(v>0){if(o>=0)return v}else if(o)return o;if(v=r(w,f,b),o=r(w,f,u),v<0){if(o<=0)return v}else if(v>0){if(o>=0)return v}else if(o)return o;return b[0]-w[0]}},4385:function(h,g,t){h.exports=o;var r=t(5070),l=t(7080),a=t(417),s=t(6638);function c(d,S,M){this.slabs=d,this.coordinates=S,this.horizontal=M}var u=c.prototype;function b(d,S){return d.y-S}function f(d,S){for(var M=null;d;){var P=d.key,x,E;P[0][0]<P[1][0]?(x=P[0],E=P[1]):(x=P[1],E=P[0]);var T=a(x,E,S);if(T<0)d=d.left;else if(T>0)if(S[0]!==P[1][0])M=d,d=d.right;else{var i=f(d.right,S);if(i)return i;d=d.left}else{if(S[0]!==P[1][0])return d;var i=f(d.right,S);if(i)return i;d=d.left}}return M}u.castUp=function(d){var S=r.le(this.coordinates,d[0]);if(S<0)return-1;this.slabs[S];var M=f(this.slabs[S],d),P=-1;if(M&&(P=M.value),this.coordinates[S]===d[0]){var x=null;if(M&&(x=M.key),S>0){var E=f(this.slabs[S-1],d);E&&(x?s(E.key,x)>0&&(x=E.key,P=E.value):(P=E.value,x=E.key))}var T=this.horizontal[S];if(T.length>0){var i=r.ge(T,d[1],b);if(i<T.length){var R=T[i];if(d[1]===R.y){if(R.closed)return R.index;for(;i<T.length-1&&T[i+1].y===d[1];)if(i=i+1,R=T[i],R.closed)return R.index;if(R.y===d[1]&&!R.start){if(i=i+1,i>=T.length)return P;R=T[i]}}if(R.start)if(x){var A=a(x[0],x[1],[d[0],R.y]);x[0][0]>x[1][0]&&(A=-A),A>0&&(P=R.index)}else P=R.index;else R.y!==d[1]&&(P=R.index)}}}return P};function w(d,S,M,P){this.y=d,this.index=S,this.start=M,this.closed=P}function v(d,S,M,P){this.x=d,this.segment=S,this.create=M,this.index=P}function o(d){for(var S=d.length,M=2*S,P=new Array(M),x=0;x<S;++x){var E=d[x],T=E[0][0]<E[1][0];P[2*x]=new v(E[0][0],E,T,x),P[2*x+1]=new v(E[1][0],E,!T,x)}P.sort(function(N,O){var F=N.x-O.x;return F||(F=N.create-O.create,F)?F:Math.min(N.segment[0][1],N.segment[1][1])-Math.min(O.segment[0][1],O.segment[1][1])});for(var i=l(s),R=[],A=[],k=[],x=0;x<M;){for(var _=P[x].x,H=[];x<M;){var z=P[x];if(z.x!==_)break;x+=1,z.segment[0][0]===z.x&&z.segment[1][0]===z.x?z.create&&(z.segment[0][1]<z.segment[1][1]?(H.push(new w(z.segment[0][1],z.index,!0,!0)),H.push(new w(z.segment[1][1],z.index,!1,!1))):(H.push(new w(z.segment[1][1],z.index,!0,!1)),H.push(new w(z.segment[0][1],z.index,!1,!0)))):z.create?i=i.insert(z.segment,z.index):i=i.remove(z.segment)}R.push(i.root),A.push(_),k.push(H)}return new c(R,A,k)}},4670:function(h,g,t){var r=t(9130),l=t(9662);h.exports=c,h.exports.positive=u,h.exports.negative=b;function a(f,w){var v=l(r(f,w),[w[w.length-1]]);return v[v.length-1]}function s(f,w,v,o){var d=o-w,S=-w/d;S<0?S=0:S>1&&(S=1);for(var M=1-S,P=f.length,x=new Array(P),E=0;E<P;++E)x[E]=S*f[E]+M*v[E];return x}function c(f,w){for(var v=[],o=[],d=a(f[f.length-1],w),S=f[f.length-1],M=f[0],P=0;P<f.length;++P,S=M){M=f[P];var x=a(M,w);if(d<0&&x>0||d>0&&x<0){var E=s(S,x,M,d);v.push(E),o.push(E.slice())}x<0?o.push(M.slice()):x>0?v.push(M.slice()):(v.push(M.slice()),o.push(M.slice())),d=x}return{positive:v,negative:o}}function u(f,w){for(var v=[],o=a(f[f.length-1],w),d=f[f.length-1],S=f[0],M=0;M<f.length;++M,d=S){S=f[M];var P=a(S,w);(o<0&&P>0||o>0&&P<0)&&v.push(s(d,P,S,o)),P>=0&&v.push(S.slice()),o=P}return v}function b(f,w){for(var v=[],o=a(f[f.length-1],w),d=f[f.length-1],S=f[0],M=0;M<f.length;++M,d=S){S=f[M];var P=a(S,w);(o<0&&P>0||o>0&&P<0)&&v.push(s(d,P,S,o)),P<=0&&v.push(S.slice()),o=P}return v}},8974:function(h,g,t){var r;(function(){var l={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function a(f){return c(b(f),arguments)}function s(f,w){return a.apply(null,[f].concat(w||[]))}function c(f,w){var v=1,o=f.length,d,S="",M,P,x,E,T,i,R,A;for(M=0;M<o;M++)if(typeof f[M]=="string")S+=f[M];else if(typeof f[M]=="object"){if(x=f[M],x.keys)for(d=w[v],P=0;P<x.keys.length;P++){if(d==null)throw new Error(a('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[P],x.keys[P-1]));d=d[x.keys[P]]}else x.param_no?d=w[x.param_no]:d=w[v++];if(l.not_type.test(x.type)&&l.not_primitive.test(x.type)&&d instanceof Function&&(d=d()),l.numeric_arg.test(x.type)&&typeof d!="number"&&isNaN(d))throw new TypeError(a("[sprintf] expecting number but found %T",d));switch(l.number.test(x.type)&&(R=d>=0),x.type){case"b":d=parseInt(d,10).toString(2);break;case"c":d=String.fromCharCode(parseInt(d,10));break;case"d":case"i":d=parseInt(d,10);break;case"j":d=JSON.stringify(d,null,x.width?parseInt(x.width):0);break;case"e":d=x.precision?parseFloat(d).toExponential(x.precision):parseFloat(d).toExponential();break;case"f":d=x.precision?parseFloat(d).toFixed(x.precision):parseFloat(d);break;case"g":d=x.precision?String(Number(d.toPrecision(x.precision))):parseFloat(d);break;case"o":d=(parseInt(d,10)>>>0).toString(8);break;case"s":d=String(d),d=x.precision?d.substring(0,x.precision):d;break;case"t":d=String(!!d),d=x.precision?d.substring(0,x.precision):d;break;case"T":d=Object.prototype.toString.call(d).slice(8,-1).toLowerCase(),d=x.precision?d.substring(0,x.precision):d;break;case"u":d=parseInt(d,10)>>>0;break;case"v":d=d.valueOf(),d=x.precision?d.substring(0,x.precision):d;break;case"x":d=(parseInt(d,10)>>>0).toString(16);break;case"X":d=(parseInt(d,10)>>>0).toString(16).toUpperCase();break}l.json.test(x.type)?S+=d:(l.number.test(x.type)&&(!R||x.sign)?(A=R?"+":"-",d=d.toString().replace(l.sign,"")):A="",T=x.pad_char?x.pad_char==="0"?"0":x.pad_char.charAt(1):" ",i=x.width-(A+d).length,E=x.width&&i>0?T.repeat(i):"",S+=x.align?A+d+E:T==="0"?A+E+d:E+A+d)}return S}var u=Object.create(null);function b(f){if(u[f])return u[f];for(var w=f,v,o=[],d=0;w;){if((v=l.text.exec(w))!==null)o.push(v[0]);else if((v=l.modulo.exec(w))!==null)o.push("%");else if((v=l.placeholder.exec(w))!==null){if(v[2]){d|=1;var S=[],M=v[2],P=[];if((P=l.key.exec(M))!==null)for(S.push(P[1]);(M=M.substring(P[0].length))!=="";)if((P=l.key_access.exec(M))!==null)S.push(P[1]);else if((P=l.index_access.exec(M))!==null)S.push(P[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");v[2]=S}else d|=2;if(d===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");o.push({placeholder:v[0],param_no:v[1],keys:v[2],sign:v[3],pad_char:v[4],align:v[5],width:v[6],precision:v[7],type:v[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");w=w.substring(v[0].length)}return u[f]=o}g.sprintf=a,g.vsprintf=s,typeof window<"u"&&(window.sprintf=a,window.vsprintf=s,r=(function(){return{sprintf:a,vsprintf:s}}).call(g,t,g,h),r!==void 0&&(h.exports=r))})()},4162:function(h,g,t){h.exports=b;var r=t(9284),l=t(9584),a={"2d":function(f,w,v){var o=f({order:w,scalarArguments:3,getters:v==="generic"?[0]:void 0,phase:function(S,M,P,x){return S>x|0},vertex:function(S,M,P,x,E,T,i,R,A,k,_,H,z){var N=(i<<0)+(R<<1)+(A<<2)+(k<<3)|0;if(!(N===0||N===15))switch(N){case 0:_.push([S-.5,M-.5]);break;case 1:_.push([S-.25-.25*(x+P-2*z)/(P-x),M-.25-.25*(E+P-2*z)/(P-E)]);break;case 2:_.push([S-.75-.25*(-x-P+2*z)/(x-P),M-.25-.25*(T+x-2*z)/(x-T)]);break;case 3:_.push([S-.5,M-.5-.5*(E+P+T+x-4*z)/(P-E+x-T)]);break;case 4:_.push([S-.25-.25*(T+E-2*z)/(E-T),M-.75-.25*(-E-P+2*z)/(E-P)]);break;case 5:_.push([S-.5-.5*(x+P+T+E-4*z)/(P-x+E-T),M-.5]);break;case 6:_.push([S-.5-.25*(-x-P+T+E)/(x-P+E-T),M-.5-.25*(-E-P+T+x)/(E-P+x-T)]);break;case 7:_.push([S-.75-.25*(T+E-2*z)/(E-T),M-.75-.25*(T+x-2*z)/(x-T)]);break;case 8:_.push([S-.75-.25*(-T-E+2*z)/(T-E),M-.75-.25*(-T-x+2*z)/(T-x)]);break;case 9:_.push([S-.5-.25*(x+P+-T-E)/(P-x+T-E),M-.5-.25*(E+P+-T-x)/(P-E+T-x)]);break;case 10:_.push([S-.5-.5*(-x-P+-T-E+4*z)/(x-P+T-E),M-.5]);break;case 11:_.push([S-.25-.25*(-T-E+2*z)/(T-E),M-.75-.25*(E+P-2*z)/(P-E)]);break;case 12:_.push([S-.5,M-.5-.5*(-E-P+-T-x+4*z)/(E-P+T-x)]);break;case 13:_.push([S-.75-.25*(x+P-2*z)/(P-x),M-.25-.25*(-T-x+2*z)/(T-x)]);break;case 14:_.push([S-.25-.25*(-x-P+2*z)/(x-P),M-.25-.25*(-E-P+2*z)/(E-P)]);break;case 15:_.push([S-.5,M-.5]);break}},cell:function(S,M,P,x,E,T,i,R,A){E?R.push([S,M]):R.push([M,S])}});return function(d,S){var M=[],P=[];return o(d,M,P,S),{positions:M,cells:P}}}};function s(f,w){var v=f.length+"d",o=a[v];if(o)return o(r,f,w)}function c(f,w){for(var v=l(f,w),o=v.length,d=new Array(o),S=new Array(o),M=0;M<o;++M)d[M]=[v[M]],S[M]=[M];return{positions:d,cells:S}}var u={};function b(f,d){if(f.dimension<=0)return{positions:[],cells:[]};if(f.dimension===1)return c(f,d);var v=f.order.join()+"-"+f.dtype,o=u[v],d=+d||0;return o||(o=u[v]=s(f.order,f.dtype)),o(f,d)}},6946:function(h,g,t){h.exports=c;var r=t(875),l=window||p.global||{},a=l.__TEXT_CACHE||{};l.__TEXT_CACHE={};function s(u){for(var b=u.cells,f=u.positions,w=new Float32Array(b.length*6),v=0,o=0,d=0;d<b.length;++d)for(var S=b[d],M=0;M<3;++M){var P=f[S[M]];w[v++]=P[0],w[v++]=P[1]+1.4,o=Math.max(P[0],o)}return{data:w,shape:o}}function c(u,b,w){var w=w||{},v=a[u];v||(v=a[u]={" ":{data:new Float32Array(0),shape:.2}});var o=v[b];if(!o)if(b.length<=1||!/\d/.test(b))o=v[b]=s(r(b,{triangles:!0,font:u,textAlign:w.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var d=b.split(/(\d|\s)/),S=new Array(d.length),M=0,P=0,x=0;x<d.length;++x)S[x]=c(u,d[x]),M+=S[x].data.length,P+=S[x].shape,x>0&&(P+=.02);for(var E=new Float32Array(M),T=0,i=-.5*P,x=0;x<S.length;++x){for(var R=S[x].data,A=0;A<R.length;A+=2)E[T++]=R[A]+i,E[T++]=R[A+1];i+=S[x].shape+.02}o=v[b]={data:E,shape:P}}return o}},14:function(h,g,t){var r=t(4405);h.exports=c;var l=96;function a(u,b){var f=r(getComputedStyle(u).getPropertyValue(b));return f[0]*c(f[1],u)}function s(u,b){var f=document.createElement("div");f.style["font-size"]="128"+u,b.appendChild(f);var w=a(f,"font-size")/128;return b.removeChild(f),w}function c(u,b){switch(b=b||document.body,u=(u||"px").trim().toLowerCase(),(b===window||b===document)&&(b=document.body),u){case"%":return b.clientHeight/100;case"ch":case"ex":return s(u,b);case"em":return a(b,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return l;case"cm":return l/2.54;case"mm":return l/25.4;case"pt":return l/72;case"pc":return l/6}return 1}},3440:function(h,g,t){h.exports=S;var r=t(8444),l=t(7437),a=t(4422),s=t(903),c=t(899),u=t(9305);function b(M,P,x){return Math.sqrt(Math.pow(M,2)+Math.pow(P,2)+Math.pow(x,2))}function f(M){return Math.min(1,Math.max(-1,M))}function w(M){var P=Math.abs(M[0]),x=Math.abs(M[1]),E=Math.abs(M[2]),T=[0,0,0];P>Math.max(x,E)?T[2]=1:x>Math.max(P,E)?T[0]=1:T[1]=1;for(var i=0,R=0,A=0;A<3;++A)i+=M[A]*M[A],R+=T[A]*M[A];for(var A=0;A<3;++A)T[A]-=R/i*M[A];return c(T,T),T}function v(M,P,x,E,T,i,R,A){this.center=r(x),this.up=r(E),this.right=r(T),this.radius=r([i]),this.angle=r([R,A]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(M,P),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var k=0;k<16;++k)this.computedMatrix[k]=.5;this.recalcMatrix(0)}var o=v.prototype;o.setDistanceLimits=function(M,P){M>0?M=Math.log(M):M=-1/0,P>0?P=Math.log(P):P=1/0,P=Math.max(P,M),this.radius.bounds[0][0]=M,this.radius.bounds[1][0]=P},o.getDistanceLimits=function(M){var P=this.radius.bounds[0];return M?(M[0]=Math.exp(P[0][0]),M[1]=Math.exp(P[1][0]),M):[Math.exp(P[0][0]),Math.exp(P[1][0])]},o.recalcMatrix=function(M){this.center.curve(M),this.up.curve(M),this.right.curve(M),this.radius.curve(M),this.angle.curve(M);for(var P=this.computedUp,x=this.computedRight,E=0,T=0,i=0;i<3;++i)T+=P[i]*x[i],E+=P[i]*P[i];for(var R=Math.sqrt(E),A=0,i=0;i<3;++i)x[i]-=P[i]*T/E,A+=x[i]*x[i],P[i]/=R;for(var k=Math.sqrt(A),i=0;i<3;++i)x[i]/=k;var _=this.computedToward;s(_,P,x),c(_,_);for(var H=Math.exp(this.computedRadius[0]),z=this.computedAngle[0],N=this.computedAngle[1],O=Math.cos(z),F=Math.sin(z),U=Math.cos(N),Z=Math.sin(N),q=this.computedCenter,J=O*U,te=F*U,fe=Z,K=-O*Z,Y=-F*Z,W=U,X=this.computedEye,re=this.computedMatrix,i=0;i<3;++i){var se=J*x[i]+te*_[i]+fe*P[i];re[4*i+1]=K*x[i]+Y*_[i]+W*P[i],re[4*i+2]=se,re[4*i+3]=0}var Q=re[1],ee=re[5],le=re[9],oe=re[2],he=re[6],xe=re[10],Ae=ee*xe-le*he,Se=le*oe-Q*xe,Oe=Q*he-ee*oe,Ve=b(Ae,Se,Oe);Ae/=Ve,Se/=Ve,Oe/=Ve,re[0]=Ae,re[4]=Se,re[8]=Oe;for(var i=0;i<3;++i)X[i]=q[i]+re[2+4*i]*H;for(var i=0;i<3;++i){for(var A=0,Ee=0;Ee<3;++Ee)A+=re[i+4*Ee]*X[Ee];re[12+i]=-A}re[15]=1},o.getMatrix=function(M,P){this.recalcMatrix(M);var x=this.computedMatrix;if(P){for(var E=0;E<16;++E)P[E]=x[E];return P}return x};var d=[0,0,0];o.rotate=function(M,P,x,E){if(this.angle.move(M,P,x),E){this.recalcMatrix(M);var T=this.computedMatrix;d[0]=T[2],d[1]=T[6],d[2]=T[10];for(var i=this.computedUp,R=this.computedRight,A=this.computedToward,k=0;k<3;++k)T[4*k]=i[k],T[4*k+1]=R[k],T[4*k+2]=A[k];a(T,T,E,d);for(var k=0;k<3;++k)i[k]=T[4*k],R[k]=T[4*k+1];this.up.set(M,i[0],i[1],i[2]),this.right.set(M,R[0],R[1],R[2])}},o.pan=function(M,P,x,E){P=P||0,x=x||0,E=E||0,this.recalcMatrix(M);var T=this.computedMatrix;Math.exp(this.computedRadius[0]);var i=T[1],R=T[5],A=T[9],k=b(i,R,A);i/=k,R/=k,A/=k;var _=T[0],H=T[4],z=T[8],N=_*i+H*R+z*A;_-=i*N,H-=R*N,z-=A*N;var O=b(_,H,z);_/=O,H/=O,z/=O;var F=_*P+i*x,U=H*P+R*x,Z=z*P+A*x;this.center.move(M,F,U,Z);var q=Math.exp(this.computedRadius[0]);q=Math.max(1e-4,q+E),this.radius.set(M,Math.log(q))},o.translate=function(M,P,x,E){this.center.move(M,P||0,x||0,E||0)},o.setMatrix=function(M,P,x,E){var T=1;typeof x=="number"&&(T=x|0),(T<0||T>3)&&(T=1);var i=(T+2)%3;P||(this.recalcMatrix(M),P=this.computedMatrix);var R=P[T],A=P[T+4],k=P[T+8];if(E){var H=Math.abs(R),z=Math.abs(A),N=Math.abs(k),O=Math.max(H,z,N);H===O?(R=R<0?-1:1,A=k=0):N===O?(k=k<0?-1:1,R=A=0):(A=A<0?-1:1,R=k=0)}else{var _=b(R,A,k);R/=_,A/=_,k/=_}var F=P[i],U=P[i+4],Z=P[i+8],q=F*R+U*A+Z*k;F-=R*q,U-=A*q,Z-=k*q;var J=b(F,U,Z);F/=J,U/=J,Z/=J;var te=A*Z-k*U,fe=k*F-R*Z,K=R*U-A*F,Y=b(te,fe,K);te/=Y,fe/=Y,K/=Y,this.center.jump(M,He,ke,We),this.radius.idle(M),this.up.jump(M,R,A,k),this.right.jump(M,F,U,Z);var W,X;if(T===2){var re=P[1],se=P[5],Q=P[9],ee=re*F+se*U+Q*Z,le=re*te+se*fe+Q*K;Ae<0?W=-Math.PI/2:W=Math.PI/2,X=Math.atan2(le,ee)}else{var oe=P[2],he=P[6],xe=P[10],Ae=oe*R+he*A+xe*k,Se=oe*F+he*U+xe*Z,Oe=oe*te+he*fe+xe*K;W=Math.asin(f(Ae)),X=Math.atan2(Oe,Se)}this.angle.jump(M,X,W),this.recalcMatrix(M);var Ve=P[2],Ee=P[6],Te=P[10],Le=this.computedMatrix;l(Le,P);var Ge=Le[15],He=Le[12]/Ge,ke=Le[13]/Ge,We=Le[14]/Ge,nt=Math.exp(this.computedRadius[0]);this.center.jump(M,He-Ve*nt,ke-Ee*nt,We-Te*nt)},o.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},o.idle=function(M){this.center.idle(M),this.up.idle(M),this.right.idle(M),this.radius.idle(M),this.angle.idle(M)},o.flush=function(M){this.center.flush(M),this.up.flush(M),this.right.flush(M),this.radius.flush(M),this.angle.flush(M)},o.setDistance=function(M,P){P>0&&this.radius.set(M,Math.log(P))},o.lookAt=function(M,P,x,E){this.recalcMatrix(M),P=P||this.computedEye,x=x||this.computedCenter,E=E||this.computedUp;var T=E[0],i=E[1],R=E[2],A=b(T,i,R);if(!(A<1e-6)){T/=A,i/=A,R/=A;var k=P[0]-x[0],_=P[1]-x[1],H=P[2]-x[2],z=b(k,_,H);if(!(z<1e-6)){k/=z,_/=z,H/=z;var N=this.computedRight,O=N[0],F=N[1],U=N[2],Z=T*O+i*F+R*U;O-=Z*T,F-=Z*i,U-=Z*R;var q=b(O,F,U);if(!(q<.01&&(O=i*H-R*_,F=R*k-T*H,U=T*_-i*k,q=b(O,F,U),q<1e-6))){O/=q,F/=q,U/=q,this.up.set(M,T,i,R),this.right.set(M,O,F,U),this.center.set(M,x[0],x[1],x[2]),this.radius.set(M,Math.log(z));var J=i*U-R*F,te=R*O-T*U,fe=T*F-i*O,K=b(J,te,fe);J/=K,te/=K,fe/=K;var Y=T*k+i*_+R*H,W=O*k+F*_+U*H,X=J*k+te*_+fe*H,re=Math.asin(f(Y)),se=Math.atan2(X,W),Q=this.angle._state,ee=Q[Q.length-1],le=Q[Q.length-2];ee=ee%(2*Math.PI);var oe=Math.abs(ee+2*Math.PI-se),he=Math.abs(ee-se),xe=Math.abs(ee-2*Math.PI-se);oe<he&&(ee+=2*Math.PI),xe<he&&(ee-=2*Math.PI),this.angle.jump(this.angle.lastT(),ee,le),this.angle.set(M,se,re)}}}};function S(M){M=M||{};var P=M.center||[0,0,0],x=M.up||[0,1,0],E=M.right||w(x),T=M.radius||1,i=M.theta||0,R=M.phi||0;if(P=[].slice.call(P,0,3),x=[].slice.call(x,0,3),c(x,x),E=[].slice.call(E,0,3),c(E,E),"eye"in M){var A=M.eye,k=[A[0]-P[0],A[1]-P[1],A[2]-P[2]];s(E,k,x),b(E[0],E[1],E[2])<1e-6?E=w(x):c(E,E),T=b(k[0],k[1],k[2]);var _=u(x,k)/T,H=u(E,k)/T;R=Math.acos(_),i=Math.acos(H)}return T=Math.log(T),new v(M.zoomMin,M.zoomMax,P,x,E,T,i,R)}},9660:function(h){h.exports=t;var g=+(Math.pow(2,27)+1);function t(r,l,a){var s=r*l,c=g*r,u=c-r,b=c-u,f=r-b,w=g*l,v=w-l,o=w-v,d=l-o,S=s-b*o,M=S-f*o,P=M-b*d,x=f*d-P;return a?(a[0]=x,a[1]=s,a):[x,s]}},87:function(h){h.exports=g;function g(t,r,l){var a=t+r,s=a-t,c=a-s,u=r-s,b=t-c;return l?(l[0]=b+u,l[1]=a,l):[b+u,a]}},5306:function(h,g,t){var r=t(2288),l=t(3094),a=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:l([32,0]),UINT16:l([32,0]),UINT32:l([32,0]),BIGUINT64:l([32,0]),INT8:l([32,0]),INT16:l([32,0]),INT32:l([32,0]),BIGINT64:l([32,0]),FLOAT:l([32,0]),DOUBLE:l([32,0]),DATA:l([32,0]),UINT8C:l([32,0]),BUFFER:l([32,0])});var s=typeof Uint8ClampedArray<"u",c=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",b=t.g.__TYPEDARRAY_POOL;b.UINT8C||(b.UINT8C=l([32,0])),b.BIGUINT64||(b.BIGUINT64=l([32,0])),b.BIGINT64||(b.BIGINT64=l([32,0])),b.BUFFER||(b.BUFFER=l([32,0]));var f=b.DATA,w=b.BUFFER;g.free=function(O){if(a.isBuffer(O))w[r.log2(O.length)].push(O);else{if(Object.prototype.toString.call(O)!=="[object ArrayBuffer]"&&(O=O.buffer),!O)return;var F=O.length||O.byteLength,U=r.log2(F)|0;f[U].push(O)}};function v(N){if(N){var O=N.length||N.byteLength,F=r.log2(O);f[F].push(N)}}function o(N){v(N.buffer)}g.freeUint8=g.freeUint16=g.freeUint32=g.freeBigUint64=g.freeInt8=g.freeInt16=g.freeInt32=g.freeBigInt64=g.freeFloat32=g.freeFloat=g.freeFloat64=g.freeDouble=g.freeUint8Clamped=g.freeDataView=o,g.freeArrayBuffer=v,g.freeBuffer=function(O){w[r.log2(O.length)].push(O)},g.malloc=function(O,F){if(F===void 0||F==="arraybuffer")return d(O);switch(F){case"uint8":return S(O);case"uint16":return M(O);case"uint32":return P(O);case"int8":return x(O);case"int16":return E(O);case"int32":return T(O);case"float":case"float32":return i(O);case"double":case"float64":return R(O);case"uint8_clamped":return A(O);case"bigint64":return _(O);case"biguint64":return k(O);case"buffer":return z(O);case"data":case"dataview":return H(O);default:return null}return null};function d(O){var O=r.nextPow2(O),F=r.log2(O),U=f[F];return U.length>0?U.pop():new ArrayBuffer(O)}g.mallocArrayBuffer=d;function S(N){return new Uint8Array(d(N),0,N)}g.mallocUint8=S;function M(N){return new Uint16Array(d(2*N),0,N)}g.mallocUint16=M;function P(N){return new Uint32Array(d(4*N),0,N)}g.mallocUint32=P;function x(N){return new Int8Array(d(N),0,N)}g.mallocInt8=x;function E(N){return new Int16Array(d(2*N),0,N)}g.mallocInt16=E;function T(N){return new Int32Array(d(4*N),0,N)}g.mallocInt32=T;function i(N){return new Float32Array(d(4*N),0,N)}g.mallocFloat32=g.mallocFloat=i;function R(N){return new Float64Array(d(8*N),0,N)}g.mallocFloat64=g.mallocDouble=R;function A(N){return s?new Uint8ClampedArray(d(N),0,N):S(N)}g.mallocUint8Clamped=A;function k(N){return c?new BigUint64Array(d(8*N),0,N):null}g.mallocBigUint64=k;function _(N){return u?new BigInt64Array(d(8*N),0,N):null}g.mallocBigInt64=_;function H(N){return new DataView(d(N),0,N)}g.mallocDataView=H;function z(N){N=r.nextPow2(N);var O=r.log2(N),F=w[O];return F.length>0?F.pop():new a(N)}g.mallocBuffer=z,g.clearCache=function(){for(var O=0;O<32;++O)b.UINT8[O].length=0,b.UINT16[O].length=0,b.UINT32[O].length=0,b.INT8[O].length=0,b.INT16[O].length=0,b.INT32[O].length=0,b.FLOAT[O].length=0,b.DOUBLE[O].length=0,b.BIGUINT64[O].length=0,b.BIGINT64[O].length=0,b.UINT8C[O].length=0,f[O].length=0,w[O].length=0}},1731:function(h){"use restrict";h.exports=g;function g(r){this.roots=new Array(r),this.ranks=new Array(r);for(var l=0;l<r;++l)this.roots[l]=l,this.ranks[l]=0}var t=g.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var r=this.roots.length;return this.roots.push(r),this.ranks.push(0),r},t.find=function(r){for(var l=r,a=this.roots;a[r]!==r;)r=a[r];for(;a[l]!==r;){var s=a[l];a[l]=r,l=s}return r},t.link=function(r,l){var a=this.find(r),s=this.find(l);if(a!==s){var c=this.ranks,u=this.roots,b=c[a],f=c[s];b<f?u[a]=s:f<b?u[s]=a:(u[s]=a,++c[a])}}},1215:function(h){function g(l,a){for(var s=1,c=l.length,u=l[0],b=l[0],f=1;f<c;++f)if(b=u,u=l[f],a(u,b)){if(f===s){s++;continue}l[s++]=u}return l.length=s,l}function t(l){for(var a=1,s=l.length,c=l[0],u=l[0],b=1;b<s;++b,u=c)if(u=c,c=l[b],c!==u){if(b===a){a++;continue}l[a++]=c}return l.length=a,l}function r(l,a,s){return l.length===0?l:a?(s||l.sort(a),g(l,a)):(s||l.sort(),t(l))}h.exports=r},875:function(h,g,t){h.exports=s;var r=t(712),l=null,a=null;typeof document<"u"&&(l=document.createElement("canvas"),l.width=8192,l.height=1024,a=l.getContext("2d"));function s(c,u){return(typeof u!="object"||u===null)&&(u={}),r(c,u.canvas||l,u.context||a,u)}},712:function(h,g,t){h.exports=_,h.exports.processPixels=k;var r=t(4162),l=t(5050),a=t(8243),s=t(197),c=t(7761),u=t(8040),b="b",f="b|",w="i",v="i|",o="sup",d="+",S="+1",M="sub",P="-",x="-1";function E(H,z,N,O){for(var F="<"+H+">",U="</"+H+">",Z=F.length,q=U.length,J=z[0]===d||z[0]===P,te=0,fe=-q;te>-1&&(te=N.indexOf(F,te),!(te===-1||(fe=N.indexOf(U,te+Z),fe===-1)||fe<=te));){for(var K=te;K<fe+q;++K)if(K<te+Z||K>=fe)O[K]=null,N=N.substr(0,K)+" "+N.substr(K+1);else if(O[K]!==null){var Y=O[K].indexOf(z[0]);Y===-1?O[K]+=z:J&&(O[K]=O[K].substr(0,Y+1)+(1+parseInt(O[K][Y+1]))+O[K].substr(Y+2))}var W=te+Z,X=N.substr(W,fe-W),re=X.indexOf(F);re!==-1?te=re:te=fe+q}return O}function T(H,z,N){for(var O=z.textAlign||"start",F=z.textBaseline||"alphabetic",U=[1<<30,1<<30],Z=[0,0],q=H.length,J=0;J<q;++J)for(var te=H[J],fe=0;fe<2;++fe)U[fe]=Math.min(U[fe],te[fe])|0,Z[fe]=Math.max(Z[fe],te[fe])|0;var K=0;switch(O){case"center":K=-.5*(U[0]+Z[0]);break;case"right":case"end":K=-Z[0];break;case"left":case"start":K=-U[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+O+"'")}var Y=0;switch(F){case"hanging":case"top":Y=-U[1];break;case"middle":Y=-.5*(U[1]+Z[1]);break;case"alphabetic":case"ideographic":Y=-3*N;break;case"bottom":Y=-Z[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+F+"'")}var W=1/N;return"lineHeight"in z?W*=+z.lineHeight:"width"in z?W=z.width/(Z[0]-U[0]):"height"in z&&(W=z.height/(Z[1]-U[1])),H.map(function(X){return[W*(X[0]+K),W*(X[1]+Y)]})}function i(H,z,N,O,F,U){N=N.replace(/\n/g,""),U.breaklines===!0?N=N.replace(/\<br\>/g,`
`):N=N.replace(/\<br\>/g," ");var Z="",q=[];for(ee=0;ee<N.length;++ee)q[ee]=Z;U.bolds===!0&&(q=E(b,f,N,q)),U.italics===!0&&(q=E(w,v,N,q)),U.superscripts===!0&&(q=E(o,S,N,q)),U.subscripts===!0&&(q=E(M,x,N,q));var J=[],te="";for(ee=0;ee<N.length;++ee)q[ee]!==null&&(te+=N[ee],J.push(q[ee]));var fe=te.split(`
`),K=fe.length,Y=Math.round(F*O),W=O,X=O*2,re=0,se=K*Y+X;H.height<se&&(H.height=se),z.fillStyle="#000",z.fillRect(0,0,H.width,H.height),z.fillStyle="#fff";var Q,ee,le,oe,he,xe=0,Ae="";function Se(){if(Ae!==""){var We=z.measureText(Ae).width;z.fillText(Ae,W+le,X+oe),le+=We}}function Oe(){return""+Math.round(he)+"px "}function Ve(We,nt){var qe=""+z.font;if(U.subscripts===!0){var Qe=We.indexOf(P),tt=nt.indexOf(P),vt=Qe>-1?parseInt(We[1+Qe]):0,dt=tt>-1?parseInt(nt[1+tt]):0;vt!==dt&&(qe=qe.replace(Oe(),"?px "),he*=Math.pow(.75,dt-vt),qe=qe.replace("?px ",Oe())),oe+=.25*Y*(dt-vt)}if(U.superscripts===!0){var gt=We.indexOf(d),Mt=nt.indexOf(d),Rt=gt>-1?parseInt(We[1+gt]):0,Wt=Mt>-1?parseInt(nt[1+Mt]):0;Rt!==Wt&&(qe=qe.replace(Oe(),"?px "),he*=Math.pow(.75,Wt-Rt),qe=qe.replace("?px ",Oe())),oe-=.25*Y*(Wt-Rt)}if(U.bolds===!0){var je=We.indexOf(f)>-1,_e=nt.indexOf(f)>-1;!je&&_e&&(Fe?qe=qe.replace("italic ","italic bold "):qe="bold "+qe),je&&!_e&&(qe=qe.replace("bold ",""))}if(U.italics===!0){var Fe=We.indexOf(v)>-1,Be=nt.indexOf(v)>-1;!Fe&&Be&&(qe="italic "+qe),Fe&&!Be&&(qe=qe.replace("italic ",""))}z.font=qe}for(Q=0;Q<K;++Q){var Ee=fe[Q]+`
`;for(le=0,oe=Q*Y,he=O,Ae="",ee=0;ee<Ee.length;++ee){var Te=ee+xe<J.length?J[ee+xe]:J[J.length-1];Z===Te?Ae+=Ee[ee]:(Se(),Ae=Ee[ee],Te!==void 0&&(Ve(Z,Te),Z=Te))}Se(),xe+=Ee.length;var Le=Math.round(le+2*W)|0;re<Le&&(re=Le)}var Ge=re,He=X+Y*K,ke=l(z.getImageData(0,0,Ge,He).data,[He,Ge,4]);return ke.pick(-1,-1,0).transpose(1,0)}function R(H,z){var N=r(H,128);return z?a(N.cells,N.positions,.25):{edges:N.cells,positions:N.positions}}function A(H,z,N,O){var F=R(H,O),U=T(F.positions,z,N),Z=F.edges,q=z.orientation==="ccw";if(s(U,Z),z.polygons||z.polygon||z.polyline){for(var J=u(Z,U),te=new Array(J.length),fe=0;fe<J.length;++fe){for(var K=J[fe],Y=new Array(K.length),W=0;W<K.length;++W){for(var X=K[W],re=new Array(X.length),se=0;se<X.length;++se)re[se]=U[X[se]].slice();q&&re.reverse(),Y[W]=re}te[fe]=Y}return te}else return z.triangles||z.triangulate||z.triangle?{cells:c(U,Z,{delaunay:!1,exterior:!1,interior:!0}),positions:U}:{edges:Z,positions:U}}function k(H,z,N){try{return A(H,z,N,!0)}catch{}try{return A(H,z,N,!1)}catch{}return z.polygons||z.polyline||z.polygon?[]:z.triangles||z.triangulate||z.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}function _(H,z,N,O){var F=64,U=1.25,Z={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};O&&(O.size&&O.size>0&&(F=O.size),O.lineSpacing&&O.lineSpacing>0&&(U=O.lineSpacing),O.styletags&&O.styletags.breaklines&&(Z.breaklines=!!O.styletags.breaklines),O.styletags&&O.styletags.bolds&&(Z.bolds=!!O.styletags.bolds),O.styletags&&O.styletags.italics&&(Z.italics=!!O.styletags.italics),O.styletags&&O.styletags.subscripts&&(Z.subscripts=!!O.styletags.subscripts),O.styletags&&O.styletags.superscripts&&(Z.superscripts=!!O.styletags.superscripts)),N.font=[O.fontStyle,O.fontVariant,O.fontWeight,F+"px",O.font].filter(function(J){return J}).join(" "),N.textAlign="start",N.textBaseline="alphabetic",N.direction="ltr";var q=i(z,N,H,F,U,Z);return k(q,O,F)}},5346:function(h){(function(){if(typeof ses<"u"&&ses.ok&&!ses.ok())return;function t(R){R.permitHostObjects___&&R.permitHostObjects___(t)}typeof ses<"u"&&(ses.weakMapPermitHostObjects=t);var r=!1;if(typeof WeakMap=="function"){var l=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var a=new l,s=Object.freeze({});if(a.set(s,1),a.get(s)!==1)r=!0;else{h.exports=WeakMap;return}}}var c=Object.getOwnPropertyNames,u=Object.defineProperty,b=Object.isExtensible,f="weakmap:",w=f+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var v=new ArrayBuffer(25),o=new Uint8Array(v);crypto.getRandomValues(o),w=f+"rand:"+Array.prototype.map.call(o,function(R){return(R%36).toString(36)}).join("")+"___"}function d(R){return!(R.substr(0,f.length)==f&&R.substr(R.length-3)==="___")}if(u(Object,"getOwnPropertyNames",{value:function(A){return c(A).filter(d)}}),"getPropertyNames"in Object){var S=Object.getPropertyNames;u(Object,"getPropertyNames",{value:function(A){return S(A).filter(d)}})}function M(R){if(R!==Object(R))throw new TypeError("Not an object: "+R);var A=R[w];if(A&&A.key===R)return A;if(b(R)){A={key:R};try{return u(R,w,{value:A,writable:!1,enumerable:!1,configurable:!1}),A}catch{return}}}(function(){var R=Object.freeze;u(Object,"freeze",{value:function(H){return M(H),R(H)}});var A=Object.seal;u(Object,"seal",{value:function(H){return M(H),A(H)}});var k=Object.preventExtensions;u(Object,"preventExtensions",{value:function(H){return M(H),k(H)}})})();function P(R){return R.prototype=null,Object.freeze(R)}var x=!1;function E(){!x&&typeof console<"u"&&(x=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}var T=0,i=function(){this instanceof i||E();var R=[],A=[],k=T++;function _(O,F){var U,Z=M(O);return Z?k in Z?Z[k]:F:(U=R.indexOf(O),U>=0?A[U]:F)}function H(O){var F=M(O);return F?k in F:R.indexOf(O)>=0}function z(O,F){var U,Z=M(O);return Z?Z[k]=F:(U=R.indexOf(O),U>=0?A[U]=F:(U=R.length,A[U]=F,R[U]=O)),this}function N(O){var F=M(O),U,Z;return F?k in F&&delete F[k]:(U=R.indexOf(O),U<0?!1:(Z=R.length-1,R[U]=void 0,A[U]=A[Z],R[U]=R[Z],R.length=Z,A.length=Z,!0))}return Object.create(i.prototype,{get___:{value:P(_)},has___:{value:P(H)},set___:{value:P(z)},delete___:{value:P(N)}})};i.prototype=Object.create(Object.prototype,{get:{value:function(A,k){return this.get___(A,k)},writable:!0,configurable:!0},has:{value:function(A){return this.has___(A)},writable:!0,configurable:!0},set:{value:function(A,k){return this.set___(A,k)},writable:!0,configurable:!0},delete:{value:function(A){return this.delete___(A)},writable:!0,configurable:!0}}),typeof l=="function"?function(){r&&typeof Proxy<"u"&&(Proxy=void 0);function R(){this instanceof i||E();var A=new l,k=void 0,_=!1;function H(F,U){return k?A.has(F)?A.get(F):k.get___(F,U):A.get(F,U)}function z(F){return A.has(F)||(k?k.has___(F):!1)}var N;r?N=function(F,U){return A.set(F,U),A.has(F)||(k||(k=new i),k.set(F,U)),this}:N=function(F,U){if(_)try{A.set(F,U)}catch{k||(k=new i),k.set___(F,U)}else A.set(F,U);return this};function O(F){var U=!!A.delete(F);return k&&k.delete___(F)||U}return Object.create(i.prototype,{get___:{value:P(H)},has___:{value:P(z)},set___:{value:P(N)},delete___:{value:P(O)},permitHostObjects___:{value:P(function(F){if(F===t)_=!0;else throw new Error("bogus call to permitHostObjects___")})}})}R.prototype=i.prototype,h.exports=R,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),h.exports=i)})()},9222:function(h,g,t){var r=t(7178);h.exports=l;function l(){var a={};return function(s){if((typeof s!="object"||s===null)&&typeof s!="function")throw new Error("Weakmap-shim: Key must be object");var c=s.valueOf(a);return c&&c.identity===a?c:r(s,a)}}},7178:function(h){h.exports=g;function g(t,r){var l={identity:r},a=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(s){return s!==r?a.apply(this,arguments):l},writable:!0}),l}},4037:function(h,g,t){var r=t(9222);h.exports=l;function l(){var a=r();return{get:function(s,c){var u=a(s);return u.hasOwnProperty("value")?u.value:c},set:function(s,c){return a(s).value=c,this},has:function(s){return"value"in a(s)},delete:function(s){return delete a(s).value}}}},6183:function(h){function g(){return function(c,u,b,f,w,v){var o=c[0],d=b[0],S=[0],M=d;f|=0;var P=0,x=d;for(P=0;P<o;++P){{var E=u[f]-v,T=u[f+M]-v;E>=0!=T>=0&&w.push(S[0]+.5+.5*(E+T)/(E-T))}f+=x,++S[0]}}}function t(){return g()}var r=t;function l(c){var u={};return function(f,w,v){var o=f.dtype,d=f.order,S=[o,d.join()].join(),M=u[S];return M||(u[S]=M=c([o,d])),M(f.shape.slice(0),f.data,f.stride,f.offset|0,w,v)}}function a(c){return l(r.bind(void 0,c))}function s(c){return a({funcName:c.funcName})}h.exports=s({funcName:"zeroCrossings"})},9584:function(h,g,t){h.exports=l;var r=t(6183);function l(a,s){var c=[];return s=+s||0,r(a.hi(a.shape[0]-1),c,s),c}},6601:function(){}},n={};function C(h){var g=n[h];if(g!==void 0)return g.exports;var t=n[h]={id:h,loaded:!1,exports:{}};return L[h].call(t.exports,t,t.exports,C),t.loaded=!0,t.exports}(function(){C.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()})(),function(){C.nmd=function(h){return h.paths=[],h.children||(h.children=[]),h}}();var y=C(7386);return y}()})},12856:function(V,B,e){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */function p(je,_e){if(!(je instanceof _e))throw new TypeError("Cannot call a class as a function")}function L(je,_e){for(var Fe=0;Fe<_e.length;Fe++){var Be=_e[Fe];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(je,C(Be.key),Be)}}function n(je,_e,Fe){return _e&&L(je.prototype,_e),Fe&&L(je,Fe),Object.defineProperty(je,"prototype",{writable:!1}),je}function C(je){var _e=y(je,"string");return c(_e)==="symbol"?_e:String(_e)}function y(je,_e){if(c(je)!=="object"||je===null)return je;var Fe=je[Symbol.toPrimitive];if(Fe!==void 0){var Be=Fe.call(je,_e||"default");if(c(Be)!=="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_e==="string"?String:Number)(je)}function h(je,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function");je.prototype=Object.create(_e&&_e.prototype,{constructor:{value:je,writable:!0,configurable:!0}}),Object.defineProperty(je,"prototype",{writable:!1}),_e&&g(je,_e)}function g(je,_e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Be,De){return Be.__proto__=De,Be},g(je,_e)}function t(je){var _e=a();return function(){var Be=s(je),De;if(_e){var we=s(this).constructor;De=Reflect.construct(Be,arguments,we)}else De=Be.apply(this,arguments);return r(this,De)}}function r(je,_e){if(_e&&(c(_e)==="object"||typeof _e=="function"))return _e;if(_e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l(je)}function l(je){if(je===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return je}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function s(je){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Fe){return Fe.__proto__||Object.getPrototypeOf(Fe)},s(je)}function c(je){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},c(je)}var u=e(95341),b=e(95280),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;B.Buffer=d,B.SlowBuffer=_,B.INSPECT_MAX_BYTES=50;var w=2147483647;B.kMaxLength=w,d.TYPED_ARRAY_SUPPORT=v(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{var je=new Uint8Array(1),_e={foo:function(){return 42}};return Object.setPrototypeOf(_e,Uint8Array.prototype),Object.setPrototypeOf(je,_e),je.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function o(je){if(je>w)throw new RangeError('The value "'+je+'" is invalid for option "size"');var _e=new Uint8Array(je);return Object.setPrototypeOf(_e,d.prototype),_e}function d(je,_e,Fe){if(typeof je=="number"){if(typeof _e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(je)}return S(je,_e,Fe)}d.poolSize=8192;function S(je,_e,Fe){if(typeof je=="string")return E(je,_e);if(ArrayBuffer.isView(je))return i(je);if(je==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(je));if(dt(je,ArrayBuffer)||je&&dt(je.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(dt(je,SharedArrayBuffer)||je&&dt(je.buffer,SharedArrayBuffer)))return R(je,_e,Fe);if(typeof je=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Be=je.valueOf&&je.valueOf();if(Be!=null&&Be!==je)return d.from(Be,_e,Fe);var De=A(je);if(De)return De;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof je[Symbol.toPrimitive]=="function")return d.from(je[Symbol.toPrimitive]("string"),_e,Fe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+c(je))}d.from=function(je,_e,Fe){return S(je,_e,Fe)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array);function M(je){if(typeof je!="number")throw new TypeError('"size" argument must be of type number');if(je<0)throw new RangeError('The value "'+je+'" is invalid for option "size"')}function P(je,_e,Fe){return M(je),je<=0?o(je):_e!==void 0?typeof Fe=="string"?o(je).fill(_e,Fe):o(je).fill(_e):o(je)}d.alloc=function(je,_e,Fe){return P(je,_e,Fe)};function x(je){return M(je),o(je<0?0:k(je)|0)}d.allocUnsafe=function(je){return x(je)},d.allocUnsafeSlow=function(je){return x(je)};function E(je,_e){if((typeof _e!="string"||_e==="")&&(_e="utf8"),!d.isEncoding(_e))throw new TypeError("Unknown encoding: "+_e);var Fe=H(je,_e)|0,Be=o(Fe),De=Be.write(je,_e);return De!==Fe&&(Be=Be.slice(0,De)),Be}function T(je){for(var _e=je.length<0?0:k(je.length)|0,Fe=o(_e),Be=0;Be<_e;Be+=1)Fe[Be]=je[Be]&255;return Fe}function i(je){if(dt(je,Uint8Array)){var _e=new Uint8Array(je);return R(_e.buffer,_e.byteOffset,_e.byteLength)}return T(je)}function R(je,_e,Fe){if(_e<0||je.byteLength<_e)throw new RangeError('"offset" is outside of buffer bounds');if(je.byteLength<_e+(Fe||0))throw new RangeError('"length" is outside of buffer bounds');var Be;return _e===void 0&&Fe===void 0?Be=new Uint8Array(je):Fe===void 0?Be=new Uint8Array(je,_e):Be=new Uint8Array(je,_e,Fe),Object.setPrototypeOf(Be,d.prototype),Be}function A(je){if(d.isBuffer(je)){var _e=k(je.length)|0,Fe=o(_e);return Fe.length===0||je.copy(Fe,0,0,_e),Fe}if(je.length!==void 0)return typeof je.length!="number"||gt(je.length)?o(0):T(je);if(je.type==="Buffer"&&Array.isArray(je.data))return T(je.data)}function k(je){if(je>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return je|0}function _(je){return+je!=je&&(je=0),d.alloc(+je)}d.isBuffer=function(_e){return _e!=null&&_e._isBuffer===!0&&_e!==d.prototype},d.compare=function(_e,Fe){if(dt(_e,Uint8Array)&&(_e=d.from(_e,_e.offset,_e.byteLength)),dt(Fe,Uint8Array)&&(Fe=d.from(Fe,Fe.offset,Fe.byteLength)),!d.isBuffer(_e)||!d.isBuffer(Fe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_e===Fe)return 0;for(var Be=_e.length,De=Fe.length,we=0,ue=Math.min(Be,De);we<ue;++we)if(_e[we]!==Fe[we]){Be=_e[we],De=Fe[we];break}return Be<De?-1:De<Be?1:0},d.isEncoding=function(_e){switch(String(_e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(_e,Fe){if(!Array.isArray(_e))throw new TypeError('"list" argument must be an Array of Buffers');if(_e.length===0)return d.alloc(0);var Be;if(Fe===void 0)for(Fe=0,Be=0;Be<_e.length;++Be)Fe+=_e[Be].length;var De=d.allocUnsafe(Fe),we=0;for(Be=0;Be<_e.length;++Be){var ue=_e[Be];if(dt(ue,Uint8Array))we+ue.length>De.length?(d.isBuffer(ue)||(ue=d.from(ue)),ue.copy(De,we)):Uint8Array.prototype.set.call(De,ue,we);else if(d.isBuffer(ue))ue.copy(De,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=ue.length}return De};function H(je,_e){if(d.isBuffer(je))return je.length;if(ArrayBuffer.isView(je)||dt(je,ArrayBuffer))return je.byteLength;if(typeof je!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+c(je));var Fe=je.length,Be=arguments.length>2&&arguments[2]===!0;if(!Be&&Fe===0)return 0;for(var De=!1;;)switch(_e){case"ascii":case"latin1":case"binary":return Fe;case"utf8":case"utf-8":return nt(je).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fe*2;case"hex":return Fe>>>1;case"base64":return tt(je).length;default:if(De)return Be?-1:nt(je).length;_e=(""+_e).toLowerCase(),De=!0}}d.byteLength=H;function z(je,_e,Fe){var Be=!1;if((_e===void 0||_e<0)&&(_e=0),_e>this.length||((Fe===void 0||Fe>this.length)&&(Fe=this.length),Fe<=0)||(Fe>>>=0,_e>>>=0,Fe<=_e))return"";for(je||(je="utf8");;)switch(je){case"hex":return se(this,_e,Fe);case"utf8":case"utf-8":return K(this,_e,Fe);case"ascii":return X(this,_e,Fe);case"latin1":case"binary":return re(this,_e,Fe);case"base64":return fe(this,_e,Fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,_e,Fe);default:if(Be)throw new TypeError("Unknown encoding: "+je);je=(je+"").toLowerCase(),Be=!0}}d.prototype._isBuffer=!0;function N(je,_e,Fe){var Be=je[_e];je[_e]=je[Fe],je[Fe]=Be}d.prototype.swap16=function(){var _e=this.length;if(_e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Fe=0;Fe<_e;Fe+=2)N(this,Fe,Fe+1);return this},d.prototype.swap32=function(){var _e=this.length;if(_e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Fe=0;Fe<_e;Fe+=4)N(this,Fe,Fe+3),N(this,Fe+1,Fe+2);return this},d.prototype.swap64=function(){var _e=this.length;if(_e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Fe=0;Fe<_e;Fe+=8)N(this,Fe,Fe+7),N(this,Fe+1,Fe+6),N(this,Fe+2,Fe+5),N(this,Fe+3,Fe+4);return this},d.prototype.toString=function(){var _e=this.length;return _e===0?"":arguments.length===0?K(this,0,_e):z.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(_e){if(!d.isBuffer(_e))throw new TypeError("Argument must be a Buffer");return this===_e?!0:d.compare(this,_e)===0},d.prototype.inspect=function(){var _e="",Fe=B.INSPECT_MAX_BYTES;return _e=this.toString("hex",0,Fe).replace(/(.{2})/g,"$1 ").trim(),this.length>Fe&&(_e+=" ... "),"<Buffer "+_e+">"},f&&(d.prototype[f]=d.prototype.inspect),d.prototype.compare=function(_e,Fe,Be,De,we){if(dt(_e,Uint8Array)&&(_e=d.from(_e,_e.offset,_e.byteLength)),!d.isBuffer(_e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+c(_e));if(Fe===void 0&&(Fe=0),Be===void 0&&(Be=_e?_e.length:0),De===void 0&&(De=0),we===void 0&&(we=this.length),Fe<0||Be>_e.length||De<0||we>this.length)throw new RangeError("out of range index");if(De>=we&&Fe>=Be)return 0;if(De>=we)return-1;if(Fe>=Be)return 1;if(Fe>>>=0,Be>>>=0,De>>>=0,we>>>=0,this===_e)return 0;for(var ue=we-De,me=Be-Fe,Re=Math.min(ue,me),Ne=this.slice(De,we),it=_e.slice(Fe,Be),ot=0;ot<Re;++ot)if(Ne[ot]!==it[ot]){ue=Ne[ot],me=it[ot];break}return ue<me?-1:me<ue?1:0};function O(je,_e,Fe,Be,De){if(je.length===0)return-1;if(typeof Fe=="string"?(Be=Fe,Fe=0):Fe>2147483647?Fe=2147483647:Fe<-2147483648&&(Fe=-2147483648),Fe=+Fe,gt(Fe)&&(Fe=De?0:je.length-1),Fe<0&&(Fe=je.length+Fe),Fe>=je.length){if(De)return-1;Fe=je.length-1}else if(Fe<0)if(De)Fe=0;else return-1;if(typeof _e=="string"&&(_e=d.from(_e,Be)),d.isBuffer(_e))return _e.length===0?-1:F(je,_e,Fe,Be,De);if(typeof _e=="number")return _e=_e&255,typeof Uint8Array.prototype.indexOf=="function"?De?Uint8Array.prototype.indexOf.call(je,_e,Fe):Uint8Array.prototype.lastIndexOf.call(je,_e,Fe):F(je,[_e],Fe,Be,De);throw new TypeError("val must be string, number or Buffer")}function F(je,_e,Fe,Be,De){var we=1,ue=je.length,me=_e.length;if(Be!==void 0&&(Be=String(Be).toLowerCase(),Be==="ucs2"||Be==="ucs-2"||Be==="utf16le"||Be==="utf-16le")){if(je.length<2||_e.length<2)return-1;we=2,ue/=2,me/=2,Fe/=2}function Re(Ft,Ut){return we===1?Ft[Ut]:Ft.readUInt16BE(Ut*we)}var Ne;if(De){var it=-1;for(Ne=Fe;Ne<ue;Ne++)if(Re(je,Ne)===Re(_e,it===-1?0:Ne-it)){if(it===-1&&(it=Ne),Ne-it+1===me)return it*we}else it!==-1&&(Ne-=Ne-it),it=-1}else for(Fe+me>ue&&(Fe=ue-me),Ne=Fe;Ne>=0;Ne--){for(var ot=!0,wt=0;wt<me;wt++)if(Re(je,Ne+wt)!==Re(_e,wt)){ot=!1;break}if(ot)return Ne}return-1}d.prototype.includes=function(_e,Fe,Be){return this.indexOf(_e,Fe,Be)!==-1},d.prototype.indexOf=function(_e,Fe,Be){return O(this,_e,Fe,Be,!0)},d.prototype.lastIndexOf=function(_e,Fe,Be){return O(this,_e,Fe,Be,!1)};function U(je,_e,Fe,Be){Fe=Number(Fe)||0;var De=je.length-Fe;Be?(Be=Number(Be),Be>De&&(Be=De)):Be=De;var we=_e.length;Be>we/2&&(Be=we/2);var ue;for(ue=0;ue<Be;++ue){var me=parseInt(_e.substr(ue*2,2),16);if(gt(me))return ue;je[Fe+ue]=me}return ue}function Z(je,_e,Fe,Be){return vt(nt(_e,je.length-Fe),je,Fe,Be)}function q(je,_e,Fe,Be){return vt(qe(_e),je,Fe,Be)}function J(je,_e,Fe,Be){return vt(tt(_e),je,Fe,Be)}function te(je,_e,Fe,Be){return vt(Qe(_e,je.length-Fe),je,Fe,Be)}d.prototype.write=function(_e,Fe,Be,De){if(Fe===void 0)De="utf8",Be=this.length,Fe=0;else if(Be===void 0&&typeof Fe=="string")De=Fe,Be=this.length,Fe=0;else if(isFinite(Fe))Fe=Fe>>>0,isFinite(Be)?(Be=Be>>>0,De===void 0&&(De="utf8")):(De=Be,Be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var we=this.length-Fe;if((Be===void 0||Be>we)&&(Be=we),_e.length>0&&(Be<0||Fe<0)||Fe>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");for(var ue=!1;;)switch(De){case"hex":return U(this,_e,Fe,Be);case"utf8":case"utf-8":return Z(this,_e,Fe,Be);case"ascii":case"latin1":case"binary":return q(this,_e,Fe,Be);case"base64":return J(this,_e,Fe,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,_e,Fe,Be);default:if(ue)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),ue=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fe(je,_e,Fe){return _e===0&&Fe===je.length?u.fromByteArray(je):u.fromByteArray(je.slice(_e,Fe))}function K(je,_e,Fe){Fe=Math.min(je.length,Fe);for(var Be=[],De=_e;De<Fe;){var we=je[De],ue=null,me=we>239?4:we>223?3:we>191?2:1;if(De+me<=Fe){var Re=void 0,Ne=void 0,it=void 0,ot=void 0;switch(me){case 1:we<128&&(ue=we);break;case 2:Re=je[De+1],(Re&192)===128&&(ot=(we&31)<<6|Re&63,ot>127&&(ue=ot));break;case 3:Re=je[De+1],Ne=je[De+2],(Re&192)===128&&(Ne&192)===128&&(ot=(we&15)<<12|(Re&63)<<6|Ne&63,ot>2047&&(ot<55296||ot>57343)&&(ue=ot));break;case 4:Re=je[De+1],Ne=je[De+2],it=je[De+3],(Re&192)===128&&(Ne&192)===128&&(it&192)===128&&(ot=(we&15)<<18|(Re&63)<<12|(Ne&63)<<6|it&63,ot>65535&&ot<1114112&&(ue=ot))}}ue===null?(ue=65533,me=1):ue>65535&&(ue-=65536,Be.push(ue>>>10&1023|55296),ue=56320|ue&1023),Be.push(ue),De+=me}return W(Be)}var Y=4096;function W(je){var _e=je.length;if(_e<=Y)return String.fromCharCode.apply(String,je);for(var Fe="",Be=0;Be<_e;)Fe+=String.fromCharCode.apply(String,je.slice(Be,Be+=Y));return Fe}function X(je,_e,Fe){var Be="";Fe=Math.min(je.length,Fe);for(var De=_e;De<Fe;++De)Be+=String.fromCharCode(je[De]&127);return Be}function re(je,_e,Fe){var Be="";Fe=Math.min(je.length,Fe);for(var De=_e;De<Fe;++De)Be+=String.fromCharCode(je[De]);return Be}function se(je,_e,Fe){var Be=je.length;(!_e||_e<0)&&(_e=0),(!Fe||Fe<0||Fe>Be)&&(Fe=Be);for(var De="",we=_e;we<Fe;++we)De+=Mt[je[we]];return De}function Q(je,_e,Fe){for(var Be=je.slice(_e,Fe),De="",we=0;we<Be.length-1;we+=2)De+=String.fromCharCode(Be[we]+Be[we+1]*256);return De}d.prototype.slice=function(_e,Fe){var Be=this.length;_e=~~_e,Fe=Fe===void 0?Be:~~Fe,_e<0?(_e+=Be,_e<0&&(_e=0)):_e>Be&&(_e=Be),Fe<0?(Fe+=Be,Fe<0&&(Fe=0)):Fe>Be&&(Fe=Be),Fe<_e&&(Fe=_e);var De=this.subarray(_e,Fe);return Object.setPrototypeOf(De,d.prototype),De};function ee(je,_e,Fe){if(je%1!==0||je<0)throw new RangeError("offset is not uint");if(je+_e>Fe)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(_e,Fe,Be){_e=_e>>>0,Fe=Fe>>>0,Be||ee(_e,Fe,this.length);for(var De=this[_e],we=1,ue=0;++ue<Fe&&(we*=256);)De+=this[_e+ue]*we;return De},d.prototype.readUintBE=d.prototype.readUIntBE=function(_e,Fe,Be){_e=_e>>>0,Fe=Fe>>>0,Be||ee(_e,Fe,this.length);for(var De=this[_e+--Fe],we=1;Fe>0&&(we*=256);)De+=this[_e+--Fe]*we;return De},d.prototype.readUint8=d.prototype.readUInt8=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,1,this.length),this[_e]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,2,this.length),this[_e]|this[_e+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,2,this.length),this[_e]<<8|this[_e+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),(this[_e]|this[_e+1]<<8|this[_e+2]<<16)+this[_e+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),this[_e]*16777216+(this[_e+1]<<16|this[_e+2]<<8|this[_e+3])},d.prototype.readBigUInt64LE=Rt(function(_e){_e=_e>>>0,Ge(_e,"offset");var Fe=this[_e],Be=this[_e+7];(Fe===void 0||Be===void 0)&&He(_e,this.length-8);var De=Fe+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24),we=this[++_e]+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+Be*Math.pow(2,24);return BigInt(De)+(BigInt(we)<<BigInt(32))}),d.prototype.readBigUInt64BE=Rt(function(_e){_e=_e>>>0,Ge(_e,"offset");var Fe=this[_e],Be=this[_e+7];(Fe===void 0||Be===void 0)&&He(_e,this.length-8);var De=Fe*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e],we=this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+Be;return(BigInt(De)<<BigInt(32))+BigInt(we)}),d.prototype.readIntLE=function(_e,Fe,Be){_e=_e>>>0,Fe=Fe>>>0,Be||ee(_e,Fe,this.length);for(var De=this[_e],we=1,ue=0;++ue<Fe&&(we*=256);)De+=this[_e+ue]*we;return we*=128,De>=we&&(De-=Math.pow(2,8*Fe)),De},d.prototype.readIntBE=function(_e,Fe,Be){_e=_e>>>0,Fe=Fe>>>0,Be||ee(_e,Fe,this.length);for(var De=Fe,we=1,ue=this[_e+--De];De>0&&(we*=256);)ue+=this[_e+--De]*we;return we*=128,ue>=we&&(ue-=Math.pow(2,8*Fe)),ue},d.prototype.readInt8=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,1,this.length),this[_e]&128?(255-this[_e]+1)*-1:this[_e]},d.prototype.readInt16LE=function(_e,Fe){_e=_e>>>0,Fe||ee(_e,2,this.length);var Be=this[_e]|this[_e+1]<<8;return Be&32768?Be|4294901760:Be},d.prototype.readInt16BE=function(_e,Fe){_e=_e>>>0,Fe||ee(_e,2,this.length);var Be=this[_e+1]|this[_e]<<8;return Be&32768?Be|4294901760:Be},d.prototype.readInt32LE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),this[_e]|this[_e+1]<<8|this[_e+2]<<16|this[_e+3]<<24},d.prototype.readInt32BE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),this[_e]<<24|this[_e+1]<<16|this[_e+2]<<8|this[_e+3]},d.prototype.readBigInt64LE=Rt(function(_e){_e=_e>>>0,Ge(_e,"offset");var Fe=this[_e],Be=this[_e+7];(Fe===void 0||Be===void 0)&&He(_e,this.length-8);var De=this[_e+4]+this[_e+5]*Math.pow(2,8)+this[_e+6]*Math.pow(2,16)+(Be<<24);return(BigInt(De)<<BigInt(32))+BigInt(Fe+this[++_e]*Math.pow(2,8)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,24))}),d.prototype.readBigInt64BE=Rt(function(_e){_e=_e>>>0,Ge(_e,"offset");var Fe=this[_e],Be=this[_e+7];(Fe===void 0||Be===void 0)&&He(_e,this.length-8);var De=(Fe<<24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+this[++_e];return(BigInt(De)<<BigInt(32))+BigInt(this[++_e]*Math.pow(2,24)+this[++_e]*Math.pow(2,16)+this[++_e]*Math.pow(2,8)+Be)}),d.prototype.readFloatLE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),b.read(this,_e,!0,23,4)},d.prototype.readFloatBE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,4,this.length),b.read(this,_e,!1,23,4)},d.prototype.readDoubleLE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,8,this.length),b.read(this,_e,!0,52,8)},d.prototype.readDoubleBE=function(_e,Fe){return _e=_e>>>0,Fe||ee(_e,8,this.length),b.read(this,_e,!1,52,8)};function le(je,_e,Fe,Be,De,we){if(!d.isBuffer(je))throw new TypeError('"buffer" argument must be a Buffer instance');if(_e>De||_e<we)throw new RangeError('"value" argument is out of bounds');if(Fe+Be>je.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(_e,Fe,Be,De){if(_e=+_e,Fe=Fe>>>0,Be=Be>>>0,!De){var we=Math.pow(2,8*Be)-1;le(this,_e,Fe,Be,we,0)}var ue=1,me=0;for(this[Fe]=_e&255;++me<Be&&(ue*=256);)this[Fe+me]=_e/ue&255;return Fe+Be},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(_e,Fe,Be,De){if(_e=+_e,Fe=Fe>>>0,Be=Be>>>0,!De){var we=Math.pow(2,8*Be)-1;le(this,_e,Fe,Be,we,0)}var ue=Be-1,me=1;for(this[Fe+ue]=_e&255;--ue>=0&&(me*=256);)this[Fe+ue]=_e/me&255;return Fe+Be},d.prototype.writeUint8=d.prototype.writeUInt8=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||le(this,_e,Fe,1,255,0),this[Fe]=_e&255,Fe+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||le(this,_e,Fe,2,65535,0),this[Fe]=_e&255,this[Fe+1]=_e>>>8,Fe+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||le(this,_e,Fe,2,65535,0),this[Fe]=_e>>>8,this[Fe+1]=_e&255,Fe+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||le(this,_e,Fe,4,4294967295,0),this[Fe+3]=_e>>>24,this[Fe+2]=_e>>>16,this[Fe+1]=_e>>>8,this[Fe]=_e&255,Fe+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||le(this,_e,Fe,4,4294967295,0),this[Fe]=_e>>>24,this[Fe+1]=_e>>>16,this[Fe+2]=_e>>>8,this[Fe+3]=_e&255,Fe+4};function oe(je,_e,Fe,Be,De){Le(_e,Be,De,je,Fe,7);var we=Number(_e&BigInt(4294967295));je[Fe++]=we,we=we>>8,je[Fe++]=we,we=we>>8,je[Fe++]=we,we=we>>8,je[Fe++]=we;var ue=Number(_e>>BigInt(32)&BigInt(4294967295));return je[Fe++]=ue,ue=ue>>8,je[Fe++]=ue,ue=ue>>8,je[Fe++]=ue,ue=ue>>8,je[Fe++]=ue,Fe}function he(je,_e,Fe,Be,De){Le(_e,Be,De,je,Fe,7);var we=Number(_e&BigInt(4294967295));je[Fe+7]=we,we=we>>8,je[Fe+6]=we,we=we>>8,je[Fe+5]=we,we=we>>8,je[Fe+4]=we;var ue=Number(_e>>BigInt(32)&BigInt(4294967295));return je[Fe+3]=ue,ue=ue>>8,je[Fe+2]=ue,ue=ue>>8,je[Fe+1]=ue,ue=ue>>8,je[Fe]=ue,Fe+8}d.prototype.writeBigUInt64LE=Rt(function(_e){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return oe(this,_e,Fe,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Rt(function(_e){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return he(this,_e,Fe,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(_e,Fe,Be,De){if(_e=+_e,Fe=Fe>>>0,!De){var we=Math.pow(2,8*Be-1);le(this,_e,Fe,Be,we-1,-we)}var ue=0,me=1,Re=0;for(this[Fe]=_e&255;++ue<Be&&(me*=256);)_e<0&&Re===0&&this[Fe+ue-1]!==0&&(Re=1),this[Fe+ue]=(_e/me>>0)-Re&255;return Fe+Be},d.prototype.writeIntBE=function(_e,Fe,Be,De){if(_e=+_e,Fe=Fe>>>0,!De){var we=Math.pow(2,8*Be-1);le(this,_e,Fe,Be,we-1,-we)}var ue=Be-1,me=1,Re=0;for(this[Fe+ue]=_e&255;--ue>=0&&(me*=256);)_e<0&&Re===0&&this[Fe+ue+1]!==0&&(Re=1),this[Fe+ue]=(_e/me>>0)-Re&255;return Fe+Be},d.prototype.writeInt8=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||le(this,_e,Fe,1,127,-128),_e<0&&(_e=255+_e+1),this[Fe]=_e&255,Fe+1},d.prototype.writeInt16LE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||le(this,_e,Fe,2,32767,-32768),this[Fe]=_e&255,this[Fe+1]=_e>>>8,Fe+2},d.prototype.writeInt16BE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||le(this,_e,Fe,2,32767,-32768),this[Fe]=_e>>>8,this[Fe+1]=_e&255,Fe+2},d.prototype.writeInt32LE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||le(this,_e,Fe,4,2147483647,-2147483648),this[Fe]=_e&255,this[Fe+1]=_e>>>8,this[Fe+2]=_e>>>16,this[Fe+3]=_e>>>24,Fe+4},d.prototype.writeInt32BE=function(_e,Fe,Be){return _e=+_e,Fe=Fe>>>0,Be||le(this,_e,Fe,4,2147483647,-2147483648),_e<0&&(_e=4294967295+_e+1),this[Fe]=_e>>>24,this[Fe+1]=_e>>>16,this[Fe+2]=_e>>>8,this[Fe+3]=_e&255,Fe+4},d.prototype.writeBigInt64LE=Rt(function(_e){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return oe(this,_e,Fe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Rt(function(_e){var Fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return he(this,_e,Fe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xe(je,_e,Fe,Be,De,we){if(Fe+Be>je.length)throw new RangeError("Index out of range");if(Fe<0)throw new RangeError("Index out of range")}function Ae(je,_e,Fe,Be,De){return _e=+_e,Fe=Fe>>>0,De||xe(je,_e,Fe,4),b.write(je,_e,Fe,Be,23,4),Fe+4}d.prototype.writeFloatLE=function(_e,Fe,Be){return Ae(this,_e,Fe,!0,Be)},d.prototype.writeFloatBE=function(_e,Fe,Be){return Ae(this,_e,Fe,!1,Be)};function Se(je,_e,Fe,Be,De){return _e=+_e,Fe=Fe>>>0,De||xe(je,_e,Fe,8),b.write(je,_e,Fe,Be,52,8),Fe+8}d.prototype.writeDoubleLE=function(_e,Fe,Be){return Se(this,_e,Fe,!0,Be)},d.prototype.writeDoubleBE=function(_e,Fe,Be){return Se(this,_e,Fe,!1,Be)},d.prototype.copy=function(_e,Fe,Be,De){if(!d.isBuffer(_e))throw new TypeError("argument should be a Buffer");if(Be||(Be=0),!De&&De!==0&&(De=this.length),Fe>=_e.length&&(Fe=_e.length),Fe||(Fe=0),De>0&&De<Be&&(De=Be),De===Be||_e.length===0||this.length===0)return 0;if(Fe<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),_e.length-Fe<De-Be&&(De=_e.length-Fe+Be);var we=De-Be;return this===_e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Fe,Be,De):Uint8Array.prototype.set.call(_e,this.subarray(Be,De),Fe),we},d.prototype.fill=function(_e,Fe,Be,De){if(typeof _e=="string"){if(typeof Fe=="string"?(De=Fe,Fe=0,Be=this.length):typeof Be=="string"&&(De=Be,Be=this.length),De!==void 0&&typeof De!="string")throw new TypeError("encoding must be a string");if(typeof De=="string"&&!d.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(_e.length===1){var we=_e.charCodeAt(0);(De==="utf8"&&we<128||De==="latin1")&&(_e=we)}}else typeof _e=="number"?_e=_e&255:typeof _e=="boolean"&&(_e=Number(_e));if(Fe<0||this.length<Fe||this.length<Be)throw new RangeError("Out of range index");if(Be<=Fe)return this;Fe=Fe>>>0,Be=Be===void 0?this.length:Be>>>0,_e||(_e=0);var ue;if(typeof _e=="number")for(ue=Fe;ue<Be;++ue)this[ue]=_e;else{var me=d.isBuffer(_e)?_e:d.from(_e,De),Re=me.length;if(Re===0)throw new TypeError('The value "'+_e+'" is invalid for argument "value"');for(ue=0;ue<Be-Fe;++ue)this[ue+Fe]=me[ue%Re]}return this};var Oe={};function Ve(je,_e,Fe){Oe[je]=function(Be){h(we,Be);var De=t(we);function we(){var ue;return p(this,we),ue=De.call(this),Object.defineProperty(l(ue),"message",{value:_e.apply(l(ue),arguments),writable:!0,configurable:!0}),ue.name="".concat(ue.name," [").concat(je,"]"),ue.stack,delete ue.name,ue}return n(we,[{key:"code",get:function(){return je},set:function(me){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:me,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(je,"]: ").concat(this.message)}}]),we}(Fe)}Ve("ERR_BUFFER_OUT_OF_BOUNDS",function(je){return je?"".concat(je," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),Ve("ERR_INVALID_ARG_TYPE",function(je,_e){return'The "'.concat(je,'" argument must be of type number. Received type ').concat(c(_e))},TypeError),Ve("ERR_OUT_OF_RANGE",function(je,_e,Fe){var Be='The value of "'.concat(je,'" is out of range.'),De=Fe;return Number.isInteger(Fe)&&Math.abs(Fe)>Math.pow(2,32)?De=Ee(String(Fe)):typeof Fe=="bigint"&&(De=String(Fe),(Fe>Math.pow(BigInt(2),BigInt(32))||Fe<-Math.pow(BigInt(2),BigInt(32)))&&(De=Ee(De)),De+="n"),Be+=" It must be ".concat(_e,". Received ").concat(De),Be},RangeError);function Ee(je){for(var _e="",Fe=je.length,Be=je[0]==="-"?1:0;Fe>=Be+4;Fe-=3)_e="_".concat(je.slice(Fe-3,Fe)).concat(_e);return"".concat(je.slice(0,Fe)).concat(_e)}function Te(je,_e,Fe){Ge(_e,"offset"),(je[_e]===void 0||je[_e+Fe]===void 0)&&He(_e,je.length-(Fe+1))}function Le(je,_e,Fe,Be,De,we){if(je>Fe||je<_e){var ue=typeof _e=="bigint"?"n":"",me;throw we>3?_e===0||_e===BigInt(0)?me=">= 0".concat(ue," and < 2").concat(ue," ** ").concat((we+1)*8).concat(ue):me=">= -(2".concat(ue," ** ").concat((we+1)*8-1).concat(ue,") and < 2 ** ")+"".concat((we+1)*8-1).concat(ue):me=">= ".concat(_e).concat(ue," and <= ").concat(Fe).concat(ue),new Oe.ERR_OUT_OF_RANGE("value",me,je)}Te(Be,De,we)}function Ge(je,_e){if(typeof je!="number")throw new Oe.ERR_INVALID_ARG_TYPE(_e,"number",je)}function He(je,_e,Fe){throw Math.floor(je)!==je?(Ge(je,Fe),new Oe.ERR_OUT_OF_RANGE(Fe||"offset","an integer",je)):_e<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE(Fe||"offset",">= ".concat(Fe?1:0," and <= ").concat(_e),je)}var ke=/[^+/0-9A-Za-z-_]/g;function We(je){if(je=je.split("=")[0],je=je.trim().replace(ke,""),je.length<2)return"";for(;je.length%4!==0;)je=je+"=";return je}function nt(je,_e){_e=_e||1/0;for(var Fe,Be=je.length,De=null,we=[],ue=0;ue<Be;++ue){if(Fe=je.charCodeAt(ue),Fe>55295&&Fe<57344){if(!De){if(Fe>56319){(_e-=3)>-1&&we.push(239,191,189);continue}else if(ue+1===Be){(_e-=3)>-1&&we.push(239,191,189);continue}De=Fe;continue}if(Fe<56320){(_e-=3)>-1&&we.push(239,191,189),De=Fe;continue}Fe=(De-55296<<10|Fe-56320)+65536}else De&&(_e-=3)>-1&&we.push(239,191,189);if(De=null,Fe<128){if((_e-=1)<0)break;we.push(Fe)}else if(Fe<2048){if((_e-=2)<0)break;we.push(Fe>>6|192,Fe&63|128)}else if(Fe<65536){if((_e-=3)<0)break;we.push(Fe>>12|224,Fe>>6&63|128,Fe&63|128)}else if(Fe<1114112){if((_e-=4)<0)break;we.push(Fe>>18|240,Fe>>12&63|128,Fe>>6&63|128,Fe&63|128)}else throw new Error("Invalid code point")}return we}function qe(je){for(var _e=[],Fe=0;Fe<je.length;++Fe)_e.push(je.charCodeAt(Fe)&255);return _e}function Qe(je,_e){for(var Fe,Be,De,we=[],ue=0;ue<je.length&&!((_e-=2)<0);++ue)Fe=je.charCodeAt(ue),Be=Fe>>8,De=Fe%256,we.push(De),we.push(Be);return we}function tt(je){return u.toByteArray(We(je))}function vt(je,_e,Fe,Be){var De;for(De=0;De<Be&&!(De+Fe>=_e.length||De>=je.length);++De)_e[De+Fe]=je[De];return De}function dt(je,_e){return je instanceof _e||je!=null&&je.constructor!=null&&je.constructor.name!=null&&je.constructor.name===_e.name}function gt(je){return je!==je}var Mt=function(){for(var je="0123456789abcdef",_e=new Array(256),Fe=0;Fe<16;++Fe)for(var Be=Fe*16,De=0;De<16;++De)_e[Be+De]=je[Fe]+je[De];return _e}();function Rt(je){return typeof BigInt>"u"?Wt:je}function Wt(){throw new Error("BigInt not supported")}},35791:function(V){V.exports=L,V.exports.isMobile=L,V.exports.default=L;var B=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,p=/android|ipad|playbook|silk/i;function L(n){n||(n={});var C=n.ua;if(!C&&typeof navigator<"u"&&(C=navigator.userAgent),C&&C.headers&&typeof C.headers["user-agent"]=="string"&&(C=C.headers["user-agent"]),typeof C!="string")return!1;var y=B.test(C)&&!e.test(C)||!!n.tablet&&p.test(C);return!y&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&C.indexOf("Macintosh")!==-1&&C.indexOf("Safari")!==-1&&(y=!0),y}},86781:function(V,B,e){e.r(B),e.d(B,{sankeyCenter:function(){return l},sankeyCircular:function(){return R},sankeyJustify:function(){return r},sankeyLeft:function(){return g},sankeyRight:function(){return t}});var p=e(33064),L=e(15140),n=e(45879),C=e(2502),y=e.n(C);function h(Se){return Se.target.depth}function g(Se){return Se.depth}function t(Se,Oe){return Oe-1-Se.height}function r(Se,Oe){return Se.sourceLinks.length?Se.depth:Oe-1}function l(Se){return Se.targetLinks.length?Se.depth:Se.sourceLinks.length?(0,p.VV)(Se.sourceLinks,h)-1:0}function a(Se){return function(){return Se}}var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se};function c(Se,Oe){return b(Se.source,Oe.source)||Se.index-Oe.index}function u(Se,Oe){return b(Se.target,Oe.target)||Se.index-Oe.index}function b(Se,Oe){return Se.partOfCycle===Oe.partOfCycle?Se.y0-Oe.y0:Se.circularLinkType==="top"||Oe.circularLinkType==="bottom"?-1:1}function f(Se){return Se.value}function w(Se){return(Se.y0+Se.y1)/2}function v(Se){return w(Se.source)}function o(Se){return w(Se.target)}function d(Se){return Se.index}function S(Se){return Se.nodes}function M(Se){return Se.links}function P(Se,Oe){var Ve=Se.get(Oe);if(!Ve)throw new Error("missing: "+Oe);return Ve}function x(Se,Oe){return Oe(Se)}var E=25,T=10,i=.3;function R(){var Se=0,Oe=0,Ve=1,Ee=1,Te=24,Le,Ge=d,He=r,ke=S,We=M,nt=32,qe=2,Qe,tt=null;function vt(){var Fe={nodes:ke.apply(null,arguments),links:We.apply(null,arguments)};dt(Fe),A(Fe,Ge,tt),gt(Fe),Wt(Fe),k(Fe,Ge),je(Fe,nt,Ge),_e(Fe);for(var Be=4,De=0;De<Be;De++)ee(Fe,Ee,Ge),le(Fe,Ee,Ge),re(Fe,Oe,Ee,Ge),ee(Fe,Ee,Ge),le(Fe,Ee,Ge);return Ae(Fe,Oe,Ee),F(Fe,qe,Ee,Ge),Fe}vt.nodeId=function(Fe){return arguments.length?(Ge=typeof Fe=="function"?Fe:a(Fe),vt):Ge},vt.nodeAlign=function(Fe){return arguments.length?(He=typeof Fe=="function"?Fe:a(Fe),vt):He},vt.nodeWidth=function(Fe){return arguments.length?(Te=+Fe,vt):Te},vt.nodePadding=function(Fe){return arguments.length?(Le=+Fe,vt):Le},vt.nodes=function(Fe){return arguments.length?(ke=typeof Fe=="function"?Fe:a(Fe),vt):ke},vt.links=function(Fe){return arguments.length?(We=typeof Fe=="function"?Fe:a(Fe),vt):We},vt.size=function(Fe){return arguments.length?(Se=Oe=0,Ve=+Fe[0],Ee=+Fe[1],vt):[Ve-Se,Ee-Oe]},vt.extent=function(Fe){return arguments.length?(Se=+Fe[0][0],Ve=+Fe[1][0],Oe=+Fe[0][1],Ee=+Fe[1][1],vt):[[Se,Oe],[Ve,Ee]]},vt.iterations=function(Fe){return arguments.length?(nt=+Fe,vt):nt},vt.circularLinkGap=function(Fe){return arguments.length?(qe=+Fe,vt):qe},vt.nodePaddingRatio=function(Fe){return arguments.length?(Qe=+Fe,vt):Qe},vt.sortNodes=function(Fe){return arguments.length?(tt=Fe,vt):tt},vt.update=function(Fe){return k(Fe,Ge),_e(Fe),Fe.links.forEach(function(Be){Be.circular&&(Be.circularLinkType=Be.y0+Be.y1<Ee?"top":"bottom",Be.source.circularLinkType=Be.circularLinkType,Be.target.circularLinkType=Be.circularLinkType)}),ee(Fe,Ee,Ge,!1),le(Fe,Ee,Ge),F(Fe,qe,Ee,Ge),Fe};function dt(Fe){Fe.nodes.forEach(function(De,we){De.index=we,De.sourceLinks=[],De.targetLinks=[]});var Be=(0,L.UI)(Fe.nodes,Ge);return Fe.links.forEach(function(De,we){De.index=we;var ue=De.source,me=De.target;(typeof ue>"u"?"undefined":s(ue))!=="object"&&(ue=De.source=P(Be,ue)),(typeof me>"u"?"undefined":s(me))!=="object"&&(me=De.target=P(Be,me)),ue.sourceLinks.push(De),me.targetLinks.push(De)}),Fe}function gt(Fe){Fe.nodes.forEach(function(Be){Be.partOfCycle=!1,Be.value=Math.max((0,p.Sm)(Be.sourceLinks,f),(0,p.Sm)(Be.targetLinks,f)),Be.sourceLinks.forEach(function(De){De.circular&&(Be.partOfCycle=!0,Be.circularLinkType=De.circularLinkType)}),Be.targetLinks.forEach(function(De){De.circular&&(Be.partOfCycle=!0,Be.circularLinkType=De.circularLinkType)})})}function Mt(Fe){var Be=0,De=0,we=0,ue=0,me=(0,p.Fp)(Fe.nodes,function(Re){return Re.column});return Fe.links.forEach(function(Re){Re.circular&&(Re.circularLinkType=="top"?Be=Be+Re.width:De=De+Re.width,Re.target.column==0&&(ue=ue+Re.width),Re.source.column==me&&(we=we+Re.width))}),Be=Be>0?Be+E+T:Be,De=De>0?De+E+T:De,we=we>0?we+E+T:we,ue=ue>0?ue+E+T:ue,{top:Be,bottom:De,left:ue,right:we}}function Rt(Fe,Be){var De=(0,p.Fp)(Fe.nodes,function(ot){return ot.column}),we=Ve-Se,ue=Ee-Oe,me=we+Be.right+Be.left,Re=ue+Be.top+Be.bottom,Ne=we/me,it=ue/Re;return Se=Se*Ne+Be.left,Ve=Be.right==0?Ve:Ve*Ne,Oe=Oe*it+Be.top,Ee=Ee*it,Fe.nodes.forEach(function(ot){ot.x0=Se+ot.column*((Ve-Se-Te)/De),ot.x1=ot.x0+Te}),it}function Wt(Fe){var Be,De,we;for(Be=Fe.nodes,De=[],we=0;Be.length;++we,Be=De,De=[])Be.forEach(function(ue){ue.depth=we,ue.sourceLinks.forEach(function(me){De.indexOf(me.target)<0&&!me.circular&&De.push(me.target)})});for(Be=Fe.nodes,De=[],we=0;Be.length;++we,Be=De,De=[])Be.forEach(function(ue){ue.height=we,ue.targetLinks.forEach(function(me){De.indexOf(me.source)<0&&!me.circular&&De.push(me.source)})});Fe.nodes.forEach(function(ue){ue.column=Math.floor(He.call(null,ue,we))})}function je(Fe,Be,De){var we=(0,L.b1)().key(function(ot){return ot.column}).sortKeys(p.j2).entries(Fe.nodes).map(function(ot){return ot.values});Re(De),it();for(var ue=1,me=Be;me>0;--me)Ne(ue*=.99,De),it();function Re(ot){if(Qe){var wt=1/0;we.forEach(function(Et){var $t=Ee*Qe/(Et.length+1);wt=$t<wt?$t:wt}),Le=wt}var Ft=(0,p.VV)(we,function(Et){return(Ee-Oe-(Et.length-1)*Le)/(0,p.Sm)(Et,f)});Ft=Ft*i,Fe.links.forEach(function(Et){Et.width=Et.value*Ft});var Ut=Mt(Fe),Gt=Rt(Fe,Ut);Ft=Ft*Gt,Fe.links.forEach(function(Et){Et.width=Et.value*Ft}),we.forEach(function(Et){var $t=Et.length;Et.forEach(function(lr,Fr){lr.depth==we.length-1&&$t==1||lr.depth==0&&$t==1?(lr.y0=Ee/2-lr.value*Ft,lr.y1=lr.y0+lr.value*Ft):lr.partOfCycle?z(lr,ot)==0?(lr.y0=Ee/2+Fr,lr.y1=lr.y0+lr.value*Ft):lr.circularLinkType=="top"?(lr.y0=Oe+Fr,lr.y1=lr.y0+lr.value*Ft):(lr.y0=Ee-lr.value*Ft-Fr,lr.y1=lr.y0+lr.value*Ft):Ut.top==0||Ut.bottom==0?(lr.y0=(Ee-Oe)/$t*Fr,lr.y1=lr.y0+lr.value*Ft):(lr.y0=(Ee-Oe)/2-$t/2+Fr,lr.y1=lr.y0+lr.value*Ft)})})}function Ne(ot,wt){var Ft=we.length;we.forEach(function(Ut){var Gt=Ut.length,Et=Ut[0].depth;Ut.forEach(function($t){var lr;if(($t.sourceLinks.length||$t.targetLinks.length)&&!($t.partOfCycle&&z($t,wt)>0))if(Et==0&&Gt==1)lr=$t.y1-$t.y0,$t.y0=Ee/2-lr/2,$t.y1=Ee/2+lr/2;else if(Et==Ft-1&&Gt==1)lr=$t.y1-$t.y0,$t.y0=Ee/2-lr/2,$t.y1=Ee/2+lr/2;else{var Fr=0,yt=(0,p.J6)($t.sourceLinks,o),Kt=(0,p.J6)($t.targetLinks,v);yt&&Kt?Fr=(yt+Kt)/2:Fr=yt||Kt;var Zt=(Fr-w($t))*ot;$t.y0+=Zt,$t.y1+=Zt}})})}function it(){we.forEach(function(ot){var wt,Ft,Ut=Oe,Gt=ot.length,Et;for(ot.sort(b),Et=0;Et<Gt;++Et)wt=ot[Et],Ft=Ut-wt.y0,Ft>0&&(wt.y0+=Ft,wt.y1+=Ft),Ut=wt.y1+Le;if(Ft=Ut-Le-Ee,Ft>0)for(Ut=wt.y0-=Ft,wt.y1-=Ft,Et=Gt-2;Et>=0;--Et)wt=ot[Et],Ft=wt.y1+Le-Ut,Ft>0&&(wt.y0-=Ft,wt.y1-=Ft),Ut=wt.y0})}}function _e(Fe){Fe.nodes.forEach(function(Be){Be.sourceLinks.sort(u),Be.targetLinks.sort(c)}),Fe.nodes.forEach(function(Be){var De=Be.y0,we=De,ue=Be.y1,me=ue;Be.sourceLinks.forEach(function(Re){Re.circular?(Re.y0=ue-Re.width/2,ue=ue-Re.width):(Re.y0=De+Re.width/2,De+=Re.width)}),Be.targetLinks.forEach(function(Re){Re.circular?(Re.y1=me-Re.width/2,me=me-Re.width):(Re.y1=we+Re.width/2,we+=Re.width)})})}return vt}function A(Se,Oe,Ve){var Ee=0;if(Ve===null){for(var Te=[],Le=0;Le<Se.links.length;Le++){var Ge=Se.links[Le],He=Ge.source.index,ke=Ge.target.index;Te[He]||(Te[He]=[]),Te[ke]||(Te[ke]=[]),Te[He].indexOf(ke)===-1&&Te[He].push(ke)}var We=y()(Te);We.sort(function(tt,vt){return tt.length-vt.length});var nt={};for(Le=0;Le<We.length;Le++){var qe=We[Le],Qe=qe.slice(-2);nt[Qe[0]]||(nt[Qe[0]]={}),nt[Qe[0]][Qe[1]]=!0}Se.links.forEach(function(tt){var vt=tt.target.index,dt=tt.source.index;vt===dt||nt[dt]&&nt[dt][vt]?(tt.circular=!0,tt.circularLinkID=Ee,Ee=Ee+1):tt.circular=!1})}else Se.links.forEach(function(tt){tt.source[Ve]<tt.target[Ve]?tt.circular=!1:(tt.circular=!0,tt.circularLinkID=Ee,Ee=Ee+1)})}function k(Se,Oe){var Ve=0,Ee=0;Se.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType||Te.target.circularLinkType?Te.circularLinkType=Te.source.circularLinkType?Te.source.circularLinkType:Te.target.circularLinkType:Te.circularLinkType=Ve<Ee?"top":"bottom",Te.circularLinkType=="top"?Ve=Ve+1:Ee=Ee+1,Se.nodes.forEach(function(Le){(x(Le,Oe)==x(Te.source,Oe)||x(Le,Oe)==x(Te.target,Oe))&&(Le.circularLinkType=Te.circularLinkType)}))}),Se.links.forEach(function(Te){Te.circular&&(Te.source.circularLinkType==Te.target.circularLinkType&&(Te.circularLinkType=Te.source.circularLinkType),xe(Te,Oe)&&(Te.circularLinkType=Te.source.circularLinkType))})}function _(Se){var Oe=Math.abs(Se.y1-Se.y0),Ve=Math.abs(Se.target.x0-Se.source.x1);return Math.atan(Ve/Oe)}function H(Se,Oe){return Se.source.column<Oe.target.column?!1:!(Se.target.column>Oe.source.column)}function z(Se,Oe){var Ve=0;Se.sourceLinks.forEach(function(Te){Ve=Te.circular&&!xe(Te,Oe)?Ve+1:Ve});var Ee=0;return Se.targetLinks.forEach(function(Te){Ee=Te.circular&&!xe(Te,Oe)?Ee+1:Ee}),Ve+Ee}function N(Se){var Oe=Se.source.sourceLinks,Ve=0;Oe.forEach(function(Le){Ve=Le.circular?Ve+1:Ve});var Ee=Se.target.targetLinks,Te=0;return Ee.forEach(function(Le){Te=Le.circular?Te+1:Te}),!(Ve>1||Te>1)}function O(Se,Oe,Ve){return Se.sort(Z),Se.forEach(function(Ee,Te){var Le=0;if(xe(Ee,Ve)&&N(Ee))Ee.circularPathData.verticalBuffer=Le+Ee.width/2;else{var Ge=0;for(Ge;Ge<Te;Ge++)if(H(Se[Te],Se[Ge])){var He=Se[Ge].circularPathData.verticalBuffer+Se[Ge].width/2+Oe;Le=He>Le?He:Le}Ee.circularPathData.verticalBuffer=Le+Ee.width/2}}),Se}function F(Se,Oe,Ve,Ee){var Te=5,Le=(0,p.VV)(Se.links,function(ke){return ke.source.y0});Se.links.forEach(function(ke){ke.circular&&(ke.circularPathData={})});var Ge=Se.links.filter(function(ke){return ke.circularLinkType=="top"});O(Ge,Oe,Ee);var He=Se.links.filter(function(ke){return ke.circularLinkType=="bottom"});O(He,Oe,Ee),Se.links.forEach(function(ke){if(ke.circular){if(ke.circularPathData.arcRadius=ke.width+T,ke.circularPathData.leftNodeBuffer=Te,ke.circularPathData.rightNodeBuffer=Te,ke.circularPathData.sourceWidth=ke.source.x1-ke.source.x0,ke.circularPathData.sourceX=ke.source.x0+ke.circularPathData.sourceWidth,ke.circularPathData.targetX=ke.target.x0,ke.circularPathData.sourceY=ke.y0,ke.circularPathData.targetY=ke.y1,xe(ke,Ee)&&N(ke))ke.circularPathData.leftSmallArcRadius=T+ke.width/2,ke.circularPathData.leftLargeArcRadius=T+ke.width/2,ke.circularPathData.rightSmallArcRadius=T+ke.width/2,ke.circularPathData.rightLargeArcRadius=T+ke.width/2,ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=ke.source.y1+E+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=ke.source.y0-E-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius);else{var We=ke.source.column,nt=ke.circularLinkType,qe=Se.links.filter(function(vt){return vt.source.column==We&&vt.circularLinkType==nt});ke.circularLinkType=="bottom"?qe.sort(J):qe.sort(q);var Qe=0;qe.forEach(function(vt,dt){vt.circularLinkID==ke.circularLinkID&&(ke.circularPathData.leftSmallArcRadius=T+ke.width/2+Qe,ke.circularPathData.leftLargeArcRadius=T+ke.width/2+dt*Oe+Qe),Qe=Qe+vt.width}),We=ke.target.column,qe=Se.links.filter(function(vt){return vt.target.column==We&&vt.circularLinkType==nt}),ke.circularLinkType=="bottom"?qe.sort(fe):qe.sort(te),Qe=0,qe.forEach(function(vt,dt){vt.circularLinkID==ke.circularLinkID&&(ke.circularPathData.rightSmallArcRadius=T+ke.width/2+Qe,ke.circularPathData.rightLargeArcRadius=T+ke.width/2+dt*Oe+Qe),Qe=Qe+vt.width}),ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=Math.max(Ve,ke.source.y1,ke.target.y1)+E+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=Le-E-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius)}ke.circularPathData.leftInnerExtent=ke.circularPathData.sourceX+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightInnerExtent=ke.circularPathData.targetX-ke.circularPathData.rightNodeBuffer,ke.circularPathData.leftFullExtent=ke.circularPathData.sourceX+ke.circularPathData.leftLargeArcRadius+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightFullExtent=ke.circularPathData.targetX-ke.circularPathData.rightLargeArcRadius-ke.circularPathData.rightNodeBuffer}if(ke.circular)ke.path=U(ke);else{var tt=(0,n.h5)().source(function(vt){var dt=vt.source.x0+(vt.source.x1-vt.source.x0),gt=vt.y0;return[dt,gt]}).target(function(vt){var dt=vt.target.x0,gt=vt.y1;return[dt,gt]});ke.path=tt(ke)}})}function U(Se){var Oe="";return Se.circularLinkType=="top"?Oe="M"+Se.circularPathData.sourceX+" "+Se.circularPathData.sourceY+" L"+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.sourceY+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftSmallArcRadius+" 0 0 0 "+Se.circularPathData.leftFullExtent+" "+(Se.circularPathData.sourceY-Se.circularPathData.leftSmallArcRadius)+" L"+Se.circularPathData.leftFullExtent+" "+Se.circularPathData.verticalLeftInnerExtent+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftLargeArcRadius+" 0 0 0 "+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.verticalFullExtent+" L"+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.verticalFullExtent+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightLargeArcRadius+" 0 0 0 "+Se.circularPathData.rightFullExtent+" "+Se.circularPathData.verticalRightInnerExtent+" L"+Se.circularPathData.rightFullExtent+" "+(Se.circularPathData.targetY-Se.circularPathData.rightSmallArcRadius)+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightSmallArcRadius+" 0 0 0 "+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.targetY+" L"+Se.circularPathData.targetX+" "+Se.circularPathData.targetY:Oe="M"+Se.circularPathData.sourceX+" "+Se.circularPathData.sourceY+" L"+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.sourceY+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftSmallArcRadius+" 0 0 1 "+Se.circularPathData.leftFullExtent+" "+(Se.circularPathData.sourceY+Se.circularPathData.leftSmallArcRadius)+" L"+Se.circularPathData.leftFullExtent+" "+Se.circularPathData.verticalLeftInnerExtent+" A"+Se.circularPathData.leftLargeArcRadius+" "+Se.circularPathData.leftLargeArcRadius+" 0 0 1 "+Se.circularPathData.leftInnerExtent+" "+Se.circularPathData.verticalFullExtent+" L"+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.verticalFullExtent+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightLargeArcRadius+" 0 0 1 "+Se.circularPathData.rightFullExtent+" "+Se.circularPathData.verticalRightInnerExtent+" L"+Se.circularPathData.rightFullExtent+" "+(Se.circularPathData.targetY+Se.circularPathData.rightSmallArcRadius)+" A"+Se.circularPathData.rightLargeArcRadius+" "+Se.circularPathData.rightSmallArcRadius+" 0 0 1 "+Se.circularPathData.rightInnerExtent+" "+Se.circularPathData.targetY+" L"+Se.circularPathData.targetX+" "+Se.circularPathData.targetY,Oe}function Z(Se,Oe){return K(Se)==K(Oe)?Se.circularLinkType=="bottom"?J(Se,Oe):q(Se,Oe):K(Oe)-K(Se)}function q(Se,Oe){return Se.y0-Oe.y0}function J(Se,Oe){return Oe.y0-Se.y0}function te(Se,Oe){return Se.y1-Oe.y1}function fe(Se,Oe){return Oe.y1-Se.y1}function K(Se){return Se.target.column-Se.source.column}function Y(Se){return Se.target.x0-Se.source.x1}function W(Se,Oe){var Ve=_(Se),Ee=Y(Oe)/Math.tan(Ve),Te=he(Se)=="up"?Se.y1+Ee:Se.y1-Ee;return Te}function X(Se,Oe){var Ve=_(Se),Ee=Y(Oe)/Math.tan(Ve),Te=he(Se)=="up"?Se.y1-Ee:Se.y1+Ee;return Te}function re(Se,Oe,Ve,Ee){Se.links.forEach(function(Te){if(!Te.circular&&Te.target.column-Te.source.column>1){var Le=Te.source.column+1,Ge=Te.target.column-1,He=1,ke=Ge-Le+1;for(He=1;Le<=Ge;Le++,He++)Se.nodes.forEach(function(We){if(We.column==Le){var nt=He/(ke+1),qe=Math.pow(1-nt,3),Qe=3*nt*Math.pow(1-nt,2),tt=3*Math.pow(nt,2)*(1-nt),vt=Math.pow(nt,3),dt=qe*Te.y0+Qe*Te.y0+tt*Te.y1+vt*Te.y1,gt=dt-Te.width/2,Mt=dt+Te.width/2,Rt;gt>We.y0&&gt<We.y1?(Rt=We.y1-gt+10,Rt=We.circularLinkType=="bottom"?Rt:-Rt,We=Q(We,Rt,Oe,Ve),Se.nodes.forEach(function(Wt){x(Wt,Ee)==x(We,Ee)||Wt.column!=We.column||se(We,Wt)&&Q(Wt,Rt,Oe,Ve)})):Mt>We.y0&&Mt<We.y1?(Rt=Mt-We.y0+10,We=Q(We,Rt,Oe,Ve),Se.nodes.forEach(function(Wt){x(Wt,Ee)==x(We,Ee)||Wt.column!=We.column||Wt.y0<We.y1&&Wt.y1>We.y1&&Q(Wt,Rt,Oe,Ve)})):gt<We.y0&&Mt>We.y1&&(Rt=Mt-We.y0+10,We=Q(We,Rt,Oe,Ve),Se.nodes.forEach(function(Wt){x(Wt,Ee)==x(We,Ee)||Wt.column!=We.column||Wt.y0<We.y1&&Wt.y1>We.y1&&Q(Wt,Rt,Oe,Ve)}))}})}})}function se(Se,Oe){return Se.y0>Oe.y0&&Se.y0<Oe.y1||Se.y1>Oe.y0&&Se.y1<Oe.y1?!0:Se.y0<Oe.y0&&Se.y1>Oe.y1}function Q(Se,Oe,Ve,Ee){return Se.y0+Oe>=Ve&&Se.y1+Oe<=Ee&&(Se.y0=Se.y0+Oe,Se.y1=Se.y1+Oe,Se.targetLinks.forEach(function(Te){Te.y1=Te.y1+Oe}),Se.sourceLinks.forEach(function(Te){Te.y0=Te.y0+Oe})),Se}function ee(Se,Oe,Ve,Ee){Se.nodes.forEach(function(Te){Ee&&Te.y+(Te.y1-Te.y0)>Oe&&(Te.y=Te.y-(Te.y+(Te.y1-Te.y0)-Oe));var Le=Se.links.filter(function(ke){return x(ke.source,Ve)==x(Te,Ve)}),Ge=Le.length;Ge>1&&Le.sort(function(ke,We){if(!ke.circular&&!We.circular){if(ke.target.column==We.target.column)return ke.y1-We.y1;if(oe(ke,We)){if(ke.target.column>We.target.column){var nt=X(We,ke);return ke.y1-nt}if(We.target.column>ke.target.column){var qe=X(ke,We);return qe-We.y1}}else return ke.y1-We.y1}if(ke.circular&&!We.circular)return ke.circularLinkType=="top"?-1:1;if(We.circular&&!ke.circular)return We.circularLinkType=="top"?1:-1;if(ke.circular&&We.circular)return ke.circularLinkType===We.circularLinkType&&ke.circularLinkType=="top"?ke.target.column===We.target.column?ke.target.y1-We.target.y1:We.target.column-ke.target.column:ke.circularLinkType===We.circularLinkType&&ke.circularLinkType=="bottom"?ke.target.column===We.target.column?We.target.y1-ke.target.y1:ke.target.column-We.target.column:ke.circularLinkType=="top"?-1:1});var He=Te.y0;Le.forEach(function(ke){ke.y0=He+ke.width/2,He=He+ke.width}),Le.forEach(function(ke,We){if(ke.circularLinkType=="bottom"){var nt=We+1,qe=0;for(nt;nt<Ge;nt++)qe=qe+Le[nt].width;ke.y0=Te.y1-qe-ke.width/2}})})}function le(Se,Oe,Ve){Se.nodes.forEach(function(Ee){var Te=Se.links.filter(function(He){return x(He.target,Ve)==x(Ee,Ve)}),Le=Te.length;Le>1&&Te.sort(function(He,ke){if(!He.circular&&!ke.circular){if(He.source.column==ke.source.column)return He.y0-ke.y0;if(oe(He,ke)){if(ke.source.column<He.source.column){var We=W(ke,He);return He.y0-We}if(He.source.column<ke.source.column){var nt=W(He,ke);return nt-ke.y0}}else return He.y0-ke.y0}if(He.circular&&!ke.circular)return He.circularLinkType=="top"?-1:1;if(ke.circular&&!He.circular)return ke.circularLinkType=="top"?1:-1;if(He.circular&&ke.circular)return He.circularLinkType===ke.circularLinkType&&He.circularLinkType=="top"?He.source.column===ke.source.column?He.source.y1-ke.source.y1:He.source.column-ke.source.column:He.circularLinkType===ke.circularLinkType&&He.circularLinkType=="bottom"?He.source.column===ke.source.column?He.source.y1-ke.source.y1:ke.source.column-He.source.column:He.circularLinkType=="top"?-1:1});var Ge=Ee.y0;Te.forEach(function(He){He.y1=Ge+He.width/2,Ge=Ge+He.width}),Te.forEach(function(He,ke){if(He.circularLinkType=="bottom"){var We=ke+1,nt=0;for(We;We<Le;We++)nt=nt+Te[We].width;He.y1=Ee.y1-nt-He.width/2}})})}function oe(Se,Oe){return he(Se)==he(Oe)}function he(Se){return Se.y0-Se.y1>0?"up":"down"}function xe(Se,Oe){return x(Se.source,Oe)==x(Se.target,Oe)}function Ae(Se,Oe,Ve){var Ee=Se.nodes,Te=Se.links,Le=!1,Ge=!1;if(Te.forEach(function(Qe){Qe.circularLinkType=="top"?Le=!0:Qe.circularLinkType=="bottom"&&(Ge=!0)}),Le==!1||Ge==!1){var He=(0,p.VV)(Ee,function(Qe){return Qe.y0}),ke=(0,p.Fp)(Ee,function(Qe){return Qe.y1}),We=ke-He,nt=Ve-Oe,qe=nt/We;Ee.forEach(function(Qe){var tt=(Qe.y1-Qe.y0)*qe;Qe.y0=(Qe.y0-He)*qe,Qe.y1=Qe.y0+tt}),Te.forEach(function(Qe){Qe.y0=(Qe.y0-He)*qe,Qe.y1=(Qe.y1-He)*qe,Qe.width=Qe.width*qe})}}},30838:function(V,B,e){e.r(B),e.d(B,{sankey:function(){return d},sankeyCenter:function(){return g},sankeyJustify:function(){return h},sankeyLeft:function(){return C},sankeyLinkHorizontal:function(){return x},sankeyRight:function(){return y}});var p=e(33064),L=e(15140);function n(E){return E.target.depth}function C(E){return E.depth}function y(E,T){return T-1-E.height}function h(E,T){return E.sourceLinks.length?E.depth:T-1}function g(E){return E.targetLinks.length?E.depth:E.sourceLinks.length?(0,p.VV)(E.sourceLinks,n)-1:0}function t(E){return function(){return E}}function r(E,T){return a(E.source,T.source)||E.index-T.index}function l(E,T){return a(E.target,T.target)||E.index-T.index}function a(E,T){return E.y0-T.y0}function s(E){return E.value}function c(E){return(E.y0+E.y1)/2}function u(E){return c(E.source)*E.value}function b(E){return c(E.target)*E.value}function f(E){return E.index}function w(E){return E.nodes}function v(E){return E.links}function o(E,T){var i=E.get(T);if(!i)throw new Error("missing: "+T);return i}function d(){var E=0,T=0,i=1,R=1,A=24,k=8,_=f,H=h,z=w,N=v,O=32,F=2/3;function U(){var K={nodes:z.apply(null,arguments),links:N.apply(null,arguments)};return Z(K),q(K),J(K),te(K),fe(K),K}U.update=function(K){return fe(K),K},U.nodeId=function(K){return arguments.length?(_=typeof K=="function"?K:t(K),U):_},U.nodeAlign=function(K){return arguments.length?(H=typeof K=="function"?K:t(K),U):H},U.nodeWidth=function(K){return arguments.length?(A=+K,U):A},U.nodePadding=function(K){return arguments.length?(k=+K,U):k},U.nodes=function(K){return arguments.length?(z=typeof K=="function"?K:t(K),U):z},U.links=function(K){return arguments.length?(N=typeof K=="function"?K:t(K),U):N},U.size=function(K){return arguments.length?(E=T=0,i=+K[0],R=+K[1],U):[i-E,R-T]},U.extent=function(K){return arguments.length?(E=+K[0][0],i=+K[1][0],T=+K[0][1],R=+K[1][1],U):[[E,T],[i,R]]},U.iterations=function(K){return arguments.length?(O=+K,U):O};function Z(K){K.nodes.forEach(function(W,X){W.index=X,W.sourceLinks=[],W.targetLinks=[]});var Y=(0,L.UI)(K.nodes,_);K.links.forEach(function(W,X){W.index=X;var re=W.source,se=W.target;typeof re!="object"&&(re=W.source=o(Y,re)),typeof se!="object"&&(se=W.target=o(Y,se)),re.sourceLinks.push(W),se.targetLinks.push(W)})}function q(K){K.nodes.forEach(function(Y){Y.value=Math.max((0,p.Sm)(Y.sourceLinks,s),(0,p.Sm)(Y.targetLinks,s))})}function J(K){var Y,W,X;for(Y=K.nodes,W=[],X=0;Y.length;++X,Y=W,W=[])Y.forEach(function(se){se.depth=X,se.sourceLinks.forEach(function(Q){W.indexOf(Q.target)<0&&W.push(Q.target)})});for(Y=K.nodes,W=[],X=0;Y.length;++X,Y=W,W=[])Y.forEach(function(se){se.height=X,se.targetLinks.forEach(function(Q){W.indexOf(Q.source)<0&&W.push(Q.source)})});var re=(i-E-A)/(X-1);K.nodes.forEach(function(se){se.x1=(se.x0=E+Math.max(0,Math.min(X-1,Math.floor(H.call(null,se,X))))*re)+A})}function te(K){var Y=(0,L.b1)().key(function(le){return le.x0}).sortKeys(p.j2).entries(K.nodes).map(function(le){return le.values});re(),ee();for(var W=1,X=O;X>0;--X)Q(W*=.99),ee(),se(W),ee();function re(){var le=(0,p.Fp)(Y,function(xe){return xe.length}),oe=F*(R-T)/(le-1);k>oe&&(k=oe);var he=(0,p.VV)(Y,function(xe){return(R-T-(xe.length-1)*k)/(0,p.Sm)(xe,s)});Y.forEach(function(xe){xe.forEach(function(Ae,Se){Ae.y1=(Ae.y0=Se)+Ae.value*he})}),K.links.forEach(function(xe){xe.width=xe.value*he})}function se(le){Y.forEach(function(oe){oe.forEach(function(he){if(he.targetLinks.length){var xe=((0,p.Sm)(he.targetLinks,u)/(0,p.Sm)(he.targetLinks,s)-c(he))*le;he.y0+=xe,he.y1+=xe}})})}function Q(le){Y.slice().reverse().forEach(function(oe){oe.forEach(function(he){if(he.sourceLinks.length){var xe=((0,p.Sm)(he.sourceLinks,b)/(0,p.Sm)(he.sourceLinks,s)-c(he))*le;he.y0+=xe,he.y1+=xe}})})}function ee(){Y.forEach(function(le){var oe,he,xe=T,Ae=le.length,Se;for(le.sort(a),Se=0;Se<Ae;++Se)oe=le[Se],he=xe-oe.y0,he>0&&(oe.y0+=he,oe.y1+=he),xe=oe.y1+k;if(he=xe-k-R,he>0)for(xe=oe.y0-=he,oe.y1-=he,Se=Ae-2;Se>=0;--Se)oe=le[Se],he=oe.y1+k-xe,he>0&&(oe.y0-=he,oe.y1-=he),xe=oe.y0})}}function fe(K){K.nodes.forEach(function(Y){Y.sourceLinks.sort(l),Y.targetLinks.sort(r)}),K.nodes.forEach(function(Y){var W=Y.y0,X=W;Y.sourceLinks.forEach(function(re){re.y0=W+re.width/2,W+=re.width}),Y.targetLinks.forEach(function(re){re.y1=X+re.width/2,X+=re.width})})}return U}var S=e(45879);function M(E){return[E.source.x1,E.y0]}function P(E){return[E.target.x0,E.y1]}function x(){return(0,S.h5)().source(M).target(P)}},39898:function(V,B,e){var p,L;(function(){var n={version:"3.8.0"},C=[].slice,y=function(ce){return C.call(ce)},h=self.document;function g(ce){return ce&&(ce.ownerDocument||ce.document||ce).documentElement}function t(ce){return ce&&(ce.ownerDocument&&ce.ownerDocument.defaultView||ce.document&&ce||ce.defaultView)}if(h)try{y(h.documentElement.childNodes)[0].nodeType}catch{y=function(Pe){for(var Ue=Pe.length,$e=new Array(Ue);Ue--;)$e[Ue]=Pe[Ue];return $e}}if(Date.now||(Date.now=function(){return+new Date}),h)try{h.createElement("DIV").style.setProperty("opacity",0,"")}catch{var r=this.Element.prototype,l=r.setAttribute,a=r.setAttributeNS,s=this.CSSStyleDeclaration.prototype,c=s.setProperty;r.setAttribute=function(Pe,Ue){l.call(this,Pe,Ue+"")},r.setAttributeNS=function(Pe,Ue,$e){a.call(this,Pe,Ue,$e+"")},s.setProperty=function(Pe,Ue,$e){c.call(this,Pe,Ue+"",$e)}}n.ascending=u;function u(ce,Pe){return ce<Pe?-1:ce>Pe?1:ce>=Pe?0:NaN}n.descending=function(ce,Pe){return Pe<ce?-1:Pe>ce?1:Pe>=ce?0:NaN},n.min=function(ce,Pe){var Ue=-1,$e=ce.length,et,at;if(arguments.length===1){for(;++Ue<$e;)if((at=ce[Ue])!=null&&at>=at){et=at;break}for(;++Ue<$e;)(at=ce[Ue])!=null&&et>at&&(et=at)}else{for(;++Ue<$e;)if((at=Pe.call(ce,ce[Ue],Ue))!=null&&at>=at){et=at;break}for(;++Ue<$e;)(at=Pe.call(ce,ce[Ue],Ue))!=null&&et>at&&(et=at)}return et},n.max=function(ce,Pe){var Ue=-1,$e=ce.length,et,at;if(arguments.length===1){for(;++Ue<$e;)if((at=ce[Ue])!=null&&at>=at){et=at;break}for(;++Ue<$e;)(at=ce[Ue])!=null&&at>et&&(et=at)}else{for(;++Ue<$e;)if((at=Pe.call(ce,ce[Ue],Ue))!=null&&at>=at){et=at;break}for(;++Ue<$e;)(at=Pe.call(ce,ce[Ue],Ue))!=null&&at>et&&(et=at)}return et},n.extent=function(ce,Pe){var Ue=-1,$e=ce.length,et,at,Pt;if(arguments.length===1){for(;++Ue<$e;)if((at=ce[Ue])!=null&&at>=at){et=Pt=at;break}for(;++Ue<$e;)(at=ce[Ue])!=null&&(et>at&&(et=at),Pt<at&&(Pt=at))}else{for(;++Ue<$e;)if((at=Pe.call(ce,ce[Ue],Ue))!=null&&at>=at){et=Pt=at;break}for(;++Ue<$e;)(at=Pe.call(ce,ce[Ue],Ue))!=null&&(et>at&&(et=at),Pt<at&&(Pt=at))}return[et,Pt]};function b(ce){return ce===null?NaN:+ce}function f(ce){return!isNaN(ce)}n.sum=function(ce,Pe){var Ue=0,$e=ce.length,et,at=-1;if(arguments.length===1)for(;++at<$e;)f(et=+ce[at])&&(Ue+=et);else for(;++at<$e;)f(et=+Pe.call(ce,ce[at],at))&&(Ue+=et);return Ue},n.mean=function(ce,Pe){var Ue=0,$e=ce.length,et,at=-1,Pt=$e;if(arguments.length===1)for(;++at<$e;)f(et=b(ce[at]))?Ue+=et:--Pt;else for(;++at<$e;)f(et=b(Pe.call(ce,ce[at],at)))?Ue+=et:--Pt;if(Pt)return Ue/Pt},n.quantile=function(ce,Pe){var Ue=(ce.length-1)*Pe+1,$e=Math.floor(Ue),et=+ce[$e-1],at=Ue-$e;return at?et+at*(ce[$e]-et):et},n.median=function(ce,Pe){var Ue=[],$e=ce.length,et,at=-1;if(arguments.length===1)for(;++at<$e;)f(et=b(ce[at]))&&Ue.push(et);else for(;++at<$e;)f(et=b(Pe.call(ce,ce[at],at)))&&Ue.push(et);if(Ue.length)return n.quantile(Ue.sort(u),.5)},n.variance=function(ce,Pe){var Ue=ce.length,$e=0,et,at,Pt=0,ct=-1,Vt=0;if(arguments.length===1)for(;++ct<Ue;)f(et=b(ce[ct]))&&(at=et-$e,$e+=at/++Vt,Pt+=at*(et-$e));else for(;++ct<Ue;)f(et=b(Pe.call(ce,ce[ct],ct)))&&(at=et-$e,$e+=at/++Vt,Pt+=at*(et-$e));if(Vt>1)return Pt/(Vt-1)},n.deviation=function(){var ce=n.variance.apply(this,arguments);return ce&&Math.sqrt(ce)};function w(ce){return{left:function(Pe,Ue,$e,et){for(arguments.length<3&&($e=0),arguments.length<4&&(et=Pe.length);$e<et;){var at=$e+et>>>1;ce(Pe[at],Ue)<0?$e=at+1:et=at}return $e},right:function(Pe,Ue,$e,et){for(arguments.length<3&&($e=0),arguments.length<4&&(et=Pe.length);$e<et;){var at=$e+et>>>1;ce(Pe[at],Ue)>0?et=at:$e=at+1}return $e}}}var v=w(u);n.bisectLeft=v.left,n.bisect=n.bisectRight=v.right,n.bisector=function(ce){return w(ce.length===1?function(Pe,Ue){return u(ce(Pe),Ue)}:ce)},n.shuffle=function(ce,Pe,Ue){($e=arguments.length)<3&&(Ue=ce.length,$e<2&&(Pe=0));for(var $e=Ue-Pe,et,at;$e;)at=Math.random()*$e--|0,et=ce[$e+Pe],ce[$e+Pe]=ce[at+Pe],ce[at+Pe]=et;return ce},n.permute=function(ce,Pe){for(var Ue=Pe.length,$e=new Array(Ue);Ue--;)$e[Ue]=ce[Pe[Ue]];return $e},n.pairs=function(ce){for(var Pe=0,Ue=ce.length-1,$e=ce[0],et=new Array(Ue<0?0:Ue);Pe<Ue;)et[Pe]=[$e,$e=ce[++Pe]];return et},n.transpose=function(ce){if(!(at=ce.length))return[];for(var Pe=-1,Ue=n.min(ce,o),$e=new Array(Ue);++Pe<Ue;)for(var et=-1,at,Pt=$e[Pe]=new Array(at);++et<at;)Pt[et]=ce[et][Pe];return $e};function o(ce){return ce.length}n.zip=function(){return n.transpose(arguments)},n.keys=function(ce){var Pe=[];for(var Ue in ce)Pe.push(Ue);return Pe},n.values=function(ce){var Pe=[];for(var Ue in ce)Pe.push(ce[Ue]);return Pe},n.entries=function(ce){var Pe=[];for(var Ue in ce)Pe.push({key:Ue,value:ce[Ue]});return Pe},n.merge=function(ce){for(var Pe=ce.length,Ue,$e=-1,et=0,at,Pt;++$e<Pe;)et+=ce[$e].length;for(at=new Array(et);--Pe>=0;)for(Pt=ce[Pe],Ue=Pt.length;--Ue>=0;)at[--et]=Pt[Ue];return at};var d=Math.abs;n.range=function(ce,Pe,Ue){if(arguments.length<3&&(Ue=1,arguments.length<2&&(Pe=ce,ce=0)),(Pe-ce)/Ue===1/0)throw new Error("infinite range");var $e=[],et=S(d(Ue)),at=-1,Pt;if(ce*=et,Pe*=et,Ue*=et,Ue<0)for(;(Pt=ce+Ue*++at)>Pe;)$e.push(Pt/et);else for(;(Pt=ce+Ue*++at)<Pe;)$e.push(Pt/et);return $e};function S(ce){for(var Pe=1;ce*Pe%1;)Pe*=10;return Pe}function M(ce,Pe){for(var Ue in Pe)Object.defineProperty(ce.prototype,Ue,{value:Pe[Ue],enumerable:!1})}n.map=function(ce,Pe){var Ue=new P;if(ce instanceof P)ce.forEach(function(ct,Vt){Ue.set(ct,Vt)});else if(Array.isArray(ce)){var $e=-1,et=ce.length,at;if(arguments.length===1)for(;++$e<et;)Ue.set($e,ce[$e]);else for(;++$e<et;)Ue.set(Pe.call(ce,at=ce[$e],$e),at)}else for(var Pt in ce)Ue.set(Pt,ce[Pt]);return Ue};function P(){this._=Object.create(null)}var x="__proto__",E="\0";M(P,{has:R,get:function(ce){return this._[T(ce)]},set:function(ce,Pe){return this._[T(ce)]=Pe},remove:A,keys:k,values:function(){var ce=[];for(var Pe in this._)ce.push(this._[Pe]);return ce},entries:function(){var ce=[];for(var Pe in this._)ce.push({key:i(Pe),value:this._[Pe]});return ce},size:_,empty:H,forEach:function(ce){for(var Pe in this._)ce.call(this,i(Pe),this._[Pe])}});function T(ce){return(ce+="")===x||ce[0]===E?E+ce:ce}function i(ce){return(ce+="")[0]===E?ce.slice(1):ce}function R(ce){return T(ce)in this._}function A(ce){return(ce=T(ce))in this._&&delete this._[ce]}function k(){var ce=[];for(var Pe in this._)ce.push(i(Pe));return ce}function _(){var ce=0;for(var Pe in this._)++ce;return ce}function H(){for(var ce in this._)return!1;return!0}n.nest=function(){var ce={},Pe=[],Ue=[],$e,et;function at(ct,Vt,tr){if(tr>=Pe.length)return et?et.call(ce,Vt):$e?Vt.sort($e):Vt;for(var rr=-1,Rr=Vt.length,Er=Pe[tr++],$r,rn,kr,Hr=new P,jr;++rr<Rr;)(jr=Hr.get($r=Er(rn=Vt[rr])))?jr.push(rn):Hr.set($r,[rn]);return ct?(rn=ct(),kr=function(nn,fn){rn.set(nn,at(ct,fn,tr))}):(rn={},kr=function(nn,fn){rn[nn]=at(ct,fn,tr)}),Hr.forEach(kr),rn}function Pt(ct,Vt){if(Vt>=Pe.length)return ct;var tr=[],rr=Ue[Vt++];return ct.forEach(function(Rr,Er){tr.push({key:Rr,values:Pt(Er,Vt)})}),rr?tr.sort(function(Rr,Er){return rr(Rr.key,Er.key)}):tr}return ce.map=function(ct,Vt){return at(Vt,ct,0)},ce.entries=function(ct){return Pt(at(n.map,ct,0),0)},ce.key=function(ct){return Pe.push(ct),ce},ce.sortKeys=function(ct){return Ue[Pe.length-1]=ct,ce},ce.sortValues=function(ct){return $e=ct,ce},ce.rollup=function(ct){return et=ct,ce},ce},n.set=function(ce){var Pe=new z;if(ce)for(var Ue=0,$e=ce.length;Ue<$e;++Ue)Pe.add(ce[Ue]);return Pe};function z(){this._=Object.create(null)}M(z,{has:R,add:function(ce){return this._[T(ce+="")]=!0,ce},remove:A,values:k,size:_,empty:H,forEach:function(ce){for(var Pe in this._)ce.call(this,i(Pe))}}),n.behavior={};function N(ce){return ce}n.rebind=function(ce,Pe){for(var Ue=1,$e=arguments.length,et;++Ue<$e;)ce[et=arguments[Ue]]=O(ce,Pe,Pe[et]);return ce};function O(ce,Pe,Ue){return function(){var $e=Ue.apply(Pe,arguments);return $e===Pe?ce:$e}}function F(ce,Pe){if(Pe in ce)return Pe;Pe=Pe.charAt(0).toUpperCase()+Pe.slice(1);for(var Ue=0,$e=U.length;Ue<$e;++Ue){var et=U[Ue]+Pe;if(et in ce)return et}}var U=["webkit","ms","moz","Moz","o","O"];function Z(){}n.dispatch=function(){for(var ce=new q,Pe=-1,Ue=arguments.length;++Pe<Ue;)ce[arguments[Pe]]=J(ce);return ce};function q(){}q.prototype.on=function(ce,Pe){var Ue=ce.indexOf("."),$e="";if(Ue>=0&&($e=ce.slice(Ue+1),ce=ce.slice(0,Ue)),ce)return arguments.length<2?this[ce].on($e):this[ce].on($e,Pe);if(arguments.length===2){if(Pe==null)for(ce in this)this.hasOwnProperty(ce)&&this[ce].on($e,null);return this}};function J(ce){var Pe=[],Ue=new P;function $e(){for(var et=Pe,at=-1,Pt=et.length,ct;++at<Pt;)(ct=et[at].on)&&ct.apply(this,arguments);return ce}return $e.on=function(et,at){var Pt=Ue.get(et),ct;return arguments.length<2?Pt&&Pt.on:(Pt&&(Pt.on=null,Pe=Pe.slice(0,ct=Pe.indexOf(Pt)).concat(Pe.slice(ct+1)),Ue.remove(et)),at&&Pe.push(Ue.set(et,{on:at})),ce)},$e}n.event=null;function te(){n.event.preventDefault()}function fe(){for(var ce=n.event,Pe;Pe=ce.sourceEvent;)ce=Pe;return ce}function K(ce){for(var Pe=new q,Ue=0,$e=arguments.length;++Ue<$e;)Pe[arguments[Ue]]=J(Pe);return Pe.of=function(et,at){return function(Pt){try{var ct=Pt.sourceEvent=n.event;Pt.target=ce,n.event=Pt,Pe[Pt.type].apply(et,at)}finally{n.event=ct}}},Pe}n.requote=function(ce){return ce.replace(Y,"\\$&")};var Y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,W={}.__proto__?function(ce,Pe){ce.__proto__=Pe}:function(ce,Pe){for(var Ue in Pe)ce[Ue]=Pe[Ue]};function X(ce){return W(ce,ee),ce}var re=function(ce,Pe){return Pe.querySelector(ce)},se=function(ce,Pe){return Pe.querySelectorAll(ce)},Q=function(ce,Pe){var Ue=ce.matches||ce[F(ce,"matchesSelector")];return Q=function($e,et){return Ue.call($e,et)},Q(ce,Pe)};typeof Sizzle=="function"&&(re=function(ce,Pe){return Sizzle(ce,Pe)[0]||null},se=Sizzle,Q=Sizzle.matchesSelector),n.selection=function(){return n.select(h.documentElement)};var ee=n.selection.prototype=[];ee.select=function(ce){var Pe=[],Ue,$e,et,at;ce=le(ce);for(var Pt=-1,ct=this.length;++Pt<ct;){Pe.push(Ue=[]),Ue.parentNode=(et=this[Pt]).parentNode;for(var Vt=-1,tr=et.length;++Vt<tr;)(at=et[Vt])?(Ue.push($e=ce.call(at,at.__data__,Vt,Pt)),$e&&"__data__"in at&&($e.__data__=at.__data__)):Ue.push(null)}return X(Pe)};function le(ce){return typeof ce=="function"?ce:function(){return re(ce,this)}}ee.selectAll=function(ce){var Pe=[],Ue,$e;ce=oe(ce);for(var et=-1,at=this.length;++et<at;)for(var Pt=this[et],ct=-1,Vt=Pt.length;++ct<Vt;)($e=Pt[ct])&&(Pe.push(Ue=y(ce.call($e,$e.__data__,ct,et))),Ue.parentNode=$e);return X(Pe)};function oe(ce){return typeof ce=="function"?ce:function(){return se(ce,this)}}var he="http://www.w3.org/1999/xhtml",xe={svg:"http://www.w3.org/2000/svg",xhtml:he,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};n.ns={prefix:xe,qualify:function(ce){var Pe=ce.indexOf(":"),Ue=ce;return Pe>=0&&(Ue=ce.slice(0,Pe))!=="xmlns"&&(ce=ce.slice(Pe+1)),xe.hasOwnProperty(Ue)?{space:xe[Ue],local:ce}:ce}},ee.attr=function(ce,Pe){if(arguments.length<2){if(typeof ce=="string"){var Ue=this.node();return ce=n.ns.qualify(ce),ce.local?Ue.getAttributeNS(ce.space,ce.local):Ue.getAttribute(ce)}for(Pe in ce)this.each(Ae(Pe,ce[Pe]));return this}return this.each(Ae(ce,Pe))};function Ae(ce,Pe){ce=n.ns.qualify(ce);function Ue(){this.removeAttribute(ce)}function $e(){this.removeAttributeNS(ce.space,ce.local)}function et(){this.setAttribute(ce,Pe)}function at(){this.setAttributeNS(ce.space,ce.local,Pe)}function Pt(){var Vt=Pe.apply(this,arguments);Vt==null?this.removeAttribute(ce):this.setAttribute(ce,Vt)}function ct(){var Vt=Pe.apply(this,arguments);Vt==null?this.removeAttributeNS(ce.space,ce.local):this.setAttributeNS(ce.space,ce.local,Vt)}return Pe==null?ce.local?$e:Ue:typeof Pe=="function"?ce.local?ct:Pt:ce.local?at:et}function Se(ce){return ce.trim().replace(/\s+/g," ")}ee.classed=function(ce,Pe){if(arguments.length<2){if(typeof ce=="string"){var Ue=this.node(),$e=(ce=Ve(ce)).length,et=-1;if(Pe=Ue.classList){for(;++et<$e;)if(!Pe.contains(ce[et]))return!1}else for(Pe=Ue.getAttribute("class");++et<$e;)if(!Oe(ce[et]).test(Pe))return!1;return!0}for(Pe in ce)this.each(Ee(Pe,ce[Pe]));return this}return this.each(Ee(ce,Pe))};function Oe(ce){return new RegExp("(?:^|\\s+)"+n.requote(ce)+"(?:\\s+|$)","g")}function Ve(ce){return(ce+"").trim().split(/^|\s+/)}function Ee(ce,Pe){ce=Ve(ce).map(Te);var Ue=ce.length;function $e(){for(var at=-1;++at<Ue;)ce[at](this,Pe)}function et(){for(var at=-1,Pt=Pe.apply(this,arguments);++at<Ue;)ce[at](this,Pt)}return typeof Pe=="function"?et:$e}function Te(ce){var Pe=Oe(ce);return function(Ue,$e){if(et=Ue.classList)return $e?et.add(ce):et.remove(ce);var et=Ue.getAttribute("class")||"";$e?(Pe.lastIndex=0,Pe.test(et)||Ue.setAttribute("class",Se(et+" "+ce))):Ue.setAttribute("class",Se(et.replace(Pe," ")))}}ee.style=function(ce,Pe,Ue){var $e=arguments.length;if($e<3){if(typeof ce!="string"){$e<2&&(Pe="");for(Ue in ce)this.each(Le(Ue,ce[Ue],Pe));return this}if($e<2){var et=this.node();return t(et).getComputedStyle(et,null).getPropertyValue(ce)}Ue=""}return this.each(Le(ce,Pe,Ue))};function Le(ce,Pe,Ue){function $e(){this.style.removeProperty(ce)}function et(){this.style.setProperty(ce,Pe,Ue)}function at(){var Pt=Pe.apply(this,arguments);Pt==null?this.style.removeProperty(ce):this.style.setProperty(ce,Pt,Ue)}return Pe==null?$e:typeof Pe=="function"?at:et}ee.property=function(ce,Pe){if(arguments.length<2){if(typeof ce=="string")return this.node()[ce];for(Pe in ce)this.each(Ge(Pe,ce[Pe]));return this}return this.each(Ge(ce,Pe))};function Ge(ce,Pe){function Ue(){delete this[ce]}function $e(){this[ce]=Pe}function et(){var at=Pe.apply(this,arguments);at==null?delete this[ce]:this[ce]=at}return Pe==null?Ue:typeof Pe=="function"?et:$e}ee.text=function(ce){return arguments.length?this.each(typeof ce=="function"?function(){var Pe=ce.apply(this,arguments);this.textContent=Pe??""}:ce==null?function(){this.textContent=""}:function(){this.textContent=ce}):this.node().textContent},ee.html=function(ce){return arguments.length?this.each(typeof ce=="function"?function(){var Pe=ce.apply(this,arguments);this.innerHTML=Pe??""}:ce==null?function(){this.innerHTML=""}:function(){this.innerHTML=ce}):this.node().innerHTML},ee.append=function(ce){return ce=He(ce),this.select(function(){return this.appendChild(ce.apply(this,arguments))})};function He(ce){function Pe(){var $e=this.ownerDocument,et=this.namespaceURI;return et===he&&$e.documentElement.namespaceURI===he?$e.createElement(ce):$e.createElementNS(et,ce)}function Ue(){return this.ownerDocument.createElementNS(ce.space,ce.local)}return typeof ce=="function"?ce:(ce=n.ns.qualify(ce)).local?Ue:Pe}ee.insert=function(ce,Pe){return ce=He(ce),Pe=le(Pe),this.select(function(){return this.insertBefore(ce.apply(this,arguments),Pe.apply(this,arguments)||null)})},ee.remove=function(){return this.each(ke)};function ke(){var ce=this.parentNode;ce&&ce.removeChild(this)}ee.data=function(ce,Pe){var Ue=-1,$e=this.length,et,at;if(!arguments.length){for(ce=new Array($e=(et=this[0]).length);++Ue<$e;)(at=et[Ue])&&(ce[Ue]=at.__data__);return ce}function Pt(rr,Rr){var Er,$r=rr.length,rn=Rr.length,kr=Math.min($r,rn),Hr=new Array(rn),jr=new Array(rn),nn=new Array($r),fn,Kr;if(Pe){var Vn=new P,Yn=new Array($r),$n;for(Er=-1;++Er<$r;)(fn=rr[Er])&&(Vn.has($n=Pe.call(fn,fn.__data__,Er))?nn[Er]=fn:Vn.set($n,fn),Yn[Er]=$n);for(Er=-1;++Er<rn;)(fn=Vn.get($n=Pe.call(Rr,Kr=Rr[Er],Er)))?fn!==!0&&(Hr[Er]=fn,fn.__data__=Kr):jr[Er]=We(Kr),Vn.set($n,!0);for(Er=-1;++Er<$r;)Er in Yn&&Vn.get(Yn[Er])!==!0&&(nn[Er]=rr[Er])}else{for(Er=-1;++Er<kr;)fn=rr[Er],Kr=Rr[Er],fn?(fn.__data__=Kr,Hr[Er]=fn):jr[Er]=We(Kr);for(;Er<rn;++Er)jr[Er]=We(Rr[Er]);for(;Er<$r;++Er)nn[Er]=rr[Er]}jr.update=Hr,jr.parentNode=Hr.parentNode=nn.parentNode=rr.parentNode,ct.push(jr),Vt.push(Hr),tr.push(nn)}var ct=tt([]),Vt=X([]),tr=X([]);if(typeof ce=="function")for(;++Ue<$e;)Pt(et=this[Ue],ce.call(et,et.parentNode.__data__,Ue));else for(;++Ue<$e;)Pt(et=this[Ue],ce);return Vt.enter=function(){return ct},Vt.exit=function(){return tr},Vt};function We(ce){return{__data__:ce}}ee.datum=function(ce){return arguments.length?this.property("__data__",ce):this.property("__data__")},ee.filter=function(ce){var Pe=[],Ue,$e,et;typeof ce!="function"&&(ce=nt(ce));for(var at=0,Pt=this.length;at<Pt;at++){Pe.push(Ue=[]),Ue.parentNode=($e=this[at]).parentNode;for(var ct=0,Vt=$e.length;ct<Vt;ct++)(et=$e[ct])&&ce.call(et,et.__data__,ct,at)&&Ue.push(et)}return X(Pe)};function nt(ce){return function(){return Q(this,ce)}}ee.order=function(){for(var ce=-1,Pe=this.length;++ce<Pe;)for(var Ue=this[ce],$e=Ue.length-1,et=Ue[$e],at;--$e>=0;)(at=Ue[$e])&&(et&&et!==at.nextSibling&&et.parentNode.insertBefore(at,et),et=at);return this},ee.sort=function(ce){ce=qe.apply(this,arguments);for(var Pe=-1,Ue=this.length;++Pe<Ue;)this[Pe].sort(ce);return this.order()};function qe(ce){return arguments.length||(ce=u),function(Pe,Ue){return Pe&&Ue?ce(Pe.__data__,Ue.__data__):!Pe-!Ue}}ee.each=function(ce){return Qe(this,function(Pe,Ue,$e){ce.call(Pe,Pe.__data__,Ue,$e)})};function Qe(ce,Pe){for(var Ue=0,$e=ce.length;Ue<$e;Ue++)for(var et=ce[Ue],at=0,Pt=et.length,ct;at<Pt;at++)(ct=et[at])&&Pe(ct,at,Ue);return ce}ee.call=function(ce){var Pe=y(arguments);return ce.apply(Pe[0]=this,Pe),this},ee.empty=function(){return!this.node()},ee.node=function(){for(var ce=0,Pe=this.length;ce<Pe;ce++)for(var Ue=this[ce],$e=0,et=Ue.length;$e<et;$e++){var at=Ue[$e];if(at)return at}return null},ee.size=function(){var ce=0;return Qe(this,function(){++ce}),ce};function tt(ce){return W(ce,vt),ce}var vt=[];n.selection.enter=tt,n.selection.enter.prototype=vt,vt.append=ee.append,vt.empty=ee.empty,vt.node=ee.node,vt.call=ee.call,vt.size=ee.size,vt.select=function(ce){for(var Pe=[],Ue,$e,et,at,Pt,ct=-1,Vt=this.length;++ct<Vt;){et=(at=this[ct]).update,Pe.push(Ue=[]),Ue.parentNode=at.parentNode;for(var tr=-1,rr=at.length;++tr<rr;)(Pt=at[tr])?(Ue.push(et[tr]=$e=ce.call(at.parentNode,Pt.__data__,tr,ct)),$e.__data__=Pt.__data__):Ue.push(null)}return X(Pe)},vt.insert=function(ce,Pe){return arguments.length<2&&(Pe=dt(this)),ee.insert.call(this,ce,Pe)};function dt(ce){var Pe,Ue;return function($e,et,at){var Pt=ce[at].update,ct=Pt.length,Vt;for(at!=Ue&&(Ue=at,Pe=0),et>=Pe&&(Pe=et+1);!(Vt=Pt[Pe])&&++Pe<ct;);return Vt}}n.select=function(ce){var Pe;return typeof ce=="string"?(Pe=[re(ce,h)],Pe.parentNode=h.documentElement):(Pe=[ce],Pe.parentNode=g(ce)),X([Pe])},n.selectAll=function(ce){var Pe;return typeof ce=="string"?(Pe=y(se(ce,h)),Pe.parentNode=h.documentElement):(Pe=y(ce),Pe.parentNode=null),X([Pe])},ee.on=function(ce,Pe,Ue){var $e=arguments.length;if($e<3){if(typeof ce!="string"){$e<2&&(Pe=!1);for(Ue in ce)this.each(gt(Ue,ce[Ue],Pe));return this}if($e<2)return($e=this.node()["__on"+ce])&&$e._;Ue=!1}return this.each(gt(ce,Pe,Ue))};function gt(ce,Pe,Ue){var $e="__on"+ce,et=ce.indexOf("."),at=Rt;et>0&&(ce=ce.slice(0,et));var Pt=Mt.get(ce);Pt&&(ce=Pt,at=Wt);function ct(){var rr=this[$e];rr&&(this.removeEventListener(ce,rr,rr.$),delete this[$e])}function Vt(){var rr=at(Pe,y(arguments));ct.call(this),this.addEventListener(ce,this[$e]=rr,rr.$=Ue),rr._=Pe}function tr(){var rr=new RegExp("^__on([^.]+)"+n.requote(ce)+"$"),Rr;for(var Er in this)if(Rr=Er.match(rr)){var $r=this[Er];this.removeEventListener(Rr[1],$r,$r.$),delete this[Er]}}return et?Pe?Vt:ct:Pe?Z:tr}var Mt=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});h&&Mt.forEach(function(ce){"on"+ce in h&&Mt.remove(ce)});function Rt(ce,Pe){return function(Ue){var $e=n.event;n.event=Ue,Pe[0]=this.__data__;try{ce.apply(this,Pe)}finally{n.event=$e}}}function Wt(ce,Pe){var Ue=Rt(ce,Pe);return function($e){var et=this,at=$e.relatedTarget;(!at||at!==et&&!(at.compareDocumentPosition(et)&8))&&Ue.call(et,$e)}}var je,_e=0;function Fe(ce){var Pe=".dragsuppress-"+ ++_e,Ue="click"+Pe,$e=n.select(t(ce)).on("touchmove"+Pe,te).on("dragstart"+Pe,te).on("selectstart"+Pe,te);if(je==null&&(je="onselectstart"in ce?!1:F(ce.style,"userSelect")),je){var et=g(ce).style,at=et[je];et[je]="none"}return function(Pt){if($e.on(Pe,null),je&&(et[je]=at),Pt){var ct=function(){$e.on(Ue,null)};$e.on(Ue,function(){te(),ct()},!0),setTimeout(ct,0)}}}n.mouse=function(ce){return De(ce,fe())};var Be=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function De(ce,Pe){Pe.changedTouches&&(Pe=Pe.changedTouches[0]);var Ue=ce.ownerSVGElement||ce;if(Ue.createSVGPoint){var $e=Ue.createSVGPoint();if(Be<0){var et=t(ce);if(et.scrollX||et.scrollY){Ue=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var at=Ue[0][0].getScreenCTM();Be=!(at.f||at.e),Ue.remove()}}return Be?($e.x=Pe.pageX,$e.y=Pe.pageY):($e.x=Pe.clientX,$e.y=Pe.clientY),$e=$e.matrixTransform(ce.getScreenCTM().inverse()),[$e.x,$e.y]}var Pt=ce.getBoundingClientRect();return[Pe.clientX-Pt.left-ce.clientLeft,Pe.clientY-Pt.top-ce.clientTop]}n.touch=function(ce,Pe,Ue){if(arguments.length<3&&(Ue=Pe,Pe=fe().changedTouches),Pe){for(var $e=0,et=Pe.length,at;$e<et;++$e)if((at=Pe[$e]).identifier===Ue)return De(ce,at)}},n.behavior.drag=function(){var ce=K(et,"drag","dragstart","dragend"),Pe=null,Ue=at(Z,n.mouse,t,"mousemove","mouseup"),$e=at(we,n.touch,N,"touchmove","touchend");function et(){this.on("mousedown.drag",Ue).on("touchstart.drag",$e)}function at(Pt,ct,Vt,tr,rr){return function(){var Rr=this,Er=n.event.target.correspondingElement||n.event.target,$r=Rr.parentNode,rn=ce.of(Rr,arguments),kr=0,Hr=Pt(),jr=".drag"+(Hr==null?"":"-"+Hr),nn,fn=n.select(Vt(Er)).on(tr+jr,Yn).on(rr+jr,$n),Kr=Fe(Er),Vn=ct($r,Hr);Pe?(nn=Pe.apply(Rr,arguments),nn=[nn.x-Vn[0],nn.y-Vn[1]]):nn=[0,0],rn({type:"dragstart"});function Yn(){var sa=ct($r,Hr),Sa,Aa;sa&&(Sa=sa[0]-Vn[0],Aa=sa[1]-Vn[1],kr|=Sa|Aa,Vn=sa,rn({type:"drag",x:sa[0]+nn[0],y:sa[1]+nn[1],dx:Sa,dy:Aa}))}function $n(){ct($r,Hr)&&(fn.on(tr+jr,null).on(rr+jr,null),Kr(kr),rn({type:"dragend"}))}}}return et.origin=function(Pt){return arguments.length?(Pe=Pt,et):Pe},n.rebind(et,ce,"on")};function we(){return n.event.changedTouches[0].identifier}n.touches=function(ce,Pe){return arguments.length<2&&(Pe=fe().touches),Pe?y(Pe).map(function(Ue){var $e=De(ce,Ue);return $e.identifier=Ue.identifier,$e}):[]};var ue=1e-6,me=ue*ue,Re=Math.PI,Ne=2*Re,it=Ne-ue,ot=Re/2,wt=Re/180,Ft=180/Re;function Ut(ce,Pe,Ue){return(Pe[0]-ce[0])*(Ue[1]-ce[1])-(Pe[1]-ce[1])*(Ue[0]-ce[0])}function Gt(ce){return ce>1?ot:ce<-1?-ot:Math.asin(ce)}function Et(ce){return((ce=Math.exp(ce))-1/ce)/2}function $t(ce){return((ce=Math.exp(ce))+1/ce)/2}function lr(ce){return((ce=Math.exp(2*ce))-1)/(ce+1)}var Fr=Math.SQRT2,yt=2,Kt=4;n.interpolateZoom=function(ce,Pe){var Ue=ce[0],$e=ce[1],et=ce[2],at=Pe[0],Pt=Pe[1],ct=Pe[2],Vt=at-Ue,tr=Pt-$e,rr=Vt*Vt+tr*tr,Rr,Er;if(rr<me)Er=Math.log(ct/et)/Fr,Rr=function(nn){return[Ue+nn*Vt,$e+nn*tr,et*Math.exp(Fr*nn*Er)]};else{var $r=Math.sqrt(rr),rn=(ct*ct-et*et+Kt*rr)/(2*et*yt*$r),kr=(ct*ct-et*et-Kt*rr)/(2*ct*yt*$r),Hr=Math.log(Math.sqrt(rn*rn+1)-rn),jr=Math.log(Math.sqrt(kr*kr+1)-kr);Er=(jr-Hr)/Fr,Rr=function(nn){var fn=nn*Er,Kr=$t(Hr),Vn=et/(yt*$r)*(Kr*lr(Fr*fn+Hr)-Et(Hr));return[Ue+Vn*Vt,$e+Vn*tr,et*Kr/$t(Fr*fn+Hr)]}}return Rr.duration=Er*1e3,Rr},n.behavior.zoom=function(){var ce={x:0,y:0,k:1},Pe,Ue,$e,et=[960,500],at=Zt,Pt=250,ct=0,Vt="mousedown.zoom",tr="mousemove.zoom",rr="mouseup.zoom",Rr,Er="touchstart.zoom",$r,rn=K(fn,"zoomstart","zoom","zoomend"),kr,Hr,jr,nn;vr||(vr="onwheel"in h?(Ar=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in h?(Ar=function(){return n.event.wheelDelta},"mousewheel"):(Ar=function(){return-n.event.detail},"MozMousePixelScroll"));function fn(Un){Un.on(Vt,Za).on(vr+".zoom",gi).on("dblclick.zoom",Si).on(Er,fi)}fn.event=function(Un){Un.each(function(){var Xa=rn.of(this,arguments),Wa=ce;Ir?n.select(this).transition().each("start.zoom",function(){ce=this.__chart__||{x:0,y:0,k:1},Aa(Xa)}).tween("zoom:zoom",function(){var ri=et[0],Vi=et[1],eo=Ue?Ue[0]:ri/2,oo=Ue?Ue[1]:Vi/2,Fi=n.interpolateZoom([(eo-ce.x)/ce.k,(oo-ce.y)/ce.k,ri/ce.k],[(eo-Wa.x)/Wa.k,(oo-Wa.y)/Wa.k,ri/Wa.k]);return function(Ci){var ba=Fi(Ci),La=ri/ba[2];this.__chart__=ce={x:eo-ba[0]*La,y:oo-ba[1]*La,k:La},Ka(Xa)}}).each("interrupt.zoom",function(){Ia(Xa)}).each("end.zoom",function(){Ia(Xa)}):(this.__chart__=ce,Aa(Xa),Ka(Xa),Ia(Xa))})},fn.translate=function(Un){return arguments.length?(ce={x:+Un[0],y:+Un[1],k:ce.k},Sa(),fn):[ce.x,ce.y]},fn.scale=function(Un){return arguments.length?(ce={x:ce.x,y:ce.y,k:null},Yn(+Un),Sa(),fn):ce.k},fn.scaleExtent=function(Un){return arguments.length?(at=Un==null?Zt:[+Un[0],+Un[1]],fn):at},fn.center=function(Un){return arguments.length?($e=Un&&[+Un[0],+Un[1]],fn):$e},fn.size=function(Un){return arguments.length?(et=Un&&[+Un[0],+Un[1]],fn):et},fn.duration=function(Un){return arguments.length?(Pt=+Un,fn):Pt},fn.x=function(Un){return arguments.length?(Hr=Un,kr=Un.copy(),ce={x:0,y:0,k:1},fn):Hr},fn.y=function(Un){return arguments.length?(nn=Un,jr=Un.copy(),ce={x:0,y:0,k:1},fn):nn};function Kr(Un){return[(Un[0]-ce.x)/ce.k,(Un[1]-ce.y)/ce.k]}function Vn(Un){return[Un[0]*ce.k+ce.x,Un[1]*ce.k+ce.y]}function Yn(Un){ce.k=Math.max(at[0],Math.min(at[1],Un))}function $n(Un,Xa){Xa=Vn(Xa),ce.x+=Un[0]-Xa[0],ce.y+=Un[1]-Xa[1]}function sa(Un,Xa,Wa,ri){Un.__chart__={x:ce.x,y:ce.y,k:ce.k},Yn(Math.pow(2,ri)),$n(Ue=Xa,Wa),Un=n.select(Un),Pt>0&&(Un=Un.transition().duration(Pt)),Un.call(fn.event)}function Sa(){Hr&&Hr.domain(kr.range().map(function(Un){return(Un-ce.x)/ce.k}).map(kr.invert)),nn&&nn.domain(jr.range().map(function(Un){return(Un-ce.y)/ce.k}).map(jr.invert))}function Aa(Un){ct++||Un({type:"zoomstart"})}function Ka(Un){Sa(),Un({type:"zoom",scale:ce.k,translate:[ce.x,ce.y]})}function Ia(Un){--ct||(Un({type:"zoomend"}),Ue=null)}function Za(){var Un=this,Xa=rn.of(Un,arguments),Wa=0,ri=n.select(t(Un)).on(tr,oo).on(rr,Fi),Vi=Kr(n.mouse(Un)),eo=Fe(Un);Ot.call(Un),Aa(Xa);function oo(){Wa=1,$n(n.mouse(Un),Vi),Ka(Xa)}function Fi(){ri.on(tr,null).on(rr,null),eo(Wa),Ia(Xa)}}function fi(){var Un=this,Xa=rn.of(Un,arguments),Wa={},ri=0,Vi,eo=".zoom-"+n.event.changedTouches[0].identifier,oo="touchmove"+eo,Fi="touchend"+eo,Ci=[],ba=n.select(Un),La=Fe(Un);no(),Aa(Xa),ba.on(Vt,null).on(Er,no);function zi(){var Uo=n.touches(Un);return Vi=ce.k,Uo.forEach(function(Gi){Gi.identifier in Wa&&(Wa[Gi.identifier]=Kr(Gi))}),Uo}function no(){var Uo=n.event.target;n.select(Uo).on(oo,is).on(Fi,bo),Ci.push(Uo);for(var Gi=n.event.changedTouches,cs=0,Ri=Gi.length;cs<Ri;++cs)Wa[Gi[cs].identifier]=null;var Vs=zi(),hs=Date.now();if(Vs.length===1){if(hs-$r<500){var ii=Vs[0];sa(Un,ii,Wa[ii.identifier],Math.floor(Math.log(ce.k)/Math.LN2)+1),te()}$r=hs}else if(Vs.length>1){var ii=Vs[0],Oi=Vs[1],qc=ii[0]-Oi[0],hc=ii[1]-Oi[1];ri=qc*qc+hc*hc}}function is(){var Uo=n.touches(Un),Gi,cs,Ri,Vs;Ot.call(Un);for(var hs=0,ii=Uo.length;hs<ii;++hs,Vs=null)if(Ri=Uo[hs],Vs=Wa[Ri.identifier]){if(cs)break;Gi=Ri,cs=Vs}if(Vs){var Oi=(Oi=Ri[0]-Gi[0])*Oi+(Oi=Ri[1]-Gi[1])*Oi,qc=ri&&Math.sqrt(Oi/ri);Gi=[(Gi[0]+Ri[0])/2,(Gi[1]+Ri[1])/2],cs=[(cs[0]+Vs[0])/2,(cs[1]+Vs[1])/2],Yn(qc*Vi)}$r=null,$n(Gi,cs),Ka(Xa)}function bo(){if(n.event.touches.length){for(var Uo=n.event.changedTouches,Gi=0,cs=Uo.length;Gi<cs;++Gi)delete Wa[Uo[Gi].identifier];for(var Ri in Wa)return void zi()}n.selectAll(Ci).on(eo,null),ba.on(Vt,Za).on(Er,fi),La(),Ia(Xa)}}function gi(){var Un=rn.of(this,arguments);Rr?clearTimeout(Rr):(Ot.call(this),Pe=Kr(Ue=$e||n.mouse(this)),Aa(Un)),Rr=setTimeout(function(){Rr=null,Ia(Un)},50),te(),Yn(Math.pow(2,Ar()*.002)*ce.k),$n(Ue,Pe),Ka(Un)}function Si(){var Un=n.mouse(this),Xa=Math.log(ce.k)/Math.LN2;sa(this,Un,Kr(Un),n.event.shiftKey?Math.ceil(Xa)-1:Math.floor(Xa)+1)}return n.rebind(fn,rn,"on")};var Zt=[0,1/0],Ar,vr;n.color=ut;function ut(){}ut.prototype.toString=function(){return this.rgb()+""},n.hsl=lt;function lt(ce,Pe,Ue){return this instanceof lt?(this.h=+ce,this.s=+Pe,void(this.l=+Ue)):arguments.length<2?ce instanceof lt?new lt(ce.h,ce.s,ce.l):gr(""+ce,dr,lt):new lt(ce,Pe,Ue)}var xt=lt.prototype=new ut;xt.brighter=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new lt(this.h,this.s,this.l/ce)},xt.darker=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new lt(this.h,this.s,ce*this.l)},xt.rgb=function(){return Tt(this.h,this.s,this.l)};function Tt(ce,Pe,Ue){var $e,et;ce=isNaN(ce)?0:(ce%=360)<0?ce+360:ce,Pe=isNaN(Pe)||Pe<0?0:Pe>1?1:Pe,Ue=Ue<0?0:Ue>1?1:Ue,et=Ue<=.5?Ue*(1+Pe):Ue+Pe-Ue*Pe,$e=2*Ue-et;function at(ct){return ct>360?ct-=360:ct<0&&(ct+=360),ct<60?$e+(et-$e)*ct/60:ct<180?et:ct<240?$e+(et-$e)*(240-ct)/60:$e}function Pt(ct){return Math.round(at(ct)*255)}return new ur(Pt(ce+120),Pt(ce),Pt(ce-120))}n.hcl=Ct;function Ct(ce,Pe,Ue){return this instanceof Ct?(this.h=+ce,this.c=+Pe,void(this.l=+Ue)):arguments.length<2?ce instanceof Ct?new Ct(ce.h,ce.c,ce.l):ce instanceof Ht?It(ce.l,ce.a,ce.b):It((ce=Xr((ce=n.rgb(ce)).r,ce.g,ce.b)).l,ce.a,ce.b):new Ct(ce,Pe,Ue)}var At=Ct.prototype=new ut;At.brighter=function(ce){return new Ct(this.h,this.c,Math.min(100,this.l+qt*(arguments.length?ce:1)))},At.darker=function(ce){return new Ct(this.h,this.c,Math.max(0,this.l-qt*(arguments.length?ce:1)))},At.rgb=function(){return zt(this.h,this.c,this.l).rgb()};function zt(ce,Pe,Ue){return isNaN(ce)&&(ce=0),isNaN(Pe)&&(Pe=0),new Ht(Ue,Math.cos(ce*=wt)*Pe,Math.sin(ce)*Pe)}n.lab=Ht;function Ht(ce,Pe,Ue){return this instanceof Ht?(this.l=+ce,this.a=+Pe,void(this.b=+Ue)):arguments.length<2?ce instanceof Ht?new Ht(ce.l,ce.a,ce.b):ce instanceof Ct?zt(ce.h,ce.c,ce.l):Xr((ce=ur(ce)).r,ce.g,ce.b):new Ht(ce,Pe,Ue)}var qt=18,Qt=.95047,or=1,Lr=1.08883,Ze=Ht.prototype=new ut;Ze.brighter=function(ce){return new Ht(Math.min(100,this.l+qt*(arguments.length?ce:1)),this.a,this.b)},Ze.darker=function(ce){return new Ht(Math.max(0,this.l-qt*(arguments.length?ce:1)),this.a,this.b)},Ze.rgb=function(){return Ye(this.l,this.a,this.b)};function Ye(ce,Pe,Ue){var $e=(ce+16)/116,et=$e+Pe/500,at=$e-Ue/200;return et=kt(et)*Qt,$e=kt($e)*or,at=kt(at)*Lr,new ur(ir(3.2404542*et-1.5371385*$e-.4985314*at),ir(-.969266*et+1.8760108*$e+.041556*at),ir(.0556434*et-.2040259*$e+1.0572252*at))}function It(ce,Pe,Ue){return ce>0?new Ct(Math.atan2(Ue,Pe)*Ft,Math.sqrt(Pe*Pe+Ue*Ue),ce):new Ct(NaN,NaN,ce)}function kt(ce){return ce>.206893034?ce*ce*ce:(ce-.13793103448275862)/7.787037}function Xt(ce){return ce>.008856?Math.pow(ce,.3333333333333333):7.787037*ce+.13793103448275862}function ir(ce){return Math.round(255*(ce<=.00304?12.92*ce:1.055*Math.pow(ce,.4166666666666667)-.055))}n.rgb=ur;function ur(ce,Pe,Ue){return this instanceof ur?(this.r=~~ce,this.g=~~Pe,void(this.b=~~Ue)):arguments.length<2?ce instanceof ur?new ur(ce.r,ce.g,ce.b):gr(""+ce,ur,Tt):new ur(ce,Pe,Ue)}function nr(ce){return new ur(ce>>16,ce>>8&255,ce&255)}function Nt(ce){return nr(ce)+""}var hr=ur.prototype=new ut;hr.brighter=function(ce){ce=Math.pow(.7,arguments.length?ce:1);var Pe=this.r,Ue=this.g,$e=this.b,et=30;return!Pe&&!Ue&&!$e?new ur(et,et,et):(Pe&&Pe<et&&(Pe=et),Ue&&Ue<et&&(Ue=et),$e&&$e<et&&($e=et),new ur(Math.min(255,Pe/ce),Math.min(255,Ue/ce),Math.min(255,$e/ce)))},hr.darker=function(ce){return ce=Math.pow(.7,arguments.length?ce:1),new ur(ce*this.r,ce*this.g,ce*this.b)},hr.hsl=function(){return dr(this.r,this.g,this.b)},hr.toString=function(){return"#"+pr(this.r)+pr(this.g)+pr(this.b)};function pr(ce){return ce<16?"0"+Math.max(0,ce).toString(16):Math.min(255,ce).toString(16)}function gr(ce,Pe,Ue){var $e=0,et=0,at=0,Pt,ct,Vt;if(Pt=/([a-z]+)\((.*)\)/.exec(ce=ce.toLowerCase()),Pt)switch(ct=Pt[2].split(","),Pt[1]){case"hsl":return Ue(parseFloat(ct[0]),parseFloat(ct[1])/100,parseFloat(ct[2])/100);case"rgb":return Pe(Or(ct[0]),Or(ct[1]),Or(ct[2]))}return(Vt=mn.get(ce))?Pe(Vt.r,Vt.g,Vt.b):(ce!=null&&ce.charAt(0)==="#"&&!isNaN(Vt=parseInt(ce.slice(1),16))&&(ce.length===4?($e=(Vt&3840)>>4,$e=$e>>4|$e,et=Vt&240,et=et>>4|et,at=Vt&15,at=at<<4|at):ce.length===7&&($e=(Vt&16711680)>>16,et=(Vt&65280)>>8,at=Vt&255)),Pe($e,et,at))}function dr(ce,Pe,Ue){var $e=Math.min(ce/=255,Pe/=255,Ue/=255),et=Math.max(ce,Pe,Ue),at=et-$e,Pt,ct,Vt=(et+$e)/2;return at?(ct=Vt<.5?at/(et+$e):at/(2-et-$e),ce==et?Pt=(Pe-Ue)/at+(Pe<Ue?6:0):Pe==et?Pt=(Ue-ce)/at+2:Pt=(ce-Pe)/at+4,Pt*=60):(Pt=NaN,ct=Vt>0&&Vt<1?0:Pt),new lt(Pt,ct,Vt)}function Xr(ce,Pe,Ue){ce=Br(ce),Pe=Br(Pe),Ue=Br(Ue);var $e=Xt((.4124564*ce+.3575761*Pe+.1804375*Ue)/Qt),et=Xt((.2126729*ce+.7151522*Pe+.072175*Ue)/or),at=Xt((.0193339*ce+.119192*Pe+.9503041*Ue)/Lr);return Ht(116*et-16,500*($e-et),200*(et-at))}function Br(ce){return(ce/=255)<=.04045?ce/12.92:Math.pow((ce+.055)/1.055,2.4)}function Or(ce){var Pe=parseFloat(ce);return ce.charAt(ce.length-1)==="%"?Math.round(Pe*2.55):Pe}var mn=n.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});mn.forEach(function(ce,Pe){mn.set(ce,nr(Pe))});function Jr(ce){return typeof ce=="function"?ce:function(){return ce}}n.functor=Jr,n.xhr=_n(N);function _n(ce){return function(Pe,Ue,$e){return arguments.length===2&&typeof Ue=="function"&&($e=Ue,Ue=null),kn(Pe,Ue,ce,$e)}}function kn(ce,Pe,Ue,$e){var et={},at=n.dispatch("beforesend","progress","load","error"),Pt={},ct=new XMLHttpRequest,Vt=null;self.XDomainRequest&&!("withCredentials"in ct)&&/^(http(s)?:)?\/\//.test(ce)&&(ct=new XDomainRequest),"onload"in ct?ct.onload=ct.onerror=tr:ct.onreadystatechange=function(){ct.readyState>3&&tr()};function tr(){var rr=ct.status,Rr;if(!rr&&wr(ct)||rr>=200&&rr<300||rr===304){try{Rr=Ue.call(et,ct)}catch(Er){at.error.call(et,Er);return}at.load.call(et,Rr)}else at.error.call(et,ct)}return ct.onprogress=function(rr){var Rr=n.event;n.event=rr;try{at.progress.call(et,ct)}finally{n.event=Rr}},et.header=function(rr,Rr){return rr=(rr+"").toLowerCase(),arguments.length<2?Pt[rr]:(Rr==null?delete Pt[rr]:Pt[rr]=Rr+"",et)},et.mimeType=function(rr){return arguments.length?(Pe=rr==null?null:rr+"",et):Pe},et.responseType=function(rr){return arguments.length?(Vt=rr,et):Vt},et.response=function(rr){return Ue=rr,et},["get","post"].forEach(function(rr){et[rr]=function(){return et.send.apply(et,[rr].concat(y(arguments)))}}),et.send=function(rr,Rr,Er){if(arguments.length===2&&typeof Rr=="function"&&(Er=Rr,Rr=null),ct.open(rr,ce,!0),Pe!=null&&!("accept"in Pt)&&(Pt.accept=Pe+",*/*"),ct.setRequestHeader)for(var $r in Pt)ct.setRequestHeader($r,Pt[$r]);return Pe!=null&&ct.overrideMimeType&&ct.overrideMimeType(Pe),Vt!=null&&(ct.responseType=Vt),Er!=null&&et.on("error",Er).on("load",function(rn){Er(null,rn)}),at.beforesend.call(et,ct),ct.send(Rr??null),et},et.abort=function(){return ct.abort(),et},n.rebind(et,at,"on"),$e==null?et:et.get(br($e))}function br(ce){return ce.length===1?function(Pe,Ue){ce(Pe==null?Ue:null)}:ce}function wr(ce){var Pe=ce.responseType;return Pe&&Pe!=="text"?ce.response:ce.responseText}n.dsv=function(ce,Pe){var Ue=new RegExp('["'+ce+`
]`),$e=ce.charCodeAt(0);function et(tr,rr,Rr){arguments.length<3&&(Rr=rr,rr=null);var Er=kn(tr,Pe,rr==null?at:Pt(rr),Rr);return Er.row=function($r){return arguments.length?Er.response((rr=$r)==null?at:Pt($r)):rr},Er}function at(tr){return et.parse(tr.responseText)}function Pt(tr){return function(rr){return et.parse(rr.responseText,tr)}}et.parse=function(tr,rr){var Rr;return et.parseRows(tr,function(Er,$r){if(Rr)return Rr(Er,$r-1);var rn=function(kr){for(var Hr={},jr=Er.length,nn=0;nn<jr;++nn)Hr[Er[nn]]=kr[nn];return Hr};Rr=rr?function(kr,Hr){return rr(rn(kr),Hr)}:rn})},et.parseRows=function(tr,rr){var Rr={},Er={},$r=[],rn=tr.length,kr=0,Hr=0,jr,nn;function fn(){if(kr>=rn)return Er;if(nn)return nn=!1,Rr;var Vn=kr;if(tr.charCodeAt(Vn)===34){for(var Yn=Vn;Yn++<rn;)if(tr.charCodeAt(Yn)===34){if(tr.charCodeAt(Yn+1)!==34)break;++Yn}kr=Yn+2;var $n=tr.charCodeAt(Yn+1);return $n===13?(nn=!0,tr.charCodeAt(Yn+2)===10&&++kr):$n===10&&(nn=!0),tr.slice(Vn+1,Yn).replace(/""/g,'"')}for(;kr<rn;){var $n=tr.charCodeAt(kr++),sa=1;if($n===10)nn=!0;else if($n===13)nn=!0,tr.charCodeAt(kr)===10&&(++kr,++sa);else if($n!==$e)continue;return tr.slice(Vn,kr-sa)}return tr.slice(Vn)}for(;(jr=fn())!==Er;){for(var Kr=[];jr!==Rr&&jr!==Er;)Kr.push(jr),jr=fn();rr&&(Kr=rr(Kr,Hr++))==null||$r.push(Kr)}return $r},et.format=function(tr){if(Array.isArray(tr[0]))return et.formatRows(tr);var rr=new z,Rr=[];return tr.forEach(function(Er){for(var $r in Er)rr.has($r)||Rr.push(rr.add($r))}),[Rr.map(Vt).join(ce)].concat(tr.map(function(Er){return Rr.map(function($r){return Vt(Er[$r])}).join(ce)})).join(`
`)},et.formatRows=function(tr){return tr.map(ct).join(`
`)};function ct(tr){return tr.map(Vt).join(ce)}function Vt(tr){return Ue.test(tr)?'"'+tr.replace(/\"/g,'""')+'"':tr}return et},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("	","text/tab-separated-values");var Nr,Vr,tn,gn,hn=this[F(this,"requestAnimationFrame")]||function(ce){setTimeout(ce,17)};n.timer=function(){Sn.apply(this,arguments)};function Sn(ce,Pe,Ue){var $e=arguments.length;$e<2&&(Pe=0),$e<3&&(Ue=Date.now());var et=Ue+Pe,at={c:ce,t:et,n:null};return Vr?Vr.n=at:Nr=at,Vr=at,tn||(gn=clearTimeout(gn),tn=1,hn(In)),at}function In(){var ce=Jn(),Pe=ra()-ce;Pe>24?(isFinite(Pe)&&(clearTimeout(gn),gn=setTimeout(In,Pe)),tn=0):(tn=1,hn(In))}n.timer.flush=function(){Jn(),ra()};function Jn(){for(var ce=Date.now(),Pe=Nr;Pe;)ce>=Pe.t&&Pe.c(ce-Pe.t)&&(Pe.c=null),Pe=Pe.n;return ce}function ra(){for(var ce,Pe=Nr,Ue=1/0;Pe;)Pe.c?(Pe.t<Ue&&(Ue=Pe.t),Pe=(ce=Pe).n):Pe=ce?ce.n=Pe.n:Nr=Pe.n;return Vr=ce,Ue}n.round=function(ce,Pe){return Pe?Math.round(ce*(Pe=Math.pow(10,Pe)))/Pe:Math.round(ce)},n.geom={};function ca(ce){return ce[0]}function aa(ce){return ce[1]}n.geom.hull=function(ce){var Pe=ca,Ue=aa;if(arguments.length)return $e(ce);function $e(et){if(et.length<3)return[];var at=Jr(Pe),Pt=Jr(Ue),ct,Vt=et.length,tr=[],rr=[];for(ct=0;ct<Vt;ct++)tr.push([+at.call(this,et[ct],ct),+Pt.call(this,et[ct],ct),ct]);for(tr.sort(Cr),ct=0;ct<Vt;ct++)rr.push([tr[ct][0],-tr[ct][1]]);var Rr=na(tr),Er=na(rr),$r=Er[0]===Rr[0],rn=Er[Er.length-1]===Rr[Rr.length-1],kr=[];for(ct=Rr.length-1;ct>=0;--ct)kr.push(et[tr[Rr[ct]][2]]);for(ct=+$r;ct<Er.length-rn;++ct)kr.push(et[tr[Er[ct]][2]]);return kr}return $e.x=function(et){return arguments.length?(Pe=et,$e):Pe},$e.y=function(et){return arguments.length?(Ue=et,$e):Ue},$e};function na(ce){for(var Pe=ce.length,Ue=[0,1],$e=2,et=2;et<Pe;et++){for(;$e>1&&Ut(ce[Ue[$e-2]],ce[Ue[$e-1]],ce[et])<=0;)--$e;Ue[$e++]=et}return Ue.slice(0,$e)}function Cr(ce,Pe){return ce[0]-Pe[0]||ce[1]-Pe[1]}n.geom.polygon=function(ce){return W(ce,ln),ce};var ln=n.geom.polygon.prototype=[];ln.area=function(){for(var ce=-1,Pe=this.length,Ue,$e=this[Pe-1],et=0;++ce<Pe;)Ue=$e,$e=this[ce],et+=Ue[1]*$e[0]-Ue[0]*$e[1];return et*.5},ln.centroid=function(ce){var Pe=-1,Ue=this.length,$e=0,et=0,at,Pt=this[Ue-1],ct;for(arguments.length||(ce=-1/(6*this.area()));++Pe<Ue;)at=Pt,Pt=this[Pe],ct=at[0]*Pt[1]-Pt[0]*at[1],$e+=(at[0]+Pt[0])*ct,et+=(at[1]+Pt[1])*ct;return[$e*ce,et*ce]},ln.clip=function(ce){for(var Pe,Ue=Hn(ce),$e=-1,et=this.length-Hn(this),at,Pt,ct=this[et-1],Vt,tr,rr;++$e<et;){for(Pe=ce.slice(),ce.length=0,Vt=this[$e],tr=Pe[(Pt=Pe.length-Ue)-1],at=-1;++at<Pt;)rr=Pe[at],on(rr,ct,Vt)?(on(tr,ct,Vt)||ce.push(yn(tr,rr,ct,Vt)),ce.push(rr)):on(tr,ct,Vt)&&ce.push(yn(tr,rr,ct,Vt)),tr=rr;Ue&&ce.push(ce[0]),ct=Vt}return ce};function on(ce,Pe,Ue){return(Ue[0]-Pe[0])*(ce[1]-Pe[1])<(Ue[1]-Pe[1])*(ce[0]-Pe[0])}function yn(ce,Pe,Ue,$e){var et=ce[0],at=Ue[0],Pt=Pe[0]-et,ct=$e[0]-at,Vt=ce[1],tr=Ue[1],rr=Pe[1]-Vt,Rr=$e[1]-tr,Er=(ct*(Vt-tr)-Rr*(et-at))/(Rr*Pt-ct*rr);return[et+Er*Pt,Vt+Er*rr]}function Hn(ce){var Pe=ce[0],Ue=ce[ce.length-1];return!(Pe[0]-Ue[0]||Pe[1]-Ue[1])}var Ln,Pn,Wn,la=[],za,ni,jt=[];function Sr(){No(this),this.edge=this.site=this.circle=null}function sn(ce){var Pe=la.pop()||new Sr;return Pe.site=ce,Pe}function vn(ce){Zn(ce),Wn.remove(ce),la.push(ce),No(ce)}function dn(ce){var Pe=ce.circle,Ue=Pe.x,$e=Pe.cy,et={x:Ue,y:$e},at=ce.P,Pt=ce.N,ct=[ce];vn(ce);for(var Vt=at;Vt.circle&&d(Ue-Vt.circle.x)<ue&&d($e-Vt.circle.cy)<ue;)at=Vt.P,ct.unshift(Vt),vn(Vt),Vt=at;ct.unshift(Vt),Zn(Vt);for(var tr=Pt;tr.circle&&d(Ue-tr.circle.x)<ue&&d($e-tr.circle.cy)<ue;)Pt=tr.N,ct.push(tr),vn(tr),tr=Pt;ct.push(tr),Zn(tr);var rr=ct.length,Rr;for(Rr=1;Rr<rr;++Rr)tr=ct[Rr],Vt=ct[Rr-1],ma(tr.edge,Vt.site,tr.site,et);Vt=ct[0],tr=ct[rr-1],tr.edge=ua(Vt.site,tr.site,null,et),zn(Vt),zn(tr)}function Rn(ce){for(var Pe=ce.x,Ue=ce.y,$e,et,at,Pt,ct=Wn._;ct;)if(at=An(ct,Ue)-Pe,at>ue)ct=ct.L;else if(Pt=Pe-cn(ct,Ue),Pt>ue){if(!ct.R){$e=ct;break}ct=ct.R}else{at>-ue?($e=ct.P,et=ct):Pt>-ue?($e=ct,et=ct.N):$e=et=ct;break}var Vt=sn(ce);if(Wn.insert($e,Vt),!(!$e&&!et)){if($e===et){Zn($e),et=sn($e.site),Wn.insert(Vt,et),Vt.edge=et.edge=ua($e.site,Vt.site),zn($e),zn(et);return}if(!et){Vt.edge=ua($e.site,Vt.site);return}Zn($e),Zn(et);var tr=$e.site,rr=tr.x,Rr=tr.y,Er=ce.x-rr,$r=ce.y-Rr,rn=et.site,kr=rn.x-rr,Hr=rn.y-Rr,jr=2*(Er*Hr-$r*kr),nn=Er*Er+$r*$r,fn=kr*kr+Hr*Hr,Kr={x:(Hr*nn-$r*fn)/jr+rr,y:(Er*fn-kr*nn)/jr+Rr};ma(et.edge,tr,rn,Kr),Vt.edge=ua(tr,ce,null,Kr),et.edge=ua(ce,rn,null,Kr),zn($e),zn(et)}}function An(ce,Pe){var Ue=ce.site,$e=Ue.x,et=Ue.y,at=et-Pe;if(!at)return $e;var Pt=ce.P;if(!Pt)return-1/0;Ue=Pt.site;var ct=Ue.x,Vt=Ue.y,tr=Vt-Pe;if(!tr)return ct;var rr=ct-$e,Rr=1/at-1/tr,Er=rr/tr;return Rr?(-Er+Math.sqrt(Er*Er-2*Rr*(rr*rr/(-2*tr)-Vt+tr/2+et-at/2)))/Rr+$e:($e+ct)/2}function cn(ce,Pe){var Ue=ce.N;if(Ue)return An(Ue,Pe);var $e=ce.site;return $e.y===Pe?$e.x:1/0}function Dr(ce){this.site=ce,this.edges=[]}Dr.prototype.prepare=function(){for(var ce=this.edges,Pe=ce.length,Ue;Pe--;)Ue=ce[Pe].edge,(!Ue.b||!Ue.a)&&ce.splice(Pe,1);return ce.sort(zr),ce.length};function Pr(ce){for(var Pe=ce[0][0],Ue=ce[1][0],$e=ce[0][1],et=ce[1][1],at,Pt,ct,Vt,tr=Pn,rr=tr.length,Rr,Er,$r,rn,kr,Hr;rr--;)if(Rr=tr[rr],!(!Rr||!Rr.prepare()))for($r=Rr.edges,rn=$r.length,Er=0;Er<rn;)Hr=$r[Er].end(),ct=Hr.x,Vt=Hr.y,kr=$r[++Er%rn].start(),at=kr.x,Pt=kr.y,(d(ct-at)>ue||d(Vt-Pt)>ue)&&($r.splice(Er,0,new yo(fa(Rr.site,Hr,d(ct-Pe)<ue&&et-Vt>ue?{x:Pe,y:d(at-Pe)<ue?Pt:et}:d(Vt-et)<ue&&Ue-ct>ue?{x:d(Pt-et)<ue?at:Ue,y:et}:d(ct-Ue)<ue&&Vt-$e>ue?{x:Ue,y:d(at-Ue)<ue?Pt:$e}:d(Vt-$e)<ue&&ct-Pe>ue?{x:d(Pt-$e)<ue?at:Pe,y:$e}:null),Rr.site,null)),++rn)}function zr(ce,Pe){return Pe.angle-ce.angle}function pn(){No(this),this.x=this.y=this.arc=this.site=this.cy=null}function zn(ce){var Pe=ce.P,Ue=ce.N;if(!(!Pe||!Ue)){var $e=Pe.site,et=ce.site,at=Ue.site;if($e!==at){var Pt=et.x,ct=et.y,Vt=$e.x-Pt,tr=$e.y-ct,rr=at.x-Pt,Hr=at.y-ct,Rr=2*(Vt*Hr-tr*rr);if(!(Rr>=-me)){var Er=Vt*Vt+tr*tr,$r=rr*rr+Hr*Hr,rn=(Hr*Er-tr*$r)/Rr,kr=(Vt*$r-rr*Er)/Rr,Hr=kr+ct,jr=jt.pop()||new pn;jr.arc=ce,jr.site=et,jr.x=rn+Pt,jr.y=Hr+Math.sqrt(rn*rn+kr*kr),jr.cy=Hr,ce.circle=jr;for(var nn=null,fn=ni._;fn;)if(jr.y<fn.y||jr.y===fn.y&&jr.x<=fn.x)if(fn.L)fn=fn.L;else{nn=fn.P;break}else if(fn.R)fn=fn.R;else{nn=fn;break}ni.insert(nn,jr),nn||(za=jr)}}}}function Zn(ce){var Pe=ce.circle;Pe&&(Pe.P||(za=Pe.N),ni.remove(Pe),jt.push(Pe),No(Pe),ce.circle=null)}function xn(ce,Pe,Ue,$e){return function(et){var at=et.a,Pt=et.b,ct=at.x,Vt=at.y,tr=Pt.x,rr=Pt.y,Rr=0,Er=1,$r=tr-ct,rn=rr-Vt,kr;if(kr=ce-ct,!(!$r&&kr>0)){if(kr/=$r,$r<0){if(kr<Rr)return;kr<Er&&(Er=kr)}else if($r>0){if(kr>Er)return;kr>Rr&&(Rr=kr)}if(kr=Ue-ct,!(!$r&&kr<0)){if(kr/=$r,$r<0){if(kr>Er)return;kr>Rr&&(Rr=kr)}else if($r>0){if(kr<Rr)return;kr<Er&&(Er=kr)}if(kr=Pe-Vt,!(!rn&&kr>0)){if(kr/=rn,rn<0){if(kr<Rr)return;kr<Er&&(Er=kr)}else if(rn>0){if(kr>Er)return;kr>Rr&&(Rr=kr)}if(kr=$e-Vt,!(!rn&&kr<0)){if(kr/=rn,rn<0){if(kr>Er)return;kr>Rr&&(Rr=kr)}else if(rn>0){if(kr<Rr)return;kr<Er&&(Er=kr)}return Rr>0&&(et.a={x:ct+Rr*$r,y:Vt+Rr*rn}),Er<1&&(et.b={x:ct+Er*$r,y:Vt+Er*rn}),et}}}}}}function Nn(ce){for(var Pe=Ln,Ue=xn(ce[0][0],ce[0][1],ce[1][0],ce[1][1]),$e=Pe.length,et;$e--;)et=Pe[$e],(!ta(et,ce)||!Ue(et)||d(et.a.x-et.b.x)<ue&&d(et.a.y-et.b.y)<ue)&&(et.a=et.b=null,Pe.splice($e,1))}function ta(ce,Pe){var Ue=ce.b;if(Ue)return!0;var $e=ce.a,et=Pe[0][0],at=Pe[1][0],Pt=Pe[0][1],ct=Pe[1][1],Vt=ce.l,tr=ce.r,rr=Vt.x,Rr=Vt.y,Er=tr.x,$r=tr.y,rn=(rr+Er)/2,kr=(Rr+$r)/2,Hr,jr;if($r===Rr){if(rn<et||rn>=at)return;if(rr>Er){if(!$e)$e={x:rn,y:Pt};else if($e.y>=ct)return;Ue={x:rn,y:ct}}else{if(!$e)$e={x:rn,y:ct};else if($e.y<Pt)return;Ue={x:rn,y:Pt}}}else if(Hr=(rr-Er)/($r-Rr),jr=kr-Hr*rn,Hr<-1||Hr>1)if(rr>Er){if(!$e)$e={x:(Pt-jr)/Hr,y:Pt};else if($e.y>=ct)return;Ue={x:(ct-jr)/Hr,y:ct}}else{if(!$e)$e={x:(ct-jr)/Hr,y:ct};else if($e.y<Pt)return;Ue={x:(Pt-jr)/Hr,y:Pt}}else if(Rr<$r){if(!$e)$e={x:et,y:Hr*et+jr};else if($e.x>=at)return;Ue={x:at,y:Hr*at+jr}}else{if(!$e)$e={x:at,y:Hr*at+jr};else if($e.x<et)return;Ue={x:et,y:Hr*et+jr}}return ce.a=$e,ce.b=Ue,!0}function ha(ce,Pe){this.l=ce,this.r=Pe,this.a=this.b=null}function ua(ce,Pe,Ue,$e){var et=new ha(ce,Pe);return Ln.push(et),Ue&&ma(et,ce,Pe,Ue),$e&&ma(et,Pe,ce,$e),Pn[ce.i].edges.push(new yo(et,ce,Pe)),Pn[Pe.i].edges.push(new yo(et,Pe,ce)),et}function fa(ce,Pe,Ue){var $e=new ha(ce,null);return $e.a=Pe,$e.b=Ue,Ln.push($e),$e}function ma(ce,Pe,Ue,$e){!ce.a&&!ce.b?(ce.a=$e,ce.l=Pe,ce.r=Ue):ce.l===Ue?ce.b=$e:ce.a=$e}function yo(ce,Pe,Ue){var $e=ce.a,et=ce.b;this.edge=ce,this.site=Pe,this.angle=Ue?Math.atan2(Ue.y-Pe.y,Ue.x-Pe.x):ce.l===Pe?Math.atan2(et.x-$e.x,$e.y-et.y):Math.atan2($e.x-et.x,et.y-$e.y)}yo.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function ko(){this._=null}function No(ce){ce.U=ce.C=ce.L=ce.R=ce.P=ce.N=null}ko.prototype={insert:function(ce,Pe){var Ue,$e,et;if(ce){if(Pe.P=ce,Pe.N=ce.N,ce.N&&(ce.N.P=Pe),ce.N=Pe,ce.R){for(ce=ce.R;ce.L;)ce=ce.L;ce.L=Pe}else ce.R=Pe;Ue=ce}else this._?(ce=Hf(this._),Pe.P=null,Pe.N=ce,ce.P=ce.L=Pe,Ue=ce):(Pe.P=Pe.N=null,this._=Pe,Ue=null);for(Pe.L=Pe.R=null,Pe.U=Ue,Pe.C=!0,ce=Pe;Ue&&Ue.C;)$e=Ue.U,Ue===$e.L?(et=$e.R,et&&et.C?(Ue.C=et.C=!1,$e.C=!0,ce=$e):(ce===Ue.R&&(jo(this,Ue),ce=Ue,Ue=ce.U),Ue.C=!1,$e.C=!0,Vo(this,$e))):(et=$e.L,et&&et.C?(Ue.C=et.C=!1,$e.C=!0,ce=$e):(ce===Ue.L&&(Vo(this,Ue),ce=Ue,Ue=ce.U),Ue.C=!1,$e.C=!0,jo(this,$e))),Ue=ce.U;this._.C=!1},remove:function(ce){ce.N&&(ce.N.P=ce.P),ce.P&&(ce.P.N=ce.N),ce.N=ce.P=null;var Pe=ce.U,Ue,$e=ce.L,et=ce.R,at,Pt;if($e?et?at=Hf(et):at=$e:at=et,Pe?Pe.L===ce?Pe.L=at:Pe.R=at:this._=at,$e&&et?(Pt=at.C,at.C=ce.C,at.L=$e,$e.U=at,at!==et?(Pe=at.U,at.U=ce.U,ce=at.R,Pe.L=ce,at.R=et,et.U=at):(at.U=Pe,Pe=at,ce=at.R)):(Pt=ce.C,ce=at),ce&&(ce.U=Pe),!Pt){if(ce&&ce.C){ce.C=!1;return}do{if(ce===this._)break;if(ce===Pe.L){if(Ue=Pe.R,Ue.C&&(Ue.C=!1,Pe.C=!0,jo(this,Pe),Ue=Pe.R),Ue.L&&Ue.L.C||Ue.R&&Ue.R.C){(!Ue.R||!Ue.R.C)&&(Ue.L.C=!1,Ue.C=!0,Vo(this,Ue),Ue=Pe.R),Ue.C=Pe.C,Pe.C=Ue.R.C=!1,jo(this,Pe),ce=this._;break}}else if(Ue=Pe.L,Ue.C&&(Ue.C=!1,Pe.C=!0,Vo(this,Pe),Ue=Pe.L),Ue.L&&Ue.L.C||Ue.R&&Ue.R.C){(!Ue.L||!Ue.L.C)&&(Ue.R.C=!1,Ue.C=!0,jo(this,Ue),Ue=Pe.L),Ue.C=Pe.C,Pe.C=Ue.L.C=!1,Vo(this,Pe),ce=this._;break}Ue.C=!0,ce=Pe,Pe=Pe.U}while(!ce.C);ce&&(ce.C=!1)}}};function jo(ce,Pe){var Ue=Pe,$e=Pe.R,et=Ue.U;et?et.L===Ue?et.L=$e:et.R=$e:ce._=$e,$e.U=et,Ue.U=$e,Ue.R=$e.L,Ue.R&&(Ue.R.U=Ue),$e.L=Ue}function Vo(ce,Pe){var Ue=Pe,$e=Pe.L,et=Ue.U;et?et.L===Ue?et.L=$e:et.R=$e:ce._=$e,$e.U=et,Ue.U=$e,Ue.L=$e.R,Ue.L&&(Ue.L.U=Ue),$e.R=Ue}function Hf(ce){for(;ce.L;)ce=ce.L;return ce}function pi(ce,Pe){var Ue=ce.sort(Pu).pop(),$e,et,at;for(Ln=[],Pn=new Array(ce.length),Wn=new ko,ni=new ko;;)if(at=za,Ue&&(!at||Ue.y<at.y||Ue.y===at.y&&Ue.x<at.x))(Ue.x!==$e||Ue.y!==et)&&(Pn[Ue.i]=new Dr(Ue),Rn(Ue),$e=Ue.x,et=Ue.y),Ue=ce.pop();else if(at)dn(at.arc);else break;Pe&&(Nn(Pe),Pr(Pe));var Pt={cells:Pn,edges:Ln};return Wn=ni=Ln=Pn=null,Pt}function Pu(ce,Pe){return Pe.y-ce.y||Pe.x-ce.x}n.geom.voronoi=function(ce){var Pe=ca,Ue=aa,$e=Pe,et=Ue,at=ql;if(ce)return Pt(ce);function Pt(Vt){var tr=new Array(Vt.length),rr=at[0][0],Rr=at[0][1],Er=at[1][0],$r=at[1][1];return pi(ct(Vt),at).cells.forEach(function(rn,kr){var Hr=rn.edges,jr=rn.site,nn=tr[kr]=Hr.length?Hr.map(function(fn){var Kr=fn.start();return[Kr.x,Kr.y]}):jr.x>=rr&&jr.x<=Er&&jr.y>=Rr&&jr.y<=$r?[[rr,$r],[Er,$r],[Er,Rr],[rr,Rr]]:[];nn.point=Vt[kr]}),tr}function ct(Vt){return Vt.map(function(tr,rr){return{x:Math.round($e(tr,rr)/ue)*ue,y:Math.round(et(tr,rr)/ue)*ue,i:rr}})}return Pt.links=function(Vt){return pi(ct(Vt)).edges.filter(function(tr){return tr.l&&tr.r}).map(function(tr){return{source:Vt[tr.l.i],target:Vt[tr.r.i]}})},Pt.triangles=function(Vt){var tr=[];return pi(ct(Vt)).cells.forEach(function(rr,Rr){for(var Er=rr.site,$r=rr.edges.sort(zr),rn=-1,kr=$r.length,Hr,jr=$r[kr-1].edge,nn=jr.l===Er?jr.r:jr.l;++rn<kr;)Hr=nn,jr=$r[rn].edge,nn=jr.l===Er?jr.r:jr.l,Rr<Hr.i&&Rr<nn.i&&mo(Er,Hr,nn)<0&&tr.push([Vt[Rr],Vt[Hr.i],Vt[nn.i]])}),tr},Pt.x=function(Vt){return arguments.length?($e=Jr(Pe=Vt),Pt):Pe},Pt.y=function(Vt){return arguments.length?(et=Jr(Ue=Vt),Pt):Ue},Pt.clipExtent=function(Vt){return arguments.length?(at=Vt??ql,Pt):at===ql?null:at},Pt.size=function(Vt){return arguments.length?Pt.clipExtent(Vt&&[[0,0],Vt]):at===ql?null:at&&at[1]},Pt};var ql=[[-1e6,-1e6],[1e6,1e6]];function mo(ce,Pe,Ue){return(ce.x-Ue.x)*(Pe.y-ce.y)-(ce.x-Pe.x)*(Ue.y-ce.y)}n.geom.delaunay=function(ce){return n.geom.voronoi().triangles(ce)},n.geom.quadtree=function(ce,Pe,Ue,$e,et){var at=ca,Pt=aa,ct;if(ct=arguments.length)return at=Ko,Pt=Fc,ct===3&&(et=Ue,$e=Pe,Ue=Pe=0),Vt(ce);function Vt(tr){var rr,Rr=Jr(at),Er=Jr(Pt),$r,rn,kr,Hr,jr,nn,fn,Kr;if(Pe!=null)jr=Pe,nn=Ue,fn=$e,Kr=et;else if(fn=Kr=-(jr=nn=1/0),$r=[],rn=[],Hr=tr.length,ct)for(kr=0;kr<Hr;++kr)rr=tr[kr],rr.x<jr&&(jr=rr.x),rr.y<nn&&(nn=rr.y),rr.x>fn&&(fn=rr.x),rr.y>Kr&&(Kr=rr.y),$r.push(rr.x),rn.push(rr.y);else for(kr=0;kr<Hr;++kr){var Vn=+Rr(rr=tr[kr],kr),Yn=+Er(rr,kr);Vn<jr&&(jr=Vn),Yn<nn&&(nn=Yn),Vn>fn&&(fn=Vn),Yn>Kr&&(Kr=Yn),$r.push(Vn),rn.push(Yn)}var $n=fn-jr,sa=Kr-nn;$n>sa?Kr=nn+$n:fn=jr+sa;function Sa(Ia,Za,fi,gi,Si,Un,Xa,Wa){if(!(isNaN(fi)||isNaN(gi)))if(Ia.leaf){var ri=Ia.x,Vi=Ia.y;if(ri!=null)if(d(ri-fi)+d(Vi-gi)<.01)Aa(Ia,Za,fi,gi,Si,Un,Xa,Wa);else{var eo=Ia.point;Ia.x=Ia.y=Ia.point=null,Aa(Ia,eo,ri,Vi,Si,Un,Xa,Wa),Aa(Ia,Za,fi,gi,Si,Un,Xa,Wa)}else Ia.x=fi,Ia.y=gi,Ia.point=Za}else Aa(Ia,Za,fi,gi,Si,Un,Xa,Wa)}function Aa(Ia,Za,fi,gi,Si,Un,Xa,Wa){var ri=(Si+Xa)*.5,Vi=(Un+Wa)*.5,eo=fi>=ri,oo=gi>=Vi,Fi=oo<<1|eo;Ia.leaf=!1,Ia=Ia.nodes[Fi]||(Ia.nodes[Fi]=Ru()),eo?Si=ri:Xa=ri,oo?Un=Vi:Wa=Vi,Sa(Ia,Za,fi,gi,Si,Un,Xa,Wa)}var Ka=Ru();if(Ka.add=function(Ia){Sa(Ka,Ia,+Rr(Ia,++kr),+Er(Ia,kr),jr,nn,fn,Kr)},Ka.visit=function(Ia){Xi(Ia,Ka,jr,nn,fn,Kr)},Ka.find=function(Ia){return Iu(Ka,Ia[0],Ia[1],jr,nn,fn,Kr)},kr=-1,Pe==null){for(;++kr<Hr;)Sa(Ka,tr[kr],$r[kr],rn[kr],jr,nn,fn,Kr);--kr}else tr.forEach(Ka.add);return $r=rn=tr=rr=null,Ka}return Vt.x=function(tr){return arguments.length?(at=tr,Vt):at},Vt.y=function(tr){return arguments.length?(Pt=tr,Vt):Pt},Vt.extent=function(tr){return arguments.length?(tr==null?Pe=Ue=$e=et=null:(Pe=+tr[0][0],Ue=+tr[0][1],$e=+tr[1][0],et=+tr[1][1]),Vt):Pe==null?null:[[Pe,Ue],[$e,et]]},Vt.size=function(tr){return arguments.length?(tr==null?Pe=Ue=$e=et=null:(Pe=Ue=0,$e=+tr[0],et=+tr[1]),Vt):Pe==null?null:[$e-Pe,et-Ue]},Vt};function Ko(ce){return ce.x}function Fc(ce){return ce.y}function Ru(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function Xi(ce,Pe,Ue,$e,et,at){if(!ce(Pe,Ue,$e,et,at)){var Pt=(Ue+et)*.5,ct=($e+at)*.5,Vt=Pe.nodes;Vt[0]&&Xi(ce,Vt[0],Ue,$e,Pt,ct),Vt[1]&&Xi(ce,Vt[1],Pt,$e,et,ct),Vt[2]&&Xi(ce,Vt[2],Ue,ct,Pt,at),Vt[3]&&Xi(ce,Vt[3],Pt,ct,et,at)}}function Iu(ce,Pe,Ue,$e,et,at,Pt){var ct=1/0,Vt;return function tr(rr,Rr,Er,$r,rn){if(!(Rr>at||Er>Pt||$r<$e||rn<et)){if(kr=rr.point){var kr,Hr=Pe-rr.x,jr=Ue-rr.y,nn=Hr*Hr+jr*jr;if(nn<ct){var fn=Math.sqrt(ct=nn);$e=Pe-fn,et=Ue-fn,at=Pe+fn,Pt=Ue+fn,Vt=kr}}for(var Kr=rr.nodes,Vn=(Rr+$r)*.5,Yn=(Er+rn)*.5,$n=Pe>=Vn,sa=Ue>=Yn,Sa=sa<<1|$n,Aa=Sa+4;Sa<Aa;++Sa)if(rr=Kr[Sa&3])switch(Sa&3){case 0:tr(rr,Rr,Er,Vn,Yn);break;case 1:tr(rr,Vn,Er,$r,Yn);break;case 2:tr(rr,Rr,Yn,Vn,rn);break;case 3:tr(rr,Vn,Yn,$r,rn);break}}}(ce,$e,et,at,Pt),Vt}n.interpolateRgb=rs;function rs(ce,Pe){ce=n.rgb(ce),Pe=n.rgb(Pe);var Ue=ce.r,$e=ce.g,et=ce.b,at=Pe.r-Ue,Pt=Pe.g-$e,ct=Pe.b-et;return function(Vt){return"#"+pr(Math.round(Ue+at*Vt))+pr(Math.round($e+Pt*Vt))+pr(Math.round(et+ct*Vt))}}n.interpolateObject=co;function co(ce,Pe){var Ue={},$e={},et;for(et in ce)et in Pe?Ue[et]=Qs(ce[et],Pe[et]):$e[et]=ce[et];for(et in Pe)et in ce||($e[et]=Pe[et]);return function(at){for(et in Ue)$e[et]=Ue[et](at);return $e}}n.interpolateNumber=ns;function ns(ce,Pe){return ce=+ce,Pe=+Pe,function(Ue){return ce*(1-Ue)+Pe*Ue}}n.interpolateString=_o;function _o(ce,Pe){var Ue=us.lastIndex=ks.lastIndex=0,$e,et,at,Pt=-1,ct=[],Vt=[];for(ce=ce+"",Pe=Pe+"";($e=us.exec(ce))&&(et=ks.exec(Pe));)(at=et.index)>Ue&&(at=Pe.slice(Ue,at),ct[Pt]?ct[Pt]+=at:ct[++Pt]=at),($e=$e[0])===(et=et[0])?ct[Pt]?ct[Pt]+=et:ct[++Pt]=et:(ct[++Pt]=null,Vt.push({i:Pt,x:ns($e,et)})),Ue=ks.lastIndex;return Ue<Pe.length&&(at=Pe.slice(Ue),ct[Pt]?ct[Pt]+=at:ct[++Pt]=at),ct.length<2?Vt[0]?(Pe=Vt[0].x,function(tr){return Pe(tr)+""}):function(){return Pe}:(Pe=Vt.length,function(tr){for(var rr=0,Rr;rr<Pe;++rr)ct[(Rr=Vt[rr]).i]=Rr.x(tr);return ct.join("")})}var us=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ks=new RegExp(us.source,"g");n.interpolate=Qs;function Qs(ce,Pe){for(var Ue=n.interpolators.length,$e;--Ue>=0&&!($e=n.interpolators[Ue](ce,Pe)););return $e}n.interpolators=[function(ce,Pe){var Ue=typeof Pe;return(Ue==="string"?mn.has(Pe.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Pe)?rs:_o:Pe instanceof ut?rs:Array.isArray(Pe)?Ao:Ue==="object"&&isNaN(Pe)?co:ns)(ce,Pe)}],n.interpolateArray=Ao;function Ao(ce,Pe){var Ue=[],$e=[],et=ce.length,at=Pe.length,Pt=Math.min(ce.length,Pe.length),ct;for(ct=0;ct<Pt;++ct)Ue.push(Qs(ce[ct],Pe[ct]));for(;ct<et;++ct)$e[ct]=ce[ct];for(;ct<at;++ct)$e[ct]=Pe[ct];return function(Vt){for(ct=0;ct<Pt;++ct)$e[ct]=Ue[ct](Vt);return $e}}var zc=function(){return N},_s=n.map({linear:zc,poly:Du,quad:function(){return Wf},cubic:function(){return Yf},sin:function(){return Lh},exp:function(){return Ph},circle:function(){return Rh},elastic:Zf,back:Ih,bounce:function(){return Dh}}),So=n.map({in:N,out:qs,"in-out":Fs,"out-in":function(ce){return Fs(qs(ce))}});n.ease=function(ce){var Pe=ce.indexOf("-"),Ue=Pe>=0?ce.slice(0,Pe):ce,$e=Pe>=0?ce.slice(Pe+1):"in";return Ue=_s.get(Ue)||zc,$e=So.get($e)||N,Gf($e(Ue.apply(null,C.call(arguments,1))))};function Gf(ce){return function(Pe){return Pe<=0?0:Pe>=1?1:ce(Pe)}}function qs(ce){return function(Pe){return 1-ce(1-Pe)}}function Fs(ce){return function(Pe){return .5*(Pe<.5?ce(2*Pe):2-ce(2-2*Pe))}}function Wf(ce){return ce*ce}function Yf(ce){return ce*ce*ce}function Eh(ce){if(ce<=0)return 0;if(ce>=1)return 1;var Pe=ce*ce,Ue=Pe*ce;return 4*(ce<.5?Ue:3*(ce-Pe)+Ue-.75)}function Du(ce){return function(Pe){return Math.pow(Pe,ce)}}function Lh(ce){return 1-Math.cos(ce*ot)}function Ph(ce){return Math.pow(2,10*(ce-1))}function Rh(ce){return 1-Math.sqrt(1-ce*ce)}function Zf(ce,Pe){var Ue;return arguments.length<2&&(Pe=.45),arguments.length?Ue=Pe/Ne*Math.asin(1/ce):(ce=1,Ue=Pe/4),function($e){return 1+ce*Math.pow(2,-10*$e)*Math.sin(($e-Ue)*Ne/Pe)}}function Ih(ce){return ce||(ce=1.70158),function(Pe){return Pe*Pe*((ce+1)*Pe-ce)}}function Dh(ce){return ce<.36363636363636365?7.5625*ce*ce:ce<.7272727272727273?7.5625*(ce-=.5454545454545454)*ce+.75:ce<.9090909090909091?7.5625*(ce-=.8181818181818182)*ce+.9375:7.5625*(ce-=.9545454545454546)*ce+.984375}n.interpolateHcl=Oc;function Oc(ce,Pe){ce=n.hcl(ce),Pe=n.hcl(Pe);var Ue=ce.h,$e=ce.c,et=ce.l,at=Pe.h-Ue,Pt=Pe.c-$e,ct=Pe.l-et;return isNaN(Pt)&&(Pt=0,$e=isNaN($e)?Pe.c:$e),isNaN(at)?(at=0,Ue=isNaN(Ue)?Pe.h:Ue):at>180?at-=360:at<-180&&(at+=360),function(Vt){return zt(Ue+at*Vt,$e+Pt*Vt,et+ct*Vt)+""}}n.interpolateHsl=kh;function kh(ce,Pe){ce=n.hsl(ce),Pe=n.hsl(Pe);var Ue=ce.h,$e=ce.s,et=ce.l,at=Pe.h-Ue,Pt=Pe.s-$e,ct=Pe.l-et;return isNaN(Pt)&&(Pt=0,$e=isNaN($e)?Pe.s:$e),isNaN(at)?(at=0,Ue=isNaN(Ue)?Pe.h:Ue):at>180?at-=360:at<-180&&(at+=360),function(Vt){return Tt(Ue+at*Vt,$e+Pt*Vt,et+ct*Vt)+""}}n.interpolateLab=_h;function _h(ce,Pe){ce=n.lab(ce),Pe=n.lab(Pe);var Ue=ce.l,$e=ce.a,et=ce.b,at=Pe.l-Ue,Pt=Pe.a-$e,ct=Pe.b-et;return function(Vt){return Ye(Ue+at*Vt,$e+Pt*Vt,et+ct*Vt)+""}}n.interpolateRound=Xf;function Xf(ce,Pe){return Pe-=ce,function(Ue){return Math.round(ce+Pe*Ue)}}n.transform=function(ce){var Pe=h.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(Ue){if(Ue!=null){Pe.setAttribute("transform",Ue);var $e=Pe.transform.baseVal.consolidate()}return new kl($e?$e.matrix:Fh)})(ce)};function kl(ce){var Pe=[ce.a,ce.b],Ue=[ce.c,ce.d],$e=eu(Pe),et=_l(Pe,Ue),at=eu(lf(Ue,Pe,-et))||0;Pe[0]*Ue[1]<Ue[0]*Pe[1]&&(Pe[0]*=-1,Pe[1]*=-1,$e*=-1,et*=-1),this.rotate=($e?Math.atan2(Pe[1],Pe[0]):Math.atan2(-Ue[0],Ue[1]))*Ft,this.translate=[ce.e,ce.f],this.scale=[$e,at],this.skew=at?Math.atan2(et,at)*Ft:0}kl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function _l(ce,Pe){return ce[0]*Pe[0]+ce[1]*Pe[1]}function eu(ce){var Pe=Math.sqrt(_l(ce,ce));return Pe&&(ce[0]/=Pe,ce[1]/=Pe),Pe}function lf(ce,Pe,Ue){return ce[0]+=Ue*Pe[0],ce[1]+=Ue*Pe[1],ce}var Fh={a:1,b:0,c:0,d:1,e:0,f:0};n.interpolateTransform=Fl;function el(ce){return ce.length?ce.pop()+",":""}function Bc(ce,Pe,Ue,$e){if(ce[0]!==Pe[0]||ce[1]!==Pe[1]){var et=Ue.push("translate(",null,",",null,")");$e.push({i:et-4,x:ns(ce[0],Pe[0])},{i:et-2,x:ns(ce[1],Pe[1])})}else(Pe[0]||Pe[1])&&Ue.push("translate("+Pe+")")}function jf(ce,Pe,Ue,$e){ce!==Pe?(ce-Pe>180?Pe+=360:Pe-ce>180&&(ce+=360),$e.push({i:Ue.push(el(Ue)+"rotate(",null,")")-2,x:ns(ce,Pe)})):Pe&&Ue.push(el(Ue)+"rotate("+Pe+")")}function zh(ce,Pe,Ue,$e){ce!==Pe?$e.push({i:Ue.push(el(Ue)+"skewX(",null,")")-2,x:ns(ce,Pe)}):Pe&&Ue.push(el(Ue)+"skewX("+Pe+")")}function fs(ce,Pe,Ue,$e){if(ce[0]!==Pe[0]||ce[1]!==Pe[1]){var et=Ue.push(el(Ue)+"scale(",null,",",null,")");$e.push({i:et-4,x:ns(ce[0],Pe[0])},{i:et-2,x:ns(ce[1],Pe[1])})}else(Pe[0]!==1||Pe[1]!==1)&&Ue.push(el(Ue)+"scale("+Pe+")")}function Fl(ce,Pe){var Ue=[],$e=[];return ce=n.transform(ce),Pe=n.transform(Pe),Bc(ce.translate,Pe.translate,Ue,$e),jf(ce.rotate,Pe.rotate,Ue,$e),zh(ce.skew,Pe.skew,Ue,$e),fs(ce.scale,Pe.scale,Ue,$e),ce=Pe=null,function(et){for(var at=-1,Pt=$e.length,ct;++at<Pt;)Ue[(ct=$e[at]).i]=ct.x(et);return Ue.join("")}}function ku(ce,Pe){return Pe=(Pe-=ce=+ce)||1/Pe,function(Ue){return(Ue-ce)/Pe}}function tu(ce,Pe){return Pe=(Pe-=ce=+ce)||1/Pe,function(Ue){return Math.max(0,Math.min(1,(Ue-ce)/Pe))}}n.layout={},n.layout.bundle=function(){return function(ce){for(var Pe=[],Ue=-1,$e=ce.length;++Ue<$e;)Pe.push(zs(ce[Ue]));return Pe}};function zs(ce){for(var Pe=ce.source,Ue=ce.target,$e=Kf(Pe,Ue),et=[Pe];Pe!==$e;)Pe=Pe.parent,et.push(Pe);for(var at=et.length;Ue!==$e;)et.splice(at,0,Ue),Ue=Ue.parent;return et}function tl(ce){for(var Pe=[],Ue=ce.parent;Ue!=null;)Pe.push(ce),ce=Ue,Ue=Ue.parent;return Pe.push(ce),Pe}function Kf(ce,Pe){if(ce===Pe)return ce;for(var Ue=tl(ce),$e=tl(Pe),et=Ue.pop(),at=$e.pop(),Pt=null;et===at;)Pt=et,et=Ue.pop(),at=$e.pop();return Pt}n.layout.chord=function(){var ce={},Pe,Ue,$e,et,at=0,Pt,ct,Vt;function tr(){var Rr={},Er=[],$r=n.range(et),rn=[],kr,Hr,jr,nn,fn;for(Pe=[],Ue=[],kr=0,nn=-1;++nn<et;){for(Hr=0,fn=-1;++fn<et;)Hr+=$e[nn][fn];Er.push(Hr),rn.push(n.range(et)),kr+=Hr}for(Pt&&$r.sort(function(Ka,Ia){return Pt(Er[Ka],Er[Ia])}),ct&&rn.forEach(function(Ka,Ia){Ka.sort(function(Za,fi){return ct($e[Ia][Za],$e[Ia][fi])})}),kr=(Ne-at*et)/kr,Hr=0,nn=-1;++nn<et;){for(jr=Hr,fn=-1;++fn<et;){var Kr=$r[nn],Vn=rn[Kr][fn],Yn=$e[Kr][Vn],$n=Hr,sa=Hr+=Yn*kr;Rr[Kr+"-"+Vn]={index:Kr,subindex:Vn,startAngle:$n,endAngle:sa,value:Yn}}Ue[Kr]={index:Kr,startAngle:jr,endAngle:Hr,value:Er[Kr]},Hr+=at}for(nn=-1;++nn<et;)for(fn=nn-1;++fn<et;){var Sa=Rr[nn+"-"+fn],Aa=Rr[fn+"-"+nn];(Sa.value||Aa.value)&&Pe.push(Sa.value<Aa.value?{source:Aa,target:Sa}:{source:Sa,target:Aa})}Vt&&rr()}function rr(){Pe.sort(function(Rr,Er){return Vt((Rr.source.value+Rr.target.value)/2,(Er.source.value+Er.target.value)/2)})}return ce.matrix=function(Rr){return arguments.length?(et=($e=Rr)&&$e.length,Pe=Ue=null,ce):$e},ce.padding=function(Rr){return arguments.length?(at=Rr,Pe=Ue=null,ce):at},ce.sortGroups=function(Rr){return arguments.length?(Pt=Rr,Pe=Ue=null,ce):Pt},ce.sortSubgroups=function(Rr){return arguments.length?(ct=Rr,Pe=null,ce):ct},ce.sortChords=function(Rr){return arguments.length?(Vt=Rr,Pe&&rr(),ce):Vt},ce.chords=function(){return Pe||tr(),Pe},ce.groups=function(){return Ue||tr(),Ue},ce},n.layout.force=function(){var ce={},Pe=n.dispatch("start","tick","end"),Ue,$e=[1,1],et,at,Pt=.9,ct=nu,Vt=Nc,tr=-30,rr=Vc,Rr=.1,Er=.64,$r=[],rn=[],kr,Hr,jr;function nn(Kr){return function(Vn,Yn,$n,sa){if(Vn.point!==Kr){var Sa=Vn.cx-Kr.x,Aa=Vn.cy-Kr.y,Ka=sa-Yn,Ia=Sa*Sa+Aa*Aa;if(Ka*Ka/Er<Ia){if(Ia<rr){var Za=Vn.charge/Ia;Kr.px-=Sa*Za,Kr.py-=Aa*Za}return!0}if(Vn.point&&Ia&&Ia<rr){var Za=Vn.pointCharge/Ia;Kr.px-=Sa*Za,Kr.py-=Aa*Za}}return!Vn.charge}}ce.tick=function(){if((at*=.99)<.005)return Ue=null,Pe.end({type:"end",alpha:at=0}),!0;var Kr=$r.length,Vn=rn.length,Yn,$n,sa,Sa,Aa,Ka,Ia,Za,fi;for($n=0;$n<Vn;++$n)sa=rn[$n],Sa=sa.source,Aa=sa.target,Za=Aa.x-Sa.x,fi=Aa.y-Sa.y,(Ka=Za*Za+fi*fi)&&(Ka=at*Hr[$n]*((Ka=Math.sqrt(Ka))-kr[$n])/Ka,Za*=Ka,fi*=Ka,Aa.x-=Za*(Ia=Sa.weight+Aa.weight?Sa.weight/(Sa.weight+Aa.weight):.5),Aa.y-=fi*Ia,Sa.x+=Za*(Ia=1-Ia),Sa.y+=fi*Ia);if((Ia=at*Rr)&&(Za=$e[0]/2,fi=$e[1]/2,$n=-1,Ia))for(;++$n<Kr;)sa=$r[$n],sa.x+=(Za-sa.x)*Ia,sa.y+=(fi-sa.y)*Ia;if(tr)for(uf(Yn=n.geom.quadtree($r),at,jr),$n=-1;++$n<Kr;)(sa=$r[$n]).fixed||Yn.visit(nn(sa));for($n=-1;++$n<Kr;)sa=$r[$n],sa.fixed?(sa.x=sa.px,sa.y=sa.py):(sa.x-=(sa.px-(sa.px=sa.x))*Pt,sa.y-=(sa.py-(sa.py=sa.y))*Pt);Pe.tick({type:"tick",alpha:at})},ce.nodes=function(Kr){return arguments.length?($r=Kr,ce):$r},ce.links=function(Kr){return arguments.length?(rn=Kr,ce):rn},ce.size=function(Kr){return arguments.length?($e=Kr,ce):$e},ce.linkDistance=function(Kr){return arguments.length?(ct=typeof Kr=="function"?Kr:+Kr,ce):ct},ce.distance=ce.linkDistance,ce.linkStrength=function(Kr){return arguments.length?(Vt=typeof Kr=="function"?Kr:+Kr,ce):Vt},ce.friction=function(Kr){return arguments.length?(Pt=+Kr,ce):Pt},ce.charge=function(Kr){return arguments.length?(tr=typeof Kr=="function"?Kr:+Kr,ce):tr},ce.chargeDistance=function(Kr){return arguments.length?(rr=Kr*Kr,ce):Math.sqrt(rr)},ce.gravity=function(Kr){return arguments.length?(Rr=+Kr,ce):Rr},ce.theta=function(Kr){return arguments.length?(Er=Kr*Kr,ce):Math.sqrt(Er)},ce.alpha=function(Kr){return arguments.length?(Kr=+Kr,at?Kr>0?at=Kr:(Ue.c=null,Ue.t=NaN,Ue=null,Pe.end({type:"end",alpha:at=0})):Kr>0&&(Pe.start({type:"start",alpha:at=Kr}),Ue=Sn(ce.tick)),ce):at},ce.start=function(){var Kr,Vn=$r.length,Yn=rn.length,$n=$e[0],sa=$e[1],Sa,Aa;for(Kr=0;Kr<Vn;++Kr)(Aa=$r[Kr]).index=Kr,Aa.weight=0;for(Kr=0;Kr<Yn;++Kr)Aa=rn[Kr],typeof Aa.source=="number"&&(Aa.source=$r[Aa.source]),typeof Aa.target=="number"&&(Aa.target=$r[Aa.target]),++Aa.source.weight,++Aa.target.weight;for(Kr=0;Kr<Vn;++Kr)Aa=$r[Kr],isNaN(Aa.x)&&(Aa.x=Ka("x",$n)),isNaN(Aa.y)&&(Aa.y=Ka("y",sa)),isNaN(Aa.px)&&(Aa.px=Aa.x),isNaN(Aa.py)&&(Aa.py=Aa.y);if(kr=[],typeof ct=="function")for(Kr=0;Kr<Yn;++Kr)kr[Kr]=+ct.call(this,rn[Kr],Kr);else for(Kr=0;Kr<Yn;++Kr)kr[Kr]=ct;if(Hr=[],typeof Vt=="function")for(Kr=0;Kr<Yn;++Kr)Hr[Kr]=+Vt.call(this,rn[Kr],Kr);else for(Kr=0;Kr<Yn;++Kr)Hr[Kr]=Vt;if(jr=[],typeof tr=="function")for(Kr=0;Kr<Vn;++Kr)jr[Kr]=+tr.call(this,$r[Kr],Kr);else for(Kr=0;Kr<Vn;++Kr)jr[Kr]=tr;function Ka(Ia,Za){if(!Sa){for(Sa=new Array(Vn),Si=0;Si<Vn;++Si)Sa[Si]=[];for(Si=0;Si<Yn;++Si){var fi=rn[Si];Sa[fi.source.index].push(fi.target),Sa[fi.target.index].push(fi.source)}}for(var gi=Sa[Kr],Si=-1,Un=gi.length,Xa;++Si<Un;)if(!isNaN(Xa=gi[Si][Ia]))return Xa;return Math.random()*Za}return ce.resume()},ce.resume=function(){return ce.alpha(.1)},ce.stop=function(){return ce.alpha(0)},ce.drag=function(){if(et||(et=n.behavior.drag().origin(N).on("dragstart.force",ru).on("drag.force",fn).on("dragend.force",pl)),!arguments.length)return et;this.on("mouseover.force",qi).on("mouseout.force",Jf).call(et)};function fn(Kr){Kr.px=n.event.x,Kr.py=n.event.y,ce.resume()}return n.rebind(ce,Pe,"on")};function ru(ce){ce.fixed|=2}function pl(ce){ce.fixed&=-7}function qi(ce){ce.fixed|=4,ce.px=ce.x,ce.py=ce.y}function Jf(ce){ce.fixed&=-5}function uf(ce,Pe,Ue){var $e=0,et=0;if(ce.charge=0,!ce.leaf)for(var at=ce.nodes,Pt=at.length,ct=-1,Vt;++ct<Pt;)Vt=at[ct],Vt!=null&&(uf(Vt,Pe,Ue),ce.charge+=Vt.charge,$e+=Vt.charge*Vt.cx,et+=Vt.charge*Vt.cy);if(ce.point){ce.leaf||(ce.point.x+=Math.random()-.5,ce.point.y+=Math.random()-.5);var tr=Pe*Ue[ce.point.index];ce.charge+=ce.pointCharge=tr,$e+=tr*ce.point.x,et+=tr*ce.point.y}ce.cx=$e/ce.charge,ce.cy=et/ce.charge}var nu=20,Nc=1,Vc=1/0;n.layout.hierarchy=function(){var ce=$f,Pe=ff,Ue=Oh;function $e(et){var at=[et],Pt=[],ct;for(et.depth=0;(ct=at.pop())!=null;)if(Pt.push(ct),(tr=Pe.call($e,ct,ct.depth))&&(Vt=tr.length)){for(var Vt,tr,rr;--Vt>=0;)at.push(rr=tr[Vt]),rr.parent=ct,rr.depth=ct.depth+1;Ue&&(ct.value=0),ct.children=tr}else Ue&&(ct.value=+Ue.call($e,ct,ct.depth)||0),delete ct.children;return xo(et,function(Rr){var Er,$r;ce&&(Er=Rr.children)&&Er.sort(ce),Ue&&($r=Rr.parent)&&($r.value+=Rr.value)}),Pt}return $e.sort=function(et){return arguments.length?(ce=et,$e):ce},$e.children=function(et){return arguments.length?(Pe=et,$e):Pe},$e.value=function(et){return arguments.length?(Ue=et,$e):Ue},$e.revalue=function(et){return Ue&&(iu(et,function(at){at.children&&(at.value=0)}),xo(et,function(at){var Pt;at.children||(at.value=+Ue.call($e,at,at.depth)||0),(Pt=at.parent)&&(Pt.value+=at.value)})),et},$e};function au(ce,Pe){return n.rebind(ce,Pe,"sort","children","value"),ce.nodes=ce,ce.links=Bh,ce}function iu(ce,Pe){for(var Ue=[ce];(ce=Ue.pop())!=null;)if(Pe(ce),(et=ce.children)&&($e=et.length))for(var $e,et;--$e>=0;)Ue.push(et[$e])}function xo(ce,Pe){for(var Ue=[ce],$e=[];(ce=Ue.pop())!=null;)if($e.push(ce),(Pt=ce.children)&&(at=Pt.length))for(var et=-1,at,Pt;++et<at;)Ue.push(Pt[et]);for(;(ce=$e.pop())!=null;)Pe(ce)}function ff(ce){return ce.children}function Oh(ce){return ce.value}function $f(ce,Pe){return Pe.value-ce.value}function Bh(ce){return n.merge(ce.map(function(Pe){return(Pe.children||[]).map(function(Ue){return{source:Pe,target:Ue}})}))}n.layout.partition=function(){var ce=n.layout.hierarchy(),Pe=[1,1];function Ue(at,Pt,ct,Vt){var tr=at.children;if(at.x=Pt,at.y=at.depth*Vt,at.dx=ct,at.dy=Vt,tr&&(Rr=tr.length)){var rr=-1,Rr,Er,$r;for(ct=at.value?ct/at.value:0;++rr<Rr;)Ue(Er=tr[rr],Pt,$r=Er.value*ct,Vt),Pt+=$r}}function $e(at){var Pt=at.children,ct=0;if(Pt&&(tr=Pt.length))for(var Vt=-1,tr;++Vt<tr;)ct=Math.max(ct,$e(Pt[Vt]));return 1+ct}function et(at,Pt){var ct=ce.call(this,at,Pt);return Ue(ct[0],0,Pe[0],Pe[1]/$e(ct[0])),ct}return et.size=function(at){return arguments.length?(Pe=at,et):Pe},au(et,ce)},n.layout.pie=function(){var ce=Number,Pe=cf,Ue=0,$e=Ne,et=0;function at(Pt){var ct=Pt.length,Vt=Pt.map(function(nn,fn){return+ce.call(at,nn,fn)}),tr=+(typeof Ue=="function"?Ue.apply(this,arguments):Ue),rr=(typeof $e=="function"?$e.apply(this,arguments):$e)-tr,Rr=Math.min(Math.abs(rr)/ct,+(typeof et=="function"?et.apply(this,arguments):et)),Er=Rr*(rr<0?-1:1),$r=n.sum(Vt),rn=$r?(rr-ct*Er)/$r:0,kr=n.range(ct),Hr=[],jr;return Pe!=null&&kr.sort(Pe===cf?function(nn,fn){return Vt[fn]-Vt[nn]}:function(nn,fn){return Pe(Pt[nn],Pt[fn])}),kr.forEach(function(nn){Hr[nn]={data:Pt[nn],value:jr=Vt[nn],startAngle:tr,endAngle:tr+=jr*rn+Er,padAngle:Rr}}),Hr}return at.value=function(Pt){return arguments.length?(ce=Pt,at):ce},at.sort=function(Pt){return arguments.length?(Pe=Pt,at):Pe},at.startAngle=function(Pt){return arguments.length?(Ue=Pt,at):Ue},at.endAngle=function(Pt){return arguments.length?($e=Pt,at):$e},at.padAngle=function(Pt){return arguments.length?(et=Pt,at):et},at};var cf={};n.layout.stack=function(){var ce=N,Pe=hf,Ue=tc,$e=qf,et=_u,at=Qf;function Pt(ct,Vt){if(!(rn=ct.length))return ct;var tr=ct.map(function(nn,fn){return ce.call(Pt,nn,fn)}),rr=tr.map(function(nn){return nn.map(function(fn,Kr){return[et.call(Pt,fn,Kr),at.call(Pt,fn,Kr)]})}),Rr=Pe.call(Pt,rr,Vt);tr=n.permute(tr,Rr),rr=n.permute(rr,Rr);var Er=Ue.call(Pt,rr,Vt),$r=tr[0].length,rn,kr,Hr,jr;for(Hr=0;Hr<$r;++Hr)for($e.call(Pt,tr[0][Hr],jr=Er[Hr],rr[0][Hr][1]),kr=1;kr<rn;++kr)$e.call(Pt,tr[kr][Hr],jr+=rr[kr-1][Hr][1],rr[kr][Hr][1]);return ct}return Pt.values=function(ct){return arguments.length?(ce=ct,Pt):ce},Pt.order=function(ct){return arguments.length?(Pe=typeof ct=="function"?ct:Fu.get(ct)||hf,Pt):Pe},Pt.offset=function(ct){return arguments.length?(Ue=typeof ct=="function"?ct:ec.get(ct)||tc,Pt):Ue},Pt.x=function(ct){return arguments.length?(et=ct,Pt):et},Pt.y=function(ct){return arguments.length?(at=ct,Pt):at},Pt.out=function(ct){return arguments.length?($e=ct,Pt):$e},Pt};function _u(ce){return ce.x}function Qf(ce){return ce.y}function qf(ce,Pe,Ue){ce.y0=Pe,ce.y=Ue}var Fu=n.map({"inside-out":function(ce){var Pe=ce.length,Ue,$e,et=ce.map(Li),at=ce.map(Uc),Pt=n.range(Pe).sort(function(Rr,Er){return et[Rr]-et[Er]}),ct=0,Vt=0,tr=[],rr=[];for(Ue=0;Ue<Pe;++Ue)$e=Pt[Ue],ct<Vt?(ct+=at[$e],tr.push($e)):(Vt+=at[$e],rr.push($e));return rr.reverse().concat(tr)},reverse:function(ce){return n.range(ce.length).reverse()},default:hf}),ec=n.map({silhouette:function(ce){var Pe=ce.length,Ue=ce[0].length,$e=[],et=0,at,Pt,ct,Vt=[];for(Pt=0;Pt<Ue;++Pt){for(at=0,ct=0;at<Pe;at++)ct+=ce[at][Pt][1];ct>et&&(et=ct),$e.push(ct)}for(Pt=0;Pt<Ue;++Pt)Vt[Pt]=(et-$e[Pt])/2;return Vt},wiggle:function(ce){var Pe=ce.length,Ue=ce[0],$e=Ue.length,et,at,Pt,ct,Vt,tr,rr,Rr,Er,$r=[];for($r[0]=Rr=Er=0,at=1;at<$e;++at){for(et=0,ct=0;et<Pe;++et)ct+=ce[et][at][1];for(et=0,Vt=0,rr=Ue[at][0]-Ue[at-1][0];et<Pe;++et){for(Pt=0,tr=(ce[et][at][1]-ce[et][at-1][1])/(2*rr);Pt<et;++Pt)tr+=(ce[Pt][at][1]-ce[Pt][at-1][1])/rr;Vt+=tr*ce[et][at][1]}$r[at]=Rr-=ct?Vt/ct*rr:0,Rr<Er&&(Er=Rr)}for(at=0;at<$e;++at)$r[at]-=Er;return $r},expand:function(ce){var Pe=ce.length,Ue=ce[0].length,$e=1/Pe,et,at,Pt,ct=[];for(at=0;at<Ue;++at){for(et=0,Pt=0;et<Pe;et++)Pt+=ce[et][at][1];if(Pt)for(et=0;et<Pe;et++)ce[et][at][1]/=Pt;else for(et=0;et<Pe;et++)ce[et][at][1]=$e}for(at=0;at<Ue;++at)ct[at]=0;return ct},zero:tc});function hf(ce){return n.range(ce.length)}function tc(ce){for(var Pe=-1,Ue=ce[0].length,$e=[];++Pe<Ue;)$e[Pe]=0;return $e}function Li(ce){for(var Pe=1,Ue=0,$e=ce[0][1],et,at=ce.length;Pe<at;++Pe)(et=ce[Pe][1])>$e&&(Ue=Pe,$e=et);return Ue}function Uc(ce){return ce.reduce(ws,0)}function ws(ce,Pe){return ce+Pe[1]}n.layout.histogram=function(){var ce=!0,Pe=Number,Ue=rc,$e=ou;function et(at,Er){for(var ct=[],Vt=at.map(Pe,this),tr=Ue.call(this,Vt,Er),rr=$e.call(this,tr,Vt,Er),Rr,Er=-1,$r=Vt.length,rn=rr.length-1,kr=ce?1:1/$r,Hr;++Er<rn;)Rr=ct[Er]=[],Rr.dx=rr[Er+1]-(Rr.x=rr[Er]),Rr.y=0;if(rn>0)for(Er=-1;++Er<$r;)Hr=Vt[Er],Hr>=tr[0]&&Hr<=tr[1]&&(Rr=ct[n.bisect(rr,Hr,1,rn)-1],Rr.y+=kr,Rr.push(at[Er]));return ct}return et.value=function(at){return arguments.length?(Pe=at,et):Pe},et.range=function(at){return arguments.length?(Ue=Jr(at),et):Ue},et.bins=function(at){return arguments.length?($e=typeof at=="number"?function(Pt){return zl(Pt,at)}:Jr(at),et):$e},et.frequency=function(at){return arguments.length?(ce=!!at,et):ce},et};function ou(ce,Pe){return zl(ce,Math.ceil(Math.log(Pe.length)/Math.LN2+1))}function zl(ce,Pe){for(var Ue=-1,$e=+ce[0],et=(ce[1]-$e)/Pe,at=[];++Ue<=Pe;)at[Ue]=et*Ue+$e;return at}function rc(ce){return[n.min(ce),n.max(ce)]}n.layout.pack=function(){var ce=n.layout.hierarchy().sort(to),Pe=0,Ue=[1,1],$e;function et(at,Pt){var ct=ce.call(this,at,Pt),Vt=ct[0],tr=Ue[0],rr=Ue[1],Rr=$e==null?Math.sqrt:typeof $e=="function"?$e:function(){return $e};if(Vt.x=Vt.y=0,xo(Vt,function($r){$r.r=+Rr($r.value)}),xo(Vt,nl),Pe){var Er=Pe*($e?1:Math.max(2*Vt.r/tr,2*Vt.r/rr))/2;xo(Vt,function($r){$r.r+=Er}),xo(Vt,nl),xo(Vt,function($r){$r.r-=Er})}return xl(Vt,tr/2,rr/2,$e?1:1/Math.max(2*Vt.r/tr,2*Vt.r/rr)),ct}return et.size=function(at){return arguments.length?(Ue=at,et):Ue},et.radius=function(at){return arguments.length?($e=at==null||typeof at=="function"?at:+at,et):$e},et.padding=function(at){return arguments.length?(Pe=+at,et):Pe},au(et,ce)};function to(ce,Pe){return ce.value-Pe.value}function zu(ce,Pe){var Ue=ce._pack_next;ce._pack_next=Pe,Pe._pack_prev=ce,Pe._pack_next=Ue,Ue._pack_prev=Pe}function Jo(ce,Pe){ce._pack_next=Pe,Pe._pack_prev=ce}function rl(ce,Pe){var Ue=Pe.x-ce.x,$e=Pe.y-ce.y,et=ce.r+Pe.r;return .999*et*et>Ue*Ue+$e*$e}function nl(ce){if(!(Pe=ce.children)||!(Er=Pe.length))return;var Pe,Ue=1/0,$e=-1/0,et=1/0,at=-1/0,Pt,ct,Vt,tr,rr,Rr,Er;function $r(Kr){Ue=Math.min(Kr.x-Kr.r,Ue),$e=Math.max(Kr.x+Kr.r,$e),et=Math.min(Kr.y-Kr.r,et),at=Math.max(Kr.y+Kr.r,at)}if(Pe.forEach(yl),Pt=Pe[0],Pt.x=-Pt.r,Pt.y=0,$r(Pt),Er>1&&(ct=Pe[1],ct.x=ct.r,ct.y=0,$r(ct),Er>2))for(Vt=Pe[2],Ts(Pt,ct,Vt),$r(Vt),zu(Pt,Vt),Pt._pack_prev=Vt,zu(Vt,ct),ct=Pt._pack_next,tr=3;tr<Er;tr++){Ts(Pt,ct,Vt=Pe[tr]);var rn=0,kr=1,Hr=1;for(rr=ct._pack_next;rr!==ct;rr=rr._pack_next,kr++)if(rl(rr,Vt)){rn=1;break}if(rn==1)for(Rr=Pt._pack_prev;Rr!==rr._pack_prev&&!rl(Rr,Vt);Rr=Rr._pack_prev,Hr++);rn?(kr<Hr||kr==Hr&&ct.r<Pt.r?Jo(Pt,ct=rr):Jo(Pt=Rr,ct),tr--):(zu(Pt,Vt),ct=Vt,$r(Vt))}var jr=(Ue+$e)/2,nn=(et+at)/2,fn=0;for(tr=0;tr<Er;tr++)Vt=Pe[tr],Vt.x-=jr,Vt.y-=nn,fn=Math.max(fn,Vt.r+Math.sqrt(Vt.x*Vt.x+Vt.y*Vt.y));ce.r=fn,Pe.forEach(ml)}function yl(ce){ce._pack_next=ce._pack_prev=ce}function ml(ce){delete ce._pack_next,delete ce._pack_prev}function xl(ce,Pe,Ue,$e){var et=ce.children;if(ce.x=Pe+=$e*ce.x,ce.y=Ue+=$e*ce.y,ce.r*=$e,et)for(var at=-1,Pt=et.length;++at<Pt;)xl(et[at],Pe,Ue,$e)}function Ts(ce,Pe,Ue){var $e=ce.r+Ue.r,et=Pe.x-ce.x,at=Pe.y-ce.y;if($e&&(et||at)){var Pt=Pe.r+Ue.r,ct=et*et+at*at;Pt*=Pt,$e*=$e;var Vt=.5+($e-Pt)/(2*ct),tr=Math.sqrt(Math.max(0,2*Pt*($e+ct)-($e-=ct)*$e-Pt*Pt))/(2*ct);Ue.x=ce.x+Vt*et+tr*at,Ue.y=ce.y+Vt*at-tr*et}else Ue.x=ce.x+$e,Ue.y=ce.y}n.layout.tree=function(){var ce=n.layout.hierarchy().sort(null).value(null),Pe=Os,Ue=[1,1],$e=null;function et(rr,Rr){var Er=ce.call(this,rr,Rr),$r=Er[0],rn=at($r);if(xo(rn,Pt),rn.parent.m=-rn.z,iu(rn,ct),$e)iu($r,tr);else{var kr=$r,Hr=$r,jr=$r;iu($r,function(Vn){Vn.x<kr.x&&(kr=Vn),Vn.x>Hr.x&&(Hr=Vn),Vn.depth>jr.depth&&(jr=Vn)});var nn=Pe(kr,Hr)/2-kr.x,fn=Ue[0]/(Hr.x+Pe(Hr,kr)/2+nn),Kr=Ue[1]/(jr.depth||1);iu($r,function(Vn){Vn.x=(Vn.x+nn)*fn,Vn.y=Vn.depth*Kr})}return Er}function at(rr){for(var Rr={A:null,children:[rr]},Er=[Rr],$r;($r=Er.pop())!=null;)for(var rn=$r.children,kr,Hr=0,jr=rn.length;Hr<jr;++Hr)Er.push((rn[Hr]=kr={_:rn[Hr],parent:$r,children:(kr=rn[Hr].children)&&kr.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Hr}).a=kr);return Rr.children[0]}function Pt(rr){var Rr=rr.children,Er=rr.parent.children,$r=rr.i?Er[rr.i-1]:null;if(Rr.length){Nh(rr);var rn=(Rr[0].z+Rr[Rr.length-1].z)/2;$r?(rr.z=$r.z+Pe(rr._,$r._),rr.m=rr.z-rn):rr.z=rn}else $r&&(rr.z=$r.z+Pe(rr._,$r._));rr.parent.A=Vt(rr,$r,rr.parent.A||Er[0])}function ct(rr){rr._.x=rr.z+rr.parent.m,rr.m+=rr.parent.m}function Vt(rr,Rr,Er){if(Rr){for(var $r=rr,rn=rr,kr=Rr,Hr=$r.parent.children[0],jr=$r.m,nn=rn.m,fn=kr.m,Kr=Hr.m,Vn;kr=Bu(kr),$r=Ou($r),kr&&$r;)Hr=Ou(Hr),rn=Bu(rn),rn.a=rr,Vn=kr.z+fn-$r.z-jr+Pe(kr._,$r._),Vn>0&&(vf(Vh(kr,rr,Er),rr,Vn),jr+=Vn,nn+=Vn),fn+=kr.m,jr+=$r.m,Kr+=Hr.m,nn+=rn.m;kr&&!Bu(rn)&&(rn.t=kr,rn.m+=fn-nn),$r&&!Ou(Hr)&&(Hr.t=$r,Hr.m+=jr-Kr,Er=rr)}return Er}function tr(rr){rr.x*=Ue[0],rr.y=rr.depth*Ue[1]}return et.separation=function(rr){return arguments.length?(Pe=rr,et):Pe},et.size=function(rr){return arguments.length?($e=(Ue=rr)==null?tr:null,et):$e?null:Ue},et.nodeSize=function(rr){return arguments.length?($e=(Ue=rr)==null?null:tr,et):$e?Ue:null},au(et,ce)};function Os(ce,Pe){return ce.parent==Pe.parent?1:2}function Ou(ce){var Pe=ce.children;return Pe.length?Pe[0]:ce.t}function Bu(ce){var Pe=ce.children,Ue;return(Ue=Pe.length)?Pe[Ue-1]:ce.t}function vf(ce,Pe,Ue){var $e=Ue/(Pe.i-ce.i);Pe.c-=$e,Pe.s+=Ue,ce.c+=$e,Pe.z+=Ue,Pe.m+=Ue}function Nh(ce){for(var Pe=0,Ue=0,$e=ce.children,et=$e.length,at;--et>=0;)at=$e[et],at.z+=Pe,at.m+=Pe,Pe+=at.s+(Ue+=at.c)}function Vh(ce,Pe,Ue){return ce.a.parent===Pe.parent?ce.a:Ue}n.layout.cluster=function(){var ce=n.layout.hierarchy().sort(null).value(null),Pe=Os,Ue=[1,1],$e=!1;function et(at,Pt){var ct=ce.call(this,at,Pt),Vt=ct[0],tr,rr=0;xo(Vt,function(kr){var Hr=kr.children;Hr&&Hr.length?(kr.x=Hh(Hr),kr.y=Uh(Hr)):(kr.x=tr?rr+=Pe(kr,tr):0,kr.y=0,tr=kr)});var Rr=df(Vt),Er=Hc(Vt),$r=Rr.x-Pe(Rr,Er)/2,rn=Er.x+Pe(Er,Rr)/2;return xo(Vt,$e?function(kr){kr.x=(kr.x-Vt.x)*Ue[0],kr.y=(Vt.y-kr.y)*Ue[1]}:function(kr){kr.x=(kr.x-$r)/(rn-$r)*Ue[0],kr.y=(1-(Vt.y?kr.y/Vt.y:1))*Ue[1]}),ct}return et.separation=function(at){return arguments.length?(Pe=at,et):Pe},et.size=function(at){return arguments.length?($e=(Ue=at)==null,et):$e?null:Ue},et.nodeSize=function(at){return arguments.length?($e=(Ue=at)!=null,et):$e?Ue:null},au(et,ce)};function Uh(ce){return 1+n.max(ce,function(Pe){return Pe.y})}function Hh(ce){return ce.reduce(function(Pe,Ue){return Pe+Ue.x},0)/ce.length}function df(ce){var Pe=ce.children;return Pe&&Pe.length?df(Pe[0]):ce}function Hc(ce){var Pe=ce.children,Ue;return Pe&&(Ue=Pe.length)?Hc(Pe[Ue-1]):ce}n.layout.treemap=function(){var ce=n.layout.hierarchy(),Pe=Math.round,Ue=[1,1],$e=null,et=su,at=!1,Pt,ct="squarify",Vt=.5*(1+Math.sqrt(5));function tr(kr,Hr){for(var jr=-1,nn=kr.length,fn,Kr;++jr<nn;)Kr=(fn=kr[jr]).value*(Hr<0?0:Hr),fn.area=isNaN(Kr)||Kr<=0?0:Kr}function rr(kr){var Hr=kr.children;if(Hr&&Hr.length){var jr=et(kr),nn=[],fn=Hr.slice(),Kr,Vn=1/0,Yn,$n=ct==="slice"?jr.dx:ct==="dice"?jr.dy:ct==="slice-dice"?kr.depth&1?jr.dy:jr.dx:Math.min(jr.dx,jr.dy),sa;for(tr(fn,jr.dx*jr.dy/kr.value),nn.area=0;(sa=fn.length)>0;)nn.push(Kr=fn[sa-1]),nn.area+=Kr.area,ct!=="squarify"||(Yn=Er(nn,$n))<=Vn?(fn.pop(),Vn=Yn):(nn.area-=nn.pop().area,$r(nn,$n,jr,!1),$n=Math.min(jr.dx,jr.dy),nn.length=nn.area=0,Vn=1/0);nn.length&&($r(nn,$n,jr,!0),nn.length=nn.area=0),Hr.forEach(rr)}}function Rr(kr){var Hr=kr.children;if(Hr&&Hr.length){var jr=et(kr),nn=Hr.slice(),fn,Kr=[];for(tr(nn,jr.dx*jr.dy/kr.value),Kr.area=0;fn=nn.pop();)Kr.push(fn),Kr.area+=fn.area,fn.z!=null&&($r(Kr,fn.z?jr.dx:jr.dy,jr,!nn.length),Kr.length=Kr.area=0);Hr.forEach(Rr)}}function Er(kr,Hr){for(var jr=kr.area,nn,fn=0,Kr=1/0,Vn=-1,Yn=kr.length;++Vn<Yn;)(nn=kr[Vn].area)&&(nn<Kr&&(Kr=nn),nn>fn&&(fn=nn));return jr*=jr,Hr*=Hr,jr?Math.max(Hr*fn*Vt/jr,jr/(Hr*Kr*Vt)):1/0}function $r(kr,Hr,jr,nn){var fn=-1,Kr=kr.length,Vn=jr.x,Yn=jr.y,$n=Hr?Pe(kr.area/Hr):0,sa;if(Hr==jr.dx){for((nn||$n>jr.dy)&&($n=jr.dy);++fn<Kr;)sa=kr[fn],sa.x=Vn,sa.y=Yn,sa.dy=$n,Vn+=sa.dx=Math.min(jr.x+jr.dx-Vn,$n?Pe(sa.area/$n):0);sa.z=!0,sa.dx+=jr.x+jr.dx-Vn,jr.y+=$n,jr.dy-=$n}else{for((nn||$n>jr.dx)&&($n=jr.dx);++fn<Kr;)sa=kr[fn],sa.x=Vn,sa.y=Yn,sa.dx=$n,Yn+=sa.dy=Math.min(jr.y+jr.dy-Yn,$n?Pe(sa.area/$n):0);sa.z=!1,sa.dy+=jr.y+jr.dy-Yn,jr.x+=$n,jr.dx-=$n}}function rn(kr){var Hr=Pt||ce(kr),jr=Hr[0];return jr.x=jr.y=0,jr.value?(jr.dx=Ue[0],jr.dy=Ue[1]):jr.dx=jr.dy=0,Pt&&ce.revalue(jr),tr([jr],jr.dx*jr.dy/jr.value),(Pt?Rr:rr)(jr),at&&(Pt=Hr),Hr}return rn.size=function(kr){return arguments.length?(Ue=kr,rn):Ue},rn.padding=function(kr){if(!arguments.length)return $e;function Hr(fn){var Kr=kr.call(rn,fn,fn.depth);return Kr==null?su(fn):Mo(fn,typeof Kr=="number"?[Kr,Kr,Kr,Kr]:Kr)}function jr(fn){return Mo(fn,kr)}var nn;return et=($e=kr)==null?su:(nn=typeof kr)=="function"?Hr:(nn==="number"&&(kr=[kr,kr,kr,kr]),jr),rn},rn.round=function(kr){return arguments.length?(Pe=kr?Math.round:Number,rn):Pe!=Number},rn.sticky=function(kr){return arguments.length?(at=kr,Pt=null,rn):at},rn.ratio=function(kr){return arguments.length?(Vt=kr,rn):Vt},rn.mode=function(kr){return arguments.length?(ct=kr+"",rn):ct},au(rn,ce)};function su(ce){return{x:ce.x,y:ce.y,dx:ce.dx,dy:ce.dy}}function Mo(ce,Pe){var Ue=ce.x+Pe[3],$e=ce.y+Pe[0],et=ce.dx-Pe[1]-Pe[3],at=ce.dy-Pe[0]-Pe[2];return et<0&&(Ue+=et/2,et=0),at<0&&($e+=at/2,at=0),{x:Ue,y:$e,dx:et,dy:at}}n.random={normal:function(ce,Pe){var Ue=arguments.length;return Ue<2&&(Pe=1),Ue<1&&(ce=0),function(){var $e,et,at;do $e=Math.random()*2-1,et=Math.random()*2-1,at=$e*$e+et*et;while(!at||at>1);return ce+Pe*$e*Math.sqrt(-2*Math.log(at)/at)}},logNormal:function(){var ce=n.random.normal.apply(n,arguments);return function(){return Math.exp(ce())}},bates:function(ce){var Pe=n.random.irwinHall(ce);return function(){return Pe()/ce}},irwinHall:function(ce){return function(){for(var Pe=0,Ue=0;Ue<ce;Ue++)Pe+=Math.random();return Pe}}},n.scale={};function $o(ce){var Pe=ce[0],Ue=ce[ce.length-1];return Pe<Ue?[Pe,Ue]:[Ue,Pe]}function Nu(ce){return ce.rangeExtent?ce.rangeExtent():$o(ce.range())}function Ol(ce,Pe,Ue,$e){var et=Ue(ce[0],ce[1]),at=$e(Pe[0],Pe[1]);return function(Pt){return at(et(Pt))}}function Vu(ce,Pe){var Ue=0,$e=ce.length-1,et=ce[Ue],at=ce[$e],Pt;return at<et&&(Pt=Ue,Ue=$e,$e=Pt,Pt=et,et=at,at=Pt),ce[Ue]=Pe.floor(et),ce[$e]=Pe.ceil(at),ce}function pf(ce){return ce?{floor:function(Pe){return Math.floor(Pe/ce)*ce},ceil:function(Pe){return Math.ceil(Pe/ce)*ce}}:Gh}var Gh={floor:N,ceil:N};function Gc(ce,Pe,Ue,$e){var et=[],at=[],Pt=0,ct=Math.min(ce.length,Pe.length)-1;for(ce[ct]<ce[0]&&(ce=ce.slice().reverse(),Pe=Pe.slice().reverse());++Pt<=ct;)et.push(Ue(ce[Pt-1],ce[Pt])),at.push($e(Pe[Pt-1],Pe[Pt]));return function(Vt){var tr=n.bisect(ce,Vt,1,ct)-1;return at[tr](et[tr](Vt))}}n.scale.linear=function(){return Wc([0,1],[0,1],Qs,!1)};function Wc(ce,Pe,Ue,$e){var et,at;function Pt(){var Vt=Math.min(ce.length,Pe.length)>2?Gc:Ol,tr=$e?tu:ku;return et=Vt(ce,Pe,tr,Ue),at=Vt(Pe,ce,tr,Qs),ct}function ct(Vt){return et(Vt)}return ct.invert=function(Vt){return at(Vt)},ct.domain=function(Vt){return arguments.length?(ce=Vt.map(Number),Pt()):ce},ct.range=function(Vt){return arguments.length?(Pe=Vt,Pt()):Pe},ct.rangeRound=function(Vt){return ct.range(Vt).interpolate(Xf)},ct.clamp=function(Vt){return arguments.length?($e=Vt,Pt()):$e},ct.interpolate=function(Vt){return arguments.length?(Ue=Vt,Pt()):Ue},ct.ticks=function(Vt){return Bs(ce,Vt)},ct.tickFormat=function(Vt,tr){return d3_scale_linearTickFormat(ce,Vt,tr)},ct.nice=function(Vt){return bl(ce,Vt),Pt()},ct.copy=function(){return Wc(ce,Pe,Ue,$e)},Pt()}function nc(ce,Pe){return n.rebind(ce,Pe,"range","rangeRound","interpolate","clamp")}function bl(ce,Pe){return Vu(ce,pf(ro(ce,Pe)[2])),Vu(ce,pf(ro(ce,Pe)[2])),ce}function ro(ce,Pe){Pe==null&&(Pe=10);var Ue=$o(ce),$e=Ue[1]-Ue[0],et=Math.pow(10,Math.floor(Math.log($e/Pe)/Math.LN10)),at=Pe/$e*et;return at<=.15?et*=10:at<=.35?et*=5:at<=.75&&(et*=2),Ue[0]=Math.ceil(Ue[0]/et)*et,Ue[1]=Math.floor(Ue[1]/et)*et+et*.5,Ue[2]=et,Ue}function Bs(ce,Pe){return n.range.apply(n,ro(ce,Pe))}n.scale.log=function(){return ac(n.scale.linear().domain([0,1]),10,!0,[1,10])};function ac(ce,Pe,Ue,$e){function et(ct){return(Ue?Math.log(ct<0?0:ct):-Math.log(ct>0?0:-ct))/Math.log(Pe)}function at(ct){return Ue?Math.pow(Pe,ct):-Math.pow(Pe,-ct)}function Pt(ct){return ce(et(ct))}return Pt.invert=function(ct){return at(ce.invert(ct))},Pt.domain=function(ct){return arguments.length?(Ue=ct[0]>=0,ce.domain(($e=ct.map(Number)).map(et)),Pt):$e},Pt.base=function(ct){return arguments.length?(Pe=+ct,ce.domain($e.map(et)),Pt):Pe},Pt.nice=function(){var ct=Vu($e.map(et),Ue?Math:Yc);return ce.domain(ct),$e=ct.map(at),Pt},Pt.ticks=function(){var ct=$o($e),Vt=[],tr=ct[0],rr=ct[1],Rr=Math.floor(et(tr)),Er=Math.ceil(et(rr)),$r=Pe%1?2:Pe;if(isFinite(Er-Rr)){if(Ue){for(;Rr<Er;Rr++)for(var rn=1;rn<$r;rn++)Vt.push(at(Rr)*rn);Vt.push(at(Rr))}else for(Vt.push(at(Rr));Rr++<Er;)for(var rn=$r-1;rn>0;rn--)Vt.push(at(Rr)*rn);for(Rr=0;Vt[Rr]<tr;Rr++);for(Er=Vt.length;Vt[Er-1]>rr;Er--);Vt=Vt.slice(Rr,Er)}return Vt},Pt.copy=function(){return ac(ce.copy(),Pe,Ue,$e)},nc(Pt,ce)}var Yc={floor:function(ce){return-Math.ceil(-ce)},ceil:function(ce){return-Math.floor(-ce)}};n.scale.pow=function(){return Bl(n.scale.linear(),1,[0,1])};function Bl(ce,Pe,Ue){var $e=gf(Pe),et=gf(1/Pe);function at(Pt){return ce($e(Pt))}return at.invert=function(Pt){return et(ce.invert(Pt))},at.domain=function(Pt){return arguments.length?(ce.domain((Ue=Pt.map(Number)).map($e)),at):Ue},at.ticks=function(Pt){return Bs(Ue,Pt)},at.tickFormat=function(Pt,ct){return d3_scale_linearTickFormat(Ue,Pt,ct)},at.nice=function(Pt){return at.domain(bl(Ue,Pt))},at.exponent=function(Pt){return arguments.length?($e=gf(Pe=Pt),et=gf(1/Pe),ce.domain(Ue.map($e)),at):Pe},at.copy=function(){return Bl(ce.copy(),Pe,Ue)},nc(at,ce)}function gf(ce){return function(Pe){return Pe<0?-Math.pow(-Pe,ce):Math.pow(Pe,ce)}}n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return As([],{t:"range",a:[[]]})};function As(ce,Pe){var Ue,$e,et;function at(ct){return $e[((Ue.get(ct)||(Pe.t==="range"?Ue.set(ct,ce.push(ct)):NaN))-1)%$e.length]}function Pt(ct,Vt){return n.range(ce.length).map(function(tr){return ct+Vt*tr})}return at.domain=function(ct){if(!arguments.length)return ce;ce=[],Ue=new P;for(var Vt=-1,tr=ct.length,rr;++Vt<tr;)Ue.has(rr=ct[Vt])||Ue.set(rr,ce.push(rr));return at[Pe.t].apply(at,Pe.a)},at.range=function(ct){return arguments.length?($e=ct,et=0,Pe={t:"range",a:arguments},at):$e},at.rangePoints=function(ct,Vt){arguments.length<2&&(Vt=0);var tr=ct[0],rr=ct[1],Rr=ce.length<2?(tr=(tr+rr)/2,0):(rr-tr)/(ce.length-1+Vt);return $e=Pt(tr+Rr*Vt/2,Rr),et=0,Pe={t:"rangePoints",a:arguments},at},at.rangeRoundPoints=function(ct,Vt){arguments.length<2&&(Vt=0);var tr=ct[0],rr=ct[1],Rr=ce.length<2?(tr=rr=Math.round((tr+rr)/2),0):(rr-tr)/(ce.length-1+Vt)|0;return $e=Pt(tr+Math.round(Rr*Vt/2+(rr-tr-(ce.length-1+Vt)*Rr)/2),Rr),et=0,Pe={t:"rangeRoundPoints",a:arguments},at},at.rangeBands=function(ct,Vt,tr){arguments.length<2&&(Vt=0),arguments.length<3&&(tr=Vt);var rr=ct[1]<ct[0],Rr=ct[rr-0],Er=ct[1-rr],$r=(Er-Rr)/(ce.length-Vt+2*tr);return $e=Pt(Rr+$r*tr,$r),rr&&$e.reverse(),et=$r*(1-Vt),Pe={t:"rangeBands",a:arguments},at},at.rangeRoundBands=function(ct,Vt,tr){arguments.length<2&&(Vt=0),arguments.length<3&&(tr=Vt);var rr=ct[1]<ct[0],Rr=ct[rr-0],Er=ct[1-rr],$r=Math.floor((Er-Rr)/(ce.length-Vt+2*tr));return $e=Pt(Rr+Math.round((Er-Rr-(ce.length-Vt)*$r)/2),$r),rr&&$e.reverse(),et=Math.round($r*(1-Vt)),Pe={t:"rangeRoundBands",a:arguments},at},at.rangeBand=function(){return et},at.rangeExtent=function(){return $o(Pe.a[0])},at.copy=function(){return As(ce,Pe)},at.domain(ce)}n.scale.category10=function(){return n.scale.ordinal().range(yf)},n.scale.category20=function(){return n.scale.ordinal().range(al)},n.scale.category20b=function(){return n.scale.ordinal().range(il)},n.scale.category20c=function(){return n.scale.ordinal().range(ic)};var yf=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Nt),al=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Nt),il=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Nt),ic=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Nt);n.scale.quantile=function(){return lu([],[])};function lu(ce,Pe){var Ue;function $e(){var at=0,Pt=Pe.length;for(Ue=[];++at<Pt;)Ue[at-1]=n.quantile(ce,at/Pt);return et}function et(at){if(!isNaN(at=+at))return Pe[n.bisect(Ue,at)]}return et.domain=function(at){return arguments.length?(ce=at.map(b).filter(f).sort(u),$e()):ce},et.range=function(at){return arguments.length?(Pe=at,$e()):Pe},et.quantiles=function(){return Ue},et.invertExtent=function(at){return at=Pe.indexOf(at),at<0?[NaN,NaN]:[at>0?Ue[at-1]:ce[0],at<Ue.length?Ue[at]:ce[ce.length-1]]},et.copy=function(){return lu(ce,Pe)},$e()}n.scale.quantize=function(){return Ai(0,1,[0,1])};function Ai(ce,Pe,Ue){var $e,et;function at(ct){return Ue[Math.max(0,Math.min(et,Math.floor($e*(ct-ce))))]}function Pt(){return $e=Ue.length/(Pe-ce),et=Ue.length-1,at}return at.domain=function(ct){return arguments.length?(ce=+ct[0],Pe=+ct[ct.length-1],Pt()):[ce,Pe]},at.range=function(ct){return arguments.length?(Ue=ct,Pt()):Ue},at.invertExtent=function(ct){return ct=Ue.indexOf(ct),ct=ct<0?NaN:ct/$e+ce,[ct,ct+1/$e]},at.copy=function(){return Ai(ce,Pe,Ue)},Pt()}n.scale.threshold=function(){return Nl([.5],[0,1])};function Nl(ce,Pe){function Ue($e){if($e<=$e)return Pe[n.bisect(ce,$e)]}return Ue.domain=function($e){return arguments.length?(ce=$e,Ue):ce},Ue.range=function($e){return arguments.length?(Pe=$e,Ue):Pe},Ue.invertExtent=function($e){return $e=Pe.indexOf($e),[ce[$e-1],ce[$e]]},Ue.copy=function(){return Nl(ce,Pe)},Ue}n.scale.identity=function(){return mf([0,1])};function mf(ce){function Pe(Ue){return+Ue}return Pe.invert=Pe,Pe.domain=Pe.range=function(Ue){return arguments.length?(ce=Ue.map(Pe),Pe):ce},Pe.ticks=function(Ue){return Bs(ce,Ue)},Pe.tickFormat=function(Ue,$e){return d3_scale_linearTickFormat(ce,Ue,$e)},Pe.copy=function(){return mf(ce)},Pe}n.svg={};function xf(){return 0}n.svg.arc=function(){var ce=Wh,Pe=oc,Ue=xf,$e=wl,et=uu,at=sc,Pt=Zc;function ct(){var tr=Math.max(0,+ce.apply(this,arguments)),rr=Math.max(0,+Pe.apply(this,arguments)),Rr=et.apply(this,arguments)-ot,Er=at.apply(this,arguments)-ot,$r=Math.abs(Er-Rr),rn=Rr>Er?0:1;if(rr<tr&&(kr=rr,rr=tr,tr=kr),$r>=it)return Vt(rr,rn)+(tr?Vt(tr,1-rn):"")+"Z";var kr,Hr,jr,nn,fn=0,Kr=0,Vn,Yn,$n,sa,Sa,Aa,Ka,Ia,Za=[];if((nn=(+Pt.apply(this,arguments)||0)/2)&&(jr=$e===wl?Math.sqrt(tr*tr+rr*rr):+$e.apply(this,arguments),rn||(Kr*=-1),rr&&(Kr=Gt(jr/rr*Math.sin(nn))),tr&&(fn=Gt(jr/tr*Math.sin(nn)))),rr){Vn=rr*Math.cos(Rr+Kr),Yn=rr*Math.sin(Rr+Kr),$n=rr*Math.cos(Er-Kr),sa=rr*Math.sin(Er-Kr);var fi=Math.abs(Er-Rr-2*Kr)<=Re?0:1;if(Kr&&ol(Vn,Yn,$n,sa)===rn^fi){var gi=(Rr+Er)/2;Vn=rr*Math.cos(gi),Yn=rr*Math.sin(gi),$n=sa=null}}else Vn=Yn=0;if(tr){Sa=tr*Math.cos(Er-fn),Aa=tr*Math.sin(Er-fn),Ka=tr*Math.cos(Rr+fn),Ia=tr*Math.sin(Rr+fn);var Si=Math.abs(Rr-Er+2*fn)<=Re?0:1;if(fn&&ol(Sa,Aa,Ka,Ia)===1-rn^Si){var Un=(Rr+Er)/2;Sa=tr*Math.cos(Un),Aa=tr*Math.sin(Un),Ka=Ia=null}}else Sa=Aa=0;if($r>ue&&(kr=Math.min(Math.abs(rr-tr)/2,+Ue.apply(this,arguments)))>.001){Hr=tr<rr^rn?0:1;var Xa=kr,Wa=kr;if($r<Re){var ri=Ka==null?[Sa,Aa]:$n==null?[Vn,Yn]:yn([Vn,Yn],[Ka,Ia],[$n,sa],[Sa,Aa]),Vi=Vn-ri[0],eo=Yn-ri[1],oo=$n-ri[0],Fi=sa-ri[1],Ci=1/Math.sin(Math.acos((Vi*oo+eo*Fi)/(Math.sqrt(Vi*Vi+eo*eo)*Math.sqrt(oo*oo+Fi*Fi)))/2),ba=Math.sqrt(ri[0]*ri[0]+ri[1]*ri[1]);Wa=Math.min(kr,(tr-ba)/(Ci-1)),Xa=Math.min(kr,(rr-ba)/(Ci+1))}if($n!=null){var La=Tl(Ka==null?[Sa,Aa]:[Ka,Ia],[Vn,Yn],rr,Xa,rn),zi=Tl([$n,sa],[Sa,Aa],rr,Xa,rn);kr===Xa?Za.push("M",La[0],"A",Xa,",",Xa," 0 0,",Hr," ",La[1],"A",rr,",",rr," 0 ",1-rn^ol(La[1][0],La[1][1],zi[1][0],zi[1][1]),",",rn," ",zi[1],"A",Xa,",",Xa," 0 0,",Hr," ",zi[0]):Za.push("M",La[0],"A",Xa,",",Xa," 0 1,",Hr," ",zi[0])}else Za.push("M",Vn,",",Yn);if(Ka!=null){var no=Tl([Vn,Yn],[Ka,Ia],tr,-Wa,rn),is=Tl([Sa,Aa],$n==null?[Vn,Yn]:[$n,sa],tr,-Wa,rn);kr===Wa?Za.push("L",is[0],"A",Wa,",",Wa," 0 0,",Hr," ",is[1],"A",tr,",",tr," 0 ",rn^ol(is[1][0],is[1][1],no[1][0],no[1][1]),",",1-rn," ",no[1],"A",Wa,",",Wa," 0 0,",Hr," ",no[0]):Za.push("L",is[0],"A",Wa,",",Wa," 0 0,",Hr," ",no[0])}else Za.push("L",Sa,",",Aa)}else Za.push("M",Vn,",",Yn),$n!=null&&Za.push("A",rr,",",rr," 0 ",fi,",",rn," ",$n,",",sa),Za.push("L",Sa,",",Aa),Ka!=null&&Za.push("A",tr,",",tr," 0 ",Si,",",1-rn," ",Ka,",",Ia);return Za.push("Z"),Za.join("")}function Vt(tr,rr){return"M0,"+tr+"A"+tr+","+tr+" 0 1,"+rr+" 0,"+-tr+"A"+tr+","+tr+" 0 1,"+rr+" 0,"+tr}return ct.innerRadius=function(tr){return arguments.length?(ce=Jr(tr),ct):ce},ct.outerRadius=function(tr){return arguments.length?(Pe=Jr(tr),ct):Pe},ct.cornerRadius=function(tr){return arguments.length?(Ue=Jr(tr),ct):Ue},ct.padRadius=function(tr){return arguments.length?($e=tr==wl?wl:Jr(tr),ct):$e},ct.startAngle=function(tr){return arguments.length?(et=Jr(tr),ct):et},ct.endAngle=function(tr){return arguments.length?(at=Jr(tr),ct):at},ct.padAngle=function(tr){return arguments.length?(Pt=Jr(tr),ct):Pt},ct.centroid=function(){var tr=(+ce.apply(this,arguments)+ +Pe.apply(this,arguments))/2,rr=(+et.apply(this,arguments)+ +at.apply(this,arguments))/2-ot;return[Math.cos(rr)*tr,Math.sin(rr)*tr]},ct};var wl="auto";function Wh(ce){return ce.innerRadius}function oc(ce){return ce.outerRadius}function uu(ce){return ce.startAngle}function sc(ce){return ce.endAngle}function Zc(ce){return ce&&ce.padAngle}function ol(ce,Pe,Ue,$e){return(ce-Ue)*Pe-(Pe-$e)*ce>0?0:1}function Tl(ce,Pe,Ue,$e,et){var at=ce[0]-Pe[0],Pt=ce[1]-Pe[1],ct=(et?$e:-$e)/Math.sqrt(at*at+Pt*Pt),Vt=ct*Pt,tr=-ct*at,rr=ce[0]+Vt,Rr=ce[1]+tr,Er=Pe[0]+Vt,$r=Pe[1]+tr,rn=(rr+Er)/2,kr=(Rr+$r)/2,Hr=Er-rr,jr=$r-Rr,nn=Hr*Hr+jr*jr,fn=Ue-$e,Kr=rr*$r-Er*Rr,Vn=(jr<0?-1:1)*Math.sqrt(Math.max(0,fn*fn*nn-Kr*Kr)),Yn=(Kr*jr-Hr*Vn)/nn,$n=(-Kr*Hr-jr*Vn)/nn,sa=(Kr*jr+Hr*Vn)/nn,Sa=(-Kr*Hr+jr*Vn)/nn,Aa=Yn-rn,Ka=$n-kr,Ia=sa-rn,Za=Sa-kr;return Aa*Aa+Ka*Ka>Ia*Ia+Za*Za&&(Yn=sa,$n=Sa),[[Yn-Vt,$n-tr],[Yn*Ue/fn,$n*Ue/fn]]}function Vl(){return!0}function Ul(ce){var Pe=ca,Ue=aa,$e=Vl,et=as,at=et.key,Pt=.7;function ct(Vt){var tr=[],rr=[],Rr=-1,Er=Vt.length,$r,rn=Jr(Pe),kr=Jr(Ue);function Hr(){tr.push("M",et(ce(rr),Pt))}for(;++Rr<Er;)$e.call(this,$r=Vt[Rr],Rr)?rr.push([+rn.call(this,$r,Rr),+kr.call(this,$r,Rr)]):rr.length&&(Hr(),rr=[]);return rr.length&&Hr(),tr.length?tr.join(""):null}return ct.x=function(Vt){return arguments.length?(Pe=Vt,ct):Pe},ct.y=function(Vt){return arguments.length?(Ue=Vt,ct):Ue},ct.defined=function(Vt){return arguments.length?($e=Vt,ct):$e},ct.interpolate=function(Vt){return arguments.length?(typeof Vt=="function"?at=et=Vt:at=(et=Qo.get(Vt)||as).key,ct):at},ct.tension=function(Vt){return arguments.length?(Pt=Vt,ct):Pt},ct}n.svg.line=function(){return Ul(N)};var Qo=n.map({linear:as,"linear-closed":Hl,step:Xc,"step-before":fu,"step-after":bf,basis:sl,"basis-open":Yh,"basis-closed":uc,bundle:wf,cardinal:lc,"cardinal-open":jc,"cardinal-closed":Ss,monotone:fc});Qo.forEach(function(ce,Pe){Pe.key=ce,Pe.closed=/-closed$/.test(ce)});function as(ce){return ce.length>1?ce.join("L"):ce+"Z"}function Hl(ce){return ce.join("L")+"Z"}function Xc(ce){for(var Pe=0,Ue=ce.length,$e=ce[0],et=[$e[0],",",$e[1]];++Pe<Ue;)et.push("H",($e[0]+($e=ce[Pe])[0])/2,"V",$e[1]);return Ue>1&&et.push("H",$e[0]),et.join("")}function fu(ce){for(var Pe=0,Ue=ce.length,$e=ce[0],et=[$e[0],",",$e[1]];++Pe<Ue;)et.push("V",($e=ce[Pe])[1],"H",$e[0]);return et.join("")}function bf(ce){for(var Pe=0,Ue=ce.length,$e=ce[0],et=[$e[0],",",$e[1]];++Pe<Ue;)et.push("H",($e=ce[Pe])[0],"V",$e[1]);return et.join("")}function jc(ce,Pe){return ce.length<4?as(ce):ce[1]+Al(ce.slice(1,-1),Uu(ce,Pe))}function Ss(ce,Pe){return ce.length<3?Hl(ce):ce[0]+Al((ce.push(ce[0]),ce),Uu([ce[ce.length-2]].concat(ce,[ce[1]]),Pe))}function lc(ce,Pe){return ce.length<3?as(ce):ce[0]+Al(ce,Uu(ce,Pe))}function Al(ce,Pe){if(Pe.length<1||ce.length!=Pe.length&&ce.length!=Pe.length+2)return as(ce);var Ue=ce.length!=Pe.length,$e="",et=ce[0],at=ce[1],Pt=Pe[0],ct=Pt,Vt=1;if(Ue&&($e+="Q"+(at[0]-Pt[0]*2/3)+","+(at[1]-Pt[1]*2/3)+","+at[0]+","+at[1],et=ce[1],Vt=2),Pe.length>1){ct=Pe[1],at=ce[Vt],Vt++,$e+="C"+(et[0]+Pt[0])+","+(et[1]+Pt[1])+","+(at[0]-ct[0])+","+(at[1]-ct[1])+","+at[0]+","+at[1];for(var tr=2;tr<Pe.length;tr++,Vt++)at=ce[Vt],ct=Pe[tr],$e+="S"+(at[0]-ct[0])+","+(at[1]-ct[1])+","+at[0]+","+at[1]}if(Ue){var rr=ce[Vt];$e+="Q"+(at[0]+ct[0]*2/3)+","+(at[1]+ct[1]*2/3)+","+rr[0]+","+rr[1]}return $e}function Uu(ce,Pe){for(var Ue=[],$e=(1-Pe)/2,et,at=ce[0],Pt=ce[1],ct=1,Vt=ce.length;++ct<Vt;)et=at,at=Pt,Pt=ce[ct],Ue.push([$e*(Pt[0]-et[0]),$e*(Pt[1]-et[1])]);return Ue}function sl(ce){if(ce.length<3)return as(ce);var Pe=1,Ue=ce.length,$e=ce[0],et=$e[0],at=$e[1],Pt=[et,et,et,($e=ce[1])[0]],ct=[at,at,at,$e[1]],Vt=[et,",",at,"L",Fo(Ns,Pt),",",Fo(Ns,ct)];for(ce.push(ce[Ue-1]);++Pe<=Ue;)$e=ce[Pe],Pt.shift(),Pt.push($e[0]),ct.shift(),ct.push($e[1]),Gu(Vt,Pt,ct);return ce.pop(),Vt.push("L",$e),Vt.join("")}function Yh(ce){if(ce.length<4)return as(ce);for(var Pe=[],Ue=-1,$e=ce.length,et,at=[0],Pt=[0];++Ue<3;)et=ce[Ue],at.push(et[0]),Pt.push(et[1]);for(Pe.push(Fo(Ns,at)+","+Fo(Ns,Pt)),--Ue;++Ue<$e;)et=ce[Ue],at.shift(),at.push(et[0]),Pt.shift(),Pt.push(et[1]),Gu(Pe,at,Pt);return Pe.join("")}function uc(ce){for(var Pe,Ue=-1,$e=ce.length,et=$e+4,at,Pt=[],ct=[];++Ue<4;)at=ce[Ue%$e],Pt.push(at[0]),ct.push(at[1]);for(Pe=[Fo(Ns,Pt),",",Fo(Ns,ct)],--Ue;++Ue<et;)at=ce[Ue%$e],Pt.shift(),Pt.push(at[0]),ct.shift(),ct.push(at[1]),Gu(Pe,Pt,ct);return Pe.join("")}function wf(ce,Pe){var Ue=ce.length-1;if(Ue)for(var $e=ce[0][0],et=ce[0][1],at=ce[Ue][0]-$e,Pt=ce[Ue][1]-et,ct=-1,Vt,tr;++ct<=Ue;)Vt=ce[ct],tr=ct/Ue,Vt[0]=Pe*Vt[0]+(1-Pe)*($e+tr*at),Vt[1]=Pe*Vt[1]+(1-Pe)*(et+tr*Pt);return sl(ce)}function Fo(ce,Pe){return ce[0]*Pe[0]+ce[1]*Pe[1]+ce[2]*Pe[2]+ce[3]*Pe[3]}var Kc=[0,2/3,1/3,0],Hu=[0,1/3,2/3,0],Ns=[0,1/6,2/3,1/6];function Gu(ce,Pe,Ue){ce.push("C",Fo(Kc,Pe),",",Fo(Kc,Ue),",",Fo(Hu,Pe),",",Fo(Hu,Ue),",",Fo(Ns,Pe),",",Fo(Ns,Ue))}function Sl(ce,Pe){return(Pe[1]-ce[1])/(Pe[0]-ce[0])}function Tf(ce){for(var Pe=0,Ue=ce.length-1,$e=[],et=ce[0],at=ce[1],Pt=$e[0]=Sl(et,at);++Pe<Ue;)$e[Pe]=(Pt+(Pt=Sl(et=at,at=ce[Pe+1])))/2;return $e[Pe]=Pt,$e}function Jc(ce){for(var Pe=[],Ue,$e,et,at,Pt=Tf(ce),ct=-1,Vt=ce.length-1;++ct<Vt;)Ue=Sl(ce[ct],ce[ct+1]),d(Ue)<ue?Pt[ct]=Pt[ct+1]=0:($e=Pt[ct]/Ue,et=Pt[ct+1]/Ue,at=$e*$e+et*et,at>9&&(at=Ue*3/Math.sqrt(at),Pt[ct]=at*$e,Pt[ct+1]=at*et));for(ct=-1;++ct<=Vt;)at=(ce[Math.min(Vt,ct+1)][0]-ce[Math.max(0,ct-1)][0])/(6*(1+Pt[ct]*Pt[ct])),Pe.push([at||0,Pt[ct]*at||0]);return Pe}function fc(ce){return ce.length<3?as(ce):ce[0]+Al(ce,Jc(ce))}n.svg.line.radial=function(){var ce=Ul(cc);return ce.radius=ce.x,delete ce.x,ce.angle=ce.y,delete ce.y,ce};function cc(ce){for(var Pe,Ue=-1,$e=ce.length,et,at;++Ue<$e;)Pe=ce[Ue],et=Pe[0],at=Pe[1]-ot,Pe[0]=et*Math.cos(at),Pe[1]=et*Math.sin(at);return ce}function Gl(ce){var Pe=ca,Ue=ca,$e=0,et=aa,at=Vl,Pt=as,ct=Pt.key,Vt=Pt,tr="L",rr=.7;function Rr(Er){var $r=[],rn=[],kr=[],Hr=-1,jr=Er.length,nn,fn=Jr(Pe),Kr=Jr($e),Vn=Pe===Ue?function(){return $n}:Jr(Ue),Yn=$e===et?function(){return sa}:Jr(et),$n,sa;function Sa(){$r.push("M",Pt(ce(kr),rr),tr,Vt(ce(rn.reverse()),rr),"Z")}for(;++Hr<jr;)at.call(this,nn=Er[Hr],Hr)?(rn.push([$n=+fn.call(this,nn,Hr),sa=+Kr.call(this,nn,Hr)]),kr.push([+Vn.call(this,nn,Hr),+Yn.call(this,nn,Hr)])):rn.length&&(Sa(),rn=[],kr=[]);return rn.length&&Sa(),$r.length?$r.join(""):null}return Rr.x=function(Er){return arguments.length?(Pe=Ue=Er,Rr):Ue},Rr.x0=function(Er){return arguments.length?(Pe=Er,Rr):Pe},Rr.x1=function(Er){return arguments.length?(Ue=Er,Rr):Ue},Rr.y=function(Er){return arguments.length?($e=et=Er,Rr):et},Rr.y0=function(Er){return arguments.length?($e=Er,Rr):$e},Rr.y1=function(Er){return arguments.length?(et=Er,Rr):et},Rr.defined=function(Er){return arguments.length?(at=Er,Rr):at},Rr.interpolate=function(Er){return arguments.length?(typeof Er=="function"?ct=Pt=Er:ct=(Pt=Qo.get(Er)||as).key,Vt=Pt.reverse||Pt,tr=Pt.closed?"M":"L",Rr):ct},Rr.tension=function(Er){return arguments.length?(rr=Er,Rr):rr},Rr}fu.reverse=bf,bf.reverse=fu,n.svg.area=function(){return Gl(N)},n.svg.area.radial=function(){var ce=Gl(cc);return ce.radius=ce.x,delete ce.x,ce.innerRadius=ce.x0,delete ce.x0,ce.outerRadius=ce.x1,delete ce.x1,ce.angle=ce.y,delete ce.y,ce.startAngle=ce.y0,delete ce.y0,ce.endAngle=ce.y1,delete ce.y1,ce};function Af(ce){return ce.source}function Wu(ce){return ce.target}n.svg.chord=function(){var ce=Af,Pe=Wu,Ue=$c,$e=uu,et=sc;function at(rr,Rr){var Er=Pt(this,ce,rr,Rr),$r=Pt(this,Pe,rr,Rr);return"M"+Er.p0+Vt(Er.r,Er.p1,Er.a1-Er.a0)+(ct(Er,$r)?tr(Er.r,Er.p1,Er.r,Er.p0):tr(Er.r,Er.p1,$r.r,$r.p0)+Vt($r.r,$r.p1,$r.a1-$r.a0)+tr($r.r,$r.p1,Er.r,Er.p0))+"Z"}function Pt(rr,Rr,Er,$r){var rn=Rr.call(rr,Er,$r),kr=Ue.call(rr,rn,$r),Hr=$e.call(rr,rn,$r)-ot,jr=et.call(rr,rn,$r)-ot;return{r:kr,a0:Hr,a1:jr,p0:[kr*Math.cos(Hr),kr*Math.sin(Hr)],p1:[kr*Math.cos(jr),kr*Math.sin(jr)]}}function ct(rr,Rr){return rr.a0==Rr.a0&&rr.a1==Rr.a1}function Vt(rr,Rr,Er){return"A"+rr+","+rr+" 0 "+ +(Er>Re)+",1 "+Rr}function tr(rr,Rr,Er,$r){return"Q 0,0 "+$r}return at.radius=function(rr){return arguments.length?(Ue=Jr(rr),at):Ue},at.source=function(rr){return arguments.length?(ce=Jr(rr),at):ce},at.target=function(rr){return arguments.length?(Pe=Jr(rr),at):Pe},at.startAngle=function(rr){return arguments.length?($e=Jr(rr),at):$e},at.endAngle=function(rr){return arguments.length?(et=Jr(rr),at):et},at};function $c(ce){return ce.radius}n.svg.diagonal=function(){var ce=Af,Pe=Wu,Ue=Yu;function $e(et,at){var Pt=ce.call(this,et,at),ct=Pe.call(this,et,at),Vt=(Pt.y+ct.y)/2,tr=[Pt,{x:Pt.x,y:Vt},{x:ct.x,y:Vt},ct];return tr=tr.map(Ue),"M"+tr[0]+"C"+tr[1]+" "+tr[2]+" "+tr[3]}return $e.source=function(et){return arguments.length?(ce=Jr(et),$e):ce},$e.target=function(et){return arguments.length?(Pe=Jr(et),$e):Pe},$e.projection=function(et){return arguments.length?(Ue=et,$e):Ue},$e};function Yu(ce){return[ce.x,ce.y]}n.svg.diagonal.radial=function(){var ce=n.svg.diagonal(),Pe=Yu,Ue=ce.projection;return ce.projection=function($e){return arguments.length?Ue(Qc(Pe=$e)):Pe},ce};function Qc(ce){return function(){var Pe=ce.apply(this,arguments),Ue=Pe[0],$e=Pe[1]-ot;return[Ue*Math.cos($e),Ue*Math.sin($e)]}}n.svg.symbol=function(){var ce=rt,Pe=Ke;function Ue($e,et){return(pt.get(ce.call(this,$e,et))||ht)(Pe.call(this,$e,et))}return Ue.type=function($e){return arguments.length?(ce=Jr($e),Ue):ce},Ue.size=function($e){return arguments.length?(Pe=Jr($e),Ue):Pe},Ue};function Ke(){return 64}function rt(){return"circle"}function ht(ce){var Pe=Math.sqrt(ce/Re);return"M0,"+Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+-Pe+"A"+Pe+","+Pe+" 0 1,1 0,"+Pe+"Z"}var pt=n.map({circle:ht,cross:function(ce){var Pe=Math.sqrt(ce/5)/2;return"M"+-3*Pe+","+-Pe+"H"+-Pe+"V"+-3*Pe+"H"+Pe+"V"+-Pe+"H"+3*Pe+"V"+Pe+"H"+Pe+"V"+3*Pe+"H"+-Pe+"V"+Pe+"H"+-3*Pe+"Z"},diamond:function(ce){var Pe=Math.sqrt(ce/(2*Lt)),Ue=Pe*Lt;return"M0,"+-Pe+"L"+Ue+",0 0,"+Pe+" "+-Ue+",0Z"},square:function(ce){var Pe=Math.sqrt(ce)/2;return"M"+-Pe+","+-Pe+"L"+Pe+","+-Pe+" "+Pe+","+Pe+" "+-Pe+","+Pe+"Z"},"triangle-down":function(ce){var Pe=Math.sqrt(ce/Dt),Ue=Pe*Dt/2;return"M0,"+Ue+"L"+Pe+","+-Ue+" "+-Pe+","+-Ue+"Z"},"triangle-up":function(ce){var Pe=Math.sqrt(ce/Dt),Ue=Pe*Dt/2;return"M0,"+-Ue+"L"+Pe+","+Ue+" "+-Pe+","+Ue+"Z"}});n.svg.symbolTypes=pt.keys();var Dt=Math.sqrt(3),Lt=Math.tan(30*wt);ee.transition=function(ce){for(var Pe=Ir||++Mr,Ue=Tn(ce),$e=[],et,at,Pt=Zr||{time:Date.now(),ease:Eh,delay:0,duration:250},ct=-1,Vt=this.length;++ct<Vt;){$e.push(et=[]);for(var tr=this[ct],rr=-1,Rr=tr.length;++rr<Rr;)(at=tr[rr])&&Dn(at,rr,Ue,Pe,Pt),et.push(at)}return yr($e,Ue,Pe)},ee.interrupt=function(ce){return this.each(ce==null?Ot:cr(Tn(ce)))};var Ot=cr(Tn());function cr(ce){return function(){var Pe,Ue,$e;(Pe=this[ce])&&($e=Pe[Ue=Pe.active])&&($e.timer.c=null,$e.timer.t=NaN,--Pe.count?delete Pe[Ue]:delete this[ce],Pe.active+=.5,$e.event&&$e.event.interrupt.call(this,this.__data__,$e.index))}}function yr(ce,Pe,Ue){return W(ce,ar),ce.namespace=Pe,ce.id=Ue,ce}var ar=[],Mr=0,Ir,Zr;ar.call=ee.call,ar.empty=ee.empty,ar.node=ee.node,ar.size=ee.size,n.transition=function(ce,Pe){return ce&&ce.transition?Ir?ce.transition(Pe):ce:n.selection().transition(ce)},n.transition.prototype=ar,ar.select=function(ce){var Pe=this.id,Ue=this.namespace,$e=[],et,at,Pt;ce=le(ce);for(var ct=-1,Vt=this.length;++ct<Vt;){$e.push(et=[]);for(var tr=this[ct],rr=-1,Rr=tr.length;++rr<Rr;)(Pt=tr[rr])&&(at=ce.call(Pt,Pt.__data__,rr,ct))?("__data__"in Pt&&(at.__data__=Pt.__data__),Dn(at,rr,Ue,Pe,Pt[Ue][Pe]),et.push(at)):et.push(null)}return yr($e,Ue,Pe)},ar.selectAll=function(ce){var Pe=this.id,Ue=this.namespace,$e=[],et,at,Pt,ct,Vt;ce=oe(ce);for(var tr=-1,rr=this.length;++tr<rr;)for(var Rr=this[tr],Er=-1,$r=Rr.length;++Er<$r;)if(Pt=Rr[Er]){Vt=Pt[Ue][Pe],at=ce.call(Pt,Pt.__data__,Er,tr),$e.push(et=[]);for(var rn=-1,kr=at.length;++rn<kr;)(ct=at[rn])&&Dn(ct,rn,Ue,Pe,Vt),et.push(ct)}return yr($e,Ue,Pe)},ar.filter=function(ce){var Pe=[],Ue,$e,et;typeof ce!="function"&&(ce=nt(ce));for(var at=0,Pt=this.length;at<Pt;at++){Pe.push(Ue=[]);for(var $e=this[at],ct=0,Vt=$e.length;ct<Vt;ct++)(et=$e[ct])&&ce.call(et,et.__data__,ct,at)&&Ue.push(et)}return yr(Pe,this.namespace,this.id)},ar.tween=function(ce,Pe){var Ue=this.id,$e=this.namespace;return arguments.length<2?this.node()[$e][Ue].tween.get(ce):Qe(this,Pe==null?function(et){et[$e][Ue].tween.remove(ce)}:function(et){et[$e][Ue].tween.set(ce,Pe)})};function Qr(ce,Pe,Ue,$e){var et=ce.id,at=ce.namespace;return Qe(ce,typeof Ue=="function"?function(Pt,ct,Vt){Pt[at][et].tween.set(Pe,$e(Ue.call(Pt,Pt.__data__,ct,Vt)))}:(Ue=$e(Ue),function(Pt){Pt[at][et].tween.set(Pe,Ue)}))}ar.attr=function(ce,Pe){if(arguments.length<2){for(Pe in ce)this.attr(Pe,ce[Pe]);return this}var Ue=ce=="transform"?Fl:Qs,$e=n.ns.qualify(ce);function et(){this.removeAttribute($e)}function at(){this.removeAttributeNS($e.space,$e.local)}function Pt(Vt){return Vt==null?et:(Vt+="",function(){var tr=this.getAttribute($e),rr;return tr!==Vt&&(rr=Ue(tr,Vt),function(Rr){this.setAttribute($e,rr(Rr))})})}function ct(Vt){return Vt==null?at:(Vt+="",function(){var tr=this.getAttributeNS($e.space,$e.local),rr;return tr!==Vt&&(rr=Ue(tr,Vt),function(Rr){this.setAttributeNS($e.space,$e.local,rr(Rr))})})}return Qr(this,"attr."+ce,Pe,$e.local?ct:Pt)},ar.attrTween=function(ce,Pe){var Ue=n.ns.qualify(ce);function $e(at,Pt){var ct=Pe.call(this,at,Pt,this.getAttribute(Ue));return ct&&function(Vt){this.setAttribute(Ue,ct(Vt))}}function et(at,Pt){var ct=Pe.call(this,at,Pt,this.getAttributeNS(Ue.space,Ue.local));return ct&&function(Vt){this.setAttributeNS(Ue.space,Ue.local,ct(Vt))}}return this.tween("attr."+ce,Ue.local?et:$e)},ar.style=function(ce,Pe,Ue){var $e=arguments.length;if($e<3){if(typeof ce!="string"){$e<2&&(Pe="");for(Ue in ce)this.style(Ue,ce[Ue],Pe);return this}Ue=""}function et(){this.style.removeProperty(ce)}function at(Pt){return Pt==null?et:(Pt+="",function(){var ct=t(this).getComputedStyle(this,null).getPropertyValue(ce),Vt;return ct!==Pt&&(Vt=Qs(ct,Pt),function(tr){this.style.setProperty(ce,Vt(tr),Ue)})})}return Qr(this,"style."+ce,Pe,at)},ar.styleTween=function(ce,Pe,Ue){arguments.length<3&&(Ue="");function $e(et,at){var Pt=Pe.call(this,et,at,t(this).getComputedStyle(this,null).getPropertyValue(ce));return Pt&&function(ct){this.style.setProperty(ce,Pt(ct),Ue)}}return this.tween("style."+ce,$e)},ar.text=function(ce){return Qr(this,"text",ce,bn)};function bn(ce){return ce==null&&(ce=""),function(){this.textContent=ce}}ar.remove=function(){var ce=this.namespace;return this.each("end.transition",function(){var Pe;this[ce].count<2&&(Pe=this.parentNode)&&Pe.removeChild(this)})},ar.ease=function(ce){var Pe=this.id,Ue=this.namespace;return arguments.length<1?this.node()[Ue][Pe].ease:(typeof ce!="function"&&(ce=n.ease.apply(n,arguments)),Qe(this,function($e){$e[Ue][Pe].ease=ce}))},ar.delay=function(ce){var Pe=this.id,Ue=this.namespace;return arguments.length<1?this.node()[Ue][Pe].delay:Qe(this,typeof ce=="function"?function($e,et,at){$e[Ue][Pe].delay=+ce.call($e,$e.__data__,et,at)}:(ce=+ce,function($e){$e[Ue][Pe].delay=ce}))},ar.duration=function(ce){var Pe=this.id,Ue=this.namespace;return arguments.length<1?this.node()[Ue][Pe].duration:Qe(this,typeof ce=="function"?function($e,et,at){$e[Ue][Pe].duration=Math.max(1,ce.call($e,$e.__data__,et,at))}:(ce=Math.max(1,ce),function($e){$e[Ue][Pe].duration=ce}))},ar.each=function(ce,Pe){var Ue=this.id,$e=this.namespace;if(arguments.length<2){var et=Zr,at=Ir;try{Ir=Ue,Qe(this,function(Pt,ct,Vt){Zr=Pt[$e][Ue],ce.call(Pt,Pt.__data__,ct,Vt)})}finally{Zr=et,Ir=at}}else Qe(this,function(Pt){var ct=Pt[$e][Ue];(ct.event||(ct.event=n.dispatch("start","end","interrupt"))).on(ce,Pe)});return this},ar.transition=function(){for(var ce=this.id,Pe=++Mr,Ue=this.namespace,$e=[],et,at,Pt,ct,Vt=0,tr=this.length;Vt<tr;Vt++){$e.push(et=[]);for(var at=this[Vt],rr=0,Rr=at.length;rr<Rr;rr++)(Pt=at[rr])&&(ct=Pt[Ue][ce],Dn(Pt,rr,Ue,Pe,{time:ct.time,ease:ct.ease,delay:ct.delay+ct.duration,duration:ct.duration})),et.push(Pt)}return yr($e,Ue,Pe)};function Tn(ce){return ce==null?"__transition__":"__transition_"+ce+"__"}function Dn(ce,Pe,Ue,$e,et){var at=ce[Ue]||(ce[Ue]={active:0,count:0}),Pt=at[$e],ct,Vt,tr,rr,Rr;function Er(kr){var Hr=Pt.delay;if(Vt.t=Hr+ct,Hr<=kr)return $r(kr-Hr);Vt.c=$r}function $r(kr){var Hr=at.active,jr=at[Hr];jr&&(jr.timer.c=null,jr.timer.t=NaN,--at.count,delete at[Hr],jr.event&&jr.event.interrupt.call(ce,ce.__data__,jr.index));for(var nn in at)if(+nn<$e){var fn=at[nn];fn.timer.c=null,fn.timer.t=NaN,--at.count,delete at[nn]}Vt.c=rn,Sn(function(){return Vt.c&&rn(kr||1)&&(Vt.c=null,Vt.t=NaN),1},0,ct),at.active=$e,Pt.event&&Pt.event.start.call(ce,ce.__data__,Pe),Rr=[],Pt.tween.forEach(function(Kr,Vn){(Vn=Vn.call(ce,ce.__data__,Pe))&&Rr.push(Vn)}),rr=Pt.ease,tr=Pt.duration}function rn(kr){for(var Hr=kr/tr,jr=rr(Hr),nn=Rr.length;nn>0;)Rr[--nn].call(ce,jr);if(Hr>=1)return Pt.event&&Pt.event.end.call(ce,ce.__data__,Pe),--at.count?delete at[$e]:delete ce[Ue],1}Pt||(ct=et.time,Vt=Sn(Er,0,ct),Pt=at[$e]={tween:new P,time:ct,timer:Vt,delay:et.delay,duration:et.duration,ease:et.ease,index:Pe},et=null,++at.count)}n.svg.axis=function(){var ce=n.scale.linear(),Pe=ya,Ue=6,$e=6,et=3,at=[10],Pt=null,ct;function Vt(tr){tr.each(function(){var rr=n.select(this),Rr=this.__chart__||ce,Er=this.__chart__=ce.copy(),$r=Pt??(Er.ticks?Er.ticks.apply(Er,at):Er.domain()),rn=ct??(Er.tickFormat?Er.tickFormat.apply(Er,at):N),kr=rr.selectAll(".tick").data($r,Er),Hr=kr.enter().insert("g",".domain").attr("class","tick").style("opacity",ue),jr=n.transition(kr.exit()).style("opacity",ue).remove(),nn=n.transition(kr.order()).style("opacity",1),fn=Math.max(Ue,0)+et,Kr,Vn=Nu(Er),Yn=rr.selectAll(".domain").data([0]),$n=(Yn.enter().append("path").attr("class","domain"),n.transition(Yn));Hr.append("line"),Hr.append("text");var sa=Hr.select("line"),Sa=nn.select("line"),Aa=kr.select("text").text(rn),Ka=Hr.select("text"),Ia=nn.select("text"),Za=Pe==="top"||Pe==="left"?-1:1,fi,gi,Si,Un;if(Pe==="bottom"||Pe==="top"?(Kr=Ba,fi="x",Si="y",gi="x2",Un="y2",Aa.attr("dy",Za<0?"0em":".71em").style("text-anchor","middle"),$n.attr("d","M"+Vn[0]+","+Za*$e+"V0H"+Vn[1]+"V"+Za*$e)):(Kr=Va,fi="y",Si="x",gi="y2",Un="x2",Aa.attr("dy",".32em").style("text-anchor",Za<0?"end":"start"),$n.attr("d","M"+Za*$e+","+Vn[0]+"H0V"+Vn[1]+"H"+Za*$e)),sa.attr(Un,Za*Ue),Ka.attr(Si,Za*fn),Sa.attr(gi,0).attr(Un,Za*Ue),Ia.attr(fi,0).attr(Si,Za*fn),Er.rangeBand){var Xa=Er,Wa=Xa.rangeBand()/2;Rr=Er=function(ri){return Xa(ri)+Wa}}else Rr.rangeBand?Rr=Er:jr.call(Kr,Er,Rr);Hr.call(Kr,Rr,Er),nn.call(Kr,Er,Er)})}return Vt.scale=function(tr){return arguments.length?(ce=tr,Vt):ce},Vt.orient=function(tr){return arguments.length?(Pe=tr in ka?tr+"":ya,Vt):Pe},Vt.ticks=function(){return arguments.length?(at=y(arguments),Vt):at},Vt.tickValues=function(tr){return arguments.length?(Pt=tr,Vt):Pt},Vt.tickFormat=function(tr){return arguments.length?(ct=tr,Vt):ct},Vt.tickSize=function(tr){var rr=arguments.length;return rr?(Ue=+tr,$e=+arguments[rr-1],Vt):Ue},Vt.innerTickSize=function(tr){return arguments.length?(Ue=+tr,Vt):Ue},Vt.outerTickSize=function(tr){return arguments.length?($e=+tr,Vt):$e},Vt.tickPadding=function(tr){return arguments.length?(et=+tr,Vt):et},Vt.tickSubdivide=function(){return arguments.length&&Vt},Vt};var ya="bottom",ka={top:1,right:1,bottom:1,left:1};function Ba(ce,Pe,Ue){ce.attr("transform",function($e){var et=Pe($e);return"translate("+(isFinite(et)?et:Ue($e))+",0)"})}function Va(ce,Pe,Ue){ce.attr("transform",function($e){var et=Pe($e);return"translate(0,"+(isFinite(et)?et:Ue($e))+")"})}n.svg.brush=function(){var ce=K(rr,"brushstart","brush","brushend"),Pe=null,Ue=null,$e=[0,0],et=[0,0],at,Pt,ct=!0,Vt=!0,tr=bi[0];function rr(kr){kr.each(function(){var Hr=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",rn).on("touchstart.brush",rn),jr=Hr.selectAll(".background").data([0]);jr.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Hr.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var nn=Hr.selectAll(".resize").data(tr,N);nn.exit().remove(),nn.enter().append("g").attr("class",function(Yn){return"resize "+Yn}).style("cursor",function(Yn){return Ga[Yn]}).append("rect").attr("x",function(Yn){return/[ew]$/.test(Yn)?-3:null}).attr("y",function(Yn){return/^[ns]/.test(Yn)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),nn.style("display",rr.empty()?"none":null);var fn=n.transition(Hr),Kr=n.transition(jr),Vn;Pe&&(Vn=Nu(Pe),Kr.attr("x",Vn[0]).attr("width",Vn[1]-Vn[0]),Er(fn)),Ue&&(Vn=Nu(Ue),Kr.attr("y",Vn[0]).attr("height",Vn[1]-Vn[0]),$r(fn)),Rr(fn)})}rr.event=function(kr){kr.each(function(){var Hr=ce.of(this,arguments),jr={x:$e,y:et,i:at,j:Pt},nn=this.__chart__||jr;this.__chart__=jr,Ir?n.select(this).transition().each("start.brush",function(){at=nn.i,Pt=nn.j,$e=nn.x,et=nn.y,Hr({type:"brushstart"})}).tween("brush:brush",function(){var fn=Ao($e,jr.x),Kr=Ao(et,jr.y);return at=Pt=null,function(Vn){$e=jr.x=fn(Vn),et=jr.y=Kr(Vn),Hr({type:"brush",mode:"resize"})}}).each("end.brush",function(){at=jr.i,Pt=jr.j,Hr({type:"brush",mode:"resize"}),Hr({type:"brushend"})}):(Hr({type:"brushstart"}),Hr({type:"brush",mode:"resize"}),Hr({type:"brushend"}))})};function Rr(kr){kr.selectAll(".resize").attr("transform",function(Hr){return"translate("+$e[+/e$/.test(Hr)]+","+et[+/^s/.test(Hr)]+")"})}function Er(kr){kr.select(".extent").attr("x",$e[0]),kr.selectAll(".extent,.n>rect,.s>rect").attr("width",$e[1]-$e[0])}function $r(kr){kr.select(".extent").attr("y",et[0]),kr.selectAll(".extent,.e>rect,.w>rect").attr("height",et[1]-et[0])}function rn(){var kr=this,Hr=n.select(n.event.target),jr=ce.of(kr,arguments),nn=n.select(kr),fn=Hr.datum(),Kr=!/^(n|s)$/.test(fn)&&Pe,Vn=!/^(e|w)$/.test(fn)&&Ue,Yn=Hr.classed("extent"),$n=Fe(kr),sa,Sa=n.mouse(kr),Aa,Ka=n.select(t(kr)).on("keydown.brush",fi).on("keyup.brush",gi);if(n.event.changedTouches?Ka.on("touchmove.brush",Si).on("touchend.brush",Xa):Ka.on("mousemove.brush",Si).on("mouseup.brush",Xa),nn.interrupt().selectAll("*").interrupt(),Yn)Sa[0]=$e[0]-Sa[0],Sa[1]=et[0]-Sa[1];else if(fn){var Ia=+/w$/.test(fn),Za=+/^n/.test(fn);Aa=[$e[1-Ia]-Sa[0],et[1-Za]-Sa[1]],Sa[0]=$e[Ia],Sa[1]=et[Za]}else n.event.altKey&&(sa=Sa.slice());nn.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",Hr.style("cursor")),jr({type:"brushstart"}),Si();function fi(){n.event.keyCode==32&&(Yn||(sa=null,Sa[0]-=$e[1],Sa[1]-=et[1],Yn=2),te())}function gi(){n.event.keyCode==32&&Yn==2&&(Sa[0]+=$e[1],Sa[1]+=et[1],Yn=0,te())}function Si(){var Wa=n.mouse(kr),ri=!1;Aa&&(Wa[0]+=Aa[0],Wa[1]+=Aa[1]),Yn||(n.event.altKey?(sa||(sa=[($e[0]+$e[1])/2,(et[0]+et[1])/2]),Sa[0]=$e[+(Wa[0]<sa[0])],Sa[1]=et[+(Wa[1]<sa[1])]):sa=null),Kr&&Un(Wa,Pe,0)&&(Er(nn),ri=!0),Vn&&Un(Wa,Ue,1)&&($r(nn),ri=!0),ri&&(Rr(nn),jr({type:"brush",mode:Yn?"move":"resize"}))}function Un(Wa,ri,Vi){var eo=Nu(ri),oo=eo[0],Fi=eo[1],Ci=Sa[Vi],ba=Vi?et:$e,La=ba[1]-ba[0],zi,no;if(Yn&&(oo-=Ci,Fi-=La+Ci),zi=(Vi?Vt:ct)?Math.max(oo,Math.min(Fi,Wa[Vi])):Wa[Vi],Yn?no=(zi+=Ci)+La:(sa&&(Ci=Math.max(oo,Math.min(Fi,2*sa[Vi]-zi))),Ci<zi?(no=zi,zi=Ci):no=Ci),ba[0]!=zi||ba[1]!=no)return Vi?Pt=null:at=null,ba[0]=zi,ba[1]=no,!0}function Xa(){Si(),nn.style("pointer-events","all").selectAll(".resize").style("display",rr.empty()?"none":null),n.select("body").style("cursor",null),Ka.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),$n(),jr({type:"brushend"})}}return rr.x=function(kr){return arguments.length?(Pe=kr,tr=bi[!Pe<<1|!Ue],rr):Pe},rr.y=function(kr){return arguments.length?(Ue=kr,tr=bi[!Pe<<1|!Ue],rr):Ue},rr.clamp=function(kr){return arguments.length?(Pe&&Ue?(ct=!!kr[0],Vt=!!kr[1]):Pe?ct=!!kr:Ue&&(Vt=!!kr),rr):Pe&&Ue?[ct,Vt]:Pe?ct:Ue?Vt:null},rr.extent=function(kr){var Hr,jr,nn,fn,Kr;return arguments.length?(Pe&&(Hr=kr[0],jr=kr[1],Ue&&(Hr=Hr[0],jr=jr[0]),at=[Hr,jr],Pe.invert&&(Hr=Pe(Hr),jr=Pe(jr)),jr<Hr&&(Kr=Hr,Hr=jr,jr=Kr),(Hr!=$e[0]||jr!=$e[1])&&($e=[Hr,jr])),Ue&&(nn=kr[0],fn=kr[1],Pe&&(nn=nn[1],fn=fn[1]),Pt=[nn,fn],Ue.invert&&(nn=Ue(nn),fn=Ue(fn)),fn<nn&&(Kr=nn,nn=fn,fn=Kr),(nn!=et[0]||fn!=et[1])&&(et=[nn,fn])),rr):(Pe&&(at?(Hr=at[0],jr=at[1]):(Hr=$e[0],jr=$e[1],Pe.invert&&(Hr=Pe.invert(Hr),jr=Pe.invert(jr)),jr<Hr&&(Kr=Hr,Hr=jr,jr=Kr))),Ue&&(Pt?(nn=Pt[0],fn=Pt[1]):(nn=et[0],fn=et[1],Ue.invert&&(nn=Ue.invert(nn),fn=Ue.invert(fn)),fn<nn&&(Kr=nn,nn=fn,fn=Kr))),Pe&&Ue?[[Hr,nn],[jr,fn]]:Pe?[Hr,jr]:Ue&&[nn,fn])},rr.clear=function(){return rr.empty()||($e=[0,0],et=[0,0],at=Pt=null),rr},rr.empty=function(){return!!Pe&&$e[0]==$e[1]||!!Ue&&et[0]==et[1]},n.rebind(rr,ce,"on")};var Ga={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},bi=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];n.text=_n(function(ce){return ce.responseText}),n.json=function(ce,Pe){return kn(ce,"application/json",ji,Pe)};function ji(ce){return JSON.parse(ce.responseText)}n.html=function(ce,Pe){return kn(ce,"text/html",Pi,Pe)};function Pi(ce){var Pe=h.createRange();return Pe.selectNode(h.body),Pe.createContextualFragment(ce.responseText)}n.xml=_n(function(ce){return ce.responseXML}),p=n,L=typeof p=="function"?p.call(B,e,B,V):p,L!==void 0&&(V.exports=L)}).apply(self)},88294:function(V,B,e){V.exports=e(62849)},62849:function(V,B,e){var p=e(91358),L=e(53435),n=e(18863),C=e(21527),y=e(71299),h=e(46775),g=e(30120),t=e(64941),r=e(90660),l=e(27084),a=1073741824;V.exports=function(u,b){b||(b={}),u=g(u,"float64"),b=y(b,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var f=h(b.maxDepth,255),w=h(b.bounds,C(u,2));w[0]===w[2]&&w[2]++,w[1]===w[3]&&w[3]++;var v=s(u,w),o=u.length>>>1,d;b.dtype||(b.dtype="array"),typeof b.dtype=="string"?d=new(r(b.dtype))(o):b.dtype&&(d=b.dtype,Array.isArray(d)&&(d.length=o));for(var S=0;S<o;++S)d[S]=S;var M=[],P=[],x=[],E=[];H(0,0,1,d,0,1);for(var T=0,i=0;i<M.length;i++){var R=M[i];if(d.set)d.set(R,T);else for(var A=0,k=R.length;A<k;A++)d[A+T]=R[A];var _=T+M[i].length;E[i]=[T,_],T=_}return d.range=z,d;function H(F,U,Z,q,J,te){if(!q.length)return null;var fe=M[J]||(M[J]=[]),K=x[J]||(x[J]=[]),Y=P[J]||(P[J]=[]),W=fe.length;if(J++,J>f||te>a){for(var X=0;X<q.length;X++)fe.push(q[X]),K.push(te),Y.push(null,null,null,null);return W}if(fe.push(q[0]),K.push(te),q.length<=1)return Y.push(null,null,null,null),W;for(var re=Z*.5,se=F+re,Q=U+re,ee=[],le=[],oe=[],he=[],xe=1,Ae=q.length;xe<Ae;xe++){var Se=q[xe],Oe=v[Se*2],Ve=v[Se*2+1];Oe<se?Ve<Q?ee.push(Se):le.push(Se):Ve<Q?oe.push(Se):he.push(Se)}return te<<=2,Y.push(H(F,U,re,ee,J,te),H(F,Q,re,le,J,te+1),H(se,U,re,oe,J,te+2),H(se,Q,re,he,J,te+3)),W}function z(){for(var F=[],U=arguments.length;U--;)F[U]=arguments[U];var Z;if(t(F[F.length-1])){var q=F.pop();!F.length&&(q.x!=null||q.l!=null||q.left!=null)&&(F=[q],Z={}),Z=y(q,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else Z={};F.length||(F=w);var J=n.apply(void 0,F),te=[Math.min(J.x,J.x+J.width),Math.min(J.y,J.y+J.height),Math.max(J.x,J.x+J.width),Math.max(J.y,J.y+J.height)],fe=te[0],K=te[1],Y=te[2],W=te[3],X=s([fe,K,Y,W],w),re=X[0],se=X[1],Q=X[2],ee=X[3],le=h(Z.level,M.length);if(Z.d!=null){var oe;typeof Z.d=="number"?oe=[Z.d,Z.d]:Z.d.length&&(oe=Z.d),le=Math.min(Math.max(Math.ceil(-l(Math.abs(oe[0])/(w[2]-w[0]))),Math.ceil(-l(Math.abs(oe[1])/(w[3]-w[1])))),le)}if(le=Math.min(le,M.length),Z.lod)return N(re,se,Q,ee,le);var he=[];xe(0,0,1,0,0,1);function xe(Se,Oe,Ve,Ee,Te,Le){if(!(Te===null||Le===null)){var Ge=Se+Ve,He=Oe+Ve;if(!(re>Ge||se>He||Q<Se||ee<Oe)&&!(Ee>=le)&&Te!==Le){var ke=M[Ee];Le===void 0&&(Le=ke.length);for(var We=Te;We<Le;We++){var nt=ke[We],qe=u[nt*2],Qe=u[nt*2+1];qe>=fe&&qe<=Y&&Qe>=K&&Qe<=W&&he.push(nt)}var tt=P[Ee],vt=tt[Te*4+0],dt=tt[Te*4+1],gt=tt[Te*4+2],Mt=tt[Te*4+3],Rt=Ae(tt,Te+1),Wt=Ve*.5,je=Ee+1;xe(Se,Oe,Wt,je,vt,dt||gt||Mt||Rt),xe(Se,Oe+Wt,Wt,je,dt,gt||Mt||Rt),xe(Se+Wt,Oe,Wt,je,gt,Mt||Rt),xe(Se+Wt,Oe+Wt,Wt,je,Mt,Rt)}}}function Ae(Se,Oe){for(var Ve=null,Ee=0;Ve===null;)if(Ve=Se[Oe*4+Ee],Ee++,Ee>Se.length)return null;return Ve}return he}function N(F,U,Z,q,J){for(var te=[],fe=0;fe<J;fe++){var K=x[fe],Y=E[fe][0],W=O(F,U,fe),X=O(Z,q,fe),re=p.ge(K,W),se=p.gt(K,X,re,K.length-1);te[fe]=[re+Y,se+Y]}return te}function O(F,U,Z){for(var q=1,J=.5,te=.5,fe=.5,K=0;K<Z;K++)q<<=2,q+=F<J?U<te?0:1:U<te?2:3,fe*=.5,J+=F<J?-fe:fe,te+=U<te?-fe:fe;return q}};function s(c,u){for(var b=u[0],f=u[1],w=u[2],v=u[3],o=1/(w-b),d=1/(v-f),S=new Array(c.length),M=0,P=c.length/2;M<P;M++)S[2*M]=L((c[2*M]-b)*o,0,1),S[2*M+1]=L((c[2*M+1]-f)*d,0,1);return S}},30774:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(60302),L=6378137;function n(t){return p.geomReduce(t,function(r,l){return r+C(l)},0)}B.default=n;function C(t){var r=0,l;switch(t.type){case"Polygon":return y(t.coordinates);case"MultiPolygon":for(l=0;l<t.coordinates.length;l++)r+=y(t.coordinates[l]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function y(t){var r=0;if(t&&t.length>0){r+=Math.abs(h(t[0]));for(var l=1;l<t.length;l++)r-=Math.abs(h(t[l]))}return r}function h(t){var r,l,a,s,c,u,b,f=0,w=t.length;if(w>2){for(b=0;b<w;b++)b===w-2?(s=w-2,c=w-1,u=0):b===w-1?(s=w-1,c=0,u=1):(s=b,c=b+1,u=b+2),r=t[s],l=t[c],a=t[u],f+=(g(a[0])-g(r[0]))*Math.sin(g(l[1]));f=f*L*L/2}return f}function g(t){return t*Math.PI/180}},23132:function(V,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius*1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(T,i,R){R===void 0&&(R={});var A={type:"Feature"};return(R.id===0||R.id)&&(A.id=R.id),R.bbox&&(A.bbox=R.bbox),A.properties=i||{},A.geometry=T,A}B.feature=e;function p(T,i,R){switch(T){case"Point":return L(i).geometry;case"LineString":return h(i).geometry;case"Polygon":return C(i).geometry;case"MultiPoint":return l(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return a(i).geometry;default:throw new Error(T+" is invalid")}}B.geometry=p;function L(T,i,R){if(R===void 0&&(R={}),!T)throw new Error("coordinates is required");if(!Array.isArray(T))throw new Error("coordinates must be an Array");if(T.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(T[0])||!M(T[1]))throw new Error("coordinates must contain numbers");var A={type:"Point",coordinates:T};return e(A,i,R)}B.point=L;function n(T,i,R){return R===void 0&&(R={}),t(T.map(function(A){return L(A,i)}),R)}B.points=n;function C(T,i,R){R===void 0&&(R={});for(var A=0,k=T;A<k.length;A++){var _=k[A];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var H=0;H<_[_.length-1].length;H++)if(_[_.length-1][H]!==_[0][H])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:T};return e(z,i,R)}B.polygon=C;function y(T,i,R){return R===void 0&&(R={}),t(T.map(function(A){return C(A,i)}),R)}B.polygons=y;function h(T,i,R){if(R===void 0&&(R={}),T.length<2)throw new Error("coordinates must be an array of two or more positions");var A={type:"LineString",coordinates:T};return e(A,i,R)}B.lineString=h;function g(T,i,R){return R===void 0&&(R={}),t(T.map(function(A){return h(A,i)}),R)}B.lineStrings=g;function t(T,i){i===void 0&&(i={});var R={type:"FeatureCollection"};return i.id&&(R.id=i.id),i.bbox&&(R.bbox=i.bbox),R.features=T,R}B.featureCollection=t;function r(T,i,R){R===void 0&&(R={});var A={type:"MultiLineString",coordinates:T};return e(A,i,R)}B.multiLineString=r;function l(T,i,R){R===void 0&&(R={});var A={type:"MultiPoint",coordinates:T};return e(A,i,R)}B.multiPoint=l;function a(T,i,R){R===void 0&&(R={});var A={type:"MultiPolygon",coordinates:T};return e(A,i,R)}B.multiPolygon=a;function s(T,i,R){R===void 0&&(R={});var A={type:"GeometryCollection",geometries:T};return e(A,i,R)}B.geometryCollection=s;function c(T,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,i||0);return Math.round(T*R)/R}B.round=c;function u(T,i){i===void 0&&(i="kilometers");var R=B.factors[i];if(!R)throw new Error(i+" units is invalid");return T*R}B.radiansToLength=u;function b(T,i){i===void 0&&(i="kilometers");var R=B.factors[i];if(!R)throw new Error(i+" units is invalid");return T/R}B.lengthToRadians=b;function f(T,i){return v(b(T,i))}B.lengthToDegrees=f;function w(T){var i=T%360;return i<0&&(i+=360),i}B.bearingToAzimuth=w;function v(T){var i=T%(2*Math.PI);return i*180/Math.PI}B.radiansToDegrees=v;function o(T){var i=T%360;return i*Math.PI/180}B.degreesToRadians=o;function d(T,i,R){if(i===void 0&&(i="kilometers"),R===void 0&&(R="kilometers"),!(T>=0))throw new Error("length must be a positive number");return u(b(T,i),R)}B.convertLength=d;function S(T,i,R){if(i===void 0&&(i="meters"),R===void 0&&(R="kilometers"),!(T>=0))throw new Error("area must be a positive number");var A=B.areaFactors[i];if(!A)throw new Error("invalid original units");var k=B.areaFactors[R];if(!k)throw new Error("invalid final units");return T/A*k}B.convertArea=S;function M(T){return!isNaN(T)&&T!==null&&!Array.isArray(T)}B.isNumber=M;function P(T){return!!T&&T.constructor===Object}B.isObject=P;function x(T){if(!T)throw new Error("bbox is required");if(!Array.isArray(T))throw new Error("bbox must be an Array");if(T.length!==4&&T.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");T.forEach(function(i){if(!M(i))throw new Error("bbox must only contain numbers")})}B.validateBBox=x;function E(T){if(!T)throw new Error("id is required");if(["string","number"].indexOf(typeof T)===-1)throw new Error("id must be a number or a string")}B.validateId=E},60302:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(23132);function L(o,d,S){if(o!==null)for(var M,P,x,E,T,i,R,A=0,k=0,_,H=o.type,z=H==="FeatureCollection",N=H==="Feature",O=z?o.features.length:1,F=0;F<O;F++){R=z?o.features[F].geometry:N?o.geometry:o,_=R?R.type==="GeometryCollection":!1,T=_?R.geometries.length:1;for(var U=0;U<T;U++){var Z=0,q=0;if(E=_?R.geometries[U]:R,E!==null){i=E.coordinates;var J=E.type;switch(A=S&&(J==="Polygon"||J==="MultiPolygon")?1:0,J){case null:break;case"Point":if(d(i,k,F,Z,q)===!1)return!1;k++,Z++;break;case"LineString":case"MultiPoint":for(M=0;M<i.length;M++){if(d(i[M],k,F,Z,q)===!1)return!1;k++,J==="MultiPoint"&&Z++}J==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(M=0;M<i.length;M++){for(P=0;P<i[M].length-A;P++){if(d(i[M][P],k,F,Z,q)===!1)return!1;k++}J==="MultiLineString"&&Z++,J==="Polygon"&&q++}J==="Polygon"&&Z++;break;case"MultiPolygon":for(M=0;M<i.length;M++){for(q=0,P=0;P<i[M].length;P++){for(x=0;x<i[M][P].length-A;x++){if(d(i[M][P][x],k,F,Z,q)===!1)return!1;k++}q++}Z++}break;case"GeometryCollection":for(M=0;M<E.geometries.length;M++)if(L(E.geometries[M],d,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,d,S,M){var P=S;return L(o,function(x,E,T,i,R){E===0&&S===void 0?P=x:P=d(P,x,E,T,i,R)},M),P}function C(o,d){var S;switch(o.type){case"FeatureCollection":for(S=0;S<o.features.length&&d(o.features[S].properties,S)!==!1;S++);break;case"Feature":d(o.properties,0);break}}function y(o,d,S){var M=S;return C(o,function(P,x){x===0&&S===void 0?M=P:M=d(M,P,x)}),M}function h(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var S=0;S<o.features.length&&d(o.features[S],S)!==!1;S++);}function g(o,d,S){var M=S;return h(o,function(P,x){x===0&&S===void 0?M=P:M=d(M,P,x)}),M}function t(o){var d=[];return L(o,function(S){d.push(S)}),d}function r(o,d){var S,M,P,x,E,T,i,R,A,k,_=0,H=o.type==="FeatureCollection",z=o.type==="Feature",N=H?o.features.length:1;for(S=0;S<N;S++){for(T=H?o.features[S].geometry:z?o.geometry:o,R=H?o.features[S].properties:z?o.properties:{},A=H?o.features[S].bbox:z?o.bbox:void 0,k=H?o.features[S].id:z?o.id:void 0,i=T?T.type==="GeometryCollection":!1,E=i?T.geometries.length:1,P=0;P<E;P++){if(x=i?T.geometries[P]:T,x===null){if(d(null,_,R,A,k)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,_,R,A,k)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<x.geometries.length;M++)if(d(x.geometries[M],_,R,A,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function l(o,d,S){var M=S;return r(o,function(P,x,E,T,i){x===0&&S===void 0?M=P:M=d(M,P,x,E,T,i)}),M}function a(o,d){r(o,function(S,M,P,x,E){var T=S===null?null:S.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(S,P,{bbox:x,id:E}),M,0)===!1?!1:void 0}var i;switch(T){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var R=0;R<S.coordinates.length;R++){var A=S.coordinates[R],k={type:i,coordinates:A};if(d(p.feature(k,P),M,R)===!1)return!1}})}function s(o,d,S){var M=S;return a(o,function(P,x,E){x===0&&E===0&&S===void 0?M=P:M=d(M,P,x,E)}),M}function c(o,d){a(o,function(S,M,P){var x=0;if(S.geometry){var E=S.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var T,i=0,R=0,A=0;if(L(S,function(k,_,H,z,N){if(T===void 0||M>i||z>R||N>A){T=k,i=M,R=z,A=N,x=0;return}var O=p.lineString([T,k],S.properties);if(d(O,M,P,N,x)===!1)return!1;x++,T=k})===!1)return!1}}})}function u(o,d,S){var M=S,P=!1;return c(o,function(x,E,T,i,R){P===!1&&S===void 0?M=x:M=d(M,x,E,T,i,R),P=!0}),M}function b(o,d){if(!o)throw new Error("geojson is required");a(o,function(S,M,P){if(S.geometry!==null){var x=S.geometry.type,E=S.geometry.coordinates;switch(x){case"LineString":if(d(S,M,P,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<E.length;T++)if(d(p.lineString(E[T],S.properties),M,P,T)===!1)return!1;break}}})}function f(o,d,S){var M=S;return b(o,function(P,x,E,T){x===0&&S===void 0?M=P:M=d(M,P,x,E,T)}),M}function w(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.segmentIndex||0,E=d.properties,T;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),E=E||o.features[S].properties,T=o.features[S].geometry;break;case"Feature":E=E||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),p.lineString([i[x],i[x+1]],E,d);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x-1),p.lineString([i[P][x],i[P][x+1]],E,d);case"MultiLineString":return M<0&&(M=i.length+M),x<0&&(x=i[M].length+x-1),p.lineString([i[M][x],i[M][x+1]],E,d);case"MultiPolygon":return M<0&&(M=i.length+M),P<0&&(P=i[M].length+P),x<0&&(x=i[M][P].length-x-1),p.lineString([i[M][P][x],i[M][P][x+1]],E,d)}throw new Error("geojson is invalid")}function v(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.coordIndex||0,E=d.properties,T;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),E=E||o.features[S].properties,T=o.features[S].geometry;break;case"Feature":E=E||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":return p.point(i,E,d);case"MultiPoint":return M<0&&(M=i.length+M),p.point(i[M],E,d);case"LineString":return x<0&&(x=i.length+x),p.point(i[x],E,d);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x),p.point(i[P][x],E,d);case"MultiLineString":return M<0&&(M=i.length+M),x<0&&(x=i[M].length+x),p.point(i[M][x],E,d);case"MultiPolygon":return M<0&&(M=i.length+M),P<0&&(P=i[M].length+P),x<0&&(x=i[M][P].length-x),p.point(i[M][P][x],E,d)}throw new Error("geojson is invalid")}B.coordEach=L,B.coordReduce=n,B.propEach=C,B.propReduce=y,B.featureEach=h,B.featureReduce=g,B.coordAll=t,B.geomEach=r,B.geomReduce=l,B.flattenEach=a,B.flattenReduce=s,B.segmentEach=c,B.segmentReduce=u,B.lineEach=b,B.lineReduce=f,B.findSegment=w,B.findPoint=v},85268:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(27138);function L(n){var C=[1/0,1/0,-1/0,-1/0];return p.coordEach(n,function(y){C[0]>y[0]&&(C[0]=y[0]),C[1]>y[1]&&(C[1]=y[1]),C[2]<y[0]&&(C[2]=y[0]),C[3]<y[1]&&(C[3]=y[1])}),C}L.default=L,B.default=L},94228:function(V,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius*1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:1.0936133},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(T,i,R){R===void 0&&(R={});var A={type:"Feature"};return(R.id===0||R.id)&&(A.id=R.id),R.bbox&&(A.bbox=R.bbox),A.properties=i||{},A.geometry=T,A}B.feature=e;function p(T,i,R){switch(T){case"Point":return L(i).geometry;case"LineString":return h(i).geometry;case"Polygon":return C(i).geometry;case"MultiPoint":return l(i).geometry;case"MultiLineString":return r(i).geometry;case"MultiPolygon":return a(i).geometry;default:throw new Error(T+" is invalid")}}B.geometry=p;function L(T,i,R){if(R===void 0&&(R={}),!T)throw new Error("coordinates is required");if(!Array.isArray(T))throw new Error("coordinates must be an Array");if(T.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!M(T[0])||!M(T[1]))throw new Error("coordinates must contain numbers");var A={type:"Point",coordinates:T};return e(A,i,R)}B.point=L;function n(T,i,R){return R===void 0&&(R={}),t(T.map(function(A){return L(A,i)}),R)}B.points=n;function C(T,i,R){R===void 0&&(R={});for(var A=0,k=T;A<k.length;A++){var _=k[A];if(_.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var H=0;H<_[_.length-1].length;H++)if(_[_.length-1][H]!==_[0][H])throw new Error("First and last Position are not equivalent.")}var z={type:"Polygon",coordinates:T};return e(z,i,R)}B.polygon=C;function y(T,i,R){return R===void 0&&(R={}),t(T.map(function(A){return C(A,i)}),R)}B.polygons=y;function h(T,i,R){if(R===void 0&&(R={}),T.length<2)throw new Error("coordinates must be an array of two or more positions");var A={type:"LineString",coordinates:T};return e(A,i,R)}B.lineString=h;function g(T,i,R){return R===void 0&&(R={}),t(T.map(function(A){return h(A,i)}),R)}B.lineStrings=g;function t(T,i){i===void 0&&(i={});var R={type:"FeatureCollection"};return i.id&&(R.id=i.id),i.bbox&&(R.bbox=i.bbox),R.features=T,R}B.featureCollection=t;function r(T,i,R){R===void 0&&(R={});var A={type:"MultiLineString",coordinates:T};return e(A,i,R)}B.multiLineString=r;function l(T,i,R){R===void 0&&(R={});var A={type:"MultiPoint",coordinates:T};return e(A,i,R)}B.multiPoint=l;function a(T,i,R){R===void 0&&(R={});var A={type:"MultiPolygon",coordinates:T};return e(A,i,R)}B.multiPolygon=a;function s(T,i,R){R===void 0&&(R={});var A={type:"GeometryCollection",geometries:T};return e(A,i,R)}B.geometryCollection=s;function c(T,i){if(i===void 0&&(i=0),i&&!(i>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,i||0);return Math.round(T*R)/R}B.round=c;function u(T,i){i===void 0&&(i="kilometers");var R=B.factors[i];if(!R)throw new Error(i+" units is invalid");return T*R}B.radiansToLength=u;function b(T,i){i===void 0&&(i="kilometers");var R=B.factors[i];if(!R)throw new Error(i+" units is invalid");return T/R}B.lengthToRadians=b;function f(T,i){return v(b(T,i))}B.lengthToDegrees=f;function w(T){var i=T%360;return i<0&&(i+=360),i}B.bearingToAzimuth=w;function v(T){var i=T%(2*Math.PI);return i*180/Math.PI}B.radiansToDegrees=v;function o(T){var i=T%360;return i*Math.PI/180}B.degreesToRadians=o;function d(T,i,R){if(i===void 0&&(i="kilometers"),R===void 0&&(R="kilometers"),!(T>=0))throw new Error("length must be a positive number");return u(b(T,i),R)}B.convertLength=d;function S(T,i,R){if(i===void 0&&(i="meters"),R===void 0&&(R="kilometers"),!(T>=0))throw new Error("area must be a positive number");var A=B.areaFactors[i];if(!A)throw new Error("invalid original units");var k=B.areaFactors[R];if(!k)throw new Error("invalid final units");return T/A*k}B.convertArea=S;function M(T){return!isNaN(T)&&T!==null&&!Array.isArray(T)}B.isNumber=M;function P(T){return!!T&&T.constructor===Object}B.isObject=P;function x(T){if(!T)throw new Error("bbox is required");if(!Array.isArray(T))throw new Error("bbox must be an Array");if(T.length!==4&&T.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");T.forEach(function(i){if(!M(i))throw new Error("bbox must only contain numbers")})}B.validateBBox=x;function E(T){if(!T)throw new Error("id is required");if(["string","number"].indexOf(typeof T)===-1)throw new Error("id must be a number or a string")}B.validateId=E},27138:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(94228);function L(o,d,S){if(o!==null)for(var M,P,x,E,T,i,R,A=0,k=0,_,H=o.type,z=H==="FeatureCollection",N=H==="Feature",O=z?o.features.length:1,F=0;F<O;F++){R=z?o.features[F].geometry:N?o.geometry:o,_=R?R.type==="GeometryCollection":!1,T=_?R.geometries.length:1;for(var U=0;U<T;U++){var Z=0,q=0;if(E=_?R.geometries[U]:R,E!==null){i=E.coordinates;var J=E.type;switch(A=S&&(J==="Polygon"||J==="MultiPolygon")?1:0,J){case null:break;case"Point":if(d(i,k,F,Z,q)===!1)return!1;k++,Z++;break;case"LineString":case"MultiPoint":for(M=0;M<i.length;M++){if(d(i[M],k,F,Z,q)===!1)return!1;k++,J==="MultiPoint"&&Z++}J==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(M=0;M<i.length;M++){for(P=0;P<i[M].length-A;P++){if(d(i[M][P],k,F,Z,q)===!1)return!1;k++}J==="MultiLineString"&&Z++,J==="Polygon"&&q++}J==="Polygon"&&Z++;break;case"MultiPolygon":for(M=0;M<i.length;M++){for(q=0,P=0;P<i[M].length;P++){for(x=0;x<i[M][P].length-A;x++){if(d(i[M][P][x],k,F,Z,q)===!1)return!1;k++}q++}Z++}break;case"GeometryCollection":for(M=0;M<E.geometries.length;M++)if(L(E.geometries[M],d,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,d,S,M){var P=S;return L(o,function(x,E,T,i,R){E===0&&S===void 0?P=x:P=d(P,x,E,T,i,R)},M),P}function C(o,d){var S;switch(o.type){case"FeatureCollection":for(S=0;S<o.features.length&&d(o.features[S].properties,S)!==!1;S++);break;case"Feature":d(o.properties,0);break}}function y(o,d,S){var M=S;return C(o,function(P,x){x===0&&S===void 0?M=P:M=d(M,P,x)}),M}function h(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var S=0;S<o.features.length&&d(o.features[S],S)!==!1;S++);}function g(o,d,S){var M=S;return h(o,function(P,x){x===0&&S===void 0?M=P:M=d(M,P,x)}),M}function t(o){var d=[];return L(o,function(S){d.push(S)}),d}function r(o,d){var S,M,P,x,E,T,i,R,A,k,_=0,H=o.type==="FeatureCollection",z=o.type==="Feature",N=H?o.features.length:1;for(S=0;S<N;S++){for(T=H?o.features[S].geometry:z?o.geometry:o,R=H?o.features[S].properties:z?o.properties:{},A=H?o.features[S].bbox:z?o.bbox:void 0,k=H?o.features[S].id:z?o.id:void 0,i=T?T.type==="GeometryCollection":!1,E=i?T.geometries.length:1,P=0;P<E;P++){if(x=i?T.geometries[P]:T,x===null){if(d(null,_,R,A,k)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,_,R,A,k)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<x.geometries.length;M++)if(d(x.geometries[M],_,R,A,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function l(o,d,S){var M=S;return r(o,function(P,x,E,T,i){x===0&&S===void 0?M=P:M=d(M,P,x,E,T,i)}),M}function a(o,d){r(o,function(S,M,P,x,E){var T=S===null?null:S.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(S,P,{bbox:x,id:E}),M,0)===!1?!1:void 0}var i;switch(T){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var R=0;R<S.coordinates.length;R++){var A=S.coordinates[R],k={type:i,coordinates:A};if(d(p.feature(k,P),M,R)===!1)return!1}})}function s(o,d,S){var M=S;return a(o,function(P,x,E){x===0&&E===0&&S===void 0?M=P:M=d(M,P,x,E)}),M}function c(o,d){a(o,function(S,M,P){var x=0;if(S.geometry){var E=S.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var T,i=0,R=0,A=0;if(L(S,function(k,_,H,z,N){if(T===void 0||M>i||z>R||N>A){T=k,i=M,R=z,A=N,x=0;return}var O=p.lineString([T,k],S.properties);if(d(O,M,P,N,x)===!1)return!1;x++,T=k})===!1)return!1}}})}function u(o,d,S){var M=S,P=!1;return c(o,function(x,E,T,i,R){P===!1&&S===void 0?M=x:M=d(M,x,E,T,i,R),P=!0}),M}function b(o,d){if(!o)throw new Error("geojson is required");a(o,function(S,M,P){if(S.geometry!==null){var x=S.geometry.type,E=S.geometry.coordinates;switch(x){case"LineString":if(d(S,M,P,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<E.length;T++)if(d(p.lineString(E[T],S.properties),M,P,T)===!1)return!1;break}}})}function f(o,d,S){var M=S;return b(o,function(P,x,E,T){x===0&&S===void 0?M=P:M=d(M,P,x,E,T)}),M}function w(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.segmentIndex||0,E=d.properties,T;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),E=E||o.features[S].properties,T=o.features[S].geometry;break;case"Feature":E=E||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),p.lineString([i[x],i[x+1]],E,d);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x-1),p.lineString([i[P][x],i[P][x+1]],E,d);case"MultiLineString":return M<0&&(M=i.length+M),x<0&&(x=i[M].length+x-1),p.lineString([i[M][x],i[M][x+1]],E,d);case"MultiPolygon":return M<0&&(M=i.length+M),P<0&&(P=i[M].length+P),x<0&&(x=i[M][P].length-x-1),p.lineString([i[M][P][x],i[M][P][x+1]],E,d)}throw new Error("geojson is invalid")}function v(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.coordIndex||0,E=d.properties,T;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),E=E||o.features[S].properties,T=o.features[S].geometry;break;case"Feature":E=E||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":return p.point(i,E,d);case"MultiPoint":return M<0&&(M=i.length+M),p.point(i[M],E,d);case"LineString":return x<0&&(x=i.length+x),p.point(i[x],E,d);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x),p.point(i[P][x],E,d);case"MultiLineString":return M<0&&(M=i.length+M),x<0&&(x=i[M].length+x),p.point(i[M][x],E,d);case"MultiPolygon":return M<0&&(M=i.length+M),P<0&&(P=i[M].length+P),x<0&&(x=i[M][P].length-x),p.point(i[M][P][x],E,d)}throw new Error("geojson is invalid")}B.coordEach=L,B.coordReduce=n,B.propEach=C,B.propReduce=y,B.featureEach=h,B.featureReduce=g,B.coordAll=t,B.geomEach=r,B.geomReduce=l,B.flattenEach=a,B.flattenReduce=s,B.segmentEach=c,B.segmentReduce=u,B.lineEach=b,B.lineReduce=f,B.findSegment=w,B.findPoint=v},29261:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(88553),L=e(64182);function n(C,y){y===void 0&&(y={});var h=0,g=0,t=0;return p.coordEach(C,function(r){h+=r[0],g+=r[1],t++}),L.point([h/t,g/t],y.properties)}B.default=n},64182:function(V,B){Object.defineProperty(B,"__esModule",{value:!0}),B.earthRadius=63710088e-1,B.factors={centimeters:B.earthRadius*100,centimetres:B.earthRadius*100,degrees:B.earthRadius/111325,feet:B.earthRadius*3.28084,inches:B.earthRadius*39.37,kilometers:B.earthRadius/1e3,kilometres:B.earthRadius/1e3,meters:B.earthRadius,metres:B.earthRadius,miles:B.earthRadius/1609.344,millimeters:B.earthRadius*1e3,millimetres:B.earthRadius*1e3,nauticalmiles:B.earthRadius/1852,radians:1,yards:B.earthRadius/1.0936},B.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/B.earthRadius,yards:.91441111923921},B.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function e(z,N,O){O===void 0&&(O={});var F={type:"Feature"};return(O.id===0||O.id)&&(F.id=O.id),O.bbox&&(F.bbox=O.bbox),F.properties=N||{},F.geometry=z,F}B.feature=e;function p(z,N,O){switch(z){case"Point":return L(N).geometry;case"LineString":return h(N).geometry;case"Polygon":return C(N).geometry;case"MultiPoint":return l(N).geometry;case"MultiLineString":return r(N).geometry;case"MultiPolygon":return a(N).geometry;default:throw new Error(z+" is invalid")}}B.geometry=p;function L(z,N,O){O===void 0&&(O={});var F={type:"Point",coordinates:z};return e(F,N,O)}B.point=L;function n(z,N,O){return O===void 0&&(O={}),t(z.map(function(F){return L(F,N)}),O)}B.points=n;function C(z,N,O){O===void 0&&(O={});for(var F=0,U=z;F<U.length;F++){var Z=U[F];if(Z.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var q=0;q<Z[Z.length-1].length;q++)if(Z[Z.length-1][q]!==Z[0][q])throw new Error("First and last Position are not equivalent.")}var J={type:"Polygon",coordinates:z};return e(J,N,O)}B.polygon=C;function y(z,N,O){return O===void 0&&(O={}),t(z.map(function(F){return C(F,N)}),O)}B.polygons=y;function h(z,N,O){if(O===void 0&&(O={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");var F={type:"LineString",coordinates:z};return e(F,N,O)}B.lineString=h;function g(z,N,O){return O===void 0&&(O={}),t(z.map(function(F){return h(F,N)}),O)}B.lineStrings=g;function t(z,N){N===void 0&&(N={});var O={type:"FeatureCollection"};return N.id&&(O.id=N.id),N.bbox&&(O.bbox=N.bbox),O.features=z,O}B.featureCollection=t;function r(z,N,O){O===void 0&&(O={});var F={type:"MultiLineString",coordinates:z};return e(F,N,O)}B.multiLineString=r;function l(z,N,O){O===void 0&&(O={});var F={type:"MultiPoint",coordinates:z};return e(F,N,O)}B.multiPoint=l;function a(z,N,O){O===void 0&&(O={});var F={type:"MultiPolygon",coordinates:z};return e(F,N,O)}B.multiPolygon=a;function s(z,N,O){O===void 0&&(O={});var F={type:"GeometryCollection",geometries:z};return e(F,N,O)}B.geometryCollection=s;function c(z,N){if(N===void 0&&(N=0),N&&!(N>=0))throw new Error("precision must be a positive number");var O=Math.pow(10,N||0);return Math.round(z*O)/O}B.round=c;function u(z,N){N===void 0&&(N="kilometers");var O=B.factors[N];if(!O)throw new Error(N+" units is invalid");return z*O}B.radiansToLength=u;function b(z,N){N===void 0&&(N="kilometers");var O=B.factors[N];if(!O)throw new Error(N+" units is invalid");return z/O}B.lengthToRadians=b;function f(z,N){return v(b(z,N))}B.lengthToDegrees=f;function w(z){var N=z%360;return N<0&&(N+=360),N}B.bearingToAzimuth=w;function v(z){var N=z%(2*Math.PI);return N*180/Math.PI}B.radiansToDegrees=v;function o(z){var N=z%360;return N*Math.PI/180}B.degreesToRadians=o;function d(z,N,O){if(N===void 0&&(N="kilometers"),O===void 0&&(O="kilometers"),!(z>=0))throw new Error("length must be a positive number");return u(b(z,N),O)}B.convertLength=d;function S(z,N,O){if(N===void 0&&(N="meters"),O===void 0&&(O="kilometers"),!(z>=0))throw new Error("area must be a positive number");var F=B.areaFactors[N];if(!F)throw new Error("invalid original units");var U=B.areaFactors[O];if(!U)throw new Error("invalid final units");return z/F*U}B.convertArea=S;function M(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)&&!/^\s*$/.test(z)}B.isNumber=M;function P(z){return!!z&&z.constructor===Object}B.isObject=P;function x(z){if(!z)throw new Error("bbox is required");if(!Array.isArray(z))throw new Error("bbox must be an Array");if(z.length!==4&&z.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");z.forEach(function(N){if(!M(N))throw new Error("bbox must only contain numbers")})}B.validateBBox=x;function E(z){if(!z)throw new Error("id is required");if(["string","number"].indexOf(typeof z)===-1)throw new Error("id must be a number or a string")}B.validateId=E;function T(){throw new Error("method has been renamed to `radiansToDegrees`")}B.radians2degrees=T;function i(){throw new Error("method has been renamed to `degreesToRadians`")}B.degrees2radians=i;function R(){throw new Error("method has been renamed to `lengthToDegrees`")}B.distanceToDegrees=R;function A(){throw new Error("method has been renamed to `lengthToRadians`")}B.distanceToRadians=A;function k(){throw new Error("method has been renamed to `radiansToLength`")}B.radiansToDistance=k;function _(){throw new Error("method has been renamed to `bearingToAzimuth`")}B.bearingToAngle=_;function H(){throw new Error("method has been renamed to `convertLength`")}B.convertDistance=H},88553:function(V,B,e){Object.defineProperty(B,"__esModule",{value:!0});var p=e(64182);function L(o,d,S){if(o!==null)for(var M,P,x,E,T,i,R,A=0,k=0,_,H=o.type,z=H==="FeatureCollection",N=H==="Feature",O=z?o.features.length:1,F=0;F<O;F++){R=z?o.features[F].geometry:N?o.geometry:o,_=R?R.type==="GeometryCollection":!1,T=_?R.geometries.length:1;for(var U=0;U<T;U++){var Z=0,q=0;if(E=_?R.geometries[U]:R,E!==null){i=E.coordinates;var J=E.type;switch(A=S&&(J==="Polygon"||J==="MultiPolygon")?1:0,J){case null:break;case"Point":if(d(i,k,F,Z,q)===!1)return!1;k++,Z++;break;case"LineString":case"MultiPoint":for(M=0;M<i.length;M++){if(d(i[M],k,F,Z,q)===!1)return!1;k++,J==="MultiPoint"&&Z++}J==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(M=0;M<i.length;M++){for(P=0;P<i[M].length-A;P++){if(d(i[M][P],k,F,Z,q)===!1)return!1;k++}J==="MultiLineString"&&Z++,J==="Polygon"&&q++}J==="Polygon"&&Z++;break;case"MultiPolygon":for(M=0;M<i.length;M++){for(q=0,P=0;P<i[M].length;P++){for(x=0;x<i[M][P].length-A;x++){if(d(i[M][P][x],k,F,Z,q)===!1)return!1;k++}q++}Z++}break;case"GeometryCollection":for(M=0;M<E.geometries.length;M++)if(L(E.geometries[M],d,S)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function n(o,d,S,M){var P=S;return L(o,function(x,E,T,i,R){E===0&&S===void 0?P=x:P=d(P,x,E,T,i,R)},M),P}function C(o,d){var S;switch(o.type){case"FeatureCollection":for(S=0;S<o.features.length&&d(o.features[S].properties,S)!==!1;S++);break;case"Feature":d(o.properties,0);break}}function y(o,d,S){var M=S;return C(o,function(P,x){x===0&&S===void 0?M=P:M=d(M,P,x)}),M}function h(o,d){if(o.type==="Feature")d(o,0);else if(o.type==="FeatureCollection")for(var S=0;S<o.features.length&&d(o.features[S],S)!==!1;S++);}function g(o,d,S){var M=S;return h(o,function(P,x){x===0&&S===void 0?M=P:M=d(M,P,x)}),M}function t(o){var d=[];return L(o,function(S){d.push(S)}),d}function r(o,d){var S,M,P,x,E,T,i,R,A,k,_=0,H=o.type==="FeatureCollection",z=o.type==="Feature",N=H?o.features.length:1;for(S=0;S<N;S++){for(T=H?o.features[S].geometry:z?o.geometry:o,R=H?o.features[S].properties:z?o.properties:{},A=H?o.features[S].bbox:z?o.bbox:void 0,k=H?o.features[S].id:z?o.id:void 0,i=T?T.type==="GeometryCollection":!1,E=i?T.geometries.length:1,P=0;P<E;P++){if(x=i?T.geometries[P]:T,x===null){if(d(null,_,R,A,k)===!1)return!1;continue}switch(x.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(d(x,_,R,A,k)===!1)return!1;break}case"GeometryCollection":{for(M=0;M<x.geometries.length;M++)if(d(x.geometries[M],_,R,A,k)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}_++}}function l(o,d,S){var M=S;return r(o,function(P,x,E,T,i){x===0&&S===void 0?M=P:M=d(M,P,x,E,T,i)}),M}function a(o,d){r(o,function(S,M,P,x,E){var T=S===null?null:S.type;switch(T){case null:case"Point":case"LineString":case"Polygon":return d(p.feature(S,P,{bbox:x,id:E}),M,0)===!1?!1:void 0}var i;switch(T){case"MultiPoint":i="Point";break;case"MultiLineString":i="LineString";break;case"MultiPolygon":i="Polygon";break}for(var R=0;R<S.coordinates.length;R++){var A=S.coordinates[R],k={type:i,coordinates:A};if(d(p.feature(k,P),M,R)===!1)return!1}})}function s(o,d,S){var M=S;return a(o,function(P,x,E){x===0&&E===0&&S===void 0?M=P:M=d(M,P,x,E)}),M}function c(o,d){a(o,function(S,M,P){var x=0;if(S.geometry){var E=S.geometry.type;if(!(E==="Point"||E==="MultiPoint")){var T,i=0,R=0,A=0;if(L(S,function(k,_,H,z,N){if(T===void 0||M>i||z>R||N>A){T=k,i=M,R=z,A=N,x=0;return}var O=p.lineString([T,k],S.properties);if(d(O,M,P,N,x)===!1)return!1;x++,T=k})===!1)return!1}}})}function u(o,d,S){var M=S,P=!1;return c(o,function(x,E,T,i,R){P===!1&&S===void 0?M=x:M=d(M,x,E,T,i,R),P=!0}),M}function b(o,d){if(!o)throw new Error("geojson is required");a(o,function(S,M,P){if(S.geometry!==null){var x=S.geometry.type,E=S.geometry.coordinates;switch(x){case"LineString":if(d(S,M,P,0,0)===!1)return!1;break;case"Polygon":for(var T=0;T<E.length;T++)if(d(p.lineString(E[T],S.properties),M,P,T)===!1)return!1;break}}})}function f(o,d,S){var M=S;return b(o,function(P,x,E,T){x===0&&S===void 0?M=P:M=d(M,P,x,E,T)}),M}function w(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.segmentIndex||0,E=d.properties,T;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),E=E||o.features[S].properties,T=o.features[S].geometry;break;case"Feature":E=E||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":case"MultiPoint":return null;case"LineString":return x<0&&(x=i.length+x-1),p.lineString([i[x],i[x+1]],E,d);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x-1),p.lineString([i[P][x],i[P][x+1]],E,d);case"MultiLineString":return M<0&&(M=i.length+M),x<0&&(x=i[M].length+x-1),p.lineString([i[M][x],i[M][x+1]],E,d);case"MultiPolygon":return M<0&&(M=i.length+M),P<0&&(P=i[M].length+P),x<0&&(x=i[M][P].length-x-1),p.lineString([i[M][P][x],i[M][P][x+1]],E,d)}throw new Error("geojson is invalid")}function v(o,d){if(d=d||{},!p.isObject(d))throw new Error("options is invalid");var S=d.featureIndex||0,M=d.multiFeatureIndex||0,P=d.geometryIndex||0,x=d.coordIndex||0,E=d.properties,T;switch(o.type){case"FeatureCollection":S<0&&(S=o.features.length+S),E=E||o.features[S].properties,T=o.features[S].geometry;break;case"Feature":E=E||o.properties,T=o.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":T=o;break;default:throw new Error("geojson is invalid")}if(T===null)return null;var i=T.coordinates;switch(T.type){case"Point":return p.point(i,E,d);case"MultiPoint":return M<0&&(M=i.length+M),p.point(i[M],E,d);case"LineString":return x<0&&(x=i.length+x),p.point(i[x],E,d);case"Polygon":return P<0&&(P=i.length+P),x<0&&(x=i[P].length+x),p.point(i[P][x],E,d);case"MultiLineString":return M<0&&(M=i.length+M),x<0&&(x=i[M].length+x),p.point(i[M][x],E,d);case"MultiPolygon":return M<0&&(M=i.length+M),P<0&&(P=i[M].length+P),x<0&&(x=i[M][P].length-x),p.point(i[M][P][x],E,d)}throw new Error("geojson is invalid")}B.coordEach=L,B.coordReduce=n,B.propEach=C,B.propReduce=y,B.featureEach=h,B.featureReduce=g,B.coordAll=t,B.geomEach=r,B.geomReduce=l,B.flattenEach=a,B.flattenReduce=s,B.segmentEach=c,B.segmentReduce=u,B.lineEach=b,B.lineReduce=f,B.findSegment=w,B.findPoint=v},65185:function(V){V.exports=B;function B(e){var p=0,L=0,n=0,C=0;return e.map(function(y){y=y.slice();var h=y[0],g=h.toUpperCase();if(h!=g)switch(y[0]=g,h){case"a":y[6]+=n,y[7]+=C;break;case"v":y[1]+=C;break;case"h":y[1]+=n;break;default:for(var t=1;t<y.length;)y[t++]+=n,y[t++]+=C}switch(g){case"Z":n=p,C=L;break;case"H":n=y[1];break;case"V":C=y[1];break;case"M":n=p=y[1],C=L=y[2];break;default:n=y[y.length-2],C=y[y.length-1]}return y})}},21527:function(V){V.exports=B;function B(e,p){if(!e||e.length==null)throw Error("Argument should be an array");p==null?p=1:p=Math.floor(p);for(var L=Array(p*2),n=0;n<p;n++){for(var C=-1/0,y=1/0,h=n,g=e.length;h<g;h+=p)e[h]>C&&(C=e[h]),e[h]<y&&(y=e[h]);L[n]=y,L[p+n]=C}return L}},6851:function(V){V.exports=function(B,e,p){if(typeof Array.prototype.findIndex=="function")return B.findIndex(e,p);if(typeof e!="function")throw new TypeError("predicate must be a function");var L=Object(B),n=L.length;if(n===0)return-1;for(var C=0;C<n;C++)if(e.call(p,L[C],C,L))return C;return-1}},54:function(V,B,e){var p=e(21527);V.exports=L;function L(n,C,y){if(!n||n.length==null)throw Error("Argument should be an array");C==null&&(C=1),y==null&&(y=p(n,C));for(var h=0;h<C;h++){var g=y[C+h],t=y[h],r=h,l=n.length;if(g===1/0&&t===-1/0)for(r=h;r<l;r+=C)n[r]=n[r]===g?1:n[r]===t?0:.5;else if(g===1/0)for(r=h;r<l;r+=C)n[r]=n[r]===g?1:0;else if(t===-1/0)for(r=h;r<l;r+=C)n[r]=n[r]===t?0:1;else{var a=g-t;for(r=h;r<l;r+=C)isNaN(n[r])||(n[r]=a===0?.5:(n[r]-t)/a)}}return n}},57471:function(V){V.exports=function(e,p){var L=typeof e=="number",n=typeof p=="number";L&&!n?(p=e,e=0):!L&&!n&&(e=0,p=0),e=e|0,p=p|0;var C=p-e;if(C<0)throw new Error("array length must be positive");for(var y=new Array(C),h=0,g=e;h<C;h++,g++)y[h]=g;return y}},32791:function(V,B,e){var p=e(90386);function L(q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(te){return typeof te}:L=function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},L(q)}function n(q,J){if(!(q instanceof J))throw new TypeError("Cannot call a class as a function")}var C=e(79616),y=C.codes,h=y.ERR_AMBIGUOUS_ARGUMENT,g=y.ERR_INVALID_ARG_TYPE,t=y.ERR_INVALID_ARG_VALUE,r=y.ERR_INVALID_RETURN_VALUE,l=y.ERR_MISSING_ARGS,a=e(73894),s=e(43827),c=s.inspect,u=e(43827).types,b=u.isPromise,f=u.isRegExp,w=Object.assign?Object.assign:e(73523).assign,v=Object.is?Object.is:e(64003),o,d;function S(){var q=e(74061);o=q.isDeepEqual,d=q.isDeepStrictEqual}var M=!1,P=V.exports=R,x={};function E(q){throw q.message instanceof Error?q.message:new a(q)}function T(q,J,te,fe,K){var Y=arguments.length,W;if(Y===0)W="Failed";else if(Y===1)te=q,q=void 0;else{if(M===!1){M=!0;var X=p.emitWarning?p.emitWarning:console.warn.bind(console);X("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Y===2&&(fe="!=")}if(te instanceof Error)throw te;var re={actual:q,expected:J,operator:fe===void 0?"fail":fe,stackStartFn:K||T};te!==void 0&&(re.message=te);var se=new a(re);throw W&&(se.message=W,se.generatedMessage=!0),se}P.fail=T,P.AssertionError=a;function i(q,J,te,fe){if(!te){var K=!1;if(J===0)K=!0,fe="No value argument passed to `assert.ok()`";else if(fe instanceof Error)throw fe;var Y=new a({actual:te,expected:!0,message:fe,operator:"==",stackStartFn:q});throw Y.generatedMessage=K,Y}}function R(){for(var q=arguments.length,J=new Array(q),te=0;te<q;te++)J[te]=arguments[te];i.apply(void 0,[R,J.length].concat(J))}P.ok=R,P.equal=function q(J,te,fe){if(arguments.length<2)throw new l("actual","expected");J!=te&&E({actual:J,expected:te,message:fe,operator:"==",stackStartFn:q})},P.notEqual=function q(J,te,fe){if(arguments.length<2)throw new l("actual","expected");J==te&&E({actual:J,expected:te,message:fe,operator:"!=",stackStartFn:q})},P.deepEqual=function q(J,te,fe){if(arguments.length<2)throw new l("actual","expected");o===void 0&&S(),o(J,te)||E({actual:J,expected:te,message:fe,operator:"deepEqual",stackStartFn:q})},P.notDeepEqual=function q(J,te,fe){if(arguments.length<2)throw new l("actual","expected");o===void 0&&S(),o(J,te)&&E({actual:J,expected:te,message:fe,operator:"notDeepEqual",stackStartFn:q})},P.deepStrictEqual=function q(J,te,fe){if(arguments.length<2)throw new l("actual","expected");o===void 0&&S(),d(J,te)||E({actual:J,expected:te,message:fe,operator:"deepStrictEqual",stackStartFn:q})},P.notDeepStrictEqual=A;function A(q,J,te){if(arguments.length<2)throw new l("actual","expected");o===void 0&&S(),d(q,J)&&E({actual:q,expected:J,message:te,operator:"notDeepStrictEqual",stackStartFn:A})}P.strictEqual=function q(J,te,fe){if(arguments.length<2)throw new l("actual","expected");v(J,te)||E({actual:J,expected:te,message:fe,operator:"strictEqual",stackStartFn:q})},P.notStrictEqual=function q(J,te,fe){if(arguments.length<2)throw new l("actual","expected");v(J,te)&&E({actual:J,expected:te,message:fe,operator:"notStrictEqual",stackStartFn:q})};var k=function q(J,te,fe){var K=this;n(this,q),te.forEach(function(Y){Y in J&&(fe!==void 0&&typeof fe[Y]=="string"&&f(J[Y])&&J[Y].test(fe[Y])?K[Y]=fe[Y]:K[Y]=J[Y])})};function _(q,J,te,fe,K,Y){if(!(te in q)||!d(q[te],J[te])){if(!fe){var W=new k(q,K),X=new k(J,K,q),re=new a({actual:W,expected:X,operator:"deepStrictEqual",stackStartFn:Y});throw re.actual=q,re.expected=J,re.operator=Y.name,re}E({actual:q,expected:J,message:fe,operator:Y.name,stackStartFn:Y})}}function H(q,J,te,fe){if(typeof J!="function"){if(f(J))return J.test(q);if(arguments.length===2)throw new g("expected",["Function","RegExp"],J);if(L(q)!=="object"||q===null){var K=new a({actual:q,expected:J,message:te,operator:"deepStrictEqual",stackStartFn:fe});throw K.operator=fe.name,K}var Y=Object.keys(J);if(J instanceof Error)Y.push("name","message");else if(Y.length===0)throw new t("error",J,"may not be an empty object");return o===void 0&&S(),Y.forEach(function(W){typeof q[W]=="string"&&f(J[W])&&J[W].test(q[W])||_(q,J,W,te,Y,fe)}),!0}return J.prototype!==void 0&&q instanceof J?!0:Error.isPrototypeOf(J)?!1:J.call({},q)===!0}function z(q){if(typeof q!="function")throw new g("fn","Function",q);try{q()}catch(J){return J}return x}function N(q){return b(q)||q!==null&&L(q)==="object"&&typeof q.then=="function"&&typeof q.catch=="function"}function O(q){return Promise.resolve().then(function(){var J;if(typeof q=="function"){if(J=q(),!N(J))throw new r("instance of Promise","promiseFn",J)}else if(N(q))J=q;else throw new g("promiseFn",["Function","Promise"],q);return Promise.resolve().then(function(){return J}).then(function(){return x}).catch(function(te){return te})})}function F(q,J,te,fe){if(typeof te=="string"){if(arguments.length===4)throw new g("error",["Object","Error","Function","RegExp"],te);if(L(J)==="object"&&J!==null){if(J.message===te)throw new h("error/message",'The error message "'.concat(J.message,'" is identical to the message.'))}else if(J===te)throw new h("error/message",'The error "'.concat(J,'" is identical to the message.'));fe=te,te=void 0}else if(te!=null&&L(te)!=="object"&&typeof te!="function")throw new g("error",["Object","Error","Function","RegExp"],te);if(J===x){var K="";te&&te.name&&(K+=" (".concat(te.name,")")),K+=fe?": ".concat(fe):".";var Y=q.name==="rejects"?"rejection":"exception";E({actual:void 0,expected:te,operator:q.name,message:"Missing expected ".concat(Y).concat(K),stackStartFn:q})}if(te&&!H(J,te,fe,q))throw J}function U(q,J,te,fe){if(J!==x){if(typeof te=="string"&&(fe=te,te=void 0),!te||H(J,te)){var K=fe?": ".concat(fe):".",Y=q.name==="doesNotReject"?"rejection":"exception";E({actual:J,expected:te,operator:q.name,message:"Got unwanted ".concat(Y).concat(K,`
`)+'Actual message: "'.concat(J&&J.message,'"'),stackStartFn:q})}throw J}}P.throws=function q(J){for(var te=arguments.length,fe=new Array(te>1?te-1:0),K=1;K<te;K++)fe[K-1]=arguments[K];F.apply(void 0,[q,z(J)].concat(fe))},P.rejects=function q(J){for(var te=arguments.length,fe=new Array(te>1?te-1:0),K=1;K<te;K++)fe[K-1]=arguments[K];return O(J).then(function(Y){return F.apply(void 0,[q,Y].concat(fe))})},P.doesNotThrow=function q(J){for(var te=arguments.length,fe=new Array(te>1?te-1:0),K=1;K<te;K++)fe[K-1]=arguments[K];U.apply(void 0,[q,z(J)].concat(fe))},P.doesNotReject=function q(J){for(var te=arguments.length,fe=new Array(te>1?te-1:0),K=1;K<te;K++)fe[K-1]=arguments[K];return O(J).then(function(Y){return U.apply(void 0,[q,Y].concat(fe))})},P.ifError=function q(J){if(J!=null){var te="ifError got unwanted exception: ";L(J)==="object"&&typeof J.message=="string"?J.message.length===0&&J.constructor?te+=J.constructor.name:te+=J.message:te+=c(J);var fe=new a({actual:J,expected:null,operator:"ifError",message:te,stackStartFn:q}),K=J.stack;if(typeof K=="string"){var Y=K.split(`
`);Y.shift();for(var W=fe.stack.split(`
`),X=0;X<Y.length;X++){var re=W.indexOf(Y[X]);if(re!==-1){W=W.slice(0,re);break}}fe.stack="".concat(W.join(`
`),`
`).concat(Y.join(`
`))}throw fe}};function Z(){for(var q=arguments.length,J=new Array(q),te=0;te<q;te++)J[te]=arguments[te];i.apply(void 0,[Z,J.length].concat(J))}P.strict=w(Z,P,{equal:P.strictEqual,deepEqual:P.deepStrictEqual,notEqual:P.notStrictEqual,notDeepEqual:P.notDeepStrictEqual}),P.strict.strict=P.strict},73894:function(V,B,e){var p=e(90386);function L(z){for(var N=1;N<arguments.length;N++){var O=arguments[N]!=null?arguments[N]:{},F=Object.keys(O);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols(O).filter(function(U){return Object.getOwnPropertyDescriptor(O,U).enumerable}))),F.forEach(function(U){n(z,U,O[U])})}return z}function n(z,N,O){return N in z?Object.defineProperty(z,N,{value:O,enumerable:!0,configurable:!0,writable:!0}):z[N]=O,z}function C(z,N){if(!(z instanceof N))throw new TypeError("Cannot call a class as a function")}function y(z,N){for(var O=0;O<N.length;O++){var F=N[O];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(z,F.key,F)}}function h(z,N,O){return N&&y(z.prototype,N),O&&y(z,O),z}function g(z,N){return N&&(f(N)==="object"||typeof N=="function")?N:t(z)}function t(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function r(z,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(N&&N.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),N&&u(z,N)}function l(z){var N=typeof Map=="function"?new Map:void 0;return l=function(F){if(F===null||!c(F))return F;if(typeof F!="function")throw new TypeError("Super expression must either be null or a function");if(typeof N<"u"){if(N.has(F))return N.get(F);N.set(F,U)}function U(){return s(F,arguments,b(this).constructor)}return U.prototype=Object.create(F.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),u(U,F)},l(z)}function a(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function s(z,N,O){return a()?s=Reflect.construct:s=function(U,Z,q){var J=[null];J.push.apply(J,Z);var te=Function.bind.apply(U,J),fe=new te;return q&&u(fe,q.prototype),fe},s.apply(null,arguments)}function c(z){return Function.toString.call(z).indexOf("[native code]")!==-1}function u(z,N){return u=Object.setPrototypeOf||function(F,U){return F.__proto__=U,F},u(z,N)}function b(z){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},b(z)}function f(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(O){return typeof O}:f=function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},f(z)}var w=e(43827),v=w.inspect,o=e(79616),d=o.codes.ERR_INVALID_ARG_TYPE;function S(z,N,O){return(O===void 0||O>z.length)&&(O=z.length),z.substring(O-N.length,O)===N}function M(z,N){if(N=Math.floor(N),z.length==0||N==0)return"";var O=z.length*N;for(N=Math.floor(Math.log(N)/Math.log(2));N;)z+=z,N--;return z+=z.substring(0,O-z.length),z}var P="",x="",E="",T="",i={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},R=10;function A(z){var N=Object.keys(z),O=Object.create(Object.getPrototypeOf(z));return N.forEach(function(F){O[F]=z[F]}),Object.defineProperty(O,"message",{value:z.message}),O}function k(z){return v(z,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function _(z,N,O){var F="",U="",Z=0,q="",J=!1,te=k(z),fe=te.split(`
`),K=k(N).split(`
`),Y=0,W="";if(O==="strictEqual"&&f(z)==="object"&&f(N)==="object"&&z!==null&&N!==null&&(O="strictEqualObject"),fe.length===1&&K.length===1&&fe[0]!==K[0]){var X=fe[0].length+K[0].length;if(X<=R){if((f(z)!=="object"||z===null)&&(f(N)!=="object"||N===null)&&(z!==0||N!==0))return"".concat(i[O],`

`)+"".concat(fe[0]," !== ").concat(K[0],`
`)}else if(O!=="strictEqualObject"){var re=p.stderr&&p.stderr.isTTY?p.stderr.columns:80;if(X<re){for(;fe[0][Y]===K[0][Y];)Y++;Y>2&&(W=`
  `.concat(M(" ",Y),"^"),Y=0)}}}for(var se=fe[fe.length-1],Q=K[K.length-1];se===Q&&(Y++<2?q=`
  `.concat(se).concat(q):F=se,fe.pop(),K.pop(),!(fe.length===0||K.length===0));)se=fe[fe.length-1],Q=K[K.length-1];var ee=Math.max(fe.length,K.length);if(ee===0){var le=te.split(`
`);if(le.length>30)for(le[26]="".concat(P,"...").concat(T);le.length>27;)le.pop();return"".concat(i.notIdentical,`

`).concat(le.join(`
`),`
`)}Y>3&&(q=`
`.concat(P,"...").concat(T).concat(q),J=!0),F!==""&&(q=`
  `.concat(F).concat(q),F="");var oe=0,he=i[O]+`
`.concat(x,"+ actual").concat(T," ").concat(E,"- expected").concat(T),xe=" ".concat(P,"...").concat(T," Lines skipped");for(Y=0;Y<ee;Y++){var Ae=Y-Z;if(fe.length<Y+1)Ae>1&&Y>2&&(Ae>4?(U+=`
`.concat(P,"...").concat(T),J=!0):Ae>3&&(U+=`
  `.concat(K[Y-2]),oe++),U+=`
  `.concat(K[Y-1]),oe++),Z=Y,F+=`
`.concat(E,"-").concat(T," ").concat(K[Y]),oe++;else if(K.length<Y+1)Ae>1&&Y>2&&(Ae>4?(U+=`
`.concat(P,"...").concat(T),J=!0):Ae>3&&(U+=`
  `.concat(fe[Y-2]),oe++),U+=`
  `.concat(fe[Y-1]),oe++),Z=Y,U+=`
`.concat(x,"+").concat(T," ").concat(fe[Y]),oe++;else{var Se=K[Y],Oe=fe[Y],Ve=Oe!==Se&&(!S(Oe,",")||Oe.slice(0,-1)!==Se);Ve&&S(Se,",")&&Se.slice(0,-1)===Oe&&(Ve=!1,Oe+=","),Ve?(Ae>1&&Y>2&&(Ae>4?(U+=`
`.concat(P,"...").concat(T),J=!0):Ae>3&&(U+=`
  `.concat(fe[Y-2]),oe++),U+=`
  `.concat(fe[Y-1]),oe++),Z=Y,U+=`
`.concat(x,"+").concat(T," ").concat(Oe),F+=`
`.concat(E,"-").concat(T," ").concat(Se),oe+=2):(U+=F,F="",(Ae===1||Y===0)&&(U+=`
  `.concat(Oe),oe++))}if(oe>20&&Y<ee-2)return"".concat(he).concat(xe,`
`).concat(U,`
`).concat(P,"...").concat(T).concat(F,`
`)+"".concat(P,"...").concat(T)}return"".concat(he).concat(J?xe:"",`
`).concat(U).concat(F).concat(q).concat(W)}var H=function(z){r(N,z);function N(O){var F;if(C(this,N),f(O)!=="object"||O===null)throw new d("options","Object",O);var U=O.message,Z=O.operator,q=O.stackStartFn,J=O.actual,te=O.expected,fe=Error.stackTraceLimit;if(Error.stackTraceLimit=0,U!=null)F=g(this,b(N).call(this,String(U)));else if(p.stderr&&p.stderr.isTTY&&(p.stderr&&p.stderr.getColorDepth&&p.stderr.getColorDepth()!==1?(P="\x1B[34m",x="\x1B[32m",T="\x1B[39m",E="\x1B[31m"):(P="",x="",T="",E="")),f(J)==="object"&&J!==null&&f(te)==="object"&&te!==null&&"stack"in J&&J instanceof Error&&"stack"in te&&te instanceof Error&&(J=A(J),te=A(te)),Z==="deepStrictEqual"||Z==="strictEqual")F=g(this,b(N).call(this,_(J,te,Z)));else if(Z==="notDeepStrictEqual"||Z==="notStrictEqual"){var K=i[Z],Y=k(J).split(`
`);if(Z==="notStrictEqual"&&f(J)==="object"&&J!==null&&(K=i.notStrictEqualObject),Y.length>30)for(Y[26]="".concat(P,"...").concat(T);Y.length>27;)Y.pop();Y.length===1?F=g(this,b(N).call(this,"".concat(K," ").concat(Y[0]))):F=g(this,b(N).call(this,"".concat(K,`

`).concat(Y.join(`
`),`
`)))}else{var W=k(J),X="",re=i[Z];Z==="notDeepEqual"||Z==="notEqual"?(W="".concat(i[Z],`

`).concat(W),W.length>1024&&(W="".concat(W.slice(0,1021),"..."))):(X="".concat(k(te)),W.length>512&&(W="".concat(W.slice(0,509),"...")),X.length>512&&(X="".concat(X.slice(0,509),"...")),Z==="deepEqual"||Z==="equal"?W="".concat(re,`

`).concat(W,`

should equal

`):X=" ".concat(Z," ").concat(X)),F=g(this,b(N).call(this,"".concat(W).concat(X)))}return Error.stackTraceLimit=fe,F.generatedMessage=!U,Object.defineProperty(t(F),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),F.code="ERR_ASSERTION",F.actual=J,F.expected=te,F.operator=Z,Error.captureStackTrace&&Error.captureStackTrace(t(F),q),F.stack,F.name="AssertionError",g(F)}return h(N,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:v.custom,value:function(F,U){return v(this,L({},U,{customInspect:!1,depth:0}))}}]),N}(l(Error));V.exports=H},79616:function(V,B,e){function p(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(v){return typeof v}:p=function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},p(f)}function L(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")}function n(f,w){return w&&(p(w)==="object"||typeof w=="function")?w:C(f)}function C(f){if(f===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f}function y(f){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},y(f)}function h(f,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function");f.prototype=Object.create(w&&w.prototype,{constructor:{value:f,writable:!0,configurable:!0}}),w&&g(f,w)}function g(f,w){return g=Object.setPrototypeOf||function(o,d){return o.__proto__=d,o},g(f,w)}var t={},r,l;function a(f,w,v){v||(v=Error);function o(S,M,P){return typeof w=="string"?w:w(S,M,P)}var d=function(S){h(M,S);function M(P,x,E){var T;return L(this,M),T=n(this,y(M).call(this,o(P,x,E))),T.code=f,T}return M}(v);t[f]=d}function s(f,w){if(Array.isArray(f)){var v=f.length;return f=f.map(function(o){return String(o)}),v>2?"one of ".concat(w," ").concat(f.slice(0,v-1).join(", "),", or ")+f[v-1]:v===2?"one of ".concat(w," ").concat(f[0]," or ").concat(f[1]):"of ".concat(w," ").concat(f[0])}else return"of ".concat(w," ").concat(String(f))}function c(f,w,v){return f.substr(!v||v<0?0:+v,w.length)===w}function u(f,w,v){return(v===void 0||v>f.length)&&(v=f.length),f.substring(v-w.length,v)===w}function b(f,w,v){return typeof v!="number"&&(v=0),v+w.length>f.length?!1:f.indexOf(w,v)!==-1}a("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),a("ERR_INVALID_ARG_TYPE",function(f,w,v){r===void 0&&(r=e(32791)),r(typeof f=="string","'name' must be a string");var o;typeof w=="string"&&c(w,"not ")?(o="must not be",w=w.replace(/^not /,"")):o="must be";var d;if(u(f," argument"))d="The ".concat(f," ").concat(o," ").concat(s(w,"type"));else{var S=b(f,".")?"property":"argument";d='The "'.concat(f,'" ').concat(S," ").concat(o," ").concat(s(w,"type"))}return d+=". Received type ".concat(p(v)),d},TypeError),a("ERR_INVALID_ARG_VALUE",function(f,w){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";l===void 0&&(l=e(43827));var o=l.inspect(w);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(f,"' ").concat(v,". Received ").concat(o)},TypeError),a("ERR_INVALID_RETURN_VALUE",function(f,w,v){var o;return v&&v.constructor&&v.constructor.name?o="instance of ".concat(v.constructor.name):o="type ".concat(p(v)),"Expected ".concat(f,' to be returned from the "').concat(w,'"')+" function but got ".concat(o,".")},TypeError),a("ERR_MISSING_ARGS",function(){for(var f=arguments.length,w=new Array(f),v=0;v<f;v++)w[v]=arguments[v];r===void 0&&(r=e(32791)),r(w.length>0,"At least one arg needs to be specified");var o="The ",d=w.length;switch(w=w.map(function(S){return'"'.concat(S,'"')}),d){case 1:o+="".concat(w[0]," argument");break;case 2:o+="".concat(w[0]," and ").concat(w[1]," arguments");break;default:o+=w.slice(0,d-1).join(", "),o+=", and ".concat(w[d-1]," arguments");break}return"".concat(o," must be specified")},TypeError),V.exports.codes=t},74061:function(V,B,e){function p(Ee,Te){return C(Ee)||n(Ee,Te)||L()}function L(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(Ee,Te){var Le=[],Ge=!0,He=!1,ke=void 0;try{for(var We=Ee[Symbol.iterator](),nt;!(Ge=(nt=We.next()).done)&&(Le.push(nt.value),!(Te&&Le.length===Te));Ge=!0);}catch(qe){He=!0,ke=qe}finally{try{!Ge&&We.return!=null&&We.return()}finally{if(He)throw ke}}return Le}function C(Ee){if(Array.isArray(Ee))return Ee}function y(Ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?y=function(Le){return typeof Le}:y=function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},y(Ee)}var h=/a/g.flags!==void 0,g=function(Te){var Le=[];return Te.forEach(function(Ge){return Le.push(Ge)}),Le},t=function(Te){var Le=[];return Te.forEach(function(Ge,He){return Le.push([He,Ge])}),Le},r=Object.is?Object.is:e(64003),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},a=Number.isNaN?Number.isNaN:e(15567);function s(Ee){return Ee.call.bind(Ee)}var c=s(Object.prototype.hasOwnProperty),u=s(Object.prototype.propertyIsEnumerable),b=s(Object.prototype.toString),f=e(43827).types,w=f.isAnyArrayBuffer,v=f.isArrayBufferView,o=f.isDate,d=f.isMap,S=f.isRegExp,M=f.isSet,P=f.isNativeError,x=f.isBoxedPrimitive,E=f.isNumberObject,T=f.isStringObject,i=f.isBooleanObject,R=f.isBigIntObject,A=f.isSymbolObject,k=f.isFloat32Array,_=f.isFloat64Array;function H(Ee){if(Ee.length===0||Ee.length>10)return!0;for(var Te=0;Te<Ee.length;Te++){var Le=Ee.charCodeAt(Te);if(Le<48||Le>57)return!0}return Ee.length===10&&Ee>=Math.pow(2,32)}function z(Ee){return Object.keys(Ee).filter(H).concat(l(Ee).filter(Object.prototype.propertyIsEnumerable.bind(Ee)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function N(Ee,Te){if(Ee===Te)return 0;for(var Le=Ee.length,Ge=Te.length,He=0,ke=Math.min(Le,Ge);He<ke;++He)if(Ee[He]!==Te[He]){Le=Ee[He],Ge=Te[He];break}return Le<Ge?-1:Ge<Le?1:0}var O=!0,F=!1,U=0,Z=1,q=2,J=3;function te(Ee,Te){return h?Ee.source===Te.source&&Ee.flags===Te.flags:RegExp.prototype.toString.call(Ee)===RegExp.prototype.toString.call(Te)}function fe(Ee,Te){if(Ee.byteLength!==Te.byteLength)return!1;for(var Le=0;Le<Ee.byteLength;Le++)if(Ee[Le]!==Te[Le])return!1;return!0}function K(Ee,Te){return Ee.byteLength!==Te.byteLength?!1:N(new Uint8Array(Ee.buffer,Ee.byteOffset,Ee.byteLength),new Uint8Array(Te.buffer,Te.byteOffset,Te.byteLength))===0}function Y(Ee,Te){return Ee.byteLength===Te.byteLength&&N(new Uint8Array(Ee),new Uint8Array(Te))===0}function W(Ee,Te){return E(Ee)?E(Te)&&r(Number.prototype.valueOf.call(Ee),Number.prototype.valueOf.call(Te)):T(Ee)?T(Te)&&String.prototype.valueOf.call(Ee)===String.prototype.valueOf.call(Te):i(Ee)?i(Te)&&Boolean.prototype.valueOf.call(Ee)===Boolean.prototype.valueOf.call(Te):R(Ee)?R(Te)&&BigInt.prototype.valueOf.call(Ee)===BigInt.prototype.valueOf.call(Te):A(Te)&&Symbol.prototype.valueOf.call(Ee)===Symbol.prototype.valueOf.call(Te)}function X(Ee,Te,Le,Ge){if(Ee===Te)return Ee!==0?!0:Le?r(Ee,Te):!0;if(Le){if(y(Ee)!=="object")return typeof Ee=="number"&&a(Ee)&&a(Te);if(y(Te)!=="object"||Ee===null||Te===null||Object.getPrototypeOf(Ee)!==Object.getPrototypeOf(Te))return!1}else{if(Ee===null||y(Ee)!=="object")return Te===null||y(Te)!=="object"?Ee==Te:!1;if(Te===null||y(Te)!=="object")return!1}var He=b(Ee),ke=b(Te);if(He!==ke)return!1;if(Array.isArray(Ee)){if(Ee.length!==Te.length)return!1;var We=z(Ee),nt=z(Te);return We.length!==nt.length?!1:se(Ee,Te,Le,Ge,Z,We)}if(He==="[object Object]"&&(!d(Ee)&&d(Te)||!M(Ee)&&M(Te)))return!1;if(o(Ee)){if(!o(Te)||Date.prototype.getTime.call(Ee)!==Date.prototype.getTime.call(Te))return!1}else if(S(Ee)){if(!S(Te)||!te(Ee,Te))return!1}else if(P(Ee)||Ee instanceof Error){if(Ee.message!==Te.message||Ee.name!==Te.name)return!1}else if(v(Ee)){if(!Le&&(k(Ee)||_(Ee))){if(!fe(Ee,Te))return!1}else if(!K(Ee,Te))return!1;var qe=z(Ee),Qe=z(Te);return qe.length!==Qe.length?!1:se(Ee,Te,Le,Ge,U,qe)}else{if(M(Ee))return!M(Te)||Ee.size!==Te.size?!1:se(Ee,Te,Le,Ge,q);if(d(Ee))return!d(Te)||Ee.size!==Te.size?!1:se(Ee,Te,Le,Ge,J);if(w(Ee)){if(!Y(Ee,Te))return!1}else if(x(Ee)&&!W(Ee,Te))return!1}return se(Ee,Te,Le,Ge,U)}function re(Ee,Te){return Te.filter(function(Le){return u(Ee,Le)})}function se(Ee,Te,Le,Ge,He,ke){if(arguments.length===5){ke=Object.keys(Ee);var We=Object.keys(Te);if(ke.length!==We.length)return!1}for(var nt=0;nt<ke.length;nt++)if(!c(Te,ke[nt]))return!1;if(Le&&arguments.length===5){var qe=l(Ee);if(qe.length!==0){var Qe=0;for(nt=0;nt<qe.length;nt++){var tt=qe[nt];if(u(Ee,tt)){if(!u(Te,tt))return!1;ke.push(tt),Qe++}else if(u(Te,tt))return!1}var vt=l(Te);if(qe.length!==vt.length&&re(Te,vt).length!==Qe)return!1}else{var dt=l(Te);if(dt.length!==0&&re(Te,dt).length!==0)return!1}}if(ke.length===0&&(He===U||He===Z&&Ee.length===0||Ee.size===0))return!0;if(Ge===void 0)Ge={val1:new Map,val2:new Map,position:0};else{var gt=Ge.val1.get(Ee);if(gt!==void 0){var Mt=Ge.val2.get(Te);if(Mt!==void 0)return gt===Mt}Ge.position++}Ge.val1.set(Ee,Ge.position),Ge.val2.set(Te,Ge.position);var Rt=Se(Ee,Te,Le,ke,Ge,He);return Ge.val1.delete(Ee),Ge.val2.delete(Te),Rt}function Q(Ee,Te,Le,Ge){for(var He=g(Ee),ke=0;ke<He.length;ke++){var We=He[ke];if(X(Te,We,Le,Ge))return Ee.delete(We),!0}return!1}function ee(Ee){switch(y(Ee)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ee=+Ee;case"number":if(a(Ee))return!1}return!0}function le(Ee,Te,Le){var Ge=ee(Le);return Ge??(Te.has(Ge)&&!Ee.has(Ge))}function oe(Ee,Te,Le,Ge,He){var ke=ee(Le);if(ke!=null)return ke;var We=Te.get(ke);return We===void 0&&!Te.has(ke)||!X(Ge,We,!1,He)?!1:!Ee.has(ke)&&X(Ge,We,!1,He)}function he(Ee,Te,Le,Ge){for(var He=null,ke=g(Ee),We=0;We<ke.length;We++){var nt=ke[We];if(y(nt)==="object"&&nt!==null)He===null&&(He=new Set),He.add(nt);else if(!Te.has(nt)){if(Le||!le(Ee,Te,nt))return!1;He===null&&(He=new Set),He.add(nt)}}if(He!==null){for(var qe=g(Te),Qe=0;Qe<qe.length;Qe++){var tt=qe[Qe];if(y(tt)==="object"&&tt!==null){if(!Q(He,tt,Le,Ge))return!1}else if(!Le&&!Ee.has(tt)&&!Q(He,tt,Le,Ge))return!1}return He.size===0}return!0}function xe(Ee,Te,Le,Ge,He,ke){for(var We=g(Ee),nt=0;nt<We.length;nt++){var qe=We[nt];if(X(Le,qe,He,ke)&&X(Ge,Te.get(qe),He,ke))return Ee.delete(qe),!0}return!1}function Ae(Ee,Te,Le,Ge){for(var He=null,ke=t(Ee),We=0;We<ke.length;We++){var nt=p(ke[We],2),qe=nt[0],Qe=nt[1];if(y(qe)==="object"&&qe!==null)He===null&&(He=new Set),He.add(qe);else{var tt=Te.get(qe);if(tt===void 0&&!Te.has(qe)||!X(Qe,tt,Le,Ge)){if(Le||!oe(Ee,Te,qe,Qe,Ge))return!1;He===null&&(He=new Set),He.add(qe)}}}if(He!==null){for(var vt=t(Te),dt=0;dt<vt.length;dt++){var gt=p(vt[dt],2),qe=gt[0],Mt=gt[1];if(y(qe)==="object"&&qe!==null){if(!xe(He,Ee,qe,Mt,Le,Ge))return!1}else if(!Le&&(!Ee.has(qe)||!X(Ee.get(qe),Mt,!1,Ge))&&!xe(He,Ee,qe,Mt,!1,Ge))return!1}return He.size===0}return!0}function Se(Ee,Te,Le,Ge,He,ke){var We=0;if(ke===q){if(!he(Ee,Te,Le,He))return!1}else if(ke===J){if(!Ae(Ee,Te,Le,He))return!1}else if(ke===Z)for(;We<Ee.length;We++)if(c(Ee,We)){if(!c(Te,We)||!X(Ee[We],Te[We],Le,He))return!1}else{if(c(Te,We))return!1;for(var nt=Object.keys(Ee);We<nt.length;We++){var qe=nt[We];if(!c(Te,qe)||!X(Ee[qe],Te[qe],Le,He))return!1}return nt.length===Object.keys(Te).length}for(We=0;We<Ge.length;We++){var Qe=Ge[We];if(!X(Ee[Qe],Te[Qe],Le,He))return!1}return!0}function Oe(Ee,Te){return X(Ee,Te,F)}function Ve(Ee,Te){return X(Ee,Te,O)}V.exports={isDeepEqual:Oe,isDeepStrictEqual:Ve}},95341:function(V,B){B.byteLength=g,B.toByteArray=r,B.fromByteArray=s;for(var e=[],p=[],L=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C=0,y=n.length;C<y;++C)e[C]=n[C],p[n.charCodeAt(C)]=C;p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63;function h(c){var u=c.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=c.indexOf("=");b===-1&&(b=u);var f=b===u?0:4-b%4;return[b,f]}function g(c){var u=h(c),b=u[0],f=u[1];return(b+f)*3/4-f}function t(c,u,b){return(u+b)*3/4-b}function r(c){var u,b=h(c),f=b[0],w=b[1],v=new L(t(c,f,w)),o=0,d=w>0?f-4:f,S;for(S=0;S<d;S+=4)u=p[c.charCodeAt(S)]<<18|p[c.charCodeAt(S+1)]<<12|p[c.charCodeAt(S+2)]<<6|p[c.charCodeAt(S+3)],v[o++]=u>>16&255,v[o++]=u>>8&255,v[o++]=u&255;return w===2&&(u=p[c.charCodeAt(S)]<<2|p[c.charCodeAt(S+1)]>>4,v[o++]=u&255),w===1&&(u=p[c.charCodeAt(S)]<<10|p[c.charCodeAt(S+1)]<<4|p[c.charCodeAt(S+2)]>>2,v[o++]=u>>8&255,v[o++]=u&255),v}function l(c){return e[c>>18&63]+e[c>>12&63]+e[c>>6&63]+e[c&63]}function a(c,u,b){for(var f,w=[],v=u;v<b;v+=3)f=(c[v]<<16&16711680)+(c[v+1]<<8&65280)+(c[v+2]&255),w.push(l(f));return w.join("")}function s(c){for(var u,b=c.length,f=b%3,w=[],v=16383,o=0,d=b-f;o<d;o+=v)w.push(a(c,o,o+v>d?d:o+v));return f===1?(u=c[b-1],w.push(e[u>>2]+e[u<<4&63]+"==")):f===2&&(u=(c[b-2]<<8)+c[b-1],w.push(e[u>>10]+e[u>>4&63]+e[u<<2&63]+"=")),w.join("")}},91358:function(V){function B(y,h,g,t,r){for(var l=r+1;t<=r;){var a=t+r>>>1,s=y[a],c=g!==void 0?g(s,h):s-h;c>=0?(l=a,r=a-1):t=a+1}return l}function e(y,h,g,t,r){for(var l=r+1;t<=r;){var a=t+r>>>1,s=y[a],c=g!==void 0?g(s,h):s-h;c>0?(l=a,r=a-1):t=a+1}return l}function p(y,h,g,t,r){for(var l=t-1;t<=r;){var a=t+r>>>1,s=y[a],c=g!==void 0?g(s,h):s-h;c<0?(l=a,t=a+1):r=a-1}return l}function L(y,h,g,t,r){for(var l=t-1;t<=r;){var a=t+r>>>1,s=y[a],c=g!==void 0?g(s,h):s-h;c<=0?(l=a,t=a+1):r=a-1}return l}function n(y,h,g,t,r){for(;t<=r;){var l=t+r>>>1,a=y[l],s=g!==void 0?g(a,h):a-h;if(s===0)return l;s<=0?t=l+1:r=l-1}return-1}function C(y,h,g,t,r,l){return typeof g=="function"?l(y,h,g,t===void 0?0:t|0,r===void 0?y.length-1:r|0):l(y,h,void 0,g===void 0?0:g|0,t===void 0?y.length-1:t|0)}V.exports={ge:function(y,h,g,t,r){return C(y,h,g,t,r,B)},gt:function(y,h,g,t,r){return C(y,h,g,t,r,e)},lt:function(y,h,g,t,r){return C(y,h,g,t,r,p)},le:function(y,h,g,t,r){return C(y,h,g,t,r,L)},eq:function(y,h,g,t,r){return C(y,h,g,t,r,n)}}},13547:function(V,B){"use restrict";var e=32;B.INT_BITS=e,B.INT_MAX=2147483647,B.INT_MIN=-1<<e-1,B.sign=function(n){return(n>0)-(n<0)},B.abs=function(n){var C=n>>e-1;return(n^C)-C},B.min=function(n,C){return C^(n^C)&-(n<C)},B.max=function(n,C){return n^(n^C)&-(n<C)},B.isPow2=function(n){return!(n&n-1)&&!!n},B.log2=function(n){var C,y;return C=(n>65535)<<4,n>>>=C,y=(n>255)<<3,n>>>=y,C|=y,y=(n>15)<<2,n>>>=y,C|=y,y=(n>3)<<1,n>>>=y,C|=y,C|n>>1},B.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},B.popCount=function(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),(n+(n>>>4)&252645135)*16843009>>>24};function p(n){var C=32;return n&=-n,n&&C--,n&65535&&(C-=16),n&16711935&&(C-=8),n&252645135&&(C-=4),n&858993459&&(C-=2),n&1431655765&&(C-=1),C}B.countTrailingZeros=p,B.nextPow2=function(n){return n+=n===0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1},B.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n-(n>>>1)},B.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,n&=15,27030>>>n&1};var L=new Array(256);(function(n){for(var C=0;C<256;++C){var y=C,h=C,g=7;for(y>>>=1;y;y>>>=1)h<<=1,h|=y&1,--g;n[C]=h<<g&255}})(L),B.reverse=function(n){return L[n&255]<<24|L[n>>>8&255]<<16|L[n>>>16&255]<<8|L[n>>>24&255]},B.interleave2=function(n,C){return n&=65535,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,C&=65535,C=(C|C<<8)&16711935,C=(C|C<<4)&252645135,C=(C|C<<2)&858993459,C=(C|C<<1)&1431655765,n|C<<1},B.deinterleave2=function(n,C){return n=n>>>C&1431655765,n=(n|n>>>1)&858993459,n=(n|n>>>2)&252645135,n=(n|n>>>4)&16711935,n=(n|n>>>16)&65535,n<<16>>16},B.interleave3=function(n,C,y){return n&=1023,n=(n|n<<16)&4278190335,n=(n|n<<8)&251719695,n=(n|n<<4)&3272356035,n=(n|n<<2)&1227133513,C&=1023,C=(C|C<<16)&4278190335,C=(C|C<<8)&251719695,C=(C|C<<4)&3272356035,C=(C|C<<2)&1227133513,n|=C<<1,y&=1023,y=(y|y<<16)&4278190335,y=(y|y<<8)&251719695,y=(y|y<<4)&3272356035,y=(y|y<<2)&1227133513,n|y<<2},B.deinterleave3=function(n,C){return n=n>>>C&1227133513,n=(n|n>>>2)&3272356035,n=(n|n>>>4)&251719695,n=(n|n>>>8)&4278190335,n=(n|n>>>16)&1023,n<<22>>22},B.nextCombination=function(n){var C=n|n-1;return C+1|(~C&-~C)-1>>>p(n)+1}},44781:function(V,B,e){var p=e(53435);V.exports=n;var L=1e20;function n(h,g){g||(g={});var t=g.cutoff==null?.25:g.cutoff,r=g.radius==null?8:g.radius,l=g.channel||0,a,s,c,u,b,f,w,v,o,d,S;if(ArrayBuffer.isView(h)||Array.isArray(h)){if(!g.width||!g.height)throw Error("For raw data width and height should be provided by options");a=g.width,s=g.height,u=h,g.stride?f=g.stride:f=Math.floor(h.length/a/s)}else window.HTMLCanvasElement&&h instanceof window.HTMLCanvasElement?(v=h,w=v.getContext("2d"),a=v.width,s=v.height,o=w.getImageData(0,0,a,s),u=o.data,f=4):window.CanvasRenderingContext2D&&h instanceof window.CanvasRenderingContext2D?(v=h.canvas,w=h,a=v.width,s=v.height,o=w.getImageData(0,0,a,s),u=o.data,f=4):window.ImageData&&h instanceof window.ImageData&&(o=h,a=h.width,s=h.height,u=o.data,f=4);if(c=Math.max(a,s),window.Uint8ClampedArray&&u instanceof window.Uint8ClampedArray||window.Uint8Array&&u instanceof window.Uint8Array)for(b=u,u=Array(a*s),d=0,S=b.length;d<S;d++)u[d]=b[d*f+l]/255;else if(f!==1)throw Error("Raw data can have only 1 value per pixel");var M=Array(a*s),P=Array(a*s),x=Array(c),E=Array(c),T=Array(c+1),i=Array(c);for(d=0,S=a*s;d<S;d++){var R=u[d];M[d]=R===1?0:R===0?L:Math.pow(Math.max(0,.5-R),2),P[d]=R===1?L:R===0?0:Math.pow(Math.max(0,R-.5),2)}C(M,a,s,x,E,i,T),C(P,a,s,x,E,i,T);var A=window.Float32Array?new Float32Array(a*s):new Array(a*s);for(d=0,S=a*s;d<S;d++)A[d]=p(1-((M[d]-P[d])/r+t),0,1);return A}function C(h,g,t,r,l,a,s){for(var c=0;c<g;c++){for(var u=0;u<t;u++)r[u]=h[u*g+c];for(y(r,l,a,s,t),u=0;u<t;u++)h[u*g+c]=l[u]}for(u=0;u<t;u++){for(c=0;c<g;c++)r[c]=h[u*g+c];for(y(r,l,a,s,g),c=0;c<g;c++)h[u*g+c]=Math.sqrt(l[c])}}function y(h,g,t,r,l){t[0]=0,r[0]=-L,r[1]=+L;for(var a=1,s=0;a<l;a++){for(var c=(h[a]+a*a-(h[t[s]]+t[s]*t[s]))/(2*a-2*t[s]);c<=r[s];)s--,c=(h[a]+a*a-(h[t[s]]+t[s]*t[s]))/(2*a-2*t[s]);s++,t[s]=a,r[s]=c,r[s+1]=+L}for(a=0,s=0;a<l;a++){for(;r[s+1]<a;)s++;g[a]=(a-t[s])*(a-t[s])+h[t[s]]}}},6614:function(V,B,e){var p=e(68318),L=e(68222),n=L(p("String.prototype.indexOf"));V.exports=function(y,h){var g=p(y,!!h);return typeof g=="function"&&n(y,".prototype.")>-1?L(g):g}},68222:function(V,B,e){var p=e(77575),L=e(68318),n=L("%Function.prototype.apply%"),C=L("%Function.prototype.call%"),y=L("%Reflect.apply%",!0)||p.call(C,n),h=L("%Object.getOwnPropertyDescriptor%",!0),g=L("%Object.defineProperty%",!0),t=L("%Math.max%");if(g)try{g({},"a",{value:1})}catch{g=null}V.exports=function(a){var s=y(p,C,arguments);if(h&&g){var c=h(s,"length");c.configurable&&g(s,"length",{value:1+t(0,a.length-(arguments.length-1))})}return s};var r=function(){return y(p,n,arguments)};g?g(V.exports,"apply",{value:r}):V.exports.apply=r},53435:function(V){V.exports=B;function B(e,p,L){return p<L?e<p?p:e>L?L:e:e<L?L:e>p?p:e}},6475:function(V,B,e){var p=e(53435);V.exports=L,V.exports.to=L,V.exports.from=n;function L(C,y){y==null&&(y=!0);var h=C[0],g=C[1],t=C[2],r=C[3];r==null&&(r=y?1:255),y&&(h*=255,g*=255,t*=255,r*=255),h=p(h,0,255)&255,g=p(g,0,255)&255,t=p(t,0,255)&255,r=p(r,0,255)&255;var l=h*16777216+(g<<16)+(t<<8)+r;return l}function n(C,y){C=+C;var h=C>>>24,g=(C&16711680)>>>16,t=(C&65280)>>>8,r=C&255;return y===!1?[h,g,t,r]:[h/255,g/255,t/255,r/255]}},76857:function(V){V.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(V,B,e){var p=e(36652),L=e(53435),n=e(90660);V.exports=function(h,g){(g==="float"||!g)&&(g="array"),g==="uint"&&(g="uint8"),g==="uint_clamped"&&(g="uint8_clamped");var t=n(g),r=new t(4),l=g!=="uint8"&&g!=="uint8_clamped";return(!h.length||typeof h=="string")&&(h=p(h),h[0]/=255,h[1]/=255,h[2]/=255),C(h)?(r[0]=h[0],r[1]=h[1],r[2]=h[2],r[3]=h[3]!=null?h[3]:255,l&&(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(l?(r[0]=h[0],r[1]=h[1],r[2]=h[2],r[3]=h[3]!=null?h[3]:1):(r[0]=L(Math.floor(h[0]*255),0,255),r[1]=L(Math.floor(h[1]*255),0,255),r[2]=L(Math.floor(h[2]*255),0,255),r[3]=h[3]==null?255:L(Math.floor(h[3]*255),0,255)),r)};function C(y){return!!(y instanceof Uint8Array||y instanceof Uint8ClampedArray||Array.isArray(y)&&(y[0]>1||y[0]===0)&&(y[1]>1||y[1]===0)&&(y[2]>1||y[2]===0)&&(!y[3]||y[3]>1))}},90736:function(V,B,e){var p=e(76857),L=e(10973),n=e(46775);V.exports=y;var C={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function y(h){var g,t=[],r=1,l;if(typeof h=="string")if(p[h])t=p[h].slice(),l="rgb";else if(h==="transparent")r=0,l="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(h)){var a=h.slice(1),s=a.length,c=s<=4;r=1,c?(t=[parseInt(a[0]+a[0],16),parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16)],s===4&&(r=parseInt(a[3]+a[3],16)/255)):(t=[parseInt(a[0]+a[1],16),parseInt(a[2]+a[3],16),parseInt(a[4]+a[5],16)],s===8&&(r=parseInt(a[6]+a[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),l="rgb"}else if(g=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(h)){var u=g[1],b=u==="rgb",a=u.replace(/a$/,"");l=a;var s=a==="cmyk"?4:a==="gray"?1:3;t=g[2].trim().split(/\s*,\s*/).map(function(o,d){if(/%$/.test(o))return d===s?parseFloat(o)/100:a==="rgb"?parseFloat(o)*255/100:parseFloat(o);if(a[d]==="h"){if(/deg$/.test(o))return parseFloat(o);if(C[o]!==void 0)return C[o]}return parseFloat(o)}),u===a&&t.push(1),r=b||t[s]===void 0?1:t[s],t=t.slice(0,s)}else h.length>10&&/[0-9](?:\s|\/)/.test(h)&&(t=h.match(/([0-9]+)/g).map(function(w){return parseFloat(w)}),l=h.match(/([a-z])/ig).join("").toLowerCase());else if(!isNaN(h))l="rgb",t=[h>>>16,(h&65280)>>>8,h&255];else if(L(h)){var f=n(h.r,h.red,h.R,null);f!==null?(l="rgb",t=[f,n(h.g,h.green,h.G),n(h.b,h.blue,h.B)]):(l="hsl",t=[n(h.h,h.hue,h.H),n(h.s,h.saturation,h.S),n(h.l,h.lightness,h.L,h.b,h.brightness)]),r=n(h.a,h.alpha,h.opacity,1),h.opacity!=null&&(r/=100)}else(Array.isArray(h)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(h))&&(t=[h[0],h[1],h[2]],l="rgb",r=h.length===4?h[3]:1);return{space:l,values:t,alpha:r}}},36652:function(V,B,e){var p=e(90736),L=e(80009),n=e(53435);V.exports=function(y){var h,g=p(y);return g.space?(h=Array(3),h[0]=n(g.values[0],0,255),h[1]=n(g.values[1],0,255),h[2]=n(g.values[2],0,255),g.space[0]==="h"&&(h=L.rgb(h)),h.push(n(g.alpha,0,1)),h):[]}},80009:function(V,B,e){var p=e(6866);V.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(L){var n=L[0]/360,C=L[1]/100,y=L[2]/100,h,g,t,r,l;if(C===0)return l=y*255,[l,l,l];y<.5?g=y*(1+C):g=y+C-y*C,h=2*y-g,r=[0,0,0];for(var a=0;a<3;a++)t=n+.3333333333333333*-(a-1),t<0?t++:t>1&&t--,6*t<1?l=h+(g-h)*6*t:2*t<1?l=g:3*t<2?l=h+(g-h)*(.6666666666666666-t)*6:l=h,r[a]=l*255;return r}},p.hsl=function(L){var n=L[0]/255,C=L[1]/255,y=L[2]/255,h=Math.min(n,C,y),g=Math.max(n,C,y),t=g-h,r,l,a;return g===h?r=0:n===g?r=(C-y)/t:C===g?r=2+(y-n)/t:y===g&&(r=4+(n-C)/t),r=Math.min(r*60,360),r<0&&(r+=360),a=(h+g)/2,g===h?l=0:a<=.5?l=t/(g+h):l=t/(2-g-h),[r,l*100,a*100]}},6866:function(V){V.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(V){V.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|)o.?tom(e|)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(V,B,e){V.exports={parse:e(41004),stringify:e(53313)}},63625:function(V,B,e){var p=e(40402);V.exports={isSize:function(n){return/^[\d\.]/.test(n)||n.indexOf("/")!==-1||p.indexOf(n)!==-1}}},41004:function(V,B,e){var p=e(90448),L=e(38732),n=e(41901),C=e(15659),y=e(96209),h=e(83794),g=e(99011),t=e(63625).isSize;V.exports=l;var r=l.cache={};function l(s){if(typeof s!="string")throw new Error("Font argument must be a string.");if(r[s])return r[s];if(s==="")throw new Error("Cannot parse an empty string.");if(n.indexOf(s)!==-1)return r[s]={system:s};for(var c={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},u=g(s,/\s+/),b;b=u.shift();){if(L.indexOf(b)!==-1)return["style","variant","weight","stretch"].forEach(function(w){c[w]=b}),r[s]=c;if(y.indexOf(b)!==-1){c.style=b;continue}if(b==="normal"||b==="small-caps"){c.variant=b;continue}if(h.indexOf(b)!==-1){c.stretch=b;continue}if(C.indexOf(b)!==-1){c.weight=b;continue}if(t(b)){var f=g(b,"/");if(c.size=f[0],f[1]!=null?c.lineHeight=a(f[1]):u[0]==="/"&&(u.shift(),c.lineHeight=a(u.shift())),!u.length)throw new Error("Missing required font-family.");return c.family=g(u.join(" "),/\s*,\s*/).map(p),r[s]=c}throw new Error("Unknown or unsupported font token: "+b)}throw new Error("Missing required font-size.")}function a(s){var c=parseFloat(s);return c.toString()===s?c:s}},53313:function(V,B,e){var p=e(71299),L=e(63625).isSize,n=s(e(38732)),C=s(e(41901)),y=s(e(15659)),h=s(e(96209)),g=s(e(83794)),t={normal:1,"small-caps":1},r={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},l={style:"normal",variant:"normal",weight:"normal",stretch:"normal",size:"1rem",lineHeight:"normal",family:"serif"};V.exports=function(u){if(u=p(u,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"}),u.system)return u.system&&a(u.system,C),u.system;if(a(u.style,h),a(u.variant,t),a(u.weight,y),a(u.stretch,g),u.size==null&&(u.size=l.size),typeof u.size=="number"&&(u.size+="px"),!L)throw Error("Bad size value `"+u.size+"`");u.family||(u.family=l.family),Array.isArray(u.family)&&(u.family.length||(u.family=[l.family]),u.family=u.family.map(function(f){return r[f]?f:'"'+f+'"'}).join(", "));var b=[];return b.push(u.style),u.variant!==u.style&&b.push(u.variant),u.weight!==u.variant&&u.weight!==u.style&&b.push(u.weight),u.stretch!==u.weight&&u.stretch!==u.variant&&u.stretch!==u.style&&b.push(u.stretch),b.push(u.size+(u.lineHeight==null||u.lineHeight==="normal"||u.lineHeight+""=="1"?"":"/"+u.lineHeight)),b.push(u.family),b.filter(Boolean).join(" ")};function a(c,u){if(c&&!u[c]&&!n[c])throw Error("Unknown keyword `"+c+"`");return c}function s(c){for(var u={},b=0;b<c.length;b++)u[c[b]]=1;return u}},55174:function(V,B,e){var p=e(24582),L=e(10424),n=e(82527),C=e(19012),y=e(21780),h=e(16906),g=Function.prototype.bind,t=Object.defineProperty,r=Object.prototype.hasOwnProperty,l;l=function(a,s,c){var u=L(s)&&n(s.value),b;return b=C(s),delete b.writable,delete b.value,b.get=function(){return!c.overwriteDefinition&&r.call(this,a)?u:(s.value=g.call(u,c.resolveContext?c.resolveContext(this):this),t(this,a,s),this[a])},b},V.exports=function(a){var s=y(arguments[1]);return p(s.resolveContext)&&n(s.resolveContext),h(a,function(c,u){return l(u,c,s)})}},62072:function(V,B,e){var p=e(24582),L=e(84985),n=e(95879),C=e(21780),y=e(66741),h=V.exports=function(g,t){var r,l,a,s,c;return arguments.length<2||typeof g!="string"?(s=t,t=g,g=null):s=arguments[2],p(g)?(r=y.call(g,"c"),l=y.call(g,"e"),a=y.call(g,"w")):(r=a=!0,l=!1),c={value:t,configurable:r,enumerable:l,writable:a},s?n(C(s),c):c};h.gs=function(g,t,r){var l,a,s,c;return typeof g!="string"?(s=r,r=t,t=g,g=null):s=arguments[3],p(t)?L(t)?p(r)?L(r)||(s=r,r=void 0):r=void 0:(s=t,t=r=void 0):t=void 0,p(g)?(l=y.call(g,"c"),a=y.call(g,"e")):(l=!0,a=!1),c={get:t,set:r,configurable:l,enumerable:a},s?n(C(s),c):c}},33064:function(V,B,e){e.d(B,{j2:function(){return p},Fp:function(){return C},J6:function(){return h},TS:function(){return g},VV:function(){return t},w6:function(){return r},Sm:function(){return l}});function p(a,s){return a<s?-1:a>s?1:a>=s?0:NaN}function L(a){return a.length===1&&(a=n(a)),{left:function(s,c,u,b){for(u==null&&(u=0),b==null&&(b=s.length);u<b;){var f=u+b>>>1;a(s[f],c)<0?u=f+1:b=f}return u},right:function(s,c,u,b){for(u==null&&(u=0),b==null&&(b=s.length);u<b;){var f=u+b>>>1;a(s[f],c)>0?b=f:u=f+1}return u}}}function n(a){return function(s,c){return p(a(s),c)}}L(p);function C(a,s){var c=a.length,u=-1,b,f;if(s==null){for(;++u<c;)if((b=a[u])!=null&&b>=b)for(f=b;++u<c;)(b=a[u])!=null&&b>f&&(f=b)}else for(;++u<c;)if((b=s(a[u],u,a))!=null&&b>=b)for(f=b;++u<c;)(b=s(a[u],u,a))!=null&&b>f&&(f=b);return f}function y(a){return a===null?NaN:+a}function h(a,s){var c=a.length,u=c,b=-1,f,w=0;if(s==null)for(;++b<c;)isNaN(f=y(a[b]))?--u:w+=f;else for(;++b<c;)isNaN(f=y(s(a[b],b,a)))?--u:w+=f;if(u)return w/u}function g(a){for(var s=a.length,c,u=-1,b=0,f,w;++u<s;)b+=a[u].length;for(f=new Array(b);--s>=0;)for(w=a[s],c=w.length;--c>=0;)f[--b]=w[c];return f}function t(a,s){var c=a.length,u=-1,b,f;if(s==null){for(;++u<c;)if((b=a[u])!=null&&b>=b)for(f=b;++u<c;)(b=a[u])!=null&&f>b&&(f=b)}else for(;++u<c;)if((b=s(a[u],u,a))!=null&&b>=b)for(f=b;++u<c;)(b=s(a[u],u,a))!=null&&f>b&&(f=b);return f}function r(a,s,c){a=+a,s=+s,c=(b=arguments.length)<2?(s=a,a=0,1):b<3?1:+c;for(var u=-1,b=Math.max(0,Math.ceil((s-a)/c))|0,f=new Array(b);++u<b;)f[u]=a+u*c;return f}function l(a,s){var c=a.length,u=-1,b,f=0;if(s==null)for(;++u<c;)(b=+a[u])&&(f+=b);else for(;++u<c;)(b=+s(a[u],u,a))&&(f+=b);return f}},15140:function(V,B,e){e.d(B,{UI:function(){return C},b1:function(){return y}});var p="$";function L(){}L.prototype=n.prototype={constructor:L,has:function(s){return p+s in this},get:function(s){return this[p+s]},set:function(s,c){return this[p+s]=c,this},remove:function(s){var c=p+s;return c in this&&delete this[c]},clear:function(){for(var s in this)s[0]===p&&delete this[s]},keys:function(){var s=[];for(var c in this)c[0]===p&&s.push(c.slice(1));return s},values:function(){var s=[];for(var c in this)c[0]===p&&s.push(this[c]);return s},entries:function(){var s=[];for(var c in this)c[0]===p&&s.push({key:c.slice(1),value:this[c]});return s},size:function(){var s=0;for(var c in this)c[0]===p&&++s;return s},empty:function(){for(var s in this)if(s[0]===p)return!1;return!0},each:function(s){for(var c in this)c[0]===p&&s(this[c],c.slice(1),this)}};function n(s,c){var u=new L;if(s instanceof L)s.each(function(o,d){u.set(d,o)});else if(Array.isArray(s)){var b=-1,f=s.length,w;if(c==null)for(;++b<f;)u.set(b,s[b]);else for(;++b<f;)u.set(c(w=s[b],b,s),w)}else if(s)for(var v in s)u.set(v,s[v]);return u}var C=n;function y(){var s=[],c=[],u,b,f;function w(o,d,S,M){if(d>=s.length)return u!=null&&o.sort(u),b!=null?b(o):o;for(var P=-1,x=o.length,E=s[d++],T,i,R=C(),A,k=S();++P<x;)(A=R.get(T=E(i=o[P])+""))?A.push(i):R.set(T,[i]);return R.each(function(_,H){M(k,H,w(_,d,S,M))}),k}function v(o,d){if(++d>s.length)return o;var S,M=c[d-1];return b!=null&&d>=s.length?S=o.entries():(S=[],o.each(function(P,x){S.push({key:x,values:v(P,d)})})),M!=null?S.sort(function(P,x){return M(P.key,x.key)}):S}return f={object:function(o){return w(o,0,h,g)},map:function(o){return w(o,0,t,r)},entries:function(o){return v(w(o,0,t,r),0)},key:function(o){return s.push(o),f},sortKeys:function(o){return c[s.length-1]=o,f},sortValues:function(o){return u=o,f},rollup:function(o){return b=o,f}}}function h(){return{}}function g(s,c,u){s[c]=u}function t(){return C()}function r(s,c,u){s.set(c,u)}function l(){}var a=C.prototype;l.prototype={constructor:l,has:a.has,add:function(s){return s+="",this[p+s]=s,this},remove:a.remove,clear:a.clear,values:a.keys,size:a.size,empty:a.empty,each:a.each}},49887:function(V,B,e){e.r(B),e.d(B,{forceCenter:function(){return p},forceCollide:function(){return R},forceLink:function(){return H},forceManyBody:function(){return We},forceRadial:function(){return nt},forceSimulation:function(){return ke},forceX:function(){return qe},forceY:function(){return Qe}});function p(tt,vt){var dt;tt==null&&(tt=0),vt==null&&(vt=0);function gt(){var Mt,Rt=dt.length,Wt,je=0,_e=0;for(Mt=0;Mt<Rt;++Mt)Wt=dt[Mt],je+=Wt.x,_e+=Wt.y;for(je=je/Rt-tt,_e=_e/Rt-vt,Mt=0;Mt<Rt;++Mt)Wt=dt[Mt],Wt.x-=je,Wt.y-=_e}return gt.initialize=function(Mt){dt=Mt},gt.x=function(Mt){return arguments.length?(tt=+Mt,gt):tt},gt.y=function(Mt){return arguments.length?(vt=+Mt,gt):vt},gt}function L(tt){return function(){return tt}}function n(){return(Math.random()-.5)*1e-6}function C(tt){var vt=+this._x.call(null,tt),dt=+this._y.call(null,tt);return y(this.cover(vt,dt),vt,dt,tt)}function y(tt,vt,dt,gt){if(isNaN(vt)||isNaN(dt))return tt;var Mt,Rt=tt._root,Wt={data:gt},je=tt._x0,_e=tt._y0,Fe=tt._x1,Be=tt._y1,De,we,ue,me,Re,Ne,it,ot;if(!Rt)return tt._root=Wt,tt;for(;Rt.length;)if((Re=vt>=(De=(je+Fe)/2))?je=De:Fe=De,(Ne=dt>=(we=(_e+Be)/2))?_e=we:Be=we,Mt=Rt,!(Rt=Rt[it=Ne<<1|Re]))return Mt[it]=Wt,tt;if(ue=+tt._x.call(null,Rt.data),me=+tt._y.call(null,Rt.data),vt===ue&&dt===me)return Wt.next=Rt,Mt?Mt[it]=Wt:tt._root=Wt,tt;do Mt=Mt?Mt[it]=new Array(4):tt._root=new Array(4),(Re=vt>=(De=(je+Fe)/2))?je=De:Fe=De,(Ne=dt>=(we=(_e+Be)/2))?_e=we:Be=we;while((it=Ne<<1|Re)===(ot=(me>=we)<<1|ue>=De));return Mt[ot]=Rt,Mt[it]=Wt,tt}function h(tt){var vt,dt,gt=tt.length,Mt,Rt,Wt=new Array(gt),je=new Array(gt),_e=1/0,Fe=1/0,Be=-1/0,De=-1/0;for(dt=0;dt<gt;++dt)isNaN(Mt=+this._x.call(null,vt=tt[dt]))||isNaN(Rt=+this._y.call(null,vt))||(Wt[dt]=Mt,je[dt]=Rt,Mt<_e&&(_e=Mt),Mt>Be&&(Be=Mt),Rt<Fe&&(Fe=Rt),Rt>De&&(De=Rt));if(_e>Be||Fe>De)return this;for(this.cover(_e,Fe).cover(Be,De),dt=0;dt<gt;++dt)y(this,Wt[dt],je[dt],tt[dt]);return this}function g(tt,vt){if(isNaN(tt=+tt)||isNaN(vt=+vt))return this;var dt=this._x0,gt=this._y0,Mt=this._x1,Rt=this._y1;if(isNaN(dt))Mt=(dt=Math.floor(tt))+1,Rt=(gt=Math.floor(vt))+1;else{for(var Wt=Mt-dt,je=this._root,_e,Fe;dt>tt||tt>=Mt||gt>vt||vt>=Rt;)switch(Fe=(vt<gt)<<1|tt<dt,_e=new Array(4),_e[Fe]=je,je=_e,Wt*=2,Fe){case 0:Mt=dt+Wt,Rt=gt+Wt;break;case 1:dt=Mt-Wt,Rt=gt+Wt;break;case 2:Mt=dt+Wt,gt=Rt-Wt;break;case 3:dt=Mt-Wt,gt=Rt-Wt;break}this._root&&this._root.length&&(this._root=je)}return this._x0=dt,this._y0=gt,this._x1=Mt,this._y1=Rt,this}function t(){var tt=[];return this.visit(function(vt){if(!vt.length)do tt.push(vt.data);while(vt=vt.next)}),tt}function r(tt){return arguments.length?this.cover(+tt[0][0],+tt[0][1]).cover(+tt[1][0],+tt[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function l(tt,vt,dt,gt,Mt){this.node=tt,this.x0=vt,this.y0=dt,this.x1=gt,this.y1=Mt}function a(tt,vt,dt){var gt,Mt=this._x0,Rt=this._y0,Wt,je,_e,Fe,Be=this._x1,De=this._y1,we=[],ue=this._root,me,Re;for(ue&&we.push(new l(ue,Mt,Rt,Be,De)),dt==null?dt=1/0:(Mt=tt-dt,Rt=vt-dt,Be=tt+dt,De=vt+dt,dt*=dt);me=we.pop();)if(!(!(ue=me.node)||(Wt=me.x0)>Be||(je=me.y0)>De||(_e=me.x1)<Mt||(Fe=me.y1)<Rt))if(ue.length){var Ne=(Wt+_e)/2,it=(je+Fe)/2;we.push(new l(ue[3],Ne,it,_e,Fe),new l(ue[2],Wt,it,Ne,Fe),new l(ue[1],Ne,je,_e,it),new l(ue[0],Wt,je,Ne,it)),(Re=(vt>=it)<<1|tt>=Ne)&&(me=we[we.length-1],we[we.length-1]=we[we.length-1-Re],we[we.length-1-Re]=me)}else{var ot=tt-+this._x.call(null,ue.data),wt=vt-+this._y.call(null,ue.data),Ft=ot*ot+wt*wt;if(Ft<dt){var Ut=Math.sqrt(dt=Ft);Mt=tt-Ut,Rt=vt-Ut,Be=tt+Ut,De=vt+Ut,gt=ue.data}}return gt}function s(tt){if(isNaN(Be=+this._x.call(null,tt))||isNaN(De=+this._y.call(null,tt)))return this;var vt,dt=this._root,gt,Mt,Rt,Wt=this._x0,je=this._y0,_e=this._x1,Fe=this._y1,Be,De,we,ue,me,Re,Ne,it;if(!dt)return this;if(dt.length)for(;;){if((me=Be>=(we=(Wt+_e)/2))?Wt=we:_e=we,(Re=De>=(ue=(je+Fe)/2))?je=ue:Fe=ue,vt=dt,!(dt=dt[Ne=Re<<1|me]))return this;if(!dt.length)break;(vt[Ne+1&3]||vt[Ne+2&3]||vt[Ne+3&3])&&(gt=vt,it=Ne)}for(;dt.data!==tt;)if(Mt=dt,!(dt=dt.next))return this;return(Rt=dt.next)&&delete dt.next,Mt?(Rt?Mt.next=Rt:delete Mt.next,this):vt?(Rt?vt[Ne]=Rt:delete vt[Ne],(dt=vt[0]||vt[1]||vt[2]||vt[3])&&dt===(vt[3]||vt[2]||vt[1]||vt[0])&&!dt.length&&(gt?gt[it]=dt:this._root=dt),this):(this._root=Rt,this)}function c(tt){for(var vt=0,dt=tt.length;vt<dt;++vt)this.remove(tt[vt]);return this}function u(){return this._root}function b(){var tt=0;return this.visit(function(vt){if(!vt.length)do++tt;while(vt=vt.next)}),tt}function f(tt){var vt=[],dt,gt=this._root,Mt,Rt,Wt,je,_e;for(gt&&vt.push(new l(gt,this._x0,this._y0,this._x1,this._y1));dt=vt.pop();)if(!tt(gt=dt.node,Rt=dt.x0,Wt=dt.y0,je=dt.x1,_e=dt.y1)&&gt.length){var Fe=(Rt+je)/2,Be=(Wt+_e)/2;(Mt=gt[3])&&vt.push(new l(Mt,Fe,Be,je,_e)),(Mt=gt[2])&&vt.push(new l(Mt,Rt,Be,Fe,_e)),(Mt=gt[1])&&vt.push(new l(Mt,Fe,Wt,je,Be)),(Mt=gt[0])&&vt.push(new l(Mt,Rt,Wt,Fe,Be))}return this}function w(tt){var vt=[],dt=[],gt;for(this._root&&vt.push(new l(this._root,this._x0,this._y0,this._x1,this._y1));gt=vt.pop();){var Mt=gt.node;if(Mt.length){var Rt,Wt=gt.x0,je=gt.y0,_e=gt.x1,Fe=gt.y1,Be=(Wt+_e)/2,De=(je+Fe)/2;(Rt=Mt[0])&&vt.push(new l(Rt,Wt,je,Be,De)),(Rt=Mt[1])&&vt.push(new l(Rt,Be,je,_e,De)),(Rt=Mt[2])&&vt.push(new l(Rt,Wt,De,Be,Fe)),(Rt=Mt[3])&&vt.push(new l(Rt,Be,De,_e,Fe))}dt.push(gt)}for(;gt=dt.pop();)tt(gt.node,gt.x0,gt.y0,gt.x1,gt.y1);return this}function v(tt){return tt[0]}function o(tt){return arguments.length?(this._x=tt,this):this._x}function d(tt){return tt[1]}function S(tt){return arguments.length?(this._y=tt,this):this._y}function M(tt,vt,dt){var gt=new P(vt??v,dt??d,NaN,NaN,NaN,NaN);return tt==null?gt:gt.addAll(tt)}function P(tt,vt,dt,gt,Mt,Rt){this._x=tt,this._y=vt,this._x0=dt,this._y0=gt,this._x1=Mt,this._y1=Rt,this._root=void 0}function x(tt){for(var vt={data:tt.data},dt=vt;tt=tt.next;)dt=dt.next={data:tt.data};return vt}var E=M.prototype=P.prototype;E.copy=function(){var tt=new P(this._x,this._y,this._x0,this._y0,this._x1,this._y1),vt=this._root,dt,gt;if(!vt)return tt;if(!vt.length)return tt._root=x(vt),tt;for(dt=[{source:vt,target:tt._root=new Array(4)}];vt=dt.pop();)for(var Mt=0;Mt<4;++Mt)(gt=vt.source[Mt])&&(gt.length?dt.push({source:gt,target:vt.target[Mt]=new Array(4)}):vt.target[Mt]=x(gt));return tt},E.add=C,E.addAll=h,E.cover=g,E.data=t,E.extent=r,E.find=a,E.remove=s,E.removeAll=c,E.root=u,E.size=b,E.visit=f,E.visitAfter=w,E.x=o,E.y=S;function T(tt){return tt.x+tt.vx}function i(tt){return tt.y+tt.vy}function R(tt){var vt,dt,gt=1,Mt=1;typeof tt!="function"&&(tt=L(tt==null?1:+tt));function Rt(){for(var _e,Fe=vt.length,Be,De,we,ue,me,Re,Ne=0;Ne<Mt;++Ne)for(Be=M(vt,T,i).visitAfter(Wt),_e=0;_e<Fe;++_e)De=vt[_e],me=dt[De.index],Re=me*me,we=De.x+De.vx,ue=De.y+De.vy,Be.visit(it);function it(ot,wt,Ft,Ut,Gt){var Et=ot.data,$t=ot.r,lr=me+$t;if(Et){if(Et.index>De.index){var Fr=we-Et.x-Et.vx,yt=ue-Et.y-Et.vy,Kt=Fr*Fr+yt*yt;Kt<lr*lr&&(Fr===0&&(Fr=n(),Kt+=Fr*Fr),yt===0&&(yt=n(),Kt+=yt*yt),Kt=(lr-(Kt=Math.sqrt(Kt)))/Kt*gt,De.vx+=(Fr*=Kt)*(lr=($t*=$t)/(Re+$t)),De.vy+=(yt*=Kt)*lr,Et.vx-=Fr*(lr=1-lr),Et.vy-=yt*lr)}return}return wt>we+lr||Ut<we-lr||Ft>ue+lr||Gt<ue-lr}}function Wt(_e){if(_e.data)return _e.r=dt[_e.data.index];for(var Fe=_e.r=0;Fe<4;++Fe)_e[Fe]&&_e[Fe].r>_e.r&&(_e.r=_e[Fe].r)}function je(){if(vt){var _e,Fe=vt.length,Be;for(dt=new Array(Fe),_e=0;_e<Fe;++_e)Be=vt[_e],dt[Be.index]=+tt(Be,_e,vt)}}return Rt.initialize=function(_e){vt=_e,je()},Rt.iterations=function(_e){return arguments.length?(Mt=+_e,Rt):Mt},Rt.strength=function(_e){return arguments.length?(gt=+_e,Rt):gt},Rt.radius=function(_e){return arguments.length?(tt=typeof _e=="function"?_e:L(+_e),je(),Rt):tt},Rt}var A=e(15140);function k(tt){return tt.index}function _(tt,vt){var dt=tt.get(vt);if(!dt)throw new Error("missing: "+vt);return dt}function H(tt){var vt=k,dt=Be,gt,Mt=L(30),Rt,Wt,je,_e,Fe=1;tt==null&&(tt=[]);function Be(Re){return 1/Math.min(je[Re.source.index],je[Re.target.index])}function De(Re){for(var Ne=0,it=tt.length;Ne<Fe;++Ne)for(var ot=0,wt,Ft,Ut,Gt,Et,$t,lr;ot<it;++ot)wt=tt[ot],Ft=wt.source,Ut=wt.target,Gt=Ut.x+Ut.vx-Ft.x-Ft.vx||n(),Et=Ut.y+Ut.vy-Ft.y-Ft.vy||n(),$t=Math.sqrt(Gt*Gt+Et*Et),$t=($t-Rt[ot])/$t*Re*gt[ot],Gt*=$t,Et*=$t,Ut.vx-=Gt*(lr=_e[ot]),Ut.vy-=Et*lr,Ft.vx+=Gt*(lr=1-lr),Ft.vy+=Et*lr}function we(){if(Wt){var Re,Ne=Wt.length,it=tt.length,ot=(0,A.UI)(Wt,vt),wt;for(Re=0,je=new Array(Ne);Re<it;++Re)wt=tt[Re],wt.index=Re,typeof wt.source!="object"&&(wt.source=_(ot,wt.source)),typeof wt.target!="object"&&(wt.target=_(ot,wt.target)),je[wt.source.index]=(je[wt.source.index]||0)+1,je[wt.target.index]=(je[wt.target.index]||0)+1;for(Re=0,_e=new Array(it);Re<it;++Re)wt=tt[Re],_e[Re]=je[wt.source.index]/(je[wt.source.index]+je[wt.target.index]);gt=new Array(it),ue(),Rt=new Array(it),me()}}function ue(){if(Wt)for(var Re=0,Ne=tt.length;Re<Ne;++Re)gt[Re]=+dt(tt[Re],Re,tt)}function me(){if(Wt)for(var Re=0,Ne=tt.length;Re<Ne;++Re)Rt[Re]=+Mt(tt[Re],Re,tt)}return De.initialize=function(Re){Wt=Re,we()},De.links=function(Re){return arguments.length?(tt=Re,we(),De):tt},De.id=function(Re){return arguments.length?(vt=Re,De):vt},De.iterations=function(Re){return arguments.length?(Fe=+Re,De):Fe},De.strength=function(Re){return arguments.length?(dt=typeof Re=="function"?Re:L(+Re),ue(),De):dt},De.distance=function(Re){return arguments.length?(Mt=typeof Re=="function"?Re:L(+Re),me(),De):Mt},De}var z={value:function(){}};function N(){for(var tt=0,vt=arguments.length,dt={},gt;tt<vt;++tt){if(!(gt=arguments[tt]+"")||gt in dt||/[\s.]/.test(gt))throw new Error("illegal type: "+gt);dt[gt]=[]}return new O(dt)}function O(tt){this._=tt}function F(tt,vt){return tt.trim().split(/^|\s+/).map(function(dt){var gt="",Mt=dt.indexOf(".");if(Mt>=0&&(gt=dt.slice(Mt+1),dt=dt.slice(0,Mt)),dt&&!vt.hasOwnProperty(dt))throw new Error("unknown type: "+dt);return{type:dt,name:gt}})}O.prototype=N.prototype={constructor:O,on:function(tt,vt){var dt=this._,gt=F(tt+"",dt),Mt,Rt=-1,Wt=gt.length;if(arguments.length<2){for(;++Rt<Wt;)if((Mt=(tt=gt[Rt]).type)&&(Mt=U(dt[Mt],tt.name)))return Mt;return}if(vt!=null&&typeof vt!="function")throw new Error("invalid callback: "+vt);for(;++Rt<Wt;)if(Mt=(tt=gt[Rt]).type)dt[Mt]=Z(dt[Mt],tt.name,vt);else if(vt==null)for(Mt in dt)dt[Mt]=Z(dt[Mt],tt.name,null);return this},copy:function(){var tt={},vt=this._;for(var dt in vt)tt[dt]=vt[dt].slice();return new O(tt)},call:function(tt,vt){if((Mt=arguments.length-2)>0)for(var dt=new Array(Mt),gt=0,Mt,Rt;gt<Mt;++gt)dt[gt]=arguments[gt+2];if(!this._.hasOwnProperty(tt))throw new Error("unknown type: "+tt);for(Rt=this._[tt],gt=0,Mt=Rt.length;gt<Mt;++gt)Rt[gt].value.apply(vt,dt)},apply:function(tt,vt,dt){if(!this._.hasOwnProperty(tt))throw new Error("unknown type: "+tt);for(var gt=this._[tt],Mt=0,Rt=gt.length;Mt<Rt;++Mt)gt[Mt].value.apply(vt,dt)}};function U(tt,vt){for(var dt=0,gt=tt.length,Mt;dt<gt;++dt)if((Mt=tt[dt]).name===vt)return Mt.value}function Z(tt,vt,dt){for(var gt=0,Mt=tt.length;gt<Mt;++gt)if(tt[gt].name===vt){tt[gt]=z,tt=tt.slice(0,gt).concat(tt.slice(gt+1));break}return dt!=null&&tt.push({name:vt,value:dt}),tt}var q=N,J=0,te=0,fe=0,K=1e3,Y,W,X=0,re=0,se=0,Q=typeof performance=="object"&&performance.now?performance:Date,ee=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(tt){setTimeout(tt,17)};function le(){return re||(ee(oe),re=Q.now()+se)}function oe(){re=0}function he(){this._call=this._time=this._next=null}he.prototype=xe.prototype={constructor:he,restart:function(tt,vt,dt){if(typeof tt!="function")throw new TypeError("callback is not a function");dt=(dt==null?le():+dt)+(vt==null?0:+vt),!this._next&&W!==this&&(W?W._next=this:Y=this,W=this),this._call=tt,this._time=dt,Ee()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ee())}};function xe(tt,vt,dt){var gt=new he;return gt.restart(tt,vt,dt),gt}function Ae(){le(),++J;for(var tt=Y,vt;tt;)(vt=re-tt._time)>=0&&tt._call.call(null,vt),tt=tt._next;--J}function Se(){re=(X=Q.now())+se,J=te=0;try{Ae()}finally{J=0,Ve(),re=0}}function Oe(){var tt=Q.now(),vt=tt-X;vt>K&&(se-=vt,X=tt)}function Ve(){for(var tt,vt=Y,dt,gt=1/0;vt;)vt._call?(gt>vt._time&&(gt=vt._time),tt=vt,vt=vt._next):(dt=vt._next,vt._next=null,vt=tt?tt._next=dt:Y=dt);W=tt,Ee(gt)}function Ee(tt){if(!J){te&&(te=clearTimeout(te));var vt=tt-re;vt>24?(tt<1/0&&(te=setTimeout(Se,tt-Q.now()-se)),fe&&(fe=clearInterval(fe))):(fe||(X=Q.now(),fe=setInterval(Oe,K)),J=1,ee(Se))}}function Te(tt){return tt.x}function Le(tt){return tt.y}var Ge=10,He=Math.PI*(3-Math.sqrt(5));function ke(tt){var vt,dt=1,gt=.001,Mt=1-Math.pow(gt,1/300),Rt=0,Wt=.6,je=(0,A.UI)(),_e=xe(Be),Fe=q("tick","end");tt==null&&(tt=[]);function Be(){De(),Fe.call("tick",vt),dt<gt&&(_e.stop(),Fe.call("end",vt))}function De(me){var Re,Ne=tt.length,it;me===void 0&&(me=1);for(var ot=0;ot<me;++ot)for(dt+=(Rt-dt)*Mt,je.each(function(wt){wt(dt)}),Re=0;Re<Ne;++Re)it=tt[Re],it.fx==null?it.x+=it.vx*=Wt:(it.x=it.fx,it.vx=0),it.fy==null?it.y+=it.vy*=Wt:(it.y=it.fy,it.vy=0);return vt}function we(){for(var me=0,Re=tt.length,Ne;me<Re;++me){if(Ne=tt[me],Ne.index=me,Ne.fx!=null&&(Ne.x=Ne.fx),Ne.fy!=null&&(Ne.y=Ne.fy),isNaN(Ne.x)||isNaN(Ne.y)){var it=Ge*Math.sqrt(me),ot=me*He;Ne.x=it*Math.cos(ot),Ne.y=it*Math.sin(ot)}(isNaN(Ne.vx)||isNaN(Ne.vy))&&(Ne.vx=Ne.vy=0)}}function ue(me){return me.initialize&&me.initialize(tt),me}return we(),vt={tick:De,restart:function(){return _e.restart(Be),vt},stop:function(){return _e.stop(),vt},nodes:function(me){return arguments.length?(tt=me,we(),je.each(ue),vt):tt},alpha:function(me){return arguments.length?(dt=+me,vt):dt},alphaMin:function(me){return arguments.length?(gt=+me,vt):gt},alphaDecay:function(me){return arguments.length?(Mt=+me,vt):+Mt},alphaTarget:function(me){return arguments.length?(Rt=+me,vt):Rt},velocityDecay:function(me){return arguments.length?(Wt=1-me,vt):1-Wt},force:function(me,Re){return arguments.length>1?(Re==null?je.remove(me):je.set(me,ue(Re)),vt):je.get(me)},find:function(me,Re,Ne){var it=0,ot=tt.length,wt,Ft,Ut,Gt,Et;for(Ne==null?Ne=1/0:Ne*=Ne,it=0;it<ot;++it)Gt=tt[it],wt=me-Gt.x,Ft=Re-Gt.y,Ut=wt*wt+Ft*Ft,Ut<Ne&&(Et=Gt,Ne=Ut);return Et},on:function(me,Re){return arguments.length>1?(Fe.on(me,Re),vt):Fe.on(me)}}}function We(){var tt,vt,dt,gt=L(-30),Mt,Rt=1,Wt=1/0,je=.81;function _e(we){var ue,me=tt.length,Re=M(tt,Te,Le).visitAfter(Be);for(dt=we,ue=0;ue<me;++ue)vt=tt[ue],Re.visit(De)}function Fe(){if(tt){var we,ue=tt.length,me;for(Mt=new Array(ue),we=0;we<ue;++we)me=tt[we],Mt[me.index]=+gt(me,we,tt)}}function Be(we){var ue=0,me,Re,Ne=0,it,ot,wt;if(we.length){for(it=ot=wt=0;wt<4;++wt)(me=we[wt])&&(Re=Math.abs(me.value))&&(ue+=me.value,Ne+=Re,it+=Re*me.x,ot+=Re*me.y);we.x=it/Ne,we.y=ot/Ne}else{me=we,me.x=me.data.x,me.y=me.data.y;do ue+=Mt[me.data.index];while(me=me.next)}we.value=ue}function De(we,ue,me,Re){if(!we.value)return!0;var Ne=we.x-vt.x,it=we.y-vt.y,ot=Re-ue,wt=Ne*Ne+it*it;if(ot*ot/je<wt)return wt<Wt&&(Ne===0&&(Ne=n(),wt+=Ne*Ne),it===0&&(it=n(),wt+=it*it),wt<Rt&&(wt=Math.sqrt(Rt*wt)),vt.vx+=Ne*we.value*dt/wt,vt.vy+=it*we.value*dt/wt),!0;if(we.length||wt>=Wt)return;(we.data!==vt||we.next)&&(Ne===0&&(Ne=n(),wt+=Ne*Ne),it===0&&(it=n(),wt+=it*it),wt<Rt&&(wt=Math.sqrt(Rt*wt)));do we.data!==vt&&(ot=Mt[we.data.index]*dt/wt,vt.vx+=Ne*ot,vt.vy+=it*ot);while(we=we.next)}return _e.initialize=function(we){tt=we,Fe()},_e.strength=function(we){return arguments.length?(gt=typeof we=="function"?we:L(+we),Fe(),_e):gt},_e.distanceMin=function(we){return arguments.length?(Rt=we*we,_e):Math.sqrt(Rt)},_e.distanceMax=function(we){return arguments.length?(Wt=we*we,_e):Math.sqrt(Wt)},_e.theta=function(we){return arguments.length?(je=we*we,_e):Math.sqrt(je)},_e}function nt(tt,vt,dt){var gt,Mt=L(.1),Rt,Wt;typeof tt!="function"&&(tt=L(+tt)),vt==null&&(vt=0),dt==null&&(dt=0);function je(Fe){for(var Be=0,De=gt.length;Be<De;++Be){var we=gt[Be],ue=we.x-vt||1e-6,me=we.y-dt||1e-6,Re=Math.sqrt(ue*ue+me*me),Ne=(Wt[Be]-Re)*Rt[Be]*Fe/Re;we.vx+=ue*Ne,we.vy+=me*Ne}}function _e(){if(gt){var Fe,Be=gt.length;for(Rt=new Array(Be),Wt=new Array(Be),Fe=0;Fe<Be;++Fe)Wt[Fe]=+tt(gt[Fe],Fe,gt),Rt[Fe]=isNaN(Wt[Fe])?0:+Mt(gt[Fe],Fe,gt)}}return je.initialize=function(Fe){gt=Fe,_e()},je.strength=function(Fe){return arguments.length?(Mt=typeof Fe=="function"?Fe:L(+Fe),_e(),je):Mt},je.radius=function(Fe){return arguments.length?(tt=typeof Fe=="function"?Fe:L(+Fe),_e(),je):tt},je.x=function(Fe){return arguments.length?(vt=+Fe,je):vt},je.y=function(Fe){return arguments.length?(dt=+Fe,je):dt},je}function qe(tt){var vt=L(.1),dt,gt,Mt;typeof tt!="function"&&(tt=L(tt==null?0:+tt));function Rt(je){for(var _e=0,Fe=dt.length,Be;_e<Fe;++_e)Be=dt[_e],Be.vx+=(Mt[_e]-Be.x)*gt[_e]*je}function Wt(){if(dt){var je,_e=dt.length;for(gt=new Array(_e),Mt=new Array(_e),je=0;je<_e;++je)gt[je]=isNaN(Mt[je]=+tt(dt[je],je,dt))?0:+vt(dt[je],je,dt)}}return Rt.initialize=function(je){dt=je,Wt()},Rt.strength=function(je){return arguments.length?(vt=typeof je=="function"?je:L(+je),Wt(),Rt):vt},Rt.x=function(je){return arguments.length?(tt=typeof je=="function"?je:L(+je),Wt(),Rt):tt},Rt}function Qe(tt){var vt=L(.1),dt,gt,Mt;typeof tt!="function"&&(tt=L(tt==null?0:+tt));function Rt(je){for(var _e=0,Fe=dt.length,Be;_e<Fe;++_e)Be=dt[_e],Be.vy+=(Mt[_e]-Be.y)*gt[_e]*je}function Wt(){if(dt){var je,_e=dt.length;for(gt=new Array(_e),Mt=new Array(_e),je=0;je<_e;++je)gt[je]=isNaN(Mt[je]=+tt(dt[je],je,dt))?0:+vt(dt[je],je,dt)}}return Rt.initialize=function(je){dt=je,Wt()},Rt.strength=function(je){return arguments.length?(vt=typeof je=="function"?je:L(+je),Wt(),Rt):vt},Rt.y=function(je){return arguments.length?(tt=typeof je=="function"?je:L(+je),Wt(),Rt):tt},Rt}},60721:function(V,B,e){e.d(B,{WU:function(){return o},FF:function(){return w}});function p(S){return Math.abs(S=Math.round(S))>=1e21?S.toLocaleString("en").replace(/,/g,""):S.toString(10)}function L(S,M){if((P=(S=M?S.toExponential(M-1):S.toExponential()).indexOf("e"))<0)return null;var P,x=S.slice(0,P);return[x.length>1?x[0]+x.slice(2):x,+S.slice(P+1)]}function n(S){return S=L(Math.abs(S)),S?S[1]:NaN}function C(S,M){return function(P,x){for(var E=P.length,T=[],i=0,R=S[0],A=0;E>0&&R>0&&(A+R+1>x&&(R=Math.max(1,x-A)),T.push(P.substring(E-=R,E+R)),!((A+=R+1)>x));)R=S[i=(i+1)%S.length];return T.reverse().join(M)}}function y(S){return function(M){return M.replace(/[0-9]/g,function(P){return S[+P]})}}var h=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function g(S){if(!(M=h.exec(S)))throw new Error("invalid format: "+S);var M;return new t({fill:M[1],align:M[2],sign:M[3],symbol:M[4],zero:M[5],width:M[6],comma:M[7],precision:M[8]&&M[8].slice(1),trim:M[9],type:M[10]})}g.prototype=t.prototype;function t(S){this.fill=S.fill===void 0?" ":S.fill+"",this.align=S.align===void 0?">":S.align+"",this.sign=S.sign===void 0?"-":S.sign+"",this.symbol=S.symbol===void 0?"":S.symbol+"",this.zero=!!S.zero,this.width=S.width===void 0?void 0:+S.width,this.comma=!!S.comma,this.precision=S.precision===void 0?void 0:+S.precision,this.trim=!!S.trim,this.type=S.type===void 0?"":S.type+""}t.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r(S){e:for(var M=S.length,P=1,x=-1,E;P<M;++P)switch(S[P]){case".":x=E=P;break;case"0":x===0&&(x=P),E=P;break;default:if(!+S[P])break e;x>0&&(x=0);break}return x>0?S.slice(0,x)+S.slice(E+1):S}var l;function a(S,M){var P=L(S,M);if(!P)return S+"";var x=P[0],E=P[1],T=E-(l=Math.max(-8,Math.min(8,Math.floor(E/3)))*3)+1,i=x.length;return T===i?x:T>i?x+new Array(T-i+1).join("0"):T>0?x.slice(0,T)+"."+x.slice(T):"0."+new Array(1-T).join("0")+L(S,Math.max(0,M+T-1))[0]}function s(S,M){var P=L(S,M);if(!P)return S+"";var x=P[0],E=P[1];return E<0?"0."+new Array(-E).join("0")+x:x.length>E+1?x.slice(0,E+1)+"."+x.slice(E+1):x+new Array(E-x.length+2).join("0")}var c={"%":function(S,M){return(S*100).toFixed(M)},b:function(S){return Math.round(S).toString(2)},c:function(S){return S+""},d:p,e:function(S,M){return S.toExponential(M)},f:function(S,M){return S.toFixed(M)},g:function(S,M){return S.toPrecision(M)},o:function(S){return Math.round(S).toString(8)},p:function(S,M){return s(S*100,M)},r:s,s:a,X:function(S){return Math.round(S).toString(16).toUpperCase()},x:function(S){return Math.round(S).toString(16)}};function u(S){return S}var b=Array.prototype.map,f=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function w(S){var M=S.grouping===void 0||S.thousands===void 0?u:C(b.call(S.grouping,Number),S.thousands+""),P=S.currency===void 0?"":S.currency[0]+"",x=S.currency===void 0?"":S.currency[1]+"",E=S.decimal===void 0?".":S.decimal+"",T=S.numerals===void 0?u:y(b.call(S.numerals,String)),i=S.percent===void 0?"%":S.percent+"",R=S.minus===void 0?"-":S.minus+"",A=S.nan===void 0?"NaN":S.nan+"";function k(H){H=g(H);var z=H.fill,N=H.align,O=H.sign,F=H.symbol,U=H.zero,Z=H.width,q=H.comma,J=H.precision,te=H.trim,fe=H.type;fe==="n"?(q=!0,fe="g"):c[fe]||(J===void 0&&(J=12),te=!0,fe="g"),(U||z==="0"&&N==="=")&&(U=!0,z="0",N="=");var K=F==="$"?P:F==="#"&&/[boxX]/.test(fe)?"0"+fe.toLowerCase():"",Y=F==="$"?x:/[%p]/.test(fe)?i:"",W=c[fe],X=/[defgprs%]/.test(fe);J=J===void 0?6:/[gprs]/.test(fe)?Math.max(1,Math.min(21,J)):Math.max(0,Math.min(20,J));function re(se){var Q=K,ee=Y,le,oe,he;if(fe==="c")ee=W(se)+ee,se="";else{se=+se;var xe=se<0||1/se<0;if(se=isNaN(se)?A:W(Math.abs(se),J),te&&(se=r(se)),xe&&+se==0&&O!=="+"&&(xe=!1),Q=(xe?O==="("?O:R:O==="-"||O==="("?"":O)+Q,ee=(fe==="s"?f[8+l/3]:"")+ee+(xe&&O==="("?")":""),X){for(le=-1,oe=se.length;++le<oe;)if(he=se.charCodeAt(le),48>he||he>57){ee=(he===46?E+se.slice(le+1):se.slice(le))+ee,se=se.slice(0,le);break}}}q&&!U&&(se=M(se,1/0));var Ae=Q.length+se.length+ee.length,Se=Ae<Z?new Array(Z-Ae+1).join(z):"";switch(q&&U&&(se=M(Se+se,Se.length?Z-ee.length:1/0),Se=""),N){case"<":se=Q+se+ee+Se;break;case"=":se=Q+Se+se+ee;break;case"^":se=Se.slice(0,Ae=Se.length>>1)+Q+se+ee+Se.slice(Ae);break;default:se=Se+Q+se+ee;break}return T(se)}return re.toString=function(){return H+""},re}function _(H,z){var N=k((H=g(H),H.type="f",H)),O=Math.max(-8,Math.min(8,Math.floor(n(z)/3)))*3,F=Math.pow(10,-O),U=f[8+O/3];return function(Z){return N(F*Z)+U}}return{format:k,formatPrefix:_}}var v,o;d({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function d(S){return v=w(S),o=v.format,v.formatPrefix,v}},65704:function(V,B,e){e.r(B),e.d(B,{geoAiry:function(){return U},geoAiryRaw:function(){return F},geoAitoff:function(){return q},geoAitoffRaw:function(){return Z},geoArmadillo:function(){return te},geoArmadilloRaw:function(){return J},geoAugust:function(){return K},geoAugustRaw:function(){return fe},geoBaker:function(){return re},geoBakerRaw:function(){return X},geoBerghaus:function(){return ee},geoBerghausRaw:function(){return Q},geoBertin1953:function(){return Ve},geoBertin1953Raw:function(){return Oe},geoBoggs:function(){return nt},geoBoggsRaw:function(){return We},geoBonne:function(){return dt},geoBonneRaw:function(){return vt},geoBottomley:function(){return Mt},geoBottomleyRaw:function(){return gt},geoBromley:function(){return Wt},geoBromleyRaw:function(){return Rt},geoChamberlin:function(){return Re},geoChamberlinAfrica:function(){return me},geoChamberlinRaw:function(){return we},geoCollignon:function(){return it},geoCollignonRaw:function(){return Ne},geoCraig:function(){return wt},geoCraigRaw:function(){return ot},geoCraster:function(){return Gt},geoCrasterRaw:function(){return Ut},geoCylindricalEqualArea:function(){return $t},geoCylindricalEqualAreaRaw:function(){return Et},geoCylindricalStereographic:function(){return Fr},geoCylindricalStereographicRaw:function(){return lr},geoEckert1:function(){return Kt},geoEckert1Raw:function(){return yt},geoEckert2:function(){return Ar},geoEckert2Raw:function(){return Zt},geoEckert3:function(){return ut},geoEckert3Raw:function(){return vr},geoEckert4:function(){return xt},geoEckert4Raw:function(){return lt},geoEckert5:function(){return Ct},geoEckert5Raw:function(){return Tt},geoEckert6:function(){return zt},geoEckert6Raw:function(){return At},geoEisenlohr:function(){return Qt},geoEisenlohrRaw:function(){return qt},geoFahey:function(){return Ze},geoFaheyRaw:function(){return Lr},geoFoucaut:function(){return It},geoFoucautRaw:function(){return Ye},geoFoucautSinusoidal:function(){return Xt},geoFoucautSinusoidalRaw:function(){return kt},geoGilbert:function(){return hr},geoGingery:function(){return Xr},geoGingeryRaw:function(){return pr},geoGinzburg4:function(){return mn},geoGinzburg4Raw:function(){return Or},geoGinzburg5:function(){return _n},geoGinzburg5Raw:function(){return Jr},geoGinzburg6:function(){return br},geoGinzburg6Raw:function(){return kn},geoGinzburg8:function(){return Nr},geoGinzburg8Raw:function(){return wr},geoGinzburg9:function(){return tn},geoGinzburg9Raw:function(){return Vr},geoGringorten:function(){return Jn},geoGringortenQuincuncial:function(){return Gh},geoGringortenRaw:function(){return hn},geoGuyou:function(){return yn},geoGuyouRaw:function(){return Cr},geoHammer:function(){return xe},geoHammerRaw:function(){return oe},geoHammerRetroazimuthal:function(){return Wn},geoHammerRetroazimuthalRaw:function(){return Ln},geoHealpix:function(){return cn},geoHealpixRaw:function(){return sn},geoHill:function(){return Pr},geoHillRaw:function(){return Dr},geoHomolosine:function(){return Nn},geoHomolosineRaw:function(){return xn},geoHufnagel:function(){return ha},geoHufnagelRaw:function(){return ta},geoHyperelliptical:function(){return yo},geoHyperellipticalRaw:function(){return ma},geoInterrupt:function(){return Vo},geoInterruptedBoggs:function(){return pi},geoInterruptedHomolosine:function(){return ql},geoInterruptedMollweide:function(){return Ko},geoInterruptedMollweideHemispheres:function(){return Ru},geoInterruptedQuarticAuthalic:function(){return Kf},geoInterruptedSinuMollweide:function(){return Iu},geoInterruptedSinusoidal:function(){return co},geoKavrayskiy7:function(){return _o},geoKavrayskiy7Raw:function(){return ns},geoLagrange:function(){return ks},geoLagrangeRaw:function(){return us},geoLarrivee:function(){return zc},geoLarriveeRaw:function(){return Ao},geoLaskowski:function(){return So},geoLaskowskiRaw:function(){return _s},geoLittrow:function(){return qs},geoLittrowRaw:function(){return Gf},geoLoximuthal:function(){return Wf},geoLoximuthalRaw:function(){return Fs},geoMiller:function(){return Eh},geoMillerRaw:function(){return Yf},geoModifiedStereographic:function(){return kl},geoModifiedStereographicAlaska:function(){return Dh},geoModifiedStereographicGs48:function(){return Oc},geoModifiedStereographicGs50:function(){return kh},geoModifiedStereographicLee:function(){return Xf},geoModifiedStereographicMiller:function(){return _h},geoModifiedStereographicRaw:function(){return Du},geoMollweide:function(){return Ge},geoMollweideRaw:function(){return Le},geoMtFlatPolarParabolic:function(){return Fh},geoMtFlatPolarParabolicRaw:function(){return lf},geoMtFlatPolarQuartic:function(){return Bc},geoMtFlatPolarQuarticRaw:function(){return el},geoMtFlatPolarSinusoidal:function(){return zh},geoMtFlatPolarSinusoidalRaw:function(){return jf},geoNaturalEarth:function(){return fs.Z},geoNaturalEarth2:function(){return ku},geoNaturalEarth2Raw:function(){return Fl},geoNaturalEarthRaw:function(){return fs.K},geoNellHammer:function(){return zs},geoNellHammerRaw:function(){return tu},geoNicolosi:function(){return pl},geoNicolosiRaw:function(){return ru},geoPatterson:function(){return Oh},geoPattersonRaw:function(){return ff},geoPeirceQuincuncial:function(){return Gc},geoPierceQuincuncial:function(){return Gc},geoPolyconic:function(){return Bh},geoPolyconicRaw:function(){return $f},geoPolyhedral:function(){return Li},geoPolyhedralButterfly:function(){return rl},geoPolyhedralCollignon:function(){return ml},geoPolyhedralWaterman:function(){return xl},geoProject:function(){return Uh},geoQuantize:function(){return Wc},geoQuincuncial:function(){return pf},geoRectangularPolyconic:function(){return bl},geoRectangularPolyconicRaw:function(){return nc},geoRobinson:function(){return ac},geoRobinsonRaw:function(){return Bs},geoSatellite:function(){return gf},geoSatelliteRaw:function(){return Bl},geoSinuMollweide:function(){return Zn},geoSinuMollweideRaw:function(){return zn},geoSinusoidal:function(){return tt},geoSinusoidalRaw:function(){return Qe},geoStitch:function(){return Ul},geoTimes:function(){return as},geoTimesRaw:function(){return Qo},geoTwoPointAzimuthal:function(){return bf},geoTwoPointAzimuthalRaw:function(){return Xc},geoTwoPointAzimuthalUsa:function(){return fu},geoTwoPointEquidistant:function(){return lc},geoTwoPointEquidistantRaw:function(){return jc},geoTwoPointEquidistantUsa:function(){return Ss},geoVanDerGrinten:function(){return Uu},geoVanDerGrinten2:function(){return Yh},geoVanDerGrinten2Raw:function(){return sl},geoVanDerGrinten3:function(){return wf},geoVanDerGrinten3Raw:function(){return uc},geoVanDerGrinten4:function(){return Kc},geoVanDerGrinten4Raw:function(){return Fo},geoVanDerGrintenRaw:function(){return Al},geoWagner:function(){return Gu},geoWagner4:function(){return cc},geoWagner4Raw:function(){return fc},geoWagner6:function(){return Af},geoWagner6Raw:function(){return Gl},geoWagner7:function(){return Sl},geoWagnerRaw:function(){return Ns},geoWiechel:function(){return $c},geoWiechelRaw:function(){return Wu},geoWinkel3:function(){return Qc},geoWinkel3Raw:function(){return Yu}});var p=e(15002),L=Math.abs,n=Math.atan,C=Math.atan2,y=Math.cos,h=Math.exp,g=Math.floor,t=Math.log,r=Math.max,l=Math.min,a=Math.pow,s=Math.round,c=Math.sign||function(Ke){return Ke>0?1:Ke<0?-1:0},u=Math.sin,b=Math.tan,f=1e-6,w=1e-12,v=Math.PI,o=v/2,d=v/4,S=Math.SQRT1_2,M=k(2),P=k(v),x=v*2,E=180/v,T=v/180;function i(Ke){return Ke?Ke/Math.sin(Ke):1}function R(Ke){return Ke>1?o:Ke<-1?-o:Math.asin(Ke)}function A(Ke){return Ke>1?0:Ke<-1?v:Math.acos(Ke)}function k(Ke){return Ke>0?Math.sqrt(Ke):0}function _(Ke){return Ke=h(2*Ke),(Ke-1)/(Ke+1)}function H(Ke){return(h(Ke)-h(-Ke))/2}function z(Ke){return(h(Ke)+h(-Ke))/2}function N(Ke){return t(Ke+k(Ke*Ke+1))}function O(Ke){return t(Ke+k(Ke*Ke-1))}function F(Ke){var rt=b(Ke/2),ht=2*t(y(Ke/2))/(rt*rt);function pt(Dt,Lt){var Ot=y(Dt),cr=y(Lt),yr=u(Lt),ar=cr*Ot,Mr=-((1-ar?t((1+ar)/2)/(1-ar):-.5)+ht/(1+ar));return[Mr*cr*u(Dt),Mr*yr]}return pt.invert=function(Dt,Lt){var Ot=k(Dt*Dt+Lt*Lt),cr=-Ke/2,yr=50,ar;if(!Ot)return[0,0];do{var Mr=cr/2,Ir=y(Mr),Zr=u(Mr),Qr=Zr/Ir,bn=-t(L(Ir));cr-=ar=(2/Qr*bn-ht*Qr-Ot)/(-bn/(Zr*Zr)+1-ht/(2*Ir*Ir))*(Ir<0?.7:1)}while(L(ar)>f&&--yr>0);var Tn=u(cr);return[C(Dt*Tn,Ot*y(cr)),R(Lt*Tn/Ot)]},pt}function U(){var Ke=o,rt=(0,p.r)(F),ht=rt(Ke);return ht.radius=function(pt){return arguments.length?rt(Ke=pt*T):Ke*E},ht.scale(179.976).clipAngle(147)}function Z(Ke,rt){var ht=y(rt),pt=i(A(ht*y(Ke/=2)));return[2*ht*u(Ke)*pt,u(rt)*pt]}Z.invert=function(Ke,rt){if(!(Ke*Ke+4*rt*rt>v*v+f)){var ht=Ke,pt=rt,Dt=25;do{var Lt=u(ht),Ot=u(ht/2),cr=y(ht/2),yr=u(pt),ar=y(pt),Mr=u(2*pt),Ir=yr*yr,Zr=ar*ar,Qr=Ot*Ot,bn=1-Zr*cr*cr,Tn=bn?A(ar*cr)*k(Dn=1/bn):Dn=0,Dn,ya=2*Tn*ar*Ot-Ke,ka=Tn*yr-rt,Ba=Dn*(Zr*Qr+Tn*ar*cr*Ir),Va=Dn*(.5*Lt*Mr-Tn*2*yr*Ot),Ga=Dn*.25*(Mr*Ot-Tn*yr*Zr*Lt),bi=Dn*(Ir*cr+Tn*Qr*ar),ji=Va*Ga-bi*Ba;if(!ji)break;var Pi=(ka*Va-ya*bi)/ji,ce=(ya*Ga-ka*Ba)/ji;ht-=Pi,pt-=ce}while((L(Pi)>f||L(ce)>f)&&--Dt>0);return[ht,pt]}};function q(){return(0,p.Z)(Z).scale(152.63)}function J(Ke){var rt=u(Ke),ht=y(Ke),pt=Ke>=0?1:-1,Dt=b(pt*Ke),Lt=(1+rt-ht)/2;function Ot(cr,yr){var ar=y(yr),Mr=y(cr/=2);return[(1+ar)*u(cr),(pt*yr>-C(Mr,Dt)-.001?0:-pt*10)+Lt+u(yr)*ht-(1+ar)*rt*Mr]}return Ot.invert=function(cr,yr){var ar=0,Mr=0,Ir=50;do{var Zr=y(ar),Qr=u(ar),bn=y(Mr),Tn=u(Mr),Dn=1+bn,ya=Dn*Qr-cr,ka=Lt+Tn*ht-Dn*rt*Zr-yr,Ba=Dn*Zr/2,Va=-Qr*Tn,Ga=rt*Dn*Qr/2,bi=ht*bn+rt*Zr*Tn,ji=Va*Ga-bi*Ba,Pi=(ka*Va-ya*bi)/ji/2,ce=(ya*Ga-ka*Ba)/ji;L(ce)>2&&(ce/=2),ar-=Pi,Mr-=ce}while((L(Pi)>f||L(ce)>f)&&--Ir>0);return pt*Mr>-C(y(ar),Dt)-.001?[ar*2,Mr]:null},Ot}function te(){var Ke=20*T,rt=Ke>=0?1:-1,ht=b(rt*Ke),pt=(0,p.r)(J),Dt=pt(Ke),Lt=Dt.stream;return Dt.parallel=function(Ot){return arguments.length?(ht=b((rt=(Ke=Ot*T)>=0?1:-1)*Ke),pt(Ke)):Ke*E},Dt.stream=function(Ot){var cr=Dt.rotate(),yr=Lt(Ot),ar=(Dt.rotate([0,0]),Lt(Ot)),Mr=Dt.precision();return Dt.rotate(cr),yr.sphere=function(){ar.polygonStart(),ar.lineStart();for(var Ir=rt*-180;rt*Ir<180;Ir+=rt*90)ar.point(Ir,rt*90);if(Ke)for(;rt*(Ir-=3*rt*Mr)>=-180;)ar.point(Ir,rt*-C(y(Ir*T/2),ht)*E);ar.lineEnd(),ar.polygonEnd()},yr},Dt.scale(218.695).center([0,28.0974])}function fe(Ke,rt){var ht=b(rt/2),pt=k(1-ht*ht),Dt=1+pt*y(Ke/=2),Lt=u(Ke)*pt/Dt,Ot=ht/Dt,cr=Lt*Lt,yr=Ot*Ot;return[1.3333333333333333*Lt*(3+cr-3*yr),1.3333333333333333*Ot*(3+3*cr-yr)]}fe.invert=function(Ke,rt){if(Ke*=.375,rt*=.375,!Ke&&L(rt)>1)return null;var ht=Ke*Ke,pt=rt*rt,Dt=1+ht+pt,Lt=k((Dt-k(Dt*Dt-4*rt*rt))/2),Ot=R(Lt)/3,cr=Lt?O(L(rt/Lt))/3:N(L(Ke))/3,yr=y(Ot),ar=z(cr),Mr=ar*ar-yr*yr;return[c(Ke)*2*C(H(cr)*yr,.25-Mr),c(rt)*2*C(ar*u(Ot),.25+Mr)]};function K(){return(0,p.Z)(fe).scale(66.1603)}var Y=k(8),W=t(1+M);function X(Ke,rt){var ht=L(rt);return ht<d?[Ke,t(b(d+rt/2))]:[Ke*y(ht)*(2*M-1/u(ht)),c(rt)*(2*M*(ht-d)-t(b(ht/2)))]}X.invert=function(Ke,rt){if((Lt=L(rt))<W)return[Ke,2*n(h(rt))-o];var ht=d,pt=25,Dt,Lt;do{var Ot=y(ht/2),cr=b(ht/2);ht-=Dt=(Y*(ht-d)-t(cr)-Lt)/(Y-Ot*Ot/(2*cr))}while(L(Dt)>w&&--pt>0);return[Ke/(y(ht)*(Y-1/u(ht))),c(rt)*ht]};function re(){return(0,p.Z)(X).scale(112.314)}var se=e(17889);function Q(Ke){var rt=2*v/Ke;function ht(pt,Dt){var Lt=(0,se.N)(pt,Dt);if(L(pt)>o){var Ot=C(Lt[1],Lt[0]),cr=k(Lt[0]*Lt[0]+Lt[1]*Lt[1]),yr=rt*s((Ot-o)/rt)+o,ar=C(u(Ot-=yr),2-y(Ot));Ot=yr+R(v/cr*u(ar))-ar,Lt[0]=cr*y(Ot),Lt[1]=cr*u(Ot)}return Lt}return ht.invert=function(pt,Dt){var Lt=k(pt*pt+Dt*Dt);if(Lt>o){var Ot=C(Dt,pt),cr=rt*s((Ot-o)/rt)+o,yr=Ot>cr?-1:1,ar=Lt*y(cr-Ot),Mr=1/b(yr*A((ar-v)/k(v*(v-2*ar)+Lt*Lt)));Ot=cr+2*n((Mr+yr*k(Mr*Mr-3))/3),pt=Lt*y(Ot),Dt=Lt*u(Ot)}return se.N.invert(pt,Dt)},ht}function ee(){var Ke=5,rt=(0,p.r)(Q),ht=rt(Ke),pt=ht.stream,Dt=.01,Lt=-y(Dt*T),Ot=u(Dt*T);return ht.lobes=function(cr){return arguments.length?rt(Ke=+cr):Ke},ht.stream=function(cr){var yr=ht.rotate(),ar=pt(cr),Mr=(ht.rotate([0,0]),pt(cr));return ht.rotate(yr),ar.sphere=function(){Mr.polygonStart(),Mr.lineStart();for(var Ir=0,Zr=360/Ke,Qr=2*v/Ke,bn=90-180/Ke,Tn=o;Ir<Ke;++Ir,bn-=Zr,Tn-=Qr)Mr.point(C(Ot*y(Tn),Lt)*E,R(Ot*u(Tn))*E),bn<-90?(Mr.point(-90,-180-bn-Dt),Mr.point(-90,-180-bn+Dt)):(Mr.point(90,bn+Dt),Mr.point(90,bn-Dt));Mr.lineEnd(),Mr.polygonEnd()},ar},ht.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var le=e(12956);function oe(Ke,rt){if(arguments.length<2&&(rt=Ke),rt===1)return le.l;if(rt===1/0)return he;function ht(pt,Dt){var Lt=(0,le.l)(pt/rt,Dt);return Lt[0]*=Ke,Lt}return ht.invert=function(pt,Dt){var Lt=le.l.invert(pt/Ke,Dt);return Lt[0]*=rt,Lt},ht}function he(Ke,rt){return[Ke*y(rt)/y(rt/=2),2*u(rt)]}he.invert=function(Ke,rt){var ht=2*R(rt/2);return[Ke*y(ht/2)/y(ht),ht]};function xe(){var Ke=2,rt=(0,p.r)(oe),ht=rt(Ke);return ht.coefficient=function(pt){return arguments.length?rt(Ke=+pt):Ke},ht.scale(169.529)}function Ae(Ke,rt,ht){var pt=100,Dt,Lt,Ot;ht=ht===void 0?0:+ht,rt=+rt;do Lt=Ke(ht),Ot=Ke(ht+f),Lt===Ot&&(Ot=Lt+f),ht-=Dt=-1*f*(Lt-rt)/(Lt-Ot);while(pt-- >0&&L(Dt)>f);return pt<0?NaN:ht}function Se(Ke,rt,ht){return rt===void 0&&(rt=40),ht===void 0&&(ht=w),function(pt,Dt,Lt,Ot){var cr,yr,ar;Lt=Lt===void 0?0:+Lt,Ot=Ot===void 0?0:+Ot;for(var Mr=0;Mr<rt;Mr++){var Ir=Ke(Lt,Ot),Zr=Ir[0]-pt,Qr=Ir[1]-Dt;if(L(Zr)<ht&&L(Qr)<ht)break;var bn=Zr*Zr+Qr*Qr;if(bn>cr){Lt-=yr/=2,Ot-=ar/=2;continue}cr=bn;var Tn=(Lt>0?-1:1)*ht,Dn=(Ot>0?-1:1)*ht,ya=Ke(Lt+Tn,Ot),ka=Ke(Lt,Ot+Dn),Ba=(ya[0]-Ir[0])/Tn,Va=(ya[1]-Ir[1])/Tn,Ga=(ka[0]-Ir[0])/Dn,bi=(ka[1]-Ir[1])/Dn,ji=bi*Ba-Va*Ga,Pi=(L(ji)<.5?.5:1)/ji;if(yr=(Qr*Ga-Zr*bi)*Pi,ar=(Zr*Va-Qr*Ba)*Pi,Lt+=yr,Ot+=ar,L(yr)<ht&&L(ar)<ht)break}return[Lt,Ot]}}function Oe(){var Ke=oe(1.68,2),rt=1.4,ht=12;function pt(Dt,Lt){if(Dt+Lt<-rt){var Ot=(Dt-Lt+1.6)*(Dt+Lt+rt)/8;Dt+=Ot,Lt-=.8*Ot*u(Lt+v/2)}var cr=Ke(Dt,Lt),yr=(1-y(Dt*Lt))/ht;return cr[1]<0&&(cr[0]*=1+yr),cr[1]>0&&(cr[1]*=1+yr/1.5*cr[0]*cr[0]),cr}return pt.invert=Se(pt),pt}function Ve(){return(0,p.Z)(Oe()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Ee(Ke,rt){var ht=Ke*u(rt),pt=30,Dt;do rt-=Dt=(rt+u(rt)-ht)/(1+y(rt));while(L(Dt)>f&&--pt>0);return rt/2}function Te(Ke,rt,ht){function pt(Dt,Lt){return[Ke*Dt*y(Lt=Ee(ht,Lt)),rt*u(Lt)]}return pt.invert=function(Dt,Lt){return Lt=R(Lt/rt),[Dt/(Ke*y(Lt)),R((2*Lt+u(2*Lt))/ht)]},pt}var Le=Te(M/o,M,v);function Ge(){return(0,p.Z)(Le).scale(169.529)}var He=2.00276,ke=1.11072;function We(Ke,rt){var ht=Ee(v,rt);return[He*Ke/(1/y(rt)+ke/y(ht)),(rt+M*u(ht))/He]}We.invert=function(Ke,rt){var ht=He*rt,pt=rt<0?-d:d,Dt=25,Lt,Ot;do Ot=ht-M*u(pt),pt-=Lt=(u(2*pt)+2*pt-v*u(Ot))/(2*y(2*pt)+2+v*y(Ot)*M*y(pt));while(L(Lt)>f&&--Dt>0);return Ot=ht-M*u(pt),[Ke*(1/y(Ot)+ke/y(pt))/He,Ot]};function nt(){return(0,p.Z)(We).scale(160.857)}function qe(Ke){var rt=0,ht=(0,p.r)(Ke),pt=ht(rt);return pt.parallel=function(Dt){return arguments.length?ht(rt=Dt*T):rt*E},pt}function Qe(Ke,rt){return[Ke*y(rt),rt]}Qe.invert=function(Ke,rt){return[Ke/y(rt),rt]};function tt(){return(0,p.Z)(Qe).scale(152.63)}function vt(Ke){if(!Ke)return Qe;var rt=1/b(Ke);function ht(pt,Dt){var Lt=rt+Ke-Dt,Ot=Lt&&pt*y(Dt)/Lt;return[Lt*u(Ot),rt-Lt*y(Ot)]}return ht.invert=function(pt,Dt){var Lt=k(pt*pt+(Dt=rt-Dt)*Dt),Ot=rt+Ke-Lt;return[Lt/y(Ot)*C(pt,Dt),Ot]},ht}function dt(){return qe(vt).scale(123.082).center([0,26.1441]).parallel(45)}function gt(Ke){function rt(ht,pt){var Dt=o-pt,Lt=Dt&&ht*Ke*u(Dt)/Dt;return[Dt*u(Lt)/Ke,o-Dt*y(Lt)]}return rt.invert=function(ht,pt){var Dt=ht*Ke,Lt=o-pt,Ot=k(Dt*Dt+Lt*Lt),cr=C(Dt,Lt);return[(Ot?Ot/u(Ot):1)*cr/Ke,o-Ot]},rt}function Mt(){var Ke=.5,rt=(0,p.r)(gt),ht=rt(Ke);return ht.fraction=function(pt){return arguments.length?rt(Ke=+pt):Ke},ht.scale(158.837)}var Rt=Te(1,4/v,v);function Wt(){return(0,p.Z)(Rt).scale(152.63)}var je=e(66624),_e=e(49386);function Fe(Ke,rt,ht,pt,Dt,Lt){var Ot=y(Lt),cr;if(L(Ke)>1||L(Lt)>1)cr=A(ht*Dt+rt*pt*Ot);else{var yr=u(Ke/2),ar=u(Lt/2);cr=2*R(k(yr*yr+rt*pt*ar*ar))}return L(cr)>f?[cr,C(pt*u(Lt),rt*Dt-ht*pt*Ot)]:[0,0]}function Be(Ke,rt,ht){return A((Ke*Ke+rt*rt-ht*ht)/(2*Ke*rt))}function De(Ke){return Ke-2*v*g((Ke+v)/(2*v))}function we(Ke,rt,ht){for(var pt=[[Ke[0],Ke[1],u(Ke[1]),y(Ke[1])],[rt[0],rt[1],u(rt[1]),y(rt[1])],[ht[0],ht[1],u(ht[1]),y(ht[1])]],Dt=pt[2],Lt,Ot=0;Ot<3;++Ot,Dt=Lt)Lt=pt[Ot],Dt.v=Fe(Lt[1]-Dt[1],Dt[3],Dt[2],Lt[3],Lt[2],Lt[0]-Dt[0]),Dt.point=[0,0];var cr=Be(pt[0].v[0],pt[2].v[0],pt[1].v[0]),yr=Be(pt[0].v[0],pt[1].v[0],pt[2].v[0]),ar=v-cr;pt[2].point[1]=0,pt[0].point[0]=-(pt[1].point[0]=pt[0].v[0]/2);var Mr=[pt[2].point[0]=pt[0].point[0]+pt[2].v[0]*y(cr),2*(pt[0].point[1]=pt[1].point[1]=pt[2].v[0]*u(cr))];function Ir(Zr,Qr){var bn=u(Qr),Tn=y(Qr),Dn=new Array(3),ya;for(ya=0;ya<3;++ya){var ka=pt[ya];if(Dn[ya]=Fe(Qr-ka[1],ka[3],ka[2],Tn,bn,Zr-ka[0]),!Dn[ya][0])return ka.point;Dn[ya][1]=De(Dn[ya][1]-ka.v[1])}var Ba=Mr.slice();for(ya=0;ya<3;++ya){var Va=ya==2?0:ya+1,Ga=Be(pt[ya].v[0],Dn[ya][0],Dn[Va][0]);Dn[ya][1]<0&&(Ga=-Ga),ya?ya==1?(Ga=yr-Ga,Ba[0]-=Dn[ya][0]*y(Ga),Ba[1]-=Dn[ya][0]*u(Ga)):(Ga=ar-Ga,Ba[0]+=Dn[ya][0]*y(Ga),Ba[1]+=Dn[ya][0]*u(Ga)):(Ba[0]+=Dn[ya][0]*y(Ga),Ba[1]-=Dn[ya][0]*u(Ga))}return Ba[0]/=3,Ba[1]/=3,Ba}return Ir}function ue(Ke){return Ke[0]*=T,Ke[1]*=T,Ke}function me(){return Re([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function Re(Ke,rt,ht){var pt=(0,je.Z)({type:"MultiPoint",coordinates:[Ke,rt,ht]}),Dt=[-pt[0],-pt[1]],Lt=(0,_e.Z)(Dt),Ot=we(ue(Lt(Ke)),ue(Lt(rt)),ue(Lt(ht)));Ot.invert=Se(Ot);var cr=(0,p.Z)(Ot).rotate(Dt),yr=cr.center;return delete cr.rotate,cr.center=function(ar){return arguments.length?yr(Lt(ar)):Lt.invert(yr())},cr.clipAngle(90)}function Ne(Ke,rt){var ht=k(1-u(rt));return[2/P*Ke*ht,P*(1-ht)]}Ne.invert=function(Ke,rt){var ht=(ht=rt/P-1)*ht;return[ht>0?Ke*k(v/ht)/2:0,R(1-ht)]};function it(){return(0,p.Z)(Ne).scale(95.6464).center([0,30])}function ot(Ke){var rt=b(Ke);function ht(pt,Dt){return[pt,(pt?pt/u(pt):1)*(u(Dt)*y(pt)-rt*y(Dt))]}return ht.invert=rt?function(pt,Dt){pt&&(Dt*=u(pt)/pt);var Lt=y(pt);return[pt,2*C(k(Lt*Lt+rt*rt-Dt*Dt)-Lt,rt-Dt)]}:function(pt,Dt){return[pt,R(pt?Dt*b(pt)/pt:Dt)]},ht}function wt(){return qe(ot).scale(249.828).clipAngle(90)}var Ft=k(3);function Ut(Ke,rt){return[Ft*Ke*(2*y(2*rt/3)-1)/P,Ft*P*u(rt/3)]}Ut.invert=function(Ke,rt){var ht=3*R(rt/(Ft*P));return[P*Ke/(Ft*(2*y(2*ht/3)-1)),ht]};function Gt(){return(0,p.Z)(Ut).scale(156.19)}function Et(Ke){var rt=y(Ke);function ht(pt,Dt){return[pt*rt,u(Dt)/rt]}return ht.invert=function(pt,Dt){return[pt/rt,R(Dt*rt)]},ht}function $t(){return qe(Et).parallel(38.58).scale(195.044)}function lr(Ke){var rt=y(Ke);function ht(pt,Dt){return[pt*rt,(1+rt)*b(Dt/2)]}return ht.invert=function(pt,Dt){return[pt/rt,n(Dt/(1+rt))*2]},ht}function Fr(){return qe(lr).scale(124.75)}function yt(Ke,rt){var ht=k(8/(3*v));return[ht*Ke*(1-L(rt)/v),ht*rt]}yt.invert=function(Ke,rt){var ht=k(8/(3*v)),pt=rt/ht;return[Ke/(ht*(1-L(pt)/v)),pt]};function Kt(){return(0,p.Z)(yt).scale(165.664)}function Zt(Ke,rt){var ht=k(4-3*u(L(rt)));return[2/k(6*v)*Ke*ht,c(rt)*k(2*v/3)*(2-ht)]}Zt.invert=function(Ke,rt){var ht=2-L(rt)/k(2*v/3);return[Ke*k(6*v)/(2*ht),c(rt)*R((4-ht*ht)/3)]};function Ar(){return(0,p.Z)(Zt).scale(165.664)}function vr(Ke,rt){var ht=k(v*(4+v));return[2/ht*Ke*(1+k(1-4*rt*rt/(v*v))),4/ht*rt]}vr.invert=function(Ke,rt){var ht=k(v*(4+v))/2;return[Ke*ht/(1+k(1-rt*rt*(4+v)/(4*v))),rt*ht/2]};function ut(){return(0,p.Z)(vr).scale(180.739)}function lt(Ke,rt){var ht=(2+o)*u(rt);rt/=2;for(var pt=0,Dt=1/0;pt<10&&L(Dt)>f;pt++){var Lt=y(rt);rt-=Dt=(rt+u(rt)*(Lt+2)-ht)/(2*Lt*(1+Lt))}return[2/k(v*(4+v))*Ke*(1+y(rt)),2*k(v/(4+v))*u(rt)]}lt.invert=function(Ke,rt){var ht=rt*k((4+v)/v)/2,pt=R(ht),Dt=y(pt);return[Ke/(2/k(v*(4+v))*(1+Dt)),R((pt+ht*(Dt+2))/(2+o))]};function xt(){return(0,p.Z)(lt).scale(180.739)}function Tt(Ke,rt){return[Ke*(1+y(rt))/k(2+v),2*rt/k(2+v)]}Tt.invert=function(Ke,rt){var ht=k(2+v),pt=rt*ht/2;return[ht*Ke/(1+y(pt)),pt]};function Ct(){return(0,p.Z)(Tt).scale(173.044)}function At(Ke,rt){for(var ht=(1+o)*u(rt),pt=0,Dt=1/0;pt<10&&L(Dt)>f;pt++)rt-=Dt=(rt+u(rt)-ht)/(1+y(rt));return ht=k(2+v),[Ke*(1+y(rt))/ht,2*rt/ht]}At.invert=function(Ke,rt){var ht=1+o,pt=k(ht/2);return[Ke*2*pt/(1+y(rt*=pt)),R((rt+u(rt))/ht)]};function zt(){return(0,p.Z)(At).scale(173.044)}var Ht=3+2*M;function qt(Ke,rt){var ht=u(Ke/=2),pt=y(Ke),Dt=k(y(rt)),Lt=y(rt/=2),Ot=u(rt)/(Lt+M*pt*Dt),cr=k(2/(1+Ot*Ot)),yr=k((M*Lt+(pt+ht)*Dt)/(M*Lt+(pt-ht)*Dt));return[Ht*(cr*(yr-1/yr)-2*t(yr)),Ht*(cr*Ot*(yr+1/yr)-2*n(Ot))]}qt.invert=function(Ke,rt){if(!(Lt=fe.invert(Ke/1.2,rt*1.065)))return null;var ht=Lt[0],pt=Lt[1],Dt=20,Lt;Ke/=Ht,rt/=Ht;do{var Ot=ht/2,cr=pt/2,yr=u(Ot),ar=y(Ot),Mr=u(cr),Ir=y(cr),Zr=y(pt),Qr=k(Zr),bn=Mr/(Ir+M*ar*Qr),Tn=bn*bn,Dn=k(2/(1+Tn)),ya=M*Ir+(ar+yr)*Qr,ka=M*Ir+(ar-yr)*Qr,Ba=ya/ka,Va=k(Ba),Ga=Va-1/Va,bi=Va+1/Va,ji=Dn*Ga-2*t(Va)-Ke,Pi=Dn*bn*bi-2*n(bn)-rt,ce=Mr&&S*Qr*yr*Tn/Mr,Pe=(M*ar*Ir+Qr)/(2*(Ir+M*ar*Qr)*(Ir+M*ar*Qr)*Qr),Ue=-.5*bn*Dn*Dn*Dn,$e=Ue*ce,et=Ue*Pe,at=(at=2*Ir+M*Qr*(ar-yr))*at*Va,Pt=(M*ar*Ir*Qr+Zr)/at,ct=-(M*yr*Mr)/(Qr*at),Vt=Ga*$e-2*Pt/Va+Dn*(Pt+Pt/Ba),tr=Ga*et-2*ct/Va+Dn*(ct+ct/Ba),rr=bn*bi*$e-2*ce/(1+Tn)+Dn*bi*ce+Dn*bn*(Pt-Pt/Ba),Rr=bn*bi*et-2*Pe/(1+Tn)+Dn*bi*Pe+Dn*bn*(ct-ct/Ba),Er=tr*rr-Rr*Vt;if(!Er)break;var $r=(Pi*tr-ji*Rr)/Er,rn=(ji*rr-Pi*Vt)/Er;ht-=$r,pt=r(-o,l(o,pt-rn))}while((L($r)>f||L(rn)>f)&&--Dt>0);return L(L(pt)-o)<f?[0,pt]:Dt&&[ht,pt]};function Qt(){return(0,p.Z)(qt).scale(62.5271)}var or=y(35*T);function Lr(Ke,rt){var ht=b(rt/2);return[Ke*or*k(1-ht*ht),(1+or)*ht]}Lr.invert=function(Ke,rt){var ht=rt/(1+or);return[Ke&&Ke/(or*k(1-ht*ht)),2*n(ht)]};function Ze(){return(0,p.Z)(Lr).scale(137.152)}function Ye(Ke,rt){var ht=rt/2,pt=y(ht);return[2*Ke/P*y(rt)*pt*pt,P*b(ht)]}Ye.invert=function(Ke,rt){var ht=n(rt/P),pt=y(ht),Dt=2*ht;return[Ke*P/2/(y(Dt)*pt*pt),Dt]};function It(){return(0,p.Z)(Ye).scale(135.264)}function kt(Ke){var rt=1-Ke,ht=Lt(v,0)[0]-Lt(-v,0)[0],pt=Lt(0,o)[1]-Lt(0,-o)[1],Dt=k(2*pt/ht);function Lt(yr,ar){var Mr=y(ar),Ir=u(ar);return[Mr/(rt+Ke*Mr)*yr,rt*ar+Ke*Ir]}function Ot(yr,ar){var Mr=Lt(yr,ar);return[Mr[0]*Dt,Mr[1]/Dt]}function cr(yr){return Ot(0,yr)[1]}return Ot.invert=function(yr,ar){var Mr=Ae(cr,ar),Ir=yr/Dt*(Ke+rt/y(Mr));return[Ir,Mr]},Ot}function Xt(){var Ke=.5,rt=(0,p.r)(kt),ht=rt(Ke);return ht.alpha=function(pt){return arguments.length?rt(Ke=+pt):Ke},ht.scale(168.725)}var ir=e(57962),ur=e(97492);function nr(Ke){return[Ke[0]/2,R(b(Ke[1]/2*T))*E]}function Nt(Ke){return[Ke[0]*2,2*n(u(Ke[1]*T))*E]}function hr(Ke){Ke==null&&(Ke=ir.Z);var rt=Ke(),ht=(0,ur.Z)().scale(E).precision(0).clipAngle(null).translate([0,0]);function pt(Lt){return rt(nr(Lt))}rt.invert&&(pt.invert=function(Lt){return Nt(rt.invert(Lt))}),pt.stream=function(Lt){var Ot=rt.stream(Lt),cr=ht.stream({point:function(yr,ar){Ot.point(yr/2,R(b(-ar/2*T))*E)},lineStart:function(){Ot.lineStart()},lineEnd:function(){Ot.lineEnd()},polygonStart:function(){Ot.polygonStart()},polygonEnd:function(){Ot.polygonEnd()}});return cr.sphere=Ot.sphere,cr};function Dt(Lt){pt[Lt]=function(){return arguments.length?(rt[Lt].apply(rt,arguments),pt):rt[Lt]()}}return pt.rotate=function(Lt){return arguments.length?(ht.rotate(Lt),pt):ht.rotate()},pt.center=function(Lt){return arguments.length?(rt.center(nr(Lt)),pt):Nt(rt.center())},Dt("angle"),Dt("clipAngle"),Dt("clipExtent"),Dt("fitExtent"),Dt("fitHeight"),Dt("fitSize"),Dt("fitWidth"),Dt("scale"),Dt("translate"),Dt("precision"),pt.scale(249.5)}function pr(Ke,rt){var ht=2*v/rt,pt=Ke*Ke;function Dt(Lt,Ot){var cr=(0,se.N)(Lt,Ot),yr=cr[0],ar=cr[1],Mr=yr*yr+ar*ar;if(Mr>pt){var Ir=k(Mr),Zr=C(ar,yr),Qr=ht*s(Zr/ht),bn=Zr-Qr,Tn=Ke*y(bn),Dn=(Ke*u(bn)-bn*u(Tn))/(o-Tn),ya=gr(bn,Dn),ka=(v-Ke)/dr(ya,Tn,v);yr=Ir;var Ba=50,Va;do yr-=Va=(Ke+dr(ya,Tn,yr)*ka-Ir)/(ya(yr)*ka);while(L(Va)>f&&--Ba>0);ar=bn*u(yr),yr<o&&(ar-=Dn*(yr-o));var Ga=u(Qr),bi=y(Qr);cr[0]=yr*bi-ar*Ga,cr[1]=yr*Ga+ar*bi}return cr}return Dt.invert=function(Lt,Ot){var cr=Lt*Lt+Ot*Ot;if(cr>pt){var yr=k(cr),ar=C(Ot,Lt),Mr=ht*s(ar/ht),Ir=ar-Mr;Lt=yr*y(Ir),Ot=yr*u(Ir);for(var Zr=Lt-o,Qr=u(Lt),bn=Ot/Qr,Tn=Lt<o?1/0:0,Dn=10;;){var ya=Ke*u(bn),ka=Ke*y(bn),Ba=u(ka),Va=o-ka,Ga=(ya-bn*Ba)/Va,bi=gr(bn,Ga);if(L(Tn)<w||!--Dn)break;bn-=Tn=(bn*Qr-Ga*Zr-Ot)/(Qr-Zr*2*(Va*(ka+bn*ya*y(ka)-Ba)-ya*(ya-bn*Ba))/(Va*Va))}yr=Ke+dr(bi,ka,Lt)*(v-Ke)/dr(bi,ka,v),ar=Mr+bn,Lt=yr*y(ar),Ot=yr*u(ar)}return se.N.invert(Lt,Ot)},Dt}function gr(Ke,rt){return function(ht){var pt=Ke*y(ht);return ht<o&&(pt-=rt),k(1+pt*pt)}}function dr(Ke,rt,ht){for(var pt=50,Dt=(ht-rt)/pt,Lt=Ke(rt)+Ke(ht),Ot=1,cr=rt;Ot<pt;++Ot)Lt+=2*Ke(cr+=Dt);return Lt*.5*Dt}function Xr(){var Ke=6,rt=30*T,ht=y(rt),pt=u(rt),Dt=(0,p.r)(pr),Lt=Dt(rt,Ke),Ot=Lt.stream,cr=.01,yr=-y(cr*T),ar=u(cr*T);return Lt.radius=function(Mr){return arguments.length?(ht=y(rt=Mr*T),pt=u(rt),Dt(rt,Ke)):rt*E},Lt.lobes=function(Mr){return arguments.length?Dt(rt,Ke=+Mr):Ke},Lt.stream=function(Mr){var Ir=Lt.rotate(),Zr=Ot(Mr),Qr=(Lt.rotate([0,0]),Ot(Mr));return Lt.rotate(Ir),Zr.sphere=function(){Qr.polygonStart(),Qr.lineStart();for(var bn=0,Tn=2*v/Ke,Dn=0;bn<Ke;++bn,Dn-=Tn)Qr.point(C(ar*y(Dn),yr)*E,R(ar*u(Dn))*E),Qr.point(C(pt*y(Dn-Tn/2),ht)*E,R(pt*u(Dn-Tn/2))*E);Qr.lineEnd(),Qr.polygonEnd()},Zr},Lt.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Br(Ke,rt,ht,pt,Dt,Lt,Ot,cr){arguments.length<8&&(cr=0);function yr(ar,Mr){if(!Mr)return[Ke*ar/v,0];var Ir=Mr*Mr,Zr=Ke+Ir*(rt+Ir*(ht+Ir*pt)),Qr=Mr*(Dt-1+Ir*(Lt-cr+Ir*Ot)),bn=(Zr*Zr+Qr*Qr)/(2*Qr),Tn=ar*R(Zr/bn)/v;return[bn*u(Tn),Mr*(1+Ir*cr)+bn*(1-y(Tn))]}return yr.invert=function(ar,Mr){var Ir=v*ar/Ke,Zr=Mr,Qr,bn,Tn=50;do{var Dn=Zr*Zr,ya=Ke+Dn*(rt+Dn*(ht+Dn*pt)),ka=Zr*(Dt-1+Dn*(Lt-cr+Dn*Ot)),Ba=ya*ya+ka*ka,Va=2*ka,Ga=Ba/Va,bi=Ga*Ga,ji=R(ya/Ga)/v,Pi=Ir*ji,ce=ya*ya,Pe=(2*rt+Dn*(4*ht+Dn*6*pt))*Zr,Ue=Dt+Dn*(3*Lt+Dn*5*Ot),$e=2*(ya*Pe+ka*(Ue-1)),et=2*(Ue-1),at=($e*Va-Ba*et)/(Va*Va),Pt=y(Pi),ct=u(Pi),Vt=Ga*Pt,tr=Ga*ct,rr=Ir/v*(1/k(1-ce/bi))*(Pe*Ga-ya*at)/bi,Rr=tr-ar,Er=Zr*(1+Dn*cr)+Ga-Vt-Mr,$r=at*ct+Vt*rr,rn=Vt*ji,kr=1+at-(at*Pt-tr*rr),Hr=tr*ji,jr=$r*Hr-kr*rn;if(!jr)break;Ir-=Qr=(Er*$r-Rr*kr)/jr,Zr-=bn=(Rr*Hr-Er*rn)/jr}while((L(Qr)>f||L(bn)>f)&&--Tn>0);return[Ir,Zr]},yr}var Or=Br(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function mn(){return(0,p.Z)(Or).scale(149.995)}var Jr=Br(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function _n(){return(0,p.Z)(Jr).scale(153.93)}var kn=Br(5/6*v,-.62636,-.0344,0,1.3493,-.05524,0,.045);function br(){return(0,p.Z)(kn).scale(130.945)}function wr(Ke,rt){var ht=Ke*Ke,pt=rt*rt;return[Ke*(1-.162388*pt)*(.87-952426e-9*ht*ht),rt*(1+pt/12)]}wr.invert=function(Ke,rt){var ht=Ke,pt=rt,Dt=50,Lt;do{var Ot=pt*pt;pt-=Lt=(pt*(1+Ot/12)-rt)/(1+Ot/4)}while(L(Lt)>f&&--Dt>0);Dt=50,Ke/=1-.162388*Ot;do{var cr=(cr=ht*ht)*cr;ht-=Lt=(ht*(.87-952426e-9*cr)-Ke)/(.87-.00476213*cr)}while(L(Lt)>f&&--Dt>0);return[ht,pt]};function Nr(){return(0,p.Z)(wr).scale(131.747)}var Vr=Br(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function tn(){return(0,p.Z)(Vr).scale(131.087)}function gn(Ke){var rt=Ke(o,0)[0]-Ke(-o,0)[0];function ht(pt,Dt){var Lt=pt>0?-.5:.5,Ot=Ke(pt+Lt*v,Dt);return Ot[0]-=Lt*rt,Ot}return Ke.invert&&(ht.invert=function(pt,Dt){var Lt=pt>0?-.5:.5,Ot=Ke.invert(pt+Lt*rt,Dt),cr=Ot[0]-Lt*v;return cr<-v?cr+=2*v:cr>v&&(cr-=2*v),Ot[0]=cr,Ot}),ht}function hn(Ke,rt){var ht=c(Ke),pt=c(rt),Dt=y(rt),Lt=y(Ke)*Dt,Ot=u(Ke)*Dt,cr=u(pt*rt);Ke=L(C(Ot,cr)),rt=R(Lt),L(Ke-o)>f&&(Ke%=o);var yr=Sn(Ke>v/4?o-Ke:Ke,rt);return Ke>v/4&&(cr=yr[0],yr[0]=-yr[1],yr[1]=-cr),yr[0]*=ht,yr[1]*=-pt,yr}hn.invert=function(Ke,rt){L(Ke)>1&&(Ke=c(Ke)*2-Ke),L(rt)>1&&(rt=c(rt)*2-rt);var ht=c(Ke),pt=c(rt),Dt=-ht*Ke,Lt=-pt*rt,Ot=Lt/Dt<1,cr=In(Ot?Lt:Dt,Ot?Dt:Lt),yr=cr[0],ar=cr[1],Mr=y(ar);return Ot&&(yr=-o-yr),[ht*(C(u(yr)*Mr,-u(ar))+v),pt*R(y(yr)*Mr)]};function Sn(Ke,rt){if(rt===o)return[0,0];var ht=u(rt),pt=ht*ht,Dt=pt*pt,Lt=1+Dt,Ot=1+3*Dt,cr=1-Dt,yr=R(1/k(Lt)),ar=cr+pt*Lt*yr,Mr=(1-ht)/ar,Ir=k(Mr),Zr=Mr*Lt,Qr=k(Zr),bn=Ir*cr,Tn,Dn;if(Ke===0)return[0,-(bn+pt*Qr)];var ya=y(rt),ka=1/ya,Ba=2*ht*ya,Va=(-3*pt+yr*Ot)*Ba,Ga=(-ar*ya-(1-ht)*Va)/(ar*ar),bi=.5*Ga/Ir,ji=cr*bi-2*pt*Ir*Ba,Pi=pt*Lt*Ga+Mr*Ot*Ba,ce=-ka*Ba,Pe=-ka*Pi,Ue=-2*ka*ji,$e=4*Ke/v,et;if(Ke>.222*v||rt<v/4&&Ke>.175*v){if(Tn=(bn+pt*k(Zr*(1+Dt)-bn*bn))/(1+Dt),Ke>v/4)return[Tn,Tn];var at=Tn,Pt=.5*Tn;Tn=.5*(Pt+at),Dn=50;do{var ct=k(Zr-Tn*Tn),Vt=Tn*(Ue+ce*ct)+Pe*R(Tn/Qr)-$e;if(!Vt)break;Vt<0?Pt=Tn:at=Tn,Tn=.5*(Pt+at)}while(L(at-Pt)>f&&--Dn>0)}else{Tn=f,Dn=25;do{var tr=Tn*Tn,rr=k(Zr-tr),Rr=Ue+ce*rr,Er=Tn*Rr+Pe*R(Tn/Qr)-$e,$r=Rr+(Pe-ce*tr)/rr;Tn-=et=rr?Er/$r:0}while(L(et)>f&&--Dn>0)}return[Tn,-bn-pt*k(Zr-Tn*Tn)]}function In(Ke,rt){for(var ht=0,pt=1,Dt=.5,Lt=50;;){var Ot=Dt*Dt,cr=k(Dt),yr=R(1/k(1+Ot)),ar=1-Ot+Dt*(1+Ot)*yr,Mr=(1-cr)/ar,Ir=k(Mr),Zr=Mr*(1+Ot),Qr=Ir*(1-Ot),bn=Zr-Ke*Ke,Tn=k(bn),Dn=rt+Qr+Dt*Tn;if(L(pt-ht)<w||--Lt===0||Dn===0)break;Dn>0?ht=Dt:pt=Dt,Dt=.5*(ht+pt)}if(!Lt)return null;var ya=R(cr),ka=y(ya),Ba=1/ka,Va=2*cr*ka,Ga=(-3*Dt+yr*(1+3*Ot))*Va,bi=(-ar*ka-(1-cr)*Ga)/(ar*ar),ji=.5*bi/Ir,Pi=(1-Ot)*ji-2*Dt*Ir*Va,ce=-2*Ba*Pi,Pe=-Ba*Va,Ue=-Ba*(Dt*(1+Ot)*bi+Mr*(1+3*Ot)*Va);return[v/4*(Ke*(ce+Pe*Tn)+Ue*R(Ke/k(Zr))),ya]}function Jn(){return(0,p.Z)(gn(hn)).scale(239.75)}function ra(Ke,rt,ht){var pt,Dt,Lt;return Ke?(pt=ca(Ke,ht),rt?(Dt=ca(rt,1-ht),Lt=Dt[1]*Dt[1]+ht*pt[0]*pt[0]*Dt[0]*Dt[0],[[pt[0]*Dt[2]/Lt,pt[1]*pt[2]*Dt[0]*Dt[1]/Lt],[pt[1]*Dt[1]/Lt,-pt[0]*pt[2]*Dt[0]*Dt[2]/Lt],[pt[2]*Dt[1]*Dt[2]/Lt,-ht*pt[0]*pt[1]*Dt[0]/Lt]]):[[pt[0],0],[pt[1],0],[pt[2],0]]):(Dt=ca(rt,1-ht),[[0,Dt[0]/Dt[1]],[1/Dt[1],0],[Dt[2]/Dt[1],0]])}function ca(Ke,rt){var ht,pt,Dt,Lt,Ot;if(rt<f)return Lt=u(Ke),pt=y(Ke),ht=rt*(Ke-Lt*pt)/4,[Lt-ht*pt,pt+ht*Lt,1-rt*Lt*Lt/2,Ke-ht];if(rt>=1-f)return ht=(1-rt)/4,pt=z(Ke),Lt=_(Ke),Dt=1/pt,Ot=pt*H(Ke),[Lt+ht*(Ot-Ke)/(pt*pt),Dt-ht*Lt*Dt*(Ot-Ke),Dt+ht*Lt*Dt*(Ot+Ke),2*n(h(Ke))-o+ht*(Ot-Ke)/pt];var cr=[1,0,0,0,0,0,0,0,0],yr=[k(rt),0,0,0,0,0,0,0,0],ar=0;for(pt=k(1-rt),Ot=1;L(yr[ar]/cr[ar])>f&&ar<8;)ht=cr[ar++],yr[ar]=(ht-pt)/2,cr[ar]=(ht+pt)/2,pt=k(ht*pt),Ot*=2;Dt=Ot*cr[ar]*Ke;do Lt=yr[ar]*u(pt=Dt)/cr[ar],Dt=(R(Lt)+Dt)/2;while(--ar);return[u(Dt),Lt=y(Dt),Lt/y(Dt-pt),Dt]}function aa(Ke,rt,ht){var pt=L(Ke),Dt=L(rt),Lt=H(Dt);if(pt){var Ot=1/u(pt),cr=1/(b(pt)*b(pt)),yr=-(cr+ht*(Lt*Lt*Ot*Ot)-1+ht),ar=(ht-1)*cr,Mr=(-yr+k(yr*yr-4*ar))/2;return[na(n(1/k(Mr)),ht)*c(Ke),na(n(k((Mr/cr-1)/ht)),1-ht)*c(rt)]}return[0,na(n(Lt),1-ht)*c(rt)]}function na(Ke,rt){if(!rt)return Ke;if(rt===1)return t(b(Ke/2+d));for(var ht=1,pt=k(1-rt),Dt=k(rt),Lt=0;L(Dt)>f;Lt++){if(Ke%v){var Ot=n(pt*b(Ke)/ht);Ot<0&&(Ot+=v),Ke+=Ot+~~(Ke/v)*v}else Ke+=Ke;Dt=(ht+pt)/2,pt=k(ht*pt),Dt=((ht=Dt)-pt)/2}return Ke/(a(2,Lt)*ht)}function Cr(Ke,rt){var ht=(M-1)/(M+1),pt=k(1-ht*ht),Dt=na(o,pt*pt),Lt=-1,Ot=t(b(v/4+L(rt)/2)),cr=h(Lt*Ot)/k(ht),yr=ln(cr*y(Lt*Ke),cr*u(Lt*Ke)),ar=aa(yr[0],yr[1],pt*pt);return[-ar[1],(rt>=0?1:-1)*(.5*Dt-ar[0])]}function ln(Ke,rt){var ht=Ke*Ke,pt=rt+1,Dt=1-ht-rt*rt;return[.5*((Ke>=0?o:-o)-C(Dt,2*Ke)),-.25*t(Dt*Dt+4*ht)+.5*t(pt*pt+ht)]}function on(Ke,rt){var ht=rt[0]*rt[0]+rt[1]*rt[1];return[(Ke[0]*rt[0]+Ke[1]*rt[1])/ht,(Ke[1]*rt[0]-Ke[0]*rt[1])/ht]}Cr.invert=function(Ke,rt){var ht=(M-1)/(M+1),pt=k(1-ht*ht),Dt=na(o,pt*pt),Lt=-1,Ot=ra(.5*Dt-rt,-Ke,pt*pt),cr=on(Ot[0],Ot[1]),yr=C(cr[1],cr[0])/Lt;return[yr,2*n(h(.5/Lt*t(ht*cr[0]*cr[0]+ht*cr[1]*cr[1])))-o]};function yn(){return(0,p.Z)(gn(Cr)).scale(151.496)}var Hn=e(7613);function Ln(Ke){var rt=u(Ke),ht=y(Ke),pt=Pn(Ke);pt.invert=Pn(-Ke);function Dt(Lt,Ot){var cr=pt(Lt,Ot);Lt=cr[0],Ot=cr[1];var yr=u(Ot),ar=y(Ot),Mr=y(Lt),Ir=A(rt*yr+ht*ar*Mr),Zr=u(Ir),Qr=L(Zr)>f?Ir/Zr:1;return[Qr*ht*u(Lt),(L(Lt)>o?Qr:-Qr)*(rt*ar-ht*yr*Mr)]}return Dt.invert=function(Lt,Ot){var cr=k(Lt*Lt+Ot*Ot),yr=-u(cr),ar=y(cr),Mr=cr*ar,Ir=-Ot*yr,Zr=cr*rt,Qr=k(Mr*Mr+Ir*Ir-Zr*Zr),bn=C(Mr*Zr+Ir*Qr,Ir*Zr-Mr*Qr),Tn=(cr>o?-1:1)*C(Lt*yr,cr*y(bn)*ar+Ot*u(bn)*yr);return pt.invert(Tn,bn)},Dt}function Pn(Ke){var rt=u(Ke),ht=y(Ke);return function(pt,Dt){var Lt=y(Dt),Ot=y(pt)*Lt,cr=u(pt)*Lt,yr=u(Dt);return[C(cr,Ot*ht-yr*rt),R(yr*ht+Ot*rt)]}}function Wn(){var Ke=0,rt=(0,p.r)(Ln),ht=rt(Ke),pt=ht.rotate,Dt=ht.stream,Lt=(0,Hn.Z)();return ht.parallel=function(Ot){if(!arguments.length)return Ke*E;var cr=ht.rotate();return rt(Ke=Ot*T).rotate(cr)},ht.rotate=function(Ot){return arguments.length?(pt.call(ht,[Ot[0],Ot[1]-Ke*E]),Lt.center([-Ot[0],-Ot[1]]),ht):(Ot=pt.call(ht),Ot[1]+=Ke*E,Ot)},ht.stream=function(Ot){return Ot=Dt(Ot),Ot.sphere=function(){Ot.polygonStart();var cr=.01,yr=Lt.radius(90-cr)().coordinates[0],ar=yr.length-1,Mr=-1,Ir;for(Ot.lineStart();++Mr<ar;)Ot.point((Ir=yr[Mr])[0],Ir[1]);for(Ot.lineEnd(),yr=Lt.radius(90+cr)().coordinates[0],ar=yr.length-1,Ot.lineStart();--Mr>=0;)Ot.point((Ir=yr[Mr])[0],Ir[1]);Ot.lineEnd(),Ot.polygonEnd()},Ot},ht.scale(79.4187).parallel(45).clipAngle(179.999)}var la=e(33064),za=e(72736),ni=3,jt=R(1-1/ni)*E,Sr=Et(0);function sn(Ke){var rt=jt*T,ht=Ne(v,rt)[0]-Ne(-v,rt)[0],pt=Sr(0,rt)[1],Dt=Ne(0,rt)[1],Lt=P-Dt,Ot=x/Ke,cr=4/x,yr=pt+Lt*Lt*4/x;function ar(Mr,Ir){var Zr,Qr=L(Ir);if(Qr>rt){var bn=l(Ke-1,r(0,g((Mr+v)/Ot)));Mr+=v*(Ke-1)/Ke-bn*Ot,Zr=Ne(Mr,Qr),Zr[0]=Zr[0]*x/ht-x*(Ke-1)/(2*Ke)+bn*x/Ke,Zr[1]=pt+(Zr[1]-Dt)*4*Lt/x,Ir<0&&(Zr[1]=-Zr[1])}else Zr=Sr(Mr,Ir);return Zr[0]*=cr,Zr[1]/=yr,Zr}return ar.invert=function(Mr,Ir){Mr/=cr,Ir*=yr;var Zr=L(Ir);if(Zr>pt){var Qr=l(Ke-1,r(0,g((Mr+v)/Ot)));Mr=(Mr+v*(Ke-1)/Ke-Qr*Ot)*ht/x;var bn=Ne.invert(Mr,.25*(Zr-pt)*x/Lt+Dt);return bn[0]-=v*(Ke-1)/Ke-Qr*Ot,Ir<0&&(bn[1]=-bn[1]),bn}return Sr.invert(Mr,Ir)},ar}function vn(Ke,rt){return[Ke,rt&1?90-f:jt]}function dn(Ke,rt){return[Ke,rt&1?-90+f:-jt]}function Rn(Ke){return[Ke[0]*(1-f),Ke[1]]}function An(Ke){var rt=[].concat((0,la.w6)(-180,180+Ke/2,Ke).map(vn),(0,la.w6)(180,-180-Ke/2,-Ke).map(dn));return{type:"Polygon",coordinates:[Ke===180?rt.map(Rn):rt]}}function cn(){var Ke=4,rt=(0,p.r)(sn),ht=rt(Ke),pt=ht.stream;return ht.lobes=function(Dt){return arguments.length?rt(Ke=+Dt):Ke},ht.stream=function(Dt){var Lt=ht.rotate(),Ot=pt(Dt),cr=(ht.rotate([0,0]),pt(Dt));return ht.rotate(Lt),Ot.sphere=function(){(0,za.Z)(An(180/Ke),cr)},Ot},ht.scale(239.75)}function Dr(Ke){var rt=1+Ke,ht=u(1/rt),pt=R(ht),Dt=2*k(v/(Lt=v+4*pt*rt)),Lt,Ot=.5*Dt*(rt+k(Ke*(2+Ke))),cr=Ke*Ke,yr=rt*rt;function ar(Mr,Ir){var Zr=1-u(Ir),Qr,bn;if(Zr&&Zr<2){var Tn=o-Ir,Dn=25,ya;do{var ka=u(Tn),Ba=y(Tn),Va=pt+C(ka,rt-Ba),Ga=1+yr-2*rt*Ba;Tn-=ya=(Tn-cr*pt-rt*ka+Ga*Va-.5*Zr*Lt)/(2*rt*ka*Va)}while(L(ya)>w&&--Dn>0);Qr=Dt*k(Ga),bn=Mr*Va/v}else Qr=Dt*(Ke+Zr),bn=Mr*pt/v;return[Qr*u(bn),Ot-Qr*y(bn)]}return ar.invert=function(Mr,Ir){var Zr=Mr*Mr+(Ir-=Ot)*Ir,Qr=(1+yr-Zr/(Dt*Dt))/(2*rt),bn=A(Qr),Tn=u(bn),Dn=pt+C(Tn,rt-Qr);return[R(Mr/k(Zr))*v/Dn,R(1-2*(bn-cr*pt-rt*Tn+(1+yr-2*rt*Qr)*Dn)/Lt)]},ar}function Pr(){var Ke=1,rt=(0,p.r)(Dr),ht=rt(Ke);return ht.ratio=function(pt){return arguments.length?rt(Ke=+pt):Ke},ht.scale(167.774).center([0,18.67])}var zr=.7109889596207567,pn=.0528035274542;function zn(Ke,rt){return rt>-zr?(Ke=Le(Ke,rt),Ke[1]+=pn,Ke):Qe(Ke,rt)}zn.invert=function(Ke,rt){return rt>-zr?Le.invert(Ke,rt-pn):Qe.invert(Ke,rt)};function Zn(){return(0,p.Z)(zn).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function xn(Ke,rt){return L(rt)>zr?(Ke=Le(Ke,rt),Ke[1]-=rt>0?pn:-pn,Ke):Qe(Ke,rt)}xn.invert=function(Ke,rt){return L(rt)>zr?Le.invert(Ke,rt+(rt>0?pn:-pn)):Qe.invert(Ke,rt)};function Nn(){return(0,p.Z)(xn).scale(152.63)}function ta(Ke,rt,ht,pt){var Dt=k(4*v/(2*ht+(1+Ke-rt/2)*u(2*ht)+(Ke+rt)/2*u(4*ht)+rt/2*u(6*ht))),Lt=k(pt*u(ht)*k((1+Ke*y(2*ht)+rt*y(4*ht))/(1+Ke+rt))),Ot=ht*yr(1);function cr(Ir){return k(1+Ke*y(2*Ir)+rt*y(4*Ir))}function yr(Ir){var Zr=Ir*ht;return(2*Zr+(1+Ke-rt/2)*u(2*Zr)+(Ke+rt)/2*u(4*Zr)+rt/2*u(6*Zr))/ht}function ar(Ir){return cr(Ir)*u(Ir)}var Mr=function(Ir,Zr){var Qr=ht*Ae(yr,Ot*u(Zr)/ht,Zr/v);isNaN(Qr)&&(Qr=ht*c(Zr));var bn=Dt*cr(Qr);return[bn*Lt*Ir/v*y(Qr),bn/Lt*u(Qr)]};return Mr.invert=function(Ir,Zr){var Qr=Ae(ar,Zr*Lt/Dt);return[Ir*v/(y(Qr)*Dt*Lt*cr(Qr)),R(ht*yr(Qr/ht)/Ot)]},ht===0&&(Dt=k(pt/v),Mr=function(Ir,Zr){return[Ir*Dt,u(Zr)/Dt]},Mr.invert=function(Ir,Zr){return[Ir/Dt,R(Zr*Dt)]}),Mr}function ha(){var Ke=1,rt=0,ht=45*T,pt=2,Dt=(0,p.r)(ta),Lt=Dt(Ke,rt,ht,pt);return Lt.a=function(Ot){return arguments.length?Dt(Ke=+Ot,rt,ht,pt):Ke},Lt.b=function(Ot){return arguments.length?Dt(Ke,rt=+Ot,ht,pt):rt},Lt.psiMax=function(Ot){return arguments.length?Dt(Ke,rt,ht=+Ot*T,pt):ht*E},Lt.ratio=function(Ot){return arguments.length?Dt(Ke,rt,ht,pt=+Ot):pt},Lt.scale(180.739)}function ua(Ke,rt,ht,pt,Dt,Lt,Ot,cr,yr,ar,Mr){if(Mr.nanEncountered)return NaN;var Ir,Zr,Qr,bn,Tn,Dn,ya,ka,Ba,Va;if(Ir=ht-rt,Zr=Ke(rt+Ir*.25),Qr=Ke(ht-Ir*.25),isNaN(Zr)){Mr.nanEncountered=!0;return}if(isNaN(Qr)){Mr.nanEncountered=!0;return}return bn=Ir*(pt+4*Zr+Dt)/12,Tn=Ir*(Dt+4*Qr+Lt)/12,Dn=bn+Tn,Va=(Dn-Ot)/15,ar>yr?(Mr.maxDepthCount++,Dn+Va):Math.abs(Va)<cr?Dn+Va:(ya=rt+Ir*.5,ka=ua(Ke,rt,ya,pt,Zr,Dt,bn,cr*.5,yr,ar+1,Mr),isNaN(ka)?(Mr.nanEncountered=!0,NaN):(Ba=ua(Ke,ya,ht,Dt,Qr,Lt,Tn,cr*.5,yr,ar+1,Mr),isNaN(Ba)?(Mr.nanEncountered=!0,NaN):ka+Ba))}function fa(Ke,rt,ht,pt,Dt){var Lt={maxDepthCount:0,nanEncountered:!1};pt===void 0&&(pt=1e-8),Dt===void 0&&(Dt=20);var Ot=Ke(rt),cr=Ke(.5*(rt+ht)),yr=Ke(ht),ar=(Ot+4*cr+yr)*(ht-rt)/6,Mr=ua(Ke,rt,ht,Ot,cr,yr,ar,pt,Dt,1,Lt);return Mr}function ma(Ke,rt,ht){function pt(Qr){return Ke+(1-Ke)*a(1-a(Qr,rt),1/rt)}function Dt(Qr){return fa(pt,0,Qr,1e-4)}for(var Lt=1/Dt(1),Ot=1e3,cr=(1+1e-8)*Lt,yr=[],ar=0;ar<=Ot;ar++)yr.push(Dt(ar/Ot)*cr);function Mr(Qr){var bn=0,Tn=Ot,Dn=Ot>>1;do yr[Dn]>Qr?Tn=Dn:bn=Dn,Dn=bn+Tn>>1;while(Dn>bn);var ya=yr[Dn+1]-yr[Dn];return ya&&(ya=(Qr-yr[Dn+1])/ya),(Dn+1+ya)/Ot}var Ir=2*Mr(1)/v*Lt/ht,Zr=function(Qr,bn){var Tn=Mr(L(u(bn))),Dn=pt(Tn)*Qr;return Tn/=Ir,[Dn,bn>=0?Tn:-Tn]};return Zr.invert=function(Qr,bn){var Tn;return bn*=Ir,L(bn)<1&&(Tn=c(bn)*R(Dt(L(bn))*Lt)),[Qr/pt(L(bn)),Tn]},Zr}function yo(){var Ke=0,rt=2.5,ht=1.183136,pt=(0,p.r)(ma),Dt=pt(Ke,rt,ht);return Dt.alpha=function(Lt){return arguments.length?pt(Ke=+Lt,rt,ht):Ke},Dt.k=function(Lt){return arguments.length?pt(Ke,rt=+Lt,ht):rt},Dt.gamma=function(Lt){return arguments.length?pt(Ke,rt,ht=+Lt):ht},Dt.scale(152.63)}function ko(Ke,rt){return L(Ke[0]-rt[0])<f&&L(Ke[1]-rt[1])<f}function No(Ke,rt){for(var ht=-1,pt=Ke.length,Dt=Ke[0],Lt,Ot,cr,yr=[];++ht<pt;){Lt=Ke[ht],Ot=(Lt[0]-Dt[0])/rt,cr=(Lt[1]-Dt[1])/rt;for(var ar=0;ar<rt;++ar)yr.push([Dt[0]+ar*Ot,Dt[1]+ar*cr]);Dt=Lt}return yr.push(Lt),yr}function jo(Ke){var rt=[],ht,pt,Dt,Lt,Ot,cr,yr,ar=Ke[0].length;for(yr=0;yr<ar;++yr)ht=Ke[0][yr],pt=ht[0][0],Dt=ht[0][1],Lt=ht[1][1],Ot=ht[2][0],cr=ht[2][1],rt.push(No([[pt+f,Dt+f],[pt+f,Lt-f],[Ot-f,Lt-f],[Ot-f,cr+f]],30));for(yr=Ke[1].length-1;yr>=0;--yr)ht=Ke[1][yr],pt=ht[0][0],Dt=ht[0][1],Lt=ht[1][1],Ot=ht[2][0],cr=ht[2][1],rt.push(No([[Ot-f,cr-f],[Ot-f,Lt+f],[pt+f,Lt+f],[pt+f,Dt-f]],30));return{type:"Polygon",coordinates:[(0,la.TS)(rt)]}}function Vo(Ke,rt,ht){var pt,Dt;function Lt(yr,ar){for(var Mr=ar<0?-1:1,Ir=rt[+(ar<0)],Zr=0,Qr=Ir.length-1;Zr<Qr&&yr>Ir[Zr][2][0];++Zr);var bn=Ke(yr-Ir[Zr][1][0],ar);return bn[0]+=Ke(Ir[Zr][1][0],Mr*ar>Mr*Ir[Zr][0][1]?Ir[Zr][0][1]:ar)[0],bn}ht?Lt.invert=ht(Lt):Ke.invert&&(Lt.invert=function(yr,ar){for(var Mr=Dt[+(ar<0)],Ir=rt[+(ar<0)],Zr=0,Qr=Mr.length;Zr<Qr;++Zr){var bn=Mr[Zr];if(bn[0][0]<=yr&&yr<bn[1][0]&&bn[0][1]<=ar&&ar<bn[1][1]){var Tn=Ke.invert(yr-Ke(Ir[Zr][1][0],0)[0],ar);return Tn[0]+=Ir[Zr][1][0],ko(Lt(Tn[0],Tn[1]),[yr,ar])?Tn:null}}});var Ot=(0,p.Z)(Lt),cr=Ot.stream;return Ot.stream=function(yr){var ar=Ot.rotate(),Mr=cr(yr),Ir=(Ot.rotate([0,0]),cr(yr));return Ot.rotate(ar),Mr.sphere=function(){(0,za.Z)(pt,Ir)},Mr},Ot.lobes=function(yr){return arguments.length?(pt=jo(yr),rt=yr.map(function(ar){return ar.map(function(Mr){return[[Mr[0][0]*T,Mr[0][1]*T],[Mr[1][0]*T,Mr[1][1]*T],[Mr[2][0]*T,Mr[2][1]*T]]})}),Dt=rt.map(function(ar){return ar.map(function(Mr){var Ir=Ke(Mr[0][0],Mr[0][1])[0],Zr=Ke(Mr[2][0],Mr[2][1])[0],Qr=Ke(Mr[1][0],Mr[0][1])[1],bn=Ke(Mr[1][0],Mr[1][1])[1],Tn;return Qr>bn&&(Tn=Qr,Qr=bn,bn=Tn),[[Ir,Qr],[Zr,bn]]})}),Ot):rt.map(function(ar){return ar.map(function(Mr){return[[Mr[0][0]*E,Mr[0][1]*E],[Mr[1][0]*E,Mr[1][1]*E],[Mr[2][0]*E,Mr[2][1]*E]]})})},rt!=null&&Ot.lobes(rt),Ot}var Hf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function pi(){return Vo(We,Hf).scale(160.857)}var Pu=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ql(){return Vo(xn,Pu).scale(152.63)}var mo=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Ko(){return Vo(Le,mo).scale(169.529)}var Fc=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Ru(){return Vo(Le,Fc).scale(169.529).rotate([20,0])}var Xi=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function Iu(){return Vo(zn,Xi,Se).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var rs=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function co(){return Vo(Qe,rs).scale(152.63).rotate([-20,0])}function ns(Ke,rt){return[3/x*Ke*k(v*v/3-rt*rt),rt]}ns.invert=function(Ke,rt){return[x/3*Ke/k(v*v/3-rt*rt),rt]};function _o(){return(0,p.Z)(ns).scale(158.837)}function us(Ke){function rt(ht,pt){if(L(L(pt)-o)<f)return[0,pt<0?-2:2];var Dt=u(pt),Lt=a((1+Dt)/(1-Dt),Ke/2),Ot=.5*(Lt+1/Lt)+y(ht*=Ke);return[2*u(ht)/Ot,(Lt-1/Lt)/Ot]}return rt.invert=function(ht,pt){var Dt=L(pt);if(L(Dt-2)<f)return ht?null:[0,c(pt)*o];if(Dt>2)return null;ht/=2,pt/=2;var Lt=ht*ht,Ot=pt*pt,cr=2*pt/(1+Lt+Ot);return cr=a((1+cr)/(1-cr),1/Ke),[C(2*ht,1-Lt-Ot)/Ke,R((cr-1)/(cr+1))]},rt}function ks(){var Ke=.5,rt=(0,p.r)(us),ht=rt(Ke);return ht.spacing=function(pt){return arguments.length?rt(Ke=+pt):Ke},ht.scale(124.75)}var Qs=v/M;function Ao(Ke,rt){return[Ke*(1+k(y(rt)))/2,rt/(y(rt/2)*y(Ke/6))]}Ao.invert=function(Ke,rt){var ht=L(Ke),pt=L(rt),Dt=f,Lt=o;pt<Qs?Lt*=pt/Qs:Dt+=6*A(Qs/pt);for(var Ot=0;Ot<25;Ot++){var cr=u(Lt),yr=k(y(Lt)),ar=u(Lt/2),Mr=y(Lt/2),Ir=u(Dt/6),Zr=y(Dt/6),Qr=.5*Dt*(1+yr)-ht,bn=Lt/(Mr*Zr)-pt,Tn=yr?-.25*Dt*cr/yr:0,Dn=.5*(1+yr),ya=(1+.5*Lt*ar/Mr)/(Mr*Zr),ka=Lt/Mr*(Ir/6)/(Zr*Zr),Ba=Tn*ka-ya*Dn,Va=(Qr*ka-bn*Dn)/Ba,Ga=(bn*Tn-Qr*ya)/Ba;if(Lt-=Va,Dt-=Ga,L(Va)<f&&L(Ga)<f)break}return[Ke<0?-Dt:Dt,rt<0?-Lt:Lt]};function zc(){return(0,p.Z)(Ao).scale(97.2672)}function _s(Ke,rt){var ht=Ke*Ke,pt=rt*rt;return[Ke*(.975534+pt*(-.119161+ht*-.0143059+pt*-.0547009)),rt*(1.00384+ht*(.0802894+pt*-.02855+ht*199025e-9)+pt*(.0998909+pt*-.0491032))]}_s.invert=function(Ke,rt){var ht=c(Ke)*v,pt=rt/2,Dt=50;do{var Lt=ht*ht,Ot=pt*pt,cr=ht*pt,yr=ht*(.975534+Ot*(-.119161+Lt*-.0143059+Ot*-.0547009))-Ke,ar=pt*(1.00384+Lt*(.0802894+Ot*-.02855+Lt*199025e-9)+Ot*(.0998909+Ot*-.0491032))-rt,Mr=.975534-Ot*(.119161+3*Lt*.0143059+Ot*.0547009),Ir=-cr*(2*.119161+4*.0547009*Ot+2*.0143059*Lt),Zr=cr*(2*.0802894+4*199025e-9*Lt+2*-.02855*Ot),Qr=1.00384+Lt*(.0802894+199025e-9*Lt)+Ot*(3*(.0998909-.02855*Lt)-5*.0491032*Ot),bn=Ir*Zr-Qr*Mr,Tn=(ar*Ir-yr*Qr)/bn,Dn=(yr*Zr-ar*Mr)/bn;ht-=Tn,pt-=Dn}while((L(Tn)>f||L(Dn)>f)&&--Dt>0);return Dt&&[ht,pt]};function So(){return(0,p.Z)(_s).scale(139.98)}function Gf(Ke,rt){return[u(Ke)/y(rt),b(rt)*y(Ke)]}Gf.invert=function(Ke,rt){var ht=Ke*Ke,pt=rt*rt,Dt=pt+1,Lt=ht+Dt,Ot=Ke?S*k((Lt-k(Lt*Lt-4*ht))/ht):1/k(Dt);return[R(Ke*Ot),c(rt)*A(Ot)]};function qs(){return(0,p.Z)(Gf).scale(144.049).clipAngle(89.999)}function Fs(Ke){var rt=y(Ke),ht=b(d+Ke/2);function pt(Dt,Lt){var Ot=Lt-Ke,cr=L(Ot)<f?Dt*rt:L(cr=d+Lt/2)<f||L(L(cr)-o)<f?0:Dt*Ot/t(b(cr)/ht);return[cr,Ot]}return pt.invert=function(Dt,Lt){var Ot,cr=Lt+Ke;return[L(Lt)<f?Dt/rt:L(Ot=d+cr/2)<f||L(L(Ot)-o)<f?0:Dt*t(b(Ot)/ht)/Lt,cr]},pt}function Wf(){return qe(Fs).parallel(40).scale(158.837)}function Yf(Ke,rt){return[Ke,1.25*t(b(d+.4*rt))]}Yf.invert=function(Ke,rt){return[Ke,2.5*n(h(.8*rt))-.625*v]};function Eh(){return(0,p.Z)(Yf).scale(108.318)}function Du(Ke){var rt=Ke.length-1;function ht(pt,Dt){for(var Lt=y(Dt),Ot=2/(1+Lt*y(pt)),cr=Ot*Lt*u(pt),yr=Ot*u(Dt),ar=rt,Mr=Ke[ar],Ir=Mr[0],Zr=Mr[1],Qr;--ar>=0;)Mr=Ke[ar],Ir=Mr[0]+cr*(Qr=Ir)-yr*Zr,Zr=Mr[1]+cr*Zr+yr*Qr;return Ir=cr*(Qr=Ir)-yr*Zr,Zr=cr*Zr+yr*Qr,[Ir,Zr]}return ht.invert=function(pt,Dt){var Lt=20,Ot=pt,cr=Dt;do{for(var yr=rt,ar=Ke[yr],Mr=ar[0],Ir=ar[1],Zr=0,Qr=0,bn;--yr>=0;)ar=Ke[yr],Zr=Mr+Ot*(bn=Zr)-cr*Qr,Qr=Ir+Ot*Qr+cr*bn,Mr=ar[0]+Ot*(bn=Mr)-cr*Ir,Ir=ar[1]+Ot*Ir+cr*bn;Zr=Mr+Ot*(bn=Zr)-cr*Qr,Qr=Ir+Ot*Qr+cr*bn,Mr=Ot*(bn=Mr)-cr*Ir-pt,Ir=Ot*Ir+cr*bn-Dt;var Tn=Zr*Zr+Qr*Qr,Dn,ya;Ot-=Dn=(Mr*Zr+Ir*Qr)/Tn,cr-=ya=(Ir*Zr-Mr*Qr)/Tn}while(L(Dn)+L(ya)>f*f&&--Lt>0);if(Lt){var ka=k(Ot*Ot+cr*cr),Ba=2*n(ka*.5),Va=u(Ba);return[C(Ot*Va,ka*y(Ba)),ka?R(cr*Va/ka):0]}},ht}var Lh=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Ph=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Rh=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Zf=[[.9245,0],[0,0],[.01943,0]],Ih=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Dh(){return kl(Lh,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Oc(){return kl(Ph,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function kh(){return kl(Rh,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function _h(){return kl(Zf,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Xf(){return kl(Ih,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function kl(Ke,rt){var ht=(0,p.Z)(Du(Ke)).rotate(rt).clipAngle(90),pt=(0,_e.Z)(rt),Dt=ht.center;return delete ht.rotate,ht.center=function(Lt){return arguments.length?Dt(pt(Lt)):pt.invert(Dt())},ht}var _l=k(6),eu=k(7);function lf(Ke,rt){var ht=R(7*u(rt)/(3*_l));return[_l*Ke*(2*y(2*ht/3)-1)/eu,9*u(ht/3)/eu]}lf.invert=function(Ke,rt){var ht=3*R(rt*eu/9);return[Ke*eu/(_l*(2*y(2*ht/3)-1)),R(u(ht)*3*_l/7)]};function Fh(){return(0,p.Z)(lf).scale(164.859)}function el(Ke,rt){for(var ht=(1+S)*u(rt),pt=rt,Dt=0,Lt;Dt<25&&(pt-=Lt=(u(pt/2)+u(pt)-ht)/(.5*y(pt/2)+y(pt)),!(L(Lt)<f));Dt++);return[Ke*(1+2*y(pt)/y(pt/2))/(3*M),2*k(3)*u(pt/2)/k(2+M)]}el.invert=function(Ke,rt){var ht=rt*k(2+M)/(2*k(3)),pt=2*R(ht);return[3*M*Ke/(1+2*y(pt)/y(pt/2)),R((ht+u(pt))/(1+S))]};function Bc(){return(0,p.Z)(el).scale(188.209)}function jf(Ke,rt){for(var ht=k(6/(4+v)),pt=(1+v/4)*u(rt),Dt=rt/2,Lt=0,Ot;Lt<25&&(Dt-=Ot=(Dt/2+u(Dt)-pt)/(.5+y(Dt)),!(L(Ot)<f));Lt++);return[ht*(.5+y(Dt))*Ke/1.5,ht*Dt]}jf.invert=function(Ke,rt){var ht=k(6/(4+v)),pt=rt/ht;return L(L(pt)-o)<f&&(pt=pt<0?-o:o),[1.5*Ke/(ht*(.5+y(pt))),R((pt/2+u(pt))/(1+v/4))]};function zh(){return(0,p.Z)(jf).scale(166.518)}var fs=e(26867);function Fl(Ke,rt){var ht=rt*rt,pt=ht*ht,Dt=ht*pt;return[Ke*(.84719-.13063*ht+Dt*Dt*(-.04515+.05494*ht-.02326*pt+.00331*Dt)),rt*(1.01183+pt*pt*(-.02625+.01926*ht-.00396*pt))]}Fl.invert=function(Ke,rt){var ht=rt,pt=25,Dt,Lt,Ot,cr;do Lt=ht*ht,Ot=Lt*Lt,ht-=Dt=(ht*(1.01183+Ot*Ot*(-.02625+.01926*Lt-.00396*Ot))-rt)/(1.01183+Ot*Ot*(-.23625+.21186*Lt+-.05148*Ot));while(L(Dt)>w&&--pt>0);return Lt=ht*ht,Ot=Lt*Lt,cr=Lt*Ot,[Ke/(.84719-.13063*Lt+cr*cr*(-.04515+.05494*Lt-.02326*Ot+.00331*cr)),ht]};function ku(){return(0,p.Z)(Fl).scale(175.295)}function tu(Ke,rt){return[Ke*(1+y(rt))/2,2*(rt-b(rt/2))]}tu.invert=function(Ke,rt){for(var ht=rt/2,pt=0,Dt=1/0;pt<10&&L(Dt)>f;++pt){var Lt=y(rt/2);rt-=Dt=(rt-b(rt/2)-ht)/(1-.5/(Lt*Lt))}return[2*Ke/(1+y(rt)),rt]};function zs(){return(0,p.Z)(tu).scale(152.63)}var tl=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Kf(){return Vo(oe(1/0),tl).rotate([20,0]).scale(152.63)}function ru(Ke,rt){var ht=u(rt),pt=y(rt),Dt=c(Ke);if(Ke===0||L(rt)===o)return[0,rt];if(rt===0)return[Ke,0];if(L(Ke)===o)return[Ke*pt,o*ht];var Lt=v/(2*Ke)-2*Ke/v,Ot=2*rt/v,cr=(1-Ot*Ot)/(ht-Ot),yr=Lt*Lt,ar=cr*cr,Mr=1+yr/ar,Ir=1+ar/yr,Zr=(Lt*ht/cr-Lt/2)/Mr,Qr=(ar*ht/yr+cr/2)/Ir,bn=Zr*Zr+pt*pt/Mr,Tn=Qr*Qr-(ar*ht*ht/yr+cr*ht-1)/Ir;return[o*(Zr+k(bn)*Dt),o*(Qr+k(Tn<0?0:Tn)*c(-rt*Lt)*Dt)]}ru.invert=function(Ke,rt){Ke/=o,rt/=o;var ht=Ke*Ke,pt=rt*rt,Dt=ht+pt,Lt=v*v;return[Ke?(Dt-1+k((1-Dt)*(1-Dt)+4*ht))/(2*Ke)*o:0,Ae(function(Ot){return Dt*(v*u(Ot)-2*Ot)*v+4*Ot*Ot*(rt-u(Ot))+2*v*Ot-Lt*rt},0)]};function pl(){return(0,p.Z)(ru).scale(127.267)}var qi=1.0148,Jf=.23185,uf=-.14499,nu=.02406,Nc=qi,Vc=5*Jf,au=7*uf,iu=9*nu,xo=1.790857183;function ff(Ke,rt){var ht=rt*rt;return[Ke,rt*(qi+ht*ht*(Jf+ht*(uf+nu*ht)))]}ff.invert=function(Ke,rt){rt>xo?rt=xo:rt<-xo&&(rt=-xo);var ht=rt,pt;do{var Dt=ht*ht;ht-=pt=(ht*(qi+Dt*Dt*(Jf+Dt*(uf+nu*Dt)))-rt)/(Nc+Dt*Dt*(Vc+Dt*(au+iu*Dt)))}while(L(pt)>f);return[Ke,ht]};function Oh(){return(0,p.Z)(ff).scale(139.319)}function $f(Ke,rt){if(L(rt)<f)return[Ke,0];var ht=b(rt),pt=Ke*u(rt);return[u(pt)/ht,rt+(1-y(pt))/ht]}$f.invert=function(Ke,rt){if(L(rt)<f)return[Ke,0];var ht=Ke*Ke+rt*rt,pt=rt*.5,Dt=10,Lt;do{var Ot=b(pt),cr=1/y(pt),yr=ht-2*rt*pt+pt*pt;pt-=Lt=(Ot*yr+2*(pt-rt))/(2+yr*cr*cr+2*(pt-rt)*Ot)}while(L(Lt)>f&&--Dt>0);return Ot=b(pt),[(L(rt)<L(pt+1/Ot)?R(Ke*Ot):c(rt)*c(Ke)*(A(L(Ke*Ot))+o))/u(pt),pt]};function Bh(){return(0,p.Z)($f).scale(103.74)}var cf=e(77338),_u=e(83074);function Qf(Ke,rt){var ht=ec(Ke[1],Ke[0]),pt=ec(rt[1],rt[0]),Dt=tc(ht,pt),Lt=hf(ht)/hf(pt);return Fu([1,0,Ke[0][0],0,1,Ke[0][1]],Fu([Lt,0,0,0,Lt,0],Fu([y(Dt),u(Dt),0,-u(Dt),y(Dt),0],[1,0,-rt[0][0],0,1,-rt[0][1]])))}function qf(Ke){var rt=1/(Ke[0]*Ke[4]-Ke[1]*Ke[3]);return[rt*Ke[4],-rt*Ke[1],rt*(Ke[1]*Ke[5]-Ke[2]*Ke[4]),-rt*Ke[3],rt*Ke[0],rt*(Ke[2]*Ke[3]-Ke[0]*Ke[5])]}function Fu(Ke,rt){return[Ke[0]*rt[0]+Ke[1]*rt[3],Ke[0]*rt[1]+Ke[1]*rt[4],Ke[0]*rt[2]+Ke[1]*rt[5]+Ke[2],Ke[3]*rt[0]+Ke[4]*rt[3],Ke[3]*rt[1]+Ke[4]*rt[4],Ke[3]*rt[2]+Ke[4]*rt[5]+Ke[5]]}function ec(Ke,rt){return[Ke[0]-rt[0],Ke[1]-rt[1]]}function hf(Ke){return k(Ke[0]*Ke[0]+Ke[1]*Ke[1])}function tc(Ke,rt){return C(Ke[0]*rt[1]-Ke[1]*rt[0],Ke[0]*rt[0]+Ke[1]*rt[1])}function Li(Ke,rt,ht){pt(Ke,{transform:null});function pt(ar,Mr){if(ar.edges=zl(ar.face),Mr.face){var Ir=ar.shared=ou(ar.face,Mr.face),Zr=Qf(Ir.map(Mr.project),Ir.map(ar.project));ar.transform=Mr.transform?Fu(Mr.transform,Zr):Zr;for(var Qr=Mr.edges,bn=0,Tn=Qr.length;bn<Tn;++bn)ws(Ir[0],Qr[bn][1])&&ws(Ir[1],Qr[bn][0])&&(Qr[bn]=ar),ws(Ir[0],Qr[bn][0])&&ws(Ir[1],Qr[bn][1])&&(Qr[bn]=ar);for(Qr=ar.edges,bn=0,Tn=Qr.length;bn<Tn;++bn)ws(Ir[0],Qr[bn][0])&&ws(Ir[1],Qr[bn][1])&&(Qr[bn]=Mr),ws(Ir[0],Qr[bn][1])&&ws(Ir[1],Qr[bn][0])&&(Qr[bn]=Mr)}else ar.transform=Mr.transform;return ar.children&&ar.children.forEach(function(Dn){pt(Dn,ar)}),ar}function Dt(ar,Mr){var Ir=rt(ar,Mr),Zr=Ir.project([ar*E,Mr*E]),Qr;return(Qr=Ir.transform)?[Qr[0]*Zr[0]+Qr[1]*Zr[1]+Qr[2],-(Qr[3]*Zr[0]+Qr[4]*Zr[1]+Qr[5])]:(Zr[1]=-Zr[1],Zr)}rc(Ke)&&(Dt.invert=function(ar,Mr){var Ir=Lt(Ke,[ar,-Mr]);return Ir&&(Ir[0]*=T,Ir[1]*=T,Ir)});function Lt(ar,Mr){var Ir=ar.project.invert,Zr=ar.transform,Qr=Mr;if(Zr&&(Zr=qf(Zr),Qr=[Zr[0]*Qr[0]+Zr[1]*Qr[1]+Zr[2],Zr[3]*Qr[0]+Zr[4]*Qr[1]+Zr[5]]),Ir&&ar===Ot(bn=Ir(Qr)))return bn;for(var bn,Tn=ar.children,Dn=0,ya=Tn&&Tn.length;Dn<ya;++Dn)if(bn=Lt(Tn[Dn],Mr))return bn}function Ot(ar){return rt(ar[0]*T,ar[1]*T)}var cr=(0,p.Z)(Dt),yr=cr.stream;return cr.stream=function(ar){var Mr=cr.rotate(),Ir=yr(ar),Zr=(cr.rotate([0,0]),yr(ar));return cr.rotate(Mr),Ir.sphere=function(){Zr.polygonStart(),Zr.lineStart(),Uc(Zr,Ke),Zr.lineEnd(),Zr.polygonEnd()},Ir},cr.angle(ht==null?-30:ht*E)}function Uc(Ke,rt,ht){var pt,Dt=rt.edges,Lt=Dt.length,Ot,cr={type:"MultiPoint",coordinates:rt.face},yr=rt.face.filter(function(Tn){return L(Tn[1])!==90}),ar=(0,cf.Z)({type:"MultiPoint",coordinates:yr}),Mr=!1,Ir=-1,Zr=ar[1][0]-ar[0][0],Qr=Zr===180||Zr===360?[(ar[0][0]+ar[1][0])/2,(ar[0][1]+ar[1][1])/2]:(0,je.Z)(cr);if(ht)for(;++Ir<Lt&&Dt[Ir]!==ht;);++Ir;for(var bn=0;bn<Lt;++bn)Ot=Dt[(bn+Ir)%Lt],Array.isArray(Ot)?(Mr||(Ke.point((pt=(0,_u.Z)(Ot[0],Qr)(f))[0],pt[1]),Mr=!0),Ke.point((pt=(0,_u.Z)(Ot[1],Qr)(f))[0],pt[1])):(Mr=!1,Ot!==ht&&Uc(Ke,Ot,rt))}function ws(Ke,rt){return Ke&&rt&&Ke[0]===rt[0]&&Ke[1]===rt[1]}function ou(Ke,rt){for(var ht,pt,Dt=Ke.length,Lt=null,Ot=0;Ot<Dt;++Ot){ht=Ke[Ot];for(var cr=rt.length;--cr>=0;)if(pt=rt[cr],ht[0]===pt[0]&&ht[1]===pt[1]){if(Lt)return[Lt,ht];Lt=ht}}}function zl(Ke){for(var rt=Ke.length,ht=[],pt=Ke[rt-1],Dt=0;Dt<rt;++Dt)ht.push([pt,pt=Ke[Dt]]);return ht}function rc(Ke){return Ke.project.invert||Ke.children&&Ke.children.some(rc)}var to=e(98936),zu=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Jo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(Ke){return Ke.map(function(rt){return zu[rt]})});function rl(Ke){Ke=Ke||function(ht){var pt=(0,je.Z)({type:"MultiPoint",coordinates:ht});return(0,to.Z)().scale(1).translate([0,0]).rotate([-pt[0],-pt[1]])};var rt=Jo.map(function(ht){return{face:ht,project:Ke(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,pt){var Dt=rt[ht];Dt&&(Dt.children||(Dt.children=[])).push(rt[pt])}),Li(rt[0],function(ht,pt){return rt[ht<-v/2?pt<0?6:4:ht<0?pt<0?2:0:ht<v/2?pt<0?3:1:pt<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var nl=2/k(3);function yl(Ke,rt){var ht=Ne(Ke,rt);return[ht[0]*nl,ht[1]]}yl.invert=function(Ke,rt){return Ne.invert(Ke/nl,rt)};function ml(Ke){Ke=Ke||function(ht){var pt=(0,je.Z)({type:"MultiPoint",coordinates:ht});return(0,p.Z)(yl).translate([0,0]).scale(1).rotate(pt[1]>0?[-pt[0],0]:[180-pt[0],180])};var rt=Jo.map(function(ht){return{face:ht,project:Ke(ht)}});return[-1,0,0,1,0,1,4,5].forEach(function(ht,pt){var Dt=rt[ht];Dt&&(Dt.children||(Dt.children=[])).push(rt[pt])}),Li(rt[0],function(ht,pt){return rt[ht<-v/2?pt<0?6:4:ht<0?pt<0?2:0:ht<v/2?pt<0?3:1:pt<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function xl(Ke){Ke=Ke||function(Ot){var cr=Ot.length===6?(0,je.Z)({type:"MultiPoint",coordinates:Ot}):Ot[0];return(0,to.Z)().scale(1).translate([0,0]).rotate([-cr[0],-cr[1]])};var rt=Jo.map(function(Ot){for(var cr=Ot.map(Bu),yr=cr.length,ar=cr[yr-1],Mr,Ir=[],Zr=0;Zr<yr;++Zr)Mr=cr[Zr],Ir.push(Ou([ar[0]*.9486832980505138+Mr[0]*.31622776601683794,ar[1]*.9486832980505138+Mr[1]*.31622776601683794,ar[2]*.9486832980505138+Mr[2]*.31622776601683794]),Ou([Mr[0]*.9486832980505138+ar[0]*.31622776601683794,Mr[1]*.9486832980505138+ar[1]*.31622776601683794,Mr[2]*.9486832980505138+ar[2]*.31622776601683794])),ar=Mr;return Ir}),ht=[],pt=[-1,0,0,1,0,1,4,5];rt.forEach(function(Ot,cr){for(var yr=Jo[cr],ar=yr.length,Mr=ht[cr]=[],Ir=0;Ir<ar;++Ir)rt.push([yr[Ir],Ot[(Ir*2+2)%(2*ar)],Ot[(Ir*2+1)%(2*ar)]]),pt.push(cr),Mr.push(Os(Bu(Ot[(Ir*2+2)%(2*ar)]),Bu(Ot[(Ir*2+1)%(2*ar)])))});var Dt=rt.map(function(Ot){return{project:Ke(Ot),face:Ot}});pt.forEach(function(Ot,cr){var yr=Dt[Ot];yr&&(yr.children||(yr.children=[])).push(Dt[cr])});function Lt(Ot,cr){var yr=y(cr),ar=[yr*y(Ot),yr*u(Ot),u(cr)],Mr=Ot<-v/2?cr<0?6:4:Ot<0?cr<0?2:0:Ot<v/2?cr<0?3:1:cr<0?7:5,Ir=ht[Mr];return Dt[Ts(Ir[0],ar)<0?8+3*Mr:Ts(Ir[1],ar)<0?8+3*Mr+1:Ts(Ir[2],ar)<0?8+3*Mr+2:Mr]}return Li(Dt[0],Lt).angle(-30).scale(110.625).center([0,45])}function Ts(Ke,rt){for(var ht=0,pt=Ke.length,Dt=0;ht<pt;++ht)Dt+=Ke[ht]*rt[ht];return Dt}function Os(Ke,rt){return[Ke[1]*rt[2]-Ke[2]*rt[1],Ke[2]*rt[0]-Ke[0]*rt[2],Ke[0]*rt[1]-Ke[1]*rt[0]]}function Ou(Ke){return[C(Ke[1],Ke[0])*E,R(r(-1,l(1,Ke[2])))*E]}function Bu(Ke){var rt=Ke[0]*T,ht=Ke[1]*T,pt=y(ht);return[pt*y(rt),pt*u(rt),u(ht)]}function vf(){}function Nh(Ke){if((ht=Ke.length)<4)return!1;for(var rt=0,ht,pt=Ke[ht-1][1]*Ke[0][0]-Ke[ht-1][0]*Ke[0][1];++rt<ht;)pt+=Ke[rt-1][1]*Ke[rt][0]-Ke[rt-1][0]*Ke[rt][1];return pt<=0}function Vh(Ke,rt){for(var ht=rt[0],pt=rt[1],Dt=!1,Lt=0,Ot=Ke.length,cr=Ot-1;Lt<Ot;cr=Lt++){var yr=Ke[Lt],ar=yr[0],Mr=yr[1],Ir=Ke[cr],Zr=Ir[0],Qr=Ir[1];Mr>pt^Qr>pt&&ht<(Zr-ar)*(pt-Mr)/(Qr-Mr)+ar&&(Dt=!Dt)}return Dt}function Uh(Ke,rt){var ht=rt.stream,pt;if(!ht)throw new Error("invalid projection");switch(Ke&&Ke.type){case"Feature":pt=df;break;case"FeatureCollection":pt=Hh;break;default:pt=su;break}return pt(Ke,ht)}function Hh(Ke,rt){return{type:"FeatureCollection",features:Ke.features.map(function(ht){return df(ht,rt)})}}function df(Ke,rt){return{type:"Feature",id:Ke.id,properties:Ke.properties,geometry:su(Ke.geometry,rt)}}function Hc(Ke,rt){return{type:"GeometryCollection",geometries:Ke.geometries.map(function(ht){return su(ht,rt)})}}function su(Ke,rt){if(!Ke)return null;if(Ke.type==="GeometryCollection")return Hc(Ke,rt);var ht;switch(Ke.type){case"Point":ht=Nu;break;case"MultiPoint":ht=Nu;break;case"LineString":ht=Ol;break;case"MultiLineString":ht=Ol;break;case"Polygon":ht=Vu;break;case"MultiPolygon":ht=Vu;break;case"Sphere":ht=Vu;break;default:return null}return(0,za.Z)(Ke,rt(ht)),ht.result()}var Mo=[],$o=[],Nu={point:function(Ke,rt){Mo.push([Ke,rt])},result:function(){var Ke=Mo.length?Mo.length<2?{type:"Point",coordinates:Mo[0]}:{type:"MultiPoint",coordinates:Mo}:null;return Mo=[],Ke}},Ol={lineStart:vf,point:function(Ke,rt){Mo.push([Ke,rt])},lineEnd:function(){Mo.length&&($o.push(Mo),Mo=[])},result:function(){var Ke=$o.length?$o.length<2?{type:"LineString",coordinates:$o[0]}:{type:"MultiLineString",coordinates:$o}:null;return $o=[],Ke}},Vu={polygonStart:vf,lineStart:vf,point:function(Ke,rt){Mo.push([Ke,rt])},lineEnd:function(){var Ke=Mo.length;if(Ke){do Mo.push(Mo[0].slice());while(++Ke<4);$o.push(Mo),Mo=[]}},polygonEnd:vf,result:function(){if(!$o.length)return null;var Ke=[],rt=[];return $o.forEach(function(ht){Nh(ht)?Ke.push([ht]):rt.push(ht)}),rt.forEach(function(ht){var pt=ht[0];Ke.some(function(Dt){if(Vh(Dt[0],pt))return Dt.push(ht),!0})||Ke.push([ht])}),$o=[],Ke.length?Ke.length>1?{type:"MultiPolygon",coordinates:Ke}:{type:"Polygon",coordinates:Ke[0]}:null}};function pf(Ke){var rt=Ke(o,0)[0]-Ke(-o,0)[0];function ht(pt,Dt){var Lt=L(pt)<o,Ot=Ke(Lt?pt:pt>0?pt-v:pt+v,Dt),cr=(Ot[0]-Ot[1])*S,yr=(Ot[0]+Ot[1])*S;if(Lt)return[cr,yr];var ar=rt*S,Mr=cr>0^yr>0?-1:1;return[Mr*cr-c(yr)*ar,Mr*yr-c(cr)*ar]}return Ke.invert&&(ht.invert=function(pt,Dt){var Lt=(pt+Dt)*S,Ot=(Dt-pt)*S,cr=L(Lt)<.5*rt&&L(Ot)<.5*rt;if(!cr){var yr=rt*S,ar=Lt>0^Ot>0?-1:1,Mr=-ar*pt+(Ot>0?1:-1)*yr,Ir=-ar*Dt+(Lt>0?1:-1)*yr;Lt=(-Mr-Ir)*S,Ot=(Mr-Ir)*S}var Zr=Ke.invert(Lt,Ot);return cr||(Zr[0]+=Lt>0?v:-v),Zr}),(0,p.Z)(ht).rotate([-90,-90,45]).clipAngle(179.999)}function Gh(){return pf(hn).scale(176.423)}function Gc(){return pf(Cr).scale(111.48)}function Wc(Ke,rt){if(!(0<=(rt=+rt)&&rt<=20))throw new Error("invalid digits");function ht(ar){var Mr=ar.length,Ir=2,Zr=new Array(Mr);for(Zr[0]=+ar[0].toFixed(rt),Zr[1]=+ar[1].toFixed(rt);Ir<Mr;)Zr[Ir]=ar[Ir],++Ir;return Zr}function pt(ar){return ar.map(ht)}function Dt(ar){for(var Mr=ht(ar[0]),Ir=[Mr],Zr=1;Zr<ar.length;Zr++){var Qr=ht(ar[Zr]);(Qr.length>2||Qr[0]!=Mr[0]||Qr[1]!=Mr[1])&&(Ir.push(Qr),Mr=Qr)}return Ir.length===1&&ar.length>1&&Ir.push(ht(ar[ar.length-1])),Ir}function Lt(ar){return ar.map(Dt)}function Ot(ar){if(ar==null)return ar;var Mr;switch(ar.type){case"GeometryCollection":Mr={type:"GeometryCollection",geometries:ar.geometries.map(Ot)};break;case"Point":Mr={type:"Point",coordinates:ht(ar.coordinates)};break;case"MultiPoint":Mr={type:ar.type,coordinates:pt(ar.coordinates)};break;case"LineString":Mr={type:ar.type,coordinates:Dt(ar.coordinates)};break;case"MultiLineString":case"Polygon":Mr={type:ar.type,coordinates:Lt(ar.coordinates)};break;case"MultiPolygon":Mr={type:"MultiPolygon",coordinates:ar.coordinates.map(Lt)};break;default:return ar}return ar.bbox!=null&&(Mr.bbox=ar.bbox),Mr}function cr(ar){var Mr={type:"Feature",properties:ar.properties,geometry:Ot(ar.geometry)};return ar.id!=null&&(Mr.id=ar.id),ar.bbox!=null&&(Mr.bbox=ar.bbox),Mr}if(Ke!=null)switch(Ke.type){case"Feature":return cr(Ke);case"FeatureCollection":{var yr={type:"FeatureCollection",features:Ke.features.map(cr)};return Ke.bbox!=null&&(yr.bbox=Ke.bbox),yr}default:return Ot(Ke)}return Ke}function nc(Ke){var rt=u(Ke);function ht(pt,Dt){var Lt=rt?b(pt*rt/2)/rt:pt/2;if(!Dt)return[2*Lt,-Ke];var Ot=2*n(Lt*u(Dt)),cr=1/b(Dt);return[u(Ot)*cr,Dt+(1-y(Ot))*cr-Ke]}return ht.invert=function(pt,Dt){if(L(Dt+=Ke)<f)return[rt?2*n(rt*pt/2)/rt:pt,0];var Lt=pt*pt+Dt*Dt,Ot=0,cr=10,yr;do{var ar=b(Ot),Mr=1/y(Ot),Ir=Lt-2*Dt*Ot+Ot*Ot;Ot-=yr=(ar*Ir+2*(Ot-Dt))/(2+Ir*Mr*Mr+2*(Ot-Dt)*ar)}while(L(yr)>f&&--cr>0);var Zr=pt*(ar=b(Ot)),Qr=b(L(Dt)<L(Ot+1/ar)?R(Zr)*.5:A(Zr)*.5+v/4)/u(Ot);return[rt?2*n(rt*Qr)/rt:2*Qr,Ot]},ht}function bl(){return qe(nc).scale(131.215)}var ro=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];ro.forEach(function(Ke){Ke[1]*=1.0144});function Bs(Ke,rt){var ht=l(18,L(rt)*36/v),pt=g(ht),Dt=ht-pt,Lt=(Ir=ro[pt])[0],Ot=Ir[1],cr=(Ir=ro[++pt])[0],yr=Ir[1],ar=(Ir=ro[l(19,++pt)])[0],Mr=Ir[1],Ir;return[Ke*(cr+Dt*(ar-Lt)/2+Dt*Dt*(ar-2*cr+Lt)/2),(rt>0?o:-o)*(yr+Dt*(Mr-Ot)/2+Dt*Dt*(Mr-2*yr+Ot)/2)]}Bs.invert=function(Ke,rt){var ht=rt/o,pt=ht*90,Dt=l(18,L(pt/5)),Lt=r(0,g(Dt));do{var Ot=ro[Lt][1],cr=ro[Lt+1][1],yr=ro[l(19,Lt+2)][1],ar=yr-Ot,Mr=yr-2*cr+Ot,Ir=2*(L(ht)-cr)/ar,Zr=Mr/ar,Qr=Ir*(1-Zr*Ir*(1-2*Zr*Ir));if(Qr>=0||Lt===1){pt=(rt>=0?5:-5)*(Qr+Dt);var bn=50,Tn;do Dt=l(18,L(pt)/5),Lt=g(Dt),Qr=Dt-Lt,Ot=ro[Lt][1],cr=ro[Lt+1][1],yr=ro[l(19,Lt+2)][1],pt-=(Tn=(rt>=0?o:-o)*(cr+Qr*(yr-Ot)/2+Qr*Qr*(yr-2*cr+Ot)/2)-rt)*E;while(L(Tn)>w&&--bn>0);break}}while(--Lt>=0);var Dn=ro[Lt][0],ya=ro[Lt+1][0],ka=ro[l(19,Lt+2)][0];return[Ke/(ya+Qr*(ka-Dn)/2+Qr*Qr*(ka-2*ya+Dn)/2),pt*T]};function ac(){return(0,p.Z)(Bs).scale(152.63)}function Yc(Ke){function rt(ht,pt){var Dt=y(pt),Lt=(Ke-1)/(Ke-Dt*y(ht));return[Lt*Dt*u(ht),Lt*u(pt)]}return rt.invert=function(ht,pt){var Dt=ht*ht+pt*pt,Lt=k(Dt),Ot=(Ke-k(1-Dt*(Ke+1)/(Ke-1)))/((Ke-1)/Lt+Lt/(Ke-1));return[C(ht*Ot,Lt*k(1-Ot*Ot)),Lt?R(pt*Ot/Lt):0]},rt}function Bl(Ke,rt){var ht=Yc(Ke);if(!rt)return ht;var pt=y(rt),Dt=u(rt);function Lt(Ot,cr){var yr=ht(Ot,cr),ar=yr[1],Mr=ar*Dt/(Ke-1)+pt;return[yr[0]*pt/Mr,ar/Mr]}return Lt.invert=function(Ot,cr){var yr=(Ke-1)/(Ke-1-cr*Dt);return ht.invert(yr*Ot,yr*cr*pt)},Lt}function gf(){var Ke=2,rt=0,ht=(0,p.r)(Bl),pt=ht(Ke,rt);return pt.distance=function(Dt){return arguments.length?ht(Ke=+Dt,rt):Ke},pt.tilt=function(Dt){return arguments.length?ht(Ke,rt=Dt*T):rt*E},pt.scale(432.147).clipAngle(A(1/Ke)*E-1e-6)}var As=1e-4,yf=1e4,al=-180,il=al+As,ic=180,lu=ic-As,Ai=-90,Nl=Ai+As,mf=90,xf=mf-As;function wl(Ke){return Ke.length>0}function Wh(Ke){return Math.floor(Ke*yf)/yf}function oc(Ke){return Ke===Ai||Ke===mf?[0,Ke]:[al,Wh(Ke)]}function uu(Ke){var rt=Ke[0],ht=Ke[1],pt=!1;return rt<=il?(rt=al,pt=!0):rt>=lu&&(rt=ic,pt=!0),ht<=Nl?(ht=Ai,pt=!0):ht>=xf&&(ht=mf,pt=!0),pt?[rt,ht]:Ke}function sc(Ke){return Ke.map(uu)}function Zc(Ke,rt,ht){for(var pt=0,Dt=Ke.length;pt<Dt;++pt){var Lt=Ke[pt].slice();ht.push({index:-1,polygon:rt,ring:Lt});for(var Ot=0,cr=Lt.length;Ot<cr;++Ot){var yr=Lt[Ot],ar=yr[0],Mr=yr[1];if(ar<=il||ar>=lu||Mr<=Nl||Mr>=xf){Lt[Ot]=uu(yr);for(var Ir=Ot+1;Ir<cr;++Ir){var Zr=Lt[Ir],Qr=Zr[0],bn=Zr[1];if(Qr>il&&Qr<lu&&bn>Nl&&bn<xf)break}if(Ir===Ot+1)continue;if(Ot){var Tn={index:-1,polygon:rt,ring:Lt.slice(0,Ot+1)};Tn.ring[Tn.ring.length-1]=oc(Mr),ht[ht.length-1]=Tn}else ht.pop();if(Ir>=cr)break;ht.push({index:-1,polygon:rt,ring:Lt=Lt.slice(Ir-1)}),Lt[0]=oc(Lt[0][1]),Ot=-1,cr=Lt.length}}}}function ol(Ke){var rt,ht=Ke.length,pt={},Dt={},Lt,Ot,cr,yr,ar;for(rt=0;rt<ht;++rt){if(Lt=Ke[rt],Ot=Lt.ring[0],yr=Lt.ring[Lt.ring.length-1],Ot[0]===yr[0]&&Ot[1]===yr[1]){Lt.polygon.push(Lt.ring),Ke[rt]=null;continue}Lt.index=rt,pt[Ot]=Dt[yr]=Lt}for(rt=0;rt<ht;++rt)if(Lt=Ke[rt],Lt){if(Ot=Lt.ring[0],yr=Lt.ring[Lt.ring.length-1],cr=Dt[Ot],ar=pt[yr],delete pt[Ot],delete Dt[yr],Ot[0]===yr[0]&&Ot[1]===yr[1]){Lt.polygon.push(Lt.ring);continue}cr?(delete Dt[Ot],delete pt[cr.ring[0]],cr.ring.pop(),Ke[cr.index]=null,Lt={index:-1,polygon:cr.polygon,ring:cr.ring.concat(Lt.ring)},cr===ar?Lt.polygon.push(Lt.ring):(Lt.index=ht++,Ke.push(pt[Lt.ring[0]]=Dt[Lt.ring[Lt.ring.length-1]]=Lt))):ar?(delete pt[yr],delete Dt[ar.ring[ar.ring.length-1]],Lt.ring.pop(),Lt={index:ht++,polygon:ar.polygon,ring:Lt.ring.concat(ar.ring)},Ke[ar.index]=null,Ke.push(pt[Lt.ring[0]]=Dt[Lt.ring[Lt.ring.length-1]]=Lt)):(Lt.ring.push(Lt.ring[0]),Lt.polygon.push(Lt.ring))}}function Tl(Ke){var rt={type:"Feature",geometry:Vl(Ke.geometry)};return Ke.id!=null&&(rt.id=Ke.id),Ke.bbox!=null&&(rt.bbox=Ke.bbox),Ke.properties!=null&&(rt.properties=Ke.properties),rt}function Vl(Ke){if(Ke==null)return Ke;var rt,ht,pt,Dt;switch(Ke.type){case"GeometryCollection":rt={type:"GeometryCollection",geometries:Ke.geometries.map(Vl)};break;case"Point":rt={type:"Point",coordinates:uu(Ke.coordinates)};break;case"MultiPoint":case"LineString":rt={type:Ke.type,coordinates:sc(Ke.coordinates)};break;case"MultiLineString":rt={type:"MultiLineString",coordinates:Ke.coordinates.map(sc)};break;case"Polygon":{var Lt=[];Zc(Ke.coordinates,Lt,ht=[]),ol(ht),rt={type:"Polygon",coordinates:Lt};break}case"MultiPolygon":{ht=[],pt=-1,Dt=Ke.coordinates.length;for(var Ot=new Array(Dt);++pt<Dt;)Zc(Ke.coordinates[pt],Ot[pt]=[],ht);ol(ht),rt={type:"MultiPolygon",coordinates:Ot.filter(wl)};break}default:return Ke}return Ke.bbox!=null&&(rt.bbox=Ke.bbox),rt}function Ul(Ke){if(Ke==null)return Ke;switch(Ke.type){case"Feature":return Tl(Ke);case"FeatureCollection":{var rt={type:"FeatureCollection",features:Ke.features.map(Tl)};return Ke.bbox!=null&&(rt.bbox=Ke.bbox),rt}default:return Vl(Ke)}}function Qo(Ke,rt){var ht=b(rt/2),pt=u(d*ht);return[Ke*(.74482-.34588*pt*pt),1.70711*ht]}Qo.invert=function(Ke,rt){var ht=rt/1.70711,pt=u(d*ht);return[Ke/(.74482-.34588*pt*pt),2*n(ht)]};function as(){return(0,p.Z)(Qo).scale(146.153)}function Hl(Ke,rt,ht){var pt=(0,_u.Z)(rt,ht),Dt=pt(.5),Lt=(0,_e.Z)([-Dt[0],-Dt[1]])(rt),Ot=pt.distance/2,cr=-R(u(Lt[1]*T)/u(Ot)),yr=[-Dt[0],-Dt[1],-(Lt[0]>0?v-cr:cr)*E],ar=(0,p.Z)(Ke(Ot)).rotate(yr),Mr=(0,_e.Z)(yr),Ir=ar.center;return delete ar.rotate,ar.center=function(Zr){return arguments.length?Ir(Mr(Zr)):Mr.invert(Ir())},ar.clipAngle(90)}function Xc(Ke){var rt=y(Ke);function ht(pt,Dt){var Lt=(0,to.M)(pt,Dt);return Lt[0]*=rt,Lt}return ht.invert=function(pt,Dt){return to.M.invert(pt/rt,Dt)},ht}function fu(){return bf([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function bf(Ke,rt){return Hl(Xc,Ke,rt)}function jc(Ke){if(!(Ke*=2))return se.N;var rt=-Ke/2,ht=-rt,pt=Ke*Ke,Dt=b(ht),Lt=.5/u(ht);function Ot(cr,yr){var ar=A(y(yr)*y(cr-rt)),Mr=A(y(yr)*y(cr-ht)),Ir=yr<0?-1:1;return ar*=ar,Mr*=Mr,[(ar-Mr)/(2*Ke),Ir*k(4*pt*Mr-(pt-ar+Mr)*(pt-ar+Mr))/(2*Ke)]}return Ot.invert=function(cr,yr){var ar=yr*yr,Mr=y(k(ar+(Zr=cr+rt)*Zr)),Ir=y(k(ar+(Zr=cr+ht)*Zr)),Zr,Qr;return[C(Qr=Mr-Ir,Zr=(Mr+Ir)*Dt),(yr<0?-1:1)*A(k(Zr*Zr+Qr*Qr)*Lt)]},Ot}function Ss(){return lc([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function lc(Ke,rt){return Hl(jc,Ke,rt)}function Al(Ke,rt){if(L(rt)<f)return[Ke,0];var ht=L(rt/o),pt=R(ht);if(L(Ke)<f||L(L(rt)-o)<f)return[0,c(rt)*v*b(pt/2)];var Dt=y(pt),Lt=L(v/Ke-Ke/v)/2,Ot=Lt*Lt,cr=Dt/(ht+Dt-1),yr=cr*(2/ht-1),ar=yr*yr,Mr=ar+Ot,Ir=cr-ar,Zr=Ot+cr;return[c(Ke)*v*(Lt*Ir+k(Ot*Ir*Ir-Mr*(cr*cr-ar)))/Mr,c(rt)*v*(yr*Zr-Lt*k((Ot+1)*Mr-Zr*Zr))/Mr]}Al.invert=function(Ke,rt){if(L(rt)<f)return[Ke,0];if(L(Ke)<f)return[0,o*u(2*n(rt/v))];var ht=(Ke/=v)*Ke,pt=(rt/=v)*rt,Dt=ht+pt,Lt=Dt*Dt,Ot=-L(rt)*(1+Dt),cr=Ot-2*pt+ht,yr=-2*Ot+1+2*pt+Lt,ar=pt/yr+(2*cr*cr*cr/(yr*yr*yr)-9*Ot*cr/(yr*yr))/27,Mr=(Ot-cr*cr/(3*yr))/yr,Ir=2*k(-Mr/3),Zr=A(3*ar/(Mr*Ir))/3;return[v*(Dt-1+k(1+2*(ht-pt)+Lt))/(2*Ke),c(rt)*v*(-Ir*y(Zr+v/3)-cr/(3*yr))]};function Uu(){return(0,p.Z)(Al).scale(79.4183)}function sl(Ke,rt){if(L(rt)<f)return[Ke,0];var ht=L(rt/o),pt=R(ht);if(L(Ke)<f||L(L(rt)-o)<f)return[0,c(rt)*v*b(pt/2)];var Dt=y(pt),Lt=L(v/Ke-Ke/v)/2,Ot=Lt*Lt,cr=Dt*(k(1+Ot)-Lt*Dt)/(1+Ot*ht*ht);return[c(Ke)*v*cr,c(rt)*v*k(1-cr*(2*Lt+cr))]}sl.invert=function(Ke,rt){if(!Ke)return[0,o*u(2*n(rt/v))];var ht=L(Ke/v),pt=(1-ht*ht-(rt/=v)*rt)/(2*ht),Dt=pt*pt,Lt=k(Dt+1);return[c(Ke)*v*(Lt-pt),c(rt)*o*u(2*C(k((1-2*pt*ht)*(pt+Lt)-ht),k(Lt+pt+ht)))]};function Yh(){return(0,p.Z)(sl).scale(79.4183)}function uc(Ke,rt){if(L(rt)<f)return[Ke,0];var ht=rt/o,pt=R(ht);if(L(Ke)<f||L(L(rt)-o)<f)return[0,v*b(pt/2)];var Dt=(v/Ke-Ke/v)/2,Lt=ht/(1+y(pt));return[v*(c(Ke)*k(Dt*Dt+1-Lt*Lt)-Dt),v*Lt]}uc.invert=function(Ke,rt){if(!rt)return[Ke,0];var ht=rt/v,pt=(v*v*(1-ht*ht)-Ke*Ke)/(2*v*Ke);return[Ke?v*(c(Ke)*k(pt*pt+1)-pt):0,o*u(2*n(ht))]};function wf(){return(0,p.Z)(uc).scale(79.4183)}function Fo(Ke,rt){if(!rt)return[Ke,0];var ht=L(rt);if(!Ke||ht===o)return[0,rt];var pt=ht/o,Dt=pt*pt,Lt=(8*pt-Dt*(Dt+2)-5)/(2*Dt*(pt-1)),Ot=Lt*Lt,cr=pt*Lt,yr=Dt+Ot+2*cr,ar=pt+3*Lt,Mr=Ke/o,Ir=Mr+1/Mr,Zr=c(L(Ke)-o)*k(Ir*Ir-4),Qr=Zr*Zr,bn=yr*(Dt+Ot*Qr-1)+(1-Dt)*(Dt*(ar*ar+4*Ot)+12*cr*Ot+4*Ot*Ot),Tn=(Zr*(yr+Ot-1)+2*k(bn))/(4*yr+Qr);return[c(Ke)*o*Tn,c(rt)*o*k(1+Zr*L(Tn)-Tn*Tn)]}Fo.invert=function(Ke,rt){var ht;if(!Ke||!rt)return[Ke,rt];rt/=v;var pt=c(Ke)*Ke/o,Dt=(pt*pt-1+4*rt*rt)/L(pt),Lt=Dt*Dt,Ot=2*rt,cr=50;do{var yr=Ot*Ot,ar=(8*Ot-yr*(yr+2)-5)/(2*yr*(Ot-1)),Mr=(3*Ot-yr*Ot-10)/(2*yr*Ot),Ir=ar*ar,Zr=Ot*ar,Qr=Ot+ar,bn=Qr*Qr,Tn=Ot+3*ar,Dn=bn*(yr+Ir*Lt-1)+(1-yr)*(yr*(Tn*Tn+4*Ir)+Ir*(12*Zr+4*Ir)),ya=-2*Qr*(4*Zr*Ir+(1-4*yr+3*yr*yr)*(1+Mr)+Ir*(-6+14*yr-Lt+(-8+8*yr-2*Lt)*Mr)+Zr*(-8+12*yr+(-10+10*yr-Lt)*Mr)),ka=k(Dn),Ba=Dt*(bn+Ir-1)+2*ka-pt*(4*bn+Lt),Va=Dt*(2*ar*Mr+2*Qr*(1+Mr))+ya/ka-8*Qr*(Dt*(-1+Ir+bn)+2*ka)*(1+Mr)/(Lt+4*bn);Ot-=ht=Ba/Va}while(ht>f&&--cr>0);return[c(Ke)*(k(Dt*Dt+4)+Dt)*v/4,o*Ot]};function Kc(){return(0,p.Z)(Fo).scale(127.16)}function Hu(Ke,rt,ht,pt,Dt){function Lt(Ot,cr){var yr=ht*u(pt*cr),ar=k(1-yr*yr),Mr=k(2/(1+ar*y(Ot*=Dt)));return[Ke*ar*Mr*u(Ot),rt*yr*Mr]}return Lt.invert=function(Ot,cr){var yr=Ot/Ke,ar=cr/rt,Mr=k(yr*yr+ar*ar),Ir=2*R(Mr/2);return[C(Ot*b(Ir),Ke*Mr)/Dt,Mr&&R(cr*u(Ir)/(rt*ht*Mr))/pt]},Lt}function Ns(Ke,rt,ht,pt){var Dt=v/3;Ke=r(Ke,f),rt=r(rt,f),Ke=l(Ke,o),rt=l(rt,v-f),ht=r(ht,0),ht=l(ht,100-f),pt=r(pt,f);var Lt=ht/100+1,Ot=pt/100,cr=A(Lt*y(Dt))/Dt,yr=u(Ke)/u(cr*o),ar=rt/v,Mr=k(Ot*u(Ke/2)/u(rt/2)),Ir=Mr/k(ar*yr*cr),Zr=1/(Mr*k(ar*yr*cr));return Hu(Ir,Zr,yr,cr,ar)}function Gu(){var Ke=65*T,rt=60*T,ht=20,pt=200,Dt=(0,p.r)(Ns),Lt=Dt(Ke,rt,ht,pt);return Lt.poleline=function(Ot){return arguments.length?Dt(Ke=+Ot*T,rt,ht,pt):Ke*E},Lt.parallels=function(Ot){return arguments.length?Dt(Ke,rt=+Ot*T,ht,pt):rt*E},Lt.inflation=function(Ot){return arguments.length?Dt(Ke,rt,ht=+Ot,pt):ht},Lt.ratio=function(Ot){return arguments.length?Dt(Ke,rt,ht,pt=+Ot):pt},Lt.scale(163.775)}function Sl(){return Gu().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}var Tf=4*v+3*k(3),Jc=2*k(2*v*k(3)/Tf),fc=Te(Jc*k(3)/v,Jc,Tf/6);function cc(){return(0,p.Z)(fc).scale(176.84)}function Gl(Ke,rt){return[Ke*k(1-3*rt*rt/(v*v)),rt]}Gl.invert=function(Ke,rt){return[Ke/k(1-3*rt*rt/(v*v)),rt]};function Af(){return(0,p.Z)(Gl).scale(152.63)}function Wu(Ke,rt){var ht=y(rt),pt=y(Ke)*ht,Dt=1-pt,Lt=y(Ke=C(u(Ke)*ht,-u(rt))),Ot=u(Ke);return ht=k(1-pt*pt),[Ot*ht-Lt*Dt,-Lt*ht-Ot*Dt]}Wu.invert=function(Ke,rt){var ht=(Ke*Ke+rt*rt)/-2,pt=k(-ht*(2+ht)),Dt=rt*ht+Ke*pt,Lt=Ke*ht-rt*pt,Ot=k(Lt*Lt+Dt*Dt);return[C(pt*Dt,Ot*(1+ht)),Ot?-R(pt*Lt/Ot):0]};function $c(){return(0,p.Z)(Wu).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Yu(Ke,rt){var ht=Z(Ke,rt);return[(ht[0]+Ke/o)/2,(ht[1]+rt)/2]}Yu.invert=function(Ke,rt){var ht=Ke,pt=rt,Dt=25;do{var Lt=y(pt),Ot=u(pt),cr=u(2*pt),yr=Ot*Ot,ar=Lt*Lt,Mr=u(ht),Ir=y(ht/2),Zr=u(ht/2),Qr=Zr*Zr,bn=1-ar*Ir*Ir,Tn=bn?A(Lt*Ir)*k(Dn=1/bn):Dn=0,Dn,ya=.5*(2*Tn*Lt*Zr+ht/o)-Ke,ka=.5*(Tn*Ot+pt)-rt,Ba=.5*Dn*(ar*Qr+Tn*Lt*Ir*yr)+.5/o,Va=Dn*(Mr*cr/4-Tn*Ot*Zr),Ga=.125*Dn*(cr*Zr-Tn*Ot*ar*Mr),bi=.5*Dn*(yr*Ir+Tn*Qr*Lt)+.5,ji=Va*Ga-bi*Ba,Pi=(ka*Va-ya*bi)/ji,ce=(ya*Ga-ka*Ba)/ji;ht-=Pi,pt-=ce}while((L(Pi)>f||L(ce)>f)&&--Dt>0);return[ht,pt]};function Qc(){return(0,p.Z)(Yu).scale(158.837)}},33940:function(V,B,e){e.d(B,{Z:function(){return p}});function p(){return new L}function L(){this.reset()}L.prototype={constructor:L,reset:function(){this.s=this.t=0},add:function(y){C(n,y,this.t),C(this,n.s,this.s),this.s?this.t+=n.t:this.s=n.t},valueOf:function(){return this.s}};var n=new L;function C(y,h,g){var t=y.s=h+g,r=t-h,l=t-r;y.t=h-l+(g-r)}},97860:function(V,B,e){e.d(B,{L9:function(){return y},ZP:function(){return w},gL:function(){return s}});var p=e(33940),L=e(39695),n=e(73182),C=e(72736),y=(0,p.Z)(),h=(0,p.Z)(),g,t,r,l,a,s={point:n.Z,lineStart:n.Z,lineEnd:n.Z,polygonStart:function(){y.reset(),s.lineStart=c,s.lineEnd=u},polygonEnd:function(){var v=+y;h.add(v<0?L.BZ+v:v),this.lineStart=this.lineEnd=this.point=n.Z},sphere:function(){h.add(L.BZ)}};function c(){s.point=b}function u(){f(g,t)}function b(v,o){s.point=f,g=v,t=o,v*=L.uR,o*=L.uR,r=v,l=(0,L.mC)(o=o/2+L.pu),a=(0,L.O$)(o)}function f(v,o){v*=L.uR,o*=L.uR,o=o/2+L.pu;var d=v-r,S=d>=0?1:-1,M=S*d,P=(0,L.mC)(o),x=(0,L.O$)(o),E=a*x,T=l*P+E*(0,L.mC)(M),i=E*S*(0,L.O$)(M);y.add((0,L.fv)(i,T)),r=v,l=P,a=x}function w(v){return h.reset(),(0,C.Z)(v,s),h*2}},77338:function(V,B,e){e.d(B,{Z:function(){return R}});var p=e(33940),L=e(97860),n=e(7620),C=e(39695),y=e(72736),h,g,t,r,l,a,s,c,u=(0,p.Z)(),b,f,w={point:v,lineStart:d,lineEnd:S,polygonStart:function(){w.point=M,w.lineStart=P,w.lineEnd=x,u.reset(),L.gL.polygonStart()},polygonEnd:function(){L.gL.polygonEnd(),w.point=v,w.lineStart=d,w.lineEnd=S,L.L9<0?(h=-(t=180),g=-(r=90)):u>C.Ho?r=90:u<-C.Ho&&(g=-90),f[0]=h,f[1]=t},sphere:function(){h=-(t=180),g=-(r=90)}};function v(A,k){b.push(f=[h=A,t=A]),k<g&&(g=k),k>r&&(r=k)}function o(A,k){var _=(0,n.Og)([A*C.uR,k*C.uR]);if(c){var H=(0,n.T5)(c,_),z=[H[1],-H[0],0],N=(0,n.T5)(z,H);(0,n.iJ)(N),N=(0,n.Y1)(N);var O=A-l,F=O>0?1:-1,U=N[0]*C.RW*F,Z,q=(0,C.Wn)(O)>180;q^(F*l<U&&U<F*A)?(Z=N[1]*C.RW,Z>r&&(r=Z)):(U=(U+360)%360-180,q^(F*l<U&&U<F*A)?(Z=-N[1]*C.RW,Z<g&&(g=Z)):(k<g&&(g=k),k>r&&(r=k))),q?A<l?E(h,A)>E(h,t)&&(t=A):E(A,t)>E(h,t)&&(h=A):t>=h?(A<h&&(h=A),A>t&&(t=A)):A>l?E(h,A)>E(h,t)&&(t=A):E(A,t)>E(h,t)&&(h=A)}else b.push(f=[h=A,t=A]);k<g&&(g=k),k>r&&(r=k),c=_,l=A}function d(){w.point=o}function S(){f[0]=h,f[1]=t,w.point=v,c=null}function M(A,k){if(c){var _=A-l;u.add((0,C.Wn)(_)>180?_+(_>0?360:-360):_)}else a=A,s=k;L.gL.point(A,k),o(A,k)}function P(){L.gL.lineStart()}function x(){M(a,s),L.gL.lineEnd(),(0,C.Wn)(u)>C.Ho&&(h=-(t=180)),f[0]=h,f[1]=t,c=null}function E(A,k){return(k-=A)<0?k+360:k}function T(A,k){return A[0]-k[0]}function i(A,k){return A[0]<=A[1]?A[0]<=k&&k<=A[1]:k<A[0]||A[1]<k}function R(A){var k,_,H,z,N,O,F;if(r=t=-(h=g=1/0),b=[],(0,y.Z)(A,w),_=b.length){for(b.sort(T),k=1,H=b[0],N=[H];k<_;++k)z=b[k],i(H,z[0])||i(H,z[1])?(E(H[0],z[1])>E(H[0],H[1])&&(H[1]=z[1]),E(z[0],H[1])>E(H[0],H[1])&&(H[0]=z[0])):N.push(H=z);for(O=-1/0,_=N.length-1,k=0,H=N[_];k<=_;H=z,++k)z=N[k],(F=E(H[1],z[0]))>O&&(O=F,h=z[0],t=H[1])}return b=f=null,h===1/0||g===1/0?[[NaN,NaN],[NaN,NaN]]:[[h,g],[t,r]]}},7620:function(V,B,e){e.d(B,{Og:function(){return n},T:function(){return g},T5:function(){return y},Y1:function(){return L},iJ:function(){return t},j9:function(){return C},s0:function(){return h}});var p=e(39695);function L(r){return[(0,p.fv)(r[1],r[0]),(0,p.ZR)(r[2])]}function n(r){var l=r[0],a=r[1],s=(0,p.mC)(a);return[s*(0,p.mC)(l),s*(0,p.O$)(l),(0,p.O$)(a)]}function C(r,l){return r[0]*l[0]+r[1]*l[1]+r[2]*l[2]}function y(r,l){return[r[1]*l[2]-r[2]*l[1],r[2]*l[0]-r[0]*l[2],r[0]*l[1]-r[1]*l[0]]}function h(r,l){r[0]+=l[0],r[1]+=l[1],r[2]+=l[2]}function g(r,l){return[r[0]*l,r[1]*l,r[2]*l]}function t(r){var l=(0,p._b)(r[0]*r[0]+r[1]*r[1]+r[2]*r[2]);r[0]/=l,r[1]/=l,r[2]/=l}},66624:function(V,B,e){e.d(B,{Z:function(){return _}});var p=e(39695),L=e(73182),n=e(72736),C,y,h,g,t,r,l,a,s,c,u,b,f,w,v,o,d={sphere:L.Z,point:S,lineStart:P,lineEnd:T,polygonStart:function(){d.lineStart=i,d.lineEnd=R},polygonEnd:function(){d.lineStart=P,d.lineEnd=T}};function S(H,z){H*=p.uR,z*=p.uR;var N=(0,p.mC)(z);M(N*(0,p.mC)(H),N*(0,p.O$)(H),(0,p.O$)(z))}function M(H,z,N){++C,h+=(H-h)/C,g+=(z-g)/C,t+=(N-t)/C}function P(){d.point=x}function x(H,z){H*=p.uR,z*=p.uR;var N=(0,p.mC)(z);w=N*(0,p.mC)(H),v=N*(0,p.O$)(H),o=(0,p.O$)(z),d.point=E,M(w,v,o)}function E(H,z){H*=p.uR,z*=p.uR;var N=(0,p.mC)(z),O=N*(0,p.mC)(H),F=N*(0,p.O$)(H),U=(0,p.O$)(z),Z=(0,p.fv)((0,p._b)((Z=v*U-o*F)*Z+(Z=o*O-w*U)*Z+(Z=w*F-v*O)*Z),w*O+v*F+o*U);y+=Z,r+=Z*(w+(w=O)),l+=Z*(v+(v=F)),a+=Z*(o+(o=U)),M(w,v,o)}function T(){d.point=S}function i(){d.point=A}function R(){k(b,f),d.point=S}function A(H,z){b=H,f=z,H*=p.uR,z*=p.uR,d.point=k;var N=(0,p.mC)(z);w=N*(0,p.mC)(H),v=N*(0,p.O$)(H),o=(0,p.O$)(z),M(w,v,o)}function k(H,z){H*=p.uR,z*=p.uR;var N=(0,p.mC)(z),O=N*(0,p.mC)(H),F=N*(0,p.O$)(H),U=(0,p.O$)(z),Z=v*U-o*F,q=o*O-w*U,J=w*F-v*O,te=(0,p._b)(Z*Z+q*q+J*J),fe=(0,p.ZR)(te),K=te&&-fe/te;s+=K*Z,c+=K*q,u+=K*J,y+=fe,r+=fe*(w+(w=O)),l+=fe*(v+(v=F)),a+=fe*(o+(o=U)),M(w,v,o)}function _(H){C=y=h=g=t=r=l=a=s=c=u=0,(0,n.Z)(H,d);var z=s,N=c,O=u,F=z*z+N*N+O*O;return F<p.aW&&(z=r,N=l,O=a,y<p.Ho&&(z=h,N=g,O=t),F=z*z+N*N+O*O,F<p.aW)?[NaN,NaN]:[(0,p.fv)(N,z)*p.RW,(0,p.ZR)(O/(0,p._b)(F))*p.RW]}},7613:function(V,B,e){e.d(B,{m:function(){return y},Z:function(){return g}});var p=e(7620);function L(t){return function(){return t}}var n=e(39695),C=e(49386);function y(t,r,l,a,s,c){if(l){var u=(0,n.mC)(r),b=(0,n.O$)(r),f=a*l;s==null?(s=r+a*n.BZ,c=r-f/2):(s=h(u,s),c=h(u,c),(a>0?s<c:s>c)&&(s+=a*n.BZ));for(var w,v=s;a>0?v>c:v<c;v-=f)w=(0,p.Y1)([u,-b*(0,n.mC)(v),-b*(0,n.O$)(v)]),t.point(w[0],w[1])}}function h(t,r){r=(0,p.Og)(r),r[0]-=t,(0,p.iJ)(r);var l=(0,n.Kh)(-r[1]);return((-r[2]<0?-l:l)+n.BZ-n.Ho)%n.BZ}function g(){var t=L([0,0]),r=L(90),l=L(6),a,s,c={point:u};function u(f,w){a.push(f=s(f,w)),f[0]*=n.RW,f[1]*=n.RW}function b(){var f=t.apply(this,arguments),w=r.apply(this,arguments)*n.uR,v=l.apply(this,arguments)*n.uR;return a=[],s=(0,C.I)(-f[0]*n.uR,-f[1]*n.uR,0).invert,y(c,w,v,1),f={type:"Polygon",coordinates:[a]},a=s=null,f}return b.center=function(f){return arguments.length?(t=typeof f=="function"?f:L([+f[0],+f[1]]),b):t},b.radius=function(f){return arguments.length?(r=typeof f=="function"?f:L(+f),b):r},b.precision=function(f){return arguments.length?(l=typeof f=="function"?f:L(+f),b):l},b}},87070:function(V,B,e){var p=e(97023),L=e(39695);B.Z=(0,p.Z)(function(){return!0},n,y,[-L.pi,-L.ou]);function n(h){var g=NaN,t=NaN,r=NaN,l;return{lineStart:function(){h.lineStart(),l=1},point:function(a,s){var c=a>0?L.pi:-L.pi,u=(0,L.Wn)(a-g);(0,L.Wn)(u-L.pi)<L.Ho?(h.point(g,t=(t+s)/2>0?L.ou:-L.ou),h.point(r,t),h.lineEnd(),h.lineStart(),h.point(c,t),h.point(a,t),l=0):r!==c&&u>=L.pi&&((0,L.Wn)(g-r)<L.Ho&&(g-=r*L.Ho),(0,L.Wn)(a-c)<L.Ho&&(a-=c*L.Ho),t=C(g,t,a,s),h.point(r,t),h.lineEnd(),h.lineStart(),h.point(c,t),l=0),h.point(g=a,t=s),r=c},lineEnd:function(){h.lineEnd(),g=t=NaN},clean:function(){return 2-l}}}function C(h,g,t,r){var l,a,s=(0,L.O$)(h-t);return(0,L.Wn)(s)>L.Ho?(0,L.z4)(((0,L.O$)(g)*(a=(0,L.mC)(r))*(0,L.O$)(t)-(0,L.O$)(r)*(l=(0,L.mC)(g))*(0,L.O$)(h))/(l*a*s)):(g+r)/2}function y(h,g,t,r){var l;if(h==null)l=t*L.ou,r.point(-L.pi,l),r.point(0,l),r.point(L.pi,l),r.point(L.pi,0),r.point(L.pi,-l),r.point(0,-l),r.point(-L.pi,-l),r.point(-L.pi,0),r.point(-L.pi,l);else if((0,L.Wn)(h[0]-g[0])>L.Ho){var a=h[0]<g[0]?L.pi:-L.pi;l=t*a/2,r.point(-a,l),r.point(0,l),r.point(a,l)}else r.point(g[0],g[1])}},85272:function(V,B,e){e.d(B,{Z:function(){return L}});var p=e(73182);function L(){var n=[],C;return{point:function(y,h,g){C.push([y,h,g])},lineStart:function(){n.push(C=[])},lineEnd:p.Z,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var y=n;return n=[],C=null,y}}}},1457:function(V,B,e){e.d(B,{Z:function(){return h}});var p=e(7620),L=e(7613),n=e(39695),C=e(67108),y=e(97023);function h(g){var t=(0,n.mC)(g),r=6*n.uR,l=t>0,a=(0,n.Wn)(t)>n.Ho;function s(w,v,o,d){(0,L.m)(d,g,r,o,w,v)}function c(w,v){return(0,n.mC)(w)*(0,n.mC)(v)>t}function u(w){var v,o,d,S,M;return{lineStart:function(){S=d=!1,M=1},point:function(P,x){var E=[P,x],T,i=c(P,x),R=l?i?0:f(P,x):i?f(P+(P<0?n.pi:-n.pi),x):0;if(!v&&(S=d=i)&&w.lineStart(),i!==d&&(T=b(v,E),(!T||(0,C.Z)(v,T)||(0,C.Z)(E,T))&&(E[2]=1)),i!==d)M=0,i?(w.lineStart(),T=b(E,v),w.point(T[0],T[1])):(T=b(v,E),w.point(T[0],T[1],2),w.lineEnd()),v=T;else if(a&&v&&l^i){var A;!(R&o)&&(A=b(E,v,!0))&&(M=0,l?(w.lineStart(),w.point(A[0][0],A[0][1]),w.point(A[1][0],A[1][1]),w.lineEnd()):(w.point(A[1][0],A[1][1]),w.lineEnd(),w.lineStart(),w.point(A[0][0],A[0][1],3)))}i&&(!v||!(0,C.Z)(v,E))&&w.point(E[0],E[1]),v=E,d=i,o=R},lineEnd:function(){d&&w.lineEnd(),v=null},clean:function(){return M|(S&&d)<<1}}}function b(w,v,o){var d=(0,p.Og)(w),S=(0,p.Og)(v),M=[1,0,0],P=(0,p.T5)(d,S),x=(0,p.j9)(P,P),E=P[0],T=x-E*E;if(!T)return!o&&w;var i=t*x/T,R=-t*E/T,A=(0,p.T5)(M,P),k=(0,p.T)(M,i),_=(0,p.T)(P,R);(0,p.s0)(k,_);var H=A,z=(0,p.j9)(k,H),N=(0,p.j9)(H,H),O=z*z-N*((0,p.j9)(k,k)-1);if(!(O<0)){var F=(0,n._b)(O),U=(0,p.T)(H,(-z-F)/N);if((0,p.s0)(U,k),U=(0,p.Y1)(U),!o)return U;var Z=w[0],q=v[0],J=w[1],te=v[1],fe;q<Z&&(fe=Z,Z=q,q=fe);var K=q-Z,Y=(0,n.Wn)(K-n.pi)<n.Ho,W=Y||K<n.Ho;if(!Y&&te<J&&(fe=J,J=te,te=fe),W?Y?J+te>0^U[1]<((0,n.Wn)(U[0]-Z)<n.Ho?J:te):J<=U[1]&&U[1]<=te:K>n.pi^(Z<=U[0]&&U[0]<=q)){var X=(0,p.T)(H,(-z+F)/N);return(0,p.s0)(X,k),[U,(0,p.Y1)(X)]}}}function f(w,v){var o=l?g:n.pi-g,d=0;return w<-o?d|=1:w>o&&(d|=2),v<-o?d|=4:v>o&&(d|=8),d}return(0,y.Z)(c,u,s,l?[0,-g]:[-n.pi,g-n.pi])}},97023:function(V,B,e){e.d(B,{Z:function(){return h}});var p=e(85272),L=e(46225),n=e(39695),C=e(23071),y=e(33064);function h(r,l,a,s){return function(c){var u=l(c),b=(0,p.Z)(),f=l(b),w=!1,v,o,d,S={point:M,lineStart:x,lineEnd:E,polygonStart:function(){S.point=T,S.lineStart=i,S.lineEnd=R,o=[],v=[]},polygonEnd:function(){S.point=M,S.lineStart=x,S.lineEnd=E,o=(0,y.TS)(o);var A=(0,C.Z)(v,s);o.length?(w||(c.polygonStart(),w=!0),(0,L.Z)(o,t,A,a,c)):A&&(w||(c.polygonStart(),w=!0),c.lineStart(),a(null,null,1,c),c.lineEnd()),w&&(c.polygonEnd(),w=!1),o=v=null},sphere:function(){c.polygonStart(),c.lineStart(),a(null,null,1,c),c.lineEnd(),c.polygonEnd()}};function M(A,k){r(A,k)&&c.point(A,k)}function P(A,k){u.point(A,k)}function x(){S.point=P,u.lineStart()}function E(){S.point=M,u.lineEnd()}function T(A,k){d.push([A,k]),f.point(A,k)}function i(){f.lineStart(),d=[]}function R(){T(d[0][0],d[0][1]),f.lineEnd();var A=f.clean(),k=b.result(),_,H=k.length,z,N,O;if(d.pop(),v.push(d),d=null,!!H){if(A&1){if(N=k[0],(z=N.length-1)>0){for(w||(c.polygonStart(),w=!0),c.lineStart(),_=0;_<z;++_)c.point((O=N[_])[0],O[1]);c.lineEnd()}return}H>1&&A&2&&k.push(k.pop().concat(k.shift())),o.push(k.filter(g))}}return S}}function g(r){return r.length>1}function t(r,l){return((r=r.x)[0]<0?r[1]-n.ou-n.Ho:n.ou-r[1])-((l=l.x)[0]<0?l[1]-n.ou-n.Ho:n.ou-l[1])}},87605:function(V,B,e){e.d(B,{Z:function(){return t}});var p=e(39695),L=e(85272);function n(r,l,a,s,c,u){var b=r[0],f=r[1],w=l[0],v=l[1],o=0,d=1,S=w-b,M=v-f,P;if(P=a-b,!(!S&&P>0)){if(P/=S,S<0){if(P<o)return;P<d&&(d=P)}else if(S>0){if(P>d)return;P>o&&(o=P)}if(P=c-b,!(!S&&P<0)){if(P/=S,S<0){if(P>d)return;P>o&&(o=P)}else if(S>0){if(P<o)return;P<d&&(d=P)}if(P=s-f,!(!M&&P>0)){if(P/=M,M<0){if(P<o)return;P<d&&(d=P)}else if(M>0){if(P>d)return;P>o&&(o=P)}if(P=u-f,!(!M&&P<0)){if(P/=M,M<0){if(P>d)return;P>o&&(o=P)}else if(M>0){if(P<o)return;P<d&&(d=P)}return o>0&&(r[0]=b+o*S,r[1]=f+o*M),d<1&&(l[0]=b+d*S,l[1]=f+d*M),!0}}}}}var C=e(46225),y=e(33064),h=1e9,g=-h;function t(r,l,a,s){function c(v,o){return r<=v&&v<=a&&l<=o&&o<=s}function u(v,o,d,S){var M=0,P=0;if(v==null||(M=b(v,d))!==(P=b(o,d))||w(v,o)<0^d>0)do S.point(M===0||M===3?r:a,M>1?s:l);while((M=(M+d+4)%4)!==P);else S.point(o[0],o[1])}function b(v,o){return(0,p.Wn)(v[0]-r)<p.Ho?o>0?0:3:(0,p.Wn)(v[0]-a)<p.Ho?o>0?2:1:(0,p.Wn)(v[1]-l)<p.Ho?o>0?1:0:o>0?3:2}function f(v,o){return w(v.x,o.x)}function w(v,o){var d=b(v,1),S=b(o,1);return d!==S?d-S:d===0?o[1]-v[1]:d===1?v[0]-o[0]:d===2?v[1]-o[1]:o[0]-v[0]}return function(v){var o=v,d=(0,L.Z)(),S,M,P,x,E,T,i,R,A,k,_,H={point:z,lineStart:U,lineEnd:Z,polygonStart:O,polygonEnd:F};function z(J,te){c(J,te)&&o.point(J,te)}function N(){for(var J=0,te=0,fe=M.length;te<fe;++te)for(var K=M[te],Y=1,W=K.length,X=K[0],re,se,Q=X[0],ee=X[1];Y<W;++Y)re=Q,se=ee,X=K[Y],Q=X[0],ee=X[1],se<=s?ee>s&&(Q-re)*(s-se)>(ee-se)*(r-re)&&++J:ee<=s&&(Q-re)*(s-se)<(ee-se)*(r-re)&&--J;return J}function O(){o=d,S=[],M=[],_=!0}function F(){var J=N(),te=_&&J,fe=(S=(0,y.TS)(S)).length;(te||fe)&&(v.polygonStart(),te&&(v.lineStart(),u(null,null,1,v),v.lineEnd()),fe&&(0,C.Z)(S,f,J,u,v),v.polygonEnd()),o=v,S=M=P=null}function U(){H.point=q,M&&M.push(P=[]),k=!0,A=!1,i=R=NaN}function Z(){S&&(q(x,E),T&&A&&d.rejoin(),S.push(d.result())),H.point=z,A&&o.lineEnd()}function q(J,te){var fe=c(J,te);if(M&&P.push([J,te]),k)x=J,E=te,T=fe,k=!1,fe&&(o.lineStart(),o.point(J,te));else if(fe&&A)o.point(J,te);else{var K=[i=Math.max(g,Math.min(h,i)),R=Math.max(g,Math.min(h,R))],Y=[J=Math.max(g,Math.min(h,J)),te=Math.max(g,Math.min(h,te))];n(K,Y,r,l,a,s)?(A||(o.lineStart(),o.point(K[0],K[1])),o.point(Y[0],Y[1]),fe||o.lineEnd(),_=!1):fe&&(o.lineStart(),o.point(J,te),_=!1)}i=J,R=te,A=fe}return H}}},46225:function(V,B,e){e.d(B,{Z:function(){return C}});var p=e(67108),L=e(39695);function n(h,g,t,r){this.x=h,this.z=g,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function C(h,g,t,r,l){var a=[],s=[],c,u;if(h.forEach(function(d){if(!((S=d.length-1)<=0)){var S,M=d[0],P=d[S],x;if((0,p.Z)(M,P)){if(!M[2]&&!P[2]){for(l.lineStart(),c=0;c<S;++c)l.point((M=d[c])[0],M[1]);l.lineEnd();return}P[0]+=2*L.Ho}a.push(x=new n(M,d,null,!0)),s.push(x.o=new n(M,null,x,!1)),a.push(x=new n(P,d,null,!1)),s.push(x.o=new n(P,null,x,!0))}}),!!a.length){for(s.sort(g),y(a),y(s),c=0,u=s.length;c<u;++c)s[c].e=t=!t;for(var b=a[0],f,w;;){for(var v=b,o=!0;v.v;)if((v=v.n)===b)return;f=v.z,l.lineStart();do{if(v.v=v.o.v=!0,v.e){if(o)for(c=0,u=f.length;c<u;++c)l.point((w=f[c])[0],w[1]);else r(v.x,v.n.x,1,l);v=v.n}else{if(o)for(f=v.p.z,c=f.length-1;c>=0;--c)l.point((w=f[c])[0],w[1]);else r(v.x,v.p.x,-1,l);v=v.p}v=v.o,f=v.z,o=!o}while(!v.v);l.lineEnd()}}}function y(h){if(g=h.length){for(var g,t=0,r=h[0],l;++t<g;)r.n=l=h[t],l.p=r,r=l;r.n=l=h[0],l.p=r}}},96059:function(V,B,e){e.d(B,{Z:function(){return p}});function p(L,n){function C(y,h){return y=L(y,h),n(y[0],y[1])}return L.invert&&n.invert&&(C.invert=function(y,h){return y=n.invert(y,h),y&&L.invert(y[0],y[1])}),C}},8593:function(V,B,e){e.d(B,{Z:function(){return p}});function p(L){return L}},27362:function(V,B,e){e.r(B),e.d(B,{geoAlbers:function(){return Ar},geoAlbersUsa:function(){return lt},geoArea:function(){return p.ZP},geoAzimuthalEqualArea:function(){return xt.Z},geoAzimuthalEqualAreaRaw:function(){return xt.l},geoAzimuthalEquidistant:function(){return Tt.Z},geoAzimuthalEquidistantRaw:function(){return Tt.N},geoBounds:function(){return L.Z},geoCentroid:function(){return n.Z},geoCircle:function(){return C.Z},geoClipAntimeridian:function(){return y.Z},geoClipCircle:function(){return h.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return g.Z},geoConicConformal:function(){return or},geoConicConformalRaw:function(){return Qt},geoConicEqualArea:function(){return Zt},geoConicEqualAreaRaw:function(){return Kt},geoConicEquidistant:function(){return Ye},geoConicEquidistantRaw:function(){return Ze},geoContains:function(){return O},geoDistance:function(){return T},geoEqualEarth:function(){return hr},geoEqualEarthRaw:function(){return Nt},geoEquirectangular:function(){return Lr.Z},geoEquirectangularRaw:function(){return Lr.k},geoGnomonic:function(){return pr.Z},geoGnomonicRaw:function(){return pr.M},geoGraticule:function(){return q},geoGraticule10:function(){return J},geoIdentity:function(){return dr},geoInterpolate:function(){return te.Z},geoLength:function(){return P},geoMercator:function(){return zt},geoMercatorRaw:function(){return At},geoNaturalEarth1:function(){return Xr.Z},geoNaturalEarth1Raw:function(){return Xr.K},geoOrthographic:function(){return Br.Z},geoOrthographicRaw:function(){return Br.I},geoPath:function(){return $t},geoProjection:function(){return lr.Z},geoProjectionMutator:function(){return lr.r},geoRotation:function(){return Ct.Z},geoStereographic:function(){return Jr},geoStereographicRaw:function(){return mn},geoStream:function(){return c.Z},geoTransform:function(){return gr.Z},geoTransverseMercator:function(){return kn},geoTransverseMercatorRaw:function(){return _n}});var p=e(97860),L=e(77338),n=e(66624),C=e(7613),y=e(87070),h=e(1457),g=e(87605);function t(){var br=0,wr=0,Nr=960,Vr=500,tn,gn,hn;return hn={stream:function(Sn){return tn&&gn===Sn?tn:tn=(0,g.Z)(br,wr,Nr,Vr)(gn=Sn)},extent:function(Sn){return arguments.length?(br=+Sn[0][0],wr=+Sn[0][1],Nr=+Sn[1][0],Vr=+Sn[1][1],tn=gn=null,hn):[[br,wr],[Nr,Vr]]}}}var r=e(23071),l=e(33940),a=e(39695),s=e(73182),c=e(72736),u=(0,l.Z)(),b,f,w,v={sphere:s.Z,point:s.Z,lineStart:o,lineEnd:s.Z,polygonStart:s.Z,polygonEnd:s.Z};function o(){v.point=S,v.lineEnd=d}function d(){v.point=v.lineEnd=s.Z}function S(br,wr){br*=a.uR,wr*=a.uR,b=br,f=(0,a.O$)(wr),w=(0,a.mC)(wr),v.point=M}function M(br,wr){br*=a.uR,wr*=a.uR;var Nr=(0,a.O$)(wr),Vr=(0,a.mC)(wr),tn=(0,a.Wn)(br-b),gn=(0,a.mC)(tn),hn=(0,a.O$)(tn),Sn=Vr*hn,In=w*Nr-f*Vr*gn,Jn=f*Nr+w*Vr*gn;u.add((0,a.fv)((0,a._b)(Sn*Sn+In*In),Jn)),b=br,f=Nr,w=Vr}function P(br){return u.reset(),(0,c.Z)(br,v),+u}var x=[null,null],E={type:"LineString",coordinates:x};function T(br,wr){return x[0]=br,x[1]=wr,P(E)}var i={Feature:function(br,wr){return A(br.geometry,wr)},FeatureCollection:function(br,wr){for(var Nr=br.features,Vr=-1,tn=Nr.length;++Vr<tn;)if(A(Nr[Vr].geometry,wr))return!0;return!1}},R={Sphere:function(){return!0},Point:function(br,wr){return k(br.coordinates,wr)},MultiPoint:function(br,wr){for(var Nr=br.coordinates,Vr=-1,tn=Nr.length;++Vr<tn;)if(k(Nr[Vr],wr))return!0;return!1},LineString:function(br,wr){return _(br.coordinates,wr)},MultiLineString:function(br,wr){for(var Nr=br.coordinates,Vr=-1,tn=Nr.length;++Vr<tn;)if(_(Nr[Vr],wr))return!0;return!1},Polygon:function(br,wr){return H(br.coordinates,wr)},MultiPolygon:function(br,wr){for(var Nr=br.coordinates,Vr=-1,tn=Nr.length;++Vr<tn;)if(H(Nr[Vr],wr))return!0;return!1},GeometryCollection:function(br,wr){for(var Nr=br.geometries,Vr=-1,tn=Nr.length;++Vr<tn;)if(A(Nr[Vr],wr))return!0;return!1}};function A(br,wr){return br&&R.hasOwnProperty(br.type)?R[br.type](br,wr):!1}function k(br,wr){return T(br,wr)===0}function _(br,wr){for(var Nr,Vr,tn,gn=0,hn=br.length;gn<hn;gn++){if(Vr=T(br[gn],wr),Vr===0||gn>0&&(tn=T(br[gn],br[gn-1]),tn>0&&Nr<=tn&&Vr<=tn&&(Nr+Vr-tn)*(1-Math.pow((Nr-Vr)/tn,2))<a.aW*tn))return!0;Nr=Vr}return!1}function H(br,wr){return!!(0,r.Z)(br.map(z),N(wr))}function z(br){return br=br.map(N),br.pop(),br}function N(br){return[br[0]*a.uR,br[1]*a.uR]}function O(br,wr){return(br&&i.hasOwnProperty(br.type)?i[br.type]:A)(br,wr)}var F=e(33064);function U(br,wr,Nr){var Vr=(0,F.w6)(br,wr-a.Ho,Nr).concat(wr);return function(tn){return Vr.map(function(gn){return[tn,gn]})}}function Z(br,wr,Nr){var Vr=(0,F.w6)(br,wr-a.Ho,Nr).concat(wr);return function(tn){return Vr.map(function(gn){return[gn,tn]})}}function q(){var br,wr,Nr,Vr,tn,gn,hn,Sn,In=10,Jn=In,ra=90,ca=360,aa,na,Cr,ln,on=2.5;function yn(){return{type:"MultiLineString",coordinates:Hn()}}function Hn(){return(0,F.w6)((0,a.mD)(Vr/ra)*ra,Nr,ra).map(Cr).concat((0,F.w6)((0,a.mD)(Sn/ca)*ca,hn,ca).map(ln)).concat((0,F.w6)((0,a.mD)(wr/In)*In,br,In).filter(function(Ln){return(0,a.Wn)(Ln%ra)>a.Ho}).map(aa)).concat((0,F.w6)((0,a.mD)(gn/Jn)*Jn,tn,Jn).filter(function(Ln){return(0,a.Wn)(Ln%ca)>a.Ho}).map(na))}return yn.lines=function(){return Hn().map(function(Ln){return{type:"LineString",coordinates:Ln}})},yn.outline=function(){return{type:"Polygon",coordinates:[Cr(Vr).concat(ln(hn).slice(1),Cr(Nr).reverse().slice(1),ln(Sn).reverse().slice(1))]}},yn.extent=function(Ln){return arguments.length?yn.extentMajor(Ln).extentMinor(Ln):yn.extentMinor()},yn.extentMajor=function(Ln){return arguments.length?(Vr=+Ln[0][0],Nr=+Ln[1][0],Sn=+Ln[0][1],hn=+Ln[1][1],Vr>Nr&&(Ln=Vr,Vr=Nr,Nr=Ln),Sn>hn&&(Ln=Sn,Sn=hn,hn=Ln),yn.precision(on)):[[Vr,Sn],[Nr,hn]]},yn.extentMinor=function(Ln){return arguments.length?(wr=+Ln[0][0],br=+Ln[1][0],gn=+Ln[0][1],tn=+Ln[1][1],wr>br&&(Ln=wr,wr=br,br=Ln),gn>tn&&(Ln=gn,gn=tn,tn=Ln),yn.precision(on)):[[wr,gn],[br,tn]]},yn.step=function(Ln){return arguments.length?yn.stepMajor(Ln).stepMinor(Ln):yn.stepMinor()},yn.stepMajor=function(Ln){return arguments.length?(ra=+Ln[0],ca=+Ln[1],yn):[ra,ca]},yn.stepMinor=function(Ln){return arguments.length?(In=+Ln[0],Jn=+Ln[1],yn):[In,Jn]},yn.precision=function(Ln){return arguments.length?(on=+Ln,aa=U(gn,tn,90),na=Z(wr,br,on),Cr=U(Sn,hn,90),ln=Z(Vr,Nr,on),yn):on},yn.extentMajor([[-180,-90+a.Ho],[180,90-a.Ho]]).extentMinor([[-180,-80-a.Ho],[180,80+a.Ho]])}function J(){return q()()}var te=e(83074),fe=e(8593),K=(0,l.Z)(),Y=(0,l.Z)(),W,X,re,se,Q={point:s.Z,lineStart:s.Z,lineEnd:s.Z,polygonStart:function(){Q.lineStart=ee,Q.lineEnd=he},polygonEnd:function(){Q.lineStart=Q.lineEnd=Q.point=s.Z,K.add((0,a.Wn)(Y)),Y.reset()},result:function(){var br=K/2;return K.reset(),br}};function ee(){Q.point=le}function le(br,wr){Q.point=oe,W=re=br,X=se=wr}function oe(br,wr){Y.add(se*br-re*wr),re=br,se=wr}function he(){oe(W,X)}var xe=Q,Ae=e(3559),Se=0,Oe=0,Ve=0,Ee=0,Te=0,Le=0,Ge=0,He=0,ke=0,We,nt,qe,Qe,tt={point:vt,lineStart:dt,lineEnd:Rt,polygonStart:function(){tt.lineStart=Wt,tt.lineEnd=je},polygonEnd:function(){tt.point=vt,tt.lineStart=dt,tt.lineEnd=Rt},result:function(){var br=ke?[Ge/ke,He/ke]:Le?[Ee/Le,Te/Le]:Ve?[Se/Ve,Oe/Ve]:[NaN,NaN];return Se=Oe=Ve=Ee=Te=Le=Ge=He=ke=0,br}};function vt(br,wr){Se+=br,Oe+=wr,++Ve}function dt(){tt.point=gt}function gt(br,wr){tt.point=Mt,vt(qe=br,Qe=wr)}function Mt(br,wr){var Nr=br-qe,Vr=wr-Qe,tn=(0,a._b)(Nr*Nr+Vr*Vr);Ee+=tn*(qe+br)/2,Te+=tn*(Qe+wr)/2,Le+=tn,vt(qe=br,Qe=wr)}function Rt(){tt.point=vt}function Wt(){tt.point=_e}function je(){Fe(We,nt)}function _e(br,wr){tt.point=Fe,vt(We=qe=br,nt=Qe=wr)}function Fe(br,wr){var Nr=br-qe,Vr=wr-Qe,tn=(0,a._b)(Nr*Nr+Vr*Vr);Ee+=tn*(qe+br)/2,Te+=tn*(Qe+wr)/2,Le+=tn,tn=Qe*br-qe*wr,Ge+=tn*(qe+br),He+=tn*(Qe+wr),ke+=tn*3,vt(qe=br,Qe=wr)}var Be=tt;function De(br){this._context=br}De.prototype={_radius:4.5,pointRadius:function(br){return this._radius=br,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(br,wr){switch(this._point){case 0:{this._context.moveTo(br,wr),this._point=1;break}case 1:{this._context.lineTo(br,wr);break}default:{this._context.moveTo(br+this._radius,wr),this._context.arc(br,wr,this._radius,0,a.BZ);break}}},result:s.Z};var we=(0,l.Z)(),ue,me,Re,Ne,it,ot={point:s.Z,lineStart:function(){ot.point=wt},lineEnd:function(){ue&&Ft(me,Re),ot.point=s.Z},polygonStart:function(){ue=!0},polygonEnd:function(){ue=null},result:function(){var br=+we;return we.reset(),br}};function wt(br,wr){ot.point=Ft,me=Ne=br,Re=it=wr}function Ft(br,wr){Ne-=br,it-=wr,we.add((0,a._b)(Ne*Ne+it*it)),Ne=br,it=wr}var Ut=ot;function Gt(){this._string=[]}Gt.prototype={_radius:4.5,_circle:Et(4.5),pointRadius:function(br){return(br=+br)!==this._radius&&(this._radius=br,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(br,wr){switch(this._point){case 0:{this._string.push("M",br,",",wr),this._point=1;break}case 1:{this._string.push("L",br,",",wr);break}default:{this._circle==null&&(this._circle=Et(this._radius)),this._string.push("M",br,",",wr,this._circle);break}}},result:function(){if(this._string.length){var br=this._string.join("");return this._string=[],br}else return null}};function Et(br){return"m0,"+br+"a"+br+","+br+" 0 1,1 0,"+-2*br+"a"+br+","+br+" 0 1,1 0,"+2*br+"z"}function $t(br,wr){var Nr=4.5,Vr,tn;function gn(hn){return hn&&(typeof Nr=="function"&&tn.pointRadius(+Nr.apply(this,arguments)),(0,c.Z)(hn,Vr(tn))),tn.result()}return gn.area=function(hn){return(0,c.Z)(hn,Vr(xe)),xe.result()},gn.measure=function(hn){return(0,c.Z)(hn,Vr(Ut)),Ut.result()},gn.bounds=function(hn){return(0,c.Z)(hn,Vr(Ae.Z)),Ae.Z.result()},gn.centroid=function(hn){return(0,c.Z)(hn,Vr(Be)),Be.result()},gn.projection=function(hn){return arguments.length?(Vr=hn==null?(br=null,fe.Z):(br=hn).stream,gn):br},gn.context=function(hn){return arguments.length?(tn=hn==null?(wr=null,new Gt):new De(wr=hn),typeof Nr!="function"&&tn.pointRadius(Nr),gn):wr},gn.pointRadius=function(hn){return arguments.length?(Nr=typeof hn=="function"?hn:(tn.pointRadius(+hn),+hn),gn):Nr},gn.projection(br).context(wr)}var lr=e(15002);function Fr(br){var wr=0,Nr=a.pi/3,Vr=(0,lr.r)(br),tn=Vr(wr,Nr);return tn.parallels=function(gn){return arguments.length?Vr(wr=gn[0]*a.uR,Nr=gn[1]*a.uR):[wr*a.RW,Nr*a.RW]},tn}function yt(br){var wr=(0,a.mC)(br);function Nr(Vr,tn){return[Vr*wr,(0,a.O$)(tn)/wr]}return Nr.invert=function(Vr,tn){return[Vr/wr,(0,a.ZR)(tn*wr)]},Nr}function Kt(br,wr){var Nr=(0,a.O$)(br),Vr=(Nr+(0,a.O$)(wr))/2;if((0,a.Wn)(Vr)<a.Ho)return yt(br);var tn=1+Nr*(2*Vr-Nr),gn=(0,a._b)(tn)/Vr;function hn(Sn,In){var Jn=(0,a._b)(tn-2*Vr*(0,a.O$)(In))/Vr;return[Jn*(0,a.O$)(Sn*=Vr),gn-Jn*(0,a.mC)(Sn)]}return hn.invert=function(Sn,In){var Jn=gn-In,ra=(0,a.fv)(Sn,(0,a.Wn)(Jn))*(0,a.Xx)(Jn);return Jn*Vr<0&&(ra-=a.pi*(0,a.Xx)(Sn)*(0,a.Xx)(Jn)),[ra/Vr,(0,a.ZR)((tn-(Sn*Sn+Jn*Jn)*Vr*Vr)/(2*Vr))]},hn}function Zt(){return Fr(Kt).scale(155.424).center([0,33.6442])}function Ar(){return Zt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var vr=e(47589);function ut(br){var wr=br.length;return{point:function(Nr,Vr){for(var tn=-1;++tn<wr;)br[tn].point(Nr,Vr)},sphere:function(){for(var Nr=-1;++Nr<wr;)br[Nr].sphere()},lineStart:function(){for(var Nr=-1;++Nr<wr;)br[Nr].lineStart()},lineEnd:function(){for(var Nr=-1;++Nr<wr;)br[Nr].lineEnd()},polygonStart:function(){for(var Nr=-1;++Nr<wr;)br[Nr].polygonStart()},polygonEnd:function(){for(var Nr=-1;++Nr<wr;)br[Nr].polygonEnd()}}}function lt(){var br,wr,Nr=Ar(),Vr,tn=Zt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),gn,hn=Zt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Sn,In,Jn={point:function(aa,na){In=[aa,na]}};function ra(aa){var na=aa[0],Cr=aa[1];return In=null,Vr.point(na,Cr),In||(gn.point(na,Cr),In)||(Sn.point(na,Cr),In)}ra.invert=function(aa){var na=Nr.scale(),Cr=Nr.translate(),ln=(aa[0]-Cr[0])/na,on=(aa[1]-Cr[1])/na;return(on>=.12&&on<.234&&ln>=-.425&&ln<-.214?tn:on>=.166&&on<.234&&ln>=-.214&&ln<-.115?hn:Nr).invert(aa)},ra.stream=function(aa){return br&&wr===aa?br:br=ut([Nr.stream(wr=aa),tn.stream(aa),hn.stream(aa)])},ra.precision=function(aa){return arguments.length?(Nr.precision(aa),tn.precision(aa),hn.precision(aa),ca()):Nr.precision()},ra.scale=function(aa){return arguments.length?(Nr.scale(aa),tn.scale(aa*.35),hn.scale(aa),ra.translate(Nr.translate())):Nr.scale()},ra.translate=function(aa){if(!arguments.length)return Nr.translate();var na=Nr.scale(),Cr=+aa[0],ln=+aa[1];return Vr=Nr.translate(aa).clipExtent([[Cr-.455*na,ln-.238*na],[Cr+.455*na,ln+.238*na]]).stream(Jn),gn=tn.translate([Cr-.307*na,ln+.201*na]).clipExtent([[Cr-.425*na+a.Ho,ln+.12*na+a.Ho],[Cr-.214*na-a.Ho,ln+.234*na-a.Ho]]).stream(Jn),Sn=hn.translate([Cr-.205*na,ln+.212*na]).clipExtent([[Cr-.214*na+a.Ho,ln+.166*na+a.Ho],[Cr-.115*na-a.Ho,ln+.234*na-a.Ho]]).stream(Jn),ca()},ra.fitExtent=function(aa,na){return(0,vr.qg)(ra,aa,na)},ra.fitSize=function(aa,na){return(0,vr.mF)(ra,aa,na)},ra.fitWidth=function(aa,na){return(0,vr.V6)(ra,aa,na)},ra.fitHeight=function(aa,na){return(0,vr.rf)(ra,aa,na)};function ca(){return br=wr=null,ra}return ra.scale(1070)}var xt=e(12956),Tt=e(17889),Ct=e(49386);function At(br,wr){return[br,(0,a.cM)((0,a.OR)((a.ou+wr)/2))]}At.invert=function(br,wr){return[br,2*(0,a.z4)((0,a.Qq)(wr))-a.ou]};function zt(){return Ht(At).scale(961/a.BZ)}function Ht(br){var wr=(0,lr.Z)(br),Nr=wr.center,Vr=wr.scale,tn=wr.translate,gn=wr.clipExtent,hn=null,Sn,In,Jn;wr.scale=function(ca){return arguments.length?(Vr(ca),ra()):Vr()},wr.translate=function(ca){return arguments.length?(tn(ca),ra()):tn()},wr.center=function(ca){return arguments.length?(Nr(ca),ra()):Nr()},wr.clipExtent=function(ca){return arguments.length?(ca==null?hn=Sn=In=Jn=null:(hn=+ca[0][0],Sn=+ca[0][1],In=+ca[1][0],Jn=+ca[1][1]),ra()):hn==null?null:[[hn,Sn],[In,Jn]]};function ra(){var ca=a.pi*Vr(),aa=wr((0,Ct.Z)(wr.rotate()).invert([0,0]));return gn(hn==null?[[aa[0]-ca,aa[1]-ca],[aa[0]+ca,aa[1]+ca]]:br===At?[[Math.max(aa[0]-ca,hn),Sn],[Math.min(aa[0]+ca,In),Jn]]:[[hn,Math.max(aa[1]-ca,Sn)],[In,Math.min(aa[1]+ca,Jn)]])}return ra()}function qt(br){return(0,a.OR)((a.ou+br)/2)}function Qt(br,wr){var Nr=(0,a.mC)(br),Vr=br===wr?(0,a.O$)(br):(0,a.cM)(Nr/(0,a.mC)(wr))/(0,a.cM)(qt(wr)/qt(br)),tn=Nr*(0,a.sQ)(qt(br),Vr)/Vr;if(!Vr)return At;function gn(hn,Sn){tn>0?Sn<-a.ou+a.Ho&&(Sn=-a.ou+a.Ho):Sn>a.ou-a.Ho&&(Sn=a.ou-a.Ho);var In=tn/(0,a.sQ)(qt(Sn),Vr);return[In*(0,a.O$)(Vr*hn),tn-In*(0,a.mC)(Vr*hn)]}return gn.invert=function(hn,Sn){var In=tn-Sn,Jn=(0,a.Xx)(Vr)*(0,a._b)(hn*hn+In*In),ra=(0,a.fv)(hn,(0,a.Wn)(In))*(0,a.Xx)(In);return In*Vr<0&&(ra-=a.pi*(0,a.Xx)(hn)*(0,a.Xx)(In)),[ra/Vr,2*(0,a.z4)((0,a.sQ)(tn/Jn,1/Vr))-a.ou]},gn}function or(){return Fr(Qt).scale(109.5).parallels([30,30])}var Lr=e(97492);function Ze(br,wr){var Nr=(0,a.mC)(br),Vr=br===wr?(0,a.O$)(br):(Nr-(0,a.mC)(wr))/(wr-br),tn=Nr/Vr+br;if((0,a.Wn)(Vr)<a.Ho)return Lr.k;function gn(hn,Sn){var In=tn-Sn,Jn=Vr*hn;return[In*(0,a.O$)(Jn),tn-In*(0,a.mC)(Jn)]}return gn.invert=function(hn,Sn){var In=tn-Sn,Jn=(0,a.fv)(hn,(0,a.Wn)(In))*(0,a.Xx)(In);return In*Vr<0&&(Jn-=a.pi*(0,a.Xx)(hn)*(0,a.Xx)(In)),[Jn/Vr,tn-(0,a.Xx)(Vr)*(0,a._b)(hn*hn+In*In)]},gn}function Ye(){return Fr(Ze).scale(131.154).center([0,13.9389])}var It=1.340264,kt=-.081106,Xt=893e-6,ir=.003796,ur=(0,a._b)(3)/2,nr=12;function Nt(br,wr){var Nr=(0,a.ZR)(ur*(0,a.O$)(wr)),Vr=Nr*Nr,tn=Vr*Vr*Vr;return[br*(0,a.mC)(Nr)/(ur*(It+3*kt*Vr+tn*(7*Xt+9*ir*Vr))),Nr*(It+kt*Vr+tn*(Xt+ir*Vr))]}Nt.invert=function(br,wr){for(var Nr=wr,Vr=Nr*Nr,tn=Vr*Vr*Vr,gn=0,hn,Sn,In;gn<nr&&(Sn=Nr*(It+kt*Vr+tn*(Xt+ir*Vr))-wr,In=It+3*kt*Vr+tn*(7*Xt+9*ir*Vr),Nr-=hn=Sn/In,Vr=Nr*Nr,tn=Vr*Vr*Vr,!((0,a.Wn)(hn)<a.aW));++gn);return[ur*br*(It+3*kt*Vr+tn*(7*Xt+9*ir*Vr))/(0,a.mC)(Nr),(0,a.ZR)((0,a.O$)(Nr)/ur)]};function hr(){return(0,lr.Z)(Nt).scale(177.158)}var pr=e(98936),gr=e(64684);function dr(){var br=1,wr=0,Nr=0,Vr=1,tn=1,gn=0,hn,Sn,In=null,Jn,ra,ca,aa=1,na=1,Cr=(0,gr.l)({point:function(Pn,Wn){var la=Ln([Pn,Wn]);this.stream.point(la[0],la[1])}}),ln=fe.Z,on,yn;function Hn(){return aa=br*Vr,na=br*tn,on=yn=null,Ln}function Ln(Pn){var Wn=Pn[0]*aa,la=Pn[1]*na;if(gn){var za=la*hn-Wn*Sn;Wn=Wn*hn+la*Sn,la=za}return[Wn+wr,la+Nr]}return Ln.invert=function(Pn){var Wn=Pn[0]-wr,la=Pn[1]-Nr;if(gn){var za=la*hn+Wn*Sn;Wn=Wn*hn-la*Sn,la=za}return[Wn/aa,la/na]},Ln.stream=function(Pn){return on&&yn===Pn?on:on=Cr(ln(yn=Pn))},Ln.postclip=function(Pn){return arguments.length?(ln=Pn,In=Jn=ra=ca=null,Hn()):ln},Ln.clipExtent=function(Pn){return arguments.length?(ln=Pn==null?(In=Jn=ra=ca=null,fe.Z):(0,g.Z)(In=+Pn[0][0],Jn=+Pn[0][1],ra=+Pn[1][0],ca=+Pn[1][1]),Hn()):In==null?null:[[In,Jn],[ra,ca]]},Ln.scale=function(Pn){return arguments.length?(br=+Pn,Hn()):br},Ln.translate=function(Pn){return arguments.length?(wr=+Pn[0],Nr=+Pn[1],Hn()):[wr,Nr]},Ln.angle=function(Pn){return arguments.length?(gn=Pn%360*a.uR,Sn=(0,a.O$)(gn),hn=(0,a.mC)(gn),Hn()):gn*a.RW},Ln.reflectX=function(Pn){return arguments.length?(Vr=Pn?-1:1,Hn()):Vr<0},Ln.reflectY=function(Pn){return arguments.length?(tn=Pn?-1:1,Hn()):tn<0},Ln.fitExtent=function(Pn,Wn){return(0,vr.qg)(Ln,Pn,Wn)},Ln.fitSize=function(Pn,Wn){return(0,vr.mF)(Ln,Pn,Wn)},Ln.fitWidth=function(Pn,Wn){return(0,vr.V6)(Ln,Pn,Wn)},Ln.fitHeight=function(Pn,Wn){return(0,vr.rf)(Ln,Pn,Wn)},Ln}var Xr=e(26867),Br=e(57962),Or=e(25382);function mn(br,wr){var Nr=(0,a.mC)(wr),Vr=1+(0,a.mC)(br)*Nr;return[Nr*(0,a.O$)(br)/Vr,(0,a.O$)(wr)/Vr]}mn.invert=(0,Or.O)(function(br){return 2*(0,a.z4)(br)});function Jr(){return(0,lr.Z)(mn).scale(250).clipAngle(142)}function _n(br,wr){return[(0,a.cM)((0,a.OR)((a.ou+wr)/2)),-br]}_n.invert=function(br,wr){return[-wr,2*(0,a.z4)((0,a.Qq)(br))-a.ou]};function kn(){var br=Ht(_n),wr=br.center,Nr=br.rotate;return br.center=function(Vr){return arguments.length?wr([-Vr[1],Vr[0]]):(Vr=wr(),[Vr[1],-Vr[0]])},br.rotate=function(Vr){return arguments.length?Nr([Vr[0],Vr[1],Vr.length>2?Vr[2]+90:90]):(Vr=Nr(),[Vr[0],Vr[1],Vr[2]-90])},Nr([0,0,90]).scale(159.155)}},83074:function(V,B,e){e.d(B,{Z:function(){return L}});var p=e(39695);function L(n,C){var y=n[0]*p.uR,h=n[1]*p.uR,g=C[0]*p.uR,t=C[1]*p.uR,r=(0,p.mC)(h),l=(0,p.O$)(h),a=(0,p.mC)(t),s=(0,p.O$)(t),c=r*(0,p.mC)(y),u=r*(0,p.O$)(y),b=a*(0,p.mC)(g),f=a*(0,p.O$)(g),w=2*(0,p.ZR)((0,p._b)((0,p.Jy)(t-h)+r*a*(0,p.Jy)(g-y))),v=(0,p.O$)(w),o=w?function(d){var S=(0,p.O$)(d*=w)/v,M=(0,p.O$)(w-d)/v,P=M*c+S*b,x=M*u+S*f,E=M*l+S*s;return[(0,p.fv)(x,P)*p.RW,(0,p.fv)(E,(0,p._b)(P*P+x*x))*p.RW]}:function(){return[y*p.RW,h*p.RW]};return o.distance=w,o}},39695:function(V,B,e){e.d(B,{BZ:function(){return h},Ho:function(){return p},Jy:function(){return P},Kh:function(){return S},O$:function(){return w},OR:function(){return d},Qq:function(){return u},RW:function(){return g},Wn:function(){return r},Xx:function(){return v},ZR:function(){return M},_b:function(){return o},aW:function(){return L},cM:function(){return b},fv:function(){return a},mC:function(){return s},mD:function(){return c},ou:function(){return C},pi:function(){return n},pu:function(){return y},sQ:function(){return f},uR:function(){return t},z4:function(){return l}});var p=1e-6,L=1e-12,n=Math.PI,C=n/2,y=n/4,h=n*2,g=180/n,t=n/180,r=Math.abs,l=Math.atan,a=Math.atan2,s=Math.cos,c=Math.ceil,u=Math.exp,b=Math.log,f=Math.pow,w=Math.sin,v=Math.sign||function(x){return x>0?1:x<0?-1:0},o=Math.sqrt,d=Math.tan;function S(x){return x>1?0:x<-1?n:Math.acos(x)}function M(x){return x>1?C:x<-1?-C:Math.asin(x)}function P(x){return(x=w(x/2))*x}},73182:function(V,B,e){e.d(B,{Z:function(){return p}});function p(){}},3559:function(V,B,e){var p=e(73182),L=1/0,n=L,C=-L,y=C,h={point:g,lineStart:p.Z,lineEnd:p.Z,polygonStart:p.Z,polygonEnd:p.Z,result:function(){var t=[[L,n],[C,y]];return C=y=-(n=L=1/0),t}};function g(t,r){t<L&&(L=t),t>C&&(C=t),r<n&&(n=r),r>y&&(y=r)}B.Z=h},67108:function(V,B,e){e.d(B,{Z:function(){return L}});var p=e(39695);function L(n,C){return(0,p.Wn)(n[0]-C[0])<p.Ho&&(0,p.Wn)(n[1]-C[1])<p.Ho}},23071:function(V,B,e){e.d(B,{Z:function(){return h}});var p=e(33940),L=e(7620),n=e(39695),C=(0,p.Z)();function y(g){return(0,n.Wn)(g[0])<=n.pi?g[0]:(0,n.Xx)(g[0])*(((0,n.Wn)(g[0])+n.pi)%n.BZ-n.pi)}function h(g,t){var r=y(t),l=t[1],a=(0,n.O$)(l),s=[(0,n.O$)(r),-(0,n.mC)(r),0],c=0,u=0;C.reset(),a===1?l=n.ou+n.Ho:a===-1&&(l=-n.ou-n.Ho);for(var b=0,f=g.length;b<f;++b)if(v=(w=g[b]).length)for(var w,v,o=w[v-1],d=y(o),S=o[1]/2+n.pu,M=(0,n.O$)(S),P=(0,n.mC)(S),x=0;x<v;++x,d=T,M=R,P=A,o=E){var E=w[x],T=y(E),i=E[1]/2+n.pu,R=(0,n.O$)(i),A=(0,n.mC)(i),k=T-d,_=k>=0?1:-1,H=_*k,z=H>n.pi,N=M*R;if(C.add((0,n.fv)(N*_*(0,n.O$)(H),P*A+N*(0,n.mC)(H))),c+=z?k+_*n.BZ:k,z^d>=r^T>=r){var O=(0,L.T5)((0,L.Og)(o),(0,L.Og)(E));(0,L.iJ)(O);var F=(0,L.T5)(s,O);(0,L.iJ)(F);var U=(z^k>=0?-1:1)*(0,n.ZR)(F[2]);(l>U||l===U&&(O[0]||O[1]))&&(u+=z^k>=0?1:-1)}}return(c<-n.Ho||c<n.Ho&&C<-n.Ho)^u&1}},25382:function(V,B,e){e.d(B,{O:function(){return n},W:function(){return L}});var p=e(39695);function L(C){return function(y,h){var g=(0,p.mC)(y),t=(0,p.mC)(h),r=C(g*t);return[r*t*(0,p.O$)(y),r*(0,p.O$)(h)]}}function n(C){return function(y,h){var g=(0,p._b)(y*y+h*h),t=C(g),r=(0,p.O$)(t),l=(0,p.mC)(t);return[(0,p.fv)(y*r,g*l),(0,p.ZR)(g&&h*r/g)]}}},12956:function(V,B,e){e.d(B,{Z:function(){return y},l:function(){return C}});var p=e(39695),L=e(25382),n=e(15002),C=(0,L.W)(function(h){return(0,p._b)(2/(1+h))});C.invert=(0,L.O)(function(h){return 2*(0,p.ZR)(h/2)});function y(){return(0,n.Z)(C).scale(124.75).clipAngle(179.999)}},17889:function(V,B,e){e.d(B,{N:function(){return C},Z:function(){return y}});var p=e(39695),L=e(25382),n=e(15002),C=(0,L.W)(function(h){return(h=(0,p.Kh)(h))&&h/(0,p.O$)(h)});C.invert=(0,L.O)(function(h){return h});function y(){return(0,n.Z)(C).scale(79.4188).clipAngle(179.999)}},97492:function(V,B,e){e.d(B,{Z:function(){return n},k:function(){return L}});var p=e(15002);function L(C,y){return[C,y]}L.invert=L;function n(){return(0,p.Z)(L).scale(152.63)}},47589:function(V,B,e){e.d(B,{V6:function(){return h},mF:function(){return y},qg:function(){return C},rf:function(){return g}});var p=e(72736),L=e(3559);function n(t,r,l){var a=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),a!=null&&t.clipExtent(null),(0,p.Z)(l,t.stream(L.Z)),r(L.Z.result()),a!=null&&t.clipExtent(a),t}function C(t,r,l){return n(t,function(a){var s=r[1][0]-r[0][0],c=r[1][1]-r[0][1],u=Math.min(s/(a[1][0]-a[0][0]),c/(a[1][1]-a[0][1])),b=+r[0][0]+(s-u*(a[1][0]+a[0][0]))/2,f=+r[0][1]+(c-u*(a[1][1]+a[0][1]))/2;t.scale(150*u).translate([b,f])},l)}function y(t,r,l){return C(t,[[0,0],r],l)}function h(t,r,l){return n(t,function(a){var s=+r,c=s/(a[1][0]-a[0][0]),u=(s-c*(a[1][0]+a[0][0]))/2,b=-c*a[0][1];t.scale(150*c).translate([u,b])},l)}function g(t,r,l){return n(t,function(a){var s=+r,c=s/(a[1][1]-a[0][1]),u=-c*a[0][0],b=(s-c*(a[1][1]+a[0][1]))/2;t.scale(150*c).translate([u,b])},l)}},98936:function(V,B,e){e.d(B,{M:function(){return C},Z:function(){return y}});var p=e(39695),L=e(25382),n=e(15002);function C(h,g){var t=(0,p.mC)(g),r=(0,p.mC)(h)*t;return[t*(0,p.O$)(h)/r,(0,p.O$)(g)/r]}C.invert=(0,L.O)(p.z4);function y(){return(0,n.Z)(C).scale(144.049).clipAngle(60)}},15002:function(V,B,e){e.d(B,{Z:function(){return d},r:function(){return S}});var p=e(87070),L=e(1457),n=e(87605),C=e(96059),y=e(8593),h=e(39695),g=e(49386),t=e(64684),r=e(47589),l=e(7620),a=16,s=(0,h.mC)(30*h.uR);function c(M,P){return+P?b(M,P):u(M)}function u(M){return(0,t.l)({point:function(P,x){P=M(P,x),this.stream.point(P[0],P[1])}})}function b(M,P){function x(E,T,i,R,A,k,_,H,z,N,O,F,U,Z){var q=_-E,J=H-T,te=q*q+J*J;if(te>4*P&&U--){var fe=R+N,K=A+O,Y=k+F,W=(0,h._b)(fe*fe+K*K+Y*Y),X=(0,h.ZR)(Y/=W),re=(0,h.Wn)((0,h.Wn)(Y)-1)<h.Ho||(0,h.Wn)(i-z)<h.Ho?(i+z)/2:(0,h.fv)(K,fe),se=M(re,X),Q=se[0],ee=se[1],le=Q-E,oe=ee-T,he=J*le-q*oe;(he*he/te>P||(0,h.Wn)((q*le+J*oe)/te-.5)>.3||R*N+A*O+k*F<s)&&(x(E,T,i,R,A,k,Q,ee,re,fe/=W,K/=W,Y,U,Z),Z.point(Q,ee),x(Q,ee,re,fe,K,Y,_,H,z,N,O,F,U,Z))}}return function(E){var T,i,R,A,k,_,H,z,N,O,F,U,Z={point:q,lineStart:J,lineEnd:fe,polygonStart:function(){E.polygonStart(),Z.lineStart=K},polygonEnd:function(){E.polygonEnd(),Z.lineStart=J}};function q(X,re){X=M(X,re),E.point(X[0],X[1])}function J(){z=NaN,Z.point=te,E.lineStart()}function te(X,re){var se=(0,l.Og)([X,re]),Q=M(X,re);x(z,N,H,O,F,U,z=Q[0],N=Q[1],H=X,O=se[0],F=se[1],U=se[2],a,E),E.point(z,N)}function fe(){Z.point=q,E.lineEnd()}function K(){J(),Z.point=Y,Z.lineEnd=W}function Y(X,re){te(T=X,re),i=z,R=N,A=O,k=F,_=U,Z.point=te}function W(){x(z,N,H,O,F,U,i,R,T,A,k,_,a,E),Z.lineEnd=fe,fe()}return Z}}var f=(0,t.l)({point:function(M,P){this.stream.point(M*h.uR,P*h.uR)}});function w(M){return(0,t.l)({point:function(P,x){var E=M(P,x);return this.stream.point(E[0],E[1])}})}function v(M,P,x,E,T){function i(R,A){return R*=E,A*=T,[P+M*R,x-M*A]}return i.invert=function(R,A){return[(R-P)/M*E,(x-A)/M*T]},i}function o(M,P,x,E,T,i){var R=(0,h.mC)(i),A=(0,h.O$)(i),k=R*M,_=A*M,H=R/M,z=A/M,N=(A*x-R*P)/M,O=(A*P+R*x)/M;function F(U,Z){return U*=E,Z*=T,[k*U-_*Z+P,x-_*U-k*Z]}return F.invert=function(U,Z){return[E*(H*U-z*Z+N),T*(O-z*U-H*Z)]},F}function d(M){return S(function(){return M})()}function S(M){var P,x=150,E=480,T=250,i=0,R=0,A=0,k=0,_=0,H,z=0,N=1,O=1,F=null,U=p.Z,Z=null,q,J,te,fe=y.Z,K=.5,Y,W,X,re,se;function Q(he){return X(he[0]*h.uR,he[1]*h.uR)}function ee(he){return he=X.invert(he[0],he[1]),he&&[he[0]*h.RW,he[1]*h.RW]}Q.stream=function(he){return re&&se===he?re:re=f(w(H)(U(Y(fe(se=he)))))},Q.preclip=function(he){return arguments.length?(U=he,F=void 0,oe()):U},Q.postclip=function(he){return arguments.length?(fe=he,Z=q=J=te=null,oe()):fe},Q.clipAngle=function(he){return arguments.length?(U=+he?(0,L.Z)(F=he*h.uR):(F=null,p.Z),oe()):F*h.RW},Q.clipExtent=function(he){return arguments.length?(fe=he==null?(Z=q=J=te=null,y.Z):(0,n.Z)(Z=+he[0][0],q=+he[0][1],J=+he[1][0],te=+he[1][1]),oe()):Z==null?null:[[Z,q],[J,te]]},Q.scale=function(he){return arguments.length?(x=+he,le()):x},Q.translate=function(he){return arguments.length?(E=+he[0],T=+he[1],le()):[E,T]},Q.center=function(he){return arguments.length?(i=he[0]%360*h.uR,R=he[1]%360*h.uR,le()):[i*h.RW,R*h.RW]},Q.rotate=function(he){return arguments.length?(A=he[0]%360*h.uR,k=he[1]%360*h.uR,_=he.length>2?he[2]%360*h.uR:0,le()):[A*h.RW,k*h.RW,_*h.RW]},Q.angle=function(he){return arguments.length?(z=he%360*h.uR,le()):z*h.RW},Q.reflectX=function(he){return arguments.length?(N=he?-1:1,le()):N<0},Q.reflectY=function(he){return arguments.length?(O=he?-1:1,le()):O<0},Q.precision=function(he){return arguments.length?(Y=c(W,K=he*he),oe()):(0,h._b)(K)},Q.fitExtent=function(he,xe){return(0,r.qg)(Q,he,xe)},Q.fitSize=function(he,xe){return(0,r.mF)(Q,he,xe)},Q.fitWidth=function(he,xe){return(0,r.V6)(Q,he,xe)},Q.fitHeight=function(he,xe){return(0,r.rf)(Q,he,xe)};function le(){var he=o(x,0,0,N,O,z).apply(null,P(i,R)),xe=(z?o:v)(x,E-he[0],T-he[1],N,O,z);return H=(0,g.I)(A,k,_),W=(0,C.Z)(P,xe),X=(0,C.Z)(H,W),Y=c(W,K),oe()}function oe(){return re=se=null,Q}return function(){return P=M.apply(this,arguments),Q.invert=P.invert&&ee,le()}}},26867:function(V,B,e){e.d(B,{K:function(){return n},Z:function(){return C}});var p=e(15002),L=e(39695);function n(y,h){var g=h*h,t=g*g;return[y*(.8707-.131979*g+t*(-.013791+t*(.003971*g-.001529*t))),h*(1.007226+g*(.015085+t*(-.044475+.028874*g-.005916*t)))]}n.invert=function(y,h){var g=h,t=25,r;do{var l=g*g,a=l*l;g-=r=(g*(1.007226+l*(.015085+a*(-.044475+.028874*l-.005916*a)))-h)/(1.007226+l*(.045255+a*(-.311325+.259866*l-.06507600000000001*a)))}while((0,L.Wn)(r)>L.Ho&&--t>0);return[y/(.8707+(l=g*g)*(-.131979+l*(-.013791+l*l*l*(.003971-.001529*l)))),g]};function C(){return(0,p.Z)(n).scale(175.295)}},57962:function(V,B,e){e.d(B,{I:function(){return C},Z:function(){return y}});var p=e(39695),L=e(25382),n=e(15002);function C(h,g){return[(0,p.mC)(g)*(0,p.O$)(h),(0,p.O$)(g)]}C.invert=(0,L.O)(p.ZR);function y(){return(0,n.Z)(C).scale(249.5).clipAngle(90+p.Ho)}},49386:function(V,B,e){e.d(B,{I:function(){return C},Z:function(){return t}});var p=e(96059),L=e(39695);function n(r,l){return[(0,L.Wn)(r)>L.pi?r+Math.round(-r/L.BZ)*L.BZ:r,l]}n.invert=n;function C(r,l,a){return(r%=L.BZ)?l||a?(0,p.Z)(h(r),g(l,a)):h(r):l||a?g(l,a):n}function y(r){return function(l,a){return l+=r,[l>L.pi?l-L.BZ:l<-L.pi?l+L.BZ:l,a]}}function h(r){var l=y(r);return l.invert=y(-r),l}function g(r,l){var a=(0,L.mC)(r),s=(0,L.O$)(r),c=(0,L.mC)(l),u=(0,L.O$)(l);function b(f,w){var v=(0,L.mC)(w),o=(0,L.mC)(f)*v,d=(0,L.O$)(f)*v,S=(0,L.O$)(w),M=S*a+o*s;return[(0,L.fv)(d*c-M*u,o*a-S*s),(0,L.ZR)(M*c+d*u)]}return b.invert=function(f,w){var v=(0,L.mC)(w),o=(0,L.mC)(f)*v,d=(0,L.O$)(f)*v,S=(0,L.O$)(w),M=S*c-d*u;return[(0,L.fv)(d*c+S*u,o*a+M*s),(0,L.ZR)(M*a-o*s)]},b}function t(r){r=C(r[0]*L.uR,r[1]*L.uR,r.length>2?r[2]*L.uR:0);function l(a){return a=r(a[0]*L.uR,a[1]*L.uR),a[0]*=L.RW,a[1]*=L.RW,a}return l.invert=function(a){return a=r.invert(a[0]*L.uR,a[1]*L.uR),a[0]*=L.RW,a[1]*=L.RW,a},l}},72736:function(V,B,e){e.d(B,{Z:function(){return h}});function p(g,t){g&&n.hasOwnProperty(g.type)&&n[g.type](g,t)}var L={Feature:function(g,t){p(g.geometry,t)},FeatureCollection:function(g,t){for(var r=g.features,l=-1,a=r.length;++l<a;)p(r[l].geometry,t)}},n={Sphere:function(g,t){t.sphere()},Point:function(g,t){g=g.coordinates,t.point(g[0],g[1],g[2])},MultiPoint:function(g,t){for(var r=g.coordinates,l=-1,a=r.length;++l<a;)g=r[l],t.point(g[0],g[1],g[2])},LineString:function(g,t){C(g.coordinates,t,0)},MultiLineString:function(g,t){for(var r=g.coordinates,l=-1,a=r.length;++l<a;)C(r[l],t,0)},Polygon:function(g,t){y(g.coordinates,t)},MultiPolygon:function(g,t){for(var r=g.coordinates,l=-1,a=r.length;++l<a;)y(r[l],t)},GeometryCollection:function(g,t){for(var r=g.geometries,l=-1,a=r.length;++l<a;)p(r[l],t)}};function C(g,t,r){var l=-1,a=g.length-r,s;for(t.lineStart();++l<a;)s=g[l],t.point(s[0],s[1],s[2]);t.lineEnd()}function y(g,t){var r=-1,l=g.length;for(t.polygonStart();++r<l;)C(g[r],t,1);t.polygonEnd()}function h(g,t){g&&L.hasOwnProperty(g.type)?L[g.type](g,t):p(g,t)}},64684:function(V,B,e){e.d(B,{Z:function(){return p},l:function(){return L}});function p(C){return{stream:L(C)}}function L(C){return function(y){var h=new n;for(var g in C)h[g]=C[g];return h.stream=y,h}}function n(){}n.prototype={constructor:n,point:function(C,y){this.stream.point(C,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(V,B,e){e.r(B),e.d(B,{cluster:function(){return t},hierarchy:function(){return M},pack:function(){return ee},packEnclose:function(){return k},packSiblings:function(){return Y},partition:function(){return Se},stratify:function(){return Ge},tree:function(){return dt},treemap:function(){return je},treemapBinary:function(){return _e},treemapDice:function(){return Ae},treemapResquarify:function(){return Be},treemapSlice:function(){return gt},treemapSliceDice:function(){return Fe},treemapSquarify:function(){return Wt}});function p(De,we){return De.parent===we.parent?1:2}function L(De){return De.reduce(n,0)/De.length}function n(De,we){return De+we.x}function C(De){return 1+De.reduce(y,0)}function y(De,we){return Math.max(De,we.y)}function h(De){for(var we;we=De.children;)De=we[0];return De}function g(De){for(var we;we=De.children;)De=we[we.length-1];return De}function t(){var De=p,we=1,ue=1,me=!1;function Re(Ne){var it,ot=0;Ne.eachAfter(function(Et){var $t=Et.children;$t?(Et.x=L($t),Et.y=C($t)):(Et.x=it?ot+=De(Et,it):0,Et.y=0,it=Et)});var wt=h(Ne),Ft=g(Ne),Ut=wt.x-De(wt,Ft)/2,Gt=Ft.x+De(Ft,wt)/2;return Ne.eachAfter(me?function(Et){Et.x=(Et.x-Ne.x)*we,Et.y=(Ne.y-Et.y)*ue}:function(Et){Et.x=(Et.x-Ut)/(Gt-Ut)*we,Et.y=(1-(Ne.y?Et.y/Ne.y:1))*ue})}return Re.separation=function(Ne){return arguments.length?(De=Ne,Re):De},Re.size=function(Ne){return arguments.length?(me=!1,we=+Ne[0],ue=+Ne[1],Re):me?null:[we,ue]},Re.nodeSize=function(Ne){return arguments.length?(me=!0,we=+Ne[0],ue=+Ne[1],Re):me?[we,ue]:null},Re}function r(De){var we=0,ue=De.children,me=ue&&ue.length;if(!me)we=1;else for(;--me>=0;)we+=ue[me].value;De.value=we}function l(){return this.eachAfter(r)}function a(De){var we=this,ue,me=[we],Re,Ne,it;do for(ue=me.reverse(),me=[];we=ue.pop();)if(De(we),Re=we.children,Re)for(Ne=0,it=Re.length;Ne<it;++Ne)me.push(Re[Ne]);while(me.length);return this}function s(De){for(var we=this,ue=[we],me,Re;we=ue.pop();)if(De(we),me=we.children,me)for(Re=me.length-1;Re>=0;--Re)ue.push(me[Re]);return this}function c(De){for(var we=this,ue=[we],me=[],Re,Ne,it;we=ue.pop();)if(me.push(we),Re=we.children,Re)for(Ne=0,it=Re.length;Ne<it;++Ne)ue.push(Re[Ne]);for(;we=me.pop();)De(we);return this}function u(De){return this.eachAfter(function(we){for(var ue=+De(we.data)||0,me=we.children,Re=me&&me.length;--Re>=0;)ue+=me[Re].value;we.value=ue})}function b(De){return this.eachBefore(function(we){we.children&&we.children.sort(De)})}function f(De){for(var we=this,ue=w(we,De),me=[we];we!==ue;)we=we.parent,me.push(we);for(var Re=me.length;De!==ue;)me.splice(Re,0,De),De=De.parent;return me}function w(De,we){if(De===we)return De;var ue=De.ancestors(),me=we.ancestors(),Re=null;for(De=ue.pop(),we=me.pop();De===we;)Re=De,De=ue.pop(),we=me.pop();return Re}function v(){for(var De=this,we=[De];De=De.parent;)we.push(De);return we}function o(){var De=[];return this.each(function(we){De.push(we)}),De}function d(){var De=[];return this.eachBefore(function(we){we.children||De.push(we)}),De}function S(){var De=this,we=[];return De.each(function(ue){ue!==De&&we.push({source:ue.parent,target:ue})}),we}function M(De,we){var ue=new i(De),me=+De.value&&(ue.value=De.value),Re,Ne=[ue],it,ot,wt,Ft;for(we==null&&(we=x);Re=Ne.pop();)if(me&&(Re.value=+Re.data.value),(ot=we(Re.data))&&(Ft=ot.length))for(Re.children=new Array(Ft),wt=Ft-1;wt>=0;--wt)Ne.push(it=Re.children[wt]=new i(ot[wt])),it.parent=Re,it.depth=Re.depth+1;return ue.eachBefore(T)}function P(){return M(this).eachBefore(E)}function x(De){return De.children}function E(De){De.data=De.data.data}function T(De){var we=0;do De.height=we;while((De=De.parent)&&De.height<++we)}function i(De){this.data=De,this.depth=this.height=0,this.parent=null}i.prototype=M.prototype={constructor:i,count:l,each:a,eachAfter:c,eachBefore:s,sum:u,sort:b,path:f,ancestors:v,descendants:o,leaves:d,links:S,copy:P};var R=Array.prototype.slice;function A(De){for(var we=De.length,ue,me;we;)me=Math.random()*we--|0,ue=De[we],De[we]=De[me],De[me]=ue;return De}function k(De){for(var we=0,ue=(De=A(R.call(De))).length,me=[],Re,Ne;we<ue;)Re=De[we],Ne&&z(Ne,Re)?++we:(Ne=O(me=_(me,Re)),we=0);return Ne}function _(De,we){var ue,me;if(N(we,De))return[we];for(ue=0;ue<De.length;++ue)if(H(we,De[ue])&&N(U(De[ue],we),De))return[De[ue],we];for(ue=0;ue<De.length-1;++ue)for(me=ue+1;me<De.length;++me)if(H(U(De[ue],De[me]),we)&&H(U(De[ue],we),De[me])&&H(U(De[me],we),De[ue])&&N(Z(De[ue],De[me],we),De))return[De[ue],De[me],we];throw new Error}function H(De,we){var ue=De.r-we.r,me=we.x-De.x,Re=we.y-De.y;return ue<0||ue*ue<me*me+Re*Re}function z(De,we){var ue=De.r-we.r+1e-6,me=we.x-De.x,Re=we.y-De.y;return ue>0&&ue*ue>me*me+Re*Re}function N(De,we){for(var ue=0;ue<we.length;++ue)if(!z(De,we[ue]))return!1;return!0}function O(De){switch(De.length){case 1:return F(De[0]);case 2:return U(De[0],De[1]);case 3:return Z(De[0],De[1],De[2])}}function F(De){return{x:De.x,y:De.y,r:De.r}}function U(De,we){var ue=De.x,me=De.y,Re=De.r,Ne=we.x,it=we.y,ot=we.r,wt=Ne-ue,Ft=it-me,Ut=ot-Re,Gt=Math.sqrt(wt*wt+Ft*Ft);return{x:(ue+Ne+wt/Gt*Ut)/2,y:(me+it+Ft/Gt*Ut)/2,r:(Gt+Re+ot)/2}}function Z(De,we,ue){var me=De.x,Re=De.y,Ne=De.r,it=we.x,ot=we.y,wt=we.r,Ft=ue.x,Ut=ue.y,Gt=ue.r,Et=me-it,$t=me-Ft,lr=Re-ot,Fr=Re-Ut,yt=wt-Ne,Kt=Gt-Ne,Zt=me*me+Re*Re-Ne*Ne,Ar=Zt-it*it-ot*ot+wt*wt,vr=Zt-Ft*Ft-Ut*Ut+Gt*Gt,ut=$t*lr-Et*Fr,lt=(lr*vr-Fr*Ar)/(ut*2)-me,xt=(Fr*yt-lr*Kt)/ut,Tt=($t*Ar-Et*vr)/(ut*2)-Re,Ct=(Et*Kt-$t*yt)/ut,At=xt*xt+Ct*Ct-1,zt=2*(Ne+lt*xt+Tt*Ct),Ht=lt*lt+Tt*Tt-Ne*Ne,qt=-(At?(zt+Math.sqrt(zt*zt-4*At*Ht))/(2*At):Ht/zt);return{x:me+lt+xt*qt,y:Re+Tt+Ct*qt,r:qt}}function q(De,we,ue){var me=De.x-we.x,Re,Ne,it=De.y-we.y,ot,wt,Ft=me*me+it*it;Ft?(Ne=we.r+ue.r,Ne*=Ne,wt=De.r+ue.r,wt*=wt,Ne>wt?(Re=(Ft+wt-Ne)/(2*Ft),ot=Math.sqrt(Math.max(0,wt/Ft-Re*Re)),ue.x=De.x-Re*me-ot*it,ue.y=De.y-Re*it+ot*me):(Re=(Ft+Ne-wt)/(2*Ft),ot=Math.sqrt(Math.max(0,Ne/Ft-Re*Re)),ue.x=we.x+Re*me-ot*it,ue.y=we.y+Re*it+ot*me)):(ue.x=we.x+ue.r,ue.y=we.y)}function J(De,we){var ue=De.r+we.r-1e-6,me=we.x-De.x,Re=we.y-De.y;return ue>0&&ue*ue>me*me+Re*Re}function te(De){var we=De._,ue=De.next._,me=we.r+ue.r,Re=(we.x*ue.r+ue.x*we.r)/me,Ne=(we.y*ue.r+ue.y*we.r)/me;return Re*Re+Ne*Ne}function fe(De){this._=De,this.next=null,this.previous=null}function K(De){if(!(Re=De.length))return 0;var we,ue,me,Re,Ne,it,ot,wt,Ft,Ut,Gt;if(we=De[0],we.x=0,we.y=0,!(Re>1))return we.r;if(ue=De[1],we.x=-ue.r,ue.x=we.r,ue.y=0,!(Re>2))return we.r+ue.r;q(ue,we,me=De[2]),we=new fe(we),ue=new fe(ue),me=new fe(me),we.next=me.previous=ue,ue.next=we.previous=me,me.next=ue.previous=we;e:for(ot=3;ot<Re;++ot){q(we._,ue._,me=De[ot]),me=new fe(me),wt=ue.next,Ft=we.previous,Ut=ue._.r,Gt=we._.r;do if(Ut<=Gt){if(J(wt._,me._)){ue=wt,we.next=ue,ue.previous=we,--ot;continue e}Ut+=wt._.r,wt=wt.next}else{if(J(Ft._,me._)){we=Ft,we.next=ue,ue.previous=we,--ot;continue e}Gt+=Ft._.r,Ft=Ft.previous}while(wt!==Ft.next);for(me.previous=we,me.next=ue,we.next=ue.previous=ue=me,Ne=te(we);(me=me.next)!==ue;)(it=te(me))<Ne&&(we=me,Ne=it);ue=we.next}for(we=[ue._],me=ue;(me=me.next)!==ue;)we.push(me._);for(me=k(we),ot=0;ot<Re;++ot)we=De[ot],we.x-=me.x,we.y-=me.y;return me.r}function Y(De){return K(De),De}function W(De){return De==null?null:X(De)}function X(De){if(typeof De!="function")throw new Error;return De}function re(){return 0}function se(De){return function(){return De}}function Q(De){return Math.sqrt(De.value)}function ee(){var De=null,we=1,ue=1,me=re;function Re(Ne){return Ne.x=we/2,Ne.y=ue/2,De?Ne.eachBefore(le(De)).eachAfter(oe(me,.5)).eachBefore(he(1)):Ne.eachBefore(le(Q)).eachAfter(oe(re,1)).eachAfter(oe(me,Ne.r/Math.min(we,ue))).eachBefore(he(Math.min(we,ue)/(2*Ne.r))),Ne}return Re.radius=function(Ne){return arguments.length?(De=W(Ne),Re):De},Re.size=function(Ne){return arguments.length?(we=+Ne[0],ue=+Ne[1],Re):[we,ue]},Re.padding=function(Ne){return arguments.length?(me=typeof Ne=="function"?Ne:se(+Ne),Re):me},Re}function le(De){return function(we){we.children||(we.r=Math.max(0,+De(we)||0))}}function oe(De,we){return function(ue){if(me=ue.children){var me,Re,Ne=me.length,it=De(ue)*we||0,ot;if(it)for(Re=0;Re<Ne;++Re)me[Re].r+=it;if(ot=K(me),it)for(Re=0;Re<Ne;++Re)me[Re].r-=it;ue.r=ot+it}}}function he(De){return function(we){var ue=we.parent;we.r*=De,ue&&(we.x=ue.x+De*we.x,we.y=ue.y+De*we.y)}}function xe(De){De.x0=Math.round(De.x0),De.y0=Math.round(De.y0),De.x1=Math.round(De.x1),De.y1=Math.round(De.y1)}function Ae(De,we,ue,me,Re){for(var Ne=De.children,it,ot=-1,wt=Ne.length,Ft=De.value&&(me-we)/De.value;++ot<wt;)it=Ne[ot],it.y0=ue,it.y1=Re,it.x0=we,it.x1=we+=it.value*Ft}function Se(){var De=1,we=1,ue=0,me=!1;function Re(it){var ot=it.height+1;return it.x0=it.y0=ue,it.x1=De,it.y1=we/ot,it.eachBefore(Ne(we,ot)),me&&it.eachBefore(xe),it}function Ne(it,ot){return function(wt){wt.children&&Ae(wt,wt.x0,it*(wt.depth+1)/ot,wt.x1,it*(wt.depth+2)/ot);var Ft=wt.x0,Ut=wt.y0,Gt=wt.x1-ue,Et=wt.y1-ue;Gt<Ft&&(Ft=Gt=(Ft+Gt)/2),Et<Ut&&(Ut=Et=(Ut+Et)/2),wt.x0=Ft,wt.y0=Ut,wt.x1=Gt,wt.y1=Et}}return Re.round=function(it){return arguments.length?(me=!!it,Re):me},Re.size=function(it){return arguments.length?(De=+it[0],we=+it[1],Re):[De,we]},Re.padding=function(it){return arguments.length?(ue=+it,Re):ue},Re}var Oe="$",Ve={depth:-1},Ee={};function Te(De){return De.id}function Le(De){return De.parentId}function Ge(){var De=Te,we=Le;function ue(me){var Re,Ne,it=me.length,ot,wt,Ft,Ut=new Array(it),Gt,Et,$t={};for(Ne=0;Ne<it;++Ne)Re=me[Ne],Ft=Ut[Ne]=new i(Re),(Gt=De(Re,Ne,me))!=null&&(Gt+="")&&(Et=Oe+(Ft.id=Gt),$t[Et]=Et in $t?Ee:Ft);for(Ne=0;Ne<it;++Ne)if(Ft=Ut[Ne],Gt=we(me[Ne],Ne,me),Gt==null||!(Gt+="")){if(ot)throw new Error("multiple roots");ot=Ft}else{if(wt=$t[Oe+Gt],!wt)throw new Error("missing: "+Gt);if(wt===Ee)throw new Error("ambiguous: "+Gt);wt.children?wt.children.push(Ft):wt.children=[Ft],Ft.parent=wt}if(!ot)throw new Error("no root");if(ot.parent=Ve,ot.eachBefore(function(lr){lr.depth=lr.parent.depth+1,--it}).eachBefore(T),ot.parent=null,it>0)throw new Error("cycle");return ot}return ue.id=function(me){return arguments.length?(De=X(me),ue):De},ue.parentId=function(me){return arguments.length?(we=X(me),ue):we},ue}function He(De,we){return De.parent===we.parent?1:2}function ke(De){var we=De.children;return we?we[0]:De.t}function We(De){var we=De.children;return we?we[we.length-1]:De.t}function nt(De,we,ue){var me=ue/(we.i-De.i);we.c-=me,we.s+=ue,De.c+=me,we.z+=ue,we.m+=ue}function qe(De){for(var we=0,ue=0,me=De.children,Re=me.length,Ne;--Re>=0;)Ne=me[Re],Ne.z+=we,Ne.m+=we,we+=Ne.s+(ue+=Ne.c)}function Qe(De,we,ue){return De.a.parent===we.parent?De.a:ue}function tt(De,we){this._=De,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=we}tt.prototype=Object.create(i.prototype);function vt(De){for(var we=new tt(De,0),ue,me=[we],Re,Ne,it,ot;ue=me.pop();)if(Ne=ue._.children)for(ue.children=new Array(ot=Ne.length),it=ot-1;it>=0;--it)me.push(Re=ue.children[it]=new tt(Ne[it],it)),Re.parent=ue;return(we.parent=new tt(null,0)).children=[we],we}function dt(){var De=He,we=1,ue=1,me=null;function Re(Ft){var Ut=vt(Ft);if(Ut.eachAfter(Ne),Ut.parent.m=-Ut.z,Ut.eachBefore(it),me)Ft.eachBefore(wt);else{var Gt=Ft,Et=Ft,$t=Ft;Ft.eachBefore(function(Zt){Zt.x<Gt.x&&(Gt=Zt),Zt.x>Et.x&&(Et=Zt),Zt.depth>$t.depth&&($t=Zt)});var lr=Gt===Et?1:De(Gt,Et)/2,Fr=lr-Gt.x,yt=we/(Et.x+lr+Fr),Kt=ue/($t.depth||1);Ft.eachBefore(function(Zt){Zt.x=(Zt.x+Fr)*yt,Zt.y=Zt.depth*Kt})}return Ft}function Ne(Ft){var Ut=Ft.children,Gt=Ft.parent.children,Et=Ft.i?Gt[Ft.i-1]:null;if(Ut){qe(Ft);var $t=(Ut[0].z+Ut[Ut.length-1].z)/2;Et?(Ft.z=Et.z+De(Ft._,Et._),Ft.m=Ft.z-$t):Ft.z=$t}else Et&&(Ft.z=Et.z+De(Ft._,Et._));Ft.parent.A=ot(Ft,Et,Ft.parent.A||Gt[0])}function it(Ft){Ft._.x=Ft.z+Ft.parent.m,Ft.m+=Ft.parent.m}function ot(Ft,Ut,Gt){if(Ut){for(var Et=Ft,$t=Ft,lr=Ut,Fr=Et.parent.children[0],yt=Et.m,Kt=$t.m,Zt=lr.m,Ar=Fr.m,vr;lr=We(lr),Et=ke(Et),lr&&Et;)Fr=ke(Fr),$t=We($t),$t.a=Ft,vr=lr.z+Zt-Et.z-yt+De(lr._,Et._),vr>0&&(nt(Qe(lr,Ft,Gt),Ft,vr),yt+=vr,Kt+=vr),Zt+=lr.m,yt+=Et.m,Ar+=Fr.m,Kt+=$t.m;lr&&!We($t)&&($t.t=lr,$t.m+=Zt-Kt),Et&&!ke(Fr)&&(Fr.t=Et,Fr.m+=yt-Ar,Gt=Ft)}return Gt}function wt(Ft){Ft.x*=we,Ft.y=Ft.depth*ue}return Re.separation=function(Ft){return arguments.length?(De=Ft,Re):De},Re.size=function(Ft){return arguments.length?(me=!1,we=+Ft[0],ue=+Ft[1],Re):me?null:[we,ue]},Re.nodeSize=function(Ft){return arguments.length?(me=!0,we=+Ft[0],ue=+Ft[1],Re):me?[we,ue]:null},Re}function gt(De,we,ue,me,Re){for(var Ne=De.children,it,ot=-1,wt=Ne.length,Ft=De.value&&(Re-ue)/De.value;++ot<wt;)it=Ne[ot],it.x0=we,it.x1=me,it.y0=ue,it.y1=ue+=it.value*Ft}var Mt=(1+Math.sqrt(5))/2;function Rt(De,we,ue,me,Re,Ne){for(var it=[],ot=we.children,wt,Ft,Ut=0,Gt=0,Et=ot.length,$t,lr,Fr=we.value,yt,Kt,Zt,Ar,vr,ut,lt;Ut<Et;){$t=Re-ue,lr=Ne-me;do yt=ot[Gt++].value;while(!yt&&Gt<Et);for(Kt=Zt=yt,ut=Math.max(lr/$t,$t/lr)/(Fr*De),lt=yt*yt*ut,vr=Math.max(Zt/lt,lt/Kt);Gt<Et;++Gt){if(yt+=Ft=ot[Gt].value,Ft<Kt&&(Kt=Ft),Ft>Zt&&(Zt=Ft),lt=yt*yt*ut,Ar=Math.max(Zt/lt,lt/Kt),Ar>vr){yt-=Ft;break}vr=Ar}it.push(wt={value:yt,dice:$t<lr,children:ot.slice(Ut,Gt)}),wt.dice?Ae(wt,ue,me,Re,Fr?me+=lr*yt/Fr:Ne):gt(wt,ue,me,Fr?ue+=$t*yt/Fr:Re,Ne),Fr-=yt,Ut=Gt}return it}var Wt=function De(we){function ue(me,Re,Ne,it,ot){Rt(we,me,Re,Ne,it,ot)}return ue.ratio=function(me){return De((me=+me)>1?me:1)},ue}(Mt);function je(){var De=Wt,we=!1,ue=1,me=1,Re=[0],Ne=re,it=re,ot=re,wt=re,Ft=re;function Ut(Et){return Et.x0=Et.y0=0,Et.x1=ue,Et.y1=me,Et.eachBefore(Gt),Re=[0],we&&Et.eachBefore(xe),Et}function Gt(Et){var $t=Re[Et.depth],lr=Et.x0+$t,Fr=Et.y0+$t,yt=Et.x1-$t,Kt=Et.y1-$t;yt<lr&&(lr=yt=(lr+yt)/2),Kt<Fr&&(Fr=Kt=(Fr+Kt)/2),Et.x0=lr,Et.y0=Fr,Et.x1=yt,Et.y1=Kt,Et.children&&($t=Re[Et.depth+1]=Ne(Et)/2,lr+=Ft(Et)-$t,Fr+=it(Et)-$t,yt-=ot(Et)-$t,Kt-=wt(Et)-$t,yt<lr&&(lr=yt=(lr+yt)/2),Kt<Fr&&(Fr=Kt=(Fr+Kt)/2),De(Et,lr,Fr,yt,Kt))}return Ut.round=function(Et){return arguments.length?(we=!!Et,Ut):we},Ut.size=function(Et){return arguments.length?(ue=+Et[0],me=+Et[1],Ut):[ue,me]},Ut.tile=function(Et){return arguments.length?(De=X(Et),Ut):De},Ut.padding=function(Et){return arguments.length?Ut.paddingInner(Et).paddingOuter(Et):Ut.paddingInner()},Ut.paddingInner=function(Et){return arguments.length?(Ne=typeof Et=="function"?Et:se(+Et),Ut):Ne},Ut.paddingOuter=function(Et){return arguments.length?Ut.paddingTop(Et).paddingRight(Et).paddingBottom(Et).paddingLeft(Et):Ut.paddingTop()},Ut.paddingTop=function(Et){return arguments.length?(it=typeof Et=="function"?Et:se(+Et),Ut):it},Ut.paddingRight=function(Et){return arguments.length?(ot=typeof Et=="function"?Et:se(+Et),Ut):ot},Ut.paddingBottom=function(Et){return arguments.length?(wt=typeof Et=="function"?Et:se(+Et),Ut):wt},Ut.paddingLeft=function(Et){return arguments.length?(Ft=typeof Et=="function"?Et:se(+Et),Ut):Ft},Ut}function _e(De,we,ue,me,Re){var Ne=De.children,it,ot=Ne.length,wt,Ft=new Array(ot+1);for(Ft[0]=wt=it=0;it<ot;++it)Ft[it+1]=wt+=Ne[it].value;Ut(0,ot,De.value,we,ue,me,Re);function Ut(Gt,Et,$t,lr,Fr,yt,Kt){if(Gt>=Et-1){var Zt=Ne[Gt];Zt.x0=lr,Zt.y0=Fr,Zt.x1=yt,Zt.y1=Kt;return}for(var Ar=Ft[Gt],vr=$t/2+Ar,ut=Gt+1,lt=Et-1;ut<lt;){var xt=ut+lt>>>1;Ft[xt]<vr?ut=xt+1:lt=xt}vr-Ft[ut-1]<Ft[ut]-vr&&Gt+1<ut&&--ut;var Tt=Ft[ut]-Ar,Ct=$t-Tt;if(yt-lr>Kt-Fr){var At=(lr*Ct+yt*Tt)/$t;Ut(Gt,ut,Tt,lr,Fr,At,Kt),Ut(ut,Et,Ct,At,Fr,yt,Kt)}else{var zt=(Fr*Ct+Kt*Tt)/$t;Ut(Gt,ut,Tt,lr,Fr,yt,zt),Ut(ut,Et,Ct,lr,zt,yt,Kt)}}}function Fe(De,we,ue,me,Re){(De.depth&1?gt:Ae)(De,we,ue,me,Re)}var Be=function De(we){function ue(me,Re,Ne,it,ot){if((wt=me._squarify)&&wt.ratio===we)for(var wt,Ft,Ut,Gt,Et=-1,$t,lr=wt.length,Fr=me.value;++Et<lr;){for(Ft=wt[Et],Ut=Ft.children,Gt=Ft.value=0,$t=Ut.length;Gt<$t;++Gt)Ft.value+=Ut[Gt].value;Ft.dice?Ae(Ft,Re,Ne,it,Ne+=(ot-Ne)*Ft.value/Fr):gt(Ft,Re,Ne,Re+=(it-Re)*Ft.value/Fr,ot),Fr-=Ft.value}else me._squarify=wt=Rt(we,me,Re,Ne,it,ot),wt.ratio=we}return ue.ratio=function(me){return De((me=+me)>1?me:1)},ue}(Mt)},45879:function(V,B,e){e.d(B,{h5:function(){return f}});var p=Math.PI,L=2*p,n=1e-6,C=L-n;function y(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function h(){return new y}y.prototype=h.prototype={constructor:y,moveTo:function(w,v){this._+="M"+(this._x0=this._x1=+w)+","+(this._y0=this._y1=+v)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(w,v){this._+="L"+(this._x1=+w)+","+(this._y1=+v)},quadraticCurveTo:function(w,v,o,d){this._+="Q"+ +w+","+ +v+","+(this._x1=+o)+","+(this._y1=+d)},bezierCurveTo:function(w,v,o,d,S,M){this._+="C"+ +w+","+ +v+","+ +o+","+ +d+","+(this._x1=+S)+","+(this._y1=+M)},arcTo:function(w,v,o,d,S){w=+w,v=+v,o=+o,d=+d,S=+S;var M=this._x1,P=this._y1,x=o-w,E=d-v,T=M-w,i=P-v,R=T*T+i*i;if(S<0)throw new Error("negative radius: "+S);if(this._x1===null)this._+="M"+(this._x1=w)+","+(this._y1=v);else if(R>n)if(!(Math.abs(i*x-E*T)>n)||!S)this._+="L"+(this._x1=w)+","+(this._y1=v);else{var A=o-M,k=d-P,_=x*x+E*E,H=A*A+k*k,z=Math.sqrt(_),N=Math.sqrt(R),O=S*Math.tan((p-Math.acos((_+R-H)/(2*z*N)))/2),F=O/N,U=O/z;Math.abs(F-1)>n&&(this._+="L"+(w+F*T)+","+(v+F*i)),this._+="A"+S+","+S+",0,0,"+ +(i*A>T*k)+","+(this._x1=w+U*x)+","+(this._y1=v+U*E)}},arc:function(w,v,o,d,S,M){w=+w,v=+v,o=+o,M=!!M;var P=o*Math.cos(d),x=o*Math.sin(d),E=w+P,T=v+x,i=1^M,R=M?d-S:S-d;if(o<0)throw new Error("negative radius: "+o);this._x1===null?this._+="M"+E+","+T:(Math.abs(this._x1-E)>n||Math.abs(this._y1-T)>n)&&(this._+="L"+E+","+T),o&&(R<0&&(R=R%L+L),R>C?this._+="A"+o+","+o+",0,1,"+i+","+(w-P)+","+(v-x)+"A"+o+","+o+",0,1,"+i+","+(this._x1=E)+","+(this._y1=T):R>n&&(this._+="A"+o+","+o+",0,"+ +(R>=p)+","+i+","+(this._x1=w+o*Math.cos(S))+","+(this._y1=v+o*Math.sin(S))))},rect:function(w,v,o,d){this._+="M"+(this._x0=this._x1=+w)+","+(this._y0=this._y1=+v)+"h"+ +o+"v"+ +d+"h"+-o+"Z"},toString:function(){return this._}};var g=h,t=Array.prototype.slice;function r(w){return function(){return w}}function l(w){return w[0]}function a(w){return w[1]}function s(w){return w.source}function c(w){return w.target}function u(w){var v=s,o=c,d=l,S=a,M=null;function P(){var x,E=t.call(arguments),T=v.apply(this,E),i=o.apply(this,E);if(M||(M=x=g()),w(M,+d.apply(this,(E[0]=T,E)),+S.apply(this,E),+d.apply(this,(E[0]=i,E)),+S.apply(this,E)),x)return M=null,x+""||null}return P.source=function(x){return arguments.length?(v=x,P):v},P.target=function(x){return arguments.length?(o=x,P):o},P.x=function(x){return arguments.length?(d=typeof x=="function"?x:r(+x),P):d},P.y=function(x){return arguments.length?(S=typeof x=="function"?x:r(+x),P):S},P.context=function(x){return arguments.length?(M=x??null,P):M},P}function b(w,v,o,d,S){w.moveTo(v,o),w.bezierCurveTo(v=(v+d)/2,o,v,S,d,S)}function f(){return u(b)}},84096:function(V,B,e){e.d(B,{i$:function(){return _e},Dq:function(){return l},g0:function(){return Fe}});var p=e(58176),L=e(48480),n=e(59879),C=e(82301),y=e(34823),h=e(79791);function g(De){if(0<=De.y&&De.y<100){var we=new Date(-1,De.m,De.d,De.H,De.M,De.S,De.L);return we.setFullYear(De.y),we}return new Date(De.y,De.m,De.d,De.H,De.M,De.S,De.L)}function t(De){if(0<=De.y&&De.y<100){var we=new Date(Date.UTC(-1,De.m,De.d,De.H,De.M,De.S,De.L));return we.setUTCFullYear(De.y),we}return new Date(Date.UTC(De.y,De.m,De.d,De.H,De.M,De.S,De.L))}function r(De,we,ue){return{y:De,m:we,d:ue,H:0,M:0,S:0,L:0}}function l(De){var we=De.dateTime,ue=De.date,me=De.time,Re=De.periods,Ne=De.days,it=De.shortDays,ot=De.months,wt=De.shortMonths,Ft=w(Re),Ut=v(Re),Gt=w(Ne),Et=v(Ne),$t=w(it),lr=v(it),Fr=w(ot),yt=v(ot),Kt=w(wt),Zt=v(wt),Ar={a:Ze,A:Ye,b:It,B:kt,c:null,d:q,e:q,f:Y,H:J,I:te,j:fe,L:K,m:W,M:X,p:Xt,q:ir,Q:Rt,s:Wt,S:re,u:se,U:Q,V:ee,w:le,W:oe,x:null,X:null,y:he,Y:xe,Z:Ae,"%":Mt},vr={a:ur,A:nr,b:Nt,B:hr,c:null,d:Se,e:Se,f:Le,H:Oe,I:Ve,j:Ee,L:Te,m:Ge,M:He,p:pr,q:gr,Q:Rt,s:Wt,S:ke,u:We,U:nt,V:qe,w:Qe,W:tt,x:null,X:null,y:vt,Y:dt,Z:gt,"%":Mt},ut={a:At,A:zt,b:Ht,B:qt,c:Qt,d:A,e:A,f:O,H:_,I:_,j:k,L:N,m:R,M:H,p:Ct,q:i,Q:U,s:Z,S:z,u:d,U:S,V:M,w:o,W:P,x:or,X:Lr,y:E,Y:x,Z:T,"%":F};Ar.x=lt(ue,Ar),Ar.X=lt(me,Ar),Ar.c=lt(we,Ar),vr.x=lt(ue,vr),vr.X=lt(me,vr),vr.c=lt(we,vr);function lt(dr,Xr){return function(Br){var Or=[],mn=-1,Jr=0,_n=dr.length,kn,br,wr;for(Br instanceof Date||(Br=new Date(+Br));++mn<_n;)dr.charCodeAt(mn)===37&&(Or.push(dr.slice(Jr,mn)),(br=a[kn=dr.charAt(++mn)])!=null?kn=dr.charAt(++mn):br=kn==="e"?" ":"0",(wr=Xr[kn])&&(kn=wr(Br,br)),Or.push(kn),Jr=mn+1);return Or.push(dr.slice(Jr,mn)),Or.join("")}}function xt(dr,Xr){return function(Br){var Or=r(1900,void 0,1),mn=Tt(Or,dr,Br+="",0),Jr,_n;if(mn!=Br.length)return null;if("Q"in Or)return new Date(Or.Q);if("s"in Or)return new Date(Or.s*1e3+("L"in Or?Or.L:0));if(Xr&&!("Z"in Or)&&(Or.Z=0),"p"in Or&&(Or.H=Or.H%12+Or.p*12),Or.m===void 0&&(Or.m="q"in Or?Or.q:0),"V"in Or){if(Or.V<1||Or.V>53)return null;"w"in Or||(Or.w=1),"Z"in Or?(Jr=t(r(Or.y,0,1)),_n=Jr.getUTCDay(),Jr=_n>4||_n===0?p.l6.ceil(Jr):(0,p.l6)(Jr),Jr=L.Z.offset(Jr,(Or.V-1)*7),Or.y=Jr.getUTCFullYear(),Or.m=Jr.getUTCMonth(),Or.d=Jr.getUTCDate()+(Or.w+6)%7):(Jr=g(r(Or.y,0,1)),_n=Jr.getDay(),Jr=_n>4||_n===0?n.wA.ceil(Jr):(0,n.wA)(Jr),Jr=C.Z.offset(Jr,(Or.V-1)*7),Or.y=Jr.getFullYear(),Or.m=Jr.getMonth(),Or.d=Jr.getDate()+(Or.w+6)%7)}else("W"in Or||"U"in Or)&&("w"in Or||(Or.w="u"in Or?Or.u%7:"W"in Or?1:0),_n="Z"in Or?t(r(Or.y,0,1)).getUTCDay():g(r(Or.y,0,1)).getDay(),Or.m=0,Or.d="W"in Or?(Or.w+6)%7+Or.W*7-(_n+5)%7:Or.w+Or.U*7-(_n+6)%7);return"Z"in Or?(Or.H+=Or.Z/100|0,Or.M+=Or.Z%100,t(Or)):g(Or)}}function Tt(dr,Xr,Br,Or){for(var mn=0,Jr=Xr.length,_n=Br.length,kn,br;mn<Jr;){if(Or>=_n)return-1;if(kn=Xr.charCodeAt(mn++),kn===37){if(kn=Xr.charAt(mn++),br=ut[kn in a?Xr.charAt(mn++):kn],!br||(Or=br(dr,Br,Or))<0)return-1}else if(kn!=Br.charCodeAt(Or++))return-1}return Or}function Ct(dr,Xr,Br){var Or=Ft.exec(Xr.slice(Br));return Or?(dr.p=Ut[Or[0].toLowerCase()],Br+Or[0].length):-1}function At(dr,Xr,Br){var Or=$t.exec(Xr.slice(Br));return Or?(dr.w=lr[Or[0].toLowerCase()],Br+Or[0].length):-1}function zt(dr,Xr,Br){var Or=Gt.exec(Xr.slice(Br));return Or?(dr.w=Et[Or[0].toLowerCase()],Br+Or[0].length):-1}function Ht(dr,Xr,Br){var Or=Kt.exec(Xr.slice(Br));return Or?(dr.m=Zt[Or[0].toLowerCase()],Br+Or[0].length):-1}function qt(dr,Xr,Br){var Or=Fr.exec(Xr.slice(Br));return Or?(dr.m=yt[Or[0].toLowerCase()],Br+Or[0].length):-1}function Qt(dr,Xr,Br){return Tt(dr,we,Xr,Br)}function or(dr,Xr,Br){return Tt(dr,ue,Xr,Br)}function Lr(dr,Xr,Br){return Tt(dr,me,Xr,Br)}function Ze(dr){return it[dr.getDay()]}function Ye(dr){return Ne[dr.getDay()]}function It(dr){return wt[dr.getMonth()]}function kt(dr){return ot[dr.getMonth()]}function Xt(dr){return Re[+(dr.getHours()>=12)]}function ir(dr){return 1+~~(dr.getMonth()/3)}function ur(dr){return it[dr.getUTCDay()]}function nr(dr){return Ne[dr.getUTCDay()]}function Nt(dr){return wt[dr.getUTCMonth()]}function hr(dr){return ot[dr.getUTCMonth()]}function pr(dr){return Re[+(dr.getUTCHours()>=12)]}function gr(dr){return 1+~~(dr.getUTCMonth()/3)}return{format:function(dr){var Xr=lt(dr+="",Ar);return Xr.toString=function(){return dr},Xr},parse:function(dr){var Xr=xt(dr+="",!1);return Xr.toString=function(){return dr},Xr},utcFormat:function(dr){var Xr=lt(dr+="",vr);return Xr.toString=function(){return dr},Xr},utcParse:function(dr){var Xr=xt(dr+="",!0);return Xr.toString=function(){return dr},Xr}}}var a={"-":"",_:" ",0:"0"},s=/^\s*\d+/,c=/^%/,u=/[\\^$*+?|[\]().{}]/g;function b(De,we,ue){var me=De<0?"-":"",Re=(me?-De:De)+"",Ne=Re.length;return me+(Ne<ue?new Array(ue-Ne+1).join(we)+Re:Re)}function f(De){return De.replace(u,"\\$&")}function w(De){return new RegExp("^(?:"+De.map(f).join("|")+")","i")}function v(De){for(var we={},ue=-1,me=De.length;++ue<me;)we[De[ue].toLowerCase()]=ue;return we}function o(De,we,ue){var me=s.exec(we.slice(ue,ue+1));return me?(De.w=+me[0],ue+me[0].length):-1}function d(De,we,ue){var me=s.exec(we.slice(ue,ue+1));return me?(De.u=+me[0],ue+me[0].length):-1}function S(De,we,ue){var me=s.exec(we.slice(ue,ue+2));return me?(De.U=+me[0],ue+me[0].length):-1}function M(De,we,ue){var me=s.exec(we.slice(ue,ue+2));return me?(De.V=+me[0],ue+me[0].length):-1}function P(De,we,ue){var me=s.exec(we.slice(ue,ue+2));return me?(De.W=+me[0],ue+me[0].length):-1}function x(De,we,ue){var me=s.exec(we.slice(ue,ue+4));return me?(De.y=+me[0],ue+me[0].length):-1}function E(De,we,ue){var me=s.exec(we.slice(ue,ue+2));return me?(De.y=+me[0]+(+me[0]>68?1900:2e3),ue+me[0].length):-1}function T(De,we,ue){var me=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(we.slice(ue,ue+6));return me?(De.Z=me[1]?0:-(me[2]+(me[3]||"00")),ue+me[0].length):-1}function i(De,we,ue){var me=s.exec(we.slice(ue,ue+1));return me?(De.q=me[0]*3-3,ue+me[0].length):-1}function R(De,we,ue){var me=s.exec(we.slice(ue,ue+2));return me?(De.m=me[0]-1,ue+me[0].length):-1}function A(De,we,ue){var me=s.exec(we.slice(ue,ue+2));return me?(De.d=+me[0],ue+me[0].length):-1}function k(De,we,ue){var me=s.exec(we.slice(ue,ue+3));return me?(De.m=0,De.d=+me[0],ue+me[0].length):-1}function _(De,we,ue){var me=s.exec(we.slice(ue,ue+2));return me?(De.H=+me[0],ue+me[0].length):-1}function H(De,we,ue){var me=s.exec(we.slice(ue,ue+2));return me?(De.M=+me[0],ue+me[0].length):-1}function z(De,we,ue){var me=s.exec(we.slice(ue,ue+2));return me?(De.S=+me[0],ue+me[0].length):-1}function N(De,we,ue){var me=s.exec(we.slice(ue,ue+3));return me?(De.L=+me[0],ue+me[0].length):-1}function O(De,we,ue){var me=s.exec(we.slice(ue,ue+6));return me?(De.L=Math.floor(me[0]/1e3),ue+me[0].length):-1}function F(De,we,ue){var me=c.exec(we.slice(ue,ue+1));return me?ue+me[0].length:-1}function U(De,we,ue){var me=s.exec(we.slice(ue));return me?(De.Q=+me[0],ue+me[0].length):-1}function Z(De,we,ue){var me=s.exec(we.slice(ue));return me?(De.s=+me[0],ue+me[0].length):-1}function q(De,we){return b(De.getDate(),we,2)}function J(De,we){return b(De.getHours(),we,2)}function te(De,we){return b(De.getHours()%12||12,we,2)}function fe(De,we){return b(1+C.Z.count((0,y.Z)(De),De),we,3)}function K(De,we){return b(De.getMilliseconds(),we,3)}function Y(De,we){return K(De,we)+"000"}function W(De,we){return b(De.getMonth()+1,we,2)}function X(De,we){return b(De.getMinutes(),we,2)}function re(De,we){return b(De.getSeconds(),we,2)}function se(De){var we=De.getDay();return we===0?7:we}function Q(De,we){return b(n.OM.count((0,y.Z)(De)-1,De),we,2)}function ee(De,we){var ue=De.getDay();return De=ue>=4||ue===0?(0,n.bL)(De):n.bL.ceil(De),b(n.bL.count((0,y.Z)(De),De)+((0,y.Z)(De).getDay()===4),we,2)}function le(De){return De.getDay()}function oe(De,we){return b(n.wA.count((0,y.Z)(De)-1,De),we,2)}function he(De,we){return b(De.getFullYear()%100,we,2)}function xe(De,we){return b(De.getFullYear()%1e4,we,4)}function Ae(De){var we=De.getTimezoneOffset();return(we>0?"-":(we*=-1,"+"))+b(we/60|0,"0",2)+b(we%60,"0",2)}function Se(De,we){return b(De.getUTCDate(),we,2)}function Oe(De,we){return b(De.getUTCHours(),we,2)}function Ve(De,we){return b(De.getUTCHours()%12||12,we,2)}function Ee(De,we){return b(1+L.Z.count((0,h.Z)(De),De),we,3)}function Te(De,we){return b(De.getUTCMilliseconds(),we,3)}function Le(De,we){return Te(De,we)+"000"}function Ge(De,we){return b(De.getUTCMonth()+1,we,2)}function He(De,we){return b(De.getUTCMinutes(),we,2)}function ke(De,we){return b(De.getUTCSeconds(),we,2)}function We(De){var we=De.getUTCDay();return we===0?7:we}function nt(De,we){return b(p.Ox.count((0,h.Z)(De)-1,De),we,2)}function qe(De,we){var ue=De.getUTCDay();return De=ue>=4||ue===0?(0,p.hB)(De):p.hB.ceil(De),b(p.hB.count((0,h.Z)(De),De)+((0,h.Z)(De).getUTCDay()===4),we,2)}function Qe(De){return De.getUTCDay()}function tt(De,we){return b(p.l6.count((0,h.Z)(De)-1,De),we,2)}function vt(De,we){return b(De.getUTCFullYear()%100,we,2)}function dt(De,we){return b(De.getUTCFullYear()%1e4,we,4)}function gt(){return"+0000"}function Mt(){return"%"}function Rt(De){return+De}function Wt(De){return Math.floor(+De/1e3)}var je,_e,Fe;Be({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Be(De){return je=l(De),_e=je.format,je.parse,Fe=je.utcFormat,je.utcParse,je}},82301:function(V,B,e){e.d(B,{a:function(){return C}});var p=e(30052),L=e(54263),n=(0,p.Z)(function(y){y.setHours(0,0,0,0)},function(y,h){y.setDate(y.getDate()+h)},function(y,h){return(h-y-(h.getTimezoneOffset()-y.getTimezoneOffset())*L.yB)/L.UD},function(y){return y.getDate()-1});B.Z=n;var C=n.range},54263:function(V,B,e){e.d(B,{UD:function(){return C},Y2:function(){return n},Ym:function(){return p},iM:function(){return y},yB:function(){return L}});var p=1e3,L=6e4,n=36e5,C=864e5,y=6048e5},81041:function(V,B,e){e.r(B),e.d(B,{timeDay:function(){return b.Z},timeDays:function(){return b.a},timeFriday:function(){return f.mC},timeFridays:function(){return f.b$},timeHour:function(){return c},timeHours:function(){return u},timeInterval:function(){return p.Z},timeMillisecond:function(){return n},timeMilliseconds:function(){return C},timeMinute:function(){return l},timeMinutes:function(){return a},timeMonday:function(){return f.wA},timeMondays:function(){return f.bJ},timeMonth:function(){return v},timeMonths:function(){return o},timeSaturday:function(){return f.EY},timeSaturdays:function(){return f.Ff},timeSecond:function(){return g},timeSeconds:function(){return t},timeSunday:function(){return f.OM},timeSundays:function(){return f.vm},timeThursday:function(){return f.bL},timeThursdays:function(){return f.$t},timeTuesday:function(){return f.sy},timeTuesdays:function(){return f.aU},timeWednesday:function(){return f.zg},timeWednesdays:function(){return f.Ld},timeWeek:function(){return f.OM},timeWeeks:function(){return f.vm},timeYear:function(){return d.Z},timeYears:function(){return d.g},utcDay:function(){return i.Z},utcDays:function(){return i.y},utcFriday:function(){return R.QQ},utcFridays:function(){return R.fz},utcHour:function(){return E},utcHours:function(){return T},utcMillisecond:function(){return n},utcMilliseconds:function(){return C},utcMinute:function(){return M},utcMinutes:function(){return P},utcMonday:function(){return R.l6},utcMondays:function(){return R.$3},utcMonth:function(){return k},utcMonths:function(){return _},utcSaturday:function(){return R.g4},utcSaturdays:function(){return R.Q_},utcSecond:function(){return g},utcSeconds:function(){return t},utcSunday:function(){return R.Ox},utcSundays:function(){return R.SU},utcThursday:function(){return R.hB},utcThursdays:function(){return R.xj},utcTuesday:function(){return R.J1},utcTuesdays:function(){return R.DK},utcWednesday:function(){return R.b3},utcWednesdays:function(){return R.uy},utcWeek:function(){return R.Ox},utcWeeks:function(){return R.SU},utcYear:function(){return H.Z},utcYears:function(){return H.D}});var p=e(30052),L=(0,p.Z)(function(){},function(z,N){z.setTime(+z+N)},function(z,N){return N-z});L.every=function(z){return z=Math.floor(z),!isFinite(z)||!(z>0)?null:z>1?(0,p.Z)(function(N){N.setTime(Math.floor(N/z)*z)},function(N,O){N.setTime(+N+O*z)},function(N,O){return(O-N)/z}):L};var n=L,C=L.range,y=e(54263),h=(0,p.Z)(function(z){z.setTime(z-z.getMilliseconds())},function(z,N){z.setTime(+z+N*y.Ym)},function(z,N){return(N-z)/y.Ym},function(z){return z.getUTCSeconds()}),g=h,t=h.range,r=(0,p.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*y.Ym)},function(z,N){z.setTime(+z+N*y.yB)},function(z,N){return(N-z)/y.yB},function(z){return z.getMinutes()}),l=r,a=r.range,s=(0,p.Z)(function(z){z.setTime(z-z.getMilliseconds()-z.getSeconds()*y.Ym-z.getMinutes()*y.yB)},function(z,N){z.setTime(+z+N*y.Y2)},function(z,N){return(N-z)/y.Y2},function(z){return z.getHours()}),c=s,u=s.range,b=e(82301),f=e(59879),w=(0,p.Z)(function(z){z.setDate(1),z.setHours(0,0,0,0)},function(z,N){z.setMonth(z.getMonth()+N)},function(z,N){return N.getMonth()-z.getMonth()+(N.getFullYear()-z.getFullYear())*12},function(z){return z.getMonth()}),v=w,o=w.range,d=e(34823),S=(0,p.Z)(function(z){z.setUTCSeconds(0,0)},function(z,N){z.setTime(+z+N*y.yB)},function(z,N){return(N-z)/y.yB},function(z){return z.getUTCMinutes()}),M=S,P=S.range,x=(0,p.Z)(function(z){z.setUTCMinutes(0,0,0)},function(z,N){z.setTime(+z+N*y.Y2)},function(z,N){return(N-z)/y.Y2},function(z){return z.getUTCHours()}),E=x,T=x.range,i=e(48480),R=e(58176),A=(0,p.Z)(function(z){z.setUTCDate(1),z.setUTCHours(0,0,0,0)},function(z,N){z.setUTCMonth(z.getUTCMonth()+N)},function(z,N){return N.getUTCMonth()-z.getUTCMonth()+(N.getUTCFullYear()-z.getUTCFullYear())*12},function(z){return z.getUTCMonth()}),k=A,_=A.range,H=e(79791)},30052:function(V,B,e){e.d(B,{Z:function(){return n}});var p=new Date,L=new Date;function n(C,y,h,g){function t(r){return C(r=arguments.length===0?new Date:new Date(+r)),r}return t.floor=function(r){return C(r=new Date(+r)),r},t.ceil=function(r){return C(r=new Date(r-1)),y(r,1),C(r),r},t.round=function(r){var l=t(r),a=t.ceil(r);return r-l<a-r?l:a},t.offset=function(r,l){return y(r=new Date(+r),l==null?1:Math.floor(l)),r},t.range=function(r,l,a){var s=[],c;if(r=t.ceil(r),a=a==null?1:Math.floor(a),!(r<l)||!(a>0))return s;do s.push(c=new Date(+r)),y(r,a),C(r);while(c<r&&r<l);return s},t.filter=function(r){return n(function(l){if(l>=l)for(;C(l),!r(l);)l.setTime(l-1)},function(l,a){if(l>=l)if(a<0)for(;++a<=0;)for(;y(l,-1),!r(l););else for(;--a>=0;)for(;y(l,1),!r(l););})},h&&(t.count=function(r,l){return p.setTime(+r),L.setTime(+l),C(p),C(L),Math.floor(h(p,L))},t.every=function(r){return r=Math.floor(r),!isFinite(r)||!(r>0)?null:r>1?t.filter(g?function(l){return g(l)%r===0}:function(l){return t.count(0,l)%r===0}):t}),t}},48480:function(V,B,e){e.d(B,{y:function(){return C}});var p=e(30052),L=e(54263),n=(0,p.Z)(function(y){y.setUTCHours(0,0,0,0)},function(y,h){y.setUTCDate(y.getUTCDate()+h)},function(y,h){return(h-y)/L.UD},function(y){return y.getUTCDate()-1});B.Z=n;var C=n.range},58176:function(V,B,e){e.d(B,{$3:function(){return s},DK:function(){return c},J1:function(){return h},Ox:function(){return C},QQ:function(){return r},Q_:function(){return w},SU:function(){return a},b3:function(){return g},fz:function(){return f},g4:function(){return l},hB:function(){return t},l6:function(){return y},uy:function(){return u},xj:function(){return b}});var p=e(30052),L=e(54263);function n(v){return(0,p.Z)(function(o){o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-v)%7),o.setUTCHours(0,0,0,0)},function(o,d){o.setUTCDate(o.getUTCDate()+d*7)},function(o,d){return(d-o)/L.iM})}var C=n(0),y=n(1),h=n(2),g=n(3),t=n(4),r=n(5),l=n(6),a=C.range,s=y.range,c=h.range,u=g.range,b=t.range,f=r.range,w=l.range},79791:function(V,B,e){e.d(B,{D:function(){return n}});var p=e(30052),L=(0,p.Z)(function(C){C.setUTCMonth(0,1),C.setUTCHours(0,0,0,0)},function(C,y){C.setUTCFullYear(C.getUTCFullYear()+y)},function(C,y){return y.getUTCFullYear()-C.getUTCFullYear()},function(C){return C.getUTCFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.Z)(function(y){y.setUTCFullYear(Math.floor(y.getUTCFullYear()/C)*C),y.setUTCMonth(0,1),y.setUTCHours(0,0,0,0)},function(y,h){y.setUTCFullYear(y.getUTCFullYear()+h*C)})},B.Z=L;var n=L.range},59879:function(V,B,e){e.d(B,{$t:function(){return b},EY:function(){return l},Ff:function(){return w},Ld:function(){return u},OM:function(){return C},aU:function(){return c},b$:function(){return f},bJ:function(){return s},bL:function(){return t},mC:function(){return r},sy:function(){return h},vm:function(){return a},wA:function(){return y},zg:function(){return g}});var p=e(30052),L=e(54263);function n(v){return(0,p.Z)(function(o){o.setDate(o.getDate()-(o.getDay()+7-v)%7),o.setHours(0,0,0,0)},function(o,d){o.setDate(o.getDate()+d*7)},function(o,d){return(d-o-(d.getTimezoneOffset()-o.getTimezoneOffset())*L.yB)/L.iM})}var C=n(0),y=n(1),h=n(2),g=n(3),t=n(4),r=n(5),l=n(6),a=C.range,s=y.range,c=h.range,u=g.range,b=t.range,f=r.range,w=l.range},34823:function(V,B,e){e.d(B,{g:function(){return n}});var p=e(30052),L=(0,p.Z)(function(C){C.setMonth(0,1),C.setHours(0,0,0,0)},function(C,y){C.setFullYear(C.getFullYear()+y)},function(C,y){return y.getFullYear()-C.getFullYear()},function(C){return C.getFullYear()});L.every=function(C){return!isFinite(C=Math.floor(C))||!(C>0)?null:(0,p.Z)(function(y){y.setFullYear(Math.floor(y.getFullYear()/C)*C),y.setMonth(0,1),y.setHours(0,0,0,0)},function(y,h){y.setFullYear(y.getFullYear()+h*C)})},B.Z=L;var n=L.range},17045:function(V,B,e){var p=e(8709),L=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",n=Object.prototype.toString,C=Array.prototype.concat,y=Object.defineProperty,h=function(a){return typeof a=="function"&&n.call(a)==="[object Function]"},g=e(55622)(),t=y&&g,r=function(a,s,c,u){if(s in a){if(u===!0){if(a[s]===c)return}else if(!h(u)||!u())return}t?y(a,s,{configurable:!0,enumerable:!1,value:c,writable:!0}):a[s]=c},l=function(a,s){var c=arguments.length>2?arguments[2]:{},u=p(s);L&&(u=C.call(u,Object.getOwnPropertySymbols(s)));for(var b=0;b<u.length;b+=1)r(a,u[b],s[u[b]],c[u[b]])};l.supportsDescriptors=!!t,V.exports=l},46775:function(V){V.exports=function(){for(var B=0;B<arguments.length;B++)if(arguments[B]!==void 0)return arguments[B]}},53545:function(V){V.exports=L;var B=L.canvas=document.createElement("canvas"),e=B.getContext("2d"),p=n([32,126]);L.createPairs=n,L.ascii=p;function L(C,y){Array.isArray(C)&&(C=C.join(", "));var h={},g,t=16,r=.05;y&&(y.length===2&&typeof y[0]=="number"?g=n(y):Array.isArray(y)?g=y:(y.o?g=n(y.o):y.pairs&&(g=y.pairs),y.fontSize&&(t=y.fontSize),y.threshold!=null&&(r=y.threshold))),g||(g=p),e.font=t+"px "+C;for(var l=0;l<g.length;l++){var a=g[l],s=e.measureText(a[0]).width+e.measureText(a[1]).width,c=e.measureText(a).width;if(Math.abs(s-c)>t*r){var u=(c-s)/t;h[a]=u*1e3}}return h}function n(C){for(var y=[],h=C[0];h<=C[1];h++)for(var g=String.fromCharCode(h),t=C[0];t<C[1];t++){var r=String.fromCharCode(t),l=g+r;y.push(l)}return y}},31457:function(V,B,e){var p=e(65185),L=e(18625),n={M:"moveTo",C:"bezierCurveTo"};V.exports=function(C,y){C.beginPath(),L(p(y)).forEach(function(h){var g=h[0],t=h.slice(1);C[n[g]].apply(C,t)}),C.closePath()}},90660:function(V){V.exports=function(B){switch(B){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(V){function B(L,n,C){var y=L[C]|0;if(y<=0)return[];var h=new Array(y),g;if(C===L.length-1)for(g=0;g<y;++g)h[g]=n;else for(g=0;g<y;++g)h[g]=B(L,n,C+1);return h}function e(L,n){var C,y;for(C=new Array(L),y=0;y<L;++y)C[y]=n;return C}function p(L,n){switch(typeof n>"u"&&(n=0),typeof L){case"number":if(L>0)return e(L|0,n);break;case"object":if(typeof L.length=="number")return B(L,n,0);break}return[]}V.exports=p},11474:function(V){V.exports=B,V.exports.default=B;function B(_,H,z){z=z||2;var N=H&&H.length,O=N?H[0]*z:_.length,F=e(_,0,O,z,!0),U=[];if(!F||F.next===F.prev)return U;var Z,q,J,te,fe,K,Y;if(N&&(F=g(_,H,F,z)),_.length>80*z){Z=J=_[0],q=te=_[1];for(var W=z;W<O;W+=z)fe=_[W],K=_[W+1],fe<Z&&(Z=fe),K<q&&(q=K),fe>J&&(J=fe),K>te&&(te=K);Y=Math.max(J-Z,te-q),Y=Y!==0?1/Y:0}return L(F,U,z,Z,q,Y),U}function e(_,H,z,N,O){var F,U;if(O===k(_,H,z,N)>0)for(F=H;F<z;F+=N)U=i(F,_[F],_[F+1],U);else for(F=z-N;F>=H;F-=N)U=i(F,_[F],_[F+1],U);return U&&o(U,U.next)&&(R(U),U=U.next),U}function p(_,H){if(!_)return _;H||(H=_);var z=_,N;do if(N=!1,!z.steiner&&(o(z,z.next)||v(z.prev,z,z.next)===0)){if(R(z),z=H=z.prev,z===z.next)break;N=!0}else z=z.next;while(N||z!==H);return H}function L(_,H,z,N,O,F,U){if(_){!U&&F&&s(_,N,O,F);for(var Z=_,q,J;_.prev!==_.next;){if(q=_.prev,J=_.next,F?C(_,N,O,F):n(_)){H.push(q.i/z),H.push(_.i/z),H.push(J.i/z),R(_),_=J.next,Z=J.next;continue}if(_=J,_===Z){U?U===1?(_=y(p(_),H,z),L(_,H,z,N,O,F,2)):U===2&&h(_,H,z,N,O,F):L(p(_),H,z,N,O,F,1);break}}}}function n(_){var H=_.prev,z=_,N=_.next;if(v(H,z,N)>=0)return!1;for(var O=_.next.next;O!==_.prev;){if(f(H.x,H.y,z.x,z.y,N.x,N.y,O.x,O.y)&&v(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function C(_,H,z,N){var O=_.prev,F=_,U=_.next;if(v(O,F,U)>=0)return!1;for(var Z=O.x<F.x?O.x<U.x?O.x:U.x:F.x<U.x?F.x:U.x,q=O.y<F.y?O.y<U.y?O.y:U.y:F.y<U.y?F.y:U.y,J=O.x>F.x?O.x>U.x?O.x:U.x:F.x>U.x?F.x:U.x,te=O.y>F.y?O.y>U.y?O.y:U.y:F.y>U.y?F.y:U.y,fe=u(Z,q,H,z,N),K=u(J,te,H,z,N),Y=_.prevZ,W=_.nextZ;Y&&Y.z>=fe&&W&&W.z<=K;){if(Y!==_.prev&&Y!==_.next&&f(O.x,O.y,F.x,F.y,U.x,U.y,Y.x,Y.y)&&v(Y.prev,Y,Y.next)>=0||(Y=Y.prevZ,W!==_.prev&&W!==_.next&&f(O.x,O.y,F.x,F.y,U.x,U.y,W.x,W.y)&&v(W.prev,W,W.next)>=0))return!1;W=W.nextZ}for(;Y&&Y.z>=fe;){if(Y!==_.prev&&Y!==_.next&&f(O.x,O.y,F.x,F.y,U.x,U.y,Y.x,Y.y)&&v(Y.prev,Y,Y.next)>=0)return!1;Y=Y.prevZ}for(;W&&W.z<=K;){if(W!==_.prev&&W!==_.next&&f(O.x,O.y,F.x,F.y,U.x,U.y,W.x,W.y)&&v(W.prev,W,W.next)>=0)return!1;W=W.nextZ}return!0}function y(_,H,z){var N=_;do{var O=N.prev,F=N.next.next;!o(O,F)&&d(O,N,N.next,F)&&x(O,F)&&x(F,O)&&(H.push(O.i/z),H.push(N.i/z),H.push(F.i/z),R(N),R(N.next),N=_=F),N=N.next}while(N!==_);return p(N)}function h(_,H,z,N,O,F){var U=_;do{for(var Z=U.next.next;Z!==U.prev;){if(U.i!==Z.i&&w(U,Z)){var q=T(U,Z);U=p(U,U.next),q=p(q,q.next),L(U,H,z,N,O,F),L(q,H,z,N,O,F);return}Z=Z.next}U=U.next}while(U!==_)}function g(_,H,z,N){var O=[],F,U,Z,q,J;for(F=0,U=H.length;F<U;F++)Z=H[F]*N,q=F<U-1?H[F+1]*N:_.length,J=e(_,Z,q,N,!1),J===J.next&&(J.steiner=!0),O.push(b(J));for(O.sort(t),F=0;F<O.length;F++)r(O[F],z),z=p(z,z.next);return z}function t(_,H){return _.x-H.x}function r(_,H){if(H=l(_,H),H){var z=T(H,_);p(H,H.next),p(z,z.next)}}function l(_,H){var z=H,N=_.x,O=_.y,F=-1/0,U;do{if(O<=z.y&&O>=z.next.y&&z.next.y!==z.y){var Z=z.x+(O-z.y)*(z.next.x-z.x)/(z.next.y-z.y);if(Z<=N&&Z>F){if(F=Z,Z===N){if(O===z.y)return z;if(O===z.next.y)return z.next}U=z.x<z.next.x?z:z.next}}z=z.next}while(z!==H);if(!U)return null;if(N===F)return U;var q=U,J=U.x,te=U.y,fe=1/0,K;z=U;do N>=z.x&&z.x>=J&&N!==z.x&&f(O<te?N:F,O,J,te,O<te?F:N,O,z.x,z.y)&&(K=Math.abs(O-z.y)/(N-z.x),x(z,_)&&(K<fe||K===fe&&(z.x>U.x||z.x===U.x&&a(U,z)))&&(U=z,fe=K)),z=z.next;while(z!==q);return U}function a(_,H){return v(_.prev,_,H.prev)<0&&v(H.next,_,_.next)<0}function s(_,H,z,N){var O=_;do O.z===null&&(O.z=u(O.x,O.y,H,z,N)),O.prevZ=O.prev,O.nextZ=O.next,O=O.next;while(O!==_);O.prevZ.nextZ=null,O.prevZ=null,c(O)}function c(_){var H,z,N,O,F,U,Z,q,J=1;do{for(z=_,_=null,F=null,U=0;z;){for(U++,N=z,Z=0,H=0;H<J&&(Z++,N=N.nextZ,!!N);H++);for(q=J;Z>0||q>0&&N;)Z!==0&&(q===0||!N||z.z<=N.z)?(O=z,z=z.nextZ,Z--):(O=N,N=N.nextZ,q--),F?F.nextZ=O:_=O,O.prevZ=F,F=O;z=N}F.nextZ=null,J*=2}while(U>1);return _}function u(_,H,z,N,O){return _=32767*(_-z)*O,H=32767*(H-N)*O,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,H=(H|H<<8)&16711935,H=(H|H<<4)&252645135,H=(H|H<<2)&858993459,H=(H|H<<1)&1431655765,_|H<<1}function b(_){var H=_,z=_;do(H.x<z.x||H.x===z.x&&H.y<z.y)&&(z=H),H=H.next;while(H!==_);return z}function f(_,H,z,N,O,F,U,Z){return(O-U)*(H-Z)-(_-U)*(F-Z)>=0&&(_-U)*(N-Z)-(z-U)*(H-Z)>=0&&(z-U)*(F-Z)-(O-U)*(N-Z)>=0}function w(_,H){return _.next.i!==H.i&&_.prev.i!==H.i&&!P(_,H)&&(x(_,H)&&x(H,_)&&E(_,H)&&(v(_.prev,_,H.prev)||v(_,H.prev,H))||o(_,H)&&v(_.prev,_,_.next)>0&&v(H.prev,H,H.next)>0)}function v(_,H,z){return(H.y-_.y)*(z.x-H.x)-(H.x-_.x)*(z.y-H.y)}function o(_,H){return _.x===H.x&&_.y===H.y}function d(_,H,z,N){var O=M(v(_,H,z)),F=M(v(_,H,N)),U=M(v(z,N,_)),Z=M(v(z,N,H));return!!(O!==F&&U!==Z||O===0&&S(_,z,H)||F===0&&S(_,N,H)||U===0&&S(z,_,N)||Z===0&&S(z,H,N))}function S(_,H,z){return H.x<=Math.max(_.x,z.x)&&H.x>=Math.min(_.x,z.x)&&H.y<=Math.max(_.y,z.y)&&H.y>=Math.min(_.y,z.y)}function M(_){return _>0?1:_<0?-1:0}function P(_,H){var z=_;do{if(z.i!==_.i&&z.next.i!==_.i&&z.i!==H.i&&z.next.i!==H.i&&d(z,z.next,_,H))return!0;z=z.next}while(z!==_);return!1}function x(_,H){return v(_.prev,_,_.next)<0?v(_,H,_.next)>=0&&v(_,_.prev,H)>=0:v(_,H,_.prev)<0||v(_,_.next,H)<0}function E(_,H){var z=_,N=!1,O=(_.x+H.x)/2,F=(_.y+H.y)/2;do z.y>F!=z.next.y>F&&z.next.y!==z.y&&O<(z.next.x-z.x)*(F-z.y)/(z.next.y-z.y)+z.x&&(N=!N),z=z.next;while(z!==_);return N}function T(_,H){var z=new A(_.i,_.x,_.y),N=new A(H.i,H.x,H.y),O=_.next,F=H.prev;return _.next=H,H.prev=_,z.next=O,O.prev=z,N.next=z,z.prev=N,F.next=N,N.prev=F,N}function i(_,H,z,N){var O=new A(_,H,z);return N?(O.next=N.next,O.prev=N,N.next.prev=O,N.next=O):(O.prev=O,O.next=O),O}function R(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function A(_,H,z){this.i=_,this.x=H,this.y=z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}B.deviation=function(_,H,z,N){var O=H&&H.length,F=O?H[0]*z:_.length,U=Math.abs(k(_,0,F,z));if(O)for(var Z=0,q=H.length;Z<q;Z++){var J=H[Z]*z,te=Z<q-1?H[Z+1]*z:_.length;U-=Math.abs(k(_,J,te,z))}var fe=0;for(Z=0;Z<N.length;Z+=3){var K=N[Z]*z,Y=N[Z+1]*z,W=N[Z+2]*z;fe+=Math.abs((_[K]-_[W])*(_[Y+1]-_[K+1])-(_[K]-_[Y])*(_[W+1]-_[K+1]))}return U===0&&fe===0?0:Math.abs((fe-U)/U)};function k(_,H,z,N){for(var O=0,F=H,U=z-N;F<z;F+=N)O+=(_[U]-_[F])*(_[F+1]+_[U+1]),U=F;return O}B.flatten=function(_){for(var H=_[0][0].length,z={vertices:[],holes:[],dimensions:H},N=0,O=0;O<_.length;O++){for(var F=0;F<_[O].length;F++)for(var U=0;U<H;U++)z.vertices.push(_[O][F][U]);O>0&&(N+=_[O-1].length,z.holes.push(N))}return z}},2502:function(V,B,e){var p=e(68664);V.exports=function(n,C){var y=[],h=[],g=[],t={},r=[],l;function a(S){g[S]=!1,t.hasOwnProperty(S)&&Object.keys(t[S]).forEach(function(M){delete t[S][M],g[M]&&a(M)})}function s(S){var M=!1;h.push(S),g[S]=!0;var P,x;for(P=0;P<r[S].length;P++)x=r[S][P],x===l?(c(l,h),M=!0):g[x]||(M=s(x));if(M)a(S);else for(P=0;P<r[S].length;P++){x=r[S][P];var E=t[x];E||(E={},t[x]=E),E[x]=!0}return h.pop(),M}function c(S,M){var P=[].concat(M).concat(S);C?C(s):y.push(P)}function u(S){for(var M=0;M<n.length;M++)M<S&&(n[M]=[]),n[M]=n[M].filter(function(P){return P>=S})}function b(S){u(S);for(var M=n,P=p(M),x=P.components.filter(function(_){return _.length>1}),E=1/0,T,i=0;i<x.length;i++)for(var R=0;R<x[i].length;R++)x[i][R]<E&&(E=x[i][R],T=i);var A=x[T];if(!A)return!1;var k=n.map(function(_,H){return A.indexOf(H)===-1?[]:_.filter(function(z){return A.indexOf(z)!==-1})});return{leastVertex:E,adjList:k}}l=0;for(var f=n.length;l<f;){var w=b(l);if(l=w.leastVertex,r=w.adjList,r){for(var v=0;v<r.length;v++)for(var o=0;o<r[v].length;o++){var d=r[v][o];g[+d]=!1,t[d]={}}s(l),l=l+1}else l=f}if(!C)return y}},16134:function(V,B,e){var p=e(36672);V.exports=function(){return p(this).length=0,this}},4892:function(V,B,e){V.exports=e(64404)()?Array.from:e(49441)},64404:function(V){V.exports=function(){var B=Array.from,e,p;return typeof B!="function"?!1:(e=["raz","dwa"],p=B(e),!!(p&&p!==e&&p[1]==="dwa"))}},49441:function(V,B,e){var p=e(8260).iterator,L=e(73051),n=e(33717),C=e(35976),y=e(78513),h=e(36672),g=e(95296),t=e(87963),r=Array.isArray,l=Function.prototype.call,a={configurable:!0,enumerable:!0,writable:!0,value:null},s=Object.defineProperty;V.exports=function(c){var u=arguments[1],b=arguments[2],f,w,v,o,d,S,M,P,x,E;if(c=Object(h(c)),g(u)&&y(u),!this||this===Array||!n(this)){if(!u){if(L(c))return d=c.length,d!==1?Array.apply(null,c):(o=new Array(1),o[0]=c[0],o);if(r(c)){for(o=new Array(d=c.length),w=0;w<d;++w)o[w]=c[w];return o}}o=[]}else f=this;if(!r(c)){if((x=c[p])!==void 0){for(M=y(x).call(c),f&&(o=new f),P=M.next(),w=0;!P.done;)E=u?l.call(u,b,P.value,w):P.value,f?(a.value=E,s(o,w,a)):o[w]=E,P=M.next(),++w;d=w}else if(t(c)){for(d=c.length,f&&(o=new f),w=0,v=0;w<d;++w)E=c[w],w+1<d&&(S=E.charCodeAt(0),S>=55296&&S<=56319&&(E+=c[++w])),E=u?l.call(u,b,E,v):E,f?(a.value=E,s(o,v,a)):o[v]=E,++v;d=v}}if(d===void 0)for(d=C(c.length),f&&(o=new f(d)),w=0;w<d;++w)E=u?l.call(u,b,c[w],w):c[w],f?(a.value=E,s(o,w,a)):o[w]=E;return f&&(a.value=null,o.length=d),o}},73051:function(V){var B=Object.prototype.toString,e=B.call(function(){return arguments}());V.exports=function(p){return B.call(p)===e}},33717:function(V){var B=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);V.exports=function(p){return typeof p=="function"&&e(B.call(p))}},52345:function(V){V.exports=function(){}},9953:function(V,B,e){V.exports=e(90436)()?Math.sign:e(6069)},90436:function(V){V.exports=function(){var B=Math.sign;return typeof B!="function"?!1:B(10)===1&&B(-20)===-1}},6069:function(V){V.exports=function(B){return B=Number(B),isNaN(B)||B===0?B:B>0?1:-1}},56247:function(V,B,e){var p=e(9953),L=Math.abs,n=Math.floor;V.exports=function(C){return isNaN(C)?0:(C=Number(C),C===0||!isFinite(C)?C:p(C)*n(L(C)))}},35976:function(V,B,e){var p=e(56247),L=Math.max;V.exports=function(n){return L(0,p(n))}},67260:function(V,B,e){var p=e(78513),L=e(36672),n=Function.prototype.bind,C=Function.prototype.call,y=Object.keys,h=Object.prototype.propertyIsEnumerable;V.exports=function(g,t){return function(r,l){var a,s=arguments[2],c=arguments[3];return r=Object(L(r)),p(l),a=y(r),c&&a.sort(typeof c=="function"?n.call(c,r):void 0),typeof g!="function"&&(g=a[g]),C.call(g,a,function(u,b){return h.call(r,u)?C.call(l,s,r[u],u,r,b):t})}}},95879:function(V,B,e){V.exports=e(73583)()?Object.assign:e(34205)},73583:function(V){V.exports=function(){var B=Object.assign,e;return typeof B!="function"?!1:(e={foo:"raz"},B(e,{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},34205:function(V,B,e){var p=e(68700),L=e(36672),n=Math.max;V.exports=function(C,y){var h,g,t=n(arguments.length,2),r;for(C=Object(L(C)),r=function(l){try{C[l]=y[l]}catch(a){h||(h=a)}},g=1;g<t;++g)y=arguments[g],p(y).forEach(r);if(h!==void 0)throw h;return C}},19012:function(V,B,e){var p=e(4892),L=e(95879),n=e(36672);V.exports=function(C){var y=Object(n(C)),h=arguments[1],g=Object(arguments[2]);if(y!==C&&!h)return y;var t={};return h?p(h,function(r){(g.ensure||r in C)&&(t[r]=C[r])}):L(t,C),t}},52818:function(V,B,e){var p=Object.create,L;e(33247)()||(L=e(51882)),V.exports=function(){var n,C,y;return!L||L.level!==1?p:(n={},C={},y={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(h){if(h==="__proto__"){C[h]={configurable:!0,enumerable:!1,writable:!0,value:void 0};return}C[h]=y}),Object.defineProperties(n,C),Object.defineProperty(L,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:n}),function(h,g){return p(h===null?n:h,g)})}()},96437:function(V,B,e){V.exports=e(67260)("forEach")},99611:function(V,B,e){var p=e(95296),L={function:!0,object:!0};V.exports=function(n){return p(n)&&L[typeof n]||!1}},95296:function(V,B,e){var p=e(52345)();V.exports=function(L){return L!==p&&L!==null}},68700:function(V,B,e){V.exports=e(13895)()?Object.keys:e(25217)},13895:function(V){V.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(V,B,e){var p=e(95296),L=Object.keys;V.exports=function(n){return L(p(n)?Object(n):n)}},16906:function(V,B,e){var p=e(78513),L=e(96437),n=Function.prototype.call;V.exports=function(C,y){var h={},g=arguments[2];return p(y),L(C,function(t,r,l,a){h[r]=n.call(y,g,t,r,l,a)}),h}},21780:function(V,B,e){var p=e(95296),L=Array.prototype.forEach,n=Object.create,C=function(y,h){var g;for(g in y)h[g]=y[g]};V.exports=function(y){var h=n(null);return L.call(arguments,function(g){p(g)&&C(Object(g),h)}),h}},1496:function(V,B,e){V.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(V){var B=Object.create,e=Object.getPrototypeOf,p={};V.exports=function(){var L=Object.setPrototypeOf,n=arguments[0]||B;return typeof L!="function"?!1:e(L(n(null),p))===p}},51882:function(V,B,e){var p=e(99611),L=e(36672),n=Object.prototype.isPrototypeOf,C=Object.defineProperty,y={configurable:!0,enumerable:!1,writable:!0,value:void 0},h;h=function(g,t){if(L(g),t===null||p(t))return g;throw new TypeError("Prototype must be null or an object")},V.exports=function(g){var t,r;return g?(g.level===2?g.set?(r=g.set,t=function(l,a){return r.call(h(l,a),a),l}):t=function(l,a){return h(l,a).__proto__=a,l}:t=function l(a,s){var c;return h(a,s),c=n.call(l.nullPolyfill,a),c&&delete l.nullPolyfill.__proto__,s===null&&(s=l.nullPolyfill),a.__proto__=s,c&&C(l.nullPolyfill,"__proto__",y),a},Object.defineProperty(t,"level",{configurable:!1,enumerable:!1,writable:!1,value:g.level})):null}(function(){var g=Object.create(null),t={},r,l=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(l){try{r=l.set,r.call(g,t)}catch{}if(Object.getPrototypeOf(g)===t)return{set:r,level:2}}return g.__proto__=t,Object.getPrototypeOf(g)===t?{level:2}:(g={},g.__proto__=t,Object.getPrototypeOf(g)===t?{level:1}:!1)}()),e(52818)},78513:function(V){V.exports=function(B){if(typeof B!="function")throw new TypeError(B+" is not a function");return B}},98976:function(V,B,e){var p=e(99611);V.exports=function(L){if(!p(L))throw new TypeError(L+" is not an Object");return L}},36672:function(V,B,e){var p=e(95296);V.exports=function(L){if(!p(L))throw new TypeError("Cannot use null or undefined");return L}},66741:function(V,B,e){V.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(V){var B="razdwatrzy";V.exports=function(){return typeof B.contains!="function"?!1:B.contains("dwa")===!0&&B.contains("foo")===!1}},60381:function(V){var B=String.prototype.indexOf;V.exports=function(e){return B.call(this,e,arguments[1])>-1}},87963:function(V){var B=Object.prototype.toString,e=B.call("");V.exports=function(p){return typeof p=="string"||p&&typeof p=="object"&&(p instanceof String||B.call(p)===e)||!1}},43043:function(V){var B=Object.create(null),e=Math.random;V.exports=function(){var p;do p=e().toString(36).slice(2);while(B[p]);return p}},32411:function(V,B,e){var p=e(1496),L=e(66741),n=e(62072),C=e(8260),y=e(95426),h=Object.defineProperty,g;g=V.exports=function(t,r){if(!(this instanceof g))throw new TypeError("Constructor requires 'new'");y.call(this,t),r?L.call(r,"key+value")?r="key+value":L.call(r,"key")?r="key":r="value":r="value",h(this,"__kind__",n("",r))},p&&p(g,y),delete g.prototype.constructor,g.prototype=Object.create(y.prototype,{_resolve:n(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),h(g.prototype,C.toStringTag,n("c","Array Iterator"))},27515:function(V,B,e){var p=e(73051),L=e(78513),n=e(87963),C=e(66661),y=Array.isArray,h=Function.prototype.call,g=Array.prototype.some;V.exports=function(t,r){var l,a=arguments[2],s,c,u,b,f,w,v;if(y(t)||p(t)?l="array":n(t)?l="string":t=C(t),L(r),c=function(){u=!0},l==="array"){g.call(t,function(o){return h.call(r,a,o,c),u});return}if(l==="string"){for(f=t.length,b=0;b<f&&(w=t[b],b+1<f&&(v=w.charCodeAt(0),v>=55296&&v<=56319&&(w+=t[++b])),h.call(r,a,w,c),!u);++b);return}for(s=t.next();!s.done;){if(h.call(r,a,s.value,c),u)return;s=t.next()}}},66661:function(V,B,e){var p=e(73051),L=e(87963),n=e(32411),C=e(259),y=e(58095),h=e(8260).iterator;V.exports=function(g){return typeof y(g)[h]=="function"?g[h]():p(g)?new n(g):L(g)?new C(g):new n(g)}},95426:function(V,B,e){var p=e(16134),L=e(95879),n=e(78513),C=e(36672),y=e(62072),h=e(55174),g=e(8260),t=Object.defineProperty,r=Object.defineProperties,l;V.exports=l=function(a,s){if(!(this instanceof l))throw new TypeError("Constructor requires 'new'");r(this,{__list__:y("w",C(a)),__context__:y("w",s),__nextIndex__:y("w",0)}),s&&(n(s.on),s.on("_add",this._onAdd),s.on("_delete",this._onDelete),s.on("_clear",this._onClear))},delete l.prototype.constructor,r(l.prototype,L({_next:y(function(){var a;if(this.__list__){if(this.__redo__&&(a=this.__redo__.shift(),a!==void 0))return a;if(this.__nextIndex__<this.__list__.length)return this.__nextIndex__++;this._unBind()}}),next:y(function(){return this._createResult(this._next())}),_createResult:y(function(a){return a===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(a)}}),_resolve:y(function(a){return this.__list__[a]}),_unBind:y(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:y(function(){return"[object "+(this[g.toStringTag]||"Object")+"]"})},h({_onAdd:y(function(a){if(!(a>=this.__nextIndex__)){if(++this.__nextIndex__,!this.__redo__){t(this,"__redo__",y("c",[a]));return}this.__redo__.forEach(function(s,c){s>=a&&(this.__redo__[c]=++s)},this),this.__redo__.push(a)}}),_onDelete:y(function(a){var s;a>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(s=this.__redo__.indexOf(a),s!==-1&&this.__redo__.splice(s,1),this.__redo__.forEach(function(c,u){c>a&&(this.__redo__[u]=--c)},this)))}),_onClear:y(function(){this.__redo__&&p.call(this.__redo__),this.__nextIndex__=0})}))),t(l.prototype,g.iterator,y(function(){return this}))},35940:function(V,B,e){var p=e(73051),L=e(95296),n=e(87963),C=e(8260).iterator,y=Array.isArray;V.exports=function(h){return L(h)?y(h)||n(h)||p(h)?!0:typeof h[C]=="function":!1}},259:function(V,B,e){var p=e(1496),L=e(62072),n=e(8260),C=e(95426),y=Object.defineProperty,h;h=V.exports=function(g){if(!(this instanceof h))throw new TypeError("Constructor requires 'new'");g=String(g),C.call(this,g),y(this,"__length__",L("",g.length))},p&&p(h,C),delete h.prototype.constructor,h.prototype=Object.create(C.prototype,{_next:L(function(){if(this.__list__){if(this.__nextIndex__<this.__length__)return this.__nextIndex__++;this._unBind()}}),_resolve:L(function(g){var t=this.__list__[g],r;return this.__nextIndex__===this.__length__?t:(r=t.charCodeAt(0),r>=55296&&r<=56319?t+this.__list__[this.__nextIndex__++]:t)})}),y(h.prototype,n.toStringTag,L("c","String Iterator"))},58095:function(V,B,e){var p=e(35940);V.exports=function(L){if(!p(L))throw new TypeError(L+" is not iterable");return L}},73523:function(V){function B(p,L){if(p==null)throw new TypeError("Cannot convert first argument to object");for(var n=Object(p),C=1;C<arguments.length;C++){var y=arguments[C];if(y!=null)for(var h=Object.keys(Object(y)),g=0,t=h.length;g<t;g++){var r=h[g],l=Object.getOwnPropertyDescriptor(y,r);l!==void 0&&l.enumerable&&(n[r]=y[r])}}return n}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:B})}V.exports={assign:B,polyfill:e}},8260:function(V,B,e){V.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(V,B,e){var p=e(94908),L={object:!0,symbol:!0};V.exports=function(){var n=p.Symbol,C;if(typeof n!="function")return!1;C=n("test symbol");try{String(C)}catch{return!1}return!(!L[typeof n.iterator]||!L[typeof n.toPrimitive]||!L[typeof n.toStringTag])}},82276:function(V){V.exports=function(B){return B?typeof B=="symbol"?!0:!B.constructor||B.constructor.name!=="Symbol"?!1:B[B.constructor.toStringTag]==="Symbol":!1}},29366:function(V,B,e){var p=e(62072),L=Object.create,n=Object.defineProperty,C=Object.prototype,y=L(null);V.exports=function(h){for(var g=0,t,r;y[h+(g||"")];)++g;return h+=g||"",y[h]=!0,t="@@"+h,n(C,t,p.gs(null,function(l){r||(r=!0,n(this,t,p(l)),r=!1)})),t}},92842:function(V,B,e){var p=e(62072),L=e(94908).Symbol;V.exports=function(n){return Object.defineProperties(n,{hasInstance:p("",L&&L.hasInstance||n("hasInstance")),isConcatSpreadable:p("",L&&L.isConcatSpreadable||n("isConcatSpreadable")),iterator:p("",L&&L.iterator||n("iterator")),match:p("",L&&L.match||n("match")),replace:p("",L&&L.replace||n("replace")),search:p("",L&&L.search||n("search")),species:p("",L&&L.species||n("species")),split:p("",L&&L.split||n("split")),toPrimitive:p("",L&&L.toPrimitive||n("toPrimitive")),toStringTag:p("",L&&L.toStringTag||n("toStringTag")),unscopables:p("",L&&L.unscopables||n("unscopables"))})}},13304:function(V,B,e){var p=e(62072),L=e(53308),n=Object.create(null);V.exports=function(C){return Object.defineProperties(C,{for:p(function(y){return n[y]?n[y]:n[y]=C(String(y))}),keyFor:p(function(y){var h;L(y);for(h in n)if(n[h]===y)return h})})}},18415:function(V,B,e){var p=e(62072),L=e(53308),n=e(94908).Symbol,C=e(29366),y=e(92842),h=e(13304),g=Object.create,t=Object.defineProperties,r=Object.defineProperty,l,a,s;if(typeof n=="function")try{String(n()),s=!0}catch{}else n=null;a=function(u){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return l(u)},V.exports=l=function c(u){var b;if(this instanceof c)throw new TypeError("Symbol is not a constructor");return s?n(u):(b=g(a.prototype),u=u===void 0?"":String(u),t(b,{__description__:p("",u),__name__:p("",C(u))}))},y(l),h(l),t(a.prototype,{constructor:p(l),toString:p("",function(){return this.__name__})}),t(l.prototype,{toString:p(function(){return"Symbol ("+L(this).__description__+")"}),valueOf:p(function(){return L(this)})}),r(l.prototype,l.toPrimitive,p("",function(){var c=L(this);return typeof c=="symbol"?c:c.toString()})),r(l.prototype,l.toStringTag,p("c","Symbol")),r(a.prototype,l.toStringTag,p("c",l.prototype[l.toStringTag])),r(a.prototype,l.toPrimitive,p("c",l.prototype[l.toPrimitive]))},53308:function(V,B,e){var p=e(82276);V.exports=function(L){if(!p(L))throw new TypeError(L+" is not a symbol");return L}},83522:function(V,B,e){V.exports=e(96402)()?WeakMap:e(329)},96402:function(V){V.exports=function(){var B,e;if(typeof WeakMap!="function")return!1;try{B=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return!(String(B)!=="[object WeakMap]"||typeof B.set!="function"||B.set({},1)!==B||typeof B.delete!="function"||typeof B.has!="function"||B.get(e)!=="one")}},96416:function(V){V.exports=function(){return typeof WeakMap!="function"?!1:Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"}()},329:function(V,B,e){var p=e(95296),L=e(1496),n=e(98976),C=e(36672),y=e(43043),h=e(62072),g=e(66661),t=e(27515),r=e(8260).toStringTag,l=e(96416),a=Array.isArray,s=Object.defineProperty,c=Object.prototype.hasOwnProperty,u=Object.getPrototypeOf,b;V.exports=b=function(){var f=arguments[0],w;if(!(this instanceof b))throw new TypeError("Constructor requires 'new'");return w=l&&L&&WeakMap!==b?L(new WeakMap,u(this)):this,p(f)&&(a(f)||(f=g(f))),s(w,"__weakMapData__",h("c","$weakMap$"+y())),f&&t(f,function(v){C(v),w.set(v[0],v[1])}),w},l&&(L&&L(b,WeakMap),b.prototype=Object.create(WeakMap.prototype,{constructor:h(b)})),Object.defineProperties(b.prototype,{delete:h(function(f){return c.call(n(f),this.__weakMapData__)?(delete f[this.__weakMapData__],!0):!1}),get:h(function(f){if(c.call(n(f),this.__weakMapData__))return f[this.__weakMapData__]}),has:h(function(f){return c.call(n(f),this.__weakMapData__)}),set:h(function(f,w){return s(n(f),this.__weakMapData__,h("c",w)),this}),toString:h(function(){return"[object WeakMap]"})}),s(b.prototype,r,h("c","WeakMap"))},15398:function(V){var B=typeof Reflect=="object"?Reflect:null,e=B&&typeof B.apply=="function"?B.apply:function(d,S,M){return Function.prototype.apply.call(d,S,M)},p;B&&typeof B.ownKeys=="function"?p=B.ownKeys:Object.getOwnPropertySymbols?p=function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:p=function(d){return Object.getOwnPropertyNames(d)};function L(o){console&&console.warn&&console.warn(o)}var n=Number.isNaN||function(d){return d!==d};function C(){C.init.call(this)}V.exports=C,V.exports.once=f,C.EventEmitter=C,C.prototype._events=void 0,C.prototype._eventsCount=0,C.prototype._maxListeners=void 0;var y=10;function h(o){if(typeof o!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}Object.defineProperty(C,"defaultMaxListeners",{enumerable:!0,get:function(){return y},set:function(o){if(typeof o!="number"||o<0||n(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");y=o}}),C.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},C.prototype.setMaxListeners=function(d){if(typeof d!="number"||d<0||n(d))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+d+".");return this._maxListeners=d,this};function g(o){return o._maxListeners===void 0?C.defaultMaxListeners:o._maxListeners}C.prototype.getMaxListeners=function(){return g(this)},C.prototype.emit=function(d){for(var S=[],M=1;M<arguments.length;M++)S.push(arguments[M]);var P=d==="error",x=this._events;if(x!==void 0)P=P&&x.error===void 0;else if(!P)return!1;if(P){var E;if(S.length>0&&(E=S[0]),E instanceof Error)throw E;var T=new Error("Unhandled error."+(E?" ("+E.message+")":""));throw T.context=E,T}var i=x[d];if(i===void 0)return!1;if(typeof i=="function")e(i,this,S);else for(var R=i.length,A=c(i,R),M=0;M<R;++M)e(A[M],this,S);return!0};function t(o,d,S,M){var P,x,E;if(h(S),x=o._events,x===void 0?(x=o._events=Object.create(null),o._eventsCount=0):(x.newListener!==void 0&&(o.emit("newListener",d,S.listener?S.listener:S),x=o._events),E=x[d]),E===void 0)E=x[d]=S,++o._eventsCount;else if(typeof E=="function"?E=x[d]=M?[S,E]:[E,S]:M?E.unshift(S):E.push(S),P=g(o),P>0&&E.length>P&&!E.warned){E.warned=!0;var T=new Error("Possible EventEmitter memory leak detected. "+E.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");T.name="MaxListenersExceededWarning",T.emitter=o,T.type=d,T.count=E.length,L(T)}return o}C.prototype.addListener=function(d,S){return t(this,d,S,!1)},C.prototype.on=C.prototype.addListener,C.prototype.prependListener=function(d,S){return t(this,d,S,!0)};function r(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(o,d,S){var M={fired:!1,wrapFn:void 0,target:o,type:d,listener:S},P=r.bind(M);return P.listener=S,M.wrapFn=P,P}C.prototype.once=function(d,S){return h(S),this.on(d,l(this,d,S)),this},C.prototype.prependOnceListener=function(d,S){return h(S),this.prependListener(d,l(this,d,S)),this},C.prototype.removeListener=function(d,S){var M,P,x,E,T;if(h(S),P=this._events,P===void 0)return this;if(M=P[d],M===void 0)return this;if(M===S||M.listener===S)--this._eventsCount===0?this._events=Object.create(null):(delete P[d],P.removeListener&&this.emit("removeListener",d,M.listener||S));else if(typeof M!="function"){for(x=-1,E=M.length-1;E>=0;E--)if(M[E]===S||M[E].listener===S){T=M[E].listener,x=E;break}if(x<0)return this;x===0?M.shift():u(M,x),M.length===1&&(P[d]=M[0]),P.removeListener!==void 0&&this.emit("removeListener",d,T||S)}return this},C.prototype.off=C.prototype.removeListener,C.prototype.removeAllListeners=function(d){var S,M,P;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[d]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[d]),this;if(arguments.length===0){var x=Object.keys(M),E;for(P=0;P<x.length;++P)E=x[P],E!=="removeListener"&&this.removeAllListeners(E);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(S=M[d],typeof S=="function")this.removeListener(d,S);else if(S!==void 0)for(P=S.length-1;P>=0;P--)this.removeListener(d,S[P]);return this};function a(o,d,S){var M=o._events;if(M===void 0)return[];var P=M[d];return P===void 0?[]:typeof P=="function"?S?[P.listener||P]:[P]:S?b(P):c(P,P.length)}C.prototype.listeners=function(d){return a(this,d,!0)},C.prototype.rawListeners=function(d){return a(this,d,!1)},C.listenerCount=function(o,d){return typeof o.listenerCount=="function"?o.listenerCount(d):s.call(o,d)},C.prototype.listenerCount=s;function s(o){var d=this._events;if(d!==void 0){var S=d[o];if(typeof S=="function")return 1;if(S!==void 0)return S.length}return 0}C.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function c(o,d){for(var S=new Array(d),M=0;M<d;++M)S[M]=o[M];return S}function u(o,d){for(;d+1<o.length;d++)o[d]=o[d+1];o.pop()}function b(o){for(var d=new Array(o.length),S=0;S<d.length;++S)d[S]=o[S].listener||o[S];return d}function f(o,d){return new Promise(function(S,M){function P(E){o.removeListener(d,x),M(E)}function x(){typeof o.removeListener=="function"&&o.removeListener("error",P),S([].slice.call(arguments))}v(o,d,x,{once:!0}),d!=="error"&&w(o,P,{once:!0})})}function w(o,d,S){typeof o.on=="function"&&v(o,"error",d,S)}function v(o,d,S,M){if(typeof o.on=="function")M.once?o.once(d,S):o.on(d,S);else if(typeof o.addEventListener=="function")o.addEventListener(d,function P(x){M.once&&o.removeEventListener(d,P),S(x)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o)}},60774:function(V){var B=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};V.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return B()}try{return __global__||B()}finally{delete Object.prototype.__global__}}()},94908:function(V,B,e){V.exports=e(51152)()?globalThis:e(60774)},51152:function(V){V.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},92770:function(V,B,e){var p=e(18546);V.exports=function(L){var n=typeof L;if(n==="string"){var C=L;if(L=+L,L===0&&p(C))return!1}else if(n!=="number")return!1;return L-L<1}},30120:function(V,B,e){var p=e(90660);V.exports=L;function L(n,C,y){if(!n)throw new TypeError("must specify data as first parameter");if(y=+(y||0)|0,Array.isArray(n)&&n[0]&&typeof n[0][0]=="number"){var h=n[0].length,g=n.length*h,t,r,l,a;(!C||typeof C=="string")&&(C=new(p(C||"float32"))(g+y));var s=C.length-y;if(g!==s)throw new Error("source length "+g+" ("+h+"x"+n.length+") does not match destination length "+s);for(t=0,l=y;t<n.length;t++)for(r=0;r<h;r++)C[l++]=n[t][r]===null?NaN:n[t][r]}else if(!C||typeof C=="string"){var c=p(C||"float32");if(Array.isArray(n)||C==="array")for(C=new c(n.length+y),t=0,l=y,a=C.length;l<a;l++,t++)C[l]=n[t]===null?NaN:n[t];else y===0?C=new c(n):(C=new c(n.length+y),C.set(n,y))}else C.set(n,y);return C}},68016:function(V,B,e){var p=e(53313),L=[32,126];V.exports=n;function n(C){C=C||{};var y=C.shape?C.shape:C.canvas?[C.canvas.width,C.canvas.height]:[512,512],h=C.canvas||document.createElement("canvas"),g=C.font,t=typeof C.step=="number"?[C.step,C.step]:C.step||[32,32],r=C.chars||L;if(g&&typeof g!="string"&&(g=p(g)),!Array.isArray(r))r=String(r).split("");else if(r.length===2&&typeof r[0]=="number"&&typeof r[1]=="number"){for(var l=[],a=r[0],s=0;a<=r[1];a++)l[s++]=String.fromCharCode(a);r=l}y=y.slice(),h.width=y[0],h.height=y[1];var c=h.getContext("2d");c.fillStyle="#000",c.fillRect(0,0,h.width,h.height),c.font=g,c.textAlign="center",c.textBaseline="middle",c.fillStyle="#fff";for(var u=t[0]/2,b=t[1]/2,a=0;a<r.length;a++)c.fillText(r[a],u,b),(u+=t[0])>y[0]-t[0]/2&&(u=t[0]/2,b+=t[1]);return h}},32879:function(V){V.exports=B,B.canvas=document.createElement("canvas"),B.cache={};function B(r,C){C||(C={}),(typeof r=="string"||Array.isArray(r))&&(C.family=r);var y=Array.isArray(C.family)?C.family.join(", "):C.family;if(!y)throw Error("`family` must be defined");var h=C.size||C.fontSize||C.em||48,g=C.weight||C.fontWeight||"",t=C.style||C.fontStyle||"",r=[t,g,h].join(" ")+"px "+y,l=C.origin||"top";if(B.cache[y]&&h<=B.cache[y].em)return e(B.cache[y],l);var a=C.canvas||B.canvas,s=a.getContext("2d"),c={upper:C.upper!==void 0?C.upper:"H",lower:C.lower!==void 0?C.lower:"x",descent:C.descent!==void 0?C.descent:"p",ascent:C.ascent!==void 0?C.ascent:"h",tittle:C.tittle!==void 0?C.tittle:"i",overshoot:C.overshoot!==void 0?C.overshoot:"O"},u=Math.ceil(h*1.5);a.height=u,a.width=u*.5,s.font=r;var b="H",f={top:0};s.clearRect(0,0,u,u),s.textBaseline="top",s.fillStyle="black",s.fillText(b,0,0);var w=p(s.getImageData(0,0,u,u));s.clearRect(0,0,u,u),s.textBaseline="bottom",s.fillText(b,0,u);var v=p(s.getImageData(0,0,u,u));f.lineHeight=f.bottom=u-v+w,s.clearRect(0,0,u,u),s.textBaseline="alphabetic",s.fillText(b,0,u);var o=p(s.getImageData(0,0,u,u)),d=u-o-1+w;f.baseline=f.alphabetic=d,s.clearRect(0,0,u,u),s.textBaseline="middle",s.fillText(b,0,u*.5);var S=p(s.getImageData(0,0,u,u));f.median=f.middle=u-S-1+w-u*.5,s.clearRect(0,0,u,u),s.textBaseline="hanging",s.fillText(b,0,u*.5);var M=p(s.getImageData(0,0,u,u));f.hanging=u-M-1+w-u*.5,s.clearRect(0,0,u,u),s.textBaseline="ideographic",s.fillText(b,0,u);var P=p(s.getImageData(0,0,u,u));if(f.ideographic=u-P-1+w,c.upper&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.upper,0,0),f.upper=p(s.getImageData(0,0,u,u)),f.capHeight=f.baseline-f.upper),c.lower&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.lower,0,0),f.lower=p(s.getImageData(0,0,u,u)),f.xHeight=f.baseline-f.lower),c.tittle&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.tittle,0,0),f.tittle=p(s.getImageData(0,0,u,u))),c.ascent&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.ascent,0,0),f.ascent=p(s.getImageData(0,0,u,u))),c.descent&&(s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.descent,0,0),f.descent=L(s.getImageData(0,0,u,u))),c.overshoot){s.clearRect(0,0,u,u),s.textBaseline="top",s.fillText(c.overshoot,0,0);var x=L(s.getImageData(0,0,u,u));f.overshoot=x-d}for(var E in f)f[E]/=h;return f.em=h,B.cache[y]=f,e(f,l)}function e(n,C){var y={};typeof C=="string"&&(C=n[C]);for(var h in n)h!=="em"&&(y[h]=n[h]-C);return y}function p(n){for(var C=n.height,y=n.data,h=3;h<y.length;h+=4)if(y[h]!==0)return Math.floor((h-3)*.25/C)}function L(n){for(var C=n.height,y=n.data,h=y.length-1;h>0;h-=4)if(y[h]!==0)return Math.floor((h-3)*.25/C)}},31353:function(V,B,e){var p=e(85395),L=Object.prototype.toString,n=Object.prototype.hasOwnProperty,C=function(r,l,a){for(var s=0,c=r.length;s<c;s++)n.call(r,s)&&(a==null?l(r[s],s,r):l.call(a,r[s],s,r))},y=function(r,l,a){for(var s=0,c=r.length;s<c;s++)a==null?l(r.charAt(s),s,r):l.call(a,r.charAt(s),s,r)},h=function(r,l,a){for(var s in r)n.call(r,s)&&(a==null?l(r[s],s,r):l.call(a,r[s],s,r))},g=function(r,l,a){if(!p(l))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=a),L.call(r)==="[object Array]"?C(r,l,s):typeof r=="string"?y(r,l,s):h(r,l,s)};V.exports=g},73047:function(V){var B="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,p=Object.prototype.toString,L="[object Function]";V.exports=function(C){var y=this;if(typeof y!="function"||p.call(y)!==L)throw new TypeError(B+y);for(var h=e.call(arguments,1),g,t=function(){if(this instanceof g){var c=y.apply(this,h.concat(e.call(arguments)));return Object(c)===c?c:this}else return y.apply(C,h.concat(e.call(arguments)))},r=Math.max(0,y.length-h.length),l=[],a=0;a<r;a++)l.push("$"+a);if(g=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(t),y.prototype){var s=function(){};s.prototype=y.prototype,g.prototype=new s,s.prototype=null}return g}},77575:function(V,B,e){var p=e(73047);V.exports=Function.prototype.bind||p},86249:function(V){V.exports=B;function B(e,p){if(typeof e!="string")throw new TypeError("must specify type string");if(p=p||{},typeof document>"u"&&!p.canvas)return null;var L=p.canvas||document.createElement("canvas");typeof p.width=="number"&&(L.width=p.width),typeof p.height=="number"&&(L.height=p.height);var n=p,C;try{var y=[e];e.indexOf("webgl")===0&&y.push("experimental-"+e);for(var h=0;h<y.length;h++)if(C=L.getContext(y[h],n),C)return C}catch{C=null}return C||null}},68318:function(V,B,e){var p,L=SyntaxError,n=Function,C=TypeError,y=function(R){try{return n('"use strict"; return ('+R+").constructor;")()}catch{}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch{h=null}var g=function(){throw new C},t=h?function(){try{return arguments.callee,g}catch{try{return h(arguments,"callee").get}catch{return g}}}():g,r=e(57877)(),l=Object.getPrototypeOf||function(R){return R.__proto__},a={},s=typeof Uint8Array>"u"?p:l(Uint8Array),c={"%AggregateError%":typeof AggregateError>"u"?p:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?p:ArrayBuffer,"%ArrayIteratorPrototype%":r?l([][Symbol.iterator]()):p,"%AsyncFromSyncIteratorPrototype%":p,"%AsyncFunction%":a,"%AsyncGenerator%":a,"%AsyncGeneratorFunction%":a,"%AsyncIteratorPrototype%":a,"%Atomics%":typeof Atomics>"u"?p:Atomics,"%BigInt%":typeof BigInt>"u"?p:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?p:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?p:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?p:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?p:Float32Array,"%Float64Array%":typeof Float64Array>"u"?p:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?p:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":a,"%Int8Array%":typeof Int8Array>"u"?p:Int8Array,"%Int16Array%":typeof Int16Array>"u"?p:Int16Array,"%Int32Array%":typeof Int32Array>"u"?p:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":r?l(l([][Symbol.iterator]())):p,"%JSON%":typeof JSON=="object"?JSON:p,"%Map%":typeof Map>"u"?p:Map,"%MapIteratorPrototype%":typeof Map>"u"||!r?p:l(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?p:Promise,"%Proxy%":typeof Proxy>"u"?p:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?p:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?p:Set,"%SetIteratorPrototype%":typeof Set>"u"||!r?p:l(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?p:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":r?l(""[Symbol.iterator]()):p,"%Symbol%":r?Symbol:p,"%SyntaxError%":L,"%ThrowTypeError%":t,"%TypedArray%":s,"%TypeError%":C,"%Uint8Array%":typeof Uint8Array>"u"?p:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?p:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?p:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?p:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?p:WeakMap,"%WeakRef%":typeof WeakRef>"u"?p:WeakRef,"%WeakSet%":typeof WeakSet>"u"?p:WeakSet};try{null.error}catch(R){var u=l(l(R));c["%Error.prototype%"]=u}var b=function R(A){var k;if(A==="%AsyncFunction%")k=y("async function () {}");else if(A==="%GeneratorFunction%")k=y("function* () {}");else if(A==="%AsyncGeneratorFunction%")k=y("async function* () {}");else if(A==="%AsyncGenerator%"){var _=R("%AsyncGeneratorFunction%");_&&(k=_.prototype)}else if(A==="%AsyncIteratorPrototype%"){var H=R("%AsyncGenerator%");H&&(k=l(H.prototype))}return c[A]=k,k},f={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=e(77575),v=e(35065),o=w.call(Function.call,Array.prototype.concat),d=w.call(Function.apply,Array.prototype.splice),S=w.call(Function.call,String.prototype.replace),M=w.call(Function.call,String.prototype.slice),P=w.call(Function.call,RegExp.prototype.exec),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,T=function(A){var k=M(A,0,1),_=M(A,-1);if(k==="%"&&_!=="%")throw new L("invalid intrinsic syntax, expected closing `%`");if(_==="%"&&k!=="%")throw new L("invalid intrinsic syntax, expected opening `%`");var H=[];return S(A,x,function(z,N,O,F){H[H.length]=O?S(F,E,"$1"):N||z}),H},i=function(A,k){var _=A,H;if(v(f,_)&&(H=f[_],_="%"+H[0]+"%"),v(c,_)){var z=c[_];if(z===a&&(z=b(_)),typeof z>"u"&&!k)throw new C("intrinsic "+A+" exists, but is not available. Please file an issue!");return{alias:H,name:_,value:z}}throw new L("intrinsic "+A+" does not exist!")};V.exports=function(A,k){if(typeof A!="string"||A.length===0)throw new C("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof k!="boolean")throw new C('"allowMissing" argument must be a boolean');if(P(/^%?[^%]*%?$/,A)===null)throw new L("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var _=T(A),H=_.length>0?_[0]:"",z=i("%"+H+"%",k),N=z.name,O=z.value,F=!1,U=z.alias;U&&(H=U[0],d(_,o([0,1],U)));for(var Z=1,q=!0;Z<_.length;Z+=1){var J=_[Z],te=M(J,0,1),fe=M(J,-1);if((te==='"'||te==="'"||te==="`"||fe==='"'||fe==="'"||fe==="`")&&te!==fe)throw new L("property names with quotes must have matching quotes");if((J==="constructor"||!q)&&(F=!0),H+="."+J,N="%"+H+"%",v(c,N))O=c[N];else if(O!=null){if(!(J in O)){if(!k)throw new C("base intrinsic for "+A+" exists, but the property is not available.");return}if(h&&Z+1>=_.length){var K=h(O,J);q=!!K,q&&"get"in K&&!("originalValue"in K.get)?O=K.get:O=O[J]}else q=v(O,J),O=O[J];q&&!F&&(c[N]=O)}}return O}},85400:function(V){V.exports=B;function B(e,p){var L=p[0],n=p[1],C=p[2],y=p[3],h=p[4],g=p[5],t=p[6],r=p[7],l=p[8],a=p[9],s=p[10],c=p[11],u=p[12],b=p[13],f=p[14],w=p[15];return e[0]=g*(s*w-c*f)-a*(t*w-r*f)+b*(t*c-r*s),e[1]=-(n*(s*w-c*f)-a*(C*w-y*f)+b*(C*c-y*s)),e[2]=n*(t*w-r*f)-g*(C*w-y*f)+b*(C*r-y*t),e[3]=-(n*(t*c-r*s)-g*(C*c-y*s)+a*(C*r-y*t)),e[4]=-(h*(s*w-c*f)-l*(t*w-r*f)+u*(t*c-r*s)),e[5]=L*(s*w-c*f)-l*(C*w-y*f)+u*(C*c-y*s),e[6]=-(L*(t*w-r*f)-h*(C*w-y*f)+u*(C*r-y*t)),e[7]=L*(t*c-r*s)-h*(C*c-y*s)+l*(C*r-y*t),e[8]=h*(a*w-c*b)-l*(g*w-r*b)+u*(g*c-r*a),e[9]=-(L*(a*w-c*b)-l*(n*w-y*b)+u*(n*c-y*a)),e[10]=L*(g*w-r*b)-h*(n*w-y*b)+u*(n*r-y*g),e[11]=-(L*(g*c-r*a)-h*(n*c-y*a)+l*(n*r-y*g)),e[12]=-(h*(a*f-s*b)-l*(g*f-t*b)+u*(g*s-t*a)),e[13]=L*(a*f-s*b)-l*(n*f-C*b)+u*(n*s-C*a),e[14]=-(L*(g*f-t*b)-h*(n*f-C*b)+u*(n*t-C*g)),e[15]=L*(g*s-t*a)-h*(n*s-C*a)+l*(n*t-C*g),e}},42331:function(V){V.exports=B;function B(e){var p=new Float32Array(16);return p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p[4]=e[4],p[5]=e[5],p[6]=e[6],p[7]=e[7],p[8]=e[8],p[9]=e[9],p[10]=e[10],p[11]=e[11],p[12]=e[12],p[13]=e[13],p[14]=e[14],p[15]=e[15],p}},31042:function(V){V.exports=B;function B(e,p){return e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},11902:function(V){V.exports=B;function B(){var e=new Float32Array(16);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},89887:function(V){V.exports=B;function B(e){var p=e[0],L=e[1],n=e[2],C=e[3],y=e[4],h=e[5],g=e[6],t=e[7],r=e[8],l=e[9],a=e[10],s=e[11],c=e[12],u=e[13],b=e[14],f=e[15],w=p*h-L*y,v=p*g-n*y,o=p*t-C*y,d=L*g-n*h,S=L*t-C*h,M=n*t-C*g,P=r*u-l*c,x=r*b-a*c,E=r*f-s*c,T=l*b-a*u,i=l*f-s*u,R=a*f-s*b;return w*R-v*i+o*T+d*E-S*x+M*P}},27812:function(V){V.exports=B;function B(e,p){var L=p[0],n=p[1],C=p[2],y=p[3],h=L+L,g=n+n,t=C+C,r=L*h,l=n*h,a=n*g,s=C*h,c=C*g,u=C*t,b=y*h,f=y*g,w=y*t;return e[0]=1-a-u,e[1]=l+w,e[2]=s-f,e[3]=0,e[4]=l-w,e[5]=1-r-u,e[6]=c+b,e[7]=0,e[8]=s+f,e[9]=c-b,e[10]=1-r-a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},34045:function(V){V.exports=B;function B(e,p,L){var n,C,y,h=L[0],g=L[1],t=L[2],r=Math.sqrt(h*h+g*g+t*t);return Math.abs(r)<1e-6?null:(r=1/r,h*=r,g*=r,t*=r,n=Math.sin(p),C=Math.cos(p),y=1-C,e[0]=h*h*y+C,e[1]=g*h*y+t*n,e[2]=t*h*y-g*n,e[3]=0,e[4]=h*g*y-t*n,e[5]=g*g*y+C,e[6]=t*g*y+h*n,e[7]=0,e[8]=h*t*y+g*n,e[9]=g*t*y-h*n,e[10]=t*t*y+C,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e)}},45973:function(V){V.exports=B;function B(e,p,L){var n=p[0],C=p[1],y=p[2],h=p[3],g=n+n,t=C+C,r=y+y,l=n*g,a=n*t,s=n*r,c=C*t,u=C*r,b=y*r,f=h*g,w=h*t,v=h*r;return e[0]=1-(c+b),e[1]=a+v,e[2]=s-w,e[3]=0,e[4]=a-v,e[5]=1-(l+b),e[6]=u+f,e[7]=0,e[8]=s+w,e[9]=u-f,e[10]=1-(l+c),e[11]=0,e[12]=L[0],e[13]=L[1],e[14]=L[2],e[15]=1,e}},81472:function(V){V.exports=B;function B(e,p){return e[0]=p[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=p[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=p[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},14669:function(V){V.exports=B;function B(e,p){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=p[0],e[13]=p[1],e[14]=p[2],e[15]=1,e}},75262:function(V){V.exports=B;function B(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=n,e[6]=L,e[7]=0,e[8]=0,e[9]=-L,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},331:function(V){V.exports=B;function B(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=n,e[1]=0,e[2]=-L,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=L,e[9]=0,e[10]=n,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},11049:function(V){V.exports=B;function B(e,p){var L=Math.sin(p),n=Math.cos(p);return e[0]=n,e[1]=L,e[2]=0,e[3]=0,e[4]=-L,e[5]=n,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},75195:function(V){V.exports=B;function B(e,p,L,n,C,y,h){var g=1/(L-p),t=1/(C-n),r=1/(y-h);return e[0]=y*2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=y*2*t,e[6]=0,e[7]=0,e[8]=(L+p)*g,e[9]=(C+n)*t,e[10]=(h+y)*r,e[11]=-1,e[12]=0,e[13]=0,e[14]=h*y*2*r,e[15]=0,e}},71551:function(V){V.exports=B;function B(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}},79576:function(V,B,e){V.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(V){V.exports=B;function B(e,p){var L=p[0],n=p[1],C=p[2],y=p[3],h=p[4],g=p[5],t=p[6],r=p[7],l=p[8],a=p[9],s=p[10],c=p[11],u=p[12],b=p[13],f=p[14],w=p[15],v=L*g-n*h,o=L*t-C*h,d=L*r-y*h,S=n*t-C*g,M=n*r-y*g,P=C*r-y*t,x=l*b-a*u,E=l*f-s*u,T=l*w-c*u,i=a*f-s*b,R=a*w-c*b,A=s*w-c*f,k=v*A-o*R+d*i+S*T-M*E+P*x;return k?(k=1/k,e[0]=(g*A-t*R+r*i)*k,e[1]=(C*R-n*A-y*i)*k,e[2]=(b*P-f*M+w*S)*k,e[3]=(s*M-a*P-c*S)*k,e[4]=(t*T-h*A-r*E)*k,e[5]=(L*A-C*T+y*E)*k,e[6]=(f*d-u*P-w*o)*k,e[7]=(l*P-s*d+c*o)*k,e[8]=(h*R-g*T+r*x)*k,e[9]=(n*T-L*R-y*x)*k,e[10]=(u*M-b*d+w*v)*k,e[11]=(a*d-l*M-c*v)*k,e[12]=(g*E-h*i-t*x)*k,e[13]=(L*i-n*E+C*x)*k,e[14]=(b*o-u*S-f*v)*k,e[15]=(l*S-a*o+s*v)*k,e):null}},65551:function(V,B,e){var p=e(71551);V.exports=L;function L(n,C,y,h){var g,t,r,l,a,s,c,u,b,f,w=C[0],v=C[1],o=C[2],d=h[0],S=h[1],M=h[2],P=y[0],x=y[1],E=y[2];return Math.abs(w-P)<1e-6&&Math.abs(v-x)<1e-6&&Math.abs(o-E)<1e-6?p(n):(c=w-P,u=v-x,b=o-E,f=1/Math.sqrt(c*c+u*u+b*b),c*=f,u*=f,b*=f,g=S*b-M*u,t=M*c-d*b,r=d*u-S*c,f=Math.sqrt(g*g+t*t+r*r),f?(f=1/f,g*=f,t*=f,r*=f):(g=0,t=0,r=0),l=u*r-b*t,a=b*g-c*r,s=c*t-u*g,f=Math.sqrt(l*l+a*a+s*s),f?(f=1/f,l*=f,a*=f,s*=f):(l=0,a=0,s=0),n[0]=g,n[1]=l,n[2]=c,n[3]=0,n[4]=t,n[5]=a,n[6]=u,n[7]=0,n[8]=r,n[9]=s,n[10]=b,n[11]=0,n[12]=-(g*w+t*v+r*o),n[13]=-(l*w+a*v+s*o),n[14]=-(c*w+u*v+b*o),n[15]=1,n)}},91362:function(V){V.exports=B;function B(e,p,L){var n=p[0],C=p[1],y=p[2],h=p[3],g=p[4],t=p[5],r=p[6],l=p[7],a=p[8],s=p[9],c=p[10],u=p[11],b=p[12],f=p[13],w=p[14],v=p[15],o=L[0],d=L[1],S=L[2],M=L[3];return e[0]=o*n+d*g+S*a+M*b,e[1]=o*C+d*t+S*s+M*f,e[2]=o*y+d*r+S*c+M*w,e[3]=o*h+d*l+S*u+M*v,o=L[4],d=L[5],S=L[6],M=L[7],e[4]=o*n+d*g+S*a+M*b,e[5]=o*C+d*t+S*s+M*f,e[6]=o*y+d*r+S*c+M*w,e[7]=o*h+d*l+S*u+M*v,o=L[8],d=L[9],S=L[10],M=L[11],e[8]=o*n+d*g+S*a+M*b,e[9]=o*C+d*t+S*s+M*f,e[10]=o*y+d*r+S*c+M*w,e[11]=o*h+d*l+S*u+M*v,o=L[12],d=L[13],S=L[14],M=L[15],e[12]=o*n+d*g+S*a+M*b,e[13]=o*C+d*t+S*s+M*f,e[14]=o*y+d*r+S*c+M*w,e[15]=o*h+d*l+S*u+M*v,e}},60378:function(V){V.exports=B;function B(e,p,L,n,C,y,h){var g=1/(p-L),t=1/(n-C),r=1/(y-h);return e[0]=-2*g,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*t,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*r,e[11]=0,e[12]=(p+L)*g,e[13]=(C+n)*t,e[14]=(h+y)*r,e[15]=1,e}},7864:function(V){V.exports=B;function B(e,p,L,n,C){var y=1/Math.tan(p/2),h=1/(n-C);return e[0]=y/L,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=y,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=(C+n)*h,e[11]=-1,e[12]=0,e[13]=0,e[14]=2*C*n*h,e[15]=0,e}},35279:function(V){V.exports=B;function B(e,p,L,n){var C=Math.tan(p.upDegrees*Math.PI/180),y=Math.tan(p.downDegrees*Math.PI/180),h=Math.tan(p.leftDegrees*Math.PI/180),g=Math.tan(p.rightDegrees*Math.PI/180),t=2/(h+g),r=2/(C+y);return e[0]=t,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=r,e[6]=0,e[7]=0,e[8]=-((h-g)*t*.5),e[9]=(C-y)*r*.5,e[10]=n/(L-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=n*L/(L-n),e[15]=0,e}},65074:function(V){V.exports=B;function B(e,p,L,n){var C=n[0],y=n[1],h=n[2],g=Math.sqrt(C*C+y*y+h*h),t,r,l,a,s,c,u,b,f,w,v,o,d,S,M,P,x,E,T,i,R,A,k,_;return Math.abs(g)<1e-6?null:(g=1/g,C*=g,y*=g,h*=g,t=Math.sin(L),r=Math.cos(L),l=1-r,a=p[0],s=p[1],c=p[2],u=p[3],b=p[4],f=p[5],w=p[6],v=p[7],o=p[8],d=p[9],S=p[10],M=p[11],P=C*C*l+r,x=y*C*l+h*t,E=h*C*l-y*t,T=C*y*l-h*t,i=y*y*l+r,R=h*y*l+C*t,A=C*h*l+y*t,k=y*h*l-C*t,_=h*h*l+r,e[0]=a*P+b*x+o*E,e[1]=s*P+f*x+d*E,e[2]=c*P+w*x+S*E,e[3]=u*P+v*x+M*E,e[4]=a*T+b*i+o*R,e[5]=s*T+f*i+d*R,e[6]=c*T+w*i+S*R,e[7]=u*T+v*i+M*R,e[8]=a*A+b*k+o*_,e[9]=s*A+f*k+d*_,e[10]=c*A+w*k+S*_,e[11]=u*A+v*k+M*_,p!==e&&(e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e)}},35545:function(V){V.exports=B;function B(e,p,L){var n=Math.sin(L),C=Math.cos(L),y=p[4],h=p[5],g=p[6],t=p[7],r=p[8],l=p[9],a=p[10],s=p[11];return p!==e&&(e[0]=p[0],e[1]=p[1],e[2]=p[2],e[3]=p[3],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[4]=y*C+r*n,e[5]=h*C+l*n,e[6]=g*C+a*n,e[7]=t*C+s*n,e[8]=r*C-y*n,e[9]=l*C-h*n,e[10]=a*C-g*n,e[11]=s*C-t*n,e}},94918:function(V){V.exports=B;function B(e,p,L){var n=Math.sin(L),C=Math.cos(L),y=p[0],h=p[1],g=p[2],t=p[3],r=p[8],l=p[9],a=p[10],s=p[11];return p!==e&&(e[4]=p[4],e[5]=p[5],e[6]=p[6],e[7]=p[7],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=y*C-r*n,e[1]=h*C-l*n,e[2]=g*C-a*n,e[3]=t*C-s*n,e[8]=y*n+r*C,e[9]=h*n+l*C,e[10]=g*n+a*C,e[11]=t*n+s*C,e}},15692:function(V){V.exports=B;function B(e,p,L){var n=Math.sin(L),C=Math.cos(L),y=p[0],h=p[1],g=p[2],t=p[3],r=p[4],l=p[5],a=p[6],s=p[7];return p!==e&&(e[8]=p[8],e[9]=p[9],e[10]=p[10],e[11]=p[11],e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15]),e[0]=y*C+r*n,e[1]=h*C+l*n,e[2]=g*C+a*n,e[3]=t*C+s*n,e[4]=r*C-y*n,e[5]=l*C-h*n,e[6]=a*C-g*n,e[7]=s*C-t*n,e}},10789:function(V){V.exports=B;function B(e,p,L){var n=L[0],C=L[1],y=L[2];return e[0]=p[0]*n,e[1]=p[1]*n,e[2]=p[2]*n,e[3]=p[3]*n,e[4]=p[4]*C,e[5]=p[5]*C,e[6]=p[6]*C,e[7]=p[7]*C,e[8]=p[8]*y,e[9]=p[9]*y,e[10]=p[10]*y,e[11]=p[11]*y,e[12]=p[12],e[13]=p[13],e[14]=p[14],e[15]=p[15],e}},6726:function(V){V.exports=B;function B(e){return"mat4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+", "+e[9]+", "+e[10]+", "+e[11]+", "+e[12]+", "+e[13]+", "+e[14]+", "+e[15]+")"}},31283:function(V){V.exports=B;function B(e,p,L){var n=L[0],C=L[1],y=L[2],h,g,t,r,l,a,s,c,u,b,f,w;return p===e?(e[12]=p[0]*n+p[4]*C+p[8]*y+p[12],e[13]=p[1]*n+p[5]*C+p[9]*y+p[13],e[14]=p[2]*n+p[6]*C+p[10]*y+p[14],e[15]=p[3]*n+p[7]*C+p[11]*y+p[15]):(h=p[0],g=p[1],t=p[2],r=p[3],l=p[4],a=p[5],s=p[6],c=p[7],u=p[8],b=p[9],f=p[10],w=p[11],e[0]=h,e[1]=g,e[2]=t,e[3]=r,e[4]=l,e[5]=a,e[6]=s,e[7]=c,e[8]=u,e[9]=b,e[10]=f,e[11]=w,e[12]=h*n+l*C+u*y+p[12],e[13]=g*n+a*C+b*y+p[13],e[14]=t*n+s*C+f*y+p[14],e[15]=r*n+c*C+w*y+p[15]),e}},88654:function(V){V.exports=B;function B(e,p){if(e===p){var L=p[1],n=p[2],C=p[3],y=p[6],h=p[7],g=p[11];e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=L,e[6]=p[9],e[7]=p[13],e[8]=n,e[9]=y,e[11]=p[14],e[12]=C,e[13]=h,e[14]=g}else e[0]=p[0],e[1]=p[4],e[2]=p[8],e[3]=p[12],e[4]=p[1],e[5]=p[5],e[6]=p[9],e[7]=p[13],e[8]=p[2],e[9]=p[6],e[10]=p[10],e[11]=p[14],e[12]=p[3],e[13]=p[7],e[14]=p[11],e[15]=p[15];return e}},42505:function(V,B,e){var p=e(72791),L=e(71299),n=e(98580),C=e(12018),y=e(83522),h=e(25075),g=e(68016),t=e(58404),r=e(18863),l=e(10973),a=e(25677),s=e(75686),c=e(53545),u=e(56131),b=e(32879),f=e(30120),w=e(13547),v=w.nextPow2,o=new y,d=!1;if(document.body){var S=document.body.appendChild(document.createElement("div"));S.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(S).fontStretch&&(d=!0),document.body.removeChild(S)}var M=function(E){P(E)?(E={regl:E},this.gl=E.regl._gl):this.gl=C(E),this.shader=o.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=E.regl||n({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),o.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(l(E)?E:{})};M.prototype.createShader=function(){var E=this.regl,T=E({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:E.prop("count"),offset:E.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:E.this("sizeBuffer")},width:{offset:0,stride:8,buffer:E.this("sizeBuffer")},char:E.this("charBuffer"),position:E.this("position")},uniforms:{atlasSize:function(R,A){return[A.atlas.width,A.atlas.height]},atlasDim:function(R,A){return[A.atlas.cols,A.atlas.rows]},atlas:function(R,A){return A.atlas.texture},charStep:function(R,A){return A.atlas.step},em:function(R,A){return A.atlas.em},color:E.prop("color"),opacity:E.prop("opacity"),viewport:E.this("viewportArray"),scale:E.this("scale"),align:E.prop("align"),baseline:E.prop("baseline"),translate:E.this("translate"),positionOffset:E.prop("positionOffset")},primitive:"points",viewport:E.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`}),i={};return{regl:E,draw:T,atlas:i}},M.prototype.update=function(E){var T=this;if(typeof E=="string")E={text:E};else if(!E)return;E=L(E,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0),E.opacity!=null&&(Array.isArray(E.opacity)?this.opacity=E.opacity.map(function(ke){return parseFloat(ke)}):this.opacity=parseFloat(E.opacity)),E.viewport!=null&&(this.viewport=r(E.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),E.kerning!=null&&(this.kerning=E.kerning),E.offset!=null&&(typeof E.offset=="number"&&(E.offset=[E.offset,0]),this.positionOffset=f(E.offset)),E.direction&&(this.direction=E.direction),E.range&&(this.range=E.range,this.scale=[1/(E.range[2]-E.range[0]),1/(E.range[3]-E.range[1])],this.translate=[-E.range[0],-E.range[1]]),E.scale&&(this.scale=E.scale),E.translate&&(this.translate=E.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),!this.font.length&&!E.font&&(E.font=M.baseFontSize+"px sans-serif");var i=!1,R=!1;if(E.font&&(Array.isArray(E.font)?E.font:[E.font]).forEach(function(ke,We){if(typeof ke=="string")try{ke=p.parse(ke)}catch{ke=p.parse(M.baseFontSize+"px "+ke)}else ke=p.parse(p.stringify(ke));var nt=p.stringify({size:M.baseFontSize,family:ke.family,stretch:d?ke.stretch:void 0,variant:ke.variant,weight:ke.weight,style:ke.style}),qe=a(ke.size),Qe=Math.round(qe[0]*s(qe[1]));if(Qe!==T.fontSize[We]&&(R=!0,T.fontSize[We]=Qe),(!T.font[We]||nt!=T.font[We].baseString)&&(i=!0,T.font[We]=M.fonts[nt],!T.font[We])){var tt=ke.family.join(", "),vt=[ke.style];ke.style!=ke.variant&&vt.push(ke.variant),ke.variant!=ke.weight&&vt.push(ke.weight),d&&ke.weight!=ke.stretch&&vt.push(ke.stretch),T.font[We]={baseString:nt,family:tt,weight:ke.weight,stretch:ke.stretch,style:ke.style,variant:ke.variant,width:{},kerning:{},metrics:b(tt,{origin:"top",fontSize:M.baseFontSize,fontStyle:vt.join(" ")})},M.fonts[nt]=T.font[We]}}),(i||R)&&this.font.forEach(function(ke,We){var nt=p.stringify({size:T.fontSize[We],family:ke.family,stretch:d?ke.stretch:void 0,variant:ke.variant,weight:ke.weight,style:ke.style});if(T.fontAtlas[We]=T.shader.atlas[nt],!T.fontAtlas[We]){var qe=ke.metrics;T.shader.atlas[nt]=T.fontAtlas[We]={fontString:nt,step:Math.ceil(T.fontSize[We]*qe.bottom*.5)*2,em:T.fontSize[We],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:T.regl.texture()}}E.text==null&&(E.text=T.text)}),typeof E.text=="string"&&E.position&&E.position.length>2){for(var A=Array(E.position.length*.5),k=0;k<A.length;k++)A[k]=E.text;E.text=A}var _;if(E.text!=null||i){if(this.textOffsets=[0],Array.isArray(E.text)){this.count=E.text[0].length,this.counts=[this.count];for(var H=1;H<E.text.length;H++)this.textOffsets[H]=this.textOffsets[H-1]+E.text[H-1].length,this.count+=E.text[H].length,this.counts.push(E.text[H].length);this.text=E.text.join("")}else this.text=E.text,this.count=this.text.length,this.counts=[this.count];_=[],this.font.forEach(function(ke,We){M.atlasContext.font=ke.baseString;for(var nt=T.fontAtlas[We],qe=0;qe<T.text.length;qe++){var Qe=T.text.charAt(qe);if(nt.ids[Qe]==null&&(nt.ids[Qe]=nt.chars.length,nt.chars.push(Qe),_.push(Qe)),ke.width[Qe]==null&&(ke.width[Qe]=M.atlasContext.measureText(Qe).width/M.baseFontSize,T.kerning)){var tt=[];for(var vt in ke.width)tt.push(vt+Qe,Qe+vt);u(ke.kerning,c(ke.family,{pairs:tt}))}}})}if(E.position)if(E.position.length>2){for(var z=!E.position[0].length,N=t.mallocFloat(this.count*2),O=0,F=0;O<this.counts.length;O++){var U=this.counts[O];if(z)for(var Z=0;Z<U;Z++)N[F++]=E.position[O*2],N[F++]=E.position[O*2+1];else for(var q=0;q<U;q++)N[F++]=E.position[O][0],N[F++]=E.position[O][1]}this.position.call?this.position({type:"float",data:N}):this.position=this.regl.buffer({type:"float",data:N}),t.freeFloat(N)}else this.position.destroy&&this.position.destroy(),this.position={constant:E.position};if(E.text||i){var J=t.mallocUint8(this.count),te=t.mallocFloat(this.count*2);this.textWidth=[];for(var fe=0,K=0;fe<this.counts.length;fe++){for(var Y=this.counts[fe],W=this.font[fe]||this.font[0],X=this.fontAtlas[fe]||this.fontAtlas[0],re=0;re<Y;re++){var se=this.text.charAt(K),Q=this.text.charAt(K-1);if(J[K]=X.ids[se],te[K*2]=W.width[se],re){var ee=te[K*2-2],le=te[K*2],oe=te[K*2-1],he=oe+ee*.5+le*.5;if(this.kerning){var xe=W.kerning[Q+se];xe&&(he+=xe*.001)}te[K*2+1]=he}else te[K*2+1]=te[K*2]*.5;K++}this.textWidth.push(te.length?te[K*2-2]*.5+te[K*2-1]:0)}E.align||(E.align=this.align),this.charBuffer({data:J,type:"uint8",usage:"stream"}),this.sizeBuffer({data:te,type:"float",usage:"stream"}),t.freeUint8(J),t.freeFloat(te),_.length&&this.font.forEach(function(ke,We){var nt=T.fontAtlas[We],qe=nt.step,Qe=Math.floor(M.maxAtlasSize/qe),tt=Math.min(Qe,nt.chars.length),vt=Math.ceil(nt.chars.length/tt),dt=v(tt*qe),gt=v(vt*qe);nt.width=dt,nt.height=gt,nt.rows=vt,nt.cols=tt,nt.em&&nt.texture({data:g({canvas:M.atlasCanvas,font:nt.fontString,chars:nt.chars,shape:[dt,gt],step:[qe,qe]})})})}if(E.align&&(this.align=E.align,this.alignOffset=this.textWidth.map(function(ke,We){var nt=Array.isArray(T.align)?T.align.length>1?T.align[We]:T.align[0]:T.align;if(typeof nt=="number")return nt;switch(nt){case"right":case"end":return-ke;case"center":case"centre":case"middle":return-ke*.5}return 0})),this.baseline==null&&E.baseline==null&&(E.baseline=0),E.baseline!=null&&(this.baseline=E.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(ke,We){var nt=(T.font[We]||T.font[0]).metrics,qe=0;return qe+=nt.bottom*.5,typeof ke=="number"?qe+=ke-nt.baseline:qe+=-nt[ke],qe*=-1,qe})),E.color!=null)if(E.color||(E.color="transparent"),typeof E.color=="string"||!isNaN(E.color))this.color=h(E.color,"uint8");else{var Ae;if(typeof E.color[0]=="number"&&E.color.length>this.counts.length){var Se=E.color.length;Ae=t.mallocUint8(Se);for(var Oe=(E.color.subarray||E.color.slice).bind(E.color),Ve=0;Ve<Se;Ve+=4)Ae.set(h(Oe(Ve,Ve+4),"uint8"),Ve)}else{var Ee=E.color.length;Ae=t.mallocUint8(Ee*4);for(var Te=0;Te<Ee;Te++)Ae.set(h(E.color[Te]||0,"uint8"),Te*4)}this.color=Ae}if(E.position||E.text||E.color||E.baseline||E.align||E.font||E.offset||E.opacity){var Le=this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2;if(Le){var Ge=Math.max(this.position.length*.5||0,this.color.length*.25||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,this.positionOffset.length*.5||0);this.batch=Array(Ge);for(var He=0;He<this.batch.length;He++)this.batch[He]={count:this.counts.length>1?this.counts[He]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[He]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(He*4,He*4+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[He]:this.opacity,baseline:this.baselineOffset[He]!=null?this.baselineOffset[He]:this.baselineOffset[0],align:this.align?this.alignOffset[He]!=null?this.alignOffset[He]:this.alignOffset[0]:0,atlas:this.fontAtlas[He]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(He*2,He*2+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]}},M.prototype.destroy=function(){},M.prototype.kerning=!0,M.prototype.position={constant:new Float32Array(2)},M.prototype.translate=null,M.prototype.scale=null,M.prototype.font=null,M.prototype.text="",M.prototype.positionOffset=[0,0],M.prototype.opacity=1,M.prototype.color=new Uint8Array([0,0,0,255]),M.prototype.alignOffset=[0,0],M.maxAtlasSize=1024,M.atlasCanvas=document.createElement("canvas"),M.atlasContext=M.atlasCanvas.getContext("2d",{alpha:!1}),M.baseFontSize=64,M.fonts={};function P(x){return typeof x=="function"&&x._gl&&x.prop&&x.texture&&x.buffer}V.exports=M},12018:function(V,B,e){var p=e(71299);V.exports=function(t){if(t?typeof t=="string"&&(t={container:t}):t={},n(t)?t={container:t}:C(t)?t={container:t}:y(t)?t={gl:t}:t=p(t,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0),t.pixelRatio||(t.pixelRatio=e.g.pixelRatio||1),t.gl)return t.gl;if(t.canvas&&(t.container=t.canvas.parentNode),t.container){if(typeof t.container=="string"){var r=document.querySelector(t.container);if(!r)throw Error("Element "+t.container+" is not found");t.container=r}n(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=h(),t.container.appendChild(t.canvas),L(t))}else if(!t.canvas)if(typeof document<"u")t.container=document.body||document.documentElement,t.canvas=h(),t.container.appendChild(t.canvas),L(t);else throw Error("Not DOM environment. Use headless-gl.");return t.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(l){try{t.gl=t.canvas.getContext(l,t.attrs)}catch{}return t.gl}),t.gl};function L(g){if(g.container)if(g.container==document.body)document.body.style.width||(g.canvas.width=g.width||g.pixelRatio*e.g.innerWidth),document.body.style.height||(g.canvas.height=g.height||g.pixelRatio*e.g.innerHeight);else{var t=g.container.getBoundingClientRect();g.canvas.width=g.width||t.right-t.left,g.canvas.height=g.height||t.bottom-t.top}}function n(g){return typeof g.getContext=="function"&&"width"in g&&"height"in g}function C(g){return typeof g.nodeName=="string"&&typeof g.appendChild=="function"&&typeof g.getBoundingClientRect=="function"}function y(g){return typeof g.drawArrays=="function"||typeof g.drawElements=="function"}function h(){var g=document.createElement("canvas");return g.style.position="absolute",g.style.top=0,g.style.left=0,g}},56068:function(V){V.exports=function(B){typeof B=="string"&&(B=[B]);for(var e=[].slice.call(arguments,1),p=[],L=0;L<B.length-1;L++)p.push(B[L],e[L]||"");return p.push(B[L]),p.join("")}},40383:function(V,B,e){var p=e(68318),L=p("%Object.getOwnPropertyDescriptor%",!0);if(L)try{L([],"length")}catch{L=null}V.exports=L},57035:function(V,B,e){var p=e(54404),L;typeof e.g.matchMedia=="function"?L=!e.g.matchMedia("(hover: none)").matches:L=p,V.exports=L},38520:function(V,B,e){var p=e(54404);function L(){var n=!1;try{var C=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("test",null,C),window.removeEventListener("test",null,C)}catch{n=!1}return n}V.exports=p&&L()},55622:function(V,B,e){var p=e(68318),L=p("%Object.defineProperty%",!0),n=function(){if(L)try{return L({},"a",{value:1}),!0}catch{return!1}return!1};n.hasArrayLengthDefineBug=function(){if(!n())return null;try{return L([],"length",{value:1}).length!==1}catch{return!0}},V.exports=n},57877:function(V,B,e){var p=typeof Symbol<"u"&&Symbol,L=e(35638);V.exports=function(){return typeof p!="function"||typeof Symbol!="function"||typeof p("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:L()}},35638:function(V){V.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},p=Symbol("test"),L=Object(p);if(typeof p=="string"||Object.prototype.toString.call(p)!=="[object Symbol]"||Object.prototype.toString.call(L)!=="[object Symbol]")return!1;var n=42;e[p]=n;for(p in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var C=Object.getOwnPropertySymbols(e);if(C.length!==1||C[0]!==p||!Object.prototype.propertyIsEnumerable.call(e,p))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var y=Object.getOwnPropertyDescriptor(e,p);if(y.value!==n||y.enumerable!==!0)return!1}return!0}},84543:function(V,B,e){var p=e(35638);V.exports=function(){return p()&&!!Symbol.toStringTag}},35065:function(V,B,e){var p=e(77575);V.exports=p.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(V,B){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */B.read=function(e,p,L,n,C){var y,h,g=C*8-n-1,t=(1<<g)-1,r=t>>1,l=-7,a=L?C-1:0,s=L?-1:1,c=e[p+a];for(a+=s,y=c&(1<<-l)-1,c>>=-l,l+=g;l>0;y=y*256+e[p+a],a+=s,l-=8);for(h=y&(1<<-l)-1,y>>=-l,l+=n;l>0;h=h*256+e[p+a],a+=s,l-=8);if(y===0)y=1-r;else{if(y===t)return h?NaN:(c?-1:1)*(1/0);h=h+Math.pow(2,n),y=y-r}return(c?-1:1)*h*Math.pow(2,y-n)},B.write=function(e,p,L,n,C,y){var h,g,t,r=y*8-C-1,l=(1<<r)-1,a=l>>1,s=C===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=n?0:y-1,u=n?1:-1,b=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(g=isNaN(p)?1:0,h=l):(h=Math.floor(Math.log(p)/Math.LN2),p*(t=Math.pow(2,-h))<1&&(h--,t*=2),h+a>=1?p+=s/t:p+=s*Math.pow(2,1-a),p*t>=2&&(h++,t/=2),h+a>=l?(g=0,h=l):h+a>=1?(g=(p*t-1)*Math.pow(2,C),h=h+a):(g=p*Math.pow(2,a-1)*Math.pow(2,C),h=0));C>=8;e[L+c]=g&255,c+=u,g/=256,C-=8);for(h=h<<C|g,r+=C;r>0;e[L+c]=h&255,c+=u,h/=256,r-=8);e[L+c-u]|=b*128}},42018:function(V){typeof Object.create=="function"?V.exports=function(e,p){p&&(e.super_=p,e.prototype=Object.create(p.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:V.exports=function(e,p){if(p){e.super_=p;var L=function(){};L.prototype=p.prototype,e.prototype=new L,e.prototype.constructor=e}}},47216:function(V,B,e){var p=e(84543)(),L=e(6614),n=L("Object.prototype.toString"),C=function(t){return p&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:n(t)==="[object Arguments]"},y=function(t){return C(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&n(t)!=="[object Array]"&&n(t.callee)==="[object Function]"},h=function(){return C(arguments)}();C.isLegacyArguments=y,V.exports=h?C:y},54404:function(V){V.exports=!0},85395:function(V){var B=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,p,L;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{p=Object.defineProperty({},"length",{get:function(){throw L}}),L={},e(function(){throw 42},null,p)}catch(w){w!==L&&(e=null)}else e=null;var n=/^\s*class\b/,C=function(v){try{var o=B.call(v);return n.test(o)}catch{return!1}},y=function(v){try{return C(v)?!1:(B.call(v),!0)}catch{return!1}},h=Object.prototype.toString,g="[object Object]",t="[object Function]",r="[object GeneratorFunction]",l="[object HTMLAllCollection]",a="[object HTML document.all class]",s="[object HTMLCollection]",c=typeof Symbol=="function"&&!!Symbol.toStringTag,u=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var f=document.all;h.call(f)===h.call(document.all)&&(b=function(v){if((u||!v)&&(typeof v>"u"||typeof v=="object"))try{var o=h.call(v);return(o===l||o===a||o===s||o===g)&&v("")==null}catch{}return!1})}V.exports=e?function(v){if(b(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;try{e(v,null,p)}catch(o){if(o!==L)return!1}return!C(v)&&y(v)}:function(v){if(b(v))return!0;if(!v||typeof v!="function"&&typeof v!="object")return!1;if(c)return y(v);if(C(v))return!1;var o=h.call(v);return o!==t&&o!==r&&!/^\[object HTML/.test(o)?!1:y(v)}},65481:function(V,B,e){var p=Object.prototype.toString,L=Function.prototype.toString,n=/^\s*(?:function)?\*/,C=e(84543)(),y=Object.getPrototypeOf,h=function(){if(!C)return!1;try{return Function("return function*() {}")()}catch{}},g;V.exports=function(r){if(typeof r!="function")return!1;if(n.test(L.call(r)))return!0;if(!C){var l=p.call(r);return l==="[object GeneratorFunction]"}if(!y)return!1;if(typeof g>"u"){var a=h();g=a?y(a):!1}return y(r)===g}},62683:function(V){V.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(V){V.exports=function(e){return e!==e}},15567:function(V,B,e){var p=e(68222),L=e(17045),n=e(64274),C=e(14922),y=e(22442),h=p(C(),Number);L(h,{getPolyfill:C,implementation:n,shim:y}),V.exports=h},14922:function(V,B,e){var p=e(64274);V.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:p}},22442:function(V,B,e){var p=e(17045),L=e(14922);V.exports=function(){var C=L();return p(Number,{isNaN:C},{isNaN:function(){return Number.isNaN!==C}}),C}},64941:function(V){V.exports=function(B){var e=typeof B;return B!==null&&(e==="object"||e==="function")}},10973:function(V){var B=Object.prototype.toString;V.exports=function(e){var p;return B.call(e)==="[object Object]"&&(p=Object.getPrototypeOf(e),p===null||p===Object.getPrototypeOf({}))}},18546:function(V){V.exports=function(B){for(var e=B.length,p,L=0;L<e;L++)if(p=B.charCodeAt(L),(p<9||p>13)&&p!==32&&p!==133&&p!==160&&p!==5760&&p!==6158&&(p<8192||p>8205)&&p!==8232&&p!==8233&&p!==8239&&p!==8287&&p!==8288&&p!==12288&&p!==65279)return!1;return!0}},89546:function(V){V.exports=function(e){return typeof e!="string"?!1:(e=e.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(e)&&/[\dz]$/i.test(e)&&e.length>4))}},9187:function(V,B,e){var p=e(31353),L=e(72077),n=e(6614),C=n("Object.prototype.toString"),y=e(84543)(),h=e(40383),g=typeof globalThis>"u"?e.g:globalThis,t=L(),r=n("Array.prototype.indexOf",!0)||function(b,f){for(var w=0;w<b.length;w+=1)if(b[w]===f)return w;return-1},l=n("String.prototype.slice"),a={},s=Object.getPrototypeOf;y&&h&&s&&p(t,function(u){var b=new g[u];if(Symbol.toStringTag in b){var f=s(b),w=h(f,Symbol.toStringTag);if(!w){var v=s(f);w=h(v,Symbol.toStringTag)}a[u]=w.get}});var c=function(b){var f=!1;return p(a,function(w,v){if(!f)try{f=w.call(b)===v}catch{}}),f};V.exports=function(b){if(!b||typeof b!="object")return!1;if(!y||!(Symbol.toStringTag in b)){var f=l(C(b),8,-1);return r(t,f)>-1}return h?c(b):!1}},44517:function(V){(function(B,e){V.exports=e()})(this,function(){var B,e,p;function L(n,C){if(!B)B=C;else if(!e)e=C;else{var y="var sharedChunk = {}; ("+B+")(sharedChunk); ("+e+")(sharedChunk);",h={};B(h),p=C(h),p.workerUrl=window.URL.createObjectURL(new Blob([y],{type:"text/javascript"}))}}return L(["exports"],function(n){function C(I,D){return D={exports:{}},I(D,D.exports),D.exports}var y="1.10.1",h=g;function g(I,D,G,ie){this.cx=3*I,this.bx=3*(G-I)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(ie-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=I,this.p1y=ie,this.p2x=G,this.p2y=ie}g.prototype.sampleCurveX=function(I){return((this.ax*I+this.bx)*I+this.cx)*I},g.prototype.sampleCurveY=function(I){return((this.ay*I+this.by)*I+this.cy)*I},g.prototype.sampleCurveDerivativeX=function(I){return(3*this.ax*I+2*this.bx)*I+this.cx},g.prototype.solveCurveX=function(I,D){typeof D>"u"&&(D=1e-6);var G,ie,pe,Me,Ie;for(pe=I,Ie=0;Ie<8;Ie++){if(Me=this.sampleCurveX(pe)-I,Math.abs(Me)<D)return pe;var Je=this.sampleCurveDerivativeX(pe);if(Math.abs(Je)<1e-6)break;pe=pe-Me/Je}if(G=0,ie=1,pe=I,pe<G)return G;if(pe>ie)return ie;for(;G<ie;){if(Me=this.sampleCurveX(pe),Math.abs(Me-I)<D)return pe;I>Me?G=pe:ie=pe,pe=(ie-G)*.5+G}return pe},g.prototype.solve=function(I,D){return this.sampleCurveY(this.solveCurveX(I,D))};var t=r;function r(I,D){this.x=I,this.y=D}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(I){return this.clone()._add(I)},sub:function(I){return this.clone()._sub(I)},multByPoint:function(I){return this.clone()._multByPoint(I)},divByPoint:function(I){return this.clone()._divByPoint(I)},mult:function(I){return this.clone()._mult(I)},div:function(I){return this.clone()._div(I)},rotate:function(I){return this.clone()._rotate(I)},rotateAround:function(I,D){return this.clone()._rotateAround(I,D)},matMult:function(I){return this.clone()._matMult(I)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(I){return this.x===I.x&&this.y===I.y},dist:function(I){return Math.sqrt(this.distSqr(I))},distSqr:function(I){var D=I.x-this.x,G=I.y-this.y;return D*D+G*G},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(I){return Math.atan2(this.y-I.y,this.x-I.x)},angleWith:function(I){return this.angleWithSep(I.x,I.y)},angleWithSep:function(I,D){return Math.atan2(this.x*D-this.y*I,this.x*I+this.y*D)},_matMult:function(I){var D=I[0]*this.x+I[1]*this.y,G=I[2]*this.x+I[3]*this.y;return this.x=D,this.y=G,this},_add:function(I){return this.x+=I.x,this.y+=I.y,this},_sub:function(I){return this.x-=I.x,this.y-=I.y,this},_mult:function(I){return this.x*=I,this.y*=I,this},_div:function(I){return this.x/=I,this.y/=I,this},_multByPoint:function(I){return this.x*=I.x,this.y*=I.y,this},_divByPoint:function(I){return this.x/=I.x,this.y/=I.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var I=this.y;return this.y=this.x,this.x=-I,this},_rotate:function(I){var D=Math.cos(I),G=Math.sin(I),ie=D*this.x-G*this.y,pe=G*this.x+D*this.y;return this.x=ie,this.y=pe,this},_rotateAround:function(I,D){var G=Math.cos(I),ie=Math.sin(I),pe=D.x+G*(this.x-D.x)-ie*(this.y-D.y),Me=D.y+ie*(this.x-D.x)+G*(this.y-D.y);return this.x=pe,this.y=Me,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(I){return I instanceof r?I:Array.isArray(I)?new r(I[0],I[1]):I};function l(I,D){if(Array.isArray(I)){if(!Array.isArray(D)||I.length!==D.length)return!1;for(var G=0;G<I.length;G++)if(!l(I[G],D[G]))return!1;return!0}if(typeof I=="object"&&I!==null&&D!==null){if(typeof D!="object")return!1;var ie=Object.keys(I);if(ie.length!==Object.keys(D).length)return!1;for(var pe in I)if(!l(I[pe],D[pe]))return!1;return!0}return I===D}function a(I){if(I<=0)return 0;if(I>=1)return 1;var D=I*I,G=D*I;return 4*(I<.5?G:3*(I-D)+G-.75)}function s(I,D,G,ie){var pe=new h(I,D,G,ie);return function(Me){return pe.solve(Me)}}var c=s(.25,.1,.25,1);function u(I,D,G){return Math.min(G,Math.max(D,I))}function b(I,D,G){var ie=G-D,pe=((I-D)%ie+ie)%ie+D;return pe===D?G:pe}function f(I,D,G){if(!I.length)return G(null,[]);var ie=I.length,pe=new Array(I.length),Me=null;I.forEach(function(Ie,Je){D(Ie,function(ft,bt){ft&&(Me=ft),pe[Je]=bt,--ie===0&&G(Me,pe)})})}function w(I){var D=[];for(var G in I)D.push(I[G]);return D}function v(I,D){var G=[];for(var ie in I)ie in D||G.push(ie);return G}function o(I){for(var D=[],G=arguments.length-1;G-- >0;)D[G]=arguments[G+1];for(var ie=0,pe=D;ie<pe.length;ie+=1){var Me=pe[ie];for(var Ie in Me)I[Ie]=Me[Ie]}return I}function d(I,D){for(var G={},ie=0;ie<D.length;ie++){var pe=D[ie];pe in I&&(G[pe]=I[pe])}return G}var S=1;function M(){return S++}function P(){function I(D){return D?(D^Math.random()*16>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,I)}return I()}function x(I){return I?/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(I):!1}function E(I,D){I.forEach(function(G){D[G]&&(D[G]=D[G].bind(D))})}function T(I,D){return I.indexOf(D,I.length-D.length)!==-1}function i(I,D,G){var ie={};for(var pe in I)ie[pe]=D.call(G||this,I[pe],pe,I);return ie}function R(I,D,G){var ie={};for(var pe in I)D.call(G||this,I[pe],pe,I)&&(ie[pe]=I[pe]);return ie}function A(I){return Array.isArray(I)?I.map(A):typeof I=="object"&&I?i(I,A):I}function k(I,D){for(var G=0;G<I.length;G++)if(D.indexOf(I[G])>=0)return!0;return!1}var _={};function H(I){_[I]||(typeof console<"u"&&console.warn(I),_[I]=!0)}function z(I,D,G){return(G.y-I.y)*(D.x-I.x)>(D.y-I.y)*(G.x-I.x)}function N(I){for(var D=0,G=0,ie=I.length,pe=ie-1,Me=void 0,Ie=void 0;G<ie;pe=G++)Me=I[G],Ie=I[pe],D+=(Ie.x-Me.x)*(Me.y+Ie.y);return D}function O(I){var D=I[0],G=I[1],ie=I[2];return G+=90,G*=Math.PI/180,ie*=Math.PI/180,{x:D*Math.cos(G)*Math.sin(ie),y:D*Math.sin(G)*Math.sin(ie),z:D*Math.cos(ie)}}function F(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function U(I){var D=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,G={};if(I.replace(D,function(pe,Me,Ie,Je){var ft=Ie||Je;return G[Me]=ft?ft.toLowerCase():!0,""}),G["max-age"]){var ie=parseInt(G["max-age"],10);isNaN(ie)?delete G["max-age"]:G["max-age"]=ie}return G}var Z=null;function q(I){if(Z==null){var D=I.navigator?I.navigator.userAgent:null;Z=!!I.safari||!!(D&&(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return Z}function J(I){try{var D=self[I];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}function te(I){return self.btoa(encodeURIComponent(I).replace(/%([0-9A-F]{2})/g,function(D,G){return String.fromCharCode(+("0x"+G))}))}function fe(I){return decodeURIComponent(self.atob(I).split("").map(function(D){return"%"+("00"+D.charCodeAt(0).toString(16)).slice(-2)}).join(""))}var K=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),Y=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,W=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,X,re,se={now:K,frame:function(D){var G=Y(D);return{cancel:function(){return W(G)}}},getImageData:function(D,G){G===void 0&&(G=0);var ie=self.document.createElement("canvas"),pe=ie.getContext("2d");if(!pe)throw new Error("failed to create canvas 2d context");return ie.width=D.width,ie.height=D.height,pe.drawImage(D,0,0,D.width,D.height),pe.getImageData(-G,-G,D.width+2*G,D.height+2*G)},resolveURL:function(D){return X||(X=self.document.createElement("a")),X.href=D,X.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return self.matchMedia?(re==null&&(re=self.matchMedia("(prefers-reduced-motion: reduce)")),re.matches):!1}},Q={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},ee={supported:!1,testSupport:Ae},le,oe=!1,he,xe=!1;self.document&&(he=self.document.createElement("img"),he.onload=function(){le&&Se(le),le=null,xe=!0},he.onerror=function(){oe=!0,le=null},he.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");function Ae(I){oe||!he||(xe?Se(I):le=I)}function Se(I){var D=I.createTexture();I.bindTexture(I.TEXTURE_2D,D);try{if(I.texImage2D(I.TEXTURE_2D,0,I.RGBA,I.RGBA,I.UNSIGNED_BYTE,he),I.isContextLost())return;ee.supported=!0}catch{}I.deleteTexture(D),oe=!0}var Oe="01";function Ve(){for(var I="1",D="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",G="",ie=0;ie<10;ie++)G+=D[Math.floor(Math.random()*62)];var pe=12*60*60*1e3,Me=[I,Oe,G].join(""),Ie=Date.now()+pe;return{token:Me,tokenExpiresAt:Ie}}var Ee=function(D,G){this._transformRequestFn=D,this._customAccessToken=G,this._createSkuToken()};Ee.prototype._createSkuToken=function(){var D=Ve();this._skuToken=D.token,this._skuTokenExpiresAt=D.tokenExpiresAt},Ee.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ee.prototype.transformRequest=function(D,G){return this._transformRequestFn?this._transformRequestFn(D,G)||{url:D}:{url:D}},Ee.prototype.normalizeStyleURL=function(D,G){if(!Te(D))return D;var ie=nt(D);return ie.path="/styles/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||G)},Ee.prototype.normalizeGlyphsURL=function(D,G){if(!Te(D))return D;var ie=nt(D);return ie.path="/fonts/v1"+ie.path,this._makeAPIURL(ie,this._customAccessToken||G)},Ee.prototype.normalizeSourceURL=function(D,G){if(!Te(D))return D;var ie=nt(D);return ie.path="/v4/"+ie.authority+".json",ie.params.push("secure"),this._makeAPIURL(ie,this._customAccessToken||G)},Ee.prototype.normalizeSpriteURL=function(D,G,ie,pe){var Me=nt(D);return Te(D)?(Me.path="/styles/v1"+Me.path+"/sprite"+G+ie,this._makeAPIURL(Me,this._customAccessToken||pe)):(Me.path+=""+G+ie,qe(Me))},Ee.prototype.normalizeTileURL=function(D,G){if(this._isSkuTokenExpired()&&this._createSkuToken(),D&&!Te(D))return D;var ie=nt(D),pe=/(\.(png|jpg)\d*)(?=$)/,Me=/^.+\/v4\//,Ie=se.devicePixelRatio>=2||G===512?"@2x":"",Je=ee.supported?".webp":"$1";ie.path=ie.path.replace(pe,""+Ie+Je),ie.path=ie.path.replace(Me,"/"),ie.path="/v4"+ie.path;var ft=this._customAccessToken||ke(ie.params)||Q.ACCESS_TOKEN;return Q.REQUIRE_ACCESS_TOKEN&&ft&&this._skuToken&&ie.params.push("sku="+this._skuToken),this._makeAPIURL(ie,ft)},Ee.prototype.canonicalizeTileURL=function(D,G){var ie="/v4/",pe=/\.[\w]+$/,Me=nt(D);if(!Me.path.match(/(^\/v4\/)/)||!Me.path.match(pe))return D;var Ie="mapbox://tiles/";Ie+=Me.path.replace(ie,"");var Je=Me.params;return G&&(Je=Je.filter(function(ft){return!ft.match(/^access_token=/)})),Je.length&&(Ie+="?"+Je.join("&")),Ie},Ee.prototype.canonicalizeTileset=function(D,G){for(var ie=G?Te(G):!1,pe=[],Me=0,Ie=D.tiles||[];Me<Ie.length;Me+=1){var Je=Ie[Me];Ge(Je)?pe.push(this.canonicalizeTileURL(Je,ie)):pe.push(Je)}return pe},Ee.prototype._makeAPIURL=function(D,G){var ie="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",pe=nt(Q.API_URL);if(D.protocol=pe.protocol,D.authority=pe.authority,pe.path!=="/"&&(D.path=""+pe.path+D.path),!Q.REQUIRE_ACCESS_TOKEN)return qe(D);if(G=G||Q.ACCESS_TOKEN,!G)throw new Error("An API access token is required to use Mapbox GL. "+ie);if(G[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+ie);return D.params=D.params.filter(function(Me){return Me.indexOf("access_token")===-1}),D.params.push("access_token="+G),qe(D)};function Te(I){return I.indexOf("mapbox:")===0}var Le=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Ge(I){return Le.test(I)}function He(I){return I.indexOf("sku=")>0&&Ge(I)}function ke(I){for(var D=0,G=I;D<G.length;D+=1){var ie=G[D],pe=ie.match(/^access_token=(.*)$/);if(pe)return pe[1]}return null}var We=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function nt(I){var D=I.match(We);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function qe(I){var D=I.params.length?"?"+I.params.join("&"):"";return I.protocol+"://"+I.authority+I.path+D}var Qe="mapbox.eventData";function tt(I){if(!I)return null;var D=I.split(".");if(!D||D.length!==3)return null;try{var G=JSON.parse(fe(D[1]));return G}catch{return null}}var vt=function(D){this.type=D,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};vt.prototype.getStorageKey=function(D){var G=tt(Q.ACCESS_TOKEN),ie="";return G&&G.u?ie=te(G.u):ie=Q.ACCESS_TOKEN||"",D?Qe+"."+D+":"+ie:Qe+":"+ie},vt.prototype.fetchEventData=function(){var D=J("localStorage"),G=this.getStorageKey(),ie=this.getStorageKey("uuid");if(D)try{var pe=self.localStorage.getItem(G);pe&&(this.eventData=JSON.parse(pe));var Me=self.localStorage.getItem(ie);Me&&(this.anonId=Me)}catch{H("Unable to read from LocalStorage")}},vt.prototype.saveEventData=function(){var D=J("localStorage"),G=this.getStorageKey(),ie=this.getStorageKey("uuid");if(D)try{self.localStorage.setItem(ie,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(G,JSON.stringify(this.eventData))}catch{H("Unable to write to LocalStorage")}},vt.prototype.processRequests=function(D){},vt.prototype.postEvent=function(D,G,ie,pe){var Me=this;if(Q.EVENTS_URL){var Ie=nt(Q.EVENTS_URL);Ie.params.push("access_token="+(pe||Q.ACCESS_TOKEN||""));var Je={event:this.type,created:new Date(D).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:y,skuId:Oe,userId:this.anonId},ft=G?o(Je,G):Je,bt={url:qe(Ie),headers:{"Content-Type":"text/plain"},body:JSON.stringify([ft])};this.pendingRequest=Ct(bt,function(St){Me.pendingRequest=null,ie(St),Me.saveEventData(),Me.processRequests(pe)})}},vt.prototype.queueRequest=function(D,G){this.queue.push(D),this.processRequests(G)};var dt=function(I){function D(){I.call(this,"map.load"),this.success={},this.skuToken=""}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(ie,pe,Me,Ie){this.skuToken=Me,(Q.EVENTS_URL&&Ie||Q.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Je){return Te(Je)||Ge(Je)}))&&this.queueRequest({id:pe,timestamp:Date.now()},Ie)},D.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){var Me=this.queue.shift(),Ie=Me.id,Je=Me.timestamp;Ie&&this.success[Ie]||(this.anonId||this.fetchEventData(),x(this.anonId)||(this.anonId=P()),this.postEvent(Je,{skuToken:this.skuToken},function(ft){ft||Ie&&(pe.success[Ie]=!0)},ie))}},D}(vt),gt=function(I){function D(G){I.call(this,"appUserTurnstile"),this._customAccessToken=G}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(ie,pe){Q.EVENTS_URL&&Q.ACCESS_TOKEN&&Array.isArray(ie)&&ie.some(function(Me){return Te(Me)||Ge(Me)})&&this.queueRequest(Date.now(),pe)},D.prototype.processRequests=function(ie){var pe=this;if(!(this.pendingRequest||this.queue.length===0)){(!this.anonId||!this.eventData.lastSuccess||!this.eventData.tokenU)&&this.fetchEventData();var Me=tt(Q.ACCESS_TOKEN),Ie=Me?Me.u:Q.ACCESS_TOKEN,Je=Ie!==this.eventData.tokenU;x(this.anonId)||(this.anonId=P(),Je=!0);var ft=this.queue.shift();if(this.eventData.lastSuccess){var bt=new Date(this.eventData.lastSuccess),St=new Date(ft),Yt=(ft-this.eventData.lastSuccess)/(24*60*60*1e3);Je=Je||Yt>=1||Yt<-1||bt.getDate()!==St.getDate()}else Je=!0;if(!Je)return this.processRequests();this.postEvent(ft,{"enabled.telemetry":!1},function(sr){sr||(pe.eventData.lastSuccess=ft,pe.eventData.tokenU=Ie)},ie)}},D}(vt),Mt=new gt,Rt=Mt.postTurnstileEvent.bind(Mt),Wt=new dt,je=Wt.postMapLoadEvent.bind(Wt),_e="mapbox-tiles",Fe=500,Be=50,De=1e3*60*7,we;function ue(){self.caches&&!we&&(we=self.caches.open(_e))}var me;function Re(I,D){if(me===void 0)try{new Response(new ReadableStream),me=!0}catch{me=!1}me?D(I.body):I.blob().then(D)}function Ne(I,D,G){if(ue(),!!we){var ie={status:D.status,statusText:D.statusText,headers:new self.Headers};D.headers.forEach(function(Ie,Je){return ie.headers.set(Je,Ie)});var pe=U(D.headers.get("Cache-Control")||"");if(!pe["no-store"]){pe["max-age"]&&ie.headers.set("Expires",new Date(G+pe["max-age"]*1e3).toUTCString());var Me=new Date(ie.headers.get("Expires")).getTime()-G;Me<De||Re(D,function(Ie){var Je=new self.Response(Ie,ie);ue(),we&&we.then(function(ft){return ft.put(it(I.url),Je)}).catch(function(ft){return H(ft.message)})})}}}function it(I){var D=I.indexOf("?");return D<0?I:I.slice(0,D)}function ot(I,D){if(ue(),!we)return D(null);var G=it(I.url);we.then(function(ie){ie.match(G).then(function(pe){var Me=wt(pe);ie.delete(G),Me&&ie.put(G,pe.clone()),D(null,pe,Me)}).catch(D)}).catch(D)}function wt(I){if(!I)return!1;var D=new Date(I.headers.get("Expires")||0),G=U(I.headers.get("Cache-Control")||"");return D>Date.now()&&!G["no-cache"]}var Ft=1/0;function Ut(I){Ft++,Ft>Be&&(I.getActor().send("enforceCacheSizeLimit",Fe),Ft=0)}function Gt(I){ue(),we&&we.then(function(D){D.keys().then(function(G){for(var ie=0;ie<G.length-I;ie++)D.delete(G[ie])})})}function Et(I){var D=self.caches.delete(_e);I&&D.catch(I).then(function(){return I()})}function $t(I,D){Fe=I,Be=D}var lr;function Fr(){return lr==null&&(lr=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),lr}var yt={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(yt);var Kt=function(I){function D(G,ie,pe){ie===401&&Ge(pe)&&(G+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),I.call(this,G),this.status=ie,this.url=pe,this.name=this.constructor.name,this.message=G}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),Zt=F()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href},Ar=function(I){return/^file:/.test(I)||/^file:/.test(Zt())&&!/^\w+:/.test(I)};function vr(I,D){var G=new self.AbortController,ie=new self.Request(I.url,{method:I.method||"GET",body:I.body,credentials:I.credentials,headers:I.headers,referrer:Zt(),signal:G.signal}),pe=!1,Me=!1,Ie=He(ie.url);I.type==="json"&&ie.headers.set("Accept","application/json");var Je=function(bt,St,Yt){if(!Me){if(bt&&bt.message!=="SecurityError"&&H(bt),St&&Yt)return ft(St);var sr=Date.now();self.fetch(ie).then(function(er){if(er.ok){var xr=Ie?er.clone():null;return ft(er,xr,sr)}else return D(new Kt(er.statusText,er.status,I.url))}).catch(function(er){er.code!==20&&D(new Error(er.message))})}},ft=function(bt,St,Yt){(I.type==="arrayBuffer"?bt.arrayBuffer():I.type==="json"?bt.json():bt.text()).then(function(sr){Me||(St&&Yt&&Ne(ie,St,Yt),pe=!0,D(null,sr,bt.headers.get("Cache-Control"),bt.headers.get("Expires")))}).catch(function(sr){Me||D(new Error(sr.message))})};return Ie?ot(ie,Je):Je(null,null),{cancel:function(){Me=!0,pe||G.abort()}}}function ut(I,D){var G=new self.XMLHttpRequest;G.open(I.method||"GET",I.url,!0),I.type==="arrayBuffer"&&(G.responseType="arraybuffer");for(var ie in I.headers)G.setRequestHeader(ie,I.headers[ie]);return I.type==="json"&&(G.responseType="text",G.setRequestHeader("Accept","application/json")),G.withCredentials=I.credentials==="include",G.onerror=function(){D(new Error(G.statusText))},G.onload=function(){if((G.status>=200&&G.status<300||G.status===0)&&G.response!==null){var pe=G.response;if(I.type==="json")try{pe=JSON.parse(G.response)}catch(Me){return D(Me)}D(null,pe,G.getResponseHeader("Cache-Control"),G.getResponseHeader("Expires"))}else D(new Kt(G.statusText,G.status,I.url))},G.send(I.body),{cancel:function(){return G.abort()}}}var lt=function(I,D){if(!Ar(I.url)){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return vr(I,D);if(F()&&self.worker&&self.worker.actor){var G=!0;return self.worker.actor.send("getResource",I,D,void 0,G)}}return ut(I,D)},xt=function(I,D){return lt(o(I,{type:"json"}),D)},Tt=function(I,D){return lt(o(I,{type:"arrayBuffer"}),D)},Ct=function(I,D){return lt(o(I,{method:"POST"}),D)};function At(I){var D=self.document.createElement("a");return D.href=I,D.protocol===self.document.location.protocol&&D.host===self.document.location.host}var zt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Ht(I,D,G,ie){var pe=new self.Image,Me=self.URL;pe.onload=function(){D(null,pe),Me.revokeObjectURL(pe.src)},pe.onerror=function(){return D(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ie=new self.Blob([new Uint8Array(I)],{type:"image/png"});pe.cacheControl=G,pe.expires=ie,pe.src=I.byteLength?Me.createObjectURL(Ie):zt}function qt(I,D){var G=new self.Blob([new Uint8Array(I)],{type:"image/png"});self.createImageBitmap(G).then(function(ie){D(null,ie)}).catch(function(ie){D(new Error("Could not load image because of "+ie.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}var Qt,or,Lr=function(){Qt=[],or=0};Lr();var Ze=function(I,D){if(ee.supported&&(I.headers||(I.headers={}),I.headers.accept="image/webp,*/*"),or>=Q.MAX_PARALLEL_IMAGE_REQUESTS){var G={requestParameters:I,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return Qt.push(G),G}or++;var ie=!1,pe=function(){if(!ie)for(ie=!0,or--;Qt.length&&or<Q.MAX_PARALLEL_IMAGE_REQUESTS;){var Ie=Qt.shift(),Je=Ie.requestParameters,ft=Ie.callback,bt=Ie.cancelled;bt||(Ie.cancel=Ze(Je,ft).cancel)}},Me=Tt(I,function(Ie,Je,ft,bt){pe(),Ie?D(Ie):Je&&(Fr()?qt(Je,D):Ht(Je,D,ft,bt))});return{cancel:function(){Me.cancel(),pe()}}},Ye=function(I,D){var G=self.document.createElement("video");G.muted=!0,G.onloadstart=function(){D(null,G)};for(var ie=0;ie<I.length;ie++){var pe=self.document.createElement("source");At(I[ie])||(G.crossOrigin="Anonymous"),pe.src=I[ie],G.appendChild(pe)}return{cancel:function(){}}};function It(I,D,G){var ie=G[I]&&G[I].indexOf(D)!==-1;ie||(G[I]=G[I]||[],G[I].push(D))}function kt(I,D,G){if(G&&G[I]){var ie=G[I].indexOf(D);ie!==-1&&G[I].splice(ie,1)}}var Xt=function(D,G){G===void 0&&(G={}),o(this,G),this.type=D},ir=function(I){function D(G,ie){ie===void 0&&(ie={}),I.call(this,"error",o({error:G},ie))}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D}(Xt),ur=function(){};ur.prototype.on=function(D,G){return this._listeners=this._listeners||{},It(D,G,this._listeners),this},ur.prototype.off=function(D,G){return kt(D,G,this._listeners),kt(D,G,this._oneTimeListeners),this},ur.prototype.once=function(D,G){return this._oneTimeListeners=this._oneTimeListeners||{},It(D,G,this._oneTimeListeners),this},ur.prototype.fire=function(D,G){typeof D=="string"&&(D=new Xt(D,G||{}));var ie=D.type;if(this.listens(ie)){D.target=this;for(var pe=this._listeners&&this._listeners[ie]?this._listeners[ie].slice():[],Me=0,Ie=pe;Me<Ie.length;Me+=1){var Je=Ie[Me];Je.call(this,D)}for(var ft=this._oneTimeListeners&&this._oneTimeListeners[ie]?this._oneTimeListeners[ie].slice():[],bt=0,St=ft;bt<St.length;bt+=1){var Yt=St[bt];kt(ie,Yt,this._oneTimeListeners),Yt.call(this,D)}var sr=this._eventedParent;sr&&(o(D,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),sr.fire(D))}else D instanceof ir&&console.error(D.error);return this},ur.prototype.listens=function(D){return this._listeners&&this._listeners[D]&&this._listeners[D].length>0||this._oneTimeListeners&&this._oneTimeListeners[D]&&this._oneTimeListeners[D].length>0||this._eventedParent&&this._eventedParent.listens(D)},ur.prototype.setEventedParent=function(D,G){return this._eventedParent=D,this._eventedParentData=G,this};var nr=8,Nt={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},hr={"*":{type:"source"}},pr=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],gr={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},dr={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},Xr={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},Br={type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},Or={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},mn={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},Jr={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},_n=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],kn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},br={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},wr={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Nr={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Vr={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},tn={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},gn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},hn={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},Sn={type:"array",value:"*"},In={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},Jn={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},ra={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},ca={type:"array",value:"*",minimum:1},aa={type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},na={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},Cr=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],ln={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},on={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},yn={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},Hn={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Ln={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},Pn={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},Wn={"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},la={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},za={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},ni={"*":{type:"string"}},jt={$version:nr,$root:Nt,sources:hr,source:pr,source_vector:gr,source_raster:dr,source_raster_dem:Xr,source_geojson:Br,source_video:Or,source_image:mn,layer:Jr,layout:_n,layout_background:kn,layout_fill:br,layout_circle:wr,layout_heatmap:Nr,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:Vr,layout_symbol:tn,layout_raster:gn,layout_hillshade:hn,filter:Sn,filter_operator:In,geometry_type:Jn,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:ra,expression:ca,expression_name:aa,light:na,paint:Cr,paint_fill:ln,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:on,paint_circle:yn,paint_heatmap:Hn,paint_symbol:Ln,paint_raster:Pn,paint_hillshade:Wn,paint_background:la,transition:za,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:ni},Sr=function(D,G,ie,pe){this.message=(D?D+": ":"")+ie,pe&&(this.identifier=pe),G!=null&&G.__line__&&(this.line=G.__line__)};function sn(I){var D=I.key,G=I.value;return G?[new Sr(D,G,"constants have been deprecated as of v8")]:[]}function vn(I){for(var D=[],G=arguments.length-1;G-- >0;)D[G]=arguments[G+1];for(var ie=0,pe=D;ie<pe.length;ie+=1){var Me=pe[ie];for(var Ie in Me)I[Ie]=Me[Ie]}return I}function dn(I){return I instanceof Number||I instanceof String||I instanceof Boolean?I.valueOf():I}function Rn(I){if(Array.isArray(I))return I.map(Rn);if(I instanceof Object&&!(I instanceof Number||I instanceof String||I instanceof Boolean)){var D={};for(var G in I)D[G]=Rn(I[G]);return D}return dn(I)}var An=function(I){function D(G,ie){I.call(this,ie),this.message=ie,this.key=G}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D}(Error),cn=function(D,G){G===void 0&&(G=[]),this.parent=D,this.bindings={};for(var ie=0,pe=G;ie<pe.length;ie+=1){var Me=pe[ie],Ie=Me[0],Je=Me[1];this.bindings[Ie]=Je}};cn.prototype.concat=function(D){return new cn(this,D)},cn.prototype.get=function(D){if(this.bindings[D])return this.bindings[D];if(this.parent)return this.parent.get(D);throw new Error(D+" not found in scope.")},cn.prototype.has=function(D){return this.bindings[D]?!0:this.parent?this.parent.has(D):!1};var Dr={kind:"null"},Pr={kind:"number"},zr={kind:"string"},pn={kind:"boolean"},zn={kind:"color"},Zn={kind:"object"},xn={kind:"value"},Nn={kind:"error"},ta={kind:"collator"},ha={kind:"formatted"},ua={kind:"resolvedImage"};function fa(I,D){return{kind:"array",itemType:I,N:D}}function ma(I){if(I.kind==="array"){var D=ma(I.itemType);return typeof I.N=="number"?"array<"+D+", "+I.N+">":I.itemType.kind==="value"?"array":"array<"+D+">"}else return I.kind}var yo=[Dr,Pr,zr,pn,zn,ha,Zn,fa(xn),ua];function ko(I,D){if(D.kind==="error")return null;if(I.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!ko(I.itemType,D.itemType))&&(typeof I.N!="number"||I.N===D.N))return null}else{if(I.kind===D.kind)return null;if(I.kind==="value")for(var G=0,ie=yo;G<ie.length;G+=1){var pe=ie[G];if(!ko(pe,D))return null}}return"Expected "+ma(I)+" but found "+ma(D)+" instead."}function No(I,D){return D.some(function(G){return G.kind===I.kind})}function jo(I,D){return D.some(function(G){return G==="null"?I===null:G==="array"?Array.isArray(I):G==="object"?I&&!Array.isArray(I)&&typeof I=="object":G===typeof I})}var Vo=C(function(I,D){var G={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ie(bt){return bt=Math.round(bt),bt<0?0:bt>255?255:bt}function pe(bt){return bt<0?0:bt>1?1:bt}function Me(bt){return bt[bt.length-1]==="%"?ie(parseFloat(bt)/100*255):ie(parseInt(bt))}function Ie(bt){return bt[bt.length-1]==="%"?pe(parseFloat(bt)/100):pe(parseFloat(bt))}function Je(bt,St,Yt){return Yt<0?Yt+=1:Yt>1&&(Yt-=1),Yt*6<1?bt+(St-bt)*Yt*6:Yt*2<1?St:Yt*3<2?bt+(St-bt)*(2/3-Yt)*6:bt}function ft(bt){var St=bt.replace(/ /g,"").toLowerCase();if(St in G)return G[St].slice();if(St[0]==="#"){if(St.length===4){var Yt=parseInt(St.substr(1),16);return Yt>=0&&Yt<=4095?[(Yt&3840)>>4|(Yt&3840)>>8,Yt&240|(Yt&240)>>4,Yt&15|(Yt&15)<<4,1]:null}else if(St.length===7){var Yt=parseInt(St.substr(1),16);return Yt>=0&&Yt<=16777215?[(Yt&16711680)>>16,(Yt&65280)>>8,Yt&255,1]:null}return null}var sr=St.indexOf("("),er=St.indexOf(")");if(sr!==-1&&er+1===St.length){var xr=St.substr(0,sr),Ur=St.substr(sr+1,er-(sr+1)).split(","),an=1;switch(xr){case"rgba":if(Ur.length!==4)return null;an=Ie(Ur.pop());case"rgb":return Ur.length!==3?null:[Me(Ur[0]),Me(Ur[1]),Me(Ur[2]),an];case"hsla":if(Ur.length!==4)return null;an=Ie(Ur.pop());case"hsl":if(Ur.length!==3)return null;var en=(parseFloat(Ur[0])%360+360)%360/360,Cn=Ie(Ur[1]),wn=Ie(Ur[2]),Mn=wn<=.5?wn*(Cn+1):wn+Cn-wn*Cn,Fn=wn*2-Mn;return[ie(Je(Fn,Mn,en+1/3)*255),ie(Je(Fn,Mn,en)*255),ie(Je(Fn,Mn,en-1/3)*255),an];default:return null}}return null}try{D.parseCSSColor=ft}catch{}}),Hf=Vo.parseCSSColor,pi=function(D,G,ie,pe){pe===void 0&&(pe=1),this.r=D,this.g=G,this.b=ie,this.a=pe};pi.parse=function(D){if(D){if(D instanceof pi)return D;if(typeof D=="string"){var G=Hf(D);if(G)return new pi(G[0]/255*G[3],G[1]/255*G[3],G[2]/255*G[3],G[3])}}},pi.prototype.toString=function(){var D=this.toArray(),G=D[0],ie=D[1],pe=D[2],Me=D[3];return"rgba("+Math.round(G)+","+Math.round(ie)+","+Math.round(pe)+","+Me+")"},pi.prototype.toArray=function(){var D=this,G=D.r,ie=D.g,pe=D.b,Me=D.a;return Me===0?[0,0,0,0]:[G*255/Me,ie*255/Me,pe*255/Me,Me]},pi.black=new pi(0,0,0,1),pi.white=new pi(1,1,1,1),pi.transparent=new pi(0,0,0,0),pi.red=new pi(1,0,0,1);var Pu=function(D,G,ie){D?this.sensitivity=G?"variant":"case":this.sensitivity=G?"accent":"base",this.locale=ie,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Pu.prototype.compare=function(D,G){return this.collator.compare(D,G)},Pu.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var ql=function(D,G,ie,pe,Me){this.text=D,this.image=G,this.scale=ie,this.fontStack=pe,this.textColor=Me},mo=function(D){this.sections=D};mo.fromString=function(D){return new mo([new ql(D,null,null,null,null)])},mo.prototype.isEmpty=function(){return this.sections.length===0?!0:!this.sections.some(function(D){return D.text.length!==0||D.image&&D.image.name.length!==0})},mo.factory=function(D){return D instanceof mo?D:mo.fromString(D)},mo.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(D){return D.text}).join("")},mo.prototype.serialize=function(){for(var D=["format"],G=0,ie=this.sections;G<ie.length;G+=1){var pe=ie[G];if(pe.image){D.push(["image",pe.image.name]);continue}D.push(pe.text);var Me={};pe.fontStack&&(Me["text-font"]=["literal",pe.fontStack.split(",")]),pe.scale&&(Me["font-scale"]=pe.scale),pe.textColor&&(Me["text-color"]=["rgba"].concat(pe.textColor.toArray())),D.push(Me)}return D};var Ko=function(D){this.name=D.name,this.available=D.available};Ko.prototype.toString=function(){return this.name},Ko.fromString=function(D){return D?new Ko({name:D,available:!1}):null},Ko.prototype.serialize=function(){return["image",this.name]};function Fc(I,D,G,ie){if(!(typeof I=="number"&&I>=0&&I<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof G=="number"&&G>=0&&G<=255)){var pe=typeof ie=="number"?[I,D,G,ie]:[I,D,G];return"Invalid rgba value ["+pe.join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}return typeof ie>"u"||typeof ie=="number"&&ie>=0&&ie<=1?null:"Invalid rgba value ["+[I,D,G,ie].join(", ")+"]: 'a' must be between 0 and 1."}function Ru(I){if(I===null)return!0;if(typeof I=="string")return!0;if(typeof I=="boolean")return!0;if(typeof I=="number")return!0;if(I instanceof pi)return!0;if(I instanceof Pu)return!0;if(I instanceof mo)return!0;if(I instanceof Ko)return!0;if(Array.isArray(I)){for(var D=0,G=I;D<G.length;D+=1){var ie=G[D];if(!Ru(ie))return!1}return!0}else if(typeof I=="object"){for(var pe in I)if(!Ru(I[pe]))return!1;return!0}else return!1}function Xi(I){if(I===null)return Dr;if(typeof I=="string")return zr;if(typeof I=="boolean")return pn;if(typeof I=="number")return Pr;if(I instanceof pi)return zn;if(I instanceof Pu)return ta;if(I instanceof mo)return ha;if(I instanceof Ko)return ua;if(Array.isArray(I)){for(var D=I.length,G,ie=0,pe=I;ie<pe.length;ie+=1){var Me=pe[ie],Ie=Xi(Me);if(!G)G=Ie;else{if(G===Ie)continue;G=xn;break}}return fa(G||xn,D)}else return Zn}function Iu(I){var D=typeof I;return I===null?"":D==="string"||D==="number"||D==="boolean"?String(I):I instanceof pi||I instanceof mo||I instanceof Ko?I.toString():JSON.stringify(I)}var rs=function(D,G){this.type=D,this.value=G};rs.parse=function(D,G){if(D.length!==2)return G.error("'literal' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(!Ru(D[1]))return G.error("invalid value");var ie=D[1],pe=Xi(ie),Me=G.expectedType;return pe.kind==="array"&&pe.N===0&&Me&&Me.kind==="array"&&(typeof Me.N!="number"||Me.N===0)&&(pe=Me),new rs(pe,ie)},rs.prototype.evaluate=function(){return this.value},rs.prototype.eachChild=function(){},rs.prototype.outputDefined=function(){return!0},rs.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof pi?["rgba"].concat(this.value.toArray()):this.value instanceof mo?this.value.serialize():this.value};var co=function(D){this.name="ExpressionEvaluationError",this.message=D};co.prototype.toJSON=function(){return this.message};var ns={string:zr,number:Pr,boolean:pn,object:Zn},_o=function(D,G){this.type=D,this.args=G};_o.parse=function(D,G){if(D.length<2)return G.error("Expected at least one argument.");var ie=1,pe,Me=D[0];if(Me==="array"){var Ie;if(D.length>2){var Je=D[1];if(typeof Je!="string"||!(Je in ns)||Je==="object")return G.error('The item type argument of "array" must be one of string, number, boolean',1);Ie=ns[Je],ie++}else Ie=xn;var ft;if(D.length>3){if(D[2]!==null&&(typeof D[2]!="number"||D[2]<0||D[2]!==Math.floor(D[2])))return G.error('The length argument to "array" must be a positive integer literal',2);ft=D[2],ie++}pe=fa(Ie,ft)}else pe=ns[Me];for(var bt=[];ie<D.length;ie++){var St=G.parse(D[ie],ie,xn);if(!St)return null;bt.push(St)}return new _o(pe,bt)},_o.prototype.evaluate=function(D){for(var G=0;G<this.args.length;G++){var ie=this.args[G].evaluate(D),pe=ko(this.type,Xi(ie));if(pe){if(G===this.args.length-1)throw new co("Expected value to be of type "+ma(this.type)+", but found "+ma(Xi(ie))+" instead.")}else return ie}return null},_o.prototype.eachChild=function(D){this.args.forEach(D)},_o.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},_o.prototype.serialize=function(){var D=this.type,G=[D.kind];if(D.kind==="array"){var ie=D.itemType;if(ie.kind==="string"||ie.kind==="number"||ie.kind==="boolean"){G.push(ie.kind);var pe=D.N;(typeof pe=="number"||this.args.length>1)&&G.push(pe)}}return G.concat(this.args.map(function(Me){return Me.serialize()}))};var us=function(D){this.type=ha,this.sections=D};us.parse=function(D,G){if(D.length<2)return G.error("Expected at least one argument.");var ie=D[1];if(!Array.isArray(ie)&&typeof ie=="object")return G.error("First argument must be an image or text section.");for(var pe=[],Me=!1,Ie=1;Ie<=D.length-1;++Ie){var Je=D[Ie];if(Me&&typeof Je=="object"&&!Array.isArray(Je)){Me=!1;var ft=null;if(Je["font-scale"]&&(ft=G.parse(Je["font-scale"],1,Pr),!ft))return null;var bt=null;if(Je["text-font"]&&(bt=G.parse(Je["text-font"],1,fa(zr)),!bt))return null;var St=null;if(Je["text-color"]&&(St=G.parse(Je["text-color"],1,zn),!St))return null;var Yt=pe[pe.length-1];Yt.scale=ft,Yt.font=bt,Yt.textColor=St}else{var sr=G.parse(D[Ie],1,xn);if(!sr)return null;var er=sr.type.kind;if(er!=="string"&&er!=="value"&&er!=="null"&&er!=="resolvedImage")return G.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Me=!0,pe.push({content:sr,scale:null,font:null,textColor:null})}}return new us(pe)},us.prototype.evaluate=function(D){var G=function(ie){var pe=ie.content.evaluate(D);return Xi(pe)===ua?new ql("",pe,null,null,null):new ql(Iu(pe),null,ie.scale?ie.scale.evaluate(D):null,ie.font?ie.font.evaluate(D).join(","):null,ie.textColor?ie.textColor.evaluate(D):null)};return new mo(this.sections.map(G))},us.prototype.eachChild=function(D){for(var G=0,ie=this.sections;G<ie.length;G+=1){var pe=ie[G];D(pe.content),pe.scale&&D(pe.scale),pe.font&&D(pe.font),pe.textColor&&D(pe.textColor)}},us.prototype.outputDefined=function(){return!1},us.prototype.serialize=function(){for(var D=["format"],G=0,ie=this.sections;G<ie.length;G+=1){var pe=ie[G];D.push(pe.content.serialize());var Me={};pe.scale&&(Me["font-scale"]=pe.scale.serialize()),pe.font&&(Me["text-font"]=pe.font.serialize()),pe.textColor&&(Me["text-color"]=pe.textColor.serialize()),D.push(Me)}return D};var ks=function(D){this.type=ua,this.input=D};ks.parse=function(D,G){if(D.length!==2)return G.error("Expected two arguments.");var ie=G.parse(D[1],1,zr);return ie?new ks(ie):G.error("No image name provided.")},ks.prototype.evaluate=function(D){var G=this.input.evaluate(D),ie=Ko.fromString(G);return ie&&D.availableImages&&(ie.available=D.availableImages.indexOf(G)>-1),ie},ks.prototype.eachChild=function(D){D(this.input)},ks.prototype.outputDefined=function(){return!1},ks.prototype.serialize=function(){return["image",this.input.serialize()]};var Qs={"to-boolean":pn,"to-color":zn,"to-number":Pr,"to-string":zr},Ao=function(D,G){this.type=D,this.args=G};Ao.parse=function(D,G){if(D.length<2)return G.error("Expected at least one argument.");var ie=D[0];if((ie==="to-boolean"||ie==="to-string")&&D.length!==2)return G.error("Expected one argument.");for(var pe=Qs[ie],Me=[],Ie=1;Ie<D.length;Ie++){var Je=G.parse(D[Ie],Ie,xn);if(!Je)return null;Me.push(Je)}return new Ao(pe,Me)},Ao.prototype.evaluate=function(D){if(this.type.kind==="boolean")return!!this.args[0].evaluate(D);if(this.type.kind==="color"){for(var G,ie,pe=0,Me=this.args;pe<Me.length;pe+=1){var Ie=Me[pe];if(G=Ie.evaluate(D),ie=null,G instanceof pi)return G;if(typeof G=="string"){var Je=D.parseColor(G);if(Je)return Je}else if(Array.isArray(G)&&(G.length<3||G.length>4?ie="Invalid rbga value "+JSON.stringify(G)+": expected an array containing either three or four numeric values.":ie=Fc(G[0],G[1],G[2],G[3]),!ie))return new pi(G[0]/255,G[1]/255,G[2]/255,G[3])}throw new co(ie||"Could not parse color from value '"+(typeof G=="string"?G:String(JSON.stringify(G)))+"'")}else if(this.type.kind==="number"){for(var ft=null,bt=0,St=this.args;bt<St.length;bt+=1){var Yt=St[bt];if(ft=Yt.evaluate(D),ft===null)return 0;var sr=Number(ft);if(!isNaN(sr))return sr}throw new co("Could not convert "+JSON.stringify(ft)+" to number.")}else return this.type.kind==="formatted"?mo.fromString(Iu(this.args[0].evaluate(D))):this.type.kind==="resolvedImage"?Ko.fromString(Iu(this.args[0].evaluate(D))):Iu(this.args[0].evaluate(D))},Ao.prototype.eachChild=function(D){this.args.forEach(D)},Ao.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Ao.prototype.serialize=function(){if(this.type.kind==="formatted")return new us([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new ks(this.args[0]).serialize();var D=["to-"+this.type.kind];return this.eachChild(function(G){D.push(G.serialize())}),D};var zc=["Unknown","Point","LineString","Polygon"],_s=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};_s.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},_s.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?zc[this.feature.type]:this.feature.type:null},_s.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},_s.prototype.canonicalID=function(){return this.canonical},_s.prototype.properties=function(){return this.feature&&this.feature.properties||{}},_s.prototype.parseColor=function(D){var G=this._parseColorCache[D];return G||(G=this._parseColorCache[D]=pi.parse(D)),G};var So=function(D,G,ie,pe){this.name=D,this.type=G,this._evaluate=ie,this.args=pe};So.prototype.evaluate=function(D){return this._evaluate(D,this.args)},So.prototype.eachChild=function(D){this.args.forEach(D)},So.prototype.outputDefined=function(){return!1},So.prototype.serialize=function(){return[this.name].concat(this.args.map(function(D){return D.serialize()}))},So.parse=function(D,G){var ie,pe=D[0],Me=So.definitions[pe];if(!Me)return G.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Ie=Array.isArray(Me)?Me[0]:Me.type,Je=Array.isArray(Me)?[[Me[1],Me[2]]]:Me.overloads,ft=Je.filter(function(Ca){var Ea=Ca[0];return!Array.isArray(Ea)||Ea.length===D.length-1}),bt=null,St=0,Yt=ft;St<Yt.length;St+=1){var sr=Yt[St],er=sr[0],xr=sr[1];bt=new tl(G.registry,G.path,null,G.scope);for(var Ur=[],an=!1,en=1;en<D.length;en++){var Cn=D[en],wn=Array.isArray(er)?er[en-1]:er.type,Mn=bt.parse(Cn,1+Ur.length,wn);if(!Mn){an=!0;break}Ur.push(Mn)}if(!an){if(Array.isArray(er)&&er.length!==Ur.length){bt.error("Expected "+er.length+" arguments, but found "+Ur.length+" instead.");continue}for(var Fn=0;Fn<Ur.length;Fn++){var Gn=Array.isArray(er)?er[Fn]:er.type,qn=Ur[Fn];bt.concat(Fn+1).checkSubtype(Gn,qn.type)}if(bt.errors.length===0)return new So(pe,Ie,xr,Ur)}}if(ft.length===1)(ie=G.errors).push.apply(ie,bt.errors);else{for(var Qn=ft.length?ft:Je,Pa=Qn.map(function(Ca){var Ea=Ca[0];return Gf(Ea)}).join(" | "),ga=[],wa=1;wa<D.length;wa++){var ja=G.parse(D[wa],1+ga.length);if(!ja)return null;ga.push(ma(ja.type))}G.error("Expected arguments of type "+Pa+", but found ("+ga.join(", ")+") instead.")}return null},So.register=function(D,G){So.definitions=G;for(var ie in G)D[ie]=So};function Gf(I){return Array.isArray(I)?"("+I.map(ma).join(", ")+")":"("+ma(I.type)+"...)"}var qs=function(D,G,ie){this.type=ta,this.locale=ie,this.caseSensitive=D,this.diacriticSensitive=G};qs.parse=function(D,G){if(D.length!==2)return G.error("Expected one argument.");var ie=D[1];if(typeof ie!="object"||Array.isArray(ie))return G.error("Collator options argument must be an object.");var pe=G.parse(ie["case-sensitive"]===void 0?!1:ie["case-sensitive"],1,pn);if(!pe)return null;var Me=G.parse(ie["diacritic-sensitive"]===void 0?!1:ie["diacritic-sensitive"],1,pn);if(!Me)return null;var Ie=null;return ie.locale&&(Ie=G.parse(ie.locale,1,zr),!Ie)?null:new qs(pe,Me,Ie)},qs.prototype.evaluate=function(D){return new Pu(this.caseSensitive.evaluate(D),this.diacriticSensitive.evaluate(D),this.locale?this.locale.evaluate(D):null)},qs.prototype.eachChild=function(D){D(this.caseSensitive),D(this.diacriticSensitive),this.locale&&D(this.locale)},qs.prototype.outputDefined=function(){return!1},qs.prototype.serialize=function(){var D={};return D["case-sensitive"]=this.caseSensitive.serialize(),D["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(D.locale=this.locale.serialize()),["collator",D]};var Fs=8192;function Wf(I,D){I[0]=Math.min(I[0],D[0]),I[1]=Math.min(I[1],D[1]),I[2]=Math.max(I[2],D[0]),I[3]=Math.max(I[3],D[1])}function Yf(I){return(180+I)/360}function Eh(I){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+I*Math.PI/360)))/360}function Du(I,D){return!(I[0]<=D[0]||I[2]>=D[2]||I[1]<=D[1]||I[3]>=D[3])}function Lh(I,D){var G=Yf(I[0]),ie=Eh(I[1]),pe=Math.pow(2,D.z);return[Math.round(G*pe*Fs),Math.round(ie*pe*Fs)]}function Ph(I,D,G){var ie=I[0]-D[0],pe=I[1]-D[1],Me=I[0]-G[0],Ie=I[1]-G[1];return ie*Ie-Me*pe===0&&ie*Me<=0&&pe*Ie<=0}function Rh(I,D,G){return D[1]>I[1]!=G[1]>I[1]&&I[0]<(G[0]-D[0])*(I[1]-D[1])/(G[1]-D[1])+D[0]}function Zf(I,D){for(var G=!1,ie=0,pe=D.length;ie<pe;ie++)for(var Me=D[ie],Ie=0,Je=Me.length;Ie<Je-1;Ie++){if(Ph(I,Me[Ie],Me[Ie+1]))return!1;Rh(I,Me[Ie],Me[Ie+1])&&(G=!G)}return G}function Ih(I,D){for(var G=0;G<D.length;G++)if(Zf(I,D[G]))return!0;return!1}function Dh(I,D){return I[0]*D[1]-I[1]*D[0]}function Oc(I,D,G,ie){var pe=I[0]-G[0],Me=I[1]-G[1],Ie=D[0]-G[0],Je=D[1]-G[1],ft=ie[0]-G[0],bt=ie[1]-G[1],St=pe*bt-ft*Me,Yt=Ie*bt-ft*Je;return St>0&&Yt<0||St<0&&Yt>0}function kh(I,D,G,ie){var pe=[D[0]-I[0],D[1]-I[1]],Me=[ie[0]-G[0],ie[1]-G[1]];return Dh(Me,pe)===0?!1:!!(Oc(I,D,G,ie)&&Oc(G,ie,I,D))}function _h(I,D,G){for(var ie=0,pe=G;ie<pe.length;ie+=1)for(var Me=pe[ie],Ie=0;Ie<Me.length-1;++Ie)if(kh(I,D,Me[Ie],Me[Ie+1]))return!0;return!1}function Xf(I,D){for(var G=0;G<I.length;++G)if(!Zf(I[G],D))return!1;for(var ie=0;ie<I.length-1;++ie)if(_h(I[ie],I[ie+1],D))return!1;return!0}function kl(I,D){for(var G=0;G<D.length;G++)if(Xf(I,D[G]))return!0;return!1}function _l(I,D,G){for(var ie=[],pe=0;pe<I.length;pe++){for(var Me=[],Ie=0;Ie<I[pe].length;Ie++){var Je=Lh(I[pe][Ie],G);Wf(D,Je),Me.push(Je)}ie.push(Me)}return ie}function eu(I,D,G){for(var ie=[],pe=0;pe<I.length;pe++){var Me=_l(I[pe],D,G);ie.push(Me)}return ie}function lf(I,D,G,ie){if(I[0]<G[0]||I[0]>G[2]){var pe=ie*.5,Me=I[0]-G[0]>pe?-ie:G[0]-I[0]>pe?ie:0;Me===0&&(Me=I[0]-G[2]>pe?-ie:G[2]-I[0]>pe?ie:0),I[0]+=Me}Wf(D,I)}function Fh(I){I[0]=I[1]=1/0,I[2]=I[3]=-1/0}function el(I,D,G,ie){for(var pe=Math.pow(2,ie.z)*Fs,Me=[ie.x*Fs,ie.y*Fs],Ie=[],Je=0,ft=I;Je<ft.length;Je+=1)for(var bt=ft[Je],St=0,Yt=bt;St<Yt.length;St+=1){var sr=Yt[St],er=[sr.x+Me[0],sr.y+Me[1]];lf(er,D,G,pe),Ie.push(er)}return Ie}function Bc(I,D,G,ie){for(var pe=Math.pow(2,ie.z)*Fs,Me=[ie.x*Fs,ie.y*Fs],Ie=[],Je=0,ft=I;Je<ft.length;Je+=1){for(var bt=ft[Je],St=[],Yt=0,sr=bt;Yt<sr.length;Yt+=1){var er=sr[Yt],xr=[er.x+Me[0],er.y+Me[1]];Wf(D,xr),St.push(xr)}Ie.push(St)}if(D[2]-D[0]<=pe/2){Fh(D);for(var Ur=0,an=Ie;Ur<an.length;Ur+=1)for(var en=an[Ur],Cn=0,wn=en;Cn<wn.length;Cn+=1){var Mn=wn[Cn];lf(Mn,D,G,pe)}}return Ie}function jf(I,D){var G=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=I.canonicalID();if(D.type==="Polygon"){var Me=_l(D.coordinates,ie,pe),Ie=el(I.geometry(),G,ie,pe);if(!Du(G,ie))return!1;for(var Je=0,ft=Ie;Je<ft.length;Je+=1){var bt=ft[Je];if(!Zf(bt,Me))return!1}}if(D.type==="MultiPolygon"){var St=eu(D.coordinates,ie,pe),Yt=el(I.geometry(),G,ie,pe);if(!Du(G,ie))return!1;for(var sr=0,er=Yt;sr<er.length;sr+=1){var xr=er[sr];if(!Ih(xr,St))return!1}}return!0}function zh(I,D){var G=[1/0,1/0,-1/0,-1/0],ie=[1/0,1/0,-1/0,-1/0],pe=I.canonicalID();if(D.type==="Polygon"){var Me=_l(D.coordinates,ie,pe),Ie=Bc(I.geometry(),G,ie,pe);if(!Du(G,ie))return!1;for(var Je=0,ft=Ie;Je<ft.length;Je+=1){var bt=ft[Je];if(!Xf(bt,Me))return!1}}if(D.type==="MultiPolygon"){var St=eu(D.coordinates,ie,pe),Yt=Bc(I.geometry(),G,ie,pe);if(!Du(G,ie))return!1;for(var sr=0,er=Yt;sr<er.length;sr+=1){var xr=er[sr];if(!kl(xr,St))return!1}}return!0}var fs=function(D,G){this.type=pn,this.geojson=D,this.geometries=G};fs.parse=function(D,G){if(D.length!==2)return G.error("'within' expression requires exactly one argument, but found "+(D.length-1)+" instead.");if(Ru(D[1])){var ie=D[1];if(ie.type==="FeatureCollection")for(var pe=0;pe<ie.features.length;++pe){var Me=ie.features[pe].geometry.type;if(Me==="Polygon"||Me==="MultiPolygon")return new fs(ie,ie.features[pe].geometry)}else if(ie.type==="Feature"){var Ie=ie.geometry.type;if(Ie==="Polygon"||Ie==="MultiPolygon")return new fs(ie,ie.geometry)}else if(ie.type==="Polygon"||ie.type==="MultiPolygon")return new fs(ie,ie)}return G.error("'within' expression requires valid geojson object that contains polygon geometry type.")},fs.prototype.evaluate=function(D){if(D.geometry()!=null&&D.canonicalID()!=null){if(D.geometryType()==="Point")return jf(D,this.geometries);if(D.geometryType()==="LineString")return zh(D,this.geometries)}return!1},fs.prototype.eachChild=function(){},fs.prototype.outputDefined=function(){return!0},fs.prototype.serialize=function(){return["within",this.geojson]};function Fl(I){if(I instanceof So){if(I.name==="get"&&I.args.length===1)return!1;if(I.name==="feature-state")return!1;if(I.name==="has"&&I.args.length===1)return!1;if(I.name==="properties"||I.name==="geometry-type"||I.name==="id")return!1;if(/^filter-/.test(I.name))return!1}if(I instanceof fs)return!1;var D=!0;return I.eachChild(function(G){D&&!Fl(G)&&(D=!1)}),D}function ku(I){if(I instanceof So&&I.name==="feature-state")return!1;var D=!0;return I.eachChild(function(G){D&&!ku(G)&&(D=!1)}),D}function tu(I,D){if(I instanceof So&&D.indexOf(I.name)>=0)return!1;var G=!0;return I.eachChild(function(ie){G&&!tu(ie,D)&&(G=!1)}),G}var zs=function(D,G){this.type=G.type,this.name=D,this.boundExpression=G};zs.parse=function(D,G){if(D.length!==2||typeof D[1]!="string")return G.error("'var' expression requires exactly one string literal argument.");var ie=D[1];return G.scope.has(ie)?new zs(ie,G.scope.get(ie)):G.error('Unknown variable "'+ie+'". Make sure "'+ie+'" has been bound in an enclosing "let" expression before using it.',1)},zs.prototype.evaluate=function(D){return this.boundExpression.evaluate(D)},zs.prototype.eachChild=function(){},zs.prototype.outputDefined=function(){return!1},zs.prototype.serialize=function(){return["var",this.name]};var tl=function(D,G,ie,pe,Me){G===void 0&&(G=[]),pe===void 0&&(pe=new cn),Me===void 0&&(Me=[]),this.registry=D,this.path=G,this.key=G.map(function(Ie){return"["+Ie+"]"}).join(""),this.scope=pe,this.errors=Me,this.expectedType=ie};tl.prototype.parse=function(D,G,ie,pe,Me){return Me===void 0&&(Me={}),G?this.concat(G,ie,pe)._parse(D,Me):this._parse(D,Me)},tl.prototype._parse=function(D,G){(D===null||typeof D=="string"||typeof D=="boolean"||typeof D=="number")&&(D=["literal",D]);function ie(St,Yt,sr){return sr==="assert"?new _o(Yt,[St]):sr==="coerce"?new Ao(Yt,[St]):St}if(Array.isArray(D)){if(D.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var pe=D[0];if(typeof pe!="string")return this.error("Expression name must be a string, but found "+typeof pe+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Me=this.registry[pe];if(Me){var Ie=Me.parse(D,this);if(!Ie)return null;if(this.expectedType){var Je=this.expectedType,ft=Ie.type;if((Je.kind==="string"||Je.kind==="number"||Je.kind==="boolean"||Je.kind==="object"||Je.kind==="array")&&ft.kind==="value")Ie=ie(Ie,Je,G.typeAnnotation||"assert");else if((Je.kind==="color"||Je.kind==="formatted"||Je.kind==="resolvedImage")&&(ft.kind==="value"||ft.kind==="string"))Ie=ie(Ie,Je,G.typeAnnotation||"coerce");else if(this.checkSubtype(Je,ft))return null}if(!(Ie instanceof rs)&&Ie.type.kind!=="resolvedImage"&&Kf(Ie)){var bt=new _s;try{Ie=new rs(Ie.type,Ie.evaluate(bt))}catch(St){return this.error(St.message),null}}return Ie}return this.error('Unknown expression "'+pe+'". If you wanted a literal array, use ["literal", [...]].',0)}else return typeof D>"u"?this.error("'undefined' value invalid. Use null instead."):typeof D=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof D+" instead.")},tl.prototype.concat=function(D,G,ie){var pe=typeof D=="number"?this.path.concat(D):this.path,Me=ie?this.scope.concat(ie):this.scope;return new tl(this.registry,pe,G||null,Me,this.errors)},tl.prototype.error=function(D){for(var G=[],ie=arguments.length-1;ie-- >0;)G[ie]=arguments[ie+1];var pe=""+this.key+G.map(function(Me){return"["+Me+"]"}).join("");this.errors.push(new An(pe,D))},tl.prototype.checkSubtype=function(D,G){var ie=ko(D,G);return ie&&this.error(ie),ie};function Kf(I){if(I instanceof zs)return Kf(I.boundExpression);if(I instanceof So&&I.name==="error")return!1;if(I instanceof qs)return!1;if(I instanceof fs)return!1;var D=I instanceof Ao||I instanceof _o,G=!0;return I.eachChild(function(ie){D?G=G&&Kf(ie):G=G&&ie instanceof rs}),G?Fl(I)&&tu(I,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"]):!1}function ru(I,D){for(var G=I.length-1,ie=0,pe=G,Me=0,Ie,Je;ie<=pe;)if(Me=Math.floor((ie+pe)/2),Ie=I[Me],Je=I[Me+1],Ie<=D){if(Me===G||D<Je)return Me;ie=Me+1}else if(Ie>D)pe=Me-1;else throw new co("Input is not a number.");return 0}var pl=function(D,G,ie){this.type=D,this.input=G,this.labels=[],this.outputs=[];for(var pe=0,Me=ie;pe<Me.length;pe+=1){var Ie=Me[pe],Je=Ie[0],ft=Ie[1];this.labels.push(Je),this.outputs.push(ft)}};pl.parse=function(D,G){if(D.length-1<4)return G.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return G.error("Expected an even number of arguments.");var ie=G.parse(D[1],1,Pr);if(!ie)return null;var pe=[],Me=null;G.expectedType&&G.expectedType.kind!=="value"&&(Me=G.expectedType);for(var Ie=1;Ie<D.length;Ie+=2){var Je=Ie===1?-1/0:D[Ie],ft=D[Ie+1],bt=Ie,St=Ie+1;if(typeof Je!="number")return G.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',bt);if(pe.length&&pe[pe.length-1][0]>=Je)return G.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',bt);var Yt=G.parse(ft,St,Me);if(!Yt)return null;Me=Me||Yt.type,pe.push([Je,Yt])}return new pl(Me,ie,pe)},pl.prototype.evaluate=function(D){var G=this.labels,ie=this.outputs;if(G.length===1)return ie[0].evaluate(D);var pe=this.input.evaluate(D);if(pe<=G[0])return ie[0].evaluate(D);var Me=G.length;if(pe>=G[Me-1])return ie[Me-1].evaluate(D);var Ie=ru(G,pe);return ie[Ie].evaluate(D)},pl.prototype.eachChild=function(D){D(this.input);for(var G=0,ie=this.outputs;G<ie.length;G+=1){var pe=ie[G];D(pe)}},pl.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},pl.prototype.serialize=function(){for(var D=["step",this.input.serialize()],G=0;G<this.labels.length;G++)G>0&&D.push(this.labels[G]),D.push(this.outputs[G].serialize());return D};function qi(I,D,G){return I*(1-G)+D*G}function Jf(I,D,G){return new pi(qi(I.r,D.r,G),qi(I.g,D.g,G),qi(I.b,D.b,G),qi(I.a,D.a,G))}function uf(I,D,G){return I.map(function(ie,pe){return qi(ie,D[pe],G)})}var nu=Object.freeze({__proto__:null,number:qi,color:Jf,array:uf}),Nc=.95047,Vc=1,au=1.08883,iu=4/29,xo=6/29,ff=3*xo*xo,Oh=xo*xo*xo,$f=Math.PI/180,Bh=180/Math.PI;function cf(I){return I>Oh?Math.pow(I,.3333333333333333):I/ff+iu}function _u(I){return I>xo?I*I*I:ff*(I-iu)}function Qf(I){return 255*(I<=.0031308?12.92*I:1.055*Math.pow(I,.4166666666666667)-.055)}function qf(I){return I/=255,I<=.04045?I/12.92:Math.pow((I+.055)/1.055,2.4)}function Fu(I){var D=qf(I.r),G=qf(I.g),ie=qf(I.b),pe=cf((.4124564*D+.3575761*G+.1804375*ie)/Nc),Me=cf((.2126729*D+.7151522*G+.072175*ie)/Vc),Ie=cf((.0193339*D+.119192*G+.9503041*ie)/au);return{l:116*Me-16,a:500*(pe-Me),b:200*(Me-Ie),alpha:I.a}}function ec(I){var D=(I.l+16)/116,G=isNaN(I.a)?D:D+I.a/500,ie=isNaN(I.b)?D:D-I.b/200;return D=Vc*_u(D),G=Nc*_u(G),ie=au*_u(ie),new pi(Qf(3.2404542*G-1.5371385*D-.4985314*ie),Qf(-.969266*G+1.8760108*D+.041556*ie),Qf(.0556434*G-.2040259*D+1.0572252*ie),I.alpha)}function hf(I,D,G){return{l:qi(I.l,D.l,G),a:qi(I.a,D.a,G),b:qi(I.b,D.b,G),alpha:qi(I.alpha,D.alpha,G)}}function tc(I){var D=Fu(I),G=D.l,ie=D.a,pe=D.b,Me=Math.atan2(pe,ie)*Bh;return{h:Me<0?Me+360:Me,c:Math.sqrt(ie*ie+pe*pe),l:G,alpha:I.a}}function Li(I){var D=I.h*$f,G=I.c,ie=I.l;return ec({l:ie,a:Math.cos(D)*G,b:Math.sin(D)*G,alpha:I.alpha})}function Uc(I,D,G){var ie=D-I;return I+G*(ie>180||ie<-180?ie-360*Math.round(ie/360):ie)}function ws(I,D,G){return{h:Uc(I.h,D.h,G),c:qi(I.c,D.c,G),l:qi(I.l,D.l,G),alpha:qi(I.alpha,D.alpha,G)}}var ou={forward:Fu,reverse:ec,interpolate:hf},zl={forward:tc,reverse:Li,interpolate:ws},rc=Object.freeze({__proto__:null,lab:ou,hcl:zl}),to=function(D,G,ie,pe,Me){this.type=D,this.operator=G,this.interpolation=ie,this.input=pe,this.labels=[],this.outputs=[];for(var Ie=0,Je=Me;Ie<Je.length;Ie+=1){var ft=Je[Ie],bt=ft[0],St=ft[1];this.labels.push(bt),this.outputs.push(St)}};to.interpolationFactor=function(D,G,ie,pe){var Me=0;if(D.name==="exponential")Me=zu(G,D.base,ie,pe);else if(D.name==="linear")Me=zu(G,1,ie,pe);else if(D.name==="cubic-bezier"){var Ie=D.controlPoints,Je=new h(Ie[0],Ie[1],Ie[2],Ie[3]);Me=Je.solve(zu(G,1,ie,pe))}return Me},to.parse=function(D,G){var ie=D[0],pe=D[1],Me=D[2],Ie=D.slice(3);if(!Array.isArray(pe)||pe.length===0)return G.error("Expected an interpolation type expression.",1);if(pe[0]==="linear")pe={name:"linear"};else if(pe[0]==="exponential"){var Je=pe[1];if(typeof Je!="number")return G.error("Exponential interpolation requires a numeric base.",1,1);pe={name:"exponential",base:Je}}else if(pe[0]==="cubic-bezier"){var ft=pe.slice(1);if(ft.length!==4||ft.some(function(en){return typeof en!="number"||en<0||en>1}))return G.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);pe={name:"cubic-bezier",controlPoints:ft}}else return G.error("Unknown interpolation type "+String(pe[0]),1,0);if(D.length-1<4)return G.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if((D.length-1)%2!==0)return G.error("Expected an even number of arguments.");if(Me=G.parse(Me,2,Pr),!Me)return null;var bt=[],St=null;ie==="interpolate-hcl"||ie==="interpolate-lab"?St=zn:G.expectedType&&G.expectedType.kind!=="value"&&(St=G.expectedType);for(var Yt=0;Yt<Ie.length;Yt+=2){var sr=Ie[Yt],er=Ie[Yt+1],xr=Yt+3,Ur=Yt+4;if(typeof sr!="number")return G.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',xr);if(bt.length&&bt[bt.length-1][0]>=sr)return G.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',xr);var an=G.parse(er,Ur,St);if(!an)return null;St=St||an.type,bt.push([sr,an])}return St.kind!=="number"&&St.kind!=="color"&&!(St.kind==="array"&&St.itemType.kind==="number"&&typeof St.N=="number")?G.error("Type "+ma(St)+" is not interpolatable."):new to(St,ie,pe,Me,bt)},to.prototype.evaluate=function(D){var G=this.labels,ie=this.outputs;if(G.length===1)return ie[0].evaluate(D);var pe=this.input.evaluate(D);if(pe<=G[0])return ie[0].evaluate(D);var Me=G.length;if(pe>=G[Me-1])return ie[Me-1].evaluate(D);var Ie=ru(G,pe),Je=G[Ie],ft=G[Ie+1],bt=to.interpolationFactor(this.interpolation,pe,Je,ft),St=ie[Ie].evaluate(D),Yt=ie[Ie+1].evaluate(D);return this.operator==="interpolate"?nu[this.type.kind.toLowerCase()](St,Yt,bt):this.operator==="interpolate-hcl"?zl.reverse(zl.interpolate(zl.forward(St),zl.forward(Yt),bt)):ou.reverse(ou.interpolate(ou.forward(St),ou.forward(Yt),bt))},to.prototype.eachChild=function(D){D(this.input);for(var G=0,ie=this.outputs;G<ie.length;G+=1){var pe=ie[G];D(pe)}},to.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})},to.prototype.serialize=function(){var D;this.interpolation.name==="linear"?D=["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?D=["linear"]:D=["exponential",this.interpolation.base]:D=["cubic-bezier"].concat(this.interpolation.controlPoints);for(var G=[this.operator,D,this.input.serialize()],ie=0;ie<this.labels.length;ie++)G.push(this.labels[ie],this.outputs[ie].serialize());return G};function zu(I,D,G,ie){var pe=ie-G,Me=I-G;return pe===0?0:D===1?Me/pe:(Math.pow(D,Me)-1)/(Math.pow(D,pe)-1)}var Jo=function(D,G){this.type=D,this.args=G};Jo.parse=function(D,G){if(D.length<2)return G.error("Expectected at least one argument.");var ie=null,pe=G.expectedType;pe&&pe.kind!=="value"&&(ie=pe);for(var Me=[],Ie=0,Je=D.slice(1);Ie<Je.length;Ie+=1){var ft=Je[Ie],bt=G.parse(ft,1+Me.length,ie,void 0,{typeAnnotation:"omit"});if(!bt)return null;ie=ie||bt.type,Me.push(bt)}var St=pe&&Me.some(function(Yt){return ko(pe,Yt.type)});return St?new Jo(xn,Me):new Jo(ie,Me)},Jo.prototype.evaluate=function(D){for(var G=null,ie=0,pe,Me=0,Ie=this.args;Me<Ie.length;Me+=1){var Je=Ie[Me];if(ie++,G=Je.evaluate(D),G&&G instanceof Ko&&!G.available&&(pe||(pe=G.name),G=null,ie===this.args.length&&(G=pe)),G!==null)break}return G},Jo.prototype.eachChild=function(D){this.args.forEach(D)},Jo.prototype.outputDefined=function(){return this.args.every(function(D){return D.outputDefined()})},Jo.prototype.serialize=function(){var D=["coalesce"];return this.eachChild(function(G){D.push(G.serialize())}),D};var rl=function(D,G){this.type=G.type,this.bindings=[].concat(D),this.result=G};rl.prototype.evaluate=function(D){return this.result.evaluate(D)},rl.prototype.eachChild=function(D){for(var G=0,ie=this.bindings;G<ie.length;G+=1){var pe=ie[G];D(pe[1])}D(this.result)},rl.parse=function(D,G){if(D.length<4)return G.error("Expected at least 3 arguments, but found "+(D.length-1)+" instead.");for(var ie=[],pe=1;pe<D.length-1;pe+=2){var Me=D[pe];if(typeof Me!="string")return G.error("Expected string, but found "+typeof Me+" instead.",pe);if(/[^a-zA-Z0-9_]/.test(Me))return G.error("Variable names must contain only alphanumeric characters or '_'.",pe);var Ie=G.parse(D[pe+1],pe+1);if(!Ie)return null;ie.push([Me,Ie])}var Je=G.parse(D[D.length-1],D.length-1,G.expectedType,ie);return Je?new rl(ie,Je):null},rl.prototype.outputDefined=function(){return this.result.outputDefined()},rl.prototype.serialize=function(){for(var D=["let"],G=0,ie=this.bindings;G<ie.length;G+=1){var pe=ie[G],Me=pe[0],Ie=pe[1];D.push(Me,Ie.serialize())}return D.push(this.result.serialize()),D};var nl=function(D,G,ie){this.type=D,this.index=G,this.input=ie};nl.parse=function(D,G){if(D.length!==3)return G.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ie=G.parse(D[1],1,Pr),pe=G.parse(D[2],2,fa(G.expectedType||xn));if(!ie||!pe)return null;var Me=pe.type;return new nl(Me.itemType,ie,pe)},nl.prototype.evaluate=function(D){var G=this.index.evaluate(D),ie=this.input.evaluate(D);if(G<0)throw new co("Array index out of bounds: "+G+" < 0.");if(G>=ie.length)throw new co("Array index out of bounds: "+G+" > "+(ie.length-1)+".");if(G!==Math.floor(G))throw new co("Array index must be an integer, but found "+G+" instead.");return ie[G]},nl.prototype.eachChild=function(D){D(this.index),D(this.input)},nl.prototype.outputDefined=function(){return!1},nl.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var yl=function(D,G){this.type=pn,this.needle=D,this.haystack=G};yl.parse=function(D,G){if(D.length!==3)return G.error("Expected 2 arguments, but found "+(D.length-1)+" instead.");var ie=G.parse(D[1],1,xn),pe=G.parse(D[2],2,xn);return!ie||!pe?null:No(ie.type,[pn,zr,Pr,Dr,xn])?new yl(ie,pe):G.error("Expected first argument to be of type boolean, string, number or null, but found "+ma(ie.type)+" instead")},yl.prototype.evaluate=function(D){var G=this.needle.evaluate(D),ie=this.haystack.evaluate(D);if(!ie)return!1;if(!jo(G,["boolean","string","number","null"]))throw new co("Expected first argument to be of type boolean, string, number or null, but found "+ma(Xi(G))+" instead.");if(!jo(ie,["string","array"]))throw new co("Expected second argument to be of type array or string, but found "+ma(Xi(ie))+" instead.");return ie.indexOf(G)>=0},yl.prototype.eachChild=function(D){D(this.needle),D(this.haystack)},yl.prototype.outputDefined=function(){return!0},yl.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var ml=function(D,G,ie){this.type=Pr,this.needle=D,this.haystack=G,this.fromIndex=ie};ml.parse=function(D,G){if(D.length<=2||D.length>=5)return G.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ie=G.parse(D[1],1,xn),pe=G.parse(D[2],2,xn);if(!ie||!pe)return null;if(!No(ie.type,[pn,zr,Pr,Dr,xn]))return G.error("Expected first argument to be of type boolean, string, number or null, but found "+ma(ie.type)+" instead");if(D.length===4){var Me=G.parse(D[3],3,Pr);return Me?new ml(ie,pe,Me):null}else return new ml(ie,pe)},ml.prototype.evaluate=function(D){var G=this.needle.evaluate(D),ie=this.haystack.evaluate(D);if(!jo(G,["boolean","string","number","null"]))throw new co("Expected first argument to be of type boolean, string, number or null, but found "+ma(Xi(G))+" instead.");if(!jo(ie,["string","array"]))throw new co("Expected second argument to be of type array or string, but found "+ma(Xi(ie))+" instead.");if(this.fromIndex){var pe=this.fromIndex.evaluate(D);return ie.indexOf(G,pe)}return ie.indexOf(G)},ml.prototype.eachChild=function(D){D(this.needle),D(this.haystack),this.fromIndex&&D(this.fromIndex)},ml.prototype.outputDefined=function(){return!1},ml.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var D=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),D]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var xl=function(D,G,ie,pe,Me,Ie){this.inputType=D,this.type=G,this.input=ie,this.cases=pe,this.outputs=Me,this.otherwise=Ie};xl.parse=function(D,G){if(D.length<5)return G.error("Expected at least 4 arguments, but found only "+(D.length-1)+".");if(D.length%2!==1)return G.error("Expected an even number of arguments.");var ie,pe;G.expectedType&&G.expectedType.kind!=="value"&&(pe=G.expectedType);for(var Me={},Ie=[],Je=2;Je<D.length-1;Je+=2){var ft=D[Je],bt=D[Je+1];Array.isArray(ft)||(ft=[ft]);var St=G.concat(Je);if(ft.length===0)return St.error("Expected at least one branch label.");for(var Yt=0,sr=ft;Yt<sr.length;Yt+=1){var er=sr[Yt];if(typeof er!="number"&&typeof er!="string")return St.error("Branch labels must be numbers or strings.");if(typeof er=="number"&&Math.abs(er)>Number.MAX_SAFE_INTEGER)return St.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof er=="number"&&Math.floor(er)!==er)return St.error("Numeric branch labels must be integer values.");if(!ie)ie=Xi(er);else if(St.checkSubtype(ie,Xi(er)))return null;if(typeof Me[String(er)]<"u")return St.error("Branch labels must be unique.");Me[String(er)]=Ie.length}var xr=G.parse(bt,Je,pe);if(!xr)return null;pe=pe||xr.type,Ie.push(xr)}var Ur=G.parse(D[1],1,xn);if(!Ur)return null;var an=G.parse(D[D.length-1],D.length-1,pe);return!an||Ur.type.kind!=="value"&&G.concat(1).checkSubtype(ie,Ur.type)?null:new xl(ie,pe,Ur,Me,Ie,an)},xl.prototype.evaluate=function(D){var G=this.input.evaluate(D),ie=Xi(G)===this.inputType&&this.outputs[this.cases[G]]||this.otherwise;return ie.evaluate(D)},xl.prototype.eachChild=function(D){D(this.input),this.outputs.forEach(D),D(this.otherwise)},xl.prototype.outputDefined=function(){return this.outputs.every(function(D){return D.outputDefined()})&&this.otherwise.outputDefined()},xl.prototype.serialize=function(){for(var D=this,G=["match",this.input.serialize()],ie=Object.keys(this.cases).sort(),pe=[],Me={},Ie=0,Je=ie;Ie<Je.length;Ie+=1){var ft=Je[Ie],bt=Me[this.cases[ft]];bt===void 0?(Me[this.cases[ft]]=pe.length,pe.push([this.cases[ft],[ft]])):pe[bt][1].push(ft)}for(var St=function(Ur){return D.inputType.kind==="number"?Number(Ur):Ur},Yt=0,sr=pe;Yt<sr.length;Yt+=1){var er=sr[Yt],bt=er[0],xr=er[1];xr.length===1?G.push(St(xr[0])):G.push(xr.map(St)),G.push(this.outputs[outputIndex$1].serialize())}return G.push(this.otherwise.serialize()),G};var Ts=function(D,G,ie){this.type=D,this.branches=G,this.otherwise=ie};Ts.parse=function(D,G){if(D.length<4)return G.error("Expected at least 3 arguments, but found only "+(D.length-1)+".");if(D.length%2!==0)return G.error("Expected an odd number of arguments.");var ie;G.expectedType&&G.expectedType.kind!=="value"&&(ie=G.expectedType);for(var pe=[],Me=1;Me<D.length-1;Me+=2){var Ie=G.parse(D[Me],Me,pn);if(!Ie)return null;var Je=G.parse(D[Me+1],Me+1,ie);if(!Je)return null;pe.push([Ie,Je]),ie=ie||Je.type}var ft=G.parse(D[D.length-1],D.length-1,ie);return ft?new Ts(ie,pe,ft):null},Ts.prototype.evaluate=function(D){for(var G=0,ie=this.branches;G<ie.length;G+=1){var pe=ie[G],Me=pe[0],Ie=pe[1];if(Me.evaluate(D))return Ie.evaluate(D)}return this.otherwise.evaluate(D)},Ts.prototype.eachChild=function(D){for(var G=0,ie=this.branches;G<ie.length;G+=1){var pe=ie[G],Me=pe[0],Ie=pe[1];D(Me),D(Ie)}D(this.otherwise)},Ts.prototype.outputDefined=function(){return this.branches.every(function(D){D[0];var G=D[1];return G.outputDefined()})&&this.otherwise.outputDefined()},Ts.prototype.serialize=function(){var D=["case"];return this.eachChild(function(G){D.push(G.serialize())}),D};var Os=function(D,G,ie,pe){this.type=D,this.input=G,this.beginIndex=ie,this.endIndex=pe};Os.parse=function(D,G){if(D.length<=2||D.length>=5)return G.error("Expected 3 or 4 arguments, but found "+(D.length-1)+" instead.");var ie=G.parse(D[1],1,xn),pe=G.parse(D[2],2,Pr);if(!ie||!pe)return null;if(!No(ie.type,[fa(xn),zr,xn]))return G.error("Expected first argument to be of type array or string, but found "+ma(ie.type)+" instead");if(D.length===4){var Me=G.parse(D[3],3,Pr);return Me?new Os(ie.type,ie,pe,Me):null}else return new Os(ie.type,ie,pe)},Os.prototype.evaluate=function(D){var G=this.input.evaluate(D),ie=this.beginIndex.evaluate(D);if(!jo(G,["string","array"]))throw new co("Expected first argument to be of type array or string, but found "+ma(Xi(G))+" instead.");if(this.endIndex){var pe=this.endIndex.evaluate(D);return G.slice(ie,pe)}return G.slice(ie)},Os.prototype.eachChild=function(D){D(this.input),D(this.beginIndex),this.endIndex&&D(this.endIndex)},Os.prototype.outputDefined=function(){return!1},Os.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var D=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),D]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};function Ou(I,D){return I==="=="||I==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function Bu(I,D,G){return D===G}function vf(I,D,G){return D!==G}function Nh(I,D,G){return D<G}function Vh(I,D,G){return D>G}function Uh(I,D,G){return D<=G}function Hh(I,D,G){return D>=G}function df(I,D,G,ie){return ie.compare(D,G)===0}function Hc(I,D,G,ie){return!df(I,D,G,ie)}function su(I,D,G,ie){return ie.compare(D,G)<0}function Mo(I,D,G,ie){return ie.compare(D,G)>0}function $o(I,D,G,ie){return ie.compare(D,G)<=0}function Nu(I,D,G,ie){return ie.compare(D,G)>=0}function Ol(I,D,G){var ie=I!=="=="&&I!=="!=";return function(){function pe(Me,Ie,Je){this.type=pn,this.lhs=Me,this.rhs=Ie,this.collator=Je,this.hasUntypedArgument=Me.type.kind==="value"||Ie.type.kind==="value"}return pe.parse=function(Ie,Je){if(Ie.length!==3&&Ie.length!==4)return Je.error("Expected two or three arguments.");var ft=Ie[0],bt=Je.parse(Ie[1],1,xn);if(!bt)return null;if(!Ou(ft,bt.type))return Je.concat(1).error('"'+ft+`" comparisons are not supported for type '`+ma(bt.type)+"'.");var St=Je.parse(Ie[2],2,xn);if(!St)return null;if(!Ou(ft,St.type))return Je.concat(2).error('"'+ft+`" comparisons are not supported for type '`+ma(St.type)+"'.");if(bt.type.kind!==St.type.kind&&bt.type.kind!=="value"&&St.type.kind!=="value")return Je.error("Cannot compare types '"+ma(bt.type)+"' and '"+ma(St.type)+"'.");ie&&(bt.type.kind==="value"&&St.type.kind!=="value"?bt=new _o(St.type,[bt]):bt.type.kind!=="value"&&St.type.kind==="value"&&(St=new _o(bt.type,[St])));var Yt=null;if(Ie.length===4){if(bt.type.kind!=="string"&&St.type.kind!=="string"&&bt.type.kind!=="value"&&St.type.kind!=="value")return Je.error("Cannot use collator to compare non-string types.");if(Yt=Je.parse(Ie[3],3,ta),!Yt)return null}return new pe(bt,St,Yt)},pe.prototype.evaluate=function(Ie){var Je=this.lhs.evaluate(Ie),ft=this.rhs.evaluate(Ie);if(ie&&this.hasUntypedArgument){var bt=Xi(Je),St=Xi(ft);if(bt.kind!==St.kind||!(bt.kind==="string"||bt.kind==="number"))throw new co('Expected arguments for "'+I+'" to be (string, string) or (number, number), but found ('+bt.kind+", "+St.kind+") instead.")}if(this.collator&&!ie&&this.hasUntypedArgument){var Yt=Xi(Je),sr=Xi(ft);if(Yt.kind!=="string"||sr.kind!=="string")return D(Ie,Je,ft)}return this.collator?G(Ie,Je,ft,this.collator.evaluate(Ie)):D(Ie,Je,ft)},pe.prototype.eachChild=function(Ie){Ie(this.lhs),Ie(this.rhs),this.collator&&Ie(this.collator)},pe.prototype.outputDefined=function(){return!0},pe.prototype.serialize=function(){var Ie=[I];return this.eachChild(function(Je){Ie.push(Je.serialize())}),Ie},pe}()}var Vu=Ol("==",Bu,df),pf=Ol("!=",vf,Hc),Gh=Ol("<",Nh,su),Gc=Ol(">",Vh,Mo),Wc=Ol("<=",Uh,$o),nc=Ol(">=",Hh,Nu),bl=function(D,G,ie,pe,Me){this.type=zr,this.number=D,this.locale=G,this.currency=ie,this.minFractionDigits=pe,this.maxFractionDigits=Me};bl.parse=function(D,G){if(D.length!==3)return G.error("Expected two arguments.");var ie=G.parse(D[1],1,Pr);if(!ie)return null;var pe=D[2];if(typeof pe!="object"||Array.isArray(pe))return G.error("NumberFormat options argument must be an object.");var Me=null;if(pe.locale&&(Me=G.parse(pe.locale,1,zr),!Me))return null;var Ie=null;if(pe.currency&&(Ie=G.parse(pe.currency,1,zr),!Ie))return null;var Je=null;if(pe["min-fraction-digits"]&&(Je=G.parse(pe["min-fraction-digits"],1,Pr),!Je))return null;var ft=null;return pe["max-fraction-digits"]&&(ft=G.parse(pe["max-fraction-digits"],1,Pr),!ft)?null:new bl(ie,Me,Ie,Je,ft)},bl.prototype.evaluate=function(D){return new Intl.NumberFormat(this.locale?this.locale.evaluate(D):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(D):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(D):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(D):void 0}).format(this.number.evaluate(D))},bl.prototype.eachChild=function(D){D(this.number),this.locale&&D(this.locale),this.currency&&D(this.currency),this.minFractionDigits&&D(this.minFractionDigits),this.maxFractionDigits&&D(this.maxFractionDigits)},bl.prototype.outputDefined=function(){return!1},bl.prototype.serialize=function(){var D={};return this.locale&&(D.locale=this.locale.serialize()),this.currency&&(D.currency=this.currency.serialize()),this.minFractionDigits&&(D["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(D["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),D]};var ro=function(D){this.type=Pr,this.input=D};ro.parse=function(D,G){if(D.length!==2)return G.error("Expected 1 argument, but found "+(D.length-1)+" instead.");var ie=G.parse(D[1],1);return ie?ie.type.kind!=="array"&&ie.type.kind!=="string"&&ie.type.kind!=="value"?G.error("Expected argument of type string or array, but found "+ma(ie.type)+" instead."):new ro(ie):null},ro.prototype.evaluate=function(D){var G=this.input.evaluate(D);if(typeof G=="string")return G.length;if(Array.isArray(G))return G.length;throw new co("Expected value to be of type string or array, but found "+ma(Xi(G))+" instead.")},ro.prototype.eachChild=function(D){D(this.input)},ro.prototype.outputDefined=function(){return!1},ro.prototype.serialize=function(){var D=["length"];return this.eachChild(function(G){D.push(G.serialize())}),D};var Bs={"==":Vu,"!=":pf,">":Gc,"<":Gh,">=":nc,"<=":Wc,array:_o,at:nl,boolean:_o,case:Ts,coalesce:Jo,collator:qs,format:us,image:ks,in:yl,"index-of":ml,interpolate:to,"interpolate-hcl":to,"interpolate-lab":to,length:ro,let:rl,literal:rs,match:xl,number:_o,"number-format":bl,object:_o,slice:Os,step:pl,string:_o,"to-boolean":Ao,"to-color":Ao,"to-number":Ao,"to-string":Ao,var:zs,within:fs};function ac(I,D){var G=D[0],ie=D[1],pe=D[2],Me=D[3];G=G.evaluate(I),ie=ie.evaluate(I),pe=pe.evaluate(I);var Ie=Me?Me.evaluate(I):1,Je=Fc(G,ie,pe,Ie);if(Je)throw new co(Je);return new pi(G/255*Ie,ie/255*Ie,pe/255*Ie,Ie)}function Yc(I,D){return I in D}function Bl(I,D){var G=D[I];return typeof G>"u"?null:G}function gf(I,D,G,ie){for(;G<=ie;){var pe=G+ie>>1;if(D[pe]===I)return!0;D[pe]>I?ie=pe-1:G=pe+1}return!1}function As(I){return{type:I}}So.register(Bs,{error:[Nn,[zr],function(I,D){var G=D[0];throw new co(G.evaluate(I))}],typeof:[zr,[xn],function(I,D){var G=D[0];return ma(Xi(G.evaluate(I)))}],"to-rgba":[fa(Pr,4),[zn],function(I,D){var G=D[0];return G.evaluate(I).toArray()}],rgb:[zn,[Pr,Pr,Pr],ac],rgba:[zn,[Pr,Pr,Pr,Pr],ac],has:{type:pn,overloads:[[[zr],function(I,D){var G=D[0];return Yc(G.evaluate(I),I.properties())}],[[zr,Zn],function(I,D){var G=D[0],ie=D[1];return Yc(G.evaluate(I),ie.evaluate(I))}]]},get:{type:xn,overloads:[[[zr],function(I,D){var G=D[0];return Bl(G.evaluate(I),I.properties())}],[[zr,Zn],function(I,D){var G=D[0],ie=D[1];return Bl(G.evaluate(I),ie.evaluate(I))}]]},"feature-state":[xn,[zr],function(I,D){var G=D[0];return Bl(G.evaluate(I),I.featureState||{})}],properties:[Zn,[],function(I){return I.properties()}],"geometry-type":[zr,[],function(I){return I.geometryType()}],id:[xn,[],function(I){return I.id()}],zoom:[Pr,[],function(I){return I.globals.zoom}],"heatmap-density":[Pr,[],function(I){return I.globals.heatmapDensity||0}],"line-progress":[Pr,[],function(I){return I.globals.lineProgress||0}],accumulated:[xn,[],function(I){return I.globals.accumulated===void 0?null:I.globals.accumulated}],"+":[Pr,As(Pr),function(I,D){for(var G=0,ie=0,pe=D;ie<pe.length;ie+=1){var Me=pe[ie];G+=Me.evaluate(I)}return G}],"*":[Pr,As(Pr),function(I,D){for(var G=1,ie=0,pe=D;ie<pe.length;ie+=1){var Me=pe[ie];G*=Me.evaluate(I)}return G}],"-":{type:Pr,overloads:[[[Pr,Pr],function(I,D){var G=D[0],ie=D[1];return G.evaluate(I)-ie.evaluate(I)}],[[Pr],function(I,D){var G=D[0];return-G.evaluate(I)}]]},"/":[Pr,[Pr,Pr],function(I,D){var G=D[0],ie=D[1];return G.evaluate(I)/ie.evaluate(I)}],"%":[Pr,[Pr,Pr],function(I,D){var G=D[0],ie=D[1];return G.evaluate(I)%ie.evaluate(I)}],ln2:[Pr,[],function(){return Math.LN2}],pi:[Pr,[],function(){return Math.PI}],e:[Pr,[],function(){return Math.E}],"^":[Pr,[Pr,Pr],function(I,D){var G=D[0],ie=D[1];return Math.pow(G.evaluate(I),ie.evaluate(I))}],sqrt:[Pr,[Pr],function(I,D){var G=D[0];return Math.sqrt(G.evaluate(I))}],log10:[Pr,[Pr],function(I,D){var G=D[0];return Math.log(G.evaluate(I))/Math.LN10}],ln:[Pr,[Pr],function(I,D){var G=D[0];return Math.log(G.evaluate(I))}],log2:[Pr,[Pr],function(I,D){var G=D[0];return Math.log(G.evaluate(I))/Math.LN2}],sin:[Pr,[Pr],function(I,D){var G=D[0];return Math.sin(G.evaluate(I))}],cos:[Pr,[Pr],function(I,D){var G=D[0];return Math.cos(G.evaluate(I))}],tan:[Pr,[Pr],function(I,D){var G=D[0];return Math.tan(G.evaluate(I))}],asin:[Pr,[Pr],function(I,D){var G=D[0];return Math.asin(G.evaluate(I))}],acos:[Pr,[Pr],function(I,D){var G=D[0];return Math.acos(G.evaluate(I))}],atan:[Pr,[Pr],function(I,D){var G=D[0];return Math.atan(G.evaluate(I))}],min:[Pr,As(Pr),function(I,D){return Math.min.apply(Math,D.map(function(G){return G.evaluate(I)}))}],max:[Pr,As(Pr),function(I,D){return Math.max.apply(Math,D.map(function(G){return G.evaluate(I)}))}],abs:[Pr,[Pr],function(I,D){var G=D[0];return Math.abs(G.evaluate(I))}],round:[Pr,[Pr],function(I,D){var G=D[0],ie=G.evaluate(I);return ie<0?-Math.round(-ie):Math.round(ie)}],floor:[Pr,[Pr],function(I,D){var G=D[0];return Math.floor(G.evaluate(I))}],ceil:[Pr,[Pr],function(I,D){var G=D[0];return Math.ceil(G.evaluate(I))}],"filter-==":[pn,[zr,xn],function(I,D){var G=D[0],ie=D[1];return I.properties()[G.value]===ie.value}],"filter-id-==":[pn,[xn],function(I,D){var G=D[0];return I.id()===G.value}],"filter-type-==":[pn,[zr],function(I,D){var G=D[0];return I.geometryType()===G.value}],"filter-<":[pn,[zr,xn],function(I,D){var G=D[0],ie=D[1],pe=I.properties()[G.value],Me=ie.value;return typeof pe==typeof Me&&pe<Me}],"filter-id-<":[pn,[xn],function(I,D){var G=D[0],ie=I.id(),pe=G.value;return typeof ie==typeof pe&&ie<pe}],"filter->":[pn,[zr,xn],function(I,D){var G=D[0],ie=D[1],pe=I.properties()[G.value],Me=ie.value;return typeof pe==typeof Me&&pe>Me}],"filter-id->":[pn,[xn],function(I,D){var G=D[0],ie=I.id(),pe=G.value;return typeof ie==typeof pe&&ie>pe}],"filter-<=":[pn,[zr,xn],function(I,D){var G=D[0],ie=D[1],pe=I.properties()[G.value],Me=ie.value;return typeof pe==typeof Me&&pe<=Me}],"filter-id-<=":[pn,[xn],function(I,D){var G=D[0],ie=I.id(),pe=G.value;return typeof ie==typeof pe&&ie<=pe}],"filter->=":[pn,[zr,xn],function(I,D){var G=D[0],ie=D[1],pe=I.properties()[G.value],Me=ie.value;return typeof pe==typeof Me&&pe>=Me}],"filter-id->=":[pn,[xn],function(I,D){var G=D[0],ie=I.id(),pe=G.value;return typeof ie==typeof pe&&ie>=pe}],"filter-has":[pn,[xn],function(I,D){var G=D[0];return G.value in I.properties()}],"filter-has-id":[pn,[],function(I){return I.id()!==null&&I.id()!==void 0}],"filter-type-in":[pn,[fa(zr)],function(I,D){var G=D[0];return G.value.indexOf(I.geometryType())>=0}],"filter-id-in":[pn,[fa(xn)],function(I,D){var G=D[0];return G.value.indexOf(I.id())>=0}],"filter-in-small":[pn,[zr,fa(xn)],function(I,D){var G=D[0],ie=D[1];return ie.value.indexOf(I.properties()[G.value])>=0}],"filter-in-large":[pn,[zr,fa(xn)],function(I,D){var G=D[0],ie=D[1];return gf(I.properties()[G.value],ie.value,0,ie.value.length-1)}],all:{type:pn,overloads:[[[pn,pn],function(I,D){var G=D[0],ie=D[1];return G.evaluate(I)&&ie.evaluate(I)}],[As(pn),function(I,D){for(var G=0,ie=D;G<ie.length;G+=1){var pe=ie[G];if(!pe.evaluate(I))return!1}return!0}]]},any:{type:pn,overloads:[[[pn,pn],function(I,D){var G=D[0],ie=D[1];return G.evaluate(I)||ie.evaluate(I)}],[As(pn),function(I,D){for(var G=0,ie=D;G<ie.length;G+=1){var pe=ie[G];if(pe.evaluate(I))return!0}return!1}]]},"!":[pn,[pn],function(I,D){var G=D[0];return!G.evaluate(I)}],"is-supported-script":[pn,[zr],function(I,D){var G=D[0],ie=I.globals&&I.globals.isSupportedScript;return ie?ie(G.evaluate(I)):!0}],upcase:[zr,[zr],function(I,D){var G=D[0];return G.evaluate(I).toUpperCase()}],downcase:[zr,[zr],function(I,D){var G=D[0];return G.evaluate(I).toLowerCase()}],concat:[zr,As(xn),function(I,D){return D.map(function(G){return Iu(G.evaluate(I))}).join("")}],"resolved-locale":[zr,[ta],function(I,D){var G=D[0];return G.evaluate(I).resolvedLocale()}]});function yf(I){return{result:"success",value:I}}function al(I){return{result:"error",value:I}}function il(I){return I["property-type"]==="data-driven"||I["property-type"]==="cross-faded-data-driven"}function ic(I){return!!I.expression&&I.expression.parameters.indexOf("zoom")>-1}function lu(I){return!!I.expression&&I.expression.interpolated}function Ai(I){return I instanceof Number?"number":I instanceof String?"string":I instanceof Boolean?"boolean":Array.isArray(I)?"array":I===null?"null":typeof I}function Nl(I){return typeof I=="object"&&I!==null&&!Array.isArray(I)}function mf(I){return I}function xf(I,D){var G=D.type==="color",ie=I.stops&&typeof I.stops[0][0]=="object",pe=ie||I.property!==void 0,Me=ie||!pe,Ie=I.type||(lu(D)?"exponential":"interval");if(G&&(I=vn({},I),I.stops&&(I.stops=I.stops.map(function(Qn){return[Qn[0],pi.parse(Qn[1])]})),I.default?I.default=pi.parse(I.default):I.default=pi.parse(D.default)),I.colorSpace&&I.colorSpace!=="rgb"&&!rc[I.colorSpace])throw new Error("Unknown color space: "+I.colorSpace);var Je,ft,bt;if(Ie==="exponential")Je=uu;else if(Ie==="interval")Je=oc;else if(Ie==="categorical"){Je=Wh,ft=Object.create(null);for(var St=0,Yt=I.stops;St<Yt.length;St+=1){var sr=Yt[St];ft[sr[0]]=sr[1]}bt=typeof I.stops[0][0]}else if(Ie==="identity")Je=sc;else throw new Error('Unknown function type "'+Ie+'"');if(ie){for(var er={},xr=[],Ur=0;Ur<I.stops.length;Ur++){var an=I.stops[Ur],en=an[0].zoom;er[en]===void 0&&(er[en]={zoom:en,type:I.type,property:I.property,default:I.default,stops:[]},xr.push(en)),er[en].stops.push([an[0].value,an[1]])}for(var Cn=[],wn=0,Mn=xr;wn<Mn.length;wn+=1){var Fn=Mn[wn];Cn.push([er[Fn].zoom,xf(er[Fn],D)])}var Gn={name:"linear"};return{kind:"composite",interpolationType:Gn,interpolationFactor:to.interpolationFactor.bind(void 0,Gn),zoomStops:Cn.map(function(Qn){return Qn[0]}),evaluate:function(Pa,ga){var wa=Pa.zoom;return uu({stops:Cn,base:I.base},D,wa).evaluate(wa,ga)}}}else if(Me){var qn=Ie==="exponential"?{name:"exponential",base:I.base!==void 0?I.base:1}:null;return{kind:"camera",interpolationType:qn,interpolationFactor:to.interpolationFactor.bind(void 0,qn),zoomStops:I.stops.map(function(Qn){return Qn[0]}),evaluate:function(Qn){var Pa=Qn.zoom;return Je(I,D,Pa,ft,bt)}}}else return{kind:"source",evaluate:function(Pa,ga){var wa=ga&&ga.properties?ga.properties[I.property]:void 0;return wa===void 0?wl(I.default,D.default):Je(I,D,wa,ft,bt)}}}function wl(I,D,G){if(I!==void 0)return I;if(D!==void 0)return D;if(G!==void 0)return G}function Wh(I,D,G,ie,pe){var Me=typeof G===pe?ie[G]:void 0;return wl(Me,I.default,D.default)}function oc(I,D,G){if(Ai(G)!=="number")return wl(I.default,D.default);var ie=I.stops.length;if(ie===1||G<=I.stops[0][0])return I.stops[0][1];if(G>=I.stops[ie-1][0])return I.stops[ie-1][1];var pe=ru(I.stops.map(function(Me){return Me[0]}),G);return I.stops[pe][1]}function uu(I,D,G){var ie=I.base!==void 0?I.base:1;if(Ai(G)!=="number")return wl(I.default,D.default);var pe=I.stops.length;if(pe===1||G<=I.stops[0][0])return I.stops[0][1];if(G>=I.stops[pe-1][0])return I.stops[pe-1][1];var Me=ru(I.stops.map(function(Yt){return Yt[0]}),G),Ie=Zc(G,ie,I.stops[Me][0],I.stops[Me+1][0]),Je=I.stops[Me][1],ft=I.stops[Me+1][1],bt=nu[D.type]||mf;if(I.colorSpace&&I.colorSpace!=="rgb"){var St=rc[I.colorSpace];bt=function(Yt,sr){return St.reverse(St.interpolate(St.forward(Yt),St.forward(sr),Ie))}}return typeof Je.evaluate=="function"?{evaluate:function(){for(var sr=[],er=arguments.length;er--;)sr[er]=arguments[er];var xr=Je.evaluate.apply(void 0,sr),Ur=ft.evaluate.apply(void 0,sr);if(!(xr===void 0||Ur===void 0))return bt(xr,Ur,Ie)}}:bt(Je,ft,Ie)}function sc(I,D,G){return D.type==="color"?G=pi.parse(G):D.type==="formatted"?G=mo.fromString(G.toString()):D.type==="resolvedImage"?G=Ko.fromString(G.toString()):Ai(G)!==D.type&&(D.type!=="enum"||!D.values[G])&&(G=void 0),wl(G,I.default,D.default)}function Zc(I,D,G,ie){var pe=ie-G,Me=I-G;return pe===0?0:D===1?Me/pe:(Math.pow(D,Me)-1)/(Math.pow(D,pe)-1)}var ol=function(D,G){this.expression=D,this._warningHistory={},this._evaluator=new _s,this._defaultValue=G?jc(G):null,this._enumValues=G&&G.type==="enum"?G.values:null};ol.prototype.evaluateWithoutErrorHandling=function(D,G,ie,pe,Me,Ie){return this._evaluator.globals=D,this._evaluator.feature=G,this._evaluator.featureState=ie,this._evaluator.canonical=pe,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=Ie,this.expression.evaluate(this._evaluator)},ol.prototype.evaluate=function(D,G,ie,pe,Me,Ie){this._evaluator.globals=D,this._evaluator.feature=G||null,this._evaluator.featureState=ie||null,this._evaluator.canonical=pe,this._evaluator.availableImages=Me||null,this._evaluator.formattedSection=Ie||null;try{var Je=this.expression.evaluate(this._evaluator);if(Je==null||typeof Je=="number"&&Je!==Je)return this._defaultValue;if(this._enumValues&&!(Je in this._enumValues))throw new co("Expected value to be one of "+Object.keys(this._enumValues).map(function(ft){return JSON.stringify(ft)}).join(", ")+", but found "+JSON.stringify(Je)+" instead.");return Je}catch(ft){return this._warningHistory[ft.message]||(this._warningHistory[ft.message]=!0,typeof console<"u"&&console.warn(ft.message)),this._defaultValue}};function Tl(I){return Array.isArray(I)&&I.length>0&&typeof I[0]=="string"&&I[0]in Bs}function Vl(I,D){var G=new tl(Bs,[],D?bf(D):void 0),ie=G.parse(I,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return ie?yf(new ol(ie,D)):al(G.errors)}var Ul=function(D,G){this.kind=D,this._styleExpression=G,this.isStateDependent=D!=="constant"&&!ku(G.expression)};Ul.prototype.evaluateWithoutErrorHandling=function(D,G,ie,pe,Me,Ie){return this._styleExpression.evaluateWithoutErrorHandling(D,G,ie,pe,Me,Ie)},Ul.prototype.evaluate=function(D,G,ie,pe,Me,Ie){return this._styleExpression.evaluate(D,G,ie,pe,Me,Ie)};var Qo=function(D,G,ie,pe){this.kind=D,this.zoomStops=ie,this._styleExpression=G,this.isStateDependent=D!=="camera"&&!ku(G.expression),this.interpolationType=pe};Qo.prototype.evaluateWithoutErrorHandling=function(D,G,ie,pe,Me,Ie){return this._styleExpression.evaluateWithoutErrorHandling(D,G,ie,pe,Me,Ie)},Qo.prototype.evaluate=function(D,G,ie,pe,Me,Ie){return this._styleExpression.evaluate(D,G,ie,pe,Me,Ie)},Qo.prototype.interpolationFactor=function(D,G,ie){return this.interpolationType?to.interpolationFactor(this.interpolationType,D,G,ie):0};function as(I,D){if(I=Vl(I,D),I.result==="error")return I;var G=I.value.expression,ie=Fl(G);if(!ie&&!il(D))return al([new An("","data expressions not supported")]);var pe=tu(G,["zoom"]);if(!pe&&!ic(D))return al([new An("","zoom expressions not supported")]);var Me=fu(G);if(!Me&&!pe)return al([new An("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Me instanceof An)return al([Me]);if(Me instanceof to&&!lu(D))return al([new An("",'"interpolate" expressions cannot be used with this property')]);if(!Me)return yf(ie?new Ul("constant",I.value):new Ul("source",I.value));var Ie=Me instanceof to?Me.interpolation:void 0;return yf(ie?new Qo("camera",I.value,Me.labels,Ie):new Qo("composite",I.value,Me.labels,Ie))}var Hl=function(D,G){this._parameters=D,this._specification=G,vn(this,xf(this._parameters,this._specification))};Hl.deserialize=function(D){return new Hl(D._parameters,D._specification)},Hl.serialize=function(D){return{_parameters:D._parameters,_specification:D._specification}};function Xc(I,D){if(Nl(I))return new Hl(I,D);if(Tl(I)){var G=as(I,D);if(G.result==="error")throw new Error(G.value.map(function(pe){return pe.key+": "+pe.message}).join(", "));return G.value}else{var ie=I;return typeof I=="string"&&D.type==="color"&&(ie=pi.parse(I)),{kind:"constant",evaluate:function(){return ie}}}}function fu(I){var D=null;if(I instanceof rl)D=fu(I.result);else if(I instanceof Jo)for(var G=0,ie=I.args;G<ie.length;G+=1){var pe=ie[G];if(D=fu(pe),D)break}else(I instanceof pl||I instanceof to)&&I.input instanceof So&&I.input.name==="zoom"&&(D=I);return D instanceof An||I.eachChild(function(Me){var Ie=fu(Me);Ie instanceof An?D=Ie:!D&&Ie?D=new An("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Ie&&D!==Ie&&(D=new An("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function bf(I){var D={color:zn,string:zr,number:Pr,enum:zr,boolean:pn,formatted:ha,resolvedImage:ua};return I.type==="array"?fa(D[I.value]||xn,I.length):D[I.type]}function jc(I){return I.type==="color"&&Nl(I.default)?new pi(0,0,0,0):I.type==="color"?pi.parse(I.default)||null:I.default===void 0?null:I.default}function Ss(I){var D=I.key,G=I.value,ie=I.valueSpec||{},pe=I.objectElementValidators||{},Me=I.style,Ie=I.styleSpec,Je=[],ft=Ai(G);if(ft!=="object")return[new Sr(D,G,"object expected, "+ft+" found")];for(var bt in G){var St=bt.split(".")[0],Yt=ie[St]||ie["*"],sr=void 0;if(pe[St])sr=pe[St];else if(ie[St])sr=ar;else if(pe["*"])sr=pe["*"];else if(ie["*"])sr=ar;else{Je.push(new Sr(D,G[bt],'unknown property "'+bt+'"'));continue}Je=Je.concat(sr({key:(D&&D+".")+bt,value:G[bt],valueSpec:Yt,style:Me,styleSpec:Ie,object:G,objectKey:bt},G))}for(var er in ie)pe[er]||ie[er].required&&ie[er].default===void 0&&G[er]===void 0&&Je.push(new Sr(D,G,'missing required property "'+er+'"'));return Je}function lc(I){var D=I.value,G=I.valueSpec,ie=I.style,pe=I.styleSpec,Me=I.key,Ie=I.arrayElementValidator||ar;if(Ai(D)!=="array")return[new Sr(Me,D,"array expected, "+Ai(D)+" found")];if(G.length&&D.length!==G.length)return[new Sr(Me,D,"array length "+G.length+" expected, length "+D.length+" found")];if(G["min-length"]&&D.length<G["min-length"])return[new Sr(Me,D,"array length at least "+G["min-length"]+" expected, length "+D.length+" found")];var Je={type:G.value,values:G.values};pe.$version<7&&(Je.function=G.function),Ai(G.value)==="object"&&(Je=G.value);for(var ft=[],bt=0;bt<D.length;bt++)ft=ft.concat(Ie({array:D,arrayIndex:bt,value:D[bt],valueSpec:Je,style:ie,styleSpec:pe,key:Me+"["+bt+"]"}));return ft}function Al(I){var D=I.key,G=I.value,ie=I.valueSpec,pe=Ai(G);return pe==="number"&&G!==G&&(pe="NaN"),pe!=="number"?[new Sr(D,G,"number expected, "+pe+" found")]:"minimum"in ie&&G<ie.minimum?[new Sr(D,G,G+" is less than the minimum value "+ie.minimum)]:"maximum"in ie&&G>ie.maximum?[new Sr(D,G,G+" is greater than the maximum value "+ie.maximum)]:[]}function Uu(I){var D=I.valueSpec,G=dn(I.value.type),ie,pe={},Me,Ie,Je=G!=="categorical"&&I.value.property===void 0,ft=!Je,bt=Ai(I.value.stops)==="array"&&Ai(I.value.stops[0])==="array"&&Ai(I.value.stops[0][0])==="object",St=Ss({key:I.key,value:I.value,valueSpec:I.styleSpec.function,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{stops:Yt,default:xr}});return G==="identity"&&Je&&St.push(new Sr(I.key,I.value,'missing required property "property"')),G!=="identity"&&!I.value.stops&&St.push(new Sr(I.key,I.value,'missing required property "stops"')),G==="exponential"&&I.valueSpec.expression&&!lu(I.valueSpec)&&St.push(new Sr(I.key,I.value,"exponential functions not supported")),I.styleSpec.$version>=8&&(ft&&!il(I.valueSpec)?St.push(new Sr(I.key,I.value,"property functions not supported")):Je&&!ic(I.valueSpec)&&St.push(new Sr(I.key,I.value,"zoom functions not supported"))),(G==="categorical"||bt)&&I.value.property===void 0&&St.push(new Sr(I.key,I.value,'"property" property is required')),St;function Yt(Ur){if(G==="identity")return[new Sr(Ur.key,Ur.value,'identity function may not have a "stops" property')];var an=[],en=Ur.value;return an=an.concat(lc({key:Ur.key,value:en,valueSpec:Ur.valueSpec,style:Ur.style,styleSpec:Ur.styleSpec,arrayElementValidator:sr})),Ai(en)==="array"&&en.length===0&&an.push(new Sr(Ur.key,en,"array must have at least one stop")),an}function sr(Ur){var an=[],en=Ur.value,Cn=Ur.key;if(Ai(en)!=="array")return[new Sr(Cn,en,"array expected, "+Ai(en)+" found")];if(en.length!==2)return[new Sr(Cn,en,"array length 2 expected, length "+en.length+" found")];if(bt){if(Ai(en[0])!=="object")return[new Sr(Cn,en,"object expected, "+Ai(en[0])+" found")];if(en[0].zoom===void 0)return[new Sr(Cn,en,"object stop key must have zoom")];if(en[0].value===void 0)return[new Sr(Cn,en,"object stop key must have value")];if(Ie&&Ie>dn(en[0].zoom))return[new Sr(Cn,en[0].zoom,"stop zoom values must appear in ascending order")];dn(en[0].zoom)!==Ie&&(Ie=dn(en[0].zoom),Me=void 0,pe={}),an=an.concat(Ss({key:Cn+"[0]",value:en[0],valueSpec:{zoom:{}},style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{zoom:Al,value:er}}))}else an=an.concat(er({key:Cn+"[0]",value:en[0],valueSpec:{},style:Ur.style,styleSpec:Ur.styleSpec},en));return Tl(Rn(en[1]))?an.concat([new Sr(Cn+"[1]",en[1],"expressions are not allowed in function stops.")]):an.concat(ar({key:Cn+"[1]",value:en[1],valueSpec:D,style:Ur.style,styleSpec:Ur.styleSpec}))}function er(Ur,an){var en=Ai(Ur.value),Cn=dn(Ur.value),wn=Ur.value!==null?Ur.value:an;if(!ie)ie=en;else if(en!==ie)return[new Sr(Ur.key,wn,en+" stop domain type must match previous stop domain type "+ie)];if(en!=="number"&&en!=="string"&&en!=="boolean")return[new Sr(Ur.key,wn,"stop domain value must be a number, string, or boolean")];if(en!=="number"&&G!=="categorical"){var Mn="number expected, "+en+" found";return il(D)&&G===void 0&&(Mn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Sr(Ur.key,wn,Mn)]}return G==="categorical"&&en==="number"&&(!isFinite(Cn)||Math.floor(Cn)!==Cn)?[new Sr(Ur.key,wn,"integer expected, found "+Cn)]:G!=="categorical"&&en==="number"&&Me!==void 0&&Cn<Me?[new Sr(Ur.key,wn,"stop domain values must appear in ascending order")]:(Me=Cn,G==="categorical"&&Cn in pe?[new Sr(Ur.key,wn,"stop domain values must be unique")]:(pe[Cn]=!0,[]))}function xr(Ur){return ar({key:Ur.key,value:Ur.value,valueSpec:D,style:Ur.style,styleSpec:Ur.styleSpec})}}function sl(I){var D=(I.expressionContext==="property"?as:Vl)(Rn(I.value),I.valueSpec);if(D.result==="error")return D.value.map(function(ie){return new Sr(""+I.key+ie.key,I.value,ie.message)});var G=D.value.expression||D.value._styleExpression.expression;if(I.expressionContext==="property"&&I.propertyKey==="text-font"&&!G.outputDefined())return[new Sr(I.key,I.value,'Invalid data expression for "'+I.propertyKey+'". Output values must be contained as literals within the expression.')];if(I.expressionContext==="property"&&I.propertyType==="layout"&&!ku(G))return[new Sr(I.key,I.value,'"feature-state" data expressions are not supported with layout properties.')];if(I.expressionContext==="filter"&&!ku(G))return[new Sr(I.key,I.value,'"feature-state" data expressions are not supported with filters.')];if(I.expressionContext&&I.expressionContext.indexOf("cluster")===0){if(!tu(G,["zoom","feature-state"]))return[new Sr(I.key,I.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(I.expressionContext==="cluster-initial"&&!Fl(G))return[new Sr(I.key,I.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Yh(I){var D=I.value,G=I.key,ie=Ai(D);return ie!=="boolean"?[new Sr(G,D,"boolean expected, "+ie+" found")]:[]}function uc(I){var D=I.key,G=I.value,ie=Ai(G);return ie!=="string"?[new Sr(D,G,"color expected, "+ie+" found")]:Hf(G)===null?[new Sr(D,G,'color expected, "'+G+'" found')]:[]}function wf(I){var D=I.key,G=I.value,ie=I.valueSpec,pe=[];return Array.isArray(ie.values)?ie.values.indexOf(dn(G))===-1&&pe.push(new Sr(D,G,"expected one of ["+ie.values.join(", ")+"], "+JSON.stringify(G)+" found")):Object.keys(ie.values).indexOf(dn(G))===-1&&pe.push(new Sr(D,G,"expected one of ["+Object.keys(ie.values).join(", ")+"], "+JSON.stringify(G)+" found")),pe}function Fo(I){if(I===!0||I===!1)return!0;if(!Array.isArray(I)||I.length===0)return!1;switch(I[0]){case"has":return I.length>=2&&I[1]!=="$id"&&I[1]!=="$type";case"in":return I.length>=3&&(typeof I[1]!="string"||Array.isArray(I[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return I.length!==3||Array.isArray(I[1])||Array.isArray(I[2]);case"any":case"all":for(var D=0,G=I.slice(1);D<G.length;D+=1){var ie=G[D];if(!Fo(ie)&&typeof ie!="boolean")return!1}return!0;default:return!0}}var Kc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Hu(I){if(I==null)return{filter:function(){return!0},needGeometry:!1};Fo(I)||(I=Sl(I));var D=Vl(I,Kc);if(D.result==="error")throw new Error(D.value.map(function(ie){return ie.key+": "+ie.message}).join(", "));var G=Gu(I);return{filter:function(ie,pe,Me){return D.value.evaluate(ie,pe,{},Me)},needGeometry:G}}function Ns(I,D){return I<D?-1:I>D?1:0}function Gu(I){if(!Array.isArray(I))return!1;if(I[0]==="within")return!0;for(var D=1;D<I.length;D++)if(Gu(I[D]))return!0;return!1}function Sl(I){if(!I)return!0;var D=I[0];if(I.length<=1)return D!=="any";var G=D==="=="?Tf(I[1],I[2],"=="):D==="!="?Gl(Tf(I[1],I[2],"==")):D==="<"||D===">"||D==="<="||D===">="?Tf(I[1],I[2],D):D==="any"?Jc(I.slice(1)):D==="all"?["all"].concat(I.slice(1).map(Sl)):D==="none"?["all"].concat(I.slice(1).map(Sl).map(Gl)):D==="in"?fc(I[1],I.slice(2)):D==="!in"?Gl(fc(I[1],I.slice(2))):D==="has"?cc(I[1]):D==="!has"?Gl(cc(I[1])):D==="within"?I:!0;return G}function Tf(I,D,G){switch(I){case"$type":return["filter-type-"+G,D];case"$id":return["filter-id-"+G,D];default:return["filter-"+G,I,D]}}function Jc(I){return["any"].concat(I.map(Sl))}function fc(I,D){if(D.length===0)return!1;switch(I){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(G){return typeof G!=typeof D[0]})?["filter-in-large",I,["literal",D.sort(Ns)]]:["filter-in-small",I,["literal",D]]}}function cc(I){switch(I){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",I]}}function Gl(I){return["!",I]}function Af(I){return Fo(Rn(I.value))?sl(vn({},I,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Wu(I)}function Wu(I){var D=I.value,G=I.key;if(Ai(D)!=="array")return[new Sr(G,D,"array expected, "+Ai(D)+" found")];var ie=I.styleSpec,pe,Me=[];if(D.length<1)return[new Sr(G,D,"filter array must have at least 1 element")];switch(Me=Me.concat(wf({key:G+"[0]",value:D[0],valueSpec:ie.filter_operator,style:I.style,styleSpec:I.styleSpec})),dn(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&dn(D[1])==="$type"&&Me.push(new Sr(G,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&Me.push(new Sr(G,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(pe=Ai(D[1]),pe!=="string"&&Me.push(new Sr(G+"[1]",D[1],"string expected, "+pe+" found")));for(var Ie=2;Ie<D.length;Ie++)pe=Ai(D[Ie]),dn(D[1])==="$type"?Me=Me.concat(wf({key:G+"["+Ie+"]",value:D[Ie],valueSpec:ie.geometry_type,style:I.style,styleSpec:I.styleSpec})):pe!=="string"&&pe!=="number"&&pe!=="boolean"&&Me.push(new Sr(G+"["+Ie+"]",D[Ie],"string, number, or boolean expected, "+pe+" found"));break;case"any":case"all":case"none":for(var Je=1;Je<D.length;Je++)Me=Me.concat(Wu({key:G+"["+Je+"]",value:D[Je],style:I.style,styleSpec:I.styleSpec}));break;case"has":case"!has":pe=Ai(D[1]),D.length!==2?Me.push(new Sr(G,D,'filter array for "'+D[0]+'" operator must have 2 elements')):pe!=="string"&&Me.push(new Sr(G+"[1]",D[1],"string expected, "+pe+" found"));break;case"within":pe=Ai(D[1]),D.length!==2?Me.push(new Sr(G,D,'filter array for "'+D[0]+'" operator must have 2 elements')):pe!=="object"&&Me.push(new Sr(G+"[1]",D[1],"object expected, "+pe+" found"));break}return Me}function $c(I,D){var G=I.key,ie=I.style,pe=I.styleSpec,Me=I.value,Ie=I.objectKey,Je=pe[D+"_"+I.layerType];if(!Je)return[];var ft=Ie.match(/^(.*)-transition$/);if(D==="paint"&&ft&&Je[ft[1]]&&Je[ft[1]].transition)return ar({key:G,value:Me,valueSpec:pe.transition,style:ie,styleSpec:pe});var bt=I.valueSpec||Je[Ie];if(!bt)return[new Sr(G,Me,'unknown property "'+Ie+'"')];var St;if(Ai(Me)==="string"&&il(bt)&&!bt.tokens&&(St=/^{([^}]+)}$/.exec(Me)))return[new Sr(G,Me,'"'+Ie+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(St[1])+" }`.")];var Yt=[];return I.layerType==="symbol"&&(Ie==="text-field"&&ie&&!ie.glyphs&&Yt.push(new Sr(G,Me,'use of "text-field" requires a style "glyphs" property')),Ie==="text-font"&&Nl(Rn(Me))&&dn(Me.type)==="identity"&&Yt.push(new Sr(G,Me,'"text-font" does not support identity functions'))),Yt.concat(ar({key:I.key,value:Me,valueSpec:bt,style:ie,styleSpec:pe,expressionContext:"property",propertyType:D,propertyKey:Ie}))}function Yu(I){return $c(I,"paint")}function Qc(I){return $c(I,"layout")}function Ke(I){var D=[],G=I.value,ie=I.key,pe=I.style,Me=I.styleSpec;!G.type&&!G.ref&&D.push(new Sr(ie,G,'either "type" or "ref" is required'));var Ie=dn(G.type),Je=dn(G.ref);if(G.id)for(var ft=dn(G.id),bt=0;bt<I.arrayIndex;bt++){var St=pe.layers[bt];dn(St.id)===ft&&D.push(new Sr(ie,G.id,'duplicate layer id "'+G.id+'", previously used at line '+St.id.__line__))}if("ref"in G){["type","source","source-layer","filter","layout"].forEach(function(xr){xr in G&&D.push(new Sr(ie,G[xr],'"'+xr+'" is prohibited for ref layers'))});var Yt;pe.layers.forEach(function(xr){dn(xr.id)===Je&&(Yt=xr)}),Yt?Yt.ref?D.push(new Sr(ie,G.ref,"ref cannot reference another ref layer")):Ie=dn(Yt.type):D.push(new Sr(ie,G.ref,'ref layer "'+Je+'" not found'))}else if(Ie!=="background")if(!G.source)D.push(new Sr(ie,G,'missing required property "source"'));else{var sr=pe.sources&&pe.sources[G.source],er=sr&&dn(sr.type);sr?er==="vector"&&Ie==="raster"?D.push(new Sr(ie,G.source,'layer "'+G.id+'" requires a raster source')):er==="raster"&&Ie!=="raster"?D.push(new Sr(ie,G.source,'layer "'+G.id+'" requires a vector source')):er==="vector"&&!G["source-layer"]?D.push(new Sr(ie,G,'layer "'+G.id+'" must specify a "source-layer"')):er==="raster-dem"&&Ie!=="hillshade"?D.push(new Sr(ie,G.source,"raster-dem source can only be used with layer type 'hillshade'.")):Ie==="line"&&G.paint&&G.paint["line-gradient"]&&(er!=="geojson"||!sr.lineMetrics)&&D.push(new Sr(ie,G,'layer "'+G.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new Sr(ie,G.source,'source "'+G.source+'" not found'))}return D=D.concat(Ss({key:ie,value:G,valueSpec:Me.layer,style:I.style,styleSpec:I.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return ar({key:ie+".type",value:G.type,valueSpec:Me.layer.type,style:I.style,styleSpec:I.styleSpec,object:G,objectKey:"type"})},filter:Af,layout:function(Ur){return Ss({layer:G,key:Ur.key,value:Ur.value,style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{"*":function(en){return Qc(vn({layerType:Ie},en))}}})},paint:function(Ur){return Ss({layer:G,key:Ur.key,value:Ur.value,style:Ur.style,styleSpec:Ur.styleSpec,objectElementValidators:{"*":function(en){return Yu(vn({layerType:Ie},en))}}})}}})),D}function rt(I){var D=I.value,G=I.key,ie=Ai(D);return ie!=="string"?[new Sr(G,D,"string expected, "+ie+" found")]:[]}var ht={promoteId:Dt};function pt(I){var D=I.value,G=I.key,ie=I.styleSpec,pe=I.style;if(!D.type)return[new Sr(G,D,'"type" is required')];var Me=dn(D.type),Ie;switch(Me){case"vector":case"raster":case"raster-dem":return Ie=Ss({key:G,value:D,valueSpec:ie["source_"+Me.replace("-","_")],style:I.style,styleSpec:ie,objectElementValidators:ht}),Ie;case"geojson":if(Ie=Ss({key:G,value:D,valueSpec:ie.source_geojson,style:pe,styleSpec:ie,objectElementValidators:ht}),D.cluster)for(var Je in D.clusterProperties){var ft=D.clusterProperties[Je],bt=ft[0],St=ft[1],Yt=typeof bt=="string"?[bt,["accumulated"],["get",Je]]:bt;Ie.push.apply(Ie,sl({key:G+"."+Je+".map",value:St,expressionContext:"cluster-map"})),Ie.push.apply(Ie,sl({key:G+"."+Je+".reduce",value:Yt,expressionContext:"cluster-reduce"}))}return Ie;case"video":return Ss({key:G,value:D,valueSpec:ie.source_video,style:pe,styleSpec:ie});case"image":return Ss({key:G,value:D,valueSpec:ie.source_image,style:pe,styleSpec:ie});case"canvas":return[new Sr(G,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return wf({key:G+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:pe,styleSpec:ie})}}function Dt(I){var D=I.key,G=I.value;if(Ai(G)==="string")return rt({key:D,value:G});var ie=[];for(var pe in G)ie.push.apply(ie,rt({key:D+"."+pe,value:G[pe]}));return ie}function Lt(I){var D=I.value,G=I.styleSpec,ie=G.light,pe=I.style,Me=[],Ie=Ai(D);if(D===void 0)return Me;if(Ie!=="object")return Me=Me.concat([new Sr("light",D,"object expected, "+Ie+" found")]),Me;for(var Je in D){var ft=Je.match(/^(.*)-transition$/);ft&&ie[ft[1]]&&ie[ft[1]].transition?Me=Me.concat(ar({key:Je,value:D[Je],valueSpec:G.transition,style:pe,styleSpec:G})):ie[Je]?Me=Me.concat(ar({key:Je,value:D[Je],valueSpec:ie[Je],style:pe,styleSpec:G})):Me=Me.concat([new Sr(Je,D[Je],'unknown property "'+Je+'"')])}return Me}function Ot(I){return rt(I).length===0?[]:sl(I)}function cr(I){return rt(I).length===0?[]:sl(I)}var yr={"*":function(){return[]},array:lc,boolean:Yh,number:Al,color:uc,constants:sn,enum:wf,filter:Af,function:Uu,layer:Ke,object:Ss,source:pt,light:Lt,string:rt,formatted:Ot,resolvedImage:cr};function ar(I){var D=I.value,G=I.valueSpec,ie=I.styleSpec;if(G.expression&&Nl(dn(D)))return Uu(I);if(G.expression&&Tl(Rn(D)))return sl(I);if(G.type&&yr[G.type])return yr[G.type](I);var pe=Ss(vn({},I,{valueSpec:G.type?ie[G.type]:G}));return pe}function Mr(I){var D=I.value,G=I.key,ie=rt(I);return ie.length||(D.indexOf("{fontstack}")===-1&&ie.push(new Sr(G,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&ie.push(new Sr(G,D,'"glyphs" url must include a "{range}" token'))),ie}function Ir(I,D){D===void 0&&(D=jt);var G=[];return G=G.concat(ar({key:"",value:I,valueSpec:D.$root,styleSpec:D,style:I,objectElementValidators:{glyphs:Mr,"*":function(){return[]}}})),I.constants&&(G=G.concat(sn({key:"constants",value:I.constants,style:I,styleSpec:D}))),Zr(G)}Ir.source=Qr(pt),Ir.light=Qr(Lt),Ir.layer=Qr(Ke),Ir.filter=Qr(Af),Ir.paintProperty=Qr(Yu),Ir.layoutProperty=Qr(Qc);function Zr(I){return[].concat(I).sort(function(D,G){return D.line-G.line})}function Qr(I){return function(){for(var D=[],G=arguments.length;G--;)D[G]=arguments[G];return Zr(I.apply(this,D))}}var bn=Ir,Tn=bn.light,Dn=bn.paintProperty,ya=bn.layoutProperty;function ka(I,D){var G=!1;if(D&&D.length)for(var ie=0,pe=D;ie<pe.length;ie+=1){var Me=pe[ie];I.fire(new ir(new Error(Me.message))),G=!0}return G}var Ba=Ga,Va=3;function Ga(I,D,G){var ie=this.cells=[];if(I instanceof ArrayBuffer){this.arrayBuffer=I;var pe=new Int32Array(this.arrayBuffer);I=pe[0],D=pe[1],G=pe[2],this.d=D+2*G;for(var Me=0;Me<this.d*this.d;Me++){var Ie=pe[Va+Me],Je=pe[Va+Me+1];ie.push(Ie===Je?null:pe.subarray(Ie,Je))}var ft=pe[Va+ie.length],bt=pe[Va+ie.length+1];this.keys=pe.subarray(ft,bt),this.bboxes=pe.subarray(bt),this.insert=this._insertReadonly}else{this.d=D+2*G;for(var St=0;St<this.d*this.d;St++)ie.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=I,this.padding=G,this.scale=D/I,this.uid=0;var Yt=G/D*I;this.min=-Yt,this.max=I+Yt}Ga.prototype.insert=function(I,D,G,ie,pe){this._forEachCell(D,G,ie,pe,this._insertCell,this.uid++),this.keys.push(I),this.bboxes.push(D),this.bboxes.push(G),this.bboxes.push(ie),this.bboxes.push(pe)},Ga.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ga.prototype._insertCell=function(I,D,G,ie,pe,Me){this.cells[pe].push(Me)},Ga.prototype.query=function(I,D,G,ie,pe){var Me=this.min,Ie=this.max;if(I<=Me&&D<=Me&&Ie<=G&&Ie<=ie&&!pe)return Array.prototype.slice.call(this.keys);var Je=[],ft={};return this._forEachCell(I,D,G,ie,this._queryCell,Je,ft,pe),Je},Ga.prototype._queryCell=function(I,D,G,ie,pe,Me,Ie,Je){var ft=this.cells[pe];if(ft!==null)for(var bt=this.keys,St=this.bboxes,Yt=0;Yt<ft.length;Yt++){var sr=ft[Yt];if(Ie[sr]===void 0){var er=sr*4;(Je?Je(St[er+0],St[er+1],St[er+2],St[er+3]):I<=St[er+2]&&D<=St[er+3]&&G>=St[er+0]&&ie>=St[er+1])?(Ie[sr]=!0,Me.push(bt[sr])):Ie[sr]=!1}}},Ga.prototype._forEachCell=function(I,D,G,ie,pe,Me,Ie,Je){for(var ft=this._convertToCellCoord(I),bt=this._convertToCellCoord(D),St=this._convertToCellCoord(G),Yt=this._convertToCellCoord(ie),sr=ft;sr<=St;sr++)for(var er=bt;er<=Yt;er++){var xr=this.d*er+sr;if(!(Je&&!Je(this._convertFromCellCoord(sr),this._convertFromCellCoord(er),this._convertFromCellCoord(sr+1),this._convertFromCellCoord(er+1)))&&pe.call(this,I,D,G,ie,xr,Me,Ie,Je))return}},Ga.prototype._convertFromCellCoord=function(I){return(I-this.padding)/this.scale},Ga.prototype._convertToCellCoord=function(I){return Math.max(0,Math.min(this.d-1,Math.floor(I*this.scale)+this.padding))},Ga.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var I=this.cells,D=Va+this.cells.length+1+1,G=0,ie=0;ie<this.cells.length;ie++)G+=this.cells[ie].length;var pe=new Int32Array(D+G+this.keys.length+this.bboxes.length);pe[0]=this.extent,pe[1]=this.n,pe[2]=this.padding;for(var Me=D,Ie=0;Ie<I.length;Ie++){var Je=I[Ie];pe[Va+Ie]=Me,pe.set(Je,Me),Me+=Je.length}return pe[Va+I.length]=Me,pe.set(this.keys,Me),Me+=this.keys.length,pe[Va+I.length+1]=Me,pe.set(this.bboxes,Me),Me+=this.bboxes.length,pe.buffer};var bi=self.ImageData,ji=self.ImageBitmap,Pi={};function ce(I,D,G){G===void 0&&(G={}),Object.defineProperty(D,"_classRegistryKey",{value:I,writeable:!1}),Pi[I]={klass:D,omit:G.omit||[],shallow:G.shallow||[]}}ce("Object",Object),Ba.serialize=function(D,G){var ie=D.toArrayBuffer();return G&&G.push(ie),{buffer:ie}},Ba.deserialize=function(D){return new Ba(D.buffer)},ce("Grid",Ba),ce("Color",pi),ce("Error",Error),ce("ResolvedImage",Ko),ce("StylePropertyFunction",Hl),ce("StyleExpression",ol,{omit:["_evaluator"]}),ce("ZoomDependentExpression",Qo),ce("ZoomConstantExpression",Ul),ce("CompoundExpression",So,{omit:["_evaluate"]});for(var Pe in Bs)Bs[Pe]._classRegistryKey||ce("Expression_"+Pe,Bs[Pe]);function Ue(I){return I&&typeof ArrayBuffer<"u"&&(I instanceof ArrayBuffer||I.constructor&&I.constructor.name==="ArrayBuffer")}function $e(I){return ji&&I instanceof ji}function et(I,D){if(I==null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||I instanceof Boolean||I instanceof Number||I instanceof String||I instanceof Date||I instanceof RegExp)return I;if(Ue(I)||$e(I))return D&&D.push(I),I;if(ArrayBuffer.isView(I)){var G=I;return D&&D.push(G.buffer),G}if(I instanceof bi)return D&&D.push(I.data.buffer),I;if(Array.isArray(I)){for(var ie=[],pe=0,Me=I;pe<Me.length;pe+=1){var Ie=Me[pe];ie.push(et(Ie,D))}return ie}if(typeof I=="object"){var Je=I.constructor,ft=Je._classRegistryKey;if(!ft)throw new Error("can't serialize object of unregistered class");var bt=Je.serialize?Je.serialize(I,D):{};if(!Je.serialize){for(var St in I)if(I.hasOwnProperty(St)&&!(Pi[ft].omit.indexOf(St)>=0)){var Yt=I[St];bt[St]=Pi[ft].shallow.indexOf(St)>=0?Yt:et(Yt,D)}I instanceof Error&&(bt.message=I.message)}if(bt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ft!=="Object"&&(bt.$name=ft),bt}throw new Error("can't serialize object of type "+typeof I)}function at(I){if(I==null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||I instanceof Boolean||I instanceof Number||I instanceof String||I instanceof Date||I instanceof RegExp||Ue(I)||$e(I)||ArrayBuffer.isView(I)||I instanceof bi)return I;if(Array.isArray(I))return I.map(at);if(typeof I=="object"){var D=I.$name||"Object",G=Pi[D],ie=G.klass;if(!ie)throw new Error("can't deserialize unregistered class "+D);if(ie.deserialize)return ie.deserialize(I);for(var pe=Object.create(ie.prototype),Me=0,Ie=Object.keys(I);Me<Ie.length;Me+=1){var Je=Ie[Me];if(Je!=="$name"){var ft=I[Je];pe[Je]=Pi[D].shallow.indexOf(Je)>=0?ft:at(ft)}}return pe}throw new Error("can't deserialize object of type "+typeof I)}var Pt=function(){this.first=!0};Pt.prototype.update=function(D,G){var ie=Math.floor(D);return this.first?(this.first=!1,this.lastIntegerZoom=ie,this.lastIntegerZoomTime=0,this.lastZoom=D,this.lastFloorZoom=ie,!0):(this.lastFloorZoom>ie?(this.lastIntegerZoom=ie+1,this.lastIntegerZoomTime=G):this.lastFloorZoom<ie&&(this.lastIntegerZoom=ie,this.lastIntegerZoomTime=G),D!==this.lastZoom?(this.lastZoom=D,this.lastFloorZoom=ie,!0):!1)};var ct={"Latin-1 Supplement":function(I){return I>=128&&I<=255},Arabic:function(I){return I>=1536&&I<=1791},"Arabic Supplement":function(I){return I>=1872&&I<=1919},"Arabic Extended-A":function(I){return I>=2208&&I<=2303},"Hangul Jamo":function(I){return I>=4352&&I<=4607},"Unified Canadian Aboriginal Syllabics":function(I){return I>=5120&&I<=5759},Khmer:function(I){return I>=6016&&I<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(I){return I>=6320&&I<=6399},"General Punctuation":function(I){return I>=8192&&I<=8303},"Letterlike Symbols":function(I){return I>=8448&&I<=8527},"Number Forms":function(I){return I>=8528&&I<=8591},"Miscellaneous Technical":function(I){return I>=8960&&I<=9215},"Control Pictures":function(I){return I>=9216&&I<=9279},"Optical Character Recognition":function(I){return I>=9280&&I<=9311},"Enclosed Alphanumerics":function(I){return I>=9312&&I<=9471},"Geometric Shapes":function(I){return I>=9632&&I<=9727},"Miscellaneous Symbols":function(I){return I>=9728&&I<=9983},"Miscellaneous Symbols and Arrows":function(I){return I>=11008&&I<=11263},"CJK Radicals Supplement":function(I){return I>=11904&&I<=12031},"Kangxi Radicals":function(I){return I>=12032&&I<=12255},"Ideographic Description Characters":function(I){return I>=12272&&I<=12287},"CJK Symbols and Punctuation":function(I){return I>=12288&&I<=12351},Hiragana:function(I){return I>=12352&&I<=12447},Katakana:function(I){return I>=12448&&I<=12543},Bopomofo:function(I){return I>=12544&&I<=12591},"Hangul Compatibility Jamo":function(I){return I>=12592&&I<=12687},Kanbun:function(I){return I>=12688&&I<=12703},"Bopomofo Extended":function(I){return I>=12704&&I<=12735},"CJK Strokes":function(I){return I>=12736&&I<=12783},"Katakana Phonetic Extensions":function(I){return I>=12784&&I<=12799},"Enclosed CJK Letters and Months":function(I){return I>=12800&&I<=13055},"CJK Compatibility":function(I){return I>=13056&&I<=13311},"CJK Unified Ideographs Extension A":function(I){return I>=13312&&I<=19903},"Yijing Hexagram Symbols":function(I){return I>=19904&&I<=19967},"CJK Unified Ideographs":function(I){return I>=19968&&I<=40959},"Yi Syllables":function(I){return I>=40960&&I<=42127},"Yi Radicals":function(I){return I>=42128&&I<=42191},"Hangul Jamo Extended-A":function(I){return I>=43360&&I<=43391},"Hangul Syllables":function(I){return I>=44032&&I<=55215},"Hangul Jamo Extended-B":function(I){return I>=55216&&I<=55295},"Private Use Area":function(I){return I>=57344&&I<=63743},"CJK Compatibility Ideographs":function(I){return I>=63744&&I<=64255},"Arabic Presentation Forms-A":function(I){return I>=64336&&I<=65023},"Vertical Forms":function(I){return I>=65040&&I<=65055},"CJK Compatibility Forms":function(I){return I>=65072&&I<=65103},"Small Form Variants":function(I){return I>=65104&&I<=65135},"Arabic Presentation Forms-B":function(I){return I>=65136&&I<=65279},"Halfwidth and Fullwidth Forms":function(I){return I>=65280&&I<=65519}};function Vt(I){for(var D=0,G=I;D<G.length;D+=1){var ie=G[D];if(Er(ie.charCodeAt(0)))return!0}return!1}function tr(I){for(var D=0,G=I;D<G.length;D+=1){var ie=G[D];if(!rr(ie.charCodeAt(0)))return!1}return!0}function rr(I){return!(ct.Arabic(I)||ct["Arabic Supplement"](I)||ct["Arabic Extended-A"](I)||ct["Arabic Presentation Forms-A"](I)||ct["Arabic Presentation Forms-B"](I))}function Rr(I){return I<11904?!1:!!(ct["Bopomofo Extended"](I)||ct.Bopomofo(I)||ct["CJK Compatibility Forms"](I)||ct["CJK Compatibility Ideographs"](I)||ct["CJK Compatibility"](I)||ct["CJK Radicals Supplement"](I)||ct["CJK Strokes"](I)||ct["CJK Symbols and Punctuation"](I)||ct["CJK Unified Ideographs Extension A"](I)||ct["CJK Unified Ideographs"](I)||ct["Enclosed CJK Letters and Months"](I)||ct["Halfwidth and Fullwidth Forms"](I)||ct.Hiragana(I)||ct["Ideographic Description Characters"](I)||ct["Kangxi Radicals"](I)||ct["Katakana Phonetic Extensions"](I)||ct.Katakana(I)||ct["Vertical Forms"](I)||ct["Yi Radicals"](I)||ct["Yi Syllables"](I))}function Er(I){return I===746||I===747?!0:I<4352?!1:!!(ct["Bopomofo Extended"](I)||ct.Bopomofo(I)||ct["CJK Compatibility Forms"](I)&&!(I>=65097&&I<=65103)||ct["CJK Compatibility Ideographs"](I)||ct["CJK Compatibility"](I)||ct["CJK Radicals Supplement"](I)||ct["CJK Strokes"](I)||ct["CJK Symbols and Punctuation"](I)&&!(I>=12296&&I<=12305)&&!(I>=12308&&I<=12319)&&I!==12336||ct["CJK Unified Ideographs Extension A"](I)||ct["CJK Unified Ideographs"](I)||ct["Enclosed CJK Letters and Months"](I)||ct["Hangul Compatibility Jamo"](I)||ct["Hangul Jamo Extended-A"](I)||ct["Hangul Jamo Extended-B"](I)||ct["Hangul Jamo"](I)||ct["Hangul Syllables"](I)||ct.Hiragana(I)||ct["Ideographic Description Characters"](I)||ct.Kanbun(I)||ct["Kangxi Radicals"](I)||ct["Katakana Phonetic Extensions"](I)||ct.Katakana(I)&&I!==12540||ct["Halfwidth and Fullwidth Forms"](I)&&I!==65288&&I!==65289&&I!==65293&&!(I>=65306&&I<=65310)&&I!==65339&&I!==65341&&I!==65343&&!(I>=65371&&I<=65503)&&I!==65507&&!(I>=65512&&I<=65519)||ct["Small Form Variants"](I)&&!(I>=65112&&I<=65118)&&!(I>=65123&&I<=65126)||ct["Unified Canadian Aboriginal Syllabics"](I)||ct["Unified Canadian Aboriginal Syllabics Extended"](I)||ct["Vertical Forms"](I)||ct["Yijing Hexagram Symbols"](I)||ct["Yi Syllables"](I)||ct["Yi Radicals"](I))}function $r(I){return!!(ct["Latin-1 Supplement"](I)&&(I===167||I===169||I===174||I===177||I===188||I===189||I===190||I===215||I===247)||ct["General Punctuation"](I)&&(I===8214||I===8224||I===8225||I===8240||I===8241||I===8251||I===8252||I===8258||I===8263||I===8264||I===8265||I===8273)||ct["Letterlike Symbols"](I)||ct["Number Forms"](I)||ct["Miscellaneous Technical"](I)&&(I>=8960&&I<=8967||I>=8972&&I<=8991||I>=8996&&I<=9e3||I===9003||I>=9085&&I<=9114||I>=9150&&I<=9165||I===9167||I>=9169&&I<=9179||I>=9186&&I<=9215)||ct["Control Pictures"](I)&&I!==9251||ct["Optical Character Recognition"](I)||ct["Enclosed Alphanumerics"](I)||ct["Geometric Shapes"](I)||ct["Miscellaneous Symbols"](I)&&!(I>=9754&&I<=9759)||ct["Miscellaneous Symbols and Arrows"](I)&&(I>=11026&&I<=11055||I>=11088&&I<=11097||I>=11192&&I<=11243)||ct["CJK Symbols and Punctuation"](I)||ct.Katakana(I)||ct["Private Use Area"](I)||ct["CJK Compatibility Forms"](I)||ct["Small Form Variants"](I)||ct["Halfwidth and Fullwidth Forms"](I)||I===8734||I===8756||I===8757||I>=9984&&I<=10087||I>=10102&&I<=10131||I===65532||I===65533)}function rn(I){return!(Er(I)||$r(I))}function kr(I){return ct.Arabic(I)||ct["Arabic Supplement"](I)||ct["Arabic Extended-A"](I)||ct["Arabic Presentation Forms-A"](I)||ct["Arabic Presentation Forms-B"](I)}function Hr(I){return I>=1424&&I<=2303||ct["Arabic Presentation Forms-A"](I)||ct["Arabic Presentation Forms-B"](I)}function jr(I,D){return!(!D&&Hr(I)||I>=2304&&I<=3583||I>=3840&&I<=4255||ct.Khmer(I))}function nn(I){for(var D=0,G=I;D<G.length;D+=1){var ie=G[D];if(Hr(ie.charCodeAt(0)))return!0}return!1}function fn(I,D){for(var G=0,ie=I;G<ie.length;G+=1){var pe=ie[G];if(!jr(pe.charCodeAt(0),D))return!1}return!0}var Kr={unavailable:"unavailable",deferred:"deferred",loading:"loading",loaded:"loaded",error:"error"},Vn=null,Yn=Kr.unavailable,$n=null,sa=function(I){I&&typeof I=="string"&&I.indexOf("NetworkError")>-1&&(Yn=Kr.error),Vn&&Vn(I)};function Sa(){Aa.fire(new Xt("pluginStateChange",{pluginStatus:Yn,pluginURL:$n}))}var Aa=new ur,Ka=function(){return Yn},Ia=function(I){return I({pluginStatus:Yn,pluginURL:$n}),Aa.on("pluginStateChange",I),I},Za=function(I,D,G){if(G===void 0&&(G=!1),Yn===Kr.deferred||Yn===Kr.loading||Yn===Kr.loaded)throw new Error("setRTLTextPlugin cannot be called multiple times.");$n=se.resolveURL(I),Yn=Kr.deferred,Vn=D,Sa(),G||fi()},fi=function(){if(Yn!==Kr.deferred||!$n)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Yn=Kr.loading,Sa(),$n&&Tt({url:$n},function(I){I?sa(I):(Yn=Kr.loaded,Sa())})},gi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return Yn===Kr.loaded||gi.applyArabicShaping!=null},isLoading:function(){return Yn===Kr.loading},setState:function(D){Yn=D.pluginStatus,$n=D.pluginURL},isParsed:function(){return gi.applyArabicShaping!=null&&gi.processBidirectionalText!=null&&gi.processStyledBidirectionalText!=null},getPluginURL:function(){return $n}},Si=function(){!gi.isLoading()&&!gi.isLoaded()&&Ka()==="deferred"&&fi()},Un=function(D,G){this.zoom=D,G?(this.now=G.now,this.fadeDuration=G.fadeDuration,this.zoomHistory=G.zoomHistory,this.transition=G.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Pt,this.transition={})};Un.prototype.isSupportedScript=function(D){return fn(D,gi.isLoaded())},Un.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},Un.prototype.getCrossfadeParameters=function(){var D=this.zoom,G=D-Math.floor(D),ie=this.crossFadingFactor();return D>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:G+(1-G)*ie}:{fromScale:.5,toScale:1,t:1-(1-ie)*G}};var Xa=function(D,G){this.property=D,this.value=G,this.expression=Xc(G===void 0?D.specification.default:G,D.specification)};Xa.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Xa.prototype.possiblyEvaluate=function(D,G,ie){return this.property.possiblyEvaluate(this,D,G,ie)};var Wa=function(D){this.property=D,this.value=new Xa(D,void 0)};Wa.prototype.transitioned=function(D,G){return new Vi(this.property,this.value,G,o({},D.transition,this.transition),D.now)},Wa.prototype.untransitioned=function(){return new Vi(this.property,this.value,null,{},0)};var ri=function(D){this._properties=D,this._values=Object.create(D.defaultTransitionablePropertyValues)};ri.prototype.getValue=function(D){return A(this._values[D].value.value)},ri.prototype.setValue=function(D,G){this._values.hasOwnProperty(D)||(this._values[D]=new Wa(this._values[D].property)),this._values[D].value=new Xa(this._values[D].property,G===null?void 0:A(G))},ri.prototype.getTransition=function(D){return A(this._values[D].transition)},ri.prototype.setTransition=function(D,G){this._values.hasOwnProperty(D)||(this._values[D]=new Wa(this._values[D].property)),this._values[D].transition=A(G)||void 0},ri.prototype.serialize=function(){for(var D={},G=0,ie=Object.keys(this._values);G<ie.length;G+=1){var pe=ie[G],Me=this.getValue(pe);Me!==void 0&&(D[pe]=Me);var Ie=this.getTransition(pe);Ie!==void 0&&(D[pe+"-transition"]=Ie)}return D},ri.prototype.transitioned=function(D,G){for(var ie=new eo(this._properties),pe=0,Me=Object.keys(this._values);pe<Me.length;pe+=1){var Ie=Me[pe];ie._values[Ie]=this._values[Ie].transitioned(D,G._values[Ie])}return ie},ri.prototype.untransitioned=function(){for(var D=new eo(this._properties),G=0,ie=Object.keys(this._values);G<ie.length;G+=1){var pe=ie[G];D._values[pe]=this._values[pe].untransitioned()}return D};var Vi=function(D,G,ie,pe,Me){this.property=D,this.value=G,this.begin=Me+pe.delay||0,this.end=this.begin+pe.duration||0,D.specification.transition&&(pe.delay||pe.duration)&&(this.prior=ie)};Vi.prototype.possiblyEvaluate=function(D,G,ie){var pe=D.now||0,Me=this.value.possiblyEvaluate(D,G,ie),Ie=this.prior;if(Ie){if(pe>this.end)return this.prior=null,Me;if(this.value.isDataDriven())return this.prior=null,Me;if(pe<this.begin)return Ie.possiblyEvaluate(D,G,ie);var Je=(pe-this.begin)/(this.end-this.begin);return this.property.interpolate(Ie.possiblyEvaluate(D,G,ie),Me,a(Je))}else return Me};var eo=function(D){this._properties=D,this._values=Object.create(D.defaultTransitioningPropertyValues)};eo.prototype.possiblyEvaluate=function(D,G,ie){for(var pe=new Ci(this._properties),Me=0,Ie=Object.keys(this._values);Me<Ie.length;Me+=1){var Je=Ie[Me];pe._values[Je]=this._values[Je].possiblyEvaluate(D,G,ie)}return pe},eo.prototype.hasTransition=function(){for(var D=0,G=Object.keys(this._values);D<G.length;D+=1){var ie=G[D];if(this._values[ie].prior)return!0}return!1};var oo=function(D){this._properties=D,this._values=Object.create(D.defaultPropertyValues)};oo.prototype.getValue=function(D){return A(this._values[D].value)},oo.prototype.setValue=function(D,G){this._values[D]=new Xa(this._values[D].property,G===null?void 0:A(G))},oo.prototype.serialize=function(){for(var D={},G=0,ie=Object.keys(this._values);G<ie.length;G+=1){var pe=ie[G],Me=this.getValue(pe);Me!==void 0&&(D[pe]=Me)}return D},oo.prototype.possiblyEvaluate=function(D,G,ie){for(var pe=new Ci(this._properties),Me=0,Ie=Object.keys(this._values);Me<Ie.length;Me+=1){var Je=Ie[Me];pe._values[Je]=this._values[Je].possiblyEvaluate(D,G,ie)}return pe};var Fi=function(D,G,ie){this.property=D,this.value=G,this.parameters=ie};Fi.prototype.isConstant=function(){return this.value.kind==="constant"},Fi.prototype.constantOr=function(D){return this.value.kind==="constant"?this.value.value:D},Fi.prototype.evaluate=function(D,G,ie,pe){return this.property.evaluate(this.value,this.parameters,D,G,ie,pe)};var Ci=function(D){this._properties=D,this._values=Object.create(D.defaultPossiblyEvaluatedValues)};Ci.prototype.get=function(D){return this._values[D]};var ba=function(D){this.specification=D};ba.prototype.possiblyEvaluate=function(D,G){return D.expression.evaluate(G)},ba.prototype.interpolate=function(D,G,ie){var pe=nu[this.specification.type];return pe?pe(D,G,ie):D};var La=function(D,G){this.specification=D,this.overrides=G};La.prototype.possiblyEvaluate=function(D,G,ie,pe){return D.expression.kind==="constant"||D.expression.kind==="camera"?new Fi(this,{kind:"constant",value:D.expression.evaluate(G,null,{},ie,pe)},G):new Fi(this,D.expression,G)},La.prototype.interpolate=function(D,G,ie){if(D.value.kind!=="constant"||G.value.kind!=="constant")return D;if(D.value.value===void 0||G.value.value===void 0)return new Fi(this,{kind:"constant",value:void 0},D.parameters);var pe=nu[this.specification.type];return pe?new Fi(this,{kind:"constant",value:pe(D.value.value,G.value.value,ie)},D.parameters):D},La.prototype.evaluate=function(D,G,ie,pe,Me,Ie){return D.kind==="constant"?D.value:D.evaluate(G,ie,pe,Me,Ie)};var zi=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ie,pe,Me,Ie){if(ie.value===void 0)return new Fi(this,{kind:"constant",value:void 0},pe);if(ie.expression.kind==="constant"){var Je=ie.expression.evaluate(pe,null,{},Me,Ie),ft=ie.property.specification.type==="resolvedImage",bt=ft&&typeof Je!="string"?Je.name:Je,St=this._calculate(bt,bt,bt,pe);return new Fi(this,{kind:"constant",value:St},pe)}else if(ie.expression.kind==="camera"){var Yt=this._calculate(ie.expression.evaluate({zoom:pe.zoom-1}),ie.expression.evaluate({zoom:pe.zoom}),ie.expression.evaluate({zoom:pe.zoom+1}),pe);return new Fi(this,{kind:"constant",value:Yt},pe)}else return new Fi(this,ie.expression,pe)},D.prototype.evaluate=function(ie,pe,Me,Ie,Je,ft){if(ie.kind==="source"){var bt=ie.evaluate(pe,Me,Ie,Je,ft);return this._calculate(bt,bt,bt,pe)}else return ie.kind==="composite"?this._calculate(ie.evaluate({zoom:Math.floor(pe.zoom)-1},Me,Ie),ie.evaluate({zoom:Math.floor(pe.zoom)},Me,Ie),ie.evaluate({zoom:Math.floor(pe.zoom)+1},Me,Ie),pe):ie.value},D.prototype._calculate=function(ie,pe,Me,Ie){var Je=Ie.zoom;return Je>Ie.zoomHistory.lastIntegerZoom?{from:ie,to:pe}:{from:Me,to:pe}},D.prototype.interpolate=function(ie){return ie},D}(La),no=function(D){this.specification=D};no.prototype.possiblyEvaluate=function(D,G,ie,pe){if(D.value!==void 0)if(D.expression.kind==="constant"){var Me=D.expression.evaluate(G,null,{},ie,pe);return this._calculate(Me,Me,Me,G)}else return this._calculate(D.expression.evaluate(new Un(Math.floor(G.zoom-1),G)),D.expression.evaluate(new Un(Math.floor(G.zoom),G)),D.expression.evaluate(new Un(Math.floor(G.zoom+1),G)),G)},no.prototype._calculate=function(D,G,ie,pe){var Me=pe.zoom;return Me>pe.zoomHistory.lastIntegerZoom?{from:D,to:G}:{from:ie,to:G}},no.prototype.interpolate=function(D){return D};var is=function(D){this.specification=D};is.prototype.possiblyEvaluate=function(D,G,ie,pe){return!!D.expression.evaluate(G,null,{},ie,pe)},is.prototype.interpolate=function(){return!1};var bo=function(D){this.properties=D,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(var G in D){var ie=D[G];ie.specification.overridable&&this.overridableProperties.push(G);var pe=this.defaultPropertyValues[G]=new Xa(ie,void 0),Me=this.defaultTransitionablePropertyValues[G]=new Wa(ie);this.defaultTransitioningPropertyValues[G]=Me.untransitioned(),this.defaultPossiblyEvaluatedValues[G]=pe.possiblyEvaluate({})}};ce("DataDrivenProperty",La),ce("DataConstantProperty",ba),ce("CrossFadedDataDrivenProperty",zi),ce("CrossFadedProperty",no),ce("ColorRampProperty",is);var Uo="-transition",Gi=function(I){function D(G,ie){if(I.call(this),this.id=G.id,this.type=G.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},G.type!=="custom"&&(G=G,this.metadata=G.metadata,this.minzoom=G.minzoom,this.maxzoom=G.maxzoom,G.type!=="background"&&(this.source=G.source,this.sourceLayer=G["source-layer"],this.filter=G.filter),ie.layout&&(this._unevaluatedLayout=new oo(ie.layout)),ie.paint)){this._transitionablePaint=new ri(ie.paint);for(var pe in G.paint)this.setPaintProperty(pe,G.paint[pe],{validate:!1});for(var Me in G.layout)this.setLayoutProperty(Me,G.layout[Me],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ci(ie.paint)}}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(ie){return ie==="visibility"?this.visibility:this._unevaluatedLayout.getValue(ie)},D.prototype.setLayoutProperty=function(ie,pe,Me){if(Me===void 0&&(Me={}),pe!=null){var Ie="layers."+this.id+".layout."+ie;if(this._validate(ya,Ie,ie,pe,Me))return}if(ie==="visibility"){this.visibility=pe;return}this._unevaluatedLayout.setValue(ie,pe)},D.prototype.getPaintProperty=function(ie){return T(ie,Uo)?this._transitionablePaint.getTransition(ie.slice(0,-Uo.length)):this._transitionablePaint.getValue(ie)},D.prototype.setPaintProperty=function(ie,pe,Me){if(Me===void 0&&(Me={}),pe!=null){var Ie="layers."+this.id+".paint."+ie;if(this._validate(Dn,Ie,ie,pe,Me))return!1}if(T(ie,Uo))return this._transitionablePaint.setTransition(ie.slice(0,-Uo.length),pe||void 0),!1;var Je=this._transitionablePaint._values[ie],ft=Je.property.specification["property-type"]==="cross-faded-data-driven",bt=Je.value.isDataDriven(),St=Je.value;this._transitionablePaint.setValue(ie,pe),this._handleSpecialPaintPropertyUpdate(ie);var Yt=this._transitionablePaint._values[ie].value,sr=Yt.isDataDriven();return sr||bt||ft||this._handleOverridablePaintPropertyUpdate(ie,St,Yt)},D.prototype._handleSpecialPaintPropertyUpdate=function(ie){},D.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Me){return!1},D.prototype.isHidden=function(ie){return this.minzoom&&ie<this.minzoom||this.maxzoom&&ie>=this.maxzoom?!0:this.visibility==="none"},D.prototype.updateTransitions=function(ie){this._transitioningPaint=this._transitionablePaint.transitioned(ie,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(ie,pe){ie.getCrossfadeParameters&&(this._crossfadeParameters=ie.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(ie,void 0,pe)),this.paint=this._transitioningPaint.possiblyEvaluate(ie,void 0,pe)},D.prototype.serialize=function(){var ie={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(ie.layout=ie.layout||{},ie.layout.visibility=this.visibility),R(ie,function(pe,Me){return pe!==void 0&&!(Me==="layout"&&!Object.keys(pe).length)&&!(Me==="paint"&&!Object.keys(pe).length)})},D.prototype._validate=function(ie,pe,Me,Ie,Je){return Je===void 0&&(Je={}),Je&&Je.validate===!1?!1:ka(this,ie.call(bn,{key:pe,layerType:this.type,objectKey:Me,value:Ie,styleSpec:jt,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var ie in this.paint._values){var pe=this.paint.get(ie);if(!(!(pe instanceof Fi)||!il(pe.property.specification))&&(pe.value.kind==="source"||pe.value.kind==="composite")&&pe.value.isStateDependent)return!0}return!1},D}(ur),cs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},Ri=function(D,G){this._structArray=D,this._pos1=G*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Vs=128,hs=5,ii=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};ii.serialize=function(D,G){return D._trim(),G&&(D.isTransferred=!0,G.push(D.arrayBuffer)),{length:D.length,arrayBuffer:D.arrayBuffer}},ii.deserialize=function(D){var G=Object.create(this.prototype);return G.arrayBuffer=D.arrayBuffer,G.length=D.length,G.capacity=D.arrayBuffer.byteLength/G.bytesPerElement,G._refreshViews(),G},ii.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},ii.prototype.clear=function(){this.length=0},ii.prototype.resize=function(D){this.reserve(D),this.length=D},ii.prototype.reserve=function(D){if(D>this.capacity){this.capacity=Math.max(D,Math.floor(this.capacity*hs),Vs),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var G=this.uint8;this._refreshViews(),G&&this.uint8.set(G)}},ii.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};function Oi(I,D){D===void 0&&(D=1);var G=0,ie=0,pe=I.map(function(Ie){var Je=qc(Ie.type),ft=G=hc(G,Math.max(D,Je)),bt=Ie.components||1;return ie=Math.max(ie,Je),G+=Je*bt,{name:Ie.name,type:Ie.type,components:bt,offset:ft}}),Me=hc(G,Math.max(ie,D));return{members:pe,size:Me,alignment:D}}function qc(I){return cs[I].BYTES_PER_ELEMENT}function hc(I,D){return Math.ceil(I/D)*D}var Zh=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe){var Me=this.length;return this.resize(Me+1),this.emplace(Me,ie,pe)},D.prototype.emplace=function(ie,pe,Me){var Ie=ie*2;return this.int16[Ie+0]=pe,this.int16[Ie+1]=Me,ie},D}(ii);Zh.prototype.bytesPerElement=4,ce("StructArrayLayout2i4",Zh);var Sf=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie){var Je=this.length;return this.resize(Je+1),this.emplace(Je,ie,pe,Me,Ie)},D.prototype.emplace=function(ie,pe,Me,Ie,Je){var ft=ie*4;return this.int16[ft+0]=pe,this.int16[ft+1]=Me,this.int16[ft+2]=Ie,this.int16[ft+3]=Je,ie},D}(ii);Sf.prototype.bytesPerElement=8,ce("StructArrayLayout4i8",Sf);var eh=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie,Je,ft){var bt=this.length;return this.resize(bt+1),this.emplace(bt,ie,pe,Me,Ie,Je,ft)},D.prototype.emplace=function(ie,pe,Me,Ie,Je,ft,bt){var St=ie*6;return this.int16[St+0]=pe,this.int16[St+1]=Me,this.int16[St+2]=Ie,this.int16[St+3]=Je,this.int16[St+4]=ft,this.int16[St+5]=bt,ie},D}(ii);eh.prototype.bytesPerElement=12,ce("StructArrayLayout2i4i12",eh);var Lv=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie,Je,ft){var bt=this.length;return this.resize(bt+1),this.emplace(bt,ie,pe,Me,Ie,Je,ft)},D.prototype.emplace=function(ie,pe,Me,Ie,Je,ft,bt){var St=ie*4,Yt=ie*8;return this.int16[St+0]=pe,this.int16[St+1]=Me,this.uint8[Yt+4]=Ie,this.uint8[Yt+5]=Je,this.uint8[Yt+6]=ft,this.uint8[Yt+7]=bt,ie},D}(ii);Lv.prototype.bytesPerElement=8,ce("StructArrayLayout2i4ub8",Lv);var Ms=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr){var er=this.length;return this.resize(er+1),this.emplace(er,ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr)},D.prototype.emplace=function(ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er){var xr=ie*9,Ur=ie*18;return this.uint16[xr+0]=pe,this.uint16[xr+1]=Me,this.uint16[xr+2]=Ie,this.uint16[xr+3]=Je,this.uint16[xr+4]=ft,this.uint16[xr+5]=bt,this.uint16[xr+6]=St,this.uint16[xr+7]=Yt,this.uint8[Ur+16]=sr,this.uint8[Ur+17]=er,ie},D}(ii);Ms.prototype.bytesPerElement=18,ce("StructArrayLayout8ui2ub18",Ms);var Mf=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr){var Ur=this.length;return this.resize(Ur+1),this.emplace(Ur,ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr)},D.prototype.emplace=function(ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr,Ur){var an=ie*12;return this.int16[an+0]=pe,this.int16[an+1]=Me,this.int16[an+2]=Ie,this.int16[an+3]=Je,this.uint16[an+4]=ft,this.uint16[an+5]=bt,this.uint16[an+6]=St,this.uint16[an+7]=Yt,this.int16[an+8]=sr,this.int16[an+9]=er,this.int16[an+10]=xr,this.int16[an+11]=Ur,ie},D}(ii);Mf.prototype.bytesPerElement=24,ce("StructArrayLayout4i4ui4i24",Mf);var kd=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,pe,Me)},D.prototype.emplace=function(ie,pe,Me,Ie){var Je=ie*3;return this.float32[Je+0]=pe,this.float32[Je+1]=Me,this.float32[Je+2]=Ie,ie},D}(ii);kd.prototype.bytesPerElement=12,ce("StructArrayLayout3f12",kd);var _d=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},D.prototype.emplace=function(ie,pe){var Me=ie*1;return this.uint32[Me+0]=pe,ie},D}(ii);_d.prototype.bytesPerElement=4,ce("StructArrayLayout1ul4",_d);var Xh=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie,Je,ft,bt,St,Yt){var sr=this.length;return this.resize(sr+1),this.emplace(sr,ie,pe,Me,Ie,Je,ft,bt,St,Yt)},D.prototype.emplace=function(ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr){var er=ie*10,xr=ie*5;return this.int16[er+0]=pe,this.int16[er+1]=Me,this.int16[er+2]=Ie,this.int16[er+3]=Je,this.int16[er+4]=ft,this.int16[er+5]=bt,this.uint32[xr+3]=St,this.uint16[er+8]=Yt,this.uint16[er+9]=sr,ie},D}(ii);Xh.prototype.bytesPerElement=20,ce("StructArrayLayout6i1ul2ui20",Xh);var Pv=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie,Je,ft){var bt=this.length;return this.resize(bt+1),this.emplace(bt,ie,pe,Me,Ie,Je,ft)},D.prototype.emplace=function(ie,pe,Me,Ie,Je,ft,bt){var St=ie*6;return this.int16[St+0]=pe,this.int16[St+1]=Me,this.int16[St+2]=Ie,this.int16[St+3]=Je,this.int16[St+4]=ft,this.int16[St+5]=bt,ie},D}(ii);Pv.prototype.bytesPerElement=12,ce("StructArrayLayout2i2i2i12",Pv);var Zu=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie,Je){var ft=this.length;return this.resize(ft+1),this.emplace(ft,ie,pe,Me,Ie,Je)},D.prototype.emplace=function(ie,pe,Me,Ie,Je,ft){var bt=ie*4,St=ie*8;return this.float32[bt+0]=pe,this.float32[bt+1]=Me,this.float32[bt+2]=Ie,this.int16[St+6]=Je,this.int16[St+7]=ft,ie},D}(ii);Zu.prototype.bytesPerElement=16,ce("StructArrayLayout2f1f2i16",Zu);var Us=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie){var Je=this.length;return this.resize(Je+1),this.emplace(Je,ie,pe,Me,Ie)},D.prototype.emplace=function(ie,pe,Me,Ie,Je){var ft=ie*12,bt=ie*3;return this.uint8[ft+0]=pe,this.uint8[ft+1]=Me,this.float32[bt+1]=Ie,this.float32[bt+2]=Je,ie},D}(ii);Us.prototype.bytesPerElement=12,ce("StructArrayLayout2ub2f12",Us);var Xu=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,pe,Me)},D.prototype.emplace=function(ie,pe,Me,Ie){var Je=ie*3;return this.uint16[Je+0]=pe,this.uint16[Je+1]=Me,this.uint16[Je+2]=Ie,ie},D}(ii);Xu.prototype.bytesPerElement=6,ce("StructArrayLayout3ui6",Xu);var jh=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr,Ur,an,en,Cn,wn){var Mn=this.length;return this.resize(Mn+1),this.emplace(Mn,ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr,Ur,an,en,Cn,wn)},D.prototype.emplace=function(ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr,Ur,an,en,Cn,wn,Mn){var Fn=ie*24,Gn=ie*12,qn=ie*48;return this.int16[Fn+0]=pe,this.int16[Fn+1]=Me,this.uint16[Fn+2]=Ie,this.uint16[Fn+3]=Je,this.uint32[Gn+2]=ft,this.uint32[Gn+3]=bt,this.uint32[Gn+4]=St,this.uint16[Fn+10]=Yt,this.uint16[Fn+11]=sr,this.uint16[Fn+12]=er,this.float32[Gn+7]=xr,this.float32[Gn+8]=Ur,this.uint8[qn+36]=an,this.uint8[qn+37]=en,this.uint8[qn+38]=Cn,this.uint32[Gn+10]=wn,this.int16[Fn+22]=Mn,ie},D}(ii);jh.prototype.bytesPerElement=48,ce("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",jh);var Rv=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr,Ur,an,en,Cn,wn,Mn,Fn,Gn,qn,Qn,Pa,ga,wa,ja,Ca,Ea){var ei=this.length;return this.resize(ei+1),this.emplace(ei,ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr,Ur,an,en,Cn,wn,Mn,Fn,Gn,qn,Qn,Pa,ga,wa,ja,Ca,Ea)},D.prototype.emplace=function(ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr,Ur,an,en,Cn,wn,Mn,Fn,Gn,qn,Qn,Pa,ga,wa,ja,Ca,Ea,ei){var Ya=ie*34,yi=ie*17;return this.int16[Ya+0]=pe,this.int16[Ya+1]=Me,this.int16[Ya+2]=Ie,this.int16[Ya+3]=Je,this.int16[Ya+4]=ft,this.int16[Ya+5]=bt,this.int16[Ya+6]=St,this.int16[Ya+7]=Yt,this.uint16[Ya+8]=sr,this.uint16[Ya+9]=er,this.uint16[Ya+10]=xr,this.uint16[Ya+11]=Ur,this.uint16[Ya+12]=an,this.uint16[Ya+13]=en,this.uint16[Ya+14]=Cn,this.uint16[Ya+15]=wn,this.uint16[Ya+16]=Mn,this.uint16[Ya+17]=Fn,this.uint16[Ya+18]=Gn,this.uint16[Ya+19]=qn,this.uint16[Ya+20]=Qn,this.uint16[Ya+21]=Pa,this.uint16[Ya+22]=ga,this.uint32[yi+12]=wa,this.float32[yi+13]=ja,this.float32[yi+14]=Ca,this.float32[yi+15]=Ea,this.float32[yi+16]=ei,ie},D}(ii);Rv.prototype.bytesPerElement=68,ce("StructArrayLayout8i15ui1ul4f68",Rv);var th=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},D.prototype.emplace=function(ie,pe){var Me=ie*1;return this.float32[Me+0]=pe,ie},D}(ii);th.prototype.bytesPerElement=4,ce("StructArrayLayout1f4",th);var Fd=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,pe,Me)},D.prototype.emplace=function(ie,pe,Me,Ie){var Je=ie*3;return this.int16[Je+0]=pe,this.int16[Je+1]=Me,this.int16[Je+2]=Ie,ie},D}(ii);Fd.prototype.bytesPerElement=6,ce("StructArrayLayout3i6",Fd);var Cf=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me){var Ie=this.length;return this.resize(Ie+1),this.emplace(Ie,ie,pe,Me)},D.prototype.emplace=function(ie,pe,Me,Ie){var Je=ie*2,ft=ie*4;return this.uint32[Je+0]=pe,this.uint16[ft+2]=Me,this.uint16[ft+3]=Ie,ie},D}(ii);Cf.prototype.bytesPerElement=8,ce("StructArrayLayout1ul2ui8",Cf);var Kh=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe){var Me=this.length;return this.resize(Me+1),this.emplace(Me,ie,pe)},D.prototype.emplace=function(ie,pe,Me){var Ie=ie*2;return this.uint16[Ie+0]=pe,this.uint16[Ie+1]=Me,ie},D}(ii);Kh.prototype.bytesPerElement=4,ce("StructArrayLayout2ui4",Kh);var rh=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie){var pe=this.length;return this.resize(pe+1),this.emplace(pe,ie)},D.prototype.emplace=function(ie,pe){var Me=ie*1;return this.uint16[Me+0]=pe,ie},D}(ii);rh.prototype.bytesPerElement=2,ce("StructArrayLayout1ui2",rh);var Ef=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe){var Me=this.length;return this.resize(Me+1),this.emplace(Me,ie,pe)},D.prototype.emplace=function(ie,pe,Me){var Ie=ie*2;return this.float32[Ie+0]=pe,this.float32[Ie+1]=Me,ie},D}(ii);Ef.prototype.bytesPerElement=8,ce("StructArrayLayout2f8",Ef);var zd=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(ie,pe,Me,Ie){var Je=this.length;return this.resize(Je+1),this.emplace(Je,ie,pe,Me,Ie)},D.prototype.emplace=function(ie,pe,Me,Ie,Je){var ft=ie*4;return this.float32[ft+0]=pe,this.float32[ft+1]=Me,this.float32[ft+2]=Ie,this.float32[ft+3]=Je,ie},D}(ii);zd.prototype.bytesPerElement=16,ce("StructArrayLayout4f16",zd);var H0=function(I){function D(){I.apply(this,arguments)}I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D;var G={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return G.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},G.x1.get=function(){return this._structArray.int16[this._pos2+2]},G.y1.get=function(){return this._structArray.int16[this._pos2+3]},G.x2.get=function(){return this._structArray.int16[this._pos2+4]},G.y2.get=function(){return this._structArray.int16[this._pos2+5]},G.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},G.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},G.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},G.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,G),D}(Ri);H0.prototype.size=20;var Lf=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.get=function(ie){return new H0(this,ie)},D}(Xh);ce("CollisionBoxArray",Lf);var Od=function(I){function D(){I.apply(this,arguments)}I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D;var G={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return G.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},G.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},G.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},G.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},G.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},G.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},G.segment.get=function(){return this._structArray.uint16[this._pos2+10]},G.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},G.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},G.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},G.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},G.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},G.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},G.placedOrientation.set=function(ie){this._structArray.uint8[this._pos1+37]=ie},G.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},G.hidden.set=function(ie){this._structArray.uint8[this._pos1+38]=ie},G.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},G.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+10]=ie},G.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,G),D}(Ri);Od.prototype.size=48;var nh=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.get=function(ie){return new Od(this,ie)},D}(jh);ce("PlacedSymbolArray",nh);var G0=function(I){function D(){I.apply(this,arguments)}I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D;var G={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return G.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},G.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},G.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},G.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},G.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},G.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},G.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},G.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},G.key.get=function(){return this._structArray.uint16[this._pos2+8]},G.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},G.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},G.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},G.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},G.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},G.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},G.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},G.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},G.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},G.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},G.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},G.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},G.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},G.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},G.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},G.crossTileID.set=function(ie){this._structArray.uint32[this._pos4+12]=ie},G.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},G.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},G.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},G.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,G),D}(Ri);G0.prototype.size=68;var W0=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.get=function(ie){return new G0(this,ie)},D}(Rv);ce("SymbolInstanceArray",W0);var Wl=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(ie){return this.float32[ie*1+0]},D}(th);ce("GlyphOffsetArray",Wl);var Y0=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.getx=function(ie){return this.int16[ie*3+0]},D.prototype.gety=function(ie){return this.int16[ie*3+1]},D.prototype.gettileUnitDistanceFromAnchor=function(ie){return this.int16[ie*3+2]},D}(Fd);ce("SymbolLineVertexArray",Y0);var Z0=function(I){function D(){I.apply(this,arguments)}I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D;var G={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return G.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},G.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},G.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,G),D}(Ri);Z0.prototype.size=8;var Bd=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.get=function(ie){return new Z0(this,ie)},D}(Cf);ce("FeatureIndexArray",Bd);var X0=Oi([{name:"a_pos",components:2,type:"Int16"}],4),ve=X0.members,j=function(D){D===void 0&&(D=[]),this.segments=D};j.prototype.prepareSegment=function(D,G,ie,pe){var Me=this.segments[this.segments.length-1];return D>j.MAX_VERTEX_ARRAY_LENGTH&&H("Max vertices per segment is "+j.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+D),(!Me||Me.vertexLength+D>j.MAX_VERTEX_ARRAY_LENGTH||Me.sortKey!==pe)&&(Me={vertexOffset:G.length,primitiveOffset:ie.length,vertexLength:0,primitiveLength:0},pe!==void 0&&(Me.sortKey=pe),this.segments.push(Me)),Me},j.prototype.get=function(){return this.segments},j.prototype.destroy=function(){for(var D=0,G=this.segments;D<G.length;D+=1){var ie=G[D];for(var pe in ie.vaos)ie.vaos[pe].destroy()}},j.simpleSegment=function(D,G,ie,pe){return new j([{vertexOffset:D,primitiveOffset:G,vertexLength:ie,primitiveLength:pe,vaos:{},sortKey:0}])},j.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,ce("SegmentVector",j);function ge(I,D){return I=u(Math.floor(I),0,255),D=u(Math.floor(D),0,255),256*I+D}var ne=Oi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),ye=C(function(I){function D(G,ie){var pe,Me,Ie,Je,ft,bt,St,Yt;for(pe=G.length&3,Me=G.length-pe,Ie=ie,ft=3432918353,bt=461845907,Yt=0;Yt<Me;)St=G.charCodeAt(Yt)&255|(G.charCodeAt(++Yt)&255)<<8|(G.charCodeAt(++Yt)&255)<<16|(G.charCodeAt(++Yt)&255)<<24,++Yt,St=(St&65535)*ft+(((St>>>16)*ft&65535)<<16)&4294967295,St=St<<15|St>>>17,St=(St&65535)*bt+(((St>>>16)*bt&65535)<<16)&4294967295,Ie^=St,Ie=Ie<<13|Ie>>>19,Je=(Ie&65535)*5+(((Ie>>>16)*5&65535)<<16)&4294967295,Ie=(Je&65535)+27492+(((Je>>>16)+58964&65535)<<16);switch(St=0,pe){case 3:St^=(G.charCodeAt(Yt+2)&255)<<16;case 2:St^=(G.charCodeAt(Yt+1)&255)<<8;case 1:St^=G.charCodeAt(Yt)&255,St=(St&65535)*ft+(((St>>>16)*ft&65535)<<16)&4294967295,St=St<<15|St>>>17,St=(St&65535)*bt+(((St>>>16)*bt&65535)<<16)&4294967295,Ie^=St}return Ie^=G.length,Ie^=Ie>>>16,Ie=(Ie&65535)*2246822507+(((Ie>>>16)*2246822507&65535)<<16)&4294967295,Ie^=Ie>>>13,Ie=(Ie&65535)*3266489909+(((Ie>>>16)*3266489909&65535)<<16)&4294967295,Ie^=Ie>>>16,Ie>>>0}I.exports=D}),ze=C(function(I){function D(G,ie){for(var pe=G.length,Me=ie^pe,Ie=0,Je;pe>=4;)Je=G.charCodeAt(Ie)&255|(G.charCodeAt(++Ie)&255)<<8|(G.charCodeAt(++Ie)&255)<<16|(G.charCodeAt(++Ie)&255)<<24,Je=(Je&65535)*1540483477+(((Je>>>16)*1540483477&65535)<<16),Je^=Je>>>24,Je=(Je&65535)*1540483477+(((Je>>>16)*1540483477&65535)<<16),Me=(Me&65535)*1540483477+(((Me>>>16)*1540483477&65535)<<16)^Je,pe-=4,++Ie;switch(pe){case 3:Me^=(G.charCodeAt(Ie+2)&255)<<16;case 2:Me^=(G.charCodeAt(Ie+1)&255)<<8;case 1:Me^=G.charCodeAt(Ie)&255,Me=(Me&65535)*1540483477+(((Me>>>16)*1540483477&65535)<<16)}return Me^=Me>>>13,Me=(Me&65535)*1540483477+(((Me>>>16)*1540483477&65535)<<16),Me^=Me>>>15,Me>>>0}I.exports=D}),Xe=ye,st=ye,mt=ze;Xe.murmur3=st,Xe.murmur2=mt;var Bt=function(){this.ids=[],this.positions=[],this.indexed=!1};Bt.prototype.add=function(D,G,ie,pe){this.ids.push(fr(D)),this.positions.push(G,ie,pe)},Bt.prototype.getPositions=function(D){for(var G=fr(D),ie=0,pe=this.ids.length-1;ie<pe;){var Me=ie+pe>>1;this.ids[Me]>=G?pe=Me:ie=Me+1}for(var Ie=[];this.ids[ie]===G;){var Je=this.positions[3*ie],ft=this.positions[3*ie+1],bt=this.positions[3*ie+2];Ie.push({index:Je,start:ft,end:bt}),ie++}return Ie},Bt.serialize=function(D,G){var ie=new Float64Array(D.ids),pe=new Uint32Array(D.positions);return mr(ie,pe,0,ie.length-1),G&&G.push(ie.buffer,pe.buffer),{ids:ie,positions:pe}},Bt.deserialize=function(D){var G=new Bt;return G.ids=D.ids,G.positions=D.positions,G.indexed=!0,G};var Jt=Math.pow(2,53)-1;function fr(I){var D=+I;return!isNaN(D)&&D<=Jt?D:Xe(String(I))}function mr(I,D,G,ie){for(;G<ie;){for(var pe=I[G+ie>>1],Me=G-1,Ie=ie+1;;){do Me++;while(I[Me]<pe);do Ie--;while(I[Ie]>pe);if(Me>=Ie)break;_r(I,Me,Ie),_r(D,3*Me,3*Ie),_r(D,3*Me+1,3*Ie+1),_r(D,3*Me+2,3*Ie+2)}Ie-G<ie-Ie?(mr(I,D,G,Ie),G=Ie+1):(mr(I,D,Ie+1,ie),ie=Ie)}}function _r(I,D,G){var ie=I[D];I[D]=I[G],I[G]=ie}ce("FeaturePositionMap",Bt);var Wr=function(D,G){this.gl=D.gl,this.location=G},Yr=function(I){function D(G,ie){I.call(this,G,ie),this.current=0}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1i(this.location,ie))},D}(Wr),Gr=function(I){function D(G,ie){I.call(this,G,ie),this.current=0}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){this.current!==ie&&(this.current=ie,this.gl.uniform1f(this.location,ie))},D}(Wr),qr=function(I){function D(G,ie){I.call(this,G,ie),this.current=[0,0]}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1])&&(this.current=ie,this.gl.uniform2f(this.location,ie[0],ie[1]))},D}(Wr),un=function(I){function D(G,ie){I.call(this,G,ie),this.current=[0,0,0]}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2])&&(this.current=ie,this.gl.uniform3f(this.location,ie[0],ie[1],ie[2]))},D}(Wr),En=function(I){function D(G,ie){I.call(this,G,ie),this.current=[0,0,0,0]}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){(ie[0]!==this.current[0]||ie[1]!==this.current[1]||ie[2]!==this.current[2]||ie[3]!==this.current[3])&&(this.current=ie,this.gl.uniform4f(this.location,ie[0],ie[1],ie[2],ie[3]))},D}(Wr),On=function(I){function D(G,ie){I.call(this,G,ie),this.current=pi.transparent}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){(ie.r!==this.current.r||ie.g!==this.current.g||ie.b!==this.current.b||ie.a!==this.current.a)&&(this.current=ie,this.gl.uniform4f(this.location,ie.r,ie.g,ie.b,ie.a))},D}(Wr),Xn=new Float32Array(16),Kn=function(I){function D(G,ie){I.call(this,G,ie),this.current=Xn}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.set=function(ie){if(ie[12]!==this.current[12]||ie[0]!==this.current[0]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);return}for(var pe=1;pe<16;pe++)if(ie[pe]!==this.current[pe]){this.current=ie,this.gl.uniformMatrix4fv(this.location,!1,ie);break}},D}(Wr);function jn(I){return[ge(255*I.r,255*I.g),ge(255*I.b,255*I.a)]}var ia=function(D,G,ie){this.value=D,this.uniformNames=G.map(function(pe){return"u_"+pe}),this.type=ie};ia.prototype.setUniform=function(D,G,ie){D.set(ie.constantOr(this.value))},ia.prototype.getBinding=function(D,G,ie){return this.type==="color"?new On(D,G):new Gr(D,G)};var pa=function(D,G){this.uniformNames=G.map(function(ie){return"u_"+ie}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};pa.prototype.setConstantPatternPositions=function(D,G){this.pixelRatioFrom=G.pixelRatio,this.pixelRatioTo=D.pixelRatio,this.patternFrom=G.tlbr,this.patternTo=D.tlbr},pa.prototype.setUniform=function(D,G,ie,pe){var Me=pe==="u_pattern_to"?this.patternTo:pe==="u_pattern_from"?this.patternFrom:pe==="u_pixel_ratio_to"?this.pixelRatioTo:pe==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Me&&D.set(Me)},pa.prototype.getBinding=function(D,G,ie){return ie.substr(0,9)==="u_pattern"?new En(D,G):new Gr(D,G)};var va=function(D,G,ie,pe){this.expression=D,this.type=ie,this.maxValue=0,this.paintVertexAttributes=G.map(function(Me){return{name:"a_"+Me,type:"Float32",components:ie==="color"?2:1,offset:0}}),this.paintVertexArray=new pe};va.prototype.populatePaintArray=function(D,G,ie,pe,Me){var Ie=this.paintVertexArray.length,Je=this.expression.evaluate(new Un(0),G,{},pe,[],Me);this.paintVertexArray.resize(D),this._setPaintValue(Ie,D,Je)},va.prototype.updatePaintArray=function(D,G,ie,pe){var Me=this.expression.evaluate({zoom:0},ie,pe);this._setPaintValue(D,G,Me)},va.prototype._setPaintValue=function(D,G,ie){if(this.type==="color")for(var pe=jn(ie),Me=D;Me<G;Me++)this.paintVertexArray.emplace(Me,pe[0],pe[1]);else{for(var Ie=D;Ie<G;Ie++)this.paintVertexArray.emplace(Ie,ie);this.maxValue=Math.max(this.maxValue,Math.abs(ie))}},va.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},va.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var xa=function(D,G,ie,pe,Me,Ie){this.expression=D,this.uniformNames=G.map(function(Je){return"u_"+Je+"_t"}),this.type=ie,this.useIntegerZoom=pe,this.zoom=Me,this.maxValue=0,this.paintVertexAttributes=G.map(function(Je){return{name:"a_"+Je,type:"Float32",components:ie==="color"?4:2,offset:0}}),this.paintVertexArray=new Ie};xa.prototype.populatePaintArray=function(D,G,ie,pe,Me){var Ie=this.expression.evaluate(new Un(this.zoom),G,{},pe,[],Me),Je=this.expression.evaluate(new Un(this.zoom+1),G,{},pe,[],Me),ft=this.paintVertexArray.length;this.paintVertexArray.resize(D),this._setPaintValue(ft,D,Ie,Je)},xa.prototype.updatePaintArray=function(D,G,ie,pe){var Me=this.expression.evaluate({zoom:this.zoom},ie,pe),Ie=this.expression.evaluate({zoom:this.zoom+1},ie,pe);this._setPaintValue(D,G,Me,Ie)},xa.prototype._setPaintValue=function(D,G,ie,pe){if(this.type==="color")for(var Me=jn(ie),Ie=jn(pe),Je=D;Je<G;Je++)this.paintVertexArray.emplace(Je,Me[0],Me[1],Ie[0],Ie[1]);else{for(var ft=D;ft<G;ft++)this.paintVertexArray.emplace(ft,ie,pe);this.maxValue=Math.max(this.maxValue,Math.abs(ie),Math.abs(pe))}},xa.prototype.upload=function(D){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=D.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},xa.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},xa.prototype.setUniform=function(D,G){var ie=this.useIntegerZoom?Math.floor(G.zoom):G.zoom,pe=u(this.expression.interpolationFactor(ie,this.zoom,this.zoom+1),0,1);D.set(pe)},xa.prototype.getBinding=function(D,G,ie){return new Gr(D,G)};var Ma=function(D,G,ie,pe,Me,Ie){this.expression=D,this.type=G,this.useIntegerZoom=ie,this.zoom=pe,this.layerId=Ie,this.zoomInPaintVertexArray=new Me,this.zoomOutPaintVertexArray=new Me};Ma.prototype.populatePaintArray=function(D,G,ie){var pe=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(D),this.zoomOutPaintVertexArray.resize(D),this._setPaintValues(pe,D,G.patterns&&G.patterns[this.layerId],ie)},Ma.prototype.updatePaintArray=function(D,G,ie,pe,Me){this._setPaintValues(D,G,ie.patterns&&ie.patterns[this.layerId],Me)},Ma.prototype._setPaintValues=function(D,G,ie,pe){if(!(!pe||!ie)){var Me=ie.min,Ie=ie.mid,Je=ie.max,ft=pe[Me],bt=pe[Ie],St=pe[Je];if(!(!ft||!bt||!St))for(var Yt=D;Yt<G;Yt++)this.zoomInPaintVertexArray.emplace(Yt,bt.tl[0],bt.tl[1],bt.br[0],bt.br[1],ft.tl[0],ft.tl[1],ft.br[0],ft.br[1],bt.pixelRatio,ft.pixelRatio),this.zoomOutPaintVertexArray.emplace(Yt,bt.tl[0],bt.tl[1],bt.br[0],bt.br[1],St.tl[0],St.tl[1],St.br[0],St.br[1],bt.pixelRatio,St.pixelRatio)}},Ma.prototype.upload=function(D){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=D.createVertexBuffer(this.zoomInPaintVertexArray,ne.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=D.createVertexBuffer(this.zoomOutPaintVertexArray,ne.members,this.expression.isStateDependent))},Ma.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var Ua=function(D,G,ie,pe){this.binders={},this.layoutAttributes=pe,this._buffers=[];var Me=[];for(var Ie in D.paint._values)if(ie(Ie)){var Je=D.paint.get(Ie);if(!(!(Je instanceof Fi)||!il(Je.property.specification))){var ft=wi(Ie,D.type),bt=Je.value,St=Je.property.specification.type,Yt=Je.property.useIntegerZoom,sr=Je.property.specification["property-type"],er=sr==="cross-faded"||sr==="cross-faded-data-driven";if(bt.kind==="constant")this.binders[Ie]=er?new pa(bt.value,ft):new ia(bt.value,ft,St),Me.push("/u_"+Ie);else if(bt.kind==="source"||er){var xr=oi(Ie,St,"source");this.binders[Ie]=er?new Ma(bt,St,Yt,G,xr,D.id):new va(bt,ft,St,xr),Me.push("/a_"+Ie)}else{var Ur=oi(Ie,St,"composite");this.binders[Ie]=new xa(bt,ft,St,Yt,G,Ur),Me.push("/z_"+Ie)}}}this.cacheKey=Me.sort().join("")};Ua.prototype.getMaxValue=function(D){var G=this.binders[D];return G instanceof va||G instanceof xa?G.maxValue:0},Ua.prototype.populatePaintArrays=function(D,G,ie,pe,Me){for(var Ie in this.binders){var Je=this.binders[Ie];(Je instanceof va||Je instanceof xa||Je instanceof Ma)&&Je.populatePaintArray(D,G,ie,pe,Me)}},Ua.prototype.setConstantPatternPositions=function(D,G){for(var ie in this.binders){var pe=this.binders[ie];pe instanceof pa&&pe.setConstantPatternPositions(D,G)}},Ua.prototype.updatePaintArrays=function(D,G,ie,pe,Me){var Ie=!1;for(var Je in D)for(var ft=G.getPositions(Je),bt=0,St=ft;bt<St.length;bt+=1){var Yt=St[bt],sr=ie.feature(Yt.index);for(var er in this.binders){var xr=this.binders[er];if((xr instanceof va||xr instanceof xa||xr instanceof Ma)&&xr.expression.isStateDependent===!0){var Ur=pe.paint.get(er);xr.expression=Ur.value,xr.updatePaintArray(Yt.start,Yt.end,sr,D[Je],Me),Ie=!0}}}return Ie},Ua.prototype.defines=function(){var D=[];for(var G in this.binders){var ie=this.binders[G];(ie instanceof ia||ie instanceof pa)&&D.push.apply(D,ie.uniformNames.map(function(pe){return"#define HAS_UNIFORM_"+pe}))}return D},Ua.prototype.getPaintVertexBuffers=function(){return this._buffers},Ua.prototype.getUniforms=function(D,G){var ie=[];for(var pe in this.binders){var Me=this.binders[pe];if(Me instanceof ia||Me instanceof pa||Me instanceof xa)for(var Ie=0,Je=Me.uniformNames;Ie<Je.length;Ie+=1){var ft=Je[Ie];if(G[ft]){var bt=Me.getBinding(D,G[ft],ft);ie.push({name:ft,property:pe,binding:bt})}}}return ie},Ua.prototype.setUniforms=function(D,G,ie,pe){for(var Me=0,Ie=G;Me<Ie.length;Me+=1){var Je=Ie[Me],ft=Je.name,bt=Je.property,St=Je.binding;this.binders[bt].setUniform(St,pe,ie.get(bt),ft)}},Ua.prototype.updatePaintBuffers=function(D){this._buffers=[];for(var G in this.binders){var ie=this.binders[G];if(D&&ie instanceof Ma){var pe=D.fromScale===2?ie.zoomInPaintVertexBuffer:ie.zoomOutPaintVertexBuffer;pe&&this._buffers.push(pe)}else(ie instanceof va||ie instanceof xa)&&ie.paintVertexBuffer&&this._buffers.push(ie.paintVertexBuffer)}},Ua.prototype.upload=function(D){for(var G in this.binders){var ie=this.binders[G];(ie instanceof va||ie instanceof xa||ie instanceof Ma)&&ie.upload(D)}this.updatePaintBuffers()},Ua.prototype.destroy=function(){for(var D in this.binders){var G=this.binders[D];(G instanceof va||G instanceof xa||G instanceof Ma)&&G.destroy()}};var Ja=function(D,G,ie,pe){pe===void 0&&(pe=function(){return!0}),this.programConfigurations={};for(var Me=0,Ie=G;Me<Ie.length;Me+=1){var Je=Ie[Me];this.programConfigurations[Je.id]=new Ua(Je,ie,pe,D)}this.needsUpload=!1,this._featureMap=new Bt,this._bufferOffset=0};Ja.prototype.populatePaintArrays=function(D,G,ie,pe,Me,Ie){for(var Je in this.programConfigurations)this.programConfigurations[Je].populatePaintArrays(D,G,pe,Me,Ie);G.id!==void 0&&this._featureMap.add(G.id,ie,this._bufferOffset,D),this._bufferOffset=D,this.needsUpload=!0},Ja.prototype.updatePaintArrays=function(D,G,ie,pe){for(var Me=0,Ie=ie;Me<Ie.length;Me+=1){var Je=Ie[Me];this.needsUpload=this.programConfigurations[Je.id].updatePaintArrays(D,this._featureMap,G,Je,pe)||this.needsUpload}},Ja.prototype.get=function(D){return this.programConfigurations[D]},Ja.prototype.upload=function(D){if(this.needsUpload){for(var G in this.programConfigurations)this.programConfigurations[G].upload(D);this.needsUpload=!1}},Ja.prototype.destroy=function(){for(var D in this.programConfigurations)this.programConfigurations[D].destroy()};function wi(I,D){var G={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]};return G[I]||[I.replace(D+"-","").replace(/-/g,"_")]}function qa(I){var D={"line-pattern":{source:Ms,composite:Ms},"fill-pattern":{source:Ms,composite:Ms},"fill-extrusion-pattern":{source:Ms,composite:Ms}};return D[I]}function oi(I,D,G){var ie={color:{source:Ef,composite:zd},number:{source:th,composite:Ef}},pe=qa(I);return pe&&pe[G]||ie[D][G]}ce("ConstantBinder",ia),ce("CrossFadedConstantBinder",pa),ce("SourceExpressionBinder",va),ce("CrossFadedCompositeBinder",Ma),ce("CompositeExpressionBinder",xa),ce("ProgramConfiguration",Ua,{omit:["_buffers"]}),ce("ProgramConfigurationSet",Ja);var _a=8192;function Ti(I){return{min:-1*Math.pow(2,I-1),max:Math.pow(2,I-1)-1}}var Mi=Ti(15);function Ei(I){for(var D=_a/I.extent,G=I.loadGeometry(),ie=0;ie<G.length;ie++)for(var pe=G[ie],Me=0;Me<pe.length;Me++){var Ie=pe[Me];Ie.x=Math.round(Ie.x*D),Ie.y=Math.round(Ie.y*D),(Ie.x<Mi.min||Ie.x>Mi.max||Ie.y<Mi.min||Ie.y>Mi.max)&&(H("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ie.x=u(Ie.x,Mi.min,Mi.max),Ie.y=u(Ie.y,Mi.min,Mi.max))}return G}function ui(I,D,G,ie,pe){I.emplaceBack(D*2+(ie+1)/2,G*2+(pe+1)/2)}var Bi=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new Zh,this.indexArray=new Xu,this.segments=new j,this.programConfigurations=new Ja(ve,D.layers,D.zoom),this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};Bi.prototype.populate=function(D,G,ie){var pe=this.layers[0],Me=[],Ie=null;pe.type==="circle"&&(Ie=pe.layout.get("circle-sort-key"));for(var Je=0,ft=D;Je<ft.length;Je+=1){var bt=ft[Je],St=bt.feature,Yt=bt.id,sr=bt.index,er=bt.sourceLayerIndex,xr=this.layers[0]._featureFilter.needGeometry,Ur={type:St.type,id:Yt,properties:St.properties,geometry:xr?Ei(St):[]};if(this.layers[0]._featureFilter.filter(new Un(this.zoom),Ur,ie)){xr||(Ur.geometry=Ei(St));var an=Ie?Ie.evaluate(Ur,{},ie):void 0,en={id:Yt,properties:St.properties,type:St.type,sourceLayerIndex:er,index:sr,geometry:Ur.geometry,patterns:{},sortKey:an};Me.push(en)}}Ie&&Me.sort(function(ga,wa){return ga.sortKey-wa.sortKey});for(var Cn=0,wn=Me;Cn<wn.length;Cn+=1){var Mn=wn[Cn],Fn=Mn,Gn=Fn.geometry,qn=Fn.index,Qn=Fn.sourceLayerIndex,Pa=D[qn].feature;this.addFeature(Mn,Gn,qn,ie),G.featureIndex.insert(Pa,Gn,qn,Qn,this.index)}},Bi.prototype.update=function(D,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,G,this.stateDependentLayers,ie)},Bi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Bi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Bi.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,ve),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Bi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Bi.prototype.addFeature=function(D,G,ie,pe){for(var Me=0,Ie=G;Me<Ie.length;Me+=1)for(var Je=Ie[Me],ft=0,bt=Je;ft<bt.length;ft+=1){var St=bt[ft],Yt=St.x,sr=St.y;if(!(Yt<0||Yt>=_a||sr<0||sr>=_a)){var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,D.sortKey),xr=er.vertexLength;ui(this.layoutVertexArray,Yt,sr,-1,-1),ui(this.layoutVertexArray,Yt,sr,1,-1),ui(this.layoutVertexArray,Yt,sr,1,1),ui(this.layoutVertexArray,Yt,sr,-1,1),this.indexArray.emplaceBack(xr,xr+1,xr+2),this.indexArray.emplaceBack(xr,xr+3,xr+2),er.vertexLength+=4,er.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ie,{},pe)},ce("CircleBucket",Bi,{omit:["layers"]});function $a(I,D){for(var G=0;G<I.length;G++)if(Cs(D,I[G]))return!0;for(var ie=0;ie<D.length;ie++)if(Cs(I,D[ie]))return!0;return!!Cl(I,D)}function ci(I,D,G){return!!(Cs(I,D)||hu(D,I,G))}function so(I,D){if(I.length===1)return vu(D,I[0]);for(var G=0;G<D.length;G++)for(var ie=D[G],pe=0;pe<ie.length;pe++)if(Cs(I,ie[pe]))return!0;for(var Me=0;Me<I.length;Me++)if(vu(D,I[Me]))return!0;for(var Ie=0;Ie<D.length;Ie++)if(Cl(I,D[Ie]))return!0;return!1}function Co(I,D,G){for(var ie=0;ie<D.length;ie++){var pe=D[ie];if(I.length>=3){for(var Me=0;Me<pe.length;Me++)if(Cs(I,pe[Me]))return!0}if(Ml(I,pe,G))return!0}return!1}function Ml(I,D,G){if(I.length>1){if(Cl(I,D))return!0;for(var ie=0;ie<D.length;ie++)if(hu(D[ie],I,G))return!0}for(var pe=0;pe<I.length;pe++)if(hu(I[pe],D,G))return!0;return!1}function Cl(I,D){if(I.length===0||D.length===0)return!1;for(var G=0;G<I.length-1;G++)for(var ie=I[G],pe=I[G+1],Me=0;Me<D.length-1;Me++){var Ie=D[Me],Je=D[Me+1];if(cu(ie,pe,Ie,Je))return!0}return!1}function cu(I,D,G,ie){return z(I,G,ie)!==z(D,G,ie)&&z(I,D,G)!==z(I,D,ie)}function hu(I,D,G){var ie=G*G;if(D.length===1)return I.distSqr(D[0])<ie;for(var pe=1;pe<D.length;pe++){var Me=D[pe-1],Ie=D[pe];if(ju(I,Me,Ie)<ie)return!0}return!1}function ju(I,D,G){var ie=D.distSqr(G);if(ie===0)return I.distSqr(D);var pe=((I.x-D.x)*(G.x-D.x)+(I.y-D.y)*(G.y-D.y))/ie;return pe<0?I.distSqr(D):pe>1?I.distSqr(G):I.distSqr(G.sub(D)._mult(pe)._add(D))}function vu(I,D){for(var G=!1,ie,pe,Me,Ie=0;Ie<I.length;Ie++){ie=I[Ie];for(var Je=0,ft=ie.length-1;Je<ie.length;ft=Je++)pe=ie[Je],Me=ie[ft],pe.y>D.y!=Me.y>D.y&&D.x<(Me.x-pe.x)*(D.y-pe.y)/(Me.y-pe.y)+pe.x&&(G=!G)}return G}function Cs(I,D){for(var G=!1,ie=0,pe=I.length-1;ie<I.length;pe=ie++){var Me=I[ie],Ie=I[pe];Me.y>D.y!=Ie.y>D.y&&D.x<(Ie.x-Me.x)*(D.y-Me.y)/(Ie.y-Me.y)+Me.x&&(G=!G)}return G}function Pf(I,D,G,ie,pe){for(var Me=0,Ie=I;Me<Ie.length;Me+=1){var Je=Ie[Me];if(D<=Je.x&&G<=Je.y&&ie>=Je.x&&pe>=Je.y)return!0}var ft=[new t(D,G),new t(D,pe),new t(ie,pe),new t(ie,G)];if(I.length>2)for(var bt=0,St=ft;bt<St.length;bt+=1){var Yt=St[bt];if(Cs(I,Yt))return!0}for(var sr=0;sr<I.length-1;sr++){var er=I[sr],xr=I[sr+1];if(os(er,xr,ft))return!0}return!1}function os(I,D,G){var ie=G[0],pe=G[2];if(I.x<ie.x&&D.x<ie.x||I.x>pe.x&&D.x>pe.x||I.y<ie.y&&D.y<ie.y||I.y>pe.y&&D.y>pe.y)return!1;var Me=z(I,D,G[0]);return Me!==z(I,D,G[1])||Me!==z(I,D,G[2])||Me!==z(I,D,G[3])}function ll(I,D,G){var ie=D.paint.get(I).value;return ie.kind==="constant"?ie.value:G.programConfigurations.get(D.id).getMaxValue(I)}function du(I){return Math.sqrt(I[0]*I[0]+I[1]*I[1])}function Yl(I,D,G,ie,pe){if(!D[0]&&!D[1])return I;var Me=t.convert(D)._mult(pe);G==="viewport"&&Me._rotate(-ie);for(var Ie=[],Je=0;Je<I.length;Je++){var ft=I[Je];Ie.push(ft.sub(Me))}return Ie}var pu=new bo({"circle-sort-key":new La(jt.layout_circle["circle-sort-key"])}),Iv=new bo({"circle-radius":new La(jt.paint_circle["circle-radius"]),"circle-color":new La(jt.paint_circle["circle-color"]),"circle-blur":new La(jt.paint_circle["circle-blur"]),"circle-opacity":new La(jt.paint_circle["circle-opacity"]),"circle-translate":new ba(jt.paint_circle["circle-translate"]),"circle-translate-anchor":new ba(jt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new ba(jt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new ba(jt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new La(jt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new La(jt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new La(jt.paint_circle["circle-stroke-opacity"])}),vc={paint:Iv,layout:pu},qo=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var I=arguments,D=0,G=arguments.length;G--;)D+=I[G]*I[G];return Math.sqrt(D)});function Jh(){var I=new qo(4);return qo!=Float32Array&&(I[1]=0,I[2]=0),I[0]=1,I[3]=1,I}function vs(I,D,G){var ie=D[0],pe=D[1],Me=D[2],Ie=D[3],Je=Math.sin(G),ft=Math.cos(G);return I[0]=ie*ft+Me*Je,I[1]=pe*ft+Ie*Je,I[2]=ie*-Je+Me*ft,I[3]=pe*-Je+Ie*ft,I}function $h(){var I=new qo(9);return qo!=Float32Array&&(I[1]=0,I[2]=0,I[3]=0,I[5]=0,I[6]=0,I[7]=0),I[0]=1,I[4]=1,I[8]=1,I}function Dv(I,D){var G=Math.sin(D),ie=Math.cos(D);return I[0]=ie,I[1]=G,I[2]=0,I[3]=-G,I[4]=ie,I[5]=0,I[6]=0,I[7]=0,I[8]=1,I}function kv(){var I=new qo(16);return qo!=Float32Array&&(I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[11]=0,I[12]=0,I[13]=0,I[14]=0),I[0]=1,I[5]=1,I[10]=1,I[15]=1,I}function j0(I){var D=new qo(16);return D[0]=I[0],D[1]=I[1],D[2]=I[2],D[3]=I[3],D[4]=I[4],D[5]=I[5],D[6]=I[6],D[7]=I[7],D[8]=I[8],D[9]=I[9],D[10]=I[10],D[11]=I[11],D[12]=I[12],D[13]=I[13],D[14]=I[14],D[15]=I[15],D}function _v(I){return I[0]=1,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=1,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=1,I[11]=0,I[12]=0,I[13]=0,I[14]=0,I[15]=1,I}function ah(I,D){var G=D[0],ie=D[1],pe=D[2],Me=D[3],Ie=D[4],Je=D[5],ft=D[6],bt=D[7],St=D[8],Yt=D[9],sr=D[10],er=D[11],xr=D[12],Ur=D[13],an=D[14],en=D[15],Cn=G*Je-ie*Ie,wn=G*ft-pe*Ie,Mn=G*bt-Me*Ie,Fn=ie*ft-pe*Je,Gn=ie*bt-Me*Je,qn=pe*bt-Me*ft,Qn=St*Ur-Yt*xr,Pa=St*an-sr*xr,ga=St*en-er*xr,wa=Yt*an-sr*Ur,ja=Yt*en-er*Ur,Ca=sr*en-er*an,Ea=Cn*Ca-wn*ja+Mn*wa+Fn*ga-Gn*Pa+qn*Qn;return Ea?(Ea=1/Ea,I[0]=(Je*Ca-ft*ja+bt*wa)*Ea,I[1]=(pe*ja-ie*Ca-Me*wa)*Ea,I[2]=(Ur*qn-an*Gn+en*Fn)*Ea,I[3]=(sr*Gn-Yt*qn-er*Fn)*Ea,I[4]=(ft*ga-Ie*Ca-bt*Pa)*Ea,I[5]=(G*Ca-pe*ga+Me*Pa)*Ea,I[6]=(an*Mn-xr*qn-en*wn)*Ea,I[7]=(St*qn-sr*Mn+er*wn)*Ea,I[8]=(Ie*ja-Je*ga+bt*Qn)*Ea,I[9]=(ie*ga-G*ja-Me*Qn)*Ea,I[10]=(xr*Gn-Ur*Mn+en*Cn)*Ea,I[11]=(Yt*Mn-St*Gn-er*Cn)*Ea,I[12]=(Je*Pa-Ie*wa-ft*Qn)*Ea,I[13]=(G*wa-ie*Pa+pe*Qn)*Ea,I[14]=(Ur*wn-xr*Fn-an*Cn)*Ea,I[15]=(St*Fn-Yt*wn+sr*Cn)*Ea,I):null}function ih(I,D,G){var ie=D[0],pe=D[1],Me=D[2],Ie=D[3],Je=D[4],ft=D[5],bt=D[6],St=D[7],Yt=D[8],sr=D[9],er=D[10],xr=D[11],Ur=D[12],an=D[13],en=D[14],Cn=D[15],wn=G[0],Mn=G[1],Fn=G[2],Gn=G[3];return I[0]=wn*ie+Mn*Je+Fn*Yt+Gn*Ur,I[1]=wn*pe+Mn*ft+Fn*sr+Gn*an,I[2]=wn*Me+Mn*bt+Fn*er+Gn*en,I[3]=wn*Ie+Mn*St+Fn*xr+Gn*Cn,wn=G[4],Mn=G[5],Fn=G[6],Gn=G[7],I[4]=wn*ie+Mn*Je+Fn*Yt+Gn*Ur,I[5]=wn*pe+Mn*ft+Fn*sr+Gn*an,I[6]=wn*Me+Mn*bt+Fn*er+Gn*en,I[7]=wn*Ie+Mn*St+Fn*xr+Gn*Cn,wn=G[8],Mn=G[9],Fn=G[10],Gn=G[11],I[8]=wn*ie+Mn*Je+Fn*Yt+Gn*Ur,I[9]=wn*pe+Mn*ft+Fn*sr+Gn*an,I[10]=wn*Me+Mn*bt+Fn*er+Gn*en,I[11]=wn*Ie+Mn*St+Fn*xr+Gn*Cn,wn=G[12],Mn=G[13],Fn=G[14],Gn=G[15],I[12]=wn*ie+Mn*Je+Fn*Yt+Gn*Ur,I[13]=wn*pe+Mn*ft+Fn*sr+Gn*an,I[14]=wn*Me+Mn*bt+Fn*er+Gn*en,I[15]=wn*Ie+Mn*St+Fn*xr+Gn*Cn,I}function ho(I,D,G){var ie=G[0],pe=G[1],Me=G[2],Ie,Je,ft,bt,St,Yt,sr,er,xr,Ur,an,en;return D===I?(I[12]=D[0]*ie+D[4]*pe+D[8]*Me+D[12],I[13]=D[1]*ie+D[5]*pe+D[9]*Me+D[13],I[14]=D[2]*ie+D[6]*pe+D[10]*Me+D[14],I[15]=D[3]*ie+D[7]*pe+D[11]*Me+D[15]):(Ie=D[0],Je=D[1],ft=D[2],bt=D[3],St=D[4],Yt=D[5],sr=D[6],er=D[7],xr=D[8],Ur=D[9],an=D[10],en=D[11],I[0]=Ie,I[1]=Je,I[2]=ft,I[3]=bt,I[4]=St,I[5]=Yt,I[6]=sr,I[7]=er,I[8]=xr,I[9]=Ur,I[10]=an,I[11]=en,I[12]=Ie*ie+St*pe+xr*Me+D[12],I[13]=Je*ie+Yt*pe+Ur*Me+D[13],I[14]=ft*ie+sr*pe+an*Me+D[14],I[15]=bt*ie+er*pe+en*Me+D[15]),I}function Hs(I,D,G){var ie=G[0],pe=G[1],Me=G[2];return I[0]=D[0]*ie,I[1]=D[1]*ie,I[2]=D[2]*ie,I[3]=D[3]*ie,I[4]=D[4]*pe,I[5]=D[5]*pe,I[6]=D[6]*pe,I[7]=D[7]*pe,I[8]=D[8]*Me,I[9]=D[9]*Me,I[10]=D[10]*Me,I[11]=D[11]*Me,I[12]=D[12],I[13]=D[13],I[14]=D[14],I[15]=D[15],I}function Gs(I,D,G){var ie=Math.sin(G),pe=Math.cos(G),Me=D[4],Ie=D[5],Je=D[6],ft=D[7],bt=D[8],St=D[9],Yt=D[10],sr=D[11];return D!==I&&(I[0]=D[0],I[1]=D[1],I[2]=D[2],I[3]=D[3],I[12]=D[12],I[13]=D[13],I[14]=D[14],I[15]=D[15]),I[4]=Me*pe+bt*ie,I[5]=Ie*pe+St*ie,I[6]=Je*pe+Yt*ie,I[7]=ft*pe+sr*ie,I[8]=bt*pe-Me*ie,I[9]=St*pe-Ie*ie,I[10]=Yt*pe-Je*ie,I[11]=sr*pe-ft*ie,I}function Fv(I,D,G){var ie=Math.sin(G),pe=Math.cos(G),Me=D[0],Ie=D[1],Je=D[2],ft=D[3],bt=D[4],St=D[5],Yt=D[6],sr=D[7];return D!==I&&(I[8]=D[8],I[9]=D[9],I[10]=D[10],I[11]=D[11],I[12]=D[12],I[13]=D[13],I[14]=D[14],I[15]=D[15]),I[0]=Me*pe+bt*ie,I[1]=Ie*pe+St*ie,I[2]=Je*pe+Yt*ie,I[3]=ft*pe+sr*ie,I[4]=bt*pe-Me*ie,I[5]=St*pe-Ie*ie,I[6]=Yt*pe-Je*ie,I[7]=sr*pe-ft*ie,I}function Nd(I,D,G,ie,pe){var Me=1/Math.tan(D/2),Ie;return I[0]=Me/G,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=Me,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[11]=-1,I[12]=0,I[13]=0,I[15]=0,pe!=null&&pe!==1/0?(Ie=1/(ie-pe),I[10]=(pe+ie)*Ie,I[14]=2*pe*ie*Ie):(I[10]=-1,I[14]=-2*ie),I}function Ag(I,D,G,ie,pe,Me,Ie){var Je=1/(D-G),ft=1/(ie-pe),bt=1/(Me-Ie);return I[0]=-2*Je,I[1]=0,I[2]=0,I[3]=0,I[4]=0,I[5]=-2*ft,I[6]=0,I[7]=0,I[8]=0,I[9]=0,I[10]=2*bt,I[11]=0,I[12]=(D+G)*Je,I[13]=(pe+ie)*ft,I[14]=(Ie+Me)*bt,I[15]=1,I}var Sg=ih;function Qh(){var I=new qo(3);return qo!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0),I}function Mg(I){var D=new qo(3);return D[0]=I[0],D[1]=I[1],D[2]=I[2],D}function zv(I,D,G){return I[0]=D[0]+G[0],I[1]=D[1]+G[1],I[2]=D[2]+G[2],I}function Cg(I,D,G){return I[0]=D[0]-G[0],I[1]=D[1]-G[1],I[2]=D[2]-G[2],I}function Eg(I,D,G){return I[0]=D[0]*G,I[1]=D[1]*G,I[2]=D[2]*G,I}function Vd(I,D){var G=D[0],ie=D[1],pe=D[2],Me=G*G+ie*ie+pe*pe;return Me>0&&(Me=1/Math.sqrt(Me)),I[0]=D[0]*Me,I[1]=D[1]*Me,I[2]=D[2]*Me,I}function pA(I,D){return I[0]*D[0]+I[1]*D[1]+I[2]*D[2]}function gA(I,D,G){var ie=D[0],pe=D[1],Me=D[2],Ie=G[0],Je=G[1],ft=G[2];return I[0]=pe*ft-Me*Je,I[1]=Me*Ie-ie*ft,I[2]=ie*Je-pe*Ie,I}function yA(I,D,G){var ie=D[0],pe=D[1],Me=D[2];return I[0]=ie*G[0]+pe*G[3]+Me*G[6],I[1]=ie*G[1]+pe*G[4]+Me*G[7],I[2]=ie*G[2]+pe*G[5]+Me*G[8],I}var mA=Cg;(function(){var I=Qh();return function(D,G,ie,pe,Me,Ie){var Je,ft;for(G||(G=3),ie||(ie=0),pe?ft=Math.min(pe*G+ie,D.length):ft=D.length,Je=ie;Je<ft;Je+=G)I[0]=D[Je],I[1]=D[Je+1],I[2]=D[Je+2],Me(I,I,Ie),D[Je]=I[0],D[Je+1]=I[1],D[Je+2]=I[2];return D}})();function xA(){var I=new qo(4);return qo!=Float32Array&&(I[0]=0,I[1]=0,I[2]=0,I[3]=0),I}function bA(I,D,G){return I[0]=D[0]*G,I[1]=D[1]*G,I[2]=D[2]*G,I[3]=D[3]*G,I}function wA(I,D){return I[0]*D[0]+I[1]*D[1]+I[2]*D[2]+I[3]*D[3]}function K0(I,D,G){var ie=D[0],pe=D[1],Me=D[2],Ie=D[3];return I[0]=G[0]*ie+G[4]*pe+G[8]*Me+G[12]*Ie,I[1]=G[1]*ie+G[5]*pe+G[9]*Me+G[13]*Ie,I[2]=G[2]*ie+G[6]*pe+G[10]*Me+G[14]*Ie,I[3]=G[3]*ie+G[7]*pe+G[11]*Me+G[15]*Ie,I}(function(){var I=xA();return function(D,G,ie,pe,Me,Ie){var Je,ft;for(G||(G=4),ie||(ie=0),pe?ft=Math.min(pe*G+ie,D.length):ft=D.length,Je=ie;Je<ft;Je+=G)I[0]=D[Je],I[1]=D[Je+1],I[2]=D[Je+2],I[3]=D[Je+3],Me(I,I,Ie),D[Je]=I[0],D[Je+1]=I[1],D[Je+2]=I[2],D[Je+3]=I[3];return D}})();function TA(){var I=new qo(2);return qo!=Float32Array&&(I[0]=0,I[1]=0),I}function AA(I){var D=I[0],G=I[1];return D*D+G*G}var SA=AA;(function(){var I=TA();return function(D,G,ie,pe,Me,Ie){var Je,ft;for(G||(G=2),ie||(ie=0),pe?ft=Math.min(pe*G+ie,D.length):ft=D.length,Je=ie;Je<ft;Je+=G)I[0]=D[Je],I[1]=D[Je+1],Me(I,I,Ie),D[Je]=I[0],D[Je+1]=I[1];return D}})();var MA=function(I){function D(G){I.call(this,G,vc)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ie){return new Bi(ie)},D.prototype.queryRadius=function(ie){var pe=ie;return ll("circle-radius",this,pe)+ll("circle-stroke-width",this,pe)+du(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(ie,pe,Me,Ie,Je,ft,bt,St){for(var Yt=Yl(ie,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),ft.angle,bt),sr=this.paint.get("circle-radius").evaluate(pe,Me),er=this.paint.get("circle-stroke-width").evaluate(pe,Me),xr=sr+er,Ur=this.paint.get("circle-pitch-alignment")==="map",an=Ur?Yt:CA(Yt,St),en=Ur?xr*bt:xr,Cn=0,wn=Ie;Cn<wn.length;Cn+=1)for(var Mn=wn[Cn],Fn=0,Gn=Mn;Fn<Gn.length;Fn+=1){var qn=Gn[Fn],Qn=Ur?qn:C1(qn,St),Pa=en,ga=K0([],[qn.x,qn.y,0,1],St);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Pa*=ga[3]/ft.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Pa*=ft.cameraToCenterDistance/ga[3]),ci(an,Qn,Pa))return!0}return!1},D}(Gi);function C1(I,D){var G=K0([],[I.x,I.y,0,1],D);return new t(G[0]/G[3],G[1]/G[3])}function CA(I,D){return I.map(function(G){return C1(G,D)})}var E1=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D}(Bi);ce("HeatmapBucket",E1,{omit:["layers"]});function Lg(I,D,G,ie){var pe=D.width,Me=D.height;if(!ie)ie=new Uint8Array(pe*Me*G);else if(ie instanceof Uint8ClampedArray)ie=new Uint8Array(ie.buffer);else if(ie.length!==pe*Me*G)throw new RangeError("mismatched image size");return I.width=pe,I.height=Me,I.data=ie,I}function L1(I,D,G){var ie=D.width,pe=D.height;if(!(ie===I.width&&pe===I.height)){var Me=Lg({},{width:ie,height:pe},G);Pg(I,Me,{x:0,y:0},{x:0,y:0},{width:Math.min(I.width,ie),height:Math.min(I.height,pe)},G),I.width=ie,I.height=pe,I.data=Me.data}}function Pg(I,D,G,ie,pe,Me){if(pe.width===0||pe.height===0)return D;if(pe.width>I.width||pe.height>I.height||G.x>I.width-pe.width||G.y>I.height-pe.height)throw new RangeError("out of range source coordinates for image copy");if(pe.width>D.width||pe.height>D.height||ie.x>D.width-pe.width||ie.y>D.height-pe.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ie=I.data,Je=D.data,ft=0;ft<pe.height;ft++)for(var bt=((G.y+ft)*I.width+G.x)*Me,St=((ie.y+ft)*D.width+ie.x)*Me,Yt=0;Yt<pe.width*Me;Yt++)Je[St+Yt]=Ie[bt+Yt];return D}var qh=function(D,G){Lg(this,D,1,G)};qh.prototype.resize=function(D){L1(this,D,1)},qh.prototype.clone=function(){return new qh({width:this.width,height:this.height},new Uint8Array(this.data))},qh.copy=function(D,G,ie,pe,Me){Pg(D,G,ie,pe,Me,1)};var Ws=function(D,G){Lg(this,D,4,G)};Ws.prototype.resize=function(D){L1(this,D,4)},Ws.prototype.replace=function(D,G){G?this.data.set(D):D instanceof Uint8ClampedArray?this.data=new Uint8Array(D.buffer):this.data=D},Ws.prototype.clone=function(){return new Ws({width:this.width,height:this.height},new Uint8Array(this.data))},Ws.copy=function(D,G,ie,pe,Me){Pg(D,G,ie,pe,Me,4)},ce("AlphaImage",qh),ce("RGBAImage",Ws);var EA=new bo({"heatmap-radius":new La(jt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new La(jt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new ba(jt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new is(jt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new ba(jt.paint_heatmap["heatmap-opacity"])}),LA={paint:EA};function P1(I,D){for(var G=new Uint8Array(1024),ie={},pe=0,Me=0;pe<256;pe++,Me+=4){ie[D]=pe/255;var Ie=I.evaluate(ie);G[Me+0]=Math.floor(Ie.r*255/Ie.a),G[Me+1]=Math.floor(Ie.g*255/Ie.a),G[Me+2]=Math.floor(Ie.b*255/Ie.a),G[Me+3]=Math.floor(Ie.a*255)}return new Ws({width:256,height:1},G)}var PA=function(I){function D(G){I.call(this,G,LA),this._updateColorRamp()}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ie){return new E1(ie)},D.prototype._handleSpecialPaintPropertyUpdate=function(ie){ie==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var ie=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=P1(ie,"heatmapDensity"),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(Gi),RA=new bo({"hillshade-illumination-direction":new ba(jt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new ba(jt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new ba(jt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new ba(jt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new ba(jt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new ba(jt.paint_hillshade["hillshade-accent-color"])}),IA={paint:RA},DA=function(I){function D(G){I.call(this,G,IA)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(Gi),kA=Oi([{name:"a_pos",components:2,type:"Int16"}],4),R1=kA.members,Rg=J0,_A=J0;function J0(I,D,G){G=G||2;var ie=D&&D.length,pe=ie?D[0]*G:I.length,Me=I1(I,0,pe,G,!0),Ie=[];if(!Me||Me.next===Me.prev)return Ie;var Je,ft,bt,St,Yt,sr,er;if(ie&&(Me=NA(I,D,Me,G)),I.length>80*G){Je=bt=I[0],ft=St=I[1];for(var xr=G;xr<pe;xr+=G)Yt=I[xr],sr=I[xr+1],Yt<Je&&(Je=Yt),sr<ft&&(ft=sr),Yt>bt&&(bt=Yt),sr>St&&(St=sr);er=Math.max(bt-Je,St-ft),er=er!==0?1/er:0}return Ud(Me,Ie,G,Je,ft,er),Ie}function I1(I,D,G,ie,pe){var Me,Ie;if(pe===kg(I,D,G,ie)>0)for(Me=D;Me<G;Me+=ie)Ie=_1(Me,I[Me],I[Me+1],Ie);else for(Me=G-ie;Me>=D;Me-=ie)Ie=_1(Me,I[Me],I[Me+1],Ie);return Ie&&$0(Ie,Ie.next)&&(Gd(Ie),Ie=Ie.next),Ie}function oh(I,D){if(!I)return I;D||(D=I);var G=I,ie;do if(ie=!1,!G.steiner&&($0(G,G.next)||Eo(G.prev,G,G.next)===0)){if(Gd(G),G=D=G.prev,G===G.next)break;ie=!0}else G=G.next;while(ie||G!==D);return D}function Ud(I,D,G,ie,pe,Me,Ie){if(I){!Ie&&Me&&WA(I,ie,pe,Me);for(var Je=I,ft,bt;I.prev!==I.next;){if(ft=I.prev,bt=I.next,Me?zA(I,ie,pe,Me):FA(I)){D.push(ft.i/G),D.push(I.i/G),D.push(bt.i/G),Gd(I),I=bt.next,Je=bt.next;continue}if(I=bt,I===Je){Ie?Ie===1?(I=OA(oh(I),D,G),Ud(I,D,G,ie,pe,Me,2)):Ie===2&&BA(I,D,G,ie,pe,Me):Ud(oh(I),D,G,ie,pe,Me,1);break}}}}function FA(I){var D=I.prev,G=I,ie=I.next;if(Eo(D,G,ie)>=0)return!1;for(var pe=I.next.next;pe!==I.prev;){if(Ov(D.x,D.y,G.x,G.y,ie.x,ie.y,pe.x,pe.y)&&Eo(pe.prev,pe,pe.next)>=0)return!1;pe=pe.next}return!0}function zA(I,D,G,ie){var pe=I.prev,Me=I,Ie=I.next;if(Eo(pe,Me,Ie)>=0)return!1;for(var Je=pe.x<Me.x?pe.x<Ie.x?pe.x:Ie.x:Me.x<Ie.x?Me.x:Ie.x,ft=pe.y<Me.y?pe.y<Ie.y?pe.y:Ie.y:Me.y<Ie.y?Me.y:Ie.y,bt=pe.x>Me.x?pe.x>Ie.x?pe.x:Ie.x:Me.x>Ie.x?Me.x:Ie.x,St=pe.y>Me.y?pe.y>Ie.y?pe.y:Ie.y:Me.y>Ie.y?Me.y:Ie.y,Yt=Ig(Je,ft,D,G,ie),sr=Ig(bt,St,D,G,ie),er=I.prevZ,xr=I.nextZ;er&&er.z>=Yt&&xr&&xr.z<=sr;){if(er!==I.prev&&er!==I.next&&Ov(pe.x,pe.y,Me.x,Me.y,Ie.x,Ie.y,er.x,er.y)&&Eo(er.prev,er,er.next)>=0||(er=er.prevZ,xr!==I.prev&&xr!==I.next&&Ov(pe.x,pe.y,Me.x,Me.y,Ie.x,Ie.y,xr.x,xr.y)&&Eo(xr.prev,xr,xr.next)>=0))return!1;xr=xr.nextZ}for(;er&&er.z>=Yt;){if(er!==I.prev&&er!==I.next&&Ov(pe.x,pe.y,Me.x,Me.y,Ie.x,Ie.y,er.x,er.y)&&Eo(er.prev,er,er.next)>=0)return!1;er=er.prevZ}for(;xr&&xr.z<=sr;){if(xr!==I.prev&&xr!==I.next&&Ov(pe.x,pe.y,Me.x,Me.y,Ie.x,Ie.y,xr.x,xr.y)&&Eo(xr.prev,xr,xr.next)>=0)return!1;xr=xr.nextZ}return!0}function OA(I,D,G){var ie=I;do{var pe=ie.prev,Me=ie.next.next;!$0(pe,Me)&&D1(pe,ie,ie.next,Me)&&Hd(pe,Me)&&Hd(Me,pe)&&(D.push(pe.i/G),D.push(ie.i/G),D.push(Me.i/G),Gd(ie),Gd(ie.next),ie=I=Me),ie=ie.next}while(ie!==I);return oh(ie)}function BA(I,D,G,ie,pe,Me){var Ie=I;do{for(var Je=Ie.next.next;Je!==Ie.prev;){if(Ie.i!==Je.i&&XA(Ie,Je)){var ft=k1(Ie,Je);Ie=oh(Ie,Ie.next),ft=oh(ft,ft.next),Ud(Ie,D,G,ie,pe,Me),Ud(ft,D,G,ie,pe,Me);return}Je=Je.next}Ie=Ie.next}while(Ie!==I)}function NA(I,D,G,ie){var pe=[],Me,Ie,Je,ft,bt;for(Me=0,Ie=D.length;Me<Ie;Me++)Je=D[Me]*ie,ft=Me<Ie-1?D[Me+1]*ie:I.length,bt=I1(I,Je,ft,ie,!1),bt===bt.next&&(bt.steiner=!0),pe.push(ZA(bt));for(pe.sort(VA),Me=0;Me<pe.length;Me++)UA(pe[Me],G),G=oh(G,G.next);return G}function VA(I,D){return I.x-D.x}function UA(I,D){if(D=HA(I,D),D){var G=k1(D,I);oh(D,D.next),oh(G,G.next)}}function HA(I,D){var G=D,ie=I.x,pe=I.y,Me=-1/0,Ie;do{if(pe<=G.y&&pe>=G.next.y&&G.next.y!==G.y){var Je=G.x+(pe-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if(Je<=ie&&Je>Me){if(Me=Je,Je===ie){if(pe===G.y)return G;if(pe===G.next.y)return G.next}Ie=G.x<G.next.x?G:G.next}}G=G.next}while(G!==D);if(!Ie)return null;if(ie===Me)return Ie;var ft=Ie,bt=Ie.x,St=Ie.y,Yt=1/0,sr;G=Ie;do ie>=G.x&&G.x>=bt&&ie!==G.x&&Ov(pe<St?ie:Me,pe,bt,St,pe<St?Me:ie,pe,G.x,G.y)&&(sr=Math.abs(pe-G.y)/(ie-G.x),Hd(G,I)&&(sr<Yt||sr===Yt&&(G.x>Ie.x||G.x===Ie.x&&GA(Ie,G)))&&(Ie=G,Yt=sr)),G=G.next;while(G!==ft);return Ie}function GA(I,D){return Eo(I.prev,I,D.prev)<0&&Eo(D.next,I,I.next)<0}function WA(I,D,G,ie){var pe=I;do pe.z===null&&(pe.z=Ig(pe.x,pe.y,D,G,ie)),pe.prevZ=pe.prev,pe.nextZ=pe.next,pe=pe.next;while(pe!==I);pe.prevZ.nextZ=null,pe.prevZ=null,YA(pe)}function YA(I){var D,G,ie,pe,Me,Ie,Je,ft,bt=1;do{for(G=I,I=null,Me=null,Ie=0;G;){for(Ie++,ie=G,Je=0,D=0;D<bt&&(Je++,ie=ie.nextZ,!!ie);D++);for(ft=bt;Je>0||ft>0&&ie;)Je!==0&&(ft===0||!ie||G.z<=ie.z)?(pe=G,G=G.nextZ,Je--):(pe=ie,ie=ie.nextZ,ft--),Me?Me.nextZ=pe:I=pe,pe.prevZ=Me,Me=pe;G=ie}Me.nextZ=null,bt*=2}while(Ie>1);return I}function Ig(I,D,G,ie,pe){return I=32767*(I-G)*pe,D=32767*(D-ie)*pe,I=(I|I<<8)&16711935,I=(I|I<<4)&252645135,I=(I|I<<2)&858993459,I=(I|I<<1)&1431655765,D=(D|D<<8)&16711935,D=(D|D<<4)&252645135,D=(D|D<<2)&858993459,D=(D|D<<1)&1431655765,I|D<<1}function ZA(I){var D=I,G=I;do(D.x<G.x||D.x===G.x&&D.y<G.y)&&(G=D),D=D.next;while(D!==I);return G}function Ov(I,D,G,ie,pe,Me,Ie,Je){return(pe-Ie)*(D-Je)-(I-Ie)*(Me-Je)>=0&&(I-Ie)*(ie-Je)-(G-Ie)*(D-Je)>=0&&(G-Ie)*(Me-Je)-(pe-Ie)*(ie-Je)>=0}function XA(I,D){return I.next.i!==D.i&&I.prev.i!==D.i&&!jA(I,D)&&(Hd(I,D)&&Hd(D,I)&&KA(I,D)&&(Eo(I.prev,I,D.prev)||Eo(I,D.prev,D))||$0(I,D)&&Eo(I.prev,I,I.next)>0&&Eo(D.prev,D,D.next)>0)}function Eo(I,D,G){return(D.y-I.y)*(G.x-D.x)-(D.x-I.x)*(G.y-D.y)}function $0(I,D){return I.x===D.x&&I.y===D.y}function D1(I,D,G,ie){var pe=q0(Eo(I,D,G)),Me=q0(Eo(I,D,ie)),Ie=q0(Eo(G,ie,I)),Je=q0(Eo(G,ie,D));return!!(pe!==Me&&Ie!==Je||pe===0&&Q0(I,G,D)||Me===0&&Q0(I,ie,D)||Ie===0&&Q0(G,I,ie)||Je===0&&Q0(G,D,ie))}function Q0(I,D,G){return D.x<=Math.max(I.x,G.x)&&D.x>=Math.min(I.x,G.x)&&D.y<=Math.max(I.y,G.y)&&D.y>=Math.min(I.y,G.y)}function q0(I){return I>0?1:I<0?-1:0}function jA(I,D){var G=I;do{if(G.i!==I.i&&G.next.i!==I.i&&G.i!==D.i&&G.next.i!==D.i&&D1(G,G.next,I,D))return!0;G=G.next}while(G!==I);return!1}function Hd(I,D){return Eo(I.prev,I,I.next)<0?Eo(I,D,I.next)>=0&&Eo(I,I.prev,D)>=0:Eo(I,D,I.prev)<0||Eo(I,I.next,D)<0}function KA(I,D){var G=I,ie=!1,pe=(I.x+D.x)/2,Me=(I.y+D.y)/2;do G.y>Me!=G.next.y>Me&&G.next.y!==G.y&&pe<(G.next.x-G.x)*(Me-G.y)/(G.next.y-G.y)+G.x&&(ie=!ie),G=G.next;while(G!==I);return ie}function k1(I,D){var G=new Dg(I.i,I.x,I.y),ie=new Dg(D.i,D.x,D.y),pe=I.next,Me=D.prev;return I.next=D,D.prev=I,G.next=pe,pe.prev=G,ie.next=G,G.prev=ie,Me.next=ie,ie.prev=Me,ie}function _1(I,D,G,ie){var pe=new Dg(I,D,G);return ie?(pe.next=ie.next,pe.prev=ie,ie.next.prev=pe,ie.next=pe):(pe.prev=pe,pe.next=pe),pe}function Gd(I){I.next.prev=I.prev,I.prev.next=I.next,I.prevZ&&(I.prevZ.nextZ=I.nextZ),I.nextZ&&(I.nextZ.prevZ=I.prevZ)}function Dg(I,D,G){this.i=I,this.x=D,this.y=G,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}J0.deviation=function(I,D,G,ie){var pe=D&&D.length,Me=pe?D[0]*G:I.length,Ie=Math.abs(kg(I,0,Me,G));if(pe)for(var Je=0,ft=D.length;Je<ft;Je++){var bt=D[Je]*G,St=Je<ft-1?D[Je+1]*G:I.length;Ie-=Math.abs(kg(I,bt,St,G))}var Yt=0;for(Je=0;Je<ie.length;Je+=3){var sr=ie[Je]*G,er=ie[Je+1]*G,xr=ie[Je+2]*G;Yt+=Math.abs((I[sr]-I[xr])*(I[er+1]-I[sr+1])-(I[sr]-I[er])*(I[xr+1]-I[sr+1]))}return Ie===0&&Yt===0?0:Math.abs((Yt-Ie)/Ie)};function kg(I,D,G,ie){for(var pe=0,Me=D,Ie=G-ie;Me<G;Me+=ie)pe+=(I[Ie]-I[Me])*(I[Me+1]+I[Ie+1]),Ie=Me;return pe}J0.flatten=function(I){for(var D=I[0][0].length,G={vertices:[],holes:[],dimensions:D},ie=0,pe=0;pe<I.length;pe++){for(var Me=0;Me<I[pe].length;Me++)for(var Ie=0;Ie<D;Ie++)G.vertices.push(I[pe][Me][Ie]);pe>0&&(ie+=I[pe-1].length,G.holes.push(ie))}return G},Rg.default=_A;function JA(I,D,G,ie,pe){F1(I,D,G||0,ie||I.length-1,pe||$A)}function F1(I,D,G,ie,pe){for(;ie>G;){if(ie-G>600){var Me=ie-G+1,Ie=D-G+1,Je=Math.log(Me),ft=.5*Math.exp(2*Je/3),bt=.5*Math.sqrt(Je*ft*(Me-ft)/Me)*(Ie-Me/2<0?-1:1),St=Math.max(G,Math.floor(D-Ie*ft/Me+bt)),Yt=Math.min(ie,Math.floor(D+(Me-Ie)*ft/Me+bt));F1(I,D,St,Yt,pe)}var sr=I[D],er=G,xr=ie;for(Wd(I,G,D),pe(I[ie],sr)>0&&Wd(I,G,ie);er<xr;){for(Wd(I,er,xr),er++,xr--;pe(I[er],sr)<0;)er++;for(;pe(I[xr],sr)>0;)xr--}pe(I[G],sr)===0?Wd(I,G,xr):(xr++,Wd(I,xr,ie)),xr<=D&&(G=xr+1),D<=xr&&(ie=xr-1)}}function Wd(I,D,G){var ie=I[D];I[D]=I[G],I[G]=ie}function $A(I,D){return I<D?-1:I>D?1:0}function _g(I,D){var G=I.length;if(G<=1)return[I];for(var ie=[],pe,Me,Ie=0;Ie<G;Ie++){var Je=N(I[Ie]);Je!==0&&(I[Ie].area=Math.abs(Je),Me===void 0&&(Me=Je<0),Me===Je<0?(pe&&ie.push(pe),pe=[I[Ie]]):pe.push(I[Ie]))}if(pe&&ie.push(pe),D>1)for(var ft=0;ft<ie.length;ft++)ie[ft].length<=D||(JA(ie[ft],D,1,ie[ft].length-1,QA),ie[ft]=ie[ft].slice(0,D));return ie}function QA(I,D){return D.area-I.area}function Fg(I,D,G){for(var ie=G.patternDependencies,pe=!1,Me=0,Ie=D;Me<Ie.length;Me+=1){var Je=Ie[Me],ft=Je.paint.get(I+"-pattern");ft.isConstant()||(pe=!0);var bt=ft.constantOr(null);bt&&(pe=!0,ie[bt.to]=!0,ie[bt.from]=!0)}return pe}function zg(I,D,G,ie,pe){for(var Me=pe.patternDependencies,Ie=0,Je=D;Ie<Je.length;Ie+=1){var ft=Je[Ie],bt=ft.paint.get(I+"-pattern"),St=bt.value;if(St.kind!=="constant"){var Yt=St.evaluate({zoom:ie-1},G,{},pe.availableImages),sr=St.evaluate({zoom:ie},G,{},pe.availableImages),er=St.evaluate({zoom:ie+1},G,{},pe.availableImages);Yt=Yt&&Yt.name?Yt.name:Yt,sr=sr&&sr.name?sr.name:sr,er=er&&er.name?er.name:er,Me[Yt]=!0,Me[sr]=!0,Me[er]=!0,G.patterns[ft.id]={min:Yt,mid:sr,max:er}}}return G}var qA=500,Ku=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Zh,this.indexArray=new Xu,this.indexArray2=new Kh,this.programConfigurations=new Ja(R1,D.layers,D.zoom),this.segments=new j,this.segments2=new j,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};Ku.prototype.populate=function(D,G,ie){this.hasPattern=Fg("fill",this.layers,G);for(var pe=this.layers[0].layout.get("fill-sort-key"),Me=[],Ie=0,Je=D;Ie<Je.length;Ie+=1){var ft=Je[Ie],bt=ft.feature,St=ft.id,Yt=ft.index,sr=ft.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,xr={type:bt.type,id:St,properties:bt.properties,geometry:er?Ei(bt):[]};if(this.layers[0]._featureFilter.filter(new Un(this.zoom),xr,ie)){er||(xr.geometry=Ei(bt));var Ur=pe?pe.evaluate(xr,{},ie,G.availableImages):void 0,an={id:St,properties:bt.properties,type:bt.type,sourceLayerIndex:sr,index:Yt,geometry:xr.geometry,patterns:{},sortKey:Ur};Me.push(an)}}pe&&Me.sort(function(ga,wa){return ga.sortKey-wa.sortKey});for(var en=0,Cn=Me;en<Cn.length;en+=1){var wn=Cn[en],Mn=wn,Fn=Mn.geometry,Gn=Mn.index,qn=Mn.sourceLayerIndex;if(this.hasPattern){var Qn=zg("fill",this.layers,wn,this.zoom,G);this.patternFeatures.push(Qn)}else this.addFeature(wn,Fn,Gn,ie,{});var Pa=D[Gn].feature;G.featureIndex.insert(Pa,Fn,Gn,qn,this.index)}},Ku.prototype.update=function(D,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,G,this.stateDependentLayers,ie)},Ku.prototype.addFeatures=function(D,G,ie){for(var pe=0,Me=this.patternFeatures;pe<Me.length;pe+=1){var Ie=Me[pe];this.addFeature(Ie,Ie.geometry,Ie.index,G,ie)}},Ku.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ku.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ku.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,R1),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.indexBuffer2=D.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(D),this.uploaded=!0},Ku.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},Ku.prototype.addFeature=function(D,G,ie,pe,Me){for(var Ie=0,Je=_g(G,qA);Ie<Je.length;Ie+=1){for(var ft=Je[Ie],bt=0,St=0,Yt=ft;St<Yt.length;St+=1){var sr=Yt[St];bt+=sr.length}for(var er=this.segments.prepareSegment(bt,this.layoutVertexArray,this.indexArray),xr=er.vertexLength,Ur=[],an=[],en=0,Cn=ft;en<Cn.length;en+=1){var wn=Cn[en];if(wn.length!==0){wn!==ft[0]&&an.push(Ur.length/2);var Mn=this.segments2.prepareSegment(wn.length,this.layoutVertexArray,this.indexArray2),Fn=Mn.vertexLength;this.layoutVertexArray.emplaceBack(wn[0].x,wn[0].y),this.indexArray2.emplaceBack(Fn+wn.length-1,Fn),Ur.push(wn[0].x),Ur.push(wn[0].y);for(var Gn=1;Gn<wn.length;Gn++)this.layoutVertexArray.emplaceBack(wn[Gn].x,wn[Gn].y),this.indexArray2.emplaceBack(Fn+Gn-1,Fn+Gn),Ur.push(wn[Gn].x),Ur.push(wn[Gn].y);Mn.vertexLength+=wn.length,Mn.primitiveLength+=wn.length}}for(var qn=Rg(Ur,an),Qn=0;Qn<qn.length;Qn+=3)this.indexArray.emplaceBack(xr+qn[Qn],xr+qn[Qn+1],xr+qn[Qn+2]);er.vertexLength+=bt,er.primitiveLength+=qn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ie,Me,pe)},ce("FillBucket",Ku,{omit:["layers","patternFeatures"]});var e5=new bo({"fill-sort-key":new La(jt.layout_fill["fill-sort-key"])}),t5=new bo({"fill-antialias":new ba(jt.paint_fill["fill-antialias"]),"fill-opacity":new La(jt.paint_fill["fill-opacity"]),"fill-color":new La(jt.paint_fill["fill-color"]),"fill-outline-color":new La(jt.paint_fill["fill-outline-color"]),"fill-translate":new ba(jt.paint_fill["fill-translate"]),"fill-translate-anchor":new ba(jt.paint_fill["fill-translate-anchor"]),"fill-pattern":new zi(jt.paint_fill["fill-pattern"])}),r5={paint:t5,layout:e5},n5=function(I){function D(G){I.call(this,G,r5)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ie,pe){I.prototype.recalculate.call(this,ie,pe);var Me=this.paint._values["fill-outline-color"];Me.value.kind==="constant"&&Me.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(ie){return new Ku(ie)},D.prototype.queryRadius=function(){return du(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(ie,pe,Me,Ie,Je,ft,bt){var St=Yl(ie,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),ft.angle,bt);return so(St,Ie)},D.prototype.isTileClipped=function(){return!0},D}(Gi),a5=Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),z1=a5.members,O1=Bv;function Bv(I,D,G,ie,pe){this.properties={},this.extent=G,this.type=0,this._pbf=I,this._geometry=-1,this._keys=ie,this._values=pe,I.readFields(i5,this,D)}function i5(I,D,G){I==1?D.id=G.readVarint():I==2?o5(G,D):I==3?D.type=G.readVarint():I==4&&(D._geometry=G.pos)}function o5(I,D){for(var G=I.readVarint()+I.pos;I.pos<G;){var ie=D._keys[I.readVarint()],pe=D._values[I.readVarint()];D.properties[ie]=pe}}Bv.types=["Unknown","Point","LineString","Polygon"],Bv.prototype.loadGeometry=function(){var I=this._pbf;I.pos=this._geometry;for(var D=I.readVarint()+I.pos,G=1,ie=0,pe=0,Me=0,Ie=[],Je;I.pos<D;){if(ie<=0){var ft=I.readVarint();G=ft&7,ie=ft>>3}if(ie--,G===1||G===2)pe+=I.readSVarint(),Me+=I.readSVarint(),G===1&&(Je&&Ie.push(Je),Je=[]),Je.push(new t(pe,Me));else if(G===7)Je&&Je.push(Je[0].clone());else throw new Error("unknown command "+G)}return Je&&Ie.push(Je),Ie},Bv.prototype.bbox=function(){var I=this._pbf;I.pos=this._geometry;for(var D=I.readVarint()+I.pos,G=1,ie=0,pe=0,Me=0,Ie=1/0,Je=-1/0,ft=1/0,bt=-1/0;I.pos<D;){if(ie<=0){var St=I.readVarint();G=St&7,ie=St>>3}if(ie--,G===1||G===2)pe+=I.readSVarint(),Me+=I.readSVarint(),pe<Ie&&(Ie=pe),pe>Je&&(Je=pe),Me<ft&&(ft=Me),Me>bt&&(bt=Me);else if(G!==7)throw new Error("unknown command "+G)}return[Ie,ft,Je,bt]},Bv.prototype.toGeoJSON=function(I,D,G){var ie=this.extent*Math.pow(2,G),pe=this.extent*I,Me=this.extent*D,Ie=this.loadGeometry(),Je=Bv.types[this.type],ft,bt;function St(er){for(var xr=0;xr<er.length;xr++){var Ur=er[xr],an=180-(Ur.y+Me)*360/ie;er[xr]=[(Ur.x+pe)*360/ie-180,360/Math.PI*Math.atan(Math.exp(an*Math.PI/180))-90]}}switch(this.type){case 1:var Yt=[];for(ft=0;ft<Ie.length;ft++)Yt[ft]=Ie[ft][0];Ie=Yt,St(Ie);break;case 2:for(ft=0;ft<Ie.length;ft++)St(Ie[ft]);break;case 3:for(Ie=s5(Ie),ft=0;ft<Ie.length;ft++)for(bt=0;bt<Ie[ft].length;bt++)St(Ie[ft][bt]);break}Ie.length===1?Ie=Ie[0]:Je="Multi"+Je;var sr={type:"Feature",geometry:{type:Je,coordinates:Ie},properties:this.properties};return"id"in this&&(sr.id=this.id),sr};function s5(I){var D=I.length;if(D<=1)return[I];for(var G=[],ie,pe,Me=0;Me<D;Me++){var Ie=l5(I[Me]);Ie!==0&&(pe===void 0&&(pe=Ie<0),pe===Ie<0?(ie&&G.push(ie),ie=[I[Me]]):ie.push(I[Me]))}return ie&&G.push(ie),G}function l5(I){for(var D=0,G=0,ie=I.length,pe=ie-1,Me,Ie;G<ie;pe=G++)Me=I[G],Ie=I[pe],D+=(Ie.x-Me.x)*(Me.y+Ie.y);return D}var B1=N1;function N1(I,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=I,this._keys=[],this._values=[],this._features=[],I.readFields(u5,this,D),this.length=this._features.length}function u5(I,D,G){I===15?D.version=G.readVarint():I===1?D.name=G.readString():I===5?D.extent=G.readVarint():I===2?D._features.push(G.pos):I===3?D._keys.push(G.readString()):I===4&&D._values.push(f5(G))}function f5(I){for(var D=null,G=I.readVarint()+I.pos;I.pos<G;){var ie=I.readVarint()>>3;D=ie===1?I.readString():ie===2?I.readFloat():ie===3?I.readDouble():ie===4?I.readVarint64():ie===5?I.readVarint():ie===6?I.readSVarint():ie===7?I.readBoolean():null}return D}N1.prototype.feature=function(I){if(I<0||I>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[I];var D=this._pbf.readVarint()+this._pbf.pos;return new O1(this._pbf,D,this.extent,this._keys,this._values)};var c5=h5;function h5(I,D){this.layers=I.readFields(v5,{},D)}function v5(I,D,G){if(I===3){var ie=new B1(G,G.readVarint()+G.pos);ie.length&&(D[ie.name]=ie)}}var d5=c5,p5=O1,g5=B1,Nv={VectorTile:d5,VectorTileFeature:p5,VectorTileLayer:g5},y5=Nv.VectorTileFeature.types,m5=500,Og=Math.pow(2,13);function Yd(I,D,G,ie,pe,Me,Ie,Je){I.emplaceBack(D,G,Math.floor(ie*Og)*2+Ie,pe*Og*2,Me*Og*2,Math.round(Je))}var Ju=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=D.index,this.hasPattern=!1,this.layoutVertexArray=new eh,this.indexArray=new Xu,this.programConfigurations=new Ja(z1,D.layers,D.zoom),this.segments=new j,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};Ju.prototype.populate=function(D,G,ie){this.features=[],this.hasPattern=Fg("fill-extrusion",this.layers,G);for(var pe=0,Me=D;pe<Me.length;pe+=1){var Ie=Me[pe],Je=Ie.feature,ft=Ie.id,bt=Ie.index,St=Ie.sourceLayerIndex,Yt=this.layers[0]._featureFilter.needGeometry,sr={type:Je.type,id:ft,properties:Je.properties,geometry:Yt?Ei(Je):[]};if(this.layers[0]._featureFilter.filter(new Un(this.zoom),sr,ie)){var er={id:ft,sourceLayerIndex:St,index:bt,geometry:Yt?sr.geometry:Ei(Je),properties:Je.properties,type:Je.type,patterns:{}};typeof Je.id<"u"&&(er.id=Je.id),this.hasPattern?this.features.push(zg("fill-extrusion",this.layers,er,this.zoom,G)):this.addFeature(er,er.geometry,bt,ie,{}),G.featureIndex.insert(Je,er.geometry,bt,St,this.index,!0)}}},Ju.prototype.addFeatures=function(D,G,ie){for(var pe=0,Me=this.features;pe<Me.length;pe+=1){var Ie=Me[pe],Je=Ie.geometry;this.addFeature(Ie,Je,Ie.index,G,ie)}},Ju.prototype.update=function(D,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,G,this.stateDependentLayers,ie)},Ju.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ju.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ju.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,z1),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Ju.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ju.prototype.addFeature=function(D,G,ie,pe,Me){for(var Ie=0,Je=_g(G,m5);Ie<Je.length;Ie+=1){for(var ft=Je[Ie],bt=0,St=0,Yt=ft;St<Yt.length;St+=1){var sr=Yt[St];bt+=sr.length}for(var er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),xr=0,Ur=ft;xr<Ur.length;xr+=1){var an=Ur[xr];if(an.length!==0&&!b5(an))for(var en=0,Cn=0;Cn<an.length;Cn++){var wn=an[Cn];if(Cn>=1){var Mn=an[Cn-1];if(!x5(wn,Mn)){er.vertexLength+4>j.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Fn=wn.sub(Mn)._perp()._unit(),Gn=Mn.dist(wn);en+Gn>32768&&(en=0),Yd(this.layoutVertexArray,wn.x,wn.y,Fn.x,Fn.y,0,0,en),Yd(this.layoutVertexArray,wn.x,wn.y,Fn.x,Fn.y,0,1,en),en+=Gn,Yd(this.layoutVertexArray,Mn.x,Mn.y,Fn.x,Fn.y,0,0,en),Yd(this.layoutVertexArray,Mn.x,Mn.y,Fn.x,Fn.y,0,1,en);var qn=er.vertexLength;this.indexArray.emplaceBack(qn,qn+2,qn+1),this.indexArray.emplaceBack(qn+1,qn+2,qn+3),er.vertexLength+=4,er.primitiveLength+=2}}}}if(er.vertexLength+bt>j.MAX_VERTEX_ARRAY_LENGTH&&(er=this.segments.prepareSegment(bt,this.layoutVertexArray,this.indexArray)),y5[D.type]==="Polygon"){for(var Qn=[],Pa=[],ga=er.vertexLength,wa=0,ja=ft;wa<ja.length;wa+=1){var Ca=ja[wa];if(Ca.length!==0){Ca!==ft[0]&&Pa.push(Qn.length/2);for(var Ea=0;Ea<Ca.length;Ea++){var ei=Ca[Ea];Yd(this.layoutVertexArray,ei.x,ei.y,0,0,1,1,0),Qn.push(ei.x),Qn.push(ei.y)}}}for(var Ya=Rg(Qn,Pa),yi=0;yi<Ya.length;yi+=3)this.indexArray.emplaceBack(ga+Ya[yi],ga+Ya[yi+2],ga+Ya[yi+1]);er.primitiveLength+=Ya.length/3,er.vertexLength+=bt}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ie,Me,pe)},ce("FillExtrusionBucket",Ju,{omit:["layers","features"]});function x5(I,D){return I.x===D.x&&(I.x<0||I.x>_a)||I.y===D.y&&(I.y<0||I.y>_a)}function b5(I){return I.every(function(D){return D.x<0})||I.every(function(D){return D.x>_a})||I.every(function(D){return D.y<0})||I.every(function(D){return D.y>_a})}var w5=new bo({"fill-extrusion-opacity":new ba(jt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new La(jt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new ba(jt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new ba(jt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new zi(jt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new La(jt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new La(jt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new ba(jt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])}),T5={paint:w5},A5=function(I){function D(G){I.call(this,G,T5)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(ie){return new Ju(ie)},D.prototype.queryRadius=function(){return du(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(ie,pe,Me,Ie,Je,ft,bt,St){var Yt=Yl(ie,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),ft.angle,bt),sr=this.paint.get("fill-extrusion-height").evaluate(pe,Me),er=this.paint.get("fill-extrusion-base").evaluate(pe,Me),xr=C5(Yt,St,ft,0),Ur=M5(Ie,er,sr,St),an=Ur[0],en=Ur[1];return S5(an,en,xr)},D}(Gi);function Zd(I,D){return I.x*D.x+I.y*D.y}function V1(I,D){if(I.length===1){for(var G=0,ie=D[G++],pe;!pe||ie.equals(pe);)if(pe=D[G++],!pe)return 1/0;for(;G<D.length;G++){var Me=D[G],Ie=I[0],Je=pe.sub(ie),ft=Me.sub(ie),bt=Ie.sub(ie),St=Zd(Je,Je),Yt=Zd(Je,ft),sr=Zd(ft,ft),er=Zd(bt,Je),xr=Zd(bt,ft),Ur=St*sr-Yt*Yt,an=(sr*er-Yt*xr)/Ur,en=(St*xr-Yt*er)/Ur,Cn=1-an-en,wn=ie.z*Cn+pe.z*an+Me.z*en;if(isFinite(wn))return wn}return 1/0}else{for(var Mn=1/0,Fn=0,Gn=D;Fn<Gn.length;Fn+=1){var qn=Gn[Fn];Mn=Math.min(Mn,qn.z)}return Mn}}function S5(I,D,G){var ie=1/0;so(G,D)&&(ie=V1(G,D[0]));for(var pe=0;pe<D.length;pe++)for(var Me=D[pe],Ie=I[pe],Je=0;Je<Me.length-1;Je++){var ft=Me[Je],bt=Me[Je+1],St=Ie[Je],Yt=Ie[Je+1],sr=[ft,bt,Yt,St,ft];$a(G,sr)&&(ie=Math.min(ie,V1(G,sr)))}return ie===1/0?!1:ie}function M5(I,D,G,ie){for(var pe=[],Me=[],Ie=ie[8]*D,Je=ie[9]*D,ft=ie[10]*D,bt=ie[11]*D,St=ie[8]*G,Yt=ie[9]*G,sr=ie[10]*G,er=ie[11]*G,xr=0,Ur=I;xr<Ur.length;xr+=1){for(var an=Ur[xr],en=[],Cn=[],wn=0,Mn=an;wn<Mn.length;wn+=1){var Fn=Mn[wn],Gn=Fn.x,qn=Fn.y,Qn=ie[0]*Gn+ie[4]*qn+ie[12],Pa=ie[1]*Gn+ie[5]*qn+ie[13],ga=ie[2]*Gn+ie[6]*qn+ie[14],wa=ie[3]*Gn+ie[7]*qn+ie[15],ja=Qn+Ie,Ca=Pa+Je,Ea=ga+ft,ei=wa+bt,Ya=Qn+St,yi=Pa+Yt,_i=ga+sr,mi=wa+er,xi=new t(ja/ei,Ca/ei);xi.z=Ea/ei,en.push(xi);var hi=new t(Ya/mi,yi/mi);hi.z=_i/mi,Cn.push(hi)}pe.push(en),Me.push(Cn)}return[pe,Me]}function C5(I,D,G,ie){for(var pe=[],Me=0,Ie=I;Me<Ie.length;Me+=1){var Je=Ie[Me],ft=[Je.x,Je.y,ie,1];K0(ft,ft,D),pe.push(new t(ft[0]/ft[3],ft[1]/ft[3]))}return pe}var E5=Oi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),U1=E5.members,L5=Nv.VectorTileFeature.types,H1=63,P5=Math.cos(75/2*(Math.PI/180)),R5=15,I5=20,D5=15,G1=1/2,W1=Math.pow(2,D5-1)/G1,Ys=function(D){this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(G){return G.id}),this.index=D.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Lv,this.indexArray=new Xu,this.programConfigurations=new Ja(U1,D.layers,D.zoom),this.segments=new j,this.stateDependentLayerIds=this.layers.filter(function(G){return G.isStateDependent()}).map(function(G){return G.id})};Ys.prototype.populate=function(D,G,ie){this.hasPattern=Fg("line",this.layers,G);for(var pe=this.layers[0].layout.get("line-sort-key"),Me=[],Ie=0,Je=D;Ie<Je.length;Ie+=1){var ft=Je[Ie],bt=ft.feature,St=ft.id,Yt=ft.index,sr=ft.sourceLayerIndex,er=this.layers[0]._featureFilter.needGeometry,xr={type:bt.type,id:St,properties:bt.properties,geometry:er?Ei(bt):[]};if(this.layers[0]._featureFilter.filter(new Un(this.zoom),xr,ie)){er||(xr.geometry=Ei(bt));var Ur=pe?pe.evaluate(xr,{},ie):void 0,an={id:St,properties:bt.properties,type:bt.type,sourceLayerIndex:sr,index:Yt,geometry:xr.geometry,patterns:{},sortKey:Ur};Me.push(an)}}pe&&Me.sort(function(ga,wa){return ga.sortKey-wa.sortKey});for(var en=0,Cn=Me;en<Cn.length;en+=1){var wn=Cn[en],Mn=wn,Fn=Mn.geometry,Gn=Mn.index,qn=Mn.sourceLayerIndex;if(this.hasPattern){var Qn=zg("line",this.layers,wn,this.zoom,G);this.patternFeatures.push(Qn)}else this.addFeature(wn,Fn,Gn,ie,{});var Pa=D[Gn].feature;G.featureIndex.insert(Pa,Fn,Gn,qn,this.index)}},Ys.prototype.update=function(D,G,ie){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(D,G,this.stateDependentLayers,ie)},Ys.prototype.addFeatures=function(D,G,ie){for(var pe=0,Me=this.patternFeatures;pe<Me.length;pe+=1){var Ie=Me[pe];this.addFeature(Ie,Ie.geometry,Ie.index,G,ie)}},Ys.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Ys.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Ys.prototype.upload=function(D){this.uploaded||(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,U1),this.indexBuffer=D.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(D),this.uploaded=!0},Ys.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Ys.prototype.addFeature=function(D,G,ie,pe,Me){for(var Ie=this.layers[0].layout,Je=Ie.get("line-join").evaluate(D,{}),ft=Ie.get("line-cap"),bt=Ie.get("line-miter-limit"),St=Ie.get("line-round-limit"),Yt=0,sr=G;Yt<sr.length;Yt+=1){var er=sr[Yt];this.addLine(er,D,Je,ft,bt,St)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,D,ie,Me,pe)},Ys.prototype.addLine=function(D,G,ie,pe,Me,Ie){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,G.properties&&G.properties.hasOwnProperty("mapbox_clip_start")&&G.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+G.properties.mapbox_clip_start,this.clipEnd=+G.properties.mapbox_clip_end;for(var Je=0;Je<D.length-1;Je++)this.totalDistance+=D[Je].dist(D[Je+1]);this.updateScaledDistance()}for(var ft=L5[G.type]==="Polygon",bt=D.length;bt>=2&&D[bt-1].equals(D[bt-2]);)bt--;for(var St=0;St<bt-1&&D[St].equals(D[St+1]);)St++;if(!(bt<(ft?3:2))){ie==="bevel"&&(Me=1.05);var Yt=this.overscaling<=16?R5*_a/(512*this.overscaling):0,sr=this.segments.prepareSegment(bt*10,this.layoutVertexArray,this.indexArray),er,xr=void 0,Ur=void 0,an=void 0,en=void 0;this.e1=this.e2=-1,ft&&(er=D[bt-2],en=D[St].sub(er)._unit()._perp());for(var Cn=St;Cn<bt;Cn++)if(Ur=Cn===bt-1?ft?D[St+1]:void 0:D[Cn+1],!(Ur&&D[Cn].equals(Ur))){en&&(an=en),er&&(xr=er),er=D[Cn],en=Ur?Ur.sub(er)._unit()._perp():an,an=an||en;var wn=an.add(en);(wn.x!==0||wn.y!==0)&&wn._unit();var Mn=an.x*en.x+an.y*en.y,Fn=wn.x*en.x+wn.y*en.y,Gn=Fn!==0?1/Fn:1/0,qn=2*Math.sqrt(2-2*Fn),Qn=Fn<P5&&xr&&Ur,Pa=an.x*en.y-an.y*en.x>0;if(Qn&&Cn>St){var ga=er.dist(xr);if(ga>2*Yt){var wa=er.sub(er.sub(xr)._mult(Yt/ga)._round());this.updateDistance(xr,wa),this.addCurrentVertex(wa,an,0,0,sr),xr=wa}}var ja=xr&&Ur,Ca=ja?ie:ft?"butt":pe;if(ja&&Ca==="round"&&(Gn<Ie?Ca="miter":Gn<=2&&(Ca="fakeround")),Ca==="miter"&&Gn>Me&&(Ca="bevel"),Ca==="bevel"&&(Gn>2&&(Ca="flipbevel"),Gn<Me&&(Ca="miter")),xr&&this.updateDistance(xr,er),Ca==="miter")wn._mult(Gn),this.addCurrentVertex(er,wn,0,0,sr);else if(Ca==="flipbevel"){if(Gn>100)wn=en.mult(-1);else{var Ea=Gn*an.add(en).mag()/an.sub(en).mag();wn._perp()._mult(Ea*(Pa?-1:1))}this.addCurrentVertex(er,wn,0,0,sr),this.addCurrentVertex(er,wn.mult(-1),0,0,sr)}else if(Ca==="bevel"||Ca==="fakeround"){var ei=-Math.sqrt(Gn*Gn-1),Ya=Pa?ei:0,yi=Pa?0:ei;if(xr&&this.addCurrentVertex(er,an,Ya,yi,sr),Ca==="fakeround")for(var _i=Math.round(qn*180/Math.PI/I5),mi=1;mi<_i;mi++){var xi=mi/_i;if(xi!==.5){var hi=xi-.5,Ui=1.0904+Mn*(-3.2452+Mn*(3.55645-Mn*1.43519)),Yi=.848013+Mn*(-1.06021+Mn*.215638);xi=xi+xi*hi*(xi-1)*(Ui*hi*hi+Yi)}var lo=en.sub(an)._mult(xi)._add(an)._unit()._mult(Pa?-1:1);this.addHalfVertex(er,lo.x,lo.y,!1,Pa,0,sr)}Ur&&this.addCurrentVertex(er,en,-Ya,-yi,sr)}else if(Ca==="butt")this.addCurrentVertex(er,wn,0,0,sr);else if(Ca==="square"){var vo=xr?1:-1;this.addCurrentVertex(er,wn,vo,vo,sr)}else Ca==="round"&&(xr&&(this.addCurrentVertex(er,an,0,0,sr),this.addCurrentVertex(er,an,1,1,sr,!0)),Ur&&(this.addCurrentVertex(er,en,-1,-1,sr,!0),this.addCurrentVertex(er,en,0,0,sr)));if(Qn&&Cn<bt-1){var Go=er.dist(Ur);if(Go>2*Yt){var Ro=er.add(Ur.sub(er)._mult(Yt/Go)._round());this.updateDistance(er,Ro),this.addCurrentVertex(Ro,en,0,0,sr),er=Ro}}}}},Ys.prototype.addCurrentVertex=function(D,G,ie,pe,Me,Ie){Ie===void 0&&(Ie=!1);var Je=G.x+G.y*ie,ft=G.y-G.x*ie,bt=-G.x+G.y*pe,St=-G.y-G.x*pe;this.addHalfVertex(D,Je,ft,Ie,!1,ie,Me),this.addHalfVertex(D,bt,St,Ie,!0,-pe,Me),this.distance>W1/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(D,G,ie,pe,Me,Ie))},Ys.prototype.addHalfVertex=function(D,G,ie,pe,Me,Ie,Je){var ft=D.x,bt=D.y,St=this.scaledDistance*G1;this.layoutVertexArray.emplaceBack((ft<<1)+(pe?1:0),(bt<<1)+(Me?1:0),Math.round(H1*G)+128,Math.round(H1*ie)+128,(Ie===0?0:Ie<0?-1:1)+1|(St&63)<<2,St>>6);var Yt=Je.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Yt),Je.primitiveLength++),Me?this.e2=Yt:this.e1=Yt},Ys.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(W1-1):this.distance},Ys.prototype.updateDistance=function(D,G){this.distance+=D.dist(G),this.updateScaledDistance()},ce("LineBucket",Ys,{omit:["layers","patternFeatures"]});var k5=new bo({"line-cap":new ba(jt.layout_line["line-cap"]),"line-join":new La(jt.layout_line["line-join"]),"line-miter-limit":new ba(jt.layout_line["line-miter-limit"]),"line-round-limit":new ba(jt.layout_line["line-round-limit"]),"line-sort-key":new La(jt.layout_line["line-sort-key"])}),_5=new bo({"line-opacity":new La(jt.paint_line["line-opacity"]),"line-color":new La(jt.paint_line["line-color"]),"line-translate":new ba(jt.paint_line["line-translate"]),"line-translate-anchor":new ba(jt.paint_line["line-translate-anchor"]),"line-width":new La(jt.paint_line["line-width"]),"line-gap-width":new La(jt.paint_line["line-gap-width"]),"line-offset":new La(jt.paint_line["line-offset"]),"line-blur":new La(jt.paint_line["line-blur"]),"line-dasharray":new no(jt.paint_line["line-dasharray"]),"line-pattern":new zi(jt.paint_line["line-pattern"]),"line-gradient":new is(jt.paint_line["line-gradient"])}),Y1={paint:_5,layout:k5},F5=function(I){function D(){I.apply(this,arguments)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(ie,pe){return pe=new Un(Math.floor(pe.zoom),{now:pe.now,fadeDuration:pe.fadeDuration,zoomHistory:pe.zoomHistory,transition:pe.transition}),I.prototype.possiblyEvaluate.call(this,ie,pe)},D.prototype.evaluate=function(ie,pe,Me,Ie){return pe=o({},pe,{zoom:Math.floor(pe.zoom)}),I.prototype.evaluate.call(this,ie,pe,Me,Ie)},D}(La),Z1=new F5(Y1.paint.properties["line-width"].specification);Z1.useIntegerZoom=!0;var z5=function(I){function D(G){I.call(this,G,Y1)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(ie){ie==="line-gradient"&&this._updateGradient()},D.prototype._updateGradient=function(){var ie=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=P1(ie,"lineProgress"),this.gradientTexture=null},D.prototype.recalculate=function(ie,pe){I.prototype.recalculate.call(this,ie,pe),this.paint._values["line-floorwidth"]=Z1.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,ie)},D.prototype.createBucket=function(ie){return new Ys(ie)},D.prototype.queryRadius=function(ie){var pe=ie,Me=X1(ll("line-width",this,pe),ll("line-gap-width",this,pe)),Ie=ll("line-offset",this,pe);return Me/2+Math.abs(Ie)+du(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(ie,pe,Me,Ie,Je,ft,bt){var St=Yl(ie,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),ft.angle,bt),Yt=bt/2*X1(this.paint.get("line-width").evaluate(pe,Me),this.paint.get("line-gap-width").evaluate(pe,Me)),sr=this.paint.get("line-offset").evaluate(pe,Me);return sr&&(Ie=O5(Ie,sr*bt)),Co(St,Ie,Yt)},D.prototype.isTileClipped=function(){return!0},D}(Gi);function X1(I,D){return D>0?D+2*I:I}function O5(I,D){for(var G=[],ie=new t(0,0),pe=0;pe<I.length;pe++){for(var Me=I[pe],Ie=[],Je=0;Je<Me.length;Je++){var ft=Me[Je-1],bt=Me[Je],St=Me[Je+1],Yt=Je===0?ie:bt.sub(ft)._unit()._perp(),sr=Je===Me.length-1?ie:St.sub(bt)._unit()._perp(),er=Yt._add(sr)._unit(),xr=er.x*sr.x+er.y*sr.y;er._mult(1/xr),Ie.push(er._mult(D)._add(bt))}G.push(Ie)}return G}var Bg=Oi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),B5=Oi([{name:"a_projected_pos",components:3,type:"Float32"}],4);Oi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);var N5=Oi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Oi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);var j1=Oi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),V5=Oi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Oi([{name:"triangle",components:3,type:"Uint16"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Oi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Oi([{type:"Float32",name:"offsetX"}]),Oi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);function U5(I,D,G){var ie=D.layout.get("text-transform").evaluate(G,{});return ie==="uppercase"?I=I.toLocaleUpperCase():ie==="lowercase"&&(I=I.toLocaleLowerCase()),gi.applyArabicShaping&&(I=gi.applyArabicShaping(I)),I}function H5(I,D,G){return I.sections.forEach(function(ie){ie.text=U5(ie.text,D,G)}),I}function G5(I){var D={},G={},ie=[],pe=0;function Me(en){ie.push(I[en]),pe++}function Ie(en,Cn,wn){var Mn=G[en];return delete G[en],G[Cn]=Mn,ie[Mn].geometry[0].pop(),ie[Mn].geometry[0]=ie[Mn].geometry[0].concat(wn[0]),Mn}function Je(en,Cn,wn){var Mn=D[Cn];return delete D[Cn],D[en]=Mn,ie[Mn].geometry[0].shift(),ie[Mn].geometry[0]=wn[0].concat(ie[Mn].geometry[0]),Mn}function ft(en,Cn,wn){var Mn=wn?Cn[0][Cn[0].length-1]:Cn[0][0];return en+":"+Mn.x+":"+Mn.y}for(var bt=0;bt<I.length;bt++){var St=I[bt],Yt=St.geometry,sr=St.text?St.text.toString():null;if(!sr){Me(bt);continue}var er=ft(sr,Yt),xr=ft(sr,Yt,!0);if(er in G&&xr in D&&G[er]!==D[xr]){var Ur=Je(er,xr,Yt),an=Ie(er,xr,ie[Ur].geometry);delete D[er],delete G[xr],G[ft(sr,ie[an].geometry,!0)]=an,ie[Ur].geometry=null}else er in G?Ie(er,xr,Yt):xr in D?Je(er,xr,Yt):(Me(bt),D[er]=pe-1,G[xr]=pe-1)}return ie.filter(function(en){return en.geometry})}var Xd={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function W5(I){for(var D="",G=0;G<I.length;G++){var ie=I.charCodeAt(G+1)||null,pe=I.charCodeAt(G-1)||null,Me=(!ie||!rn(ie)||Xd[I[G+1]])&&(!pe||!rn(pe)||Xd[I[G-1]]);Me&&Xd[I[G]]?D+=Xd[I[G]]:D+=I[G]}return D}var es=24,Y5=function(I,D,G,ie,pe){var Me,Ie,Je=pe*8-ie-1,ft=(1<<Je)-1,bt=ft>>1,St=-7,Yt=G?pe-1:0,sr=G?-1:1,er=I[D+Yt];for(Yt+=sr,Me=er&(1<<-St)-1,er>>=-St,St+=Je;St>0;Me=Me*256+I[D+Yt],Yt+=sr,St-=8);for(Ie=Me&(1<<-St)-1,Me>>=-St,St+=ie;St>0;Ie=Ie*256+I[D+Yt],Yt+=sr,St-=8);if(Me===0)Me=1-bt;else{if(Me===ft)return Ie?NaN:(er?-1:1)*(1/0);Ie=Ie+Math.pow(2,ie),Me=Me-bt}return(er?-1:1)*Ie*Math.pow(2,Me-ie)},Z5=function(I,D,G,ie,pe,Me){var Ie,Je,ft,bt=Me*8-pe-1,St=(1<<bt)-1,Yt=St>>1,sr=pe===23?Math.pow(2,-24)-Math.pow(2,-77):0,er=ie?0:Me-1,xr=ie?1:-1,Ur=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(Je=isNaN(D)?1:0,Ie=St):(Ie=Math.floor(Math.log(D)/Math.LN2),D*(ft=Math.pow(2,-Ie))<1&&(Ie--,ft*=2),Ie+Yt>=1?D+=sr/ft:D+=sr*Math.pow(2,1-Yt),D*ft>=2&&(Ie++,ft/=2),Ie+Yt>=St?(Je=0,Ie=St):Ie+Yt>=1?(Je=(D*ft-1)*Math.pow(2,pe),Ie=Ie+Yt):(Je=D*Math.pow(2,Yt-1)*Math.pow(2,pe),Ie=0));pe>=8;I[G+er]=Je&255,er+=xr,Je/=256,pe-=8);for(Ie=Ie<<pe|Je,bt+=pe;bt>0;I[G+er]=Ie&255,er+=xr,Ie/=256,bt-=8);I[G+er-xr]|=Ur*128},ep={read:Y5,write:Z5},tp=Wi;function Wi(I){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(I)?I:new Uint8Array(I||0),this.pos=0,this.type=0,this.length=this.buf.length}Wi.Varint=0,Wi.Fixed64=1,Wi.Bytes=2,Wi.Fixed32=5;var Ng=65536*65536,K1=1/Ng,X5=12,J1=typeof TextDecoder>"u"?null:new TextDecoder("utf8");Wi.prototype={destroy:function(){this.buf=null},readFields:function(I,D,G){for(G=G||this.length;this.pos<G;){var ie=this.readVarint(),pe=ie>>3,Me=this.pos;this.type=ie&7,I(pe,D,this),this.pos===Me&&this.skip(ie)}return D},readMessage:function(I,D){return this.readFields(I,D,this.readVarint()+this.pos)},readFixed32:function(){var I=rp(this.buf,this.pos);return this.pos+=4,I},readSFixed32:function(){var I=Q1(this.buf,this.pos);return this.pos+=4,I},readFixed64:function(){var I=rp(this.buf,this.pos)+rp(this.buf,this.pos+4)*Ng;return this.pos+=8,I},readSFixed64:function(){var I=rp(this.buf,this.pos)+Q1(this.buf,this.pos+4)*Ng;return this.pos+=8,I},readFloat:function(){var I=ep.read(this.buf,this.pos,!0,23,4);return this.pos+=4,I},readDouble:function(){var I=ep.read(this.buf,this.pos,!0,52,8);return this.pos+=8,I},readVarint:function(I){var D=this.buf,G,ie;return ie=D[this.pos++],G=ie&127,ie<128||(ie=D[this.pos++],G|=(ie&127)<<7,ie<128)||(ie=D[this.pos++],G|=(ie&127)<<14,ie<128)||(ie=D[this.pos++],G|=(ie&127)<<21,ie<128)?G:(ie=D[this.pos],G|=(ie&15)<<28,j5(G,I,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var I=this.readVarint();return I%2===1?(I+1)/-2:I/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var I=this.readVarint()+this.pos,D=this.pos;return this.pos=I,I-D>=X5&&J1?l4(this.buf,D,I):s4(this.buf,D,I)},readBytes:function(){var I=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,I);return this.pos=I,D},readPackedVarint:function(I,D){if(this.type!==Wi.Bytes)return I.push(this.readVarint(D));var G=dc(this);for(I=I||[];this.pos<G;)I.push(this.readVarint(D));return I},readPackedSVarint:function(I){if(this.type!==Wi.Bytes)return I.push(this.readSVarint());var D=dc(this);for(I=I||[];this.pos<D;)I.push(this.readSVarint());return I},readPackedBoolean:function(I){if(this.type!==Wi.Bytes)return I.push(this.readBoolean());var D=dc(this);for(I=I||[];this.pos<D;)I.push(this.readBoolean());return I},readPackedFloat:function(I){if(this.type!==Wi.Bytes)return I.push(this.readFloat());var D=dc(this);for(I=I||[];this.pos<D;)I.push(this.readFloat());return I},readPackedDouble:function(I){if(this.type!==Wi.Bytes)return I.push(this.readDouble());var D=dc(this);for(I=I||[];this.pos<D;)I.push(this.readDouble());return I},readPackedFixed32:function(I){if(this.type!==Wi.Bytes)return I.push(this.readFixed32());var D=dc(this);for(I=I||[];this.pos<D;)I.push(this.readFixed32());return I},readPackedSFixed32:function(I){if(this.type!==Wi.Bytes)return I.push(this.readSFixed32());var D=dc(this);for(I=I||[];this.pos<D;)I.push(this.readSFixed32());return I},readPackedFixed64:function(I){if(this.type!==Wi.Bytes)return I.push(this.readFixed64());var D=dc(this);for(I=I||[];this.pos<D;)I.push(this.readFixed64());return I},readPackedSFixed64:function(I){if(this.type!==Wi.Bytes)return I.push(this.readSFixed64());var D=dc(this);for(I=I||[];this.pos<D;)I.push(this.readSFixed64());return I},skip:function(I){var D=I&7;if(D===Wi.Varint)for(;this.buf[this.pos++]>127;);else if(D===Wi.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Wi.Fixed32)this.pos+=4;else if(D===Wi.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+D)},writeTag:function(I,D){this.writeVarint(I<<3|D)},realloc:function(I){for(var D=this.length||16;D<this.pos+I;)D*=2;if(D!==this.length){var G=new Uint8Array(D);G.set(this.buf),this.buf=G,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(I){this.realloc(4),Uv(this.buf,I,this.pos),this.pos+=4},writeSFixed32:function(I){this.realloc(4),Uv(this.buf,I,this.pos),this.pos+=4},writeFixed64:function(I){this.realloc(8),Uv(this.buf,I&-1,this.pos),Uv(this.buf,Math.floor(I*K1),this.pos+4),this.pos+=8},writeSFixed64:function(I){this.realloc(8),Uv(this.buf,I&-1,this.pos),Uv(this.buf,Math.floor(I*K1),this.pos+4),this.pos+=8},writeVarint:function(I){if(I=+I||0,I>268435455||I<0){K5(I,this);return}this.realloc(4),this.buf[this.pos++]=I&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=(I>>>=7)&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=(I>>>=7)&127|(I>127?128:0),!(I<=127)&&(this.buf[this.pos++]=I>>>7&127)))},writeSVarint:function(I){this.writeVarint(I<0?-I*2-1:I*2)},writeBoolean:function(I){this.writeVarint(!!I)},writeString:function(I){I=String(I),this.realloc(I.length*4),this.pos++;var D=this.pos;this.pos=u4(this.buf,I,this.pos);var G=this.pos-D;G>=128&&$1(D,G,this),this.pos=D-1,this.writeVarint(G),this.pos+=G},writeFloat:function(I){this.realloc(4),ep.write(this.buf,I,this.pos,!0,23,4),this.pos+=4},writeDouble:function(I){this.realloc(8),ep.write(this.buf,I,this.pos,!0,52,8),this.pos+=8},writeBytes:function(I){var D=I.length;this.writeVarint(D),this.realloc(D);for(var G=0;G<D;G++)this.buf[this.pos++]=I[G]},writeRawMessage:function(I,D){this.pos++;var G=this.pos;I(D,this);var ie=this.pos-G;ie>=128&&$1(G,ie,this),this.pos=G-1,this.writeVarint(ie),this.pos+=ie},writeMessage:function(I,D,G){this.writeTag(I,Wi.Bytes),this.writeRawMessage(D,G)},writePackedVarint:function(I,D){D.length&&this.writeMessage(I,Q5,D)},writePackedSVarint:function(I,D){D.length&&this.writeMessage(I,q5,D)},writePackedBoolean:function(I,D){D.length&&this.writeMessage(I,r4,D)},writePackedFloat:function(I,D){D.length&&this.writeMessage(I,e4,D)},writePackedDouble:function(I,D){D.length&&this.writeMessage(I,t4,D)},writePackedFixed32:function(I,D){D.length&&this.writeMessage(I,n4,D)},writePackedSFixed32:function(I,D){D.length&&this.writeMessage(I,a4,D)},writePackedFixed64:function(I,D){D.length&&this.writeMessage(I,i4,D)},writePackedSFixed64:function(I,D){D.length&&this.writeMessage(I,o4,D)},writeBytesField:function(I,D){this.writeTag(I,Wi.Bytes),this.writeBytes(D)},writeFixed32Field:function(I,D){this.writeTag(I,Wi.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(I,D){this.writeTag(I,Wi.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(I,D){this.writeTag(I,Wi.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(I,D){this.writeTag(I,Wi.Fixed64),this.writeSFixed64(D)},writeVarintField:function(I,D){this.writeTag(I,Wi.Varint),this.writeVarint(D)},writeSVarintField:function(I,D){this.writeTag(I,Wi.Varint),this.writeSVarint(D)},writeStringField:function(I,D){this.writeTag(I,Wi.Bytes),this.writeString(D)},writeFloatField:function(I,D){this.writeTag(I,Wi.Fixed32),this.writeFloat(D)},writeDoubleField:function(I,D){this.writeTag(I,Wi.Fixed64),this.writeDouble(D)},writeBooleanField:function(I,D){this.writeVarintField(I,!!D)}};function j5(I,D,G){var ie=G.buf,pe,Me;if(Me=ie[G.pos++],pe=(Me&112)>>4,Me<128||(Me=ie[G.pos++],pe|=(Me&127)<<3,Me<128)||(Me=ie[G.pos++],pe|=(Me&127)<<10,Me<128)||(Me=ie[G.pos++],pe|=(Me&127)<<17,Me<128)||(Me=ie[G.pos++],pe|=(Me&127)<<24,Me<128)||(Me=ie[G.pos++],pe|=(Me&1)<<31,Me<128))return Vv(I,pe,D);throw new Error("Expected varint not more than 10 bytes")}function dc(I){return I.type===Wi.Bytes?I.readVarint()+I.pos:I.pos+1}function Vv(I,D,G){return G?D*4294967296+(I>>>0):(D>>>0)*4294967296+(I>>>0)}function K5(I,D){var G,ie;if(I>=0?(G=I%4294967296|0,ie=I/4294967296|0):(G=~(-I%4294967296),ie=~(-I/4294967296),G^4294967295?G=G+1|0:(G=0,ie=ie+1|0)),I>=18446744073709552e3||I<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");D.realloc(10),J5(G,ie,D),$5(ie,D)}function J5(I,D,G){G.buf[G.pos++]=I&127|128,I>>>=7,G.buf[G.pos++]=I&127|128,I>>>=7,G.buf[G.pos++]=I&127|128,I>>>=7,G.buf[G.pos++]=I&127|128,I>>>=7,G.buf[G.pos]=I&127}function $5(I,D){var G=(I&7)<<4;D.buf[D.pos++]|=G|((I>>>=3)?128:0),I&&(D.buf[D.pos++]=I&127|((I>>>=7)?128:0),I&&(D.buf[D.pos++]=I&127|((I>>>=7)?128:0),I&&(D.buf[D.pos++]=I&127|((I>>>=7)?128:0),I&&(D.buf[D.pos++]=I&127|((I>>>=7)?128:0),I&&(D.buf[D.pos++]=I&127)))))}function $1(I,D,G){var ie=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(Math.LN2*7));G.realloc(ie);for(var pe=G.pos-1;pe>=I;pe--)G.buf[pe+ie]=G.buf[pe]}function Q5(I,D){for(var G=0;G<I.length;G++)D.writeVarint(I[G])}function q5(I,D){for(var G=0;G<I.length;G++)D.writeSVarint(I[G])}function e4(I,D){for(var G=0;G<I.length;G++)D.writeFloat(I[G])}function t4(I,D){for(var G=0;G<I.length;G++)D.writeDouble(I[G])}function r4(I,D){for(var G=0;G<I.length;G++)D.writeBoolean(I[G])}function n4(I,D){for(var G=0;G<I.length;G++)D.writeFixed32(I[G])}function a4(I,D){for(var G=0;G<I.length;G++)D.writeSFixed32(I[G])}function i4(I,D){for(var G=0;G<I.length;G++)D.writeFixed64(I[G])}function o4(I,D){for(var G=0;G<I.length;G++)D.writeSFixed64(I[G])}function rp(I,D){return(I[D]|I[D+1]<<8|I[D+2]<<16)+I[D+3]*16777216}function Uv(I,D,G){I[G]=D,I[G+1]=D>>>8,I[G+2]=D>>>16,I[G+3]=D>>>24}function Q1(I,D){return(I[D]|I[D+1]<<8|I[D+2]<<16)+(I[D+3]<<24)}function s4(I,D,G){for(var ie="",pe=D;pe<G;){var Me=I[pe],Ie=null,Je=Me>239?4:Me>223?3:Me>191?2:1;if(pe+Je>G)break;var ft,bt,St;Je===1?Me<128&&(Ie=Me):Je===2?(ft=I[pe+1],(ft&192)===128&&(Ie=(Me&31)<<6|ft&63,Ie<=127&&(Ie=null))):Je===3?(ft=I[pe+1],bt=I[pe+2],(ft&192)===128&&(bt&192)===128&&(Ie=(Me&15)<<12|(ft&63)<<6|bt&63,(Ie<=2047||Ie>=55296&&Ie<=57343)&&(Ie=null))):Je===4&&(ft=I[pe+1],bt=I[pe+2],St=I[pe+3],(ft&192)===128&&(bt&192)===128&&(St&192)===128&&(Ie=(Me&15)<<18|(ft&63)<<12|(bt&63)<<6|St&63,(Ie<=65535||Ie>=1114112)&&(Ie=null))),Ie===null?(Ie=65533,Je=1):Ie>65535&&(Ie-=65536,ie+=String.fromCharCode(Ie>>>10&1023|55296),Ie=56320|Ie&1023),ie+=String.fromCharCode(Ie),pe+=Je}return ie}function l4(I,D,G){return J1.decode(I.subarray(D,G))}function u4(I,D,G){for(var ie=0,pe,Me;ie<D.length;ie++){if(pe=D.charCodeAt(ie),pe>55295&&pe<57344)if(Me)if(pe<56320){I[G++]=239,I[G++]=191,I[G++]=189,Me=pe;continue}else pe=Me-55296<<10|pe-56320|65536,Me=null;else{pe>56319||ie+1===D.length?(I[G++]=239,I[G++]=191,I[G++]=189):Me=pe;continue}else Me&&(I[G++]=239,I[G++]=191,I[G++]=189,Me=null);pe<128?I[G++]=pe:(pe<2048?I[G++]=pe>>6|192:(pe<65536?I[G++]=pe>>12|224:(I[G++]=pe>>18|240,I[G++]=pe>>12&63|128),I[G++]=pe>>6&63|128),I[G++]=pe&63|128)}return G}var Vg=3;function f4(I,D,G){I===1&&G.readMessage(c4,D)}function c4(I,D,G){if(I===3){var ie=G.readMessage(h4,{}),pe=ie.id,Me=ie.bitmap,Ie=ie.width,Je=ie.height,ft=ie.left,bt=ie.top,St=ie.advance;D.push({id:pe,bitmap:new qh({width:Ie+2*Vg,height:Je+2*Vg},Me),metrics:{width:Ie,height:Je,left:ft,top:bt,advance:St}})}}function h4(I,D,G){I===1?D.id=G.readVarint():I===2?D.bitmap=G.readBytes():I===3?D.width=G.readVarint():I===4?D.height=G.readVarint():I===5?D.left=G.readSVarint():I===6?D.top=G.readSVarint():I===7&&(D.advance=G.readVarint())}function v4(I){return new tp(I).readFields(f4,[])}var q1=Vg;function ex(I){for(var D=0,G=0,ie=0,pe=I;ie<pe.length;ie+=1){var Me=pe[ie];D+=Me.w*Me.h,G=Math.max(G,Me.w)}I.sort(function(an,en){return en.h-an.h});for(var Ie=Math.max(Math.ceil(Math.sqrt(D/.95)),G),Je=[{x:0,y:0,w:Ie,h:1/0}],ft=0,bt=0,St=0,Yt=I;St<Yt.length;St+=1)for(var sr=Yt[St],er=Je.length-1;er>=0;er--){var xr=Je[er];if(!(sr.w>xr.w||sr.h>xr.h)){if(sr.x=xr.x,sr.y=xr.y,bt=Math.max(bt,sr.y+sr.h),ft=Math.max(ft,sr.x+sr.w),sr.w===xr.w&&sr.h===xr.h){var Ur=Je.pop();er<Je.length&&(Je[er]=Ur)}else sr.h===xr.h?(xr.x+=sr.w,xr.w-=sr.w):sr.w===xr.w?(xr.y+=sr.h,xr.h-=sr.h):(Je.push({x:xr.x+sr.w,y:xr.y,w:xr.w-sr.w,h:sr.h}),xr.y+=sr.h,xr.h-=sr.h);break}}return{w:ft,h:bt,fill:D/(ft*bt)||0}}var ul=1,np=function(D,G){var ie=G.pixelRatio,pe=G.version,Me=G.stretchX,Ie=G.stretchY,Je=G.content;this.paddedRect=D,this.pixelRatio=ie,this.stretchX=Me,this.stretchY=Ie,this.content=Je,this.version=pe},jd={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};jd.tl.get=function(){return[this.paddedRect.x+ul,this.paddedRect.y+ul]},jd.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-ul,this.paddedRect.y+this.paddedRect.h-ul]},jd.tlbr.get=function(){return this.tl.concat(this.br)},jd.displaySize.get=function(){return[(this.paddedRect.w-ul*2)/this.pixelRatio,(this.paddedRect.h-ul*2)/this.pixelRatio]},Object.defineProperties(np.prototype,jd);var Kd=function(D,G){var ie={},pe={};this.haveRenderCallbacks=[];var Me=[];this.addImages(D,ie,Me),this.addImages(G,pe,Me);var Ie=ex(Me),Je=Ie.w,ft=Ie.h,bt=new Ws({width:Je||1,height:ft||1});for(var St in D){var Yt=D[St],sr=ie[St].paddedRect;Ws.copy(Yt.data,bt,{x:0,y:0},{x:sr.x+ul,y:sr.y+ul},Yt.data)}for(var er in G){var xr=G[er],Ur=pe[er].paddedRect,an=Ur.x+ul,en=Ur.y+ul,Cn=xr.data.width,wn=xr.data.height;Ws.copy(xr.data,bt,{x:0,y:0},{x:an,y:en},xr.data),Ws.copy(xr.data,bt,{x:0,y:wn-1},{x:an,y:en-1},{width:Cn,height:1}),Ws.copy(xr.data,bt,{x:0,y:0},{x:an,y:en+wn},{width:Cn,height:1}),Ws.copy(xr.data,bt,{x:Cn-1,y:0},{x:an-1,y:en},{width:1,height:wn}),Ws.copy(xr.data,bt,{x:0,y:0},{x:an+Cn,y:en},{width:1,height:wn})}this.image=bt,this.iconPositions=ie,this.patternPositions=pe};Kd.prototype.addImages=function(D,G,ie){for(var pe in D){var Me=D[pe],Ie={x:0,y:0,w:Me.data.width+2*ul,h:Me.data.height+2*ul};ie.push(Ie),G[pe]=new np(Ie,Me),Me.hasRenderCallback&&this.haveRenderCallbacks.push(pe)}},Kd.prototype.patchUpdatedImages=function(D,G){D.dispatchRenderCallbacks(this.haveRenderCallbacks);for(var ie in D.updatedImages)this.patchUpdatedImage(this.iconPositions[ie],D.getImage(ie),G),this.patchUpdatedImage(this.patternPositions[ie],D.getImage(ie),G)},Kd.prototype.patchUpdatedImage=function(D,G,ie){if(!(!D||!G)&&D.version!==G.version){D.version=G.version;var pe=D.tl,Me=pe[0],Ie=pe[1];ie.update(G.data,void 0,{x:Me,y:Ie})}},ce("ImagePosition",np),ce("ImageAtlas",Kd);var El={horizontal:1,vertical:2,horizontalOnly:3},Jd=-17;function d4(I){for(var D=0,G=I;D<G.length;D+=1){var ie=G[D];if(ie.positionedGlyphs.length!==0)return!1}return!0}var tx=57344,rx=63743,Hv=function(){this.scale=1,this.fontStack="",this.imageName=null};Hv.forText=function(D,G){var ie=new Hv;return ie.scale=D||1,ie.fontStack=G,ie},Hv.forImage=function(D){var G=new Hv;return G.imageName=D,G};var ds=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};ds.fromFeature=function(D,G){for(var ie=new ds,pe=0;pe<D.sections.length;pe++){var Me=D.sections[pe];Me.image?ie.addImageSection(Me):ie.addTextSection(Me,G)}return ie},ds.prototype.length=function(){return this.text.length},ds.prototype.getSection=function(D){return this.sections[this.sectionIndex[D]]},ds.prototype.getSectionIndex=function(D){return this.sectionIndex[D]},ds.prototype.getCharCode=function(D){return this.text.charCodeAt(D)},ds.prototype.verticalizePunctuation=function(){this.text=W5(this.text)},ds.prototype.trim=function(){for(var D=0,G=0;G<this.text.length&&Rf[this.text.charCodeAt(G)];G++)D++;for(var ie=this.text.length,pe=this.text.length-1;pe>=0&&pe>=D&&Rf[this.text.charCodeAt(pe)];pe--)ie--;this.text=this.text.substring(D,ie),this.sectionIndex=this.sectionIndex.slice(D,ie)},ds.prototype.substring=function(D,G){var ie=new ds;return ie.text=this.text.substring(D,G),ie.sectionIndex=this.sectionIndex.slice(D,G),ie.sections=this.sections,ie},ds.prototype.toString=function(){return this.text},ds.prototype.getMaxScale=function(){var D=this;return this.sectionIndex.reduce(function(G,ie){return Math.max(G,D.sections[ie].scale)},0)},ds.prototype.addTextSection=function(D,G){this.text+=D.text,this.sections.push(Hv.forText(D.scale,D.fontStack||G));for(var ie=this.sections.length-1,pe=0;pe<D.text.length;++pe)this.sectionIndex.push(ie)},ds.prototype.addImageSection=function(D){var G=D.image?D.image.name:"";if(G.length===0){H("Can't add FormattedSection with an empty image.");return}var ie=this.getNextImageSectionCharCode();if(!ie){H("Reached maximum number of images "+(rx-tx+2));return}this.text+=String.fromCharCode(ie),this.sections.push(Hv.forImage(G)),this.sectionIndex.push(this.sections.length-1)},ds.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=rx?null:++this.imageSectionID:(this.imageSectionID=tx,this.imageSectionID)};function p4(I,D){for(var G=[],ie=I.text,pe=0,Me=0,Ie=D;Me<Ie.length;Me+=1){var Je=Ie[Me];G.push(I.substring(pe,Je)),pe=Je}return pe<ie.length&&G.push(I.substring(pe,ie.length)),G}function ap(I,D,G,ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr,Ur){var an=ds.fromFeature(I,pe);Yt===El.vertical&&an.verticalizePunctuation();var en,Cn=gi.processBidirectionalText,wn=gi.processStyledBidirectionalText;if(Cn&&an.sections.length===1){en=[];for(var Mn=Cn(an.toString(),Ug(an,bt,Me,D,ie,er,xr)),Fn=0,Gn=Mn;Fn<Gn.length;Fn+=1){var qn=Gn[Fn],Qn=new ds;Qn.text=qn,Qn.sections=an.sections;for(var Pa=0;Pa<qn.length;Pa++)Qn.sectionIndex.push(0);en.push(Qn)}}else if(wn){en=[];for(var ga=wn(an.text,an.sectionIndex,Ug(an,bt,Me,D,ie,er,xr)),wa=0,ja=ga;wa<ja.length;wa+=1){var Ca=ja[wa],Ea=new ds;Ea.text=Ca[0],Ea.sectionIndex=Ca[1],Ea.sections=an.sections,en.push(Ea)}}else en=p4(an,Ug(an,bt,Me,D,ie,er,xr));var ei=[],Ya={positionedLines:ei,text:an.toString(),top:St[1],bottom:St[1],left:St[0],right:St[0],writingMode:Yt,iconsInText:!1,verticalizable:!1};return m4(Ya,D,G,ie,en,Ie,Je,ft,Yt,bt,sr,Ur),d4(ei)?!1:Ya}var Rf={};Rf[9]=!0,Rf[10]=!0,Rf[11]=!0,Rf[12]=!0,Rf[13]=!0,Rf[32]=!0;var fl={};fl[10]=!0,fl[32]=!0,fl[38]=!0,fl[40]=!0,fl[41]=!0,fl[43]=!0,fl[45]=!0,fl[47]=!0,fl[173]=!0,fl[183]=!0,fl[8203]=!0,fl[8208]=!0,fl[8211]=!0,fl[8231]=!0;function nx(I,D,G,ie,pe,Me){if(D.imageName){var ft=ie[D.imageName];return ft?ft.displaySize[0]*D.scale*es/Me+pe:0}else{var Ie=G[D.fontStack],Je=Ie&&Ie[I];return Je?Je.metrics.advance*D.scale+pe:0}}function g4(I,D,G,ie,pe,Me){for(var Ie=0,Je=0;Je<I.length();Je++){var ft=I.getSection(Je);Ie+=nx(I.getCharCode(Je),ft,ie,pe,D,Me)}var bt=Math.max(1,Math.ceil(Ie/G));return Ie/bt}function ax(I,D,G,ie){var pe=Math.pow(I-D,2);return ie?I<D?pe/2:pe*2:pe+Math.abs(G)*G}function y4(I,D,G){var ie=0;return I===10&&(ie-=1e4),G&&(ie+=150),(I===40||I===65288)&&(ie+=50),(D===41||D===65289)&&(ie+=50),ie}function ix(I,D,G,ie,pe,Me){for(var Ie=null,Je=ax(D,G,pe,Me),ft=0,bt=ie;ft<bt.length;ft+=1){var St=bt[ft],Yt=D-St.x,sr=ax(Yt,G,pe,Me)+St.badness;sr<=Je&&(Ie=St,Je=sr)}return{index:I,x:D,priorBreak:Ie,badness:Je}}function ox(I){return I?ox(I.priorBreak).concat(I.index):[]}function Ug(I,D,G,ie,pe,Me,Ie){if(Me!=="point")return[];if(!I)return[];for(var Je=[],ft=g4(I,D,G,ie,pe,Ie),bt=I.text.indexOf("")>=0,St=0,Yt=0;Yt<I.length();Yt++){var sr=I.getSection(Yt),er=I.getCharCode(Yt);if(Rf[er]||(St+=nx(er,sr,ie,pe,D,Ie)),Yt<I.length()-1){var xr=Rr(er);(fl[er]||xr||sr.imageName)&&Je.push(ix(Yt+1,St,ft,Je,y4(er,I.getCharCode(Yt+1),xr&&bt),!1))}}return ox(ix(I.length(),St,ft,Je,0,!0))}function Hg(I){var D=.5,G=.5;switch(I){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0;break}switch(I){case"bottom":case"bottom-right":case"bottom-left":G=1;break;case"top":case"top-right":case"top-left":G=0;break}return{horizontalAlign:D,verticalAlign:G}}function m4(I,D,G,ie,pe,Me,Ie,Je,ft,bt,St,Yt){for(var sr=0,er=Jd,xr=0,Ur=0,an=Je==="right"?1:Je==="left"?0:.5,en=0,Cn=0,wn=pe;Cn<wn.length;Cn+=1){var Mn=wn[Cn];Mn.trim();var Fn=Mn.getMaxScale(),Gn=(Fn-1)*es,qn={positionedGlyphs:[],lineOffset:0};I.positionedLines[en]=qn;var Qn=qn.positionedGlyphs,Pa=0;if(!Mn.length()){er+=Me,++en;continue}for(var ga=0;ga<Mn.length();ga++){var wa=Mn.getSection(ga),ja=Mn.getSectionIndex(ga),Ca=Mn.getCharCode(ga),Ea=0,ei=null,Ya=null,yi=null,_i=es,mi=!(ft===El.horizontal||!St&&!Er(Ca)||St&&(Rf[Ca]||kr(Ca)));if(wa.imageName){var lo=ie[wa.imageName];if(!lo)continue;yi=wa.imageName,I.iconsInText=I.iconsInText||!0,Ya=lo.paddedRect;var vo=lo.displaySize;wa.scale=wa.scale*es/Yt,ei={width:vo[0],height:vo[1],left:ul,top:-q1,advance:mi?vo[1]:vo[0]};var Go=es-vo[1]*wa.scale;Ea=Gn+Go,_i=ei.advance;var Ro=mi?vo[0]*wa.scale-es*Fn:vo[1]*wa.scale-es*Fn;Ro>0&&Ro>Pa&&(Pa=Ro)}else{var xi=G[wa.fontStack],hi=xi&&xi[Ca];if(hi&&hi.rect)Ya=hi.rect,ei=hi.metrics;else{var Ui=D[wa.fontStack],Yi=Ui&&Ui[Ca];if(!Yi)continue;ei=Yi.metrics}Ea=(Fn-wa.scale)*es}mi?(I.verticalizable=!0,Qn.push({glyph:Ca,imageName:yi,x:sr,y:er+Ea,vertical:mi,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:ja,metrics:ei,rect:Ya}),sr+=_i*wa.scale+bt):(Qn.push({glyph:Ca,imageName:yi,x:sr,y:er+Ea,vertical:mi,scale:wa.scale,fontStack:wa.fontStack,sectionIndex:ja,metrics:ei,rect:Ya}),sr+=ei.advance*wa.scale+bt)}if(Qn.length!==0){var ps=sr-bt;xr=Math.max(ps,xr),x4(Qn,0,Qn.length-1,an,Pa)}sr=0;var gs=Me*Fn+Pa;qn.lineOffset=Math.max(Pa,Gn),er+=gs,Ur=Math.max(gs,Ur),++en}var Wo=er-Jd,Es=Hg(Ie),Ls=Es.horizontalAlign,zo=Es.verticalAlign;b4(I.positionedLines,an,Ls,zo,xr,Ur,Me,Wo,pe.length),I.top+=-zo*Wo,I.bottom=I.top+Wo,I.left+=-Ls*xr,I.right=I.left+xr}function x4(I,D,G,ie,pe){if(!(!ie&&!pe))for(var Me=I[G],Ie=Me.metrics.advance*Me.scale,Je=(I[G].x+Ie)*ie,ft=D;ft<=G;ft++)I[ft].x-=Je,I[ft].y+=pe}function b4(I,D,G,ie,pe,Me,Ie,Je,ft){var bt=(D-G)*pe,St=0;Me!==Ie?St=-Je*ie-Jd:St=(-ie*ft+.5)*Ie;for(var Yt=0,sr=I;Yt<sr.length;Yt+=1)for(var er=sr[Yt],xr=0,Ur=er.positionedGlyphs;xr<Ur.length;xr+=1){var an=Ur[xr];an.x+=bt,an.y+=St}}function w4(I,D,G){var ie=Hg(G),pe=ie.horizontalAlign,Me=ie.verticalAlign,Ie=D[0],Je=D[1],ft=Ie-I.displaySize[0]*pe,bt=ft+I.displaySize[0],St=Je-I.displaySize[1]*Me,Yt=St+I.displaySize[1];return{image:I,top:St,bottom:Yt,left:ft,right:bt}}function sx(I,D,G,ie,pe,Me){var Ie=I.image,Je;if(Ie.content){var ft=Ie.content,bt=Ie.pixelRatio||1;Je=[ft[0]/bt,ft[1]/bt,Ie.displaySize[0]-ft[2]/bt,Ie.displaySize[1]-ft[3]/bt]}var St=D.left*Me,Yt=D.right*Me,sr,er,xr,Ur;G==="width"||G==="both"?(Ur=pe[0]+St-ie[3],er=pe[0]+Yt+ie[1]):(Ur=pe[0]+(St+Yt-Ie.displaySize[0])/2,er=Ur+Ie.displaySize[0]);var an=D.top*Me,en=D.bottom*Me;return G==="height"||G==="both"?(sr=pe[1]+an-ie[0],xr=pe[1]+en+ie[2]):(sr=pe[1]+(an+en-Ie.displaySize[1])/2,xr=sr+Ie.displaySize[1]),{image:Ie,top:sr,right:er,bottom:xr,left:Ur,collisionPadding:Je}}var Gv=function(I){function D(G,ie,pe,Me){I.call(this,G,ie),this.angle=pe,Me!==void 0&&(this.segment=Me)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(t);ce("Anchor",Gv);var $u=128;function Gg(I,D){var G=D.expression;if(G.kind==="constant"){var ie=G.evaluate(new Un(I+1));return{kind:"constant",layoutSize:ie}}else{if(G.kind==="source")return{kind:"source"};for(var pe=G.zoomStops,Me=G.interpolationType,Ie=0;Ie<pe.length&&pe[Ie]<=I;)Ie++;Ie=Math.max(0,Ie-1);for(var Je=Ie;Je<pe.length&&pe[Je]<I+1;)Je++;Je=Math.min(pe.length-1,Je);var ft=pe[Ie],bt=pe[Je];if(G.kind==="composite")return{kind:"composite",minZoom:ft,maxZoom:bt,interpolationType:Me};var St=G.evaluate(new Un(ft)),Yt=G.evaluate(new Un(bt));return{kind:"camera",minZoom:ft,maxZoom:bt,minSize:St,maxSize:Yt,interpolationType:Me}}}function lx(I,D,G){var ie=D.uSize,pe=D.uSizeT,Me=G.lowerSize,Ie=G.upperSize;return I.kind==="source"?Me/$u:I.kind==="composite"?qi(Me/$u,Ie/$u,pe):ie}function ux(I,D){var G=0,ie=0;if(I.kind==="constant")ie=I.layoutSize;else if(I.kind!=="source"){var pe=I.interpolationType,Me=I.minZoom,Ie=I.maxZoom,Je=pe?u(to.interpolationFactor(pe,D,Me,Ie),0,1):0;I.kind==="camera"?ie=qi(I.minSize,I.maxSize,Je):G=Je}return{uSizeT:G,uSize:ie}}var T4=Object.freeze({__proto__:null,getSizeData:Gg,evaluateSizeForFeature:lx,evaluateSizeForZoom:ux,SIZE_PACK_FACTOR:$u});function fx(I,D,G,ie,pe){if(D.segment===void 0)return!0;for(var Me=D,Ie=D.segment+1,Je=0;Je>-G/2;){if(Ie--,Ie<0)return!1;Je-=I[Ie].dist(Me),Me=I[Ie]}Je+=I[Ie].dist(I[Ie+1]),Ie++;for(var ft=[],bt=0;Je<G/2;){var St=I[Ie-1],Yt=I[Ie],sr=I[Ie+1];if(!sr)return!1;var er=St.angleTo(Yt)-Yt.angleTo(sr);for(er=Math.abs((er+3*Math.PI)%(Math.PI*2)-Math.PI),ft.push({distance:Je,angleDelta:er}),bt+=er;Je-ft[0].distance>ie;)bt-=ft.shift().angleDelta;if(bt>pe)return!1;Ie++,Je+=Yt.dist(sr)}return!0}function cx(I){for(var D=0,G=0;G<I.length-1;G++)D+=I[G].dist(I[G+1]);return D}function hx(I,D,G){return I?.6*D*G:0}function vx(I,D){return Math.max(I?I.right-I.left:0,D?D.right-D.left:0)}function A4(I,D,G,ie,pe,Me){for(var Ie=hx(G,pe,Me),Je=vx(G,ie)*Me,ft=0,bt=cx(I)/2,St=0;St<I.length-1;St++){var Yt=I[St],sr=I[St+1],er=Yt.dist(sr);if(ft+er>bt){var xr=(bt-ft)/er,Ur=qi(Yt.x,sr.x,xr),an=qi(Yt.y,sr.y,xr),en=new Gv(Ur,an,sr.angleTo(Yt),St);return en._round(),!Ie||fx(I,en,Je,Ie,D)?en:void 0}ft+=er}}function S4(I,D,G,ie,pe,Me,Ie,Je,ft){var bt=hx(ie,Me,Ie),St=vx(ie,pe),Yt=St*Ie,sr=I[0].x===0||I[0].x===ft||I[0].y===0||I[0].y===ft;D-Yt<D/4&&(D=Yt+D/4);var er=Me*2,xr=sr?D/2*Je%D:(St/2+er)*Ie*Je%D;return dx(I,xr,D,bt,G,Yt,sr,!1,ft)}function dx(I,D,G,ie,pe,Me,Ie,Je,ft){for(var bt=Me/2,St=cx(I),Yt=0,sr=D-G,er=[],xr=0;xr<I.length-1;xr++){for(var Ur=I[xr],an=I[xr+1],en=Ur.dist(an),Cn=an.angleTo(Ur);sr+G<Yt+en;){sr+=G;var wn=(sr-Yt)/en,Mn=qi(Ur.x,an.x,wn),Fn=qi(Ur.y,an.y,wn);if(Mn>=0&&Mn<ft&&Fn>=0&&Fn<ft&&sr-bt>=0&&sr+bt<=St){var Gn=new Gv(Mn,Fn,Cn,xr);Gn._round(),(!ie||fx(I,Gn,Me,ie,pe))&&er.push(Gn)}}Yt+=en}return!Je&&!er.length&&!Ie&&(er=dx(I,Yt/2,G,ie,pe,Me,Ie,!0,ft)),er}function px(I,D,G,ie,pe){for(var Me=[],Ie=0;Ie<I.length;Ie++)for(var Je=I[Ie],ft=void 0,bt=0;bt<Je.length-1;bt++){var St=Je[bt],Yt=Je[bt+1];St.x<D&&Yt.x<D||(St.x<D?St=new t(D,St.y+(Yt.y-St.y)*((D-St.x)/(Yt.x-St.x)))._round():Yt.x<D&&(Yt=new t(D,St.y+(Yt.y-St.y)*((D-St.x)/(Yt.x-St.x)))._round()),!(St.y<G&&Yt.y<G)&&(St.y<G?St=new t(St.x+(Yt.x-St.x)*((G-St.y)/(Yt.y-St.y)),G)._round():Yt.y<G&&(Yt=new t(St.x+(Yt.x-St.x)*((G-St.y)/(Yt.y-St.y)),G)._round()),!(St.x>=ie&&Yt.x>=ie)&&(St.x>=ie?St=new t(ie,St.y+(Yt.y-St.y)*((ie-St.x)/(Yt.x-St.x)))._round():Yt.x>=ie&&(Yt=new t(ie,St.y+(Yt.y-St.y)*((ie-St.x)/(Yt.x-St.x)))._round()),!(St.y>=pe&&Yt.y>=pe)&&(St.y>=pe?St=new t(St.x+(Yt.x-St.x)*((pe-St.y)/(Yt.y-St.y)),pe)._round():Yt.y>=pe&&(Yt=new t(St.x+(Yt.x-St.x)*((pe-St.y)/(Yt.y-St.y)),pe)._round()),(!ft||!St.equals(ft[ft.length-1]))&&(ft=[St],Me.push(ft)),ft.push(Yt)))))}return Me}var Wv=ul;function gx(I,D,G,ie){var pe=[],Me=I.image,Ie=Me.pixelRatio,Je=Me.paddedRect.w-2*Wv,ft=Me.paddedRect.h-2*Wv,bt=I.right-I.left,St=I.bottom-I.top,Yt=Me.stretchX||[[0,Je]],sr=Me.stretchY||[[0,ft]],er=function(xi,hi){return xi+hi[1]-hi[0]},xr=Yt.reduce(er,0),Ur=sr.reduce(er,0),an=Je-xr,en=ft-Ur,Cn=0,wn=xr,Mn=0,Fn=Ur,Gn=0,qn=an,Qn=0,Pa=en;if(Me.content&&ie){var ga=Me.content;Cn=ip(Yt,0,ga[0]),Mn=ip(sr,0,ga[1]),wn=ip(Yt,ga[0],ga[2]),Fn=ip(sr,ga[1],ga[3]),Gn=ga[0]-Cn,Qn=ga[1]-Mn,qn=ga[2]-ga[0]-wn,Pa=ga[3]-ga[1]-Fn}var wa=function(xi,hi,Ui,Yi){var lo=op(xi.stretch-Cn,wn,bt,I.left),vo=sp(xi.fixed-Gn,qn,xi.stretch,xr),Go=op(hi.stretch-Mn,Fn,St,I.top),Ro=sp(hi.fixed-Qn,Pa,hi.stretch,Ur),ps=op(Ui.stretch-Cn,wn,bt,I.left),gs=sp(Ui.fixed-Gn,qn,Ui.stretch,xr),Wo=op(Yi.stretch-Mn,Fn,St,I.top),Es=sp(Yi.fixed-Qn,Pa,Yi.stretch,Ur),Ls=new t(lo,Go),zo=new t(ps,Go),Ps=new t(ps,Wo),Ll=new t(lo,Wo),yc=new t(vo/Ie,Ro/Ie),uh=new t(gs/Ie,Es/Ie),fh=D*Math.PI/180;if(fh){var ch=Math.sin(fh),Qv=Math.cos(fh),gu=[Qv,-ch,ch,Qv];Ls._matMult(gu),zo._matMult(gu),Ll._matMult(gu),Ps._matMult(gu)}var vp=xi.stretch+xi.fixed,$g=Ui.stretch+Ui.fixed,dp=hi.stretch+hi.fixed,Qg=Yi.stretch+Yi.fixed,Zl={x:Me.paddedRect.x+Wv+vp,y:Me.paddedRect.y+Wv+dp,w:$g-vp,h:Qg-dp},qv=qn/Ie/bt,pp=Pa/Ie/St;return{tl:Ls,tr:zo,bl:Ll,br:Ps,tex:Zl,writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:yc,pixelOffsetBR:uh,minFontScaleX:qv,minFontScaleY:pp,isSDF:G}};if(!ie||!Me.stretchX&&!Me.stretchY)pe.push(wa({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:Je+1},{fixed:0,stretch:ft+1}));else for(var ja=yx(Yt,an,xr),Ca=yx(sr,en,Ur),Ea=0;Ea<ja.length-1;Ea++)for(var ei=ja[Ea],Ya=ja[Ea+1],yi=0;yi<Ca.length-1;yi++){var _i=Ca[yi],mi=Ca[yi+1];pe.push(wa(ei,_i,Ya,mi))}return pe}function ip(I,D,G){for(var ie=0,pe=0,Me=I;pe<Me.length;pe+=1){var Ie=Me[pe];ie+=Math.max(D,Math.min(G,Ie[1]))-Math.max(D,Math.min(G,Ie[0]))}return ie}function yx(I,D,G){for(var ie=[{fixed:-Wv,stretch:0}],pe=0,Me=I;pe<Me.length;pe+=1){var Ie=Me[pe],Je=Ie[0],ft=Ie[1],bt=ie[ie.length-1];ie.push({fixed:Je-bt.stretch,stretch:bt.stretch}),ie.push({fixed:Je-bt.stretch,stretch:bt.stretch+(ft-Je)})}return ie.push({fixed:D+Wv,stretch:G}),ie}function op(I,D,G,ie){return I/D*G+ie}function sp(I,D,G,ie){return I-D*G/ie}function M4(I,D,G,ie,pe,Me,Ie,Je){for(var ft=ie.layout.get("text-rotate").evaluate(Me,{})*Math.PI/180,bt=[],St=0,Yt=D.positionedLines;St<Yt.length;St+=1)for(var sr=Yt[St],er=0,xr=sr.positionedGlyphs;er<xr.length;er+=1){var Ur=xr[er];if(Ur.rect){var an=Ur.rect||{},en=1,Cn=q1+en,wn=!0,Mn=1,Fn=0,Gn=(pe||Je)&&Ur.vertical,qn=Ur.metrics.advance*Ur.scale/2;if(Je&&D.verticalizable){var Qn=(Ur.scale-1)*es,Pa=(es-Ur.metrics.width*Ur.scale)/2;Fn=sr.lineOffset/2-(Ur.imageName?-Pa:Qn)}if(Ur.imageName){var ga=Ie[Ur.imageName];wn=ga.sdf,Mn=ga.pixelRatio,Cn=ul/Mn}var wa=pe?[Ur.x+qn,Ur.y]:[0,0],ja=pe?[0,0]:[Ur.x+qn+G[0],Ur.y+G[1]-Fn],Ca=[0,0];Gn&&(Ca=ja,ja=[0,0]);var Ea=(Ur.metrics.left-Cn)*Ur.scale-qn+ja[0],ei=(-Ur.metrics.top-Cn)*Ur.scale+ja[1],Ya=Ea+an.w*Ur.scale/Mn,yi=ei+an.h*Ur.scale/Mn,_i=new t(Ea,ei),mi=new t(Ya,ei),xi=new t(Ea,yi),hi=new t(Ya,yi);if(Gn){var Ui=new t(-qn,qn-Jd),Yi=-Math.PI/2,lo=es/2-qn,vo=Ur.imageName?lo:0,Go=new t(5-Jd-lo,-vo),Ro=new(Function.prototype.bind.apply(t,[null].concat(Ca)));_i._rotateAround(Yi,Ui)._add(Go)._add(Ro),mi._rotateAround(Yi,Ui)._add(Go)._add(Ro),xi._rotateAround(Yi,Ui)._add(Go)._add(Ro),hi._rotateAround(Yi,Ui)._add(Go)._add(Ro)}if(ft){var ps=Math.sin(ft),gs=Math.cos(ft),Wo=[gs,-ps,ps,gs];_i._matMult(Wo),mi._matMult(Wo),xi._matMult(Wo),hi._matMult(Wo)}var Es=new t(0,0),Ls=new t(0,0),zo=0,Ps=0;bt.push({tl:_i,tr:mi,bl:xi,br:hi,tex:an,writingMode:D.writingMode,glyphOffset:wa,sectionIndex:Ur.sectionIndex,isSDF:wn,pixelOffsetTL:Es,pixelOffsetBR:Ls,minFontScaleX:zo,minFontScaleY:Ps})}}return bt}var lp=function(D,G,ie,pe,Me,Ie,Je,ft,bt,St){if(this.boxStartIndex=D.length,bt){var Yt=Ie.top,sr=Ie.bottom,er=Ie.collisionPadding;er&&(Yt-=er[1],sr+=er[3]);var xr=sr-Yt;xr>0&&(xr=Math.max(10,xr),this.circleDiameter=xr)}else{var Ur=Ie.top*Je-ft,an=Ie.bottom*Je+ft,en=Ie.left*Je-ft,Cn=Ie.right*Je+ft,wn=Ie.collisionPadding;if(wn&&(en-=wn[0]*Je,Ur-=wn[1]*Je,Cn+=wn[2]*Je,an+=wn[3]*Je),St){var Mn=new t(en,Ur),Fn=new t(Cn,Ur),Gn=new t(en,an),qn=new t(Cn,an),Qn=St*Math.PI/180;Mn._rotate(Qn),Fn._rotate(Qn),Gn._rotate(Qn),qn._rotate(Qn),en=Math.min(Mn.x,Fn.x,Gn.x,qn.x),Cn=Math.max(Mn.x,Fn.x,Gn.x,qn.x),Ur=Math.min(Mn.y,Fn.y,Gn.y,qn.y),an=Math.max(Mn.y,Fn.y,Gn.y,qn.y)}D.emplaceBack(G.x,G.y,en,Ur,Cn,an,ie,pe,Me)}this.boxEndIndex=D.length},Yv=function(D,G){if(D===void 0&&(D=[]),G===void 0&&(G=C4),this.data=D,this.length=this.data.length,this.compare=G,this.length>0)for(var ie=(this.length>>1)-1;ie>=0;ie--)this._down(ie)};Yv.prototype.push=function(D){this.data.push(D),this.length++,this._up(this.length-1)},Yv.prototype.pop=function(){if(this.length!==0){var D=this.data[0],G=this.data.pop();return this.length--,this.length>0&&(this.data[0]=G,this._down(0)),D}},Yv.prototype.peek=function(){return this.data[0]},Yv.prototype._up=function(D){for(var G=this,ie=G.data,pe=G.compare,Me=ie[D];D>0;){var Ie=D-1>>1,Je=ie[Ie];if(pe(Me,Je)>=0)break;ie[D]=Je,D=Ie}ie[D]=Me},Yv.prototype._down=function(D){for(var G=this,ie=G.data,pe=G.compare,Me=this.length>>1,Ie=ie[D];D<Me;){var Je=(D<<1)+1,ft=ie[Je],bt=Je+1;if(bt<this.length&&pe(ie[bt],ft)<0&&(Je=bt,ft=ie[bt]),pe(ft,Ie)>=0)break;ie[D]=ft,D=Je}ie[D]=Ie};function C4(I,D){return I<D?-1:I>D?1:0}function E4(I,D,G){D===void 0&&(D=1),G===void 0&&(G=!1);for(var ie=1/0,pe=1/0,Me=-1/0,Ie=-1/0,Je=I[0],ft=0;ft<Je.length;ft++){var bt=Je[ft];(!ft||bt.x<ie)&&(ie=bt.x),(!ft||bt.y<pe)&&(pe=bt.y),(!ft||bt.x>Me)&&(Me=bt.x),(!ft||bt.y>Ie)&&(Ie=bt.y)}var St=Me-ie,Yt=Ie-pe,sr=Math.min(St,Yt),er=sr/2,xr=new Yv([],L4);if(sr===0)return new t(ie,pe);for(var Ur=ie;Ur<Me;Ur+=sr)for(var an=pe;an<Ie;an+=sr)xr.push(new Zv(Ur+er,an+er,er,I));for(var en=R4(I),Cn=xr.length;xr.length;){var wn=xr.pop();(wn.d>en.d||!en.d)&&(en=wn,G&&console.log("found best %d after %d probes",Math.round(1e4*wn.d)/1e4,Cn)),!(wn.max-en.d<=D)&&(er=wn.h/2,xr.push(new Zv(wn.p.x-er,wn.p.y-er,er,I)),xr.push(new Zv(wn.p.x+er,wn.p.y-er,er,I)),xr.push(new Zv(wn.p.x-er,wn.p.y+er,er,I)),xr.push(new Zv(wn.p.x+er,wn.p.y+er,er,I)),Cn+=4)}return G&&(console.log("num probes: "+Cn),console.log("best distance: "+en.d)),en.p}function L4(I,D){return D.max-I.max}function Zv(I,D,G,ie){this.p=new t(I,D),this.h=G,this.d=P4(this.p,ie),this.max=this.d+this.h*Math.SQRT2}function P4(I,D){for(var G=!1,ie=1/0,pe=0;pe<D.length;pe++)for(var Me=D[pe],Ie=0,Je=Me.length,ft=Je-1;Ie<Je;ft=Ie++){var bt=Me[Ie],St=Me[ft];bt.y>I.y!=St.y>I.y&&I.x<(St.x-bt.x)*(I.y-bt.y)/(St.y-bt.y)+bt.x&&(G=!G),ie=Math.min(ie,ju(I,bt,St))}return(G?1:-1)*Math.sqrt(ie)}function R4(I){for(var D=0,G=0,ie=0,pe=I[0],Me=0,Ie=pe.length,Je=Ie-1;Me<Ie;Je=Me++){var ft=pe[Me],bt=pe[Je],St=ft.x*bt.y-bt.x*ft.y;G+=(ft.x+bt.x)*St,ie+=(ft.y+bt.y)*St,D+=St*3}return new Zv(G/D,ie/D,0,I)}var Xv=7,Wg=Number.POSITIVE_INFINITY;function mx(I,D){function G(pe,Me){var Ie=0,Je=0;Me<0&&(Me=0);var ft=Me/Math.sqrt(2);switch(pe){case"top-right":case"top-left":Je=ft-Xv;break;case"bottom-right":case"bottom-left":Je=-ft+Xv;break;case"bottom":Je=-Me+Xv;break;case"top":Je=Me-Xv;break}switch(pe){case"top-right":case"bottom-right":Ie=-ft;break;case"top-left":case"bottom-left":Ie=ft;break;case"left":Ie=Me;break;case"right":Ie=-Me;break}return[Ie,Je]}function ie(pe,Me,Ie){var Je=0,ft=0;switch(Me=Math.abs(Me),Ie=Math.abs(Ie),pe){case"top-right":case"top-left":case"top":ft=Ie-Xv;break;case"bottom-right":case"bottom-left":case"bottom":ft=-Ie+Xv;break}switch(pe){case"top-right":case"bottom-right":case"right":Je=-Me;break;case"top-left":case"bottom-left":case"left":Je=Me;break}return[Je,ft]}return D[1]!==Wg?ie(I,D[0],D[1]):G(I,D[0])}function I4(I,D,G,ie,pe,Me,Ie){I.createArrays();var Je=512*I.overscaling;I.tilePixelRatio=_a/Je,I.compareText={},I.iconsNeedLinear=!1;var ft=I.layers[0].layout,bt=I.layers[0]._unevaluatedLayout._values,St={};if(I.textSizeData.kind==="composite"){var Yt=I.textSizeData,sr=Yt.minZoom,er=Yt.maxZoom;St.compositeTextSizes=[bt["text-size"].possiblyEvaluate(new Un(sr),Ie),bt["text-size"].possiblyEvaluate(new Un(er),Ie)]}if(I.iconSizeData.kind==="composite"){var xr=I.iconSizeData,Ur=xr.minZoom,an=xr.maxZoom;St.compositeIconSizes=[bt["icon-size"].possiblyEvaluate(new Un(Ur),Ie),bt["icon-size"].possiblyEvaluate(new Un(an),Ie)]}St.layoutTextSize=bt["text-size"].possiblyEvaluate(new Un(I.zoom+1),Ie),St.layoutIconSize=bt["icon-size"].possiblyEvaluate(new Un(I.zoom+1),Ie),St.textMaxSize=bt["text-size"].possiblyEvaluate(new Un(18));for(var en=ft.get("text-line-height")*es,Cn=ft.get("text-rotation-alignment")==="map"&&ft.get("symbol-placement")!=="point",wn=ft.get("text-keep-upright"),Mn=ft.get("text-size"),Fn=function(){var Qn=qn[Gn],Pa=ft.get("text-font").evaluate(Qn,{},Ie).join(","),ga=Mn.evaluate(Qn,{},Ie),wa=St.layoutTextSize.evaluate(Qn,{},Ie),ja=St.layoutIconSize.evaluate(Qn,{},Ie),Ca={horizontal:{},vertical:void 0},Ea=Qn.text,ei=[0,0];if(Ea){var Ya=Ea.toString(),yi=ft.get("text-letter-spacing").evaluate(Qn,{},Ie)*es,_i=tr(Ya)?yi:0,mi=ft.get("text-anchor").evaluate(Qn,{},Ie),xi=ft.get("text-variable-anchor");if(!xi){var hi=ft.get("text-radial-offset").evaluate(Qn,{},Ie);hi?ei=mx(mi,[hi*es,Wg]):ei=ft.get("text-offset").evaluate(Qn,{},Ie).map(function(yc){return yc*es})}var Ui=Cn?"center":ft.get("text-justify").evaluate(Qn,{},Ie),Yi=ft.get("symbol-placement"),lo=Yi==="point"?ft.get("text-max-width").evaluate(Qn,{},Ie)*es:0,vo=function(){I.allowVerticalPlacement&&Vt(Ya)&&(Ca.vertical=ap(Ea,D,G,pe,Pa,lo,en,mi,"left",_i,ei,El.vertical,!0,Yi,wa,ga))};if(!Cn&&xi){for(var Go=Ui==="auto"?xi.map(function(yc){return Yg(yc)}):[Ui],Ro=!1,ps=0;ps<Go.length;ps++){var gs=Go[ps];if(!Ca.horizontal[gs])if(Ro)Ca.horizontal[gs]=Ca.horizontal[0];else{var Wo=ap(Ea,D,G,pe,Pa,lo,en,"center",gs,_i,ei,El.horizontal,!1,Yi,wa,ga);Wo&&(Ca.horizontal[gs]=Wo,Ro=Wo.positionedLines.length===1)}}vo()}else{Ui==="auto"&&(Ui=Yg(mi));var Es=ap(Ea,D,G,pe,Pa,lo,en,mi,Ui,_i,ei,El.horizontal,!1,Yi,wa,ga);Es&&(Ca.horizontal[Ui]=Es),vo(),Vt(Ya)&&Cn&&wn&&(Ca.vertical=ap(Ea,D,G,pe,Pa,lo,en,mi,Ui,_i,ei,El.vertical,!1,Yi,wa,ga))}}var Ls=void 0,zo=!1;if(Qn.icon&&Qn.icon.name){var Ps=ie[Qn.icon.name];Ps&&(Ls=w4(pe[Qn.icon.name],ft.get("icon-offset").evaluate(Qn,{},Ie),ft.get("icon-anchor").evaluate(Qn,{},Ie)),zo=Ps.sdf,I.sdfIcons===void 0?I.sdfIcons=Ps.sdf:I.sdfIcons!==Ps.sdf&&H("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Ps.pixelRatio!==I.pixelRatio||ft.get("icon-rotate").constantOr(1)!==0)&&(I.iconsNeedLinear=!0))}var Ll=bx(Ca.horizontal)||Ca.vertical;I.iconsInText=Ll?Ll.iconsInText:!1,(Ll||Ls)&&D4(I,Qn,Ca,Ls,ie,St,wa,ja,ei,zo,Ie)},Gn=0,qn=I.features;Gn<qn.length;Gn+=1)Fn();Me&&I.generateCollisionDebugBuffers()}function Yg(I){switch(I){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function D4(I,D,G,ie,pe,Me,Ie,Je,ft,bt,St){var Yt=Me.textMaxSize.evaluate(D,{});Yt===void 0&&(Yt=Ie);var sr=I.layers[0].layout,er=sr.get("icon-offset").evaluate(D,{},St),xr=bx(G.horizontal),Ur=24,an=Ie/Ur,en=I.tilePixelRatio*an,Cn=I.tilePixelRatio*Yt/Ur,wn=I.tilePixelRatio*Je,Mn=I.tilePixelRatio*sr.get("symbol-spacing"),Fn=sr.get("text-padding")*I.tilePixelRatio,Gn=sr.get("icon-padding")*I.tilePixelRatio,qn=sr.get("text-max-angle")/180*Math.PI,Qn=sr.get("text-rotation-alignment")==="map"&&sr.get("symbol-placement")!=="point",Pa=sr.get("icon-rotation-alignment")==="map"&&sr.get("symbol-placement")!=="point",ga=sr.get("symbol-placement"),wa=Mn/2,ja=sr.get("icon-text-fit"),Ca;ie&&ja!=="none"&&(I.allowVerticalPlacement&&G.vertical&&(Ca=sx(ie,G.vertical,ja,sr.get("icon-text-fit-padding"),er,an)),xr&&(ie=sx(ie,xr,ja,sr.get("icon-text-fit-padding"),er,an)));var Ea=function(Qv,gu){gu.x<0||gu.x>=_a||gu.y<0||gu.y>=_a||k4(I,gu,Qv,G,ie,pe,Ca,I.layers[0],I.collisionBoxArray,D.index,D.sourceLayerIndex,I.index,en,Fn,Qn,ft,wn,Gn,Pa,er,D,Me,bt,St,Ie)};if(ga==="line")for(var ei=0,Ya=px(D.geometry,0,0,_a,_a);ei<Ya.length;ei+=1)for(var yi=Ya[ei],_i=S4(yi,Mn,qn,G.vertical||xr,ie,Ur,Cn,I.overscaling,_a),mi=0,xi=_i;mi<xi.length;mi+=1){var hi=xi[mi],Ui=xr;(!Ui||!_4(I,Ui.text,wa,hi))&&Ea(yi,hi)}else if(ga==="line-center")for(var Yi=0,lo=D.geometry;Yi<lo.length;Yi+=1){var vo=lo[Yi];if(vo.length>1){var Go=A4(vo,qn,G.vertical||xr,ie,Ur,Cn);Go&&Ea(vo,Go)}}else if(D.type==="Polygon")for(var Ro=0,ps=_g(D.geometry,0);Ro<ps.length;Ro+=1){var gs=ps[Ro],Wo=E4(gs,16);Ea(gs[0],new Gv(Wo.x,Wo.y,0))}else if(D.type==="LineString")for(var Es=0,Ls=D.geometry;Es<Ls.length;Es+=1){var zo=Ls[Es];Ea(zo,new Gv(zo[0].x,zo[0].y,0))}else if(D.type==="Point")for(var Ps=0,Ll=D.geometry;Ps<Ll.length;Ps+=1)for(var yc=Ll[Ps],uh=0,fh=yc;uh<fh.length;uh+=1){var ch=fh[uh];Ea([ch],new Gv(ch.x,ch.y,0))}}var $d=255,sh=$d*$u;function xx(I,D,G,ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr){var Ur=M4(D,G,Je,pe,Me,Ie,ie,I.allowVerticalPlacement),an=I.textSizeData,en=null;an.kind==="source"?(en=[$u*pe.layout.get("text-size").evaluate(Ie,{})],en[0]>sh&&H(I.layerIds[0]+': Value for "text-size" is >= '+$d+'. Reduce your "text-size".')):an.kind==="composite"&&(en=[$u*er.compositeTextSizes[0].evaluate(Ie,{},xr),$u*er.compositeTextSizes[1].evaluate(Ie,{},xr)],(en[0]>sh||en[1]>sh)&&H(I.layerIds[0]+': Value for "text-size" is >= '+$d+'. Reduce your "text-size".')),I.addSymbols(I.text,Ur,en,Je,Me,Ie,bt,D,ft.lineStartIndex,ft.lineLength,sr,xr);for(var Cn=0,wn=St;Cn<wn.length;Cn+=1){var Mn=wn[Cn];Yt[Mn]=I.text.placedSymbolArray.length-1}return Ur.length*4}function bx(I){for(var D in I)return I[D];return null}function k4(I,D,G,ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr,er,xr,Ur,an,en,Cn,wn,Mn,Fn,Gn,qn,Qn){var Pa,ga=I.addToLineVertexArray(D,G),wa,ja,Ca,Ea,ei=0,Ya=0,yi=0,_i=0,mi=-1,xi=-1,hi={},Ui=Xe(""),Yi=0,lo=0;if(Je._unevaluatedLayout.getValue("text-radial-offset")===void 0?(Pa=Je.layout.get("text-offset").evaluate(Mn,{},qn).map(function(e0){return e0*es}),Yi=Pa[0],lo=Pa[1]):(Yi=Je.layout.get("text-radial-offset").evaluate(Mn,{},qn)*es,lo=Wg),I.allowVerticalPlacement&&ie.vertical){var vo=Je.layout.get("text-rotate").evaluate(Mn,{},qn),Go=vo+90,Ro=ie.vertical;Ca=new lp(ft,D,bt,St,Yt,Ro,sr,er,xr,Go),Ie&&(Ea=new lp(ft,D,bt,St,Yt,Ie,an,en,xr,Go))}if(pe){var ps=Je.layout.get("icon-rotate").evaluate(Mn,{}),gs=Je.layout.get("icon-text-fit")!=="none",Wo=gx(pe,ps,Gn,gs),Es=Ie?gx(Ie,ps,Gn,gs):void 0;ja=new lp(ft,D,bt,St,Yt,pe,an,en,!1,ps),ei=Wo.length*4;var Ls=I.iconSizeData,zo=null;Ls.kind==="source"?(zo=[$u*Je.layout.get("icon-size").evaluate(Mn,{})],zo[0]>sh&&H(I.layerIds[0]+': Value for "icon-size" is >= '+$d+'. Reduce your "icon-size".')):Ls.kind==="composite"&&(zo=[$u*Fn.compositeIconSizes[0].evaluate(Mn,{},qn),$u*Fn.compositeIconSizes[1].evaluate(Mn,{},qn)],(zo[0]>sh||zo[1]>sh)&&H(I.layerIds[0]+': Value for "icon-size" is >= '+$d+'. Reduce your "icon-size".')),I.addSymbols(I.icon,Wo,zo,wn,Cn,Mn,!1,D,ga.lineStartIndex,ga.lineLength,-1,qn),mi=I.icon.placedSymbolArray.length-1,Es&&(Ya=Es.length*4,I.addSymbols(I.icon,Es,zo,wn,Cn,Mn,El.vertical,D,ga.lineStartIndex,ga.lineLength,-1,qn),xi=I.icon.placedSymbolArray.length-1)}for(var Ps in ie.horizontal){var Ll=ie.horizontal[Ps];if(!wa){Ui=Xe(Ll.text);var yc=Je.layout.get("text-rotate").evaluate(Mn,{},qn);wa=new lp(ft,D,bt,St,Yt,Ll,sr,er,xr,yc)}var uh=Ll.positionedLines.length===1;if(yi+=xx(I,D,Ll,Me,Je,xr,Mn,Ur,ga,ie.vertical?El.horizontal:El.horizontalOnly,uh?Object.keys(ie.horizontal):[Ps],hi,mi,Fn,qn),uh)break}ie.vertical&&(_i+=xx(I,D,ie.vertical,Me,Je,xr,Mn,Ur,ga,El.vertical,["vertical"],hi,xi,Fn,qn));var fh=wa?wa.boxStartIndex:I.collisionBoxArray.length,ch=wa?wa.boxEndIndex:I.collisionBoxArray.length,Qv=Ca?Ca.boxStartIndex:I.collisionBoxArray.length,gu=Ca?Ca.boxEndIndex:I.collisionBoxArray.length,vp=ja?ja.boxStartIndex:I.collisionBoxArray.length,$g=ja?ja.boxEndIndex:I.collisionBoxArray.length,dp=Ea?Ea.boxStartIndex:I.collisionBoxArray.length,Qg=Ea?Ea.boxEndIndex:I.collisionBoxArray.length,Zl=-1,qv=function(e0,zx){return e0&&e0.circleDiameter?Math.max(e0.circleDiameter,zx):zx};Zl=qv(wa,Zl),Zl=qv(Ca,Zl),Zl=qv(ja,Zl),Zl=qv(Ea,Zl);var pp=Zl>-1?1:0;pp&&(Zl*=Qn/es),I.glyphOffsetArray.length>=ki.MAX_GLYPHS&&H("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Mn.sortKey!==void 0&&I.addToSortKeyRanges(I.symbolInstances.length,Mn.sortKey),I.symbolInstances.emplaceBack(D.x,D.y,hi.right>=0?hi.right:-1,hi.center>=0?hi.center:-1,hi.left>=0?hi.left:-1,hi.vertical||-1,mi,xi,Ui,fh,ch,Qv,gu,vp,$g,dp,Qg,bt,yi,_i,ei,Ya,pp,0,sr,Yi,lo,Zl)}function _4(I,D,G,ie){var pe=I.compareText;if(!(D in pe))pe[D]=[];else for(var Me=pe[D],Ie=Me.length-1;Ie>=0;Ie--)if(ie.dist(Me[Ie])<G)return!0;return pe[D].push(ie),!1}var F4=Nv.VectorTileFeature.types,z4=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function up(I,D,G,ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr){var er=Je?Math.min(sh,Math.round(Je[0])):0,xr=Je?Math.min(sh,Math.round(Je[1])):0;I.emplaceBack(D,G,Math.round(ie*32),Math.round(pe*32),Me,Ie,(er<<1)+(ft?1:0),xr,bt*16,St*16,Yt*256,sr*256)}function Zg(I,D,G){I.emplaceBack(D.x,D.y,G),I.emplaceBack(D.x,D.y,G),I.emplaceBack(D.x,D.y,G),I.emplaceBack(D.x,D.y,G)}function O4(I){for(var D=0,G=I.sections;D<G.length;D+=1){var ie=G[D];if(nn(ie.text))return!0}return!1}var jv=function(D){this.layoutVertexArray=new Mf,this.indexArray=new Xu,this.programConfigurations=D,this.segments=new j,this.dynamicLayoutVertexArray=new kd,this.opacityVertexArray=new _d,this.placedSymbolArray=new nh};jv.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},jv.prototype.upload=function(D,G,ie,pe){this.isEmpty()||(ie&&(this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,Bg.members),this.indexBuffer=D.createIndexBuffer(this.indexArray,G),this.dynamicLayoutVertexBuffer=D.createVertexBuffer(this.dynamicLayoutVertexArray,B5.members,!0),this.opacityVertexBuffer=D.createVertexBuffer(this.opacityVertexArray,z4,!0),this.opacityVertexBuffer.itemSize=1),(ie||pe)&&this.programConfigurations.upload(D))},jv.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},ce("SymbolBuffers",jv);var Qd=function(D,G,ie){this.layoutVertexArray=new D,this.layoutAttributes=G,this.indexArray=new ie,this.segments=new j,this.collisionVertexArray=new Us};Qd.prototype.upload=function(D){this.layoutVertexBuffer=D.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=D.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=D.createVertexBuffer(this.collisionVertexArray,N5.members,!0)},Qd.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},ce("CollisionBuffers",Qd);var ki=function(D){this.collisionBoxArray=D.collisionBoxArray,this.zoom=D.zoom,this.overscaling=D.overscaling,this.layers=D.layers,this.layerIds=this.layers.map(function(ft){return ft.id}),this.index=D.index,this.pixelRatio=D.pixelRatio,this.sourceLayerIndex=D.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=_v([]),this.placementViewportMatrix=_v([]);var G=this.layers[0],ie=G._unevaluatedLayout._values;this.textSizeData=Gg(this.zoom,ie["text-size"]),this.iconSizeData=Gg(this.zoom,ie["icon-size"]);var pe=this.layers[0].layout,Me=pe.get("symbol-sort-key"),Ie=pe.get("symbol-z-order");this.sortFeaturesByKey=Ie!=="viewport-y"&&Me.constantOr(1)!==void 0;var Je=Ie==="viewport-y"||Ie==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Je&&(pe.get("text-allow-overlap")||pe.get("icon-allow-overlap")||pe.get("text-ignore-placement")||pe.get("icon-ignore-placement")),pe.get("symbol-placement")==="point"&&(this.writingModes=pe.get("text-writing-mode").map(function(ft){return El[ft]})),this.stateDependentLayerIds=this.layers.filter(function(ft){return ft.isStateDependent()}).map(function(ft){return ft.id}),this.sourceID=D.sourceID};ki.prototype.createArrays=function(){this.text=new jv(new Ja(Bg.members,this.layers,this.zoom,function(D){return/^text/.test(D)})),this.icon=new jv(new Ja(Bg.members,this.layers,this.zoom,function(D){return/^icon/.test(D)})),this.glyphOffsetArray=new Wl,this.lineVertexArray=new Y0,this.symbolInstances=new W0},ki.prototype.calculateGlyphDependencies=function(D,G,ie,pe,Me){for(var Ie=0;Ie<D.length;Ie++)if(G[D.charCodeAt(Ie)]=!0,(ie||pe)&&Me){var Je=Xd[D.charAt(Ie)];Je&&(G[Je.charCodeAt(0)]=!0)}},ki.prototype.populate=function(D,G,ie){var pe=this.layers[0],Me=pe.layout,Ie=Me.get("text-font"),Je=Me.get("text-field"),ft=Me.get("icon-image"),bt=(Je.value.kind!=="constant"||Je.value.value instanceof mo&&!Je.value.value.isEmpty()||Je.value.value.toString().length>0)&&(Ie.value.kind!=="constant"||Ie.value.value.length>0),St=ft.value.kind!=="constant"||!!ft.value.value||Object.keys(ft.parameters).length>0,Yt=Me.get("symbol-sort-key");if(this.features=[],!(!bt&&!St)){for(var sr=G.iconDependencies,er=G.glyphDependencies,xr=G.availableImages,Ur=new Un(this.zoom),an=0,en=D;an<en.length;an+=1){var Cn=en[an],wn=Cn.feature,Mn=Cn.id,Fn=Cn.index,Gn=Cn.sourceLayerIndex,qn=pe._featureFilter.needGeometry,Qn={type:wn.type,id:Mn,properties:wn.properties,geometry:qn?Ei(wn):[]};if(pe._featureFilter.filter(Ur,Qn,ie)){qn||(Qn.geometry=Ei(wn));var Pa=void 0;if(bt){var ga=pe.getValueAndResolveTokens("text-field",Qn,ie,xr),wa=mo.factory(ga);O4(wa)&&(this.hasRTLText=!0),(!this.hasRTLText||Ka()==="unavailable"||this.hasRTLText&&gi.isParsed())&&(Pa=H5(wa,pe,Qn))}var ja=void 0;if(St){var Ca=pe.getValueAndResolveTokens("icon-image",Qn,ie,xr);Ca instanceof Ko?ja=Ca:ja=Ko.fromString(Ca)}if(!(!Pa&&!ja)){var Ea=this.sortFeaturesByKey?Yt.evaluate(Qn,{},ie):void 0,ei={id:Mn,text:Pa,icon:ja,index:Fn,sourceLayerIndex:Gn,geometry:Ei(wn),properties:wn.properties,type:F4[wn.type],sortKey:Ea};if(this.features.push(ei),ja&&(sr[ja.name]=!0),Pa){var Ya=Ie.evaluate(Qn,{},ie).join(","),yi=Me.get("text-rotation-alignment")==="map"&&Me.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(El.vertical)>=0;for(var _i=0,mi=Pa.sections;_i<mi.length;_i+=1){var xi=mi[_i];if(xi.image)sr[xi.image.name]=!0;else{var hi=Vt(Pa.toString()),Ui=xi.fontStack||Ya,Yi=er[Ui]=er[Ui]||{};this.calculateGlyphDependencies(xi.text,Yi,yi,this.allowVerticalPlacement,hi)}}}}}}Me.get("symbol-placement")==="line"&&(this.features=G5(this.features)),this.sortFeaturesByKey&&this.features.sort(function(lo,vo){return lo.sortKey-vo.sortKey})}},ki.prototype.update=function(D,G,ie){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(D,G,this.layers,ie),this.icon.programConfigurations.updatePaintArrays(D,G,this.layers,ie))},ki.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},ki.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},ki.prototype.upload=function(D){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(D),this.iconCollisionBox.upload(D)),this.text.upload(D,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(D,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},ki.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},ki.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},ki.prototype.addToLineVertexArray=function(D,G){var ie=this.lineVertexArray.length;if(D.segment!==void 0){for(var pe=D.dist(G[D.segment+1]),Me=D.dist(G[D.segment]),Ie={},Je=D.segment+1;Je<G.length;Je++)Ie[Je]={x:G[Je].x,y:G[Je].y,tileUnitDistanceFromAnchor:pe},Je<G.length-1&&(pe+=G[Je+1].dist(G[Je]));for(var ft=D.segment||0;ft>=0;ft--)Ie[ft]={x:G[ft].x,y:G[ft].y,tileUnitDistanceFromAnchor:Me},ft>0&&(Me+=G[ft-1].dist(G[ft]));for(var bt=0;bt<G.length;bt++){var St=Ie[bt];this.lineVertexArray.emplaceBack(St.x,St.y,St.tileUnitDistanceFromAnchor)}}return{lineStartIndex:ie,lineLength:this.lineVertexArray.length-ie}},ki.prototype.addSymbols=function(D,G,ie,pe,Me,Ie,Je,ft,bt,St,Yt,sr){for(var er=D.indexArray,xr=D.layoutVertexArray,Ur=D.segments.prepareSegment(4*G.length,xr,er,Ie.sortKey),an=this.glyphOffsetArray.length,en=Ur.vertexLength,Cn=this.allowVerticalPlacement&&Je===El.vertical?Math.PI/2:0,wn=Ie.text&&Ie.text.sections,Mn=0;Mn<G.length;Mn++){var Fn=G[Mn],Gn=Fn.tl,qn=Fn.tr,Qn=Fn.bl,Pa=Fn.br,ga=Fn.tex,wa=Fn.pixelOffsetTL,ja=Fn.pixelOffsetBR,Ca=Fn.minFontScaleX,Ea=Fn.minFontScaleY,ei=Fn.glyphOffset,Ya=Fn.isSDF,yi=Fn.sectionIndex,_i=Ur.vertexLength,mi=ei[1];up(xr,ft.x,ft.y,Gn.x,mi+Gn.y,ga.x,ga.y,ie,Ya,wa.x,wa.y,Ca,Ea),up(xr,ft.x,ft.y,qn.x,mi+qn.y,ga.x+ga.w,ga.y,ie,Ya,ja.x,wa.y,Ca,Ea),up(xr,ft.x,ft.y,Qn.x,mi+Qn.y,ga.x,ga.y+ga.h,ie,Ya,wa.x,ja.y,Ca,Ea),up(xr,ft.x,ft.y,Pa.x,mi+Pa.y,ga.x+ga.w,ga.y+ga.h,ie,Ya,ja.x,ja.y,Ca,Ea),Zg(D.dynamicLayoutVertexArray,ft,Cn),er.emplaceBack(_i,_i+1,_i+2),er.emplaceBack(_i+1,_i+2,_i+3),Ur.vertexLength+=4,Ur.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(ei[0]),(Mn===G.length-1||yi!==G[Mn+1].sectionIndex)&&D.programConfigurations.populatePaintArrays(xr.length,Ie,Ie.index,{},sr,wn&&wn[yi])}D.placedSymbolArray.emplaceBack(ft.x,ft.y,an,this.glyphOffsetArray.length-an,en,bt,St,ft.segment,ie?ie[0]:0,ie?ie[1]:0,pe[0],pe[1],Je,0,!1,0,Yt)},ki.prototype._addCollisionDebugVertex=function(D,G,ie,pe,Me,Ie){return G.emplaceBack(0,0),D.emplaceBack(ie.x,ie.y,pe,Me,Math.round(Ie.x),Math.round(Ie.y))},ki.prototype.addCollisionDebugVertices=function(D,G,ie,pe,Me,Ie,Je){var ft=Me.segments.prepareSegment(4,Me.layoutVertexArray,Me.indexArray),bt=ft.vertexLength,St=Me.layoutVertexArray,Yt=Me.collisionVertexArray,sr=Je.anchorX,er=Je.anchorY;this._addCollisionDebugVertex(St,Yt,Ie,sr,er,new t(D,G)),this._addCollisionDebugVertex(St,Yt,Ie,sr,er,new t(ie,G)),this._addCollisionDebugVertex(St,Yt,Ie,sr,er,new t(ie,pe)),this._addCollisionDebugVertex(St,Yt,Ie,sr,er,new t(D,pe)),ft.vertexLength+=4;var xr=Me.indexArray;xr.emplaceBack(bt,bt+1),xr.emplaceBack(bt+1,bt+2),xr.emplaceBack(bt+2,bt+3),xr.emplaceBack(bt+3,bt),ft.primitiveLength+=4},ki.prototype.addDebugCollisionBoxes=function(D,G,ie,pe){for(var Me=D;Me<G;Me++){var Ie=this.collisionBoxArray.get(Me),Je=Ie.x1,ft=Ie.y1,bt=Ie.x2,St=Ie.y2;this.addCollisionDebugVertices(Je,ft,bt,St,pe?this.textCollisionBox:this.iconCollisionBox,Ie.anchorPoint,ie)}},ki.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Qd(Pv,j1.members,Kh),this.iconCollisionBox=new Qd(Pv,j1.members,Kh);for(var D=0;D<this.symbolInstances.length;D++){var G=this.symbolInstances.get(D);this.addDebugCollisionBoxes(G.textBoxStartIndex,G.textBoxEndIndex,G,!0),this.addDebugCollisionBoxes(G.verticalTextBoxStartIndex,G.verticalTextBoxEndIndex,G,!0),this.addDebugCollisionBoxes(G.iconBoxStartIndex,G.iconBoxEndIndex,G,!1),this.addDebugCollisionBoxes(G.verticalIconBoxStartIndex,G.verticalIconBoxEndIndex,G,!1)}},ki.prototype._deserializeCollisionBoxesForSymbol=function(D,G,ie,pe,Me,Ie,Je,ft,bt){for(var St={},Yt=G;Yt<ie;Yt++){var sr=D.get(Yt);St.textBox={x1:sr.x1,y1:sr.y1,x2:sr.x2,y2:sr.y2,anchorPointX:sr.anchorPointX,anchorPointY:sr.anchorPointY},St.textFeatureIndex=sr.featureIndex;break}for(var er=pe;er<Me;er++){var xr=D.get(er);St.verticalTextBox={x1:xr.x1,y1:xr.y1,x2:xr.x2,y2:xr.y2,anchorPointX:xr.anchorPointX,anchorPointY:xr.anchorPointY},St.verticalTextFeatureIndex=xr.featureIndex;break}for(var Ur=Ie;Ur<Je;Ur++){var an=D.get(Ur);St.iconBox={x1:an.x1,y1:an.y1,x2:an.x2,y2:an.y2,anchorPointX:an.anchorPointX,anchorPointY:an.anchorPointY},St.iconFeatureIndex=an.featureIndex;break}for(var en=ft;en<bt;en++){var Cn=D.get(en);St.verticalIconBox={x1:Cn.x1,y1:Cn.y1,x2:Cn.x2,y2:Cn.y2,anchorPointX:Cn.anchorPointX,anchorPointY:Cn.anchorPointY},St.verticalIconFeatureIndex=Cn.featureIndex;break}return St},ki.prototype.deserializeCollisionBoxes=function(D){this.collisionArrays=[];for(var G=0;G<this.symbolInstances.length;G++){var ie=this.symbolInstances.get(G);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(D,ie.textBoxStartIndex,ie.textBoxEndIndex,ie.verticalTextBoxStartIndex,ie.verticalTextBoxEndIndex,ie.iconBoxStartIndex,ie.iconBoxEndIndex,ie.verticalIconBoxStartIndex,ie.verticalIconBoxEndIndex))}},ki.prototype.hasTextData=function(){return this.text.segments.get().length>0},ki.prototype.hasIconData=function(){return this.icon.segments.get().length>0},ki.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},ki.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},ki.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},ki.prototype.addIndicesForPlacedSymbol=function(D,G){for(var ie=D.placedSymbolArray.get(G),pe=ie.vertexStartIndex+ie.numGlyphs*4,Me=ie.vertexStartIndex;Me<pe;Me+=4)D.indexArray.emplaceBack(Me,Me+1,Me+2),D.indexArray.emplaceBack(Me+1,Me+2,Me+3)},ki.prototype.getSortedSymbolIndexes=function(D){if(this.sortedAngle===D&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var G=Math.sin(D),ie=Math.cos(D),pe=[],Me=[],Ie=[],Je=0;Je<this.symbolInstances.length;++Je){Ie.push(Je);var ft=this.symbolInstances.get(Je);pe.push(Math.round(G*ft.anchorX+ie*ft.anchorY)|0),Me.push(ft.featureIndex)}return Ie.sort(function(bt,St){return pe[bt]-pe[St]||Me[St]-Me[bt]}),Ie},ki.prototype.addToSortKeyRanges=function(D,G){var ie=this.sortKeyRanges[this.sortKeyRanges.length-1];ie&&ie.sortKey===G?ie.symbolInstanceEnd=D+1:this.sortKeyRanges.push({sortKey:G,symbolInstanceStart:D,symbolInstanceEnd:D+1})},ki.prototype.sortFeatures=function(D){var G=this;if(this.sortFeaturesByY&&this.sortedAngle!==D&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(D),this.sortedAngle=D,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var ie=0,pe=this.symbolInstanceIndexes;ie<pe.length;ie+=1){var Me=pe[ie],Ie=this.symbolInstances.get(Me);this.featureSortOrder.push(Ie.featureIndex),[Ie.rightJustifiedTextSymbolIndex,Ie.centerJustifiedTextSymbolIndex,Ie.leftJustifiedTextSymbolIndex].forEach(function(Je,ft,bt){Je>=0&&bt.indexOf(Je)===ft&&G.addIndicesForPlacedSymbol(G.text,Je)}),Ie.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Ie.verticalPlacedTextSymbolIndex),Ie.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.placedIconSymbolIndex),Ie.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Ie.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},ce("SymbolBucket",ki,{omit:["layers","collisionBoxArray","features","compareText"]}),ki.MAX_GLYPHS=65535,ki.addDynamicAttributes=Zg;function B4(I,D){return D.replace(/{([^{}]+)}/g,function(G,ie){return ie in I?String(I[ie]):""})}var N4=new bo({"symbol-placement":new ba(jt.layout_symbol["symbol-placement"]),"symbol-spacing":new ba(jt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new ba(jt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new La(jt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new ba(jt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new ba(jt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new ba(jt.layout_symbol["icon-ignore-placement"]),"icon-optional":new ba(jt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new ba(jt.layout_symbol["icon-rotation-alignment"]),"icon-size":new La(jt.layout_symbol["icon-size"]),"icon-text-fit":new ba(jt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new ba(jt.layout_symbol["icon-text-fit-padding"]),"icon-image":new La(jt.layout_symbol["icon-image"]),"icon-rotate":new La(jt.layout_symbol["icon-rotate"]),"icon-padding":new ba(jt.layout_symbol["icon-padding"]),"icon-keep-upright":new ba(jt.layout_symbol["icon-keep-upright"]),"icon-offset":new La(jt.layout_symbol["icon-offset"]),"icon-anchor":new La(jt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new ba(jt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new ba(jt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new ba(jt.layout_symbol["text-rotation-alignment"]),"text-field":new La(jt.layout_symbol["text-field"]),"text-font":new La(jt.layout_symbol["text-font"]),"text-size":new La(jt.layout_symbol["text-size"]),"text-max-width":new La(jt.layout_symbol["text-max-width"]),"text-line-height":new ba(jt.layout_symbol["text-line-height"]),"text-letter-spacing":new La(jt.layout_symbol["text-letter-spacing"]),"text-justify":new La(jt.layout_symbol["text-justify"]),"text-radial-offset":new La(jt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new ba(jt.layout_symbol["text-variable-anchor"]),"text-anchor":new La(jt.layout_symbol["text-anchor"]),"text-max-angle":new ba(jt.layout_symbol["text-max-angle"]),"text-writing-mode":new ba(jt.layout_symbol["text-writing-mode"]),"text-rotate":new La(jt.layout_symbol["text-rotate"]),"text-padding":new ba(jt.layout_symbol["text-padding"]),"text-keep-upright":new ba(jt.layout_symbol["text-keep-upright"]),"text-transform":new La(jt.layout_symbol["text-transform"]),"text-offset":new La(jt.layout_symbol["text-offset"]),"text-allow-overlap":new ba(jt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new ba(jt.layout_symbol["text-ignore-placement"]),"text-optional":new ba(jt.layout_symbol["text-optional"])}),V4=new bo({"icon-opacity":new La(jt.paint_symbol["icon-opacity"]),"icon-color":new La(jt.paint_symbol["icon-color"]),"icon-halo-color":new La(jt.paint_symbol["icon-halo-color"]),"icon-halo-width":new La(jt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new La(jt.paint_symbol["icon-halo-blur"]),"icon-translate":new ba(jt.paint_symbol["icon-translate"]),"icon-translate-anchor":new ba(jt.paint_symbol["icon-translate-anchor"]),"text-opacity":new La(jt.paint_symbol["text-opacity"]),"text-color":new La(jt.paint_symbol["text-color"],{runtimeType:zn,getOverride:function(I){return I.textColor},hasOverride:function(I){return!!I.textColor}}),"text-halo-color":new La(jt.paint_symbol["text-halo-color"]),"text-halo-width":new La(jt.paint_symbol["text-halo-width"]),"text-halo-blur":new La(jt.paint_symbol["text-halo-blur"]),"text-translate":new ba(jt.paint_symbol["text-translate"]),"text-translate-anchor":new ba(jt.paint_symbol["text-translate-anchor"])}),Xg={paint:V4,layout:N4},Kv=function(D){this.type=D.property.overrides?D.property.overrides.runtimeType:Dr,this.defaultValue=D};Kv.prototype.evaluate=function(D){if(D.formattedSection){var G=this.defaultValue.property.overrides;if(G&&G.hasOverride(D.formattedSection))return G.getOverride(D.formattedSection)}return D.feature&&D.featureState?this.defaultValue.evaluate(D.feature,D.featureState):this.defaultValue.property.specification.default},Kv.prototype.eachChild=function(D){if(!this.defaultValue.isConstant()){var G=this.defaultValue.value;D(G._styleExpression.expression)}},Kv.prototype.outputDefined=function(){return!1},Kv.prototype.serialize=function(){return null},ce("FormatSectionOverride",Kv,{omit:["defaultValue"]});var U4=function(I){function D(G){I.call(this,G,Xg)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(ie,pe){if(I.prototype.recalculate.call(this,ie,pe),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Me=this.layout.get("text-writing-mode");if(Me){for(var Ie=[],Je=0,ft=Me;Je<ft.length;Je+=1){var bt=ft[Je];Ie.indexOf(bt)<0&&Ie.push(bt)}this.layout._values["text-writing-mode"]=Ie}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(ie,pe,Me,Ie){var Je=this.layout.get(ie).evaluate(pe,{},Me,Ie),ft=this._unevaluatedLayout._values[ie];return!ft.isDataDriven()&&!Tl(ft.value)&&Je?B4(pe.properties,Je):Je},D.prototype.createBucket=function(ie){return new ki(ie)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var ie=0,pe=Xg.paint.overridableProperties;ie<pe.length;ie+=1){var Me=pe[ie];if(D.hasPaintOverride(this.layout,Me)){var Ie=this.paint.get(Me),Je=new Kv(Ie),ft=new ol(Je,Ie.property.specification),bt=null;Ie.value.kind==="constant"||Ie.value.kind==="source"?bt=new Ul("source",ft):bt=new Qo("composite",ft,Ie.value.zoomStops,Ie.value._interpolationType),this.paint._values[Me]=new Fi(Ie.property,bt,Ie.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(ie,pe,Me){return!this.layout||pe.isDataDriven()||Me.isDataDriven()?!1:D.hasPaintOverride(this.layout,ie)},D.hasPaintOverride=function(ie,pe){var Me=ie.get("text-field"),Ie=Xg.paint.properties[pe],Je=!1,ft=function(Yt){for(var sr=0,er=Yt;sr<er.length;sr+=1){var xr=er[sr];if(Ie.overrides&&Ie.overrides.hasOverride(xr)){Je=!0;return}}};if(Me.value.kind==="constant"&&Me.value.value instanceof mo)ft(Me.value.value.sections);else if(Me.value.kind==="source"){var bt=function(Yt){if(!Je)if(Yt instanceof rs&&Xi(Yt.value)===ha){var sr=Yt.value;ft(sr.sections)}else Yt instanceof us?ft(Yt.sections):Yt.eachChild(bt)},St=Me.value;St._styleExpression&&bt(St._styleExpression.expression)}return Je},D}(Gi),H4=new bo({"background-color":new ba(jt.paint_background["background-color"]),"background-pattern":new no(jt.paint_background["background-pattern"]),"background-opacity":new ba(jt.paint_background["background-opacity"])}),G4={paint:H4},W4=function(I){function D(G){I.call(this,G,G4)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D}(Gi),Y4=new bo({"raster-opacity":new ba(jt.paint_raster["raster-opacity"]),"raster-hue-rotate":new ba(jt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new ba(jt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new ba(jt.paint_raster["raster-brightness-max"]),"raster-saturation":new ba(jt.paint_raster["raster-saturation"]),"raster-contrast":new ba(jt.paint_raster["raster-contrast"]),"raster-resampling":new ba(jt.paint_raster["raster-resampling"]),"raster-fade-duration":new ba(jt.paint_raster["raster-fade-duration"])}),Z4={paint:Y4},X4=function(I){function D(G){I.call(this,G,Z4)}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D}(Gi);function j4(I){var D=[],G=I.id;return G===void 0&&D.push({message:"layers."+G+': missing required property "id"'}),I.render===void 0&&D.push({message:"layers."+G+': missing required method "render"'}),I.renderingMode&&I.renderingMode!=="2d"&&I.renderingMode!=="3d"&&D.push({message:"layers."+G+': property "renderingMode" must be either "2d" or "3d"'}),D}var K4=function(I){function D(G){I.call(this,G,{}),this.implementation=G}return I&&(D.__proto__=I),D.prototype=Object.create(I&&I.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(ie){this.implementation.onAdd&&this.implementation.onAdd(ie,ie.painter.context.gl)},D.prototype.onRemove=function(ie){this.implementation.onRemove&&this.implementation.onRemove(ie,ie.painter.context.gl)},D}(Gi),J4={circle:MA,heatmap:PA,hillshade:DA,fill:n5,"fill-extrusion":A5,line:z5,symbol:U4,background:W4,raster:X4};function $4(I){return I.type==="custom"?new K4(I):new J4[I.type](I)}var wx=self.HTMLImageElement,Tx=self.HTMLCanvasElement,Ax=self.HTMLVideoElement,Sx=self.ImageData,fp=self.ImageBitmap,ev=function(D,G,ie,pe){this.context=D,this.format=ie,this.texture=D.gl.createTexture(),this.update(G,pe)};ev.prototype.update=function(D,G,ie){var pe=D.width,Me=D.height,Ie=(!this.size||this.size[0]!==pe||this.size[1]!==Me)&&!ie,Je=this,ft=Je.context,bt=ft.gl;if(this.useMipmap=!!(G&&G.useMipmap),bt.bindTexture(bt.TEXTURE_2D,this.texture),ft.pixelStoreUnpackFlipY.set(!1),ft.pixelStoreUnpack.set(1),ft.pixelStoreUnpackPremultiplyAlpha.set(this.format===bt.RGBA&&(!G||G.premultiply!==!1)),Ie)this.size=[pe,Me],D instanceof wx||D instanceof Tx||D instanceof Ax||D instanceof Sx||fp&&D instanceof fp?bt.texImage2D(bt.TEXTURE_2D,0,this.format,this.format,bt.UNSIGNED_BYTE,D):bt.texImage2D(bt.TEXTURE_2D,0,this.format,pe,Me,0,this.format,bt.UNSIGNED_BYTE,D.data);else{var St=ie||{x:0,y:0},Yt=St.x,sr=St.y;D instanceof wx||D instanceof Tx||D instanceof Ax||D instanceof Sx||fp&&D instanceof fp?bt.texSubImage2D(bt.TEXTURE_2D,0,Yt,sr,bt.RGBA,bt.UNSIGNED_BYTE,D):bt.texSubImage2D(bt.TEXTURE_2D,0,Yt,sr,pe,Me,bt.RGBA,bt.UNSIGNED_BYTE,D.data)}this.useMipmap&&this.isSizePowerOfTwo()&&bt.generateMipmap(bt.TEXTURE_2D)},ev.prototype.bind=function(D,G,ie){var pe=this,Me=pe.context,Ie=Me.gl;Ie.bindTexture(Ie.TEXTURE_2D,this.texture),ie===Ie.LINEAR_MIPMAP_NEAREST&&!this.isSizePowerOfTwo()&&(ie=Ie.LINEAR),D!==this.filter&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MAG_FILTER,D),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_MIN_FILTER,ie||D),this.filter=D),G!==this.wrap&&(Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_S,G),Ie.texParameteri(Ie.TEXTURE_2D,Ie.TEXTURE_WRAP_T,G),this.wrap=G)},ev.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1===0},ev.prototype.destroy=function(){var D=this.context,G=D.gl;G.deleteTexture(this.texture),this.texture=null};var jg=function(D){var G=this;this._callback=D,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){G._triggered=!1,G._callback()})};jg.prototype.trigger=function(){var D=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){D._triggered=!1,D._callback()},0))},jg.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Jv=function(D,G,ie){this.target=D,this.parent=G,this.mapId=ie,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},E(["receive","process"],this),this.invoker=new jg(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=F()?D:self};Jv.prototype.send=function(D,G,ie,pe,Me){var Ie=this;Me===void 0&&(Me=!1);var Je=Math.round(Math.random()*1e18).toString(36).substring(0,10);ie&&(this.callbacks[Je]=ie);var ft=q(this.globalScope)?void 0:[];return this.target.postMessage({id:Je,type:D,hasCallback:!!ie,targetMapId:pe,mustQueue:Me,sourceMapId:this.mapId,data:et(G,ft)},ft),{cancel:function(){ie&&delete Ie.callbacks[Je],Ie.target.postMessage({id:Je,type:"<cancel>",targetMapId:pe,sourceMapId:Ie.mapId})}}},Jv.prototype.receive=function(D){var G=D.data,ie=G.id;if(ie&&!(G.targetMapId&&this.mapId!==G.targetMapId))if(G.type==="<cancel>"){delete this.tasks[ie];var pe=this.cancelCallbacks[ie];delete this.cancelCallbacks[ie],pe&&pe()}else F()||G.mustQueue?(this.tasks[ie]=G,this.taskQueue.push(ie),this.invoker.trigger()):this.processTask(ie,G)},Jv.prototype.process=function(){if(this.taskQueue.length){var D=this.taskQueue.shift(),G=this.tasks[D];delete this.tasks[D],this.taskQueue.length&&this.invoker.trigger(),G&&this.processTask(D,G)}},Jv.prototype.processTask=function(D,G){var ie=this;if(G.type==="<response>"){var pe=this.callbacks[D];delete this.callbacks[D],pe&&(G.error?pe(at(G.error)):pe(null,at(G.data)))}else{var Me=!1,Ie=q(this.globalScope)?void 0:[],Je=G.hasCallback?function(sr,er){Me=!0,delete ie.cancelCallbacks[D],ie.target.postMessage({id:D,type:"<response>",sourceMapId:ie.mapId,error:sr?et(sr):null,data:et(er,Ie)},Ie)}:function(sr){Me=!0},ft=null,bt=at(G.data);if(this.parent[G.type])ft=this.parent[G.type](G.sourceMapId,bt,Je);else if(this.parent.getWorkerSource){var St=G.type.split("."),Yt=this.parent.getWorkerSource(G.sourceMapId,St[0],bt.source);ft=Yt[St[1]](bt,Je)}else Je(new Error("Could not find function "+G.type));!Me&&ft&&ft.cancel&&(this.cancelCallbacks[D]=ft.cancel)}},Jv.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};function Q4(I,D,G){D=Math.pow(2,G)-D-1;var ie=Mx(I*256,D*256,G),pe=Mx((I+1)*256,(D+1)*256,G);return ie[0]+","+ie[1]+","+pe[0]+","+pe[1]}function Mx(I,D,G){var ie=2*Math.PI*6378137/256/Math.pow(2,G),pe=I*ie-2*Math.PI*6378137/2,Me=D*ie-2*Math.PI*6378137/2;return[pe,Me]}var Lo=function(D,G){D&&(G?this.setSouthWest(D).setNorthEast(G):D.length===4?this.setSouthWest([D[0],D[1]]).setNorthEast([D[2],D[3]]):this.setSouthWest(D[0]).setNorthEast(D[1]))};Lo.prototype.setNorthEast=function(D){return this._ne=D instanceof Ki?new Ki(D.lng,D.lat):Ki.convert(D),this},Lo.prototype.setSouthWest=function(D){return this._sw=D instanceof Ki?new Ki(D.lng,D.lat):Ki.convert(D),this},Lo.prototype.extend=function(D){var G=this._sw,ie=this._ne,pe,Me;if(D instanceof Ki)pe=D,Me=D;else if(D instanceof Lo){if(pe=D._sw,Me=D._ne,!pe||!Me)return this}else{if(Array.isArray(D))if(D.length===4||D.every(Array.isArray)){var Ie=D;return this.extend(Lo.convert(Ie))}else{var Je=D;return this.extend(Ki.convert(Je))}return this}return!G&&!ie?(this._sw=new Ki(pe.lng,pe.lat),this._ne=new Ki(Me.lng,Me.lat)):(G.lng=Math.min(pe.lng,G.lng),G.lat=Math.min(pe.lat,G.lat),ie.lng=Math.max(Me.lng,ie.lng),ie.lat=Math.max(Me.lat,ie.lat)),this},Lo.prototype.getCenter=function(){return new Ki((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Lo.prototype.getSouthWest=function(){return this._sw},Lo.prototype.getNorthEast=function(){return this._ne},Lo.prototype.getNorthWest=function(){return new Ki(this.getWest(),this.getNorth())},Lo.prototype.getSouthEast=function(){return new Ki(this.getEast(),this.getSouth())},Lo.prototype.getWest=function(){return this._sw.lng},Lo.prototype.getSouth=function(){return this._sw.lat},Lo.prototype.getEast=function(){return this._ne.lng},Lo.prototype.getNorth=function(){return this._ne.lat},Lo.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Lo.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Lo.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Lo.prototype.contains=function(D){var G=Ki.convert(D),ie=G.lng,pe=G.lat,Me=this._sw.lat<=pe&&pe<=this._ne.lat,Ie=this._sw.lng<=ie&&ie<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Ie=this._sw.lng>=ie&&ie>=this._ne.lng),Me&&Ie},Lo.convert=function(D){return!D||D instanceof Lo?D:new Lo(D)};var Cx=63710088e-1,Ki=function(D,G){if(isNaN(D)||isNaN(G))throw new Error("Invalid LngLat object: ("+D+", "+G+")");if(this.lng=+D,this.lat=+G,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ki.prototype.wrap=function(){return new Ki(b(this.lng,-180,180),this.lat)},Ki.prototype.toArray=function(){return[this.lng,this.lat]},Ki.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ki.prototype.distanceTo=function(D){var G=Math.PI/180,ie=this.lat*G,pe=D.lat*G,Me=Math.sin(ie)*Math.sin(pe)+Math.cos(ie)*Math.cos(pe)*Math.cos((D.lng-this.lng)*G),Ie=Cx*Math.acos(Math.min(Me,1));return Ie},Ki.prototype.toBounds=function(D){D===void 0&&(D=0);var G=40075017,ie=360*D/G,pe=ie/Math.cos(Math.PI/180*this.lat);return new Lo(new Ki(this.lng-pe,this.lat-ie),new Ki(this.lng+pe,this.lat+ie))},Ki.convert=function(D){if(D instanceof Ki)return D;if(Array.isArray(D)&&(D.length===2||D.length===3))return new Ki(Number(D[0]),Number(D[1]));if(!Array.isArray(D)&&typeof D=="object"&&D!==null)return new Ki(Number("lng"in D?D.lng:D.lon),Number(D.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var Ex=2*Math.PI*Cx;function Lx(I){return Ex*Math.cos(I*Math.PI/180)}function Px(I){return(180+I)/360}function Rx(I){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+I*Math.PI/360)))/360}function Ix(I,D){return I/Lx(D)}function q4(I){return I*360-180}function Kg(I){var D=180-I*360;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}function eS(I,D){return I*Lx(Kg(D))}function tS(I){return 1/Math.cos(I*Math.PI/180)}var tv=function(D,G,ie){ie===void 0&&(ie=0),this.x=+D,this.y=+G,this.z=+ie};tv.fromLngLat=function(D,G){G===void 0&&(G=0);var ie=Ki.convert(D);return new tv(Px(ie.lng),Rx(ie.lat),Ix(G,ie.lat))},tv.prototype.toLngLat=function(){return new Ki(q4(this.x),Kg(this.y))},tv.prototype.toAltitude=function(){return eS(this.z,this.y)},tv.prototype.meterInMercatorCoordinateUnits=function(){return 1/Ex*tS(Kg(this.y))};var rv=function(D,G,ie){this.z=D,this.x=G,this.y=ie,this.key=qd(0,D,D,G,ie)};rv.prototype.equals=function(D){return this.z===D.z&&this.x===D.x&&this.y===D.y},rv.prototype.url=function(D,G){var ie=Q4(this.x,this.y,this.z),pe=rS(this.z,this.x,this.y);return D[(this.x+this.y)%D.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(G==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",pe).replace("{bbox-epsg-3857}",ie)},rv.prototype.getTilePoint=function(D){var G=Math.pow(2,this.z);return new t((D.x*G-this.x)*_a,(D.y*G-this.y)*_a)},rv.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var Dx=function(D,G){this.wrap=D,this.canonical=G,this.key=qd(D,G.z,G.z,G.x,G.y)},Po=function(D,G,ie,pe,Me){this.overscaledZ=D,this.wrap=G,this.canonical=new rv(ie,+pe,+Me),this.key=qd(G,D,ie,pe,Me)};Po.prototype.equals=function(D){return this.overscaledZ===D.overscaledZ&&this.wrap===D.wrap&&this.canonical.equals(D.canonical)},Po.prototype.scaledTo=function(D){var G=this.canonical.z-D;return D>this.canonical.z?new Po(D,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Po(D,this.wrap,D,this.canonical.x>>G,this.canonical.y>>G)},Po.prototype.calculateScaledKey=function(D,G){var ie=this.canonical.z-D;return D>this.canonical.z?qd(this.wrap*+G,D,this.canonical.z,this.canonical.x,this.canonical.y):qd(this.wrap*+G,D,D,this.canonical.x>>ie,this.canonical.y>>ie)},Po.prototype.isChildOf=function(D){if(D.wrap!==this.wrap)return!1;var G=this.canonical.z-D.canonical.z;return D.overscaledZ===0||D.overscaledZ<this.overscaledZ&&D.canonical.x===this.canonical.x>>G&&D.canonical.y===this.canonical.y>>G},Po.prototype.children=function(D){if(this.overscaledZ>=D)return[new Po(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var G=this.canonical.z+1,ie=this.canonical.x*2,pe=this.canonical.y*2;return[new Po(G,this.wrap,G,ie,pe),new Po(G,this.wrap,G,ie+1,pe),new Po(G,this.wrap,G,ie,pe+1),new Po(G,this.wrap,G,ie+1,pe+1)]},Po.prototype.isLessThan=function(D){return this.wrap<D.wrap?!0:this.wrap>D.wrap?!1:this.overscaledZ<D.overscaledZ?!0:this.overscaledZ>D.overscaledZ?!1:this.canonical.x<D.canonical.x?!0:this.canonical.x>D.canonical.x?!1:this.canonical.y<D.canonical.y},Po.prototype.wrapped=function(){return new Po(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Po.prototype.unwrapTo=function(D){return new Po(this.overscaledZ,D,this.canonical.z,this.canonical.x,this.canonical.y)},Po.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Po.prototype.toUnwrapped=function(){return new Dx(this.wrap,this.canonical)},Po.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Po.prototype.getTilePoint=function(D){return this.canonical.getTilePoint(new tv(D.x-this.wrap,D.y))};function qd(I,D,G,ie,pe){I*=2,I<0&&(I=I*-1-1);var Me=1<<G;return(Me*Me*I+Me*pe+ie).toString(36)+G.toString(36)+D.toString(36)}function rS(I,D,G){for(var ie="",pe,Me=I;Me>0;Me--)pe=1<<Me-1,ie+=(D&pe?1:0)+(G&pe?2:0);return ie}ce("CanonicalTileID",rv),ce("OverscaledTileID",Po,{omit:["posMatrix"]});var pc=function(D,G,ie){if(this.uid=D,G.height!==G.width)throw new RangeError("DEM tiles must be square");if(ie&&ie!=="mapbox"&&ie!=="terrarium")return H('"'+ie+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=G.height;var pe=this.dim=G.height-2;this.data=new Uint32Array(G.data.buffer),this.encoding=ie||"mapbox";for(var Me=0;Me<pe;Me++)this.data[this._idx(-1,Me)]=this.data[this._idx(0,Me)],this.data[this._idx(pe,Me)]=this.data[this._idx(pe-1,Me)],this.data[this._idx(Me,-1)]=this.data[this._idx(Me,0)],this.data[this._idx(Me,pe)]=this.data[this._idx(Me,pe-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(pe,-1)]=this.data[this._idx(pe-1,0)],this.data[this._idx(-1,pe)]=this.data[this._idx(0,pe-1)],this.data[this._idx(pe,pe)]=this.data[this._idx(pe-1,pe-1)]};pc.prototype.get=function(D,G){var ie=new Uint8Array(this.data.buffer),pe=this._idx(D,G)*4,Me=this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox;return Me(ie[pe],ie[pe+1],ie[pe+2])},pc.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},pc.prototype._idx=function(D,G){if(D<-1||D>=this.dim+1||G<-1||G>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(G+1)*this.stride+(D+1)},pc.prototype._unpackMapbox=function(D,G,ie){return(D*256*256+G*256+ie)/10-1e4},pc.prototype._unpackTerrarium=function(D,G,ie){return D*256+G+ie/256-32768},pc.prototype.getPixels=function(){return new Ws({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},pc.prototype.backfillBorder=function(D,G,ie){if(this.dim!==D.dim)throw new Error("dem dimension mismatch");var pe=G*this.dim,Me=G*this.dim+this.dim,Ie=ie*this.dim,Je=ie*this.dim+this.dim;switch(G){case-1:pe=Me-1;break;case 1:Me=pe+1;break}switch(ie){case-1:Ie=Je-1;break;case 1:Je=Ie+1;break}for(var ft=-G*this.dim,bt=-ie*this.dim,St=Ie;St<Je;St++)for(var Yt=pe;Yt<Me;Yt++)this.data[this._idx(Yt,St)]=D.data[this._idx(Yt+ft,St+bt)]},ce("DEMData",pc);function nS(I,D){var G={};if(!D)return G;for(var ie=function(){var Ie=Me[pe],Je=Ie.layerIds.map(function(Yt){return D.getLayer(Yt)}).filter(Boolean);if(Je.length!==0){Ie.layers=Je,Ie.stateDependentLayerIds&&(Ie.stateDependentLayers=Ie.stateDependentLayerIds.map(function(Yt){return Je.filter(function(sr){return sr.id===Yt})[0]}));for(var ft=0,bt=Je;ft<bt.length;ft+=1){var St=bt[ft];G[St.id]=Ie}}},pe=0,Me=I;pe<Me.length;pe+=1)ie();return G}var cp=function(D){this._stringToNumber={},this._numberToString=[];for(var G=0;G<D.length;G++){var ie=D[G];this._stringToNumber[ie]=G,this._numberToString[G]=ie}};cp.prototype.encode=function(D){return this._stringToNumber[D]},cp.prototype.decode=function(D){return this._numberToString[D]};var hp=function(D,G,ie,pe,Me){this.type="Feature",this._vectorTileFeature=D,D._z=G,D._x=ie,D._y=pe,this.properties=D.properties,this.id=Me},Jg={geometry:{configurable:!0}};Jg.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Jg.geometry.set=function(I){this._geometry=I},hp.prototype.toJSON=function(){var D={geometry:this.geometry};for(var G in this)G==="_geometry"||G==="_vectorTileFeature"||(D[G]=this[G]);return D},Object.defineProperties(hp.prototype,Jg);var $v=function(){this.state={},this.stateChanges={},this.deletedStates={}};$v.prototype.updateState=function(D,G,ie){var pe=String(G);if(this.stateChanges[D]=this.stateChanges[D]||{},this.stateChanges[D][pe]=this.stateChanges[D][pe]||{},o(this.stateChanges[D][pe],ie),this.deletedStates[D]===null){this.deletedStates[D]={};for(var Me in this.state[D])Me!==pe&&(this.deletedStates[D][Me]=null)}else{var Ie=this.deletedStates[D]&&this.deletedStates[D][pe]===null;if(Ie){this.deletedStates[D][pe]={};for(var Je in this.state[D][pe])ie[Je]||(this.deletedStates[D][pe][Je]=null)}else for(var ft in ie){var bt=this.deletedStates[D]&&this.deletedStates[D][pe]&&this.deletedStates[D][pe][ft]===null;bt&&delete this.deletedStates[D][pe][ft]}}},$v.prototype.removeFeatureState=function(D,G,ie){var pe=this.deletedStates[D]===null;if(!pe){var Me=String(G);if(this.deletedStates[D]=this.deletedStates[D]||{},ie&&G!==void 0)this.deletedStates[D][Me]!==null&&(this.deletedStates[D][Me]=this.deletedStates[D][Me]||{},this.deletedStates[D][Me][ie]=null);else if(G!==void 0){var Ie=this.stateChanges[D]&&this.stateChanges[D][Me];if(Ie){this.deletedStates[D][Me]={};for(ie in this.stateChanges[D][Me])this.deletedStates[D][Me][ie]=null}else this.deletedStates[D][Me]=null}else this.deletedStates[D]=null}},$v.prototype.getState=function(D,G){var ie=String(G),pe=this.state[D]||{},Me=this.stateChanges[D]||{},Ie=o({},pe[ie],Me[ie]);if(this.deletedStates[D]===null)return{};if(this.deletedStates[D]){var Je=this.deletedStates[D][G];if(Je===null)return{};for(var ft in Je)delete Ie[ft]}return Ie},$v.prototype.initializeTileState=function(D,G){D.setFeatureState(this.state,G)},$v.prototype.coalesceChanges=function(D,G){var ie={};for(var pe in this.stateChanges){this.state[pe]=this.state[pe]||{};var Me={};for(var Ie in this.stateChanges[pe])this.state[pe][Ie]||(this.state[pe][Ie]={}),o(this.state[pe][Ie],this.stateChanges[pe][Ie]),Me[Ie]=this.state[pe][Ie];ie[pe]=Me}for(var Je in this.deletedStates){this.state[Je]=this.state[Je]||{};var ft={};if(this.deletedStates[Je]===null)for(var bt in this.state[Je])ft[bt]={},this.state[Je][bt]={};else for(var St in this.deletedStates[Je]){var Yt=this.deletedStates[Je][St]===null;if(Yt)this.state[Je][St]={};else for(var sr=0,er=Object.keys(this.deletedStates[Je][St]);sr<er.length;sr+=1){var xr=er[sr];delete this.state[Je][St][xr]}ft[St]=this.state[Je][St]}ie[Je]=ie[Je]||{},o(ie[Je],ft)}if(this.stateChanges={},this.deletedStates={},Object.keys(ie).length!==0)for(var Ur in D){var an=D[Ur];an.setFeatureState(ie,G)}};var gc=function(D,G){this.tileID=D,this.x=D.canonical.x,this.y=D.canonical.y,this.z=D.canonical.z,this.grid=new Ba(_a,16,0),this.grid3D=new Ba(_a,16,0),this.featureIndexArray=new Bd,this.promoteId=G};gc.prototype.insert=function(D,G,ie,pe,Me,Ie){var Je=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(ie,pe,Me);for(var ft=Ie?this.grid3D:this.grid,bt=0;bt<G.length;bt++){for(var St=G[bt],Yt=[1/0,1/0,-1/0,-1/0],sr=0;sr<St.length;sr++){var er=St[sr];Yt[0]=Math.min(Yt[0],er.x),Yt[1]=Math.min(Yt[1],er.y),Yt[2]=Math.max(Yt[2],er.x),Yt[3]=Math.max(Yt[3],er.y)}Yt[0]<_a&&Yt[1]<_a&&Yt[2]>=0&&Yt[3]>=0&&ft.insert(Je,Yt[0],Yt[1],Yt[2],Yt[3])}},gc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new Nv.VectorTile(new tp(this.rawTileData)).layers,this.sourceLayerCoder=new cp(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},gc.prototype.query=function(D,G,ie,pe){var Me=this;this.loadVTLayers();for(var Ie=D.params||{},Je=_a/D.tileSize/D.scale,ft=Hu(Ie.filter),bt=D.queryGeometry,St=D.queryPadding*Je,Yt=_x(bt),sr=this.grid.query(Yt.minX-St,Yt.minY-St,Yt.maxX+St,Yt.maxY+St),er=_x(D.cameraQueryGeometry),xr=this.grid3D.query(er.minX-St,er.minY-St,er.maxX+St,er.maxY+St,function(Gn,qn,Qn,Pa){return Pf(D.cameraQueryGeometry,Gn-St,qn-St,Qn+St,Pa+St)}),Ur=0,an=xr;Ur<an.length;Ur+=1){var en=an[Ur];sr.push(en)}sr.sort(aS);for(var Cn={},wn,Mn=function(Gn){var qn=sr[Gn];if(qn!==wn){wn=qn;var Qn=Me.featureIndexArray.get(qn),Pa=null;Me.loadMatchingFeature(Cn,Qn.bucketIndex,Qn.sourceLayerIndex,Qn.featureIndex,ft,Ie.layers,Ie.availableImages,G,ie,pe,function(ga,wa,ja){return Pa||(Pa=Ei(ga)),wa.queryIntersectsFeature(bt,ga,ja,Pa,Me.z,D.transform,Je,D.pixelPosMatrix)})}},Fn=0;Fn<sr.length;Fn++)Mn(Fn);return Cn},gc.prototype.loadMatchingFeature=function(D,G,ie,pe,Me,Ie,Je,ft,bt,St,Yt){var sr=this.bucketLayerIDs[G];if(!(Ie&&!k(Ie,sr))){var er=this.sourceLayerCoder.decode(ie),xr=this.vtLayers[er],Ur=xr.feature(pe);if(Me.filter(new Un(this.tileID.overscaledZ),Ur))for(var an=this.getId(Ur,er),en=0;en<sr.length;en++){var Cn=sr[en];if(!(Ie&&Ie.indexOf(Cn)<0)){var wn=ft[Cn];if(wn){var Mn={};an!==void 0&&St&&(Mn=St.getState(wn.sourceLayer||"_geojsonTileLayer",an));var Fn=bt[Cn];Fn.paint=kx(Fn.paint,wn.paint,Ur,Mn,Je),Fn.layout=kx(Fn.layout,wn.layout,Ur,Mn,Je);var Gn=!Yt||Yt(Ur,wn,Mn);if(Gn){var qn=new hp(Ur,this.z,this.x,this.y,an);qn.layer=Fn;var Qn=D[Cn];Qn===void 0&&(Qn=D[Cn]=[]),Qn.push({featureIndex:pe,feature:qn,intersectionZ:Gn})}}}}}},gc.prototype.lookupSymbolFeatures=function(D,G,ie,pe,Me,Ie,Je,ft){var bt={};this.loadVTLayers();for(var St=Hu(Me),Yt=0,sr=D;Yt<sr.length;Yt+=1){var er=sr[Yt];this.loadMatchingFeature(bt,ie,pe,er,St,Ie,Je,ft,G)}return bt},gc.prototype.hasLayer=function(D){for(var G=0,ie=this.bucketLayerIDs;G<ie.length;G+=1)for(var pe=ie[G],Me=0,Ie=pe;Me<Ie.length;Me+=1){var Je=Ie[Me];if(D===Je)return!0}return!1},gc.prototype.getId=function(D,G){var ie=D.id;if(this.promoteId){var pe=typeof this.promoteId=="string"?this.promoteId:this.promoteId[G];ie=D.properties[pe],typeof ie=="boolean"&&(ie=Number(ie))}return ie},ce("FeatureIndex",gc,{omit:["rawTileData","sourceLayerCoder"]});function kx(I,D,G,ie,pe){return i(I,function(Me,Ie){var Je=D instanceof Ci?D.get(Ie):null;return Je&&Je.evaluate?Je.evaluate(G,ie,pe):Je})}function _x(I){for(var D=1/0,G=1/0,ie=-1/0,pe=-1/0,Me=0,Ie=I;Me<Ie.length;Me+=1){var Je=Ie[Me];D=Math.min(D,Je.x),G=Math.min(G,Je.y),ie=Math.max(ie,Je.x),pe=Math.max(pe,Je.y)}return{minX:D,minY:G,maxX:ie,maxY:pe}}function aS(I,D){return D-I}var iS=3e4,Ho=function(D,G){this.tileID=D,this.uid=M(),this.uses=0,this.tileSize=G,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ho.prototype.registerFadeDuration=function(D){var G=D+this.timeAdded;G<se.now()||this.fadeEndTime&&G<this.fadeEndTime||(this.fadeEndTime=G)},Ho.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ho.prototype.loadVectorData=function(D,G,ie){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",!D){this.collisionBoxArray=new Lf;return}D.featureIndex&&(this.latestFeatureIndex=D.featureIndex,D.rawTileData?(this.latestRawTileData=D.rawTileData,this.latestFeatureIndex.rawTileData=D.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=D.collisionBoxArray,this.buckets=nS(D.buckets,G.style),this.hasSymbolBuckets=!1;for(var pe in this.buckets){var Me=this.buckets[pe];if(Me instanceof ki)if(this.hasSymbolBuckets=!0,ie)Me.justReloaded=!0;else break}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Ie in this.buckets){var Je=this.buckets[Ie];if(Je instanceof ki&&Je.hasRTLText){this.hasRTLText=!0,Si();break}}this.queryPadding=0;for(var ft in this.buckets){var bt=this.buckets[ft];this.queryPadding=Math.max(this.queryPadding,G.style.getLayer(ft).queryRadius(bt))}D.imageAtlas&&(this.imageAtlas=D.imageAtlas),D.glyphAtlasImage&&(this.glyphAtlasImage=D.glyphAtlasImage)},Ho.prototype.unloadVectorData=function(){for(var D in this.buckets)this.buckets[D].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ho.prototype.getBucket=function(D){return this.buckets[D.id]},Ho.prototype.upload=function(D){for(var G in this.buckets){var ie=this.buckets[G];ie.uploadPending()&&ie.upload(D)}var pe=D.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ev(D,this.imageAtlas.image,pe.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ev(D,this.glyphAtlasImage,pe.ALPHA),this.glyphAtlasImage=null)},Ho.prototype.prepare=function(D){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(D,this.imageAtlasTexture)},Ho.prototype.queryRenderedFeatures=function(D,G,ie,pe,Me,Ie,Je,ft,bt,St){return!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData?{}:this.latestFeatureIndex.query({queryGeometry:pe,cameraQueryGeometry:Me,scale:Ie,tileSize:this.tileSize,pixelPosMatrix:St,transform:ft,params:Je,queryPadding:this.queryPadding*bt},D,G,ie)},Ho.prototype.querySourceFeatures=function(D,G){var ie=this.latestFeatureIndex;if(!(!ie||!ie.rawTileData)){var pe=ie.loadVTLayers(),Me=G?G.sourceLayer:"",Ie=pe._geojsonTileLayer||pe[Me];if(Ie)for(var Je=Hu(G&&G.filter),ft=this.tileID.canonical,bt=ft.z,St=ft.x,Yt=ft.y,sr={z:bt,x:St,y:Yt},er=0;er<Ie.length;er++){var xr=Ie.feature(er);if(Je.filter(new Un(this.tileID.overscaledZ),xr)){var Ur=ie.getId(xr,Me),an=new hp(xr,bt,St,Yt,Ur);an.tile=sr,D.push(an)}}}},Ho.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ho.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ho.prototype.setExpiryData=function(D){var G=this.expirationTime;if(D.cacheControl){var ie=U(D.cacheControl);ie["max-age"]&&(this.expirationTime=Date.now()+ie["max-age"]*1e3)}else D.expires&&(this.expirationTime=new Date(D.expires).getTime());if(this.expirationTime){var pe=Date.now(),Me=!1;if(this.expirationTime>pe)Me=!1;else if(!G)Me=!0;else if(this.expirationTime<G)Me=!0;else{var Ie=this.expirationTime-G;Ie?this.expirationTime=pe+Math.max(Ie,iS):Me=!0}Me?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ho.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ho.prototype.setFeatureState=function(D,G){if(!(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(D).length===0)){var ie=this.latestFeatureIndex.loadVTLayers();for(var pe in this.buckets)if(G.style.hasLayer(pe)){var Me=this.buckets[pe],Ie=Me.layers[0].sourceLayer||"_geojsonTileLayer",Je=ie[Ie],ft=D[Ie];if(!(!Je||!ft||Object.keys(ft).length===0)){Me.update(ft,Je,this.imageAtlas&&this.imageAtlas.patternPositions||{});var bt=G&&G.style&&G.style.getLayer(pe);bt&&(this.queryPadding=Math.max(this.queryPadding,bt.queryRadius(Me)))}}}},Ho.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ho.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<se.now()},Ho.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ho.prototype.setHoldDuration=function(D){this.symbolFadeHoldUntil=se.now()+D},Ho.prototype.setDependencies=function(D,G){for(var ie={},pe=0,Me=G;pe<Me.length;pe+=1){var Ie=Me[pe];ie[Ie]=!0}this.dependencies[D]=ie},Ho.prototype.hasDependency=function(D,G){for(var ie=0,pe=D;ie<pe.length;ie+=1){var Me=pe[ie],Ie=this.dependencies[Me];if(Ie)for(var Je=0,ft=G;Je<ft.length;Je+=1){var bt=ft[Je];if(Ie[bt])return!0}}return!1};var oS=["type","source","source-layer","minzoom","maxzoom","filter","layout"],lh=self.performance,Fx=function(D){this._marks={start:[D.url,"start"].join("#"),end:[D.url,"end"].join("#"),measure:D.url.toString()},lh.mark(this._marks.start)};Fx.prototype.finish=function(){lh.mark(this._marks.end);var D=lh.getEntriesByName(this._marks.measure);return D.length===0&&(lh.measure(this._marks.measure,this._marks.start,this._marks.end),D=lh.getEntriesByName(this._marks.measure),lh.clearMarks(this._marks.start),lh.clearMarks(this._marks.end),lh.clearMeasures(this._marks.measure)),D},n.Actor=Jv,n.AlphaImage=qh,n.CanonicalTileID=rv,n.CollisionBoxArray=Lf,n.Color=pi,n.DEMData=pc,n.DataConstantProperty=ba,n.DictionaryCoder=cp,n.EXTENT=_a,n.ErrorEvent=ir,n.EvaluationParameters=Un,n.Event=Xt,n.Evented=ur,n.FeatureIndex=gc,n.FillBucket=Ku,n.FillExtrusionBucket=Ju,n.ImageAtlas=Kd,n.ImagePosition=np,n.LineBucket=Ys,n.LngLat=Ki,n.LngLatBounds=Lo,n.MercatorCoordinate=tv,n.ONE_EM=es,n.OverscaledTileID=Po,n.Point=t,n.Point$1=t,n.Properties=bo,n.Protobuf=tp,n.RGBAImage=Ws,n.RequestManager=Ee,n.RequestPerformance=Fx,n.ResourceType=yt,n.SegmentVector=j,n.SourceFeatureState=$v,n.StructArrayLayout1ui2=rh,n.StructArrayLayout2f1f2i16=Zu,n.StructArrayLayout2i4=Zh,n.StructArrayLayout3ui6=Xu,n.StructArrayLayout4i8=Sf,n.SymbolBucket=ki,n.Texture=ev,n.Tile=Ho,n.Transitionable=ri,n.Uniform1f=Gr,n.Uniform1i=Yr,n.Uniform2f=qr,n.Uniform3f=un,n.Uniform4f=En,n.UniformColor=On,n.UniformMatrix4f=Kn,n.UnwrappedTileID=Dx,n.ValidationError=Sr,n.WritingMode=El,n.ZoomHistory=Pt,n.add=zv,n.addDynamicAttributes=Zg,n.asyncAll=f,n.bezier=s,n.bindAll=E,n.browser=se,n.cacheEntryPossiblyAdded=Ut,n.clamp=u,n.clearTileCache=Et,n.clipLine=px,n.clone=j0,n.clone$1=A,n.clone$2=Mg,n.collisionCircleLayout=V5,n.config=Q,n.create=kv,n.create$1=$h,n.create$2=Jh,n.createCommonjsModule=C,n.createExpression=Vl,n.createLayout=Oi,n.createStyleLayer=$4,n.cross=gA,n.deepEqual=l,n.dot=pA,n.dot$1=wA,n.ease=c,n.emitValidationErrors=ka,n.endsWith=T,n.enforceCacheSizeLimit=Gt,n.evaluateSizeForFeature=lx,n.evaluateSizeForZoom=ux,n.evaluateVariableOffset=mx,n.evented=Aa,n.extend=o,n.featureFilter=Hu,n.filterObject=R,n.fromRotation=Dv,n.getAnchorAlignment=Hg,n.getAnchorJustification=Yg,n.getArrayBuffer=Tt,n.getImage=Ze,n.getJSON=xt,n.getRTLTextPluginStatus=Ka,n.getReferrer=Zt,n.getVideo=Ye,n.identity=_v,n.invert=ah,n.isChar=ct,n.isMapboxURL=Te,n.keysDifference=v,n.makeRequest=lt,n.mapObject=i,n.mercatorXfromLng=Px,n.mercatorYfromLat=Rx,n.mercatorZfromAltitude=Ix,n.mul=Sg,n.multiply=ih,n.mvt=Nv,n.normalize=Vd,n.number=qi,n.offscreenCanvasSupported=Fr,n.ortho=Ag,n.parseGlyphPBF=v4,n.pbf=tp,n.performSymbolLayout=I4,n.perspective=Nd,n.pick=d,n.plugin=gi,n.polygonIntersectsPolygon=$a,n.postMapLoadEvent=je,n.postTurnstileEvent=Rt,n.potpack=ex,n.refProperties=oS,n.register=ce,n.registerForPluginStateChange=Ia,n.rotate=vs,n.rotateX=Gs,n.rotateZ=Fv,n.scale=Hs,n.scale$1=bA,n.scale$2=Eg,n.setCacheLimits=$t,n.setRTLTextPlugin=Za,n.sphericalToCartesian=O,n.sqrLen=SA,n.styleSpec=jt,n.sub=mA,n.symbolSize=T4,n.transformMat3=yA,n.transformMat4=K0,n.translate=ho,n.triggerPluginCompletionEvent=sa,n.uniqueId=M,n.validateCustomStyleLayer=j4,n.validateLight=Tn,n.validateStyle=bn,n.values=w,n.vectorTile=Nv,n.version=y,n.warnOnce=H,n.webpSupported=ee,n.window=self,n.wrap=b}),L(["./shared"],function(n){function C(ut){var lt=typeof ut;if(lt==="number"||lt==="boolean"||lt==="string"||ut===void 0||ut===null)return JSON.stringify(ut);if(Array.isArray(ut)){for(var xt="[",Tt=0,Ct=ut;Tt<Ct.length;Tt+=1){var At=Ct[Tt];xt+=C(At)+","}return xt+"]"}for(var zt=Object.keys(ut).sort(),Ht="{",qt=0;qt<zt.length;qt++)Ht+=JSON.stringify(zt[qt])+":"+C(ut[zt[qt]])+",";return Ht+"}"}function y(ut){for(var lt="",xt=0,Tt=n.refProperties;xt<Tt.length;xt+=1){var Ct=Tt[xt];lt+="/"+C(ut[Ct])}return lt}function h(ut,lt){for(var xt={},Tt=0;Tt<ut.length;Tt++){var Ct=lt&&lt[ut[Tt].id]||y(ut[Tt]);lt&&(lt[ut[Tt].id]=Ct);var At=xt[Ct];At||(At=xt[Ct]=[]),At.push(ut[Tt])}var zt=[];for(var Ht in xt)zt.push(xt[Ht]);return zt}var g=function(lt){this.keyCache={},lt&&this.replace(lt)};g.prototype.replace=function(lt){this._layerConfigs={},this._layers={},this.update(lt,[])},g.prototype.update=function(lt,xt){for(var Tt=this,Ct=0,At=lt;Ct<At.length;Ct+=1){var zt=At[Ct];this._layerConfigs[zt.id]=zt;var Ht=this._layers[zt.id]=n.createStyleLayer(zt);Ht._featureFilter=n.featureFilter(Ht.filter),this.keyCache[zt.id]&&delete this.keyCache[zt.id]}for(var qt=0,Qt=xt;qt<Qt.length;qt+=1){var or=Qt[qt];delete this.keyCache[or],delete this._layerConfigs[or],delete this._layers[or]}this.familiesBySource={};for(var Lr=h(n.values(this._layerConfigs),this.keyCache),Ze=0,Ye=Lr;Ze<Ye.length;Ze+=1){var It=Ye[Ze],kt=It.map(function(hr){return Tt._layers[hr.id]}),Xt=kt[0];if(Xt.visibility!=="none"){var ir=Xt.source||"",ur=this.familiesBySource[ir];ur||(ur=this.familiesBySource[ir]={});var nr=Xt.sourceLayer||"_geojsonTileLayer",Nt=ur[nr];Nt||(Nt=ur[nr]=[]),Nt.push(kt)}}};var t=1,r=function(lt){var xt={},Tt=[];for(var Ct in lt){var At=lt[Ct],zt=xt[Ct]={};for(var Ht in At){var qt=At[+Ht];if(!(!qt||qt.bitmap.width===0||qt.bitmap.height===0)){var Qt={x:0,y:0,w:qt.bitmap.width+2*t,h:qt.bitmap.height+2*t};Tt.push(Qt),zt[Ht]={rect:Qt,metrics:qt.metrics}}}}var or=n.potpack(Tt),Lr=or.w,Ze=or.h,Ye=new n.AlphaImage({width:Lr||1,height:Ze||1});for(var It in lt){var kt=lt[It];for(var Xt in kt){var ir=kt[+Xt];if(!(!ir||ir.bitmap.width===0||ir.bitmap.height===0)){var ur=xt[It][Xt].rect;n.AlphaImage.copy(ir.bitmap,Ye,{x:0,y:0},{x:ur.x+t,y:ur.y+t},ir.bitmap)}}}this.image=Ye,this.positions=xt};n.register("GlyphAtlas",r);var l=function(lt){this.tileID=new n.OverscaledTileID(lt.tileID.overscaledZ,lt.tileID.wrap,lt.tileID.canonical.z,lt.tileID.canonical.x,lt.tileID.canonical.y),this.uid=lt.uid,this.zoom=lt.zoom,this.pixelRatio=lt.pixelRatio,this.tileSize=lt.tileSize,this.source=lt.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=lt.showCollisionBoxes,this.collectResourceTiming=!!lt.collectResourceTiming,this.returnDependencies=!!lt.returnDependencies,this.promoteId=lt.promoteId};l.prototype.parse=function(lt,xt,Tt,Ct,At){var zt=this;this.status="parsing",this.data=lt,this.collisionBoxArray=new n.CollisionBoxArray;var Ht=new n.DictionaryCoder(Object.keys(lt.layers).sort()),qt=new n.FeatureIndex(this.tileID,this.promoteId);qt.bucketLayerIDs=[];var Qt={},or={featureIndex:qt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Tt},Lr=xt.familiesBySource[this.source];for(var Ze in Lr){var Ye=lt.layers[Ze];if(Ye){Ye.version===1&&n.warnOnce('Vector tile source "'+this.source+'" layer "'+Ze+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var It=Ht.encode(Ze),kt=[],Xt=0;Xt<Ye.length;Xt++){var ir=Ye.feature(Xt),ur=qt.getId(ir,Ze);kt.push({feature:ir,id:ur,index:Xt,sourceLayerIndex:It})}for(var nr=0,Nt=Lr[Ze];nr<Nt.length;nr+=1){var hr=Nt[nr],pr=hr[0];if(!(pr.minzoom&&this.zoom<Math.floor(pr.minzoom))&&!(pr.maxzoom&&this.zoom>=pr.maxzoom)&&pr.visibility!=="none"){a(hr,this.zoom,Tt);var gr=Qt[pr.id]=pr.createBucket({index:qt.bucketLayerIDs.length,layers:hr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:It,sourceID:this.source});gr.populate(kt,or,this.tileID.canonical),qt.bucketLayerIDs.push(hr.map(function(br){return br.id}))}}}}var dr,Xr,Br,Or,mn=n.mapObject(or.glyphDependencies,function(br){return Object.keys(br).map(Number)});Object.keys(mn).length?Ct.send("getGlyphs",{uid:this.uid,stacks:mn},function(br,wr){dr||(dr=br,Xr=wr,kn.call(zt))}):Xr={};var Jr=Object.keys(or.iconDependencies);Jr.length?Ct.send("getImages",{icons:Jr,source:this.source,tileID:this.tileID,type:"icons"},function(br,wr){dr||(dr=br,Br=wr,kn.call(zt))}):Br={};var _n=Object.keys(or.patternDependencies);_n.length?Ct.send("getImages",{icons:_n,source:this.source,tileID:this.tileID,type:"patterns"},function(br,wr){dr||(dr=br,Or=wr,kn.call(zt))}):Or={},kn.call(this);function kn(){if(dr)return At(dr);if(Xr&&Br&&Or){var br=new r(Xr),wr=new n.ImageAtlas(Br,Or);for(var Nr in Qt){var Vr=Qt[Nr];Vr instanceof n.SymbolBucket?(a(Vr.layers,this.zoom,Tt),n.performSymbolLayout(Vr,Xr,br.positions,Br,wr.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Vr.hasPattern&&(Vr instanceof n.LineBucket||Vr instanceof n.FillBucket||Vr instanceof n.FillExtrusionBucket)&&(a(Vr.layers,this.zoom,Tt),Vr.addFeatures(or,this.tileID.canonical,wr.patternPositions))}this.status="done",At(null,{buckets:n.values(Qt).filter(function(tn){return!tn.isEmpty()}),featureIndex:qt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:br.image,imageAtlas:wr,glyphMap:this.returnDependencies?Xr:null,iconMap:this.returnDependencies?Br:null,glyphPositions:this.returnDependencies?br.positions:null})}}};function a(ut,lt,xt){for(var Tt=new n.EvaluationParameters(lt),Ct=0,At=ut;Ct<At.length;Ct+=1){var zt=At[Ct];zt.recalculate(Tt,xt)}}function s(ut,lt){var xt=n.getArrayBuffer(ut.request,function(Tt,Ct,At,zt){Tt?lt(Tt):Ct&&lt(null,{vectorTile:new n.vectorTile.VectorTile(new n.pbf(Ct)),rawData:Ct,cacheControl:At,expires:zt})});return function(){xt.cancel(),lt()}}var c=function(lt,xt,Tt,Ct){this.actor=lt,this.layerIndex=xt,this.availableImages=Tt,this.loadVectorData=Ct||s,this.loading={},this.loaded={}};c.prototype.loadTile=function(lt,xt){var Tt=this,Ct=lt.uid;this.loading||(this.loading={});var At=lt&&lt.request&&lt.request.collectResourceTiming?new n.RequestPerformance(lt.request):!1,zt=this.loading[Ct]=new l(lt);zt.abort=this.loadVectorData(lt,function(Ht,qt){if(delete Tt.loading[Ct],Ht||!qt)return zt.status="done",Tt.loaded[Ct]=zt,xt(Ht);var Qt=qt.rawData,or={};qt.expires&&(or.expires=qt.expires),qt.cacheControl&&(or.cacheControl=qt.cacheControl);var Lr={};if(At){var Ze=At.finish();Ze&&(Lr.resourceTiming=JSON.parse(JSON.stringify(Ze)))}zt.vectorTile=qt.vectorTile,zt.parse(qt.vectorTile,Tt.layerIndex,Tt.availableImages,Tt.actor,function(Ye,It){if(Ye||!It)return xt(Ye);xt(null,n.extend({rawTileData:Qt.slice(0)},It,or,Lr))}),Tt.loaded=Tt.loaded||{},Tt.loaded[Ct]=zt})},c.prototype.reloadTile=function(lt,xt){var Tt=this,Ct=this.loaded,At=lt.uid,zt=this;if(Ct&&Ct[At]){var Ht=Ct[At];Ht.showCollisionBoxes=lt.showCollisionBoxes;var qt=function(Qt,or){var Lr=Ht.reloadCallback;Lr&&(delete Ht.reloadCallback,Ht.parse(Ht.vectorTile,zt.layerIndex,Tt.availableImages,zt.actor,Lr)),xt(Qt,or)};Ht.status==="parsing"?Ht.reloadCallback=qt:Ht.status==="done"&&(Ht.vectorTile?Ht.parse(Ht.vectorTile,this.layerIndex,this.availableImages,this.actor,qt):qt())}},c.prototype.abortTile=function(lt,xt){var Tt=this.loading,Ct=lt.uid;Tt&&Tt[Ct]&&Tt[Ct].abort&&(Tt[Ct].abort(),delete Tt[Ct]),xt()},c.prototype.removeTile=function(lt,xt){var Tt=this.loaded,Ct=lt.uid;Tt&&Tt[Ct]&&delete Tt[Ct],xt()};var u=n.window.ImageBitmap,b=function(){this.loaded={}};b.prototype.loadTile=function(lt,xt){var Tt=lt.uid,Ct=lt.encoding,At=lt.rawImageData,zt=u&&At instanceof u?this.getImageData(At):At,Ht=new n.DEMData(Tt,zt,Ct);this.loaded=this.loaded||{},this.loaded[Tt]=Ht,xt(null,Ht)},b.prototype.getImageData=function(lt){(!this.offscreenCanvas||!this.offscreenCanvasContext)&&(this.offscreenCanvas=new OffscreenCanvas(lt.width,lt.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=lt.width,this.offscreenCanvas.height=lt.height,this.offscreenCanvasContext.drawImage(lt,0,0,lt.width,lt.height);var xt=this.offscreenCanvasContext.getImageData(-1,-1,lt.width+2,lt.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:xt.width,height:xt.height},xt.data)},b.prototype.removeTile=function(lt){var xt=this.loaded,Tt=lt.uid;xt&&xt[Tt]&&delete xt[Tt]};var f=w;function w(ut,lt){var xt=ut&&ut.type,Tt;if(xt==="FeatureCollection")for(Tt=0;Tt<ut.features.length;Tt++)w(ut.features[Tt],lt);else if(xt==="GeometryCollection")for(Tt=0;Tt<ut.geometries.length;Tt++)w(ut.geometries[Tt],lt);else if(xt==="Feature")w(ut.geometry,lt);else if(xt==="Polygon")v(ut.coordinates,lt);else if(xt==="MultiPolygon")for(Tt=0;Tt<ut.coordinates.length;Tt++)v(ut.coordinates[Tt],lt);return ut}function v(ut,lt){if(ut.length!==0){o(ut[0],lt);for(var xt=1;xt<ut.length;xt++)o(ut[xt],!lt)}}function o(ut,lt){for(var xt=0,Tt=0,Ct=ut.length,At=Ct-1;Tt<Ct;At=Tt++)xt+=(ut[Tt][0]-ut[At][0])*(ut[At][1]+ut[Tt][1]);xt>=0!=!!lt&&ut.reverse()}var d=n.vectorTile.VectorTileFeature.prototype.toGeoJSON,S=function(lt){this._feature=lt,this.extent=n.EXTENT,this.type=lt.type,this.properties=lt.tags,"id"in lt&&!isNaN(lt.id)&&(this.id=parseInt(lt.id,10))};S.prototype.loadGeometry=function(){if(this._feature.type===1){for(var lt=[],xt=0,Tt=this._feature.geometry;xt<Tt.length;xt+=1){var Ct=Tt[xt];lt.push([new n.Point$1(Ct[0],Ct[1])])}return lt}else{for(var At=[],zt=0,Ht=this._feature.geometry;zt<Ht.length;zt+=1){for(var qt=Ht[zt],Qt=[],or=0,Lr=qt;or<Lr.length;or+=1){var Ze=Lr[or];Qt.push(new n.Point$1(Ze[0],Ze[1]))}At.push(Qt)}return At}},S.prototype.toGeoJSON=function(lt,xt,Tt){return d.call(this,lt,xt,Tt)};var M=function(lt){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=lt.length,this._features=lt};M.prototype.feature=function(lt){return new S(this._features[lt])};var P=n.vectorTile.VectorTileFeature,x=E;function E(ut,lt){this.options=lt||{},this.features=ut,this.length=ut.length}E.prototype.feature=function(ut){return new T(this.features[ut],this.options.extent)};function T(ut,lt){this.id=typeof ut.id=="number"?ut.id:void 0,this.type=ut.type,this.rawGeometry=ut.type===1?[ut.geometry]:ut.geometry,this.properties=ut.tags,this.extent=lt||4096}T.prototype.loadGeometry=function(){var ut=this.rawGeometry;this.geometry=[];for(var lt=0;lt<ut.length;lt++){for(var xt=ut[lt],Tt=[],Ct=0;Ct<xt.length;Ct++)Tt.push(new n.Point$1(xt[Ct][0],xt[Ct][1]));this.geometry.push(Tt)}return this.geometry},T.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var ut=this.geometry,lt=1/0,xt=-1/0,Tt=1/0,Ct=-1/0,At=0;At<ut.length;At++)for(var zt=ut[At],Ht=0;Ht<zt.length;Ht++){var qt=zt[Ht];lt=Math.min(lt,qt.x),xt=Math.max(xt,qt.x),Tt=Math.min(Tt,qt.y),Ct=Math.max(Ct,qt.y)}return[lt,Tt,xt,Ct]},T.prototype.toGeoJSON=P.prototype.toGeoJSON;var i=_,R=_,A=H,k=x;function _(ut){var lt=new n.pbf;return z(ut,lt),lt.finish()}function H(ut,lt){lt=lt||{};var xt={};for(var Tt in ut)xt[Tt]=new x(ut[Tt].features,lt),xt[Tt].name=Tt,xt[Tt].version=lt.version,xt[Tt].extent=lt.extent;return _({layers:xt})}function z(ut,lt){for(var xt in ut.layers)lt.writeMessage(3,N,ut.layers[xt])}function N(ut,lt){lt.writeVarintField(15,ut.version||1),lt.writeStringField(1,ut.name||""),lt.writeVarintField(5,ut.extent||4096);var xt,Tt={keys:[],values:[],keycache:{},valuecache:{}};for(xt=0;xt<ut.length;xt++)Tt.feature=ut.feature(xt),lt.writeMessage(2,O,Tt);var Ct=Tt.keys;for(xt=0;xt<Ct.length;xt++)lt.writeStringField(3,Ct[xt]);var At=Tt.values;for(xt=0;xt<At.length;xt++)lt.writeMessage(4,J,At[xt])}function O(ut,lt){var xt=ut.feature;xt.id!==void 0&&lt.writeVarintField(1,xt.id),lt.writeMessage(2,F,ut),lt.writeVarintField(3,xt.type),lt.writeMessage(4,q,xt)}function F(ut,lt){var xt=ut.feature,Tt=ut.keys,Ct=ut.values,At=ut.keycache,zt=ut.valuecache;for(var Ht in xt.properties){var qt=At[Ht];typeof qt>"u"&&(Tt.push(Ht),qt=Tt.length-1,At[Ht]=qt),lt.writeVarint(qt);var Qt=xt.properties[Ht],or=typeof Qt;or!=="string"&&or!=="boolean"&&or!=="number"&&(Qt=JSON.stringify(Qt));var Lr=or+":"+Qt,Ze=zt[Lr];typeof Ze>"u"&&(Ct.push(Qt),Ze=Ct.length-1,zt[Lr]=Ze),lt.writeVarint(Ze)}}function U(ut,lt){return(lt<<3)+(ut&7)}function Z(ut){return ut<<1^ut>>31}function q(ut,lt){for(var xt=ut.loadGeometry(),Tt=ut.type,Ct=0,At=0,zt=xt.length,Ht=0;Ht<zt;Ht++){var qt=xt[Ht],Qt=1;Tt===1&&(Qt=qt.length),lt.writeVarint(U(1,Qt));for(var or=Tt===3?qt.length-1:qt.length,Lr=0;Lr<or;Lr++){Lr===1&&Tt!==1&&lt.writeVarint(U(2,or-1));var Ze=qt[Lr].x-Ct,Ye=qt[Lr].y-At;lt.writeVarint(Z(Ze)),lt.writeVarint(Z(Ye)),Ct+=Ze,At+=Ye}Tt===3&&lt.writeVarint(U(7,1))}}function J(ut,lt){var xt=typeof ut;xt==="string"?lt.writeStringField(1,ut):xt==="boolean"?lt.writeBooleanField(7,ut):xt==="number"&&(ut%1!==0?lt.writeDoubleField(3,ut):ut<0?lt.writeSVarintField(6,ut):lt.writeVarintField(5,ut))}i.fromVectorTileJs=R,i.fromGeojsonVt=A,i.GeoJSONWrapper=k;function te(ut,lt,xt,Tt,Ct,At){if(!(Ct-Tt<=xt)){var zt=Tt+Ct>>1;fe(ut,lt,zt,Tt,Ct,At%2),te(ut,lt,xt,Tt,zt-1,At+1),te(ut,lt,xt,zt+1,Ct,At+1)}}function fe(ut,lt,xt,Tt,Ct,At){for(;Ct>Tt;){if(Ct-Tt>600){var zt=Ct-Tt+1,Ht=xt-Tt+1,qt=Math.log(zt),Qt=.5*Math.exp(2*qt/3),or=.5*Math.sqrt(qt*Qt*(zt-Qt)/zt)*(Ht-zt/2<0?-1:1),Lr=Math.max(Tt,Math.floor(xt-Ht*Qt/zt+or)),Ze=Math.min(Ct,Math.floor(xt+(zt-Ht)*Qt/zt+or));fe(ut,lt,xt,Lr,Ze,At)}var Ye=lt[2*xt+At],It=Tt,kt=Ct;for(K(ut,lt,Tt,xt),lt[2*Ct+At]>Ye&&K(ut,lt,Tt,Ct);It<kt;){for(K(ut,lt,It,kt),It++,kt--;lt[2*It+At]<Ye;)It++;for(;lt[2*kt+At]>Ye;)kt--}lt[2*Tt+At]===Ye?K(ut,lt,Tt,kt):(kt++,K(ut,lt,kt,Ct)),kt<=xt&&(Tt=kt+1),xt<=kt&&(Ct=kt-1)}}function K(ut,lt,xt,Tt){Y(ut,xt,Tt),Y(lt,2*xt,2*Tt),Y(lt,2*xt+1,2*Tt+1)}function Y(ut,lt,xt){var Tt=ut[lt];ut[lt]=ut[xt],ut[xt]=Tt}function W(ut,lt,xt,Tt,Ct,At,zt){for(var Ht=[0,ut.length-1,0],qt=[],Qt,or;Ht.length;){var Lr=Ht.pop(),Ze=Ht.pop(),Ye=Ht.pop();if(Ze-Ye<=zt){for(var It=Ye;It<=Ze;It++)Qt=lt[2*It],or=lt[2*It+1],Qt>=xt&&Qt<=Ct&&or>=Tt&&or<=At&&qt.push(ut[It]);continue}var kt=Math.floor((Ye+Ze)/2);Qt=lt[2*kt],or=lt[2*kt+1],Qt>=xt&&Qt<=Ct&&or>=Tt&&or<=At&&qt.push(ut[kt]);var Xt=(Lr+1)%2;(Lr===0?xt<=Qt:Tt<=or)&&(Ht.push(Ye),Ht.push(kt-1),Ht.push(Xt)),(Lr===0?Ct>=Qt:At>=or)&&(Ht.push(kt+1),Ht.push(Ze),Ht.push(Xt))}return qt}function X(ut,lt,xt,Tt,Ct,At){for(var zt=[0,ut.length-1,0],Ht=[],qt=Ct*Ct;zt.length;){var Qt=zt.pop(),or=zt.pop(),Lr=zt.pop();if(or-Lr<=At){for(var Ze=Lr;Ze<=or;Ze++)re(lt[2*Ze],lt[2*Ze+1],xt,Tt)<=qt&&Ht.push(ut[Ze]);continue}var Ye=Math.floor((Lr+or)/2),It=lt[2*Ye],kt=lt[2*Ye+1];re(It,kt,xt,Tt)<=qt&&Ht.push(ut[Ye]);var Xt=(Qt+1)%2;(Qt===0?xt-Ct<=It:Tt-Ct<=kt)&&(zt.push(Lr),zt.push(Ye-1),zt.push(Xt)),(Qt===0?xt+Ct>=It:Tt+Ct>=kt)&&(zt.push(Ye+1),zt.push(or),zt.push(Xt))}return Ht}function re(ut,lt,xt,Tt){var Ct=ut-xt,At=lt-Tt;return Ct*Ct+At*At}var se=function(ut){return ut[0]},Q=function(ut){return ut[1]},ee=function(lt,xt,Tt,Ct,At){xt===void 0&&(xt=se),Tt===void 0&&(Tt=Q),Ct===void 0&&(Ct=64),At===void 0&&(At=Float64Array),this.nodeSize=Ct,this.points=lt;for(var zt=lt.length<65536?Uint16Array:Uint32Array,Ht=this.ids=new zt(lt.length),qt=this.coords=new At(lt.length*2),Qt=0;Qt<lt.length;Qt++)Ht[Qt]=Qt,qt[2*Qt]=xt(lt[Qt]),qt[2*Qt+1]=Tt(lt[Qt]);te(Ht,qt,Ct,0,Ht.length-1,0)};ee.prototype.range=function(lt,xt,Tt,Ct){return W(this.ids,this.coords,lt,xt,Tt,Ct,this.nodeSize)},ee.prototype.within=function(lt,xt,Tt){return X(this.ids,this.coords,lt,xt,Tt,this.nodeSize)};var le={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(ut){return ut}},oe=function(lt){this.options=Le(Object.create(le),lt),this.trees=new Array(this.options.maxZoom+1)};oe.prototype.load=function(lt){var xt=this.options,Tt=xt.log,Ct=xt.minZoom,At=xt.maxZoom,zt=xt.nodeSize;Tt&&console.time("total time");var Ht="prepare "+lt.length+" points";Tt&&console.time(Ht),this.points=lt;for(var qt=[],Qt=0;Qt<lt.length;Qt++)lt[Qt].geometry&&qt.push(xe(lt[Qt],Qt));this.trees[At+1]=new ee(qt,Ge,He,zt,Float32Array),Tt&&console.timeEnd(Ht);for(var or=At;or>=Ct;or--){var Lr=+Date.now();qt=this._cluster(qt,or),this.trees[or]=new ee(qt,Ge,He,zt,Float32Array),Tt&&console.log("z%d: %d clusters in %dms",or,qt.length,+Date.now()-Lr)}return Tt&&console.timeEnd("total time"),this},oe.prototype.getClusters=function(lt,xt){var Tt=((lt[0]+180)%360+360)%360-180,Ct=Math.max(-90,Math.min(90,lt[1])),At=lt[2]===180?180:((lt[2]+180)%360+360)%360-180,zt=Math.max(-90,Math.min(90,lt[3]));if(lt[2]-lt[0]>=360)Tt=-180,At=180;else if(Tt>At){var Ht=this.getClusters([Tt,Ct,180,zt],xt),qt=this.getClusters([-180,Ct,At,zt],xt);return Ht.concat(qt)}for(var Qt=this.trees[this._limitZoom(xt)],or=Qt.range(Oe(Tt),Ve(zt),Oe(At),Ve(Ct)),Lr=[],Ze=0,Ye=or;Ze<Ye.length;Ze+=1){var It=Ye[Ze],kt=Qt.points[It];Lr.push(kt.numPoints?Ae(kt):this.points[kt.index])}return Lr},oe.prototype.getChildren=function(lt){var xt=this._getOriginId(lt),Tt=this._getOriginZoom(lt),Ct="No cluster with the specified id.",At=this.trees[Tt];if(!At)throw new Error(Ct);var zt=At.points[xt];if(!zt)throw new Error(Ct);for(var Ht=this.options.radius/(this.options.extent*Math.pow(2,Tt-1)),qt=At.within(zt.x,zt.y,Ht),Qt=[],or=0,Lr=qt;or<Lr.length;or+=1){var Ze=Lr[or],Ye=At.points[Ze];Ye.parentId===lt&&Qt.push(Ye.numPoints?Ae(Ye):this.points[Ye.index])}if(Qt.length===0)throw new Error(Ct);return Qt},oe.prototype.getLeaves=function(lt,xt,Tt){xt=xt||10,Tt=Tt||0;var Ct=[];return this._appendLeaves(Ct,lt,xt,Tt,0),Ct},oe.prototype.getTile=function(lt,xt,Tt){var Ct=this.trees[this._limitZoom(lt)],At=Math.pow(2,lt),zt=this.options,Ht=zt.extent,qt=zt.radius,Qt=qt/Ht,or=(Tt-Qt)/At,Lr=(Tt+1+Qt)/At,Ze={features:[]};return this._addTileFeatures(Ct.range((xt-Qt)/At,or,(xt+1+Qt)/At,Lr),Ct.points,xt,Tt,At,Ze),xt===0&&this._addTileFeatures(Ct.range(1-Qt/At,or,1,Lr),Ct.points,At,Tt,At,Ze),xt===At-1&&this._addTileFeatures(Ct.range(0,or,Qt/At,Lr),Ct.points,-1,Tt,At,Ze),Ze.features.length?Ze:null},oe.prototype.getClusterExpansionZoom=function(lt){for(var xt=this._getOriginZoom(lt)-1;xt<=this.options.maxZoom;){var Tt=this.getChildren(lt);if(xt++,Tt.length!==1)break;lt=Tt[0].properties.cluster_id}return xt},oe.prototype._appendLeaves=function(lt,xt,Tt,Ct,At){for(var zt=this.getChildren(xt),Ht=0,qt=zt;Ht<qt.length;Ht+=1){var Qt=qt[Ht],or=Qt.properties;if(or&&or.cluster?At+or.point_count<=Ct?At+=or.point_count:At=this._appendLeaves(lt,or.cluster_id,Tt,Ct,At):At<Ct?At++:lt.push(Qt),lt.length===Tt)break}return At},oe.prototype._addTileFeatures=function(lt,xt,Tt,Ct,At,zt){for(var Ht=0,qt=lt;Ht<qt.length;Ht+=1){var Qt=qt[Ht],or=xt[Qt],Lr=or.numPoints,Ze={type:1,geometry:[[Math.round(this.options.extent*(or.x*At-Tt)),Math.round(this.options.extent*(or.y*At-Ct))]],tags:Lr?Se(or):this.points[or.index].properties},Ye=void 0;Lr?Ye=or.id:this.options.generateId?Ye=or.index:this.points[or.index].id&&(Ye=this.points[or.index].id),Ye!==void 0&&(Ze.id=Ye),zt.features.push(Ze)}},oe.prototype._limitZoom=function(lt){return Math.max(this.options.minZoom,Math.min(lt,this.options.maxZoom+1))},oe.prototype._cluster=function(lt,xt){for(var Tt=[],Ct=this.options,At=Ct.radius,zt=Ct.extent,Ht=Ct.reduce,qt=At/(zt*Math.pow(2,xt)),Qt=0;Qt<lt.length;Qt++){var or=lt[Qt];if(!(or.zoom<=xt)){or.zoom=xt;for(var Lr=this.trees[xt+1],Ze=Lr.within(or.x,or.y,qt),Ye=or.numPoints||1,It=or.x*Ye,kt=or.y*Ye,Xt=Ht&&Ye>1?this._map(or,!0):null,ir=(Qt<<5)+(xt+1)+this.points.length,ur=0,nr=Ze;ur<nr.length;ur+=1){var Nt=nr[ur],hr=Lr.points[Nt];if(!(hr.zoom<=xt)){hr.zoom=xt;var pr=hr.numPoints||1;It+=hr.x*pr,kt+=hr.y*pr,Ye+=pr,hr.parentId=ir,Ht&&(Xt||(Xt=this._map(or,!0)),Ht(Xt,this._map(hr)))}}Ye===1?Tt.push(or):(or.parentId=ir,Tt.push(he(It/Ye,kt/Ye,ir,Ye,Xt)))}}return Tt},oe.prototype._getOriginId=function(lt){return lt-this.points.length>>5},oe.prototype._getOriginZoom=function(lt){return(lt-this.points.length)%32},oe.prototype._map=function(lt,xt){if(lt.numPoints)return xt?Le({},lt.properties):lt.properties;var Tt=this.points[lt.index].properties,Ct=this.options.map(Tt);return xt&&Ct===Tt?Le({},Ct):Ct};function he(ut,lt,xt,Tt,Ct){return{x:ut,y:lt,zoom:1/0,id:xt,parentId:-1,numPoints:Tt,properties:Ct}}function xe(ut,lt){var xt=ut.geometry.coordinates,Tt=xt[0],Ct=xt[1];return{x:Oe(Tt),y:Ve(Ct),zoom:1/0,index:lt,parentId:-1}}function Ae(ut){return{type:"Feature",id:ut.id,properties:Se(ut),geometry:{type:"Point",coordinates:[Ee(ut.x),Te(ut.y)]}}}function Se(ut){var lt=ut.numPoints,xt=lt>=1e4?Math.round(lt/1e3)+"k":lt>=1e3?Math.round(lt/100)/10+"k":lt;return Le(Le({},ut.properties),{cluster:!0,cluster_id:ut.id,point_count:lt,point_count_abbreviated:xt})}function Oe(ut){return ut/360+.5}function Ve(ut){var lt=Math.sin(ut*Math.PI/180),xt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return xt<0?0:xt>1?1:xt}function Ee(ut){return(ut-.5)*360}function Te(ut){var lt=(180-ut*360)*Math.PI/180;return 360*Math.atan(Math.exp(lt))/Math.PI-90}function Le(ut,lt){for(var xt in lt)ut[xt]=lt[xt];return ut}function Ge(ut){return ut.x}function He(ut){return ut.y}function ke(ut,lt,xt,Tt){for(var Ct=Tt,At=xt-lt>>1,zt=xt-lt,Ht,qt=ut[lt],Qt=ut[lt+1],or=ut[xt],Lr=ut[xt+1],Ze=lt+3;Ze<xt;Ze+=3){var Ye=We(ut[Ze],ut[Ze+1],qt,Qt,or,Lr);if(Ye>Ct)Ht=Ze,Ct=Ye;else if(Ye===Ct){var It=Math.abs(Ze-At);It<zt&&(Ht=Ze,zt=It)}}Ct>Tt&&(Ht-lt>3&&ke(ut,lt,Ht,Tt),ut[Ht+2]=Ct,xt-Ht>3&&ke(ut,Ht,xt,Tt))}function We(ut,lt,xt,Tt,Ct,At){var zt=Ct-xt,Ht=At-Tt;if(zt!==0||Ht!==0){var qt=((ut-xt)*zt+(lt-Tt)*Ht)/(zt*zt+Ht*Ht);qt>1?(xt=Ct,Tt=At):qt>0&&(xt+=zt*qt,Tt+=Ht*qt)}return zt=ut-xt,Ht=lt-Tt,zt*zt+Ht*Ht}function nt(ut,lt,xt,Tt){var Ct={id:typeof ut>"u"?null:ut,type:lt,geometry:xt,tags:Tt,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return qe(Ct),Ct}function qe(ut){var lt=ut.geometry,xt=ut.type;if(xt==="Point"||xt==="MultiPoint"||xt==="LineString")Qe(ut,lt);else if(xt==="Polygon"||xt==="MultiLineString")for(var Tt=0;Tt<lt.length;Tt++)Qe(ut,lt[Tt]);else if(xt==="MultiPolygon")for(Tt=0;Tt<lt.length;Tt++)for(var Ct=0;Ct<lt[Tt].length;Ct++)Qe(ut,lt[Tt][Ct])}function Qe(ut,lt){for(var xt=0;xt<lt.length;xt+=3)ut.minX=Math.min(ut.minX,lt[xt]),ut.minY=Math.min(ut.minY,lt[xt+1]),ut.maxX=Math.max(ut.maxX,lt[xt]),ut.maxY=Math.max(ut.maxY,lt[xt+1])}function tt(ut,lt){var xt=[];if(ut.type==="FeatureCollection")for(var Tt=0;Tt<ut.features.length;Tt++)vt(xt,ut.features[Tt],lt,Tt);else ut.type==="Feature"?vt(xt,ut,lt):vt(xt,{geometry:ut},lt);return xt}function vt(ut,lt,xt,Tt){if(lt.geometry){var Ct=lt.geometry.coordinates,At=lt.geometry.type,zt=Math.pow(xt.tolerance/((1<<xt.maxZoom)*xt.extent),2),Ht=[],qt=lt.id;if(xt.promoteId?qt=lt.properties[xt.promoteId]:xt.generateId&&(qt=Tt||0),At==="Point")dt(Ct,Ht);else if(At==="MultiPoint")for(var Qt=0;Qt<Ct.length;Qt++)dt(Ct[Qt],Ht);else if(At==="LineString")gt(Ct,Ht,zt,!1);else if(At==="MultiLineString")if(xt.lineMetrics){for(Qt=0;Qt<Ct.length;Qt++)Ht=[],gt(Ct[Qt],Ht,zt,!1),ut.push(nt(qt,"LineString",Ht,lt.properties));return}else Mt(Ct,Ht,zt,!1);else if(At==="Polygon")Mt(Ct,Ht,zt,!0);else if(At==="MultiPolygon")for(Qt=0;Qt<Ct.length;Qt++){var or=[];Mt(Ct[Qt],or,zt,!0),Ht.push(or)}else if(At==="GeometryCollection"){for(Qt=0;Qt<lt.geometry.geometries.length;Qt++)vt(ut,{id:qt,geometry:lt.geometry.geometries[Qt],properties:lt.properties},xt,Tt);return}else throw new Error("Input data is not a valid GeoJSON object.");ut.push(nt(qt,At,Ht,lt.properties))}}function dt(ut,lt){lt.push(Rt(ut[0])),lt.push(Wt(ut[1])),lt.push(0)}function gt(ut,lt,xt,Tt){for(var Ct,At,zt=0,Ht=0;Ht<ut.length;Ht++){var qt=Rt(ut[Ht][0]),Qt=Wt(ut[Ht][1]);lt.push(qt),lt.push(Qt),lt.push(0),Ht>0&&(Tt?zt+=(Ct*Qt-qt*At)/2:zt+=Math.sqrt(Math.pow(qt-Ct,2)+Math.pow(Qt-At,2))),Ct=qt,At=Qt}var or=lt.length-3;lt[2]=1,ke(lt,0,or,xt),lt[or+2]=1,lt.size=Math.abs(zt),lt.start=0,lt.end=lt.size}function Mt(ut,lt,xt,Tt){for(var Ct=0;Ct<ut.length;Ct++){var At=[];gt(ut[Ct],At,xt,Tt),lt.push(At)}}function Rt(ut){return ut/360+.5}function Wt(ut){var lt=Math.sin(ut*Math.PI/180),xt=.5-.25*Math.log((1+lt)/(1-lt))/Math.PI;return xt<0?0:xt>1?1:xt}function je(ut,lt,xt,Tt,Ct,At,zt,Ht){if(xt/=lt,Tt/=lt,At>=xt&&zt<Tt)return ut;if(zt<xt||At>=Tt)return null;for(var qt=[],Qt=0;Qt<ut.length;Qt++){var or=ut[Qt],Lr=or.geometry,Ze=or.type,Ye=Ct===0?or.minX:or.minY,It=Ct===0?or.maxX:or.maxY;if(Ye>=xt&&It<Tt){qt.push(or);continue}else if(It<xt||Ye>=Tt)continue;var kt=[];if(Ze==="Point"||Ze==="MultiPoint")_e(Lr,kt,xt,Tt,Ct);else if(Ze==="LineString")Fe(Lr,kt,xt,Tt,Ct,!1,Ht.lineMetrics);else if(Ze==="MultiLineString")De(Lr,kt,xt,Tt,Ct,!1);else if(Ze==="Polygon")De(Lr,kt,xt,Tt,Ct,!0);else if(Ze==="MultiPolygon")for(var Xt=0;Xt<Lr.length;Xt++){var ir=[];De(Lr[Xt],ir,xt,Tt,Ct,!0),ir.length&&kt.push(ir)}if(kt.length){if(Ht.lineMetrics&&Ze==="LineString"){for(Xt=0;Xt<kt.length;Xt++)qt.push(nt(or.id,Ze,kt[Xt],or.tags));continue}(Ze==="LineString"||Ze==="MultiLineString")&&(kt.length===1?(Ze="LineString",kt=kt[0]):Ze="MultiLineString"),(Ze==="Point"||Ze==="MultiPoint")&&(Ze=kt.length===3?"Point":"MultiPoint"),qt.push(nt(or.id,Ze,kt,or.tags))}}return qt.length?qt:null}function _e(ut,lt,xt,Tt,Ct){for(var At=0;At<ut.length;At+=3){var zt=ut[At+Ct];zt>=xt&&zt<=Tt&&(lt.push(ut[At]),lt.push(ut[At+1]),lt.push(ut[At+2]))}}function Fe(ut,lt,xt,Tt,Ct,At,zt){for(var Ht=Be(ut),qt=Ct===0?ue:me,Qt=ut.start,or,Lr,Ze=0;Ze<ut.length-3;Ze+=3){var Ye=ut[Ze],It=ut[Ze+1],kt=ut[Ze+2],Xt=ut[Ze+3],ir=ut[Ze+4],ur=Ct===0?Ye:It,nr=Ct===0?Xt:ir,Nt=!1;zt&&(or=Math.sqrt(Math.pow(Ye-Xt,2)+Math.pow(It-ir,2))),ur<xt?nr>xt&&(Lr=qt(Ht,Ye,It,Xt,ir,xt),zt&&(Ht.start=Qt+or*Lr)):ur>Tt?nr<Tt&&(Lr=qt(Ht,Ye,It,Xt,ir,Tt),zt&&(Ht.start=Qt+or*Lr)):we(Ht,Ye,It,kt),nr<xt&&ur>=xt&&(Lr=qt(Ht,Ye,It,Xt,ir,xt),Nt=!0),nr>Tt&&ur<=Tt&&(Lr=qt(Ht,Ye,It,Xt,ir,Tt),Nt=!0),!At&&Nt&&(zt&&(Ht.end=Qt+or*Lr),lt.push(Ht),Ht=Be(ut)),zt&&(Qt+=or)}var hr=ut.length-3;Ye=ut[hr],It=ut[hr+1],kt=ut[hr+2],ur=Ct===0?Ye:It,ur>=xt&&ur<=Tt&&we(Ht,Ye,It,kt),hr=Ht.length-3,At&&hr>=3&&(Ht[hr]!==Ht[0]||Ht[hr+1]!==Ht[1])&&we(Ht,Ht[0],Ht[1],Ht[2]),Ht.length&&lt.push(Ht)}function Be(ut){var lt=[];return lt.size=ut.size,lt.start=ut.start,lt.end=ut.end,lt}function De(ut,lt,xt,Tt,Ct,At){for(var zt=0;zt<ut.length;zt++)Fe(ut[zt],lt,xt,Tt,Ct,At,!1)}function we(ut,lt,xt,Tt){ut.push(lt),ut.push(xt),ut.push(Tt)}function ue(ut,lt,xt,Tt,Ct,At){var zt=(At-lt)/(Tt-lt);return ut.push(At),ut.push(xt+(Ct-xt)*zt),ut.push(1),zt}function me(ut,lt,xt,Tt,Ct,At){var zt=(At-xt)/(Ct-xt);return ut.push(lt+(Tt-lt)*zt),ut.push(At),ut.push(1),zt}function Re(ut,lt){var xt=lt.buffer/lt.extent,Tt=ut,Ct=je(ut,1,-1-xt,xt,0,-1,2,lt),At=je(ut,1,1-xt,2+xt,0,-1,2,lt);return(Ct||At)&&(Tt=je(ut,1,-xt,1+xt,0,-1,2,lt)||[],Ct&&(Tt=Ne(Ct,1).concat(Tt)),At&&(Tt=Tt.concat(Ne(At,-1)))),Tt}function Ne(ut,lt){for(var xt=[],Tt=0;Tt<ut.length;Tt++){var Ct=ut[Tt],At=Ct.type,zt;if(At==="Point"||At==="MultiPoint"||At==="LineString")zt=it(Ct.geometry,lt);else if(At==="MultiLineString"||At==="Polygon"){zt=[];for(var Ht=0;Ht<Ct.geometry.length;Ht++)zt.push(it(Ct.geometry[Ht],lt))}else if(At==="MultiPolygon")for(zt=[],Ht=0;Ht<Ct.geometry.length;Ht++){for(var qt=[],Qt=0;Qt<Ct.geometry[Ht].length;Qt++)qt.push(it(Ct.geometry[Ht][Qt],lt));zt.push(qt)}xt.push(nt(Ct.id,At,zt,Ct.tags))}return xt}function it(ut,lt){var xt=[];xt.size=ut.size,ut.start!==void 0&&(xt.start=ut.start,xt.end=ut.end);for(var Tt=0;Tt<ut.length;Tt+=3)xt.push(ut[Tt]+lt,ut[Tt+1],ut[Tt+2]);return xt}function ot(ut,lt){if(ut.transformed)return ut;var xt=1<<ut.z,Tt=ut.x,Ct=ut.y,At,zt,Ht;for(At=0;At<ut.features.length;At++){var qt=ut.features[At],Qt=qt.geometry,or=qt.type;if(qt.geometry=[],or===1)for(zt=0;zt<Qt.length;zt+=2)qt.geometry.push(wt(Qt[zt],Qt[zt+1],lt,xt,Tt,Ct));else for(zt=0;zt<Qt.length;zt++){var Lr=[];for(Ht=0;Ht<Qt[zt].length;Ht+=2)Lr.push(wt(Qt[zt][Ht],Qt[zt][Ht+1],lt,xt,Tt,Ct));qt.geometry.push(Lr)}}return ut.transformed=!0,ut}function wt(ut,lt,xt,Tt,Ct,At){return[Math.round(xt*(ut*Tt-Ct)),Math.round(xt*(lt*Tt-At))]}function Ft(ut,lt,xt,Tt,Ct){for(var At=lt===Ct.maxZoom?0:Ct.tolerance/((1<<lt)*Ct.extent),zt={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:xt,y:Tt,z:lt,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Ht=0;Ht<ut.length;Ht++){zt.numFeatures++,Ut(zt,ut[Ht],At,Ct);var qt=ut[Ht].minX,Qt=ut[Ht].minY,or=ut[Ht].maxX,Lr=ut[Ht].maxY;qt<zt.minX&&(zt.minX=qt),Qt<zt.minY&&(zt.minY=Qt),or>zt.maxX&&(zt.maxX=or),Lr>zt.maxY&&(zt.maxY=Lr)}return zt}function Ut(ut,lt,xt,Tt){var Ct=lt.geometry,At=lt.type,zt=[];if(At==="Point"||At==="MultiPoint")for(var Ht=0;Ht<Ct.length;Ht+=3)zt.push(Ct[Ht]),zt.push(Ct[Ht+1]),ut.numPoints++,ut.numSimplified++;else if(At==="LineString")Gt(zt,Ct,ut,xt,!1,!1);else if(At==="MultiLineString"||At==="Polygon")for(Ht=0;Ht<Ct.length;Ht++)Gt(zt,Ct[Ht],ut,xt,At==="Polygon",Ht===0);else if(At==="MultiPolygon")for(var qt=0;qt<Ct.length;qt++){var Qt=Ct[qt];for(Ht=0;Ht<Qt.length;Ht++)Gt(zt,Qt[Ht],ut,xt,!0,Ht===0)}if(zt.length){var or=lt.tags||null;if(At==="LineString"&&Tt.lineMetrics){or={};for(var Lr in lt.tags)or[Lr]=lt.tags[Lr];or.mapbox_clip_start=Ct.start/Ct.size,or.mapbox_clip_end=Ct.end/Ct.size}var Ze={geometry:zt,type:At==="Polygon"||At==="MultiPolygon"?3:At==="LineString"||At==="MultiLineString"?2:1,tags:or};lt.id!==null&&(Ze.id=lt.id),ut.features.push(Ze)}}function Gt(ut,lt,xt,Tt,Ct,At){var zt=Tt*Tt;if(Tt>0&&lt.size<(Ct?zt:Tt)){xt.numPoints+=lt.length/3;return}for(var Ht=[],qt=0;qt<lt.length;qt+=3)(Tt===0||lt[qt+2]>zt)&&(xt.numSimplified++,Ht.push(lt[qt]),Ht.push(lt[qt+1])),xt.numPoints++;Ct&&Et(Ht,At),ut.push(Ht)}function Et(ut,lt){for(var xt=0,Tt=0,Ct=ut.length,At=Ct-2;Tt<Ct;At=Tt,Tt+=2)xt+=(ut[Tt]-ut[At])*(ut[Tt+1]+ut[At+1]);if(xt>0===lt)for(Tt=0,Ct=ut.length;Tt<Ct/2;Tt+=2){var zt=ut[Tt],Ht=ut[Tt+1];ut[Tt]=ut[Ct-2-Tt],ut[Tt+1]=ut[Ct-1-Tt],ut[Ct-2-Tt]=zt,ut[Ct-1-Tt]=Ht}}function $t(ut,lt){return new lr(ut,lt)}function lr(ut,lt){lt=this.options=yt(Object.create(this.options),lt);var xt=lt.debug;if(xt&&console.time("preprocess data"),lt.maxZoom<0||lt.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(lt.promoteId&&lt.generateId)throw new Error("promoteId and generateId cannot be used together.");var Tt=tt(ut,lt);this.tiles={},this.tileCoords=[],xt&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",lt.indexMaxZoom,lt.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),Tt=Re(Tt,lt),Tt.length&&this.splitTile(Tt,0,0,0),xt&&(Tt.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}lr.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},lr.prototype.splitTile=function(ut,lt,xt,Tt,Ct,At,zt){for(var Ht=[ut,lt,xt,Tt],qt=this.options,Qt=qt.debug;Ht.length;){Tt=Ht.pop(),xt=Ht.pop(),lt=Ht.pop(),ut=Ht.pop();var or=1<<lt,Lr=Fr(lt,xt,Tt),Ze=this.tiles[Lr];if(!Ze&&(Qt>1&&console.time("creation"),Ze=this.tiles[Lr]=Ft(ut,lt,xt,Tt,qt),this.tileCoords.push({z:lt,x:xt,y:Tt}),Qt)){Qt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",lt,xt,Tt,Ze.numFeatures,Ze.numPoints,Ze.numSimplified),console.timeEnd("creation"));var Ye="z"+lt;this.stats[Ye]=(this.stats[Ye]||0)+1,this.total++}if(Ze.source=ut,Ct){if(lt===qt.maxZoom||lt===Ct)continue;var It=1<<Ct-lt;if(xt!==Math.floor(At/It)||Tt!==Math.floor(zt/It))continue}else if(lt===qt.indexMaxZoom||Ze.numPoints<=qt.indexMaxPoints)continue;if(Ze.source=null,ut.length!==0){Qt>1&&console.time("clipping");var kt=.5*qt.buffer/qt.extent,Xt=.5-kt,ir=.5+kt,ur=1+kt,nr,Nt,hr,pr,gr,dr;nr=Nt=hr=pr=null,gr=je(ut,or,xt-kt,xt+ir,0,Ze.minX,Ze.maxX,qt),dr=je(ut,or,xt+Xt,xt+ur,0,Ze.minX,Ze.maxX,qt),ut=null,gr&&(nr=je(gr,or,Tt-kt,Tt+ir,1,Ze.minY,Ze.maxY,qt),Nt=je(gr,or,Tt+Xt,Tt+ur,1,Ze.minY,Ze.maxY,qt),gr=null),dr&&(hr=je(dr,or,Tt-kt,Tt+ir,1,Ze.minY,Ze.maxY,qt),pr=je(dr,or,Tt+Xt,Tt+ur,1,Ze.minY,Ze.maxY,qt),dr=null),Qt>1&&console.timeEnd("clipping"),Ht.push(nr||[],lt+1,xt*2,Tt*2),Ht.push(Nt||[],lt+1,xt*2,Tt*2+1),Ht.push(hr||[],lt+1,xt*2+1,Tt*2),Ht.push(pr||[],lt+1,xt*2+1,Tt*2+1)}}},lr.prototype.getTile=function(ut,lt,xt){var Tt=this.options,Ct=Tt.extent,At=Tt.debug;if(ut<0||ut>24)return null;var zt=1<<ut;lt=(lt%zt+zt)%zt;var Ht=Fr(ut,lt,xt);if(this.tiles[Ht])return ot(this.tiles[Ht],Ct);At>1&&console.log("drilling down to z%d-%d-%d",ut,lt,xt);for(var qt=ut,Qt=lt,or=xt,Lr;!Lr&&qt>0;)qt--,Qt=Math.floor(Qt/2),or=Math.floor(or/2),Lr=this.tiles[Fr(qt,Qt,or)];return!Lr||!Lr.source?null:(At>1&&console.log("found parent tile z%d-%d-%d",qt,Qt,or),At>1&&console.time("drilling down"),this.splitTile(Lr.source,qt,Qt,or,ut,lt,xt),At>1&&console.timeEnd("drilling down"),this.tiles[Ht]?ot(this.tiles[Ht],Ct):null)};function Fr(ut,lt,xt){return((1<<ut)*xt+lt)*32+ut}function yt(ut,lt){for(var xt in lt)ut[xt]=lt[xt];return ut}function Kt(ut,lt){var xt=ut.tileID.canonical;if(!this._geoJSONIndex)return lt(null,null);var Tt=this._geoJSONIndex.getTile(xt.z,xt.x,xt.y);if(!Tt)return lt(null,null);var Ct=new M(Tt.features),At=i(Ct);(At.byteOffset!==0||At.byteLength!==At.buffer.byteLength)&&(At=new Uint8Array(At)),lt(null,{vectorTile:Ct,rawData:At.buffer})}var Zt=function(ut){function lt(xt,Tt,Ct,At){ut.call(this,xt,Tt,Ct,Kt),At&&(this.loadGeoJSON=At)}return ut&&(lt.__proto__=ut),lt.prototype=Object.create(ut&&ut.prototype),lt.prototype.constructor=lt,lt.prototype.loadData=function(Tt,Ct){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=Ct,this._pendingLoadDataParams=Tt,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},lt.prototype._loadData=function(){var Tt=this;if(!(!this._pendingCallback||!this._pendingLoadDataParams)){var Ct=this._pendingCallback,At=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var zt=At&&At.request&&At.request.collectResourceTiming?new n.RequestPerformance(At.request):!1;this.loadGeoJSON(At,function(Ht,qt){if(Ht||!qt)return Ct(Ht);if(typeof qt!="object")return Ct(new Error("Input data given to '"+At.source+"' is not a valid GeoJSON object."));f(qt,!0);try{Tt._geoJSONIndex=At.cluster?new oe(Ar(At)).load(qt.features):$t(qt,At.geojsonVtOptions)}catch(Lr){return Ct(Lr)}Tt.loaded={};var Qt={};if(zt){var or=zt.finish();or&&(Qt.resourceTiming={},Qt.resourceTiming[At.source]=JSON.parse(JSON.stringify(or)))}Ct(null,Qt)})}},lt.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},lt.prototype.reloadTile=function(Tt,Ct){var At=this.loaded,zt=Tt.uid;return At&&At[zt]?ut.prototype.reloadTile.call(this,Tt,Ct):this.loadTile(Tt,Ct)},lt.prototype.loadGeoJSON=function(Tt,Ct){if(Tt.request)n.getJSON(Tt.request,Ct);else if(typeof Tt.data=="string")try{return Ct(null,JSON.parse(Tt.data))}catch{return Ct(new Error("Input data given to '"+Tt.source+"' is not a valid GeoJSON object."))}else return Ct(new Error("Input data given to '"+Tt.source+"' is not a valid GeoJSON object."))},lt.prototype.removeSource=function(Tt,Ct){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),Ct()},lt.prototype.getClusterExpansionZoom=function(Tt,Ct){try{Ct(null,this._geoJSONIndex.getClusterExpansionZoom(Tt.clusterId))}catch(At){Ct(At)}},lt.prototype.getClusterChildren=function(Tt,Ct){try{Ct(null,this._geoJSONIndex.getChildren(Tt.clusterId))}catch(At){Ct(At)}},lt.prototype.getClusterLeaves=function(Tt,Ct){try{Ct(null,this._geoJSONIndex.getLeaves(Tt.clusterId,Tt.limit,Tt.offset))}catch(At){Ct(At)}},lt}(c);function Ar(ut){var lt=ut.superclusterOptions,xt=ut.clusterProperties;if(!xt||!lt)return lt;for(var Tt={},Ct={},At={accumulated:null,zoom:0},zt={properties:null},Ht=Object.keys(xt),qt=0,Qt=Ht;qt<Qt.length;qt+=1){var or=Qt[qt],Lr=xt[or],Ze=Lr[0],Ye=Lr[1],It=n.createExpression(Ye),kt=n.createExpression(typeof Ze=="string"?[Ze,["accumulated"],["get",or]]:Ze);Tt[or]=It.value,Ct[or]=kt.value}return lt.map=function(Xt){zt.properties=Xt;for(var ir={},ur=0,nr=Ht;ur<nr.length;ur+=1){var Nt=nr[ur];ir[Nt]=Tt[Nt].evaluate(At,zt)}return ir},lt.reduce=function(Xt,ir){zt.properties=ir;for(var ur=0,nr=Ht;ur<nr.length;ur+=1){var Nt=nr[ur];At.accumulated=Xt[Nt],Xt[Nt]=Ct[Nt].evaluate(At,zt)}},lt}var vr=function(lt){var xt=this;this.self=lt,this.actor=new n.Actor(lt,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:c,geojson:Zt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Tt,Ct){if(xt.workerSourceTypes[Tt])throw new Error('Worker source with name "'+Tt+'" already registered.');xt.workerSourceTypes[Tt]=Ct},this.self.registerRTLTextPlugin=function(Tt){if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=Tt.applyArabicShaping,n.plugin.processBidirectionalText=Tt.processBidirectionalText,n.plugin.processStyledBidirectionalText=Tt.processStyledBidirectionalText}};return vr.prototype.setReferrer=function(lt,xt){this.referrer=xt},vr.prototype.setImages=function(lt,xt,Tt){this.availableImages[lt]=xt;for(var Ct in this.workerSources[lt]){var At=this.workerSources[lt][Ct];for(var zt in At)At[zt].availableImages=xt}Tt()},vr.prototype.setLayers=function(lt,xt,Tt){this.getLayerIndex(lt).replace(xt),Tt()},vr.prototype.updateLayers=function(lt,xt,Tt){this.getLayerIndex(lt).update(xt.layers,xt.removedIds),Tt()},vr.prototype.loadTile=function(lt,xt,Tt){this.getWorkerSource(lt,xt.type,xt.source).loadTile(xt,Tt)},vr.prototype.loadDEMTile=function(lt,xt,Tt){this.getDEMWorkerSource(lt,xt.source).loadTile(xt,Tt)},vr.prototype.reloadTile=function(lt,xt,Tt){this.getWorkerSource(lt,xt.type,xt.source).reloadTile(xt,Tt)},vr.prototype.abortTile=function(lt,xt,Tt){this.getWorkerSource(lt,xt.type,xt.source).abortTile(xt,Tt)},vr.prototype.removeTile=function(lt,xt,Tt){this.getWorkerSource(lt,xt.type,xt.source).removeTile(xt,Tt)},vr.prototype.removeDEMTile=function(lt,xt){this.getDEMWorkerSource(lt,xt.source).removeTile(xt)},vr.prototype.removeSource=function(lt,xt,Tt){if(!(!this.workerSources[lt]||!this.workerSources[lt][xt.type]||!this.workerSources[lt][xt.type][xt.source])){var Ct=this.workerSources[lt][xt.type][xt.source];delete this.workerSources[lt][xt.type][xt.source],Ct.removeSource!==void 0?Ct.removeSource(xt,Tt):Tt()}},vr.prototype.loadWorkerSource=function(lt,xt,Tt){try{this.self.importScripts(xt.url),Tt()}catch(Ct){Tt(Ct.toString())}},vr.prototype.syncRTLPluginState=function(lt,xt,Tt){try{n.plugin.setState(xt);var Ct=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&Ct!=null){this.self.importScripts(Ct);var At=n.plugin.isParsed(),zt=At?void 0:new Error("RTL Text Plugin failed to import scripts from "+Ct);Tt(zt,At)}}catch(Ht){Tt(Ht.toString())}},vr.prototype.getAvailableImages=function(lt){var xt=this.availableImages[lt];return xt||(xt=[]),xt},vr.prototype.getLayerIndex=function(lt){var xt=this.layerIndexes[lt];return xt||(xt=this.layerIndexes[lt]=new g),xt},vr.prototype.getWorkerSource=function(lt,xt,Tt){var Ct=this;if(this.workerSources[lt]||(this.workerSources[lt]={}),this.workerSources[lt][xt]||(this.workerSources[lt][xt]={}),!this.workerSources[lt][xt][Tt]){var At={send:function(zt,Ht,qt){Ct.actor.send(zt,Ht,qt,lt)}};this.workerSources[lt][xt][Tt]=new this.workerSourceTypes[xt](At,this.getLayerIndex(lt),this.getAvailableImages(lt))}return this.workerSources[lt][xt][Tt]},vr.prototype.getDEMWorkerSource=function(lt,xt){return this.demWorkerSources[lt]||(this.demWorkerSources[lt]={}),this.demWorkerSources[lt][xt]||(this.demWorkerSources[lt][xt]=new b),this.demWorkerSources[lt][xt]},vr.prototype.enforceCacheSizeLimit=function(lt,xt){n.enforceCacheSizeLimit(xt)},typeof WorkerGlobalScope<"u"&&typeof n.window<"u"&&n.window instanceof WorkerGlobalScope&&(n.window.worker=new vr(n.window)),vr}),L(["./shared"],function(n){var C=n.createCommonjsModule(function(ve){ve.exports?ve.exports=j:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=j,window.mapboxgl.notSupportedReason=ge);function j(Gr){return!ge(Gr)}function ge(Gr){if(!ne())return"not a browser";if(!ye())return"insufficent Array support";if(!ze())return"insufficient Function support";if(!Xe())return"insufficient Object support";if(!st())return"insufficient JSON support";if(!mt())return"insufficient worker support";if(!Bt())return"insufficient Uint8ClampedArray support";if(!Jt())return"insufficient ArrayBuffer support";if(!fr())return"insufficient Canvas/getImageData support";if(!_r(Gr&&Gr.failIfMajorPerformanceCaveat))return"insufficient WebGL support"}function ne(){return typeof window<"u"&&typeof document<"u"}function ye(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function ze(){return Function.prototype&&Function.prototype.bind}function Xe(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function st(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function mt(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var Gr=new Blob([""],{type:"text/javascript"}),qr=URL.createObjectURL(Gr),un,En;try{En=new Worker(qr),un=!0}catch{un=!1}return En&&En.terminate(),URL.revokeObjectURL(qr),un}function Bt(){return"Uint8ClampedArray"in window}function Jt(){return ArrayBuffer.isView}function fr(){var Gr=document.createElement("canvas");Gr.width=Gr.height=1;var qr=Gr.getContext("2d");if(!qr)return!1;var un=qr.getImageData(0,0,1,1);return un&&un.width===Gr.width}var mr={};function _r(Gr){return mr[Gr]===void 0&&(mr[Gr]=Yr(Gr)),mr[Gr]}j.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};function Wr(Gr){var qr=document.createElement("canvas"),un=Object.create(j.webGLContextAttributes);return un.failIfMajorPerformanceCaveat=Gr,qr.probablySupportsContext?qr.probablySupportsContext("webgl",un)||qr.probablySupportsContext("experimental-webgl",un):qr.supportsContext?qr.supportsContext("webgl",un)||qr.supportsContext("experimental-webgl",un):qr.getContext("webgl",un)||qr.getContext("experimental-webgl",un)}function Yr(Gr){var qr=Wr(Gr);if(!qr)return!1;var un=qr.createShader(qr.VERTEX_SHADER);return!un||qr.isContextLost()?!1:(qr.shaderSource(un,"void main() {}"),qr.compileShader(un),qr.getShaderParameter(un,qr.COMPILE_STATUS)===!0)}}),y={};y.create=function(ve,j,ge){var ne=n.window.document.createElement(ve);return j!==void 0&&(ne.className=j),ge&&ge.appendChild(ne),ne},y.createNS=function(ve,j){var ge=n.window.document.createElementNS(ve,j);return ge};var h=n.window.document.documentElement.style;function g(ve){if(!h)return ve[0];for(var j=0;j<ve.length;j++)if(ve[j]in h)return ve[j];return ve[0]}var t=g(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),r;y.disableDrag=function(){h&&t&&(r=h[t],h[t]="none")},y.enableDrag=function(){h&&t&&(h[t]=r)};var l=g(["transform","WebkitTransform"]);y.setTransform=function(ve,j){ve.style[l]=j};var a=!1;try{var s=Object.defineProperty({},"passive",{get:function(){a=!0}});n.window.addEventListener("test",s,s),n.window.removeEventListener("test",s,s)}catch{a=!1}y.addEventListener=function(ve,j,ge,ne){ne===void 0&&(ne={}),"passive"in ne&&a?ve.addEventListener(j,ge,ne):ve.addEventListener(j,ge,ne.capture)},y.removeEventListener=function(ve,j,ge,ne){ne===void 0&&(ne={}),"passive"in ne&&a?ve.removeEventListener(j,ge,ne):ve.removeEventListener(j,ge,ne.capture)};var c=function(ve){ve.preventDefault(),ve.stopPropagation(),n.window.removeEventListener("click",c,!0)};y.suppressClick=function(){n.window.addEventListener("click",c,!0),n.window.setTimeout(function(){n.window.removeEventListener("click",c,!0)},0)},y.mousePos=function(ve,j){var ge=ve.getBoundingClientRect();return new n.Point(j.clientX-ge.left-ve.clientLeft,j.clientY-ge.top-ve.clientTop)},y.touchPos=function(ve,j){for(var ge=ve.getBoundingClientRect(),ne=[],ye=0;ye<j.length;ye++)ne.push(new n.Point(j[ye].clientX-ge.left-ve.clientLeft,j[ye].clientY-ge.top-ve.clientTop));return ne},y.mouseButton=function(ve){return typeof n.window.InstallTrigger<"u"&&ve.button===2&&ve.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:ve.button},y.remove=function(ve){ve.parentNode&&ve.parentNode.removeChild(ve)};function u(ve,j,ge){var ne,ye,ze,Xe=n.browser.devicePixelRatio>1?"@2x":"",st=n.getJSON(j.transformRequest(j.normalizeSpriteURL(ve,Xe,".json"),n.ResourceType.SpriteJSON),function(Jt,fr){st=null,ze||(ze=Jt,ne=fr,Bt())}),mt=n.getImage(j.transformRequest(j.normalizeSpriteURL(ve,Xe,".png"),n.ResourceType.SpriteImage),function(Jt,fr){mt=null,ze||(ze=Jt,ye=fr,Bt())});function Bt(){if(ze)ge(ze);else if(ne&&ye){var Jt=n.browser.getImageData(ye),fr={};for(var mr in ne){var _r=ne[mr],Wr=_r.width,Yr=_r.height,Gr=_r.x,qr=_r.y,un=_r.sdf,En=_r.pixelRatio,On=_r.stretchX,Xn=_r.stretchY,Kn=_r.content,jn=new n.RGBAImage({width:Wr,height:Yr});n.RGBAImage.copy(Jt,jn,{x:Gr,y:qr},{x:0,y:0},{width:Wr,height:Yr}),fr[mr]={data:jn,pixelRatio:En,sdf:un,stretchX:On,stretchY:Xn,content:Kn}}ge(null,fr)}}return{cancel:function(){st&&(st.cancel(),st=null),mt&&(mt.cancel(),mt=null)}}}function b(ve){var j=ve.userImage;if(j&&j.render){var ge=j.render();if(ge)return ve.data.replace(new Uint8Array(j.data.buffer)),!0}return!1}var f=1,w=function(ve){function j(){ve.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.isLoaded=function(){return this.loaded},j.prototype.setLoaded=function(ne){if(this.loaded!==ne&&(this.loaded=ne,ne)){for(var ye=0,ze=this.requestors;ye<ze.length;ye+=1){var Xe=ze[ye],st=Xe.ids,mt=Xe.callback;this._notify(st,mt)}this.requestors=[]}},j.prototype.getImage=function(ne){return this.images[ne]},j.prototype.addImage=function(ne,ye){this._validate(ne,ye)&&(this.images[ne]=ye)},j.prototype._validate=function(ne,ye){var ze=!0;return this._validateStretch(ye.stretchX,ye.data&&ye.data.width)||(this.fire(new n.ErrorEvent(new Error('Image "'+ne+'" has invalid "stretchX" value'))),ze=!1),this._validateStretch(ye.stretchY,ye.data&&ye.data.height)||(this.fire(new n.ErrorEvent(new Error('Image "'+ne+'" has invalid "stretchY" value'))),ze=!1),this._validateContent(ye.content,ye)||(this.fire(new n.ErrorEvent(new Error('Image "'+ne+'" has invalid "content" value'))),ze=!1),ze},j.prototype._validateStretch=function(ne,ye){if(!ne)return!0;for(var ze=0,Xe=0,st=ne;Xe<st.length;Xe+=1){var mt=st[Xe];if(mt[0]<ze||mt[1]<mt[0]||ye<mt[1])return!1;ze=mt[1]}return!0},j.prototype._validateContent=function(ne,ye){return ne?!(ne.length!==4||ne[0]<0||ye.data.width<ne[0]||ne[1]<0||ye.data.height<ne[1]||ne[2]<0||ye.data.width<ne[2]||ne[3]<0||ye.data.height<ne[3]||ne[2]<ne[0]||ne[3]<ne[1]):!0},j.prototype.updateImage=function(ne,ye){var ze=this.images[ne];ye.version=ze.version+1,this.images[ne]=ye,this.updatedImages[ne]=!0},j.prototype.removeImage=function(ne){var ye=this.images[ne];delete this.images[ne],delete this.patterns[ne],ye.userImage&&ye.userImage.onRemove&&ye.userImage.onRemove()},j.prototype.listImages=function(){return Object.keys(this.images)},j.prototype.getImages=function(ne,ye){var ze=!0;if(!this.isLoaded())for(var Xe=0,st=ne;Xe<st.length;Xe+=1){var mt=st[Xe];this.images[mt]||(ze=!1)}this.isLoaded()||ze?this._notify(ne,ye):this.requestors.push({ids:ne,callback:ye})},j.prototype._notify=function(ne,ye){for(var ze={},Xe=0,st=ne;Xe<st.length;Xe+=1){var mt=st[Xe];this.images[mt]||this.fire(new n.Event("styleimagemissing",{id:mt}));var Bt=this.images[mt];Bt?ze[mt]={data:Bt.data.clone(),pixelRatio:Bt.pixelRatio,sdf:Bt.sdf,version:Bt.version,stretchX:Bt.stretchX,stretchY:Bt.stretchY,content:Bt.content,hasRenderCallback:!!(Bt.userImage&&Bt.userImage.render)}:n.warnOnce('Image "'+mt+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}ye(null,ze)},j.prototype.getPixelSize=function(){var ne=this.atlasImage,ye=ne.width,ze=ne.height;return{width:ye,height:ze}},j.prototype.getPattern=function(ne){var ye=this.patterns[ne],ze=this.getImage(ne);if(!ze)return null;if(ye&&ye.position.version===ze.version)return ye.position;if(ye)ye.position.version=ze.version;else{var Xe=ze.data.width+f*2,st=ze.data.height+f*2,mt={w:Xe,h:st,x:0,y:0},Bt=new n.ImagePosition(mt,ze);this.patterns[ne]={bin:mt,position:Bt}}return this._updatePatternAtlas(),this.patterns[ne].position},j.prototype.bind=function(ne){var ye=ne.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(ne,this.atlasImage,ye.RGBA),this.atlasTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE)},j.prototype._updatePatternAtlas=function(){var ne=[];for(var ye in this.patterns)ne.push(this.patterns[ye].bin);var ze=n.potpack(ne),Xe=ze.w,st=ze.h,mt=this.atlasImage;mt.resize({width:Xe||1,height:st||1});for(var Bt in this.patterns){var Jt=this.patterns[Bt],fr=Jt.bin,mr=fr.x+f,_r=fr.y+f,Wr=this.images[Bt].data,Yr=Wr.width,Gr=Wr.height;n.RGBAImage.copy(Wr,mt,{x:0,y:0},{x:mr,y:_r},{width:Yr,height:Gr}),n.RGBAImage.copy(Wr,mt,{x:0,y:Gr-1},{x:mr,y:_r-1},{width:Yr,height:1}),n.RGBAImage.copy(Wr,mt,{x:0,y:0},{x:mr,y:_r+Gr},{width:Yr,height:1}),n.RGBAImage.copy(Wr,mt,{x:Yr-1,y:0},{x:mr-1,y:_r},{width:1,height:Gr}),n.RGBAImage.copy(Wr,mt,{x:0,y:0},{x:mr+Yr,y:_r},{width:1,height:Gr})}this.dirty=!0},j.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},j.prototype.dispatchRenderCallbacks=function(ne){for(var ye=0,ze=ne;ye<ze.length;ye+=1){var Xe=ze[ye];if(!this.callbackDispatchedThisFrame[Xe]){this.callbackDispatchedThisFrame[Xe]=!0;var st=this.images[Xe],mt=b(st);mt&&this.updateImage(Xe,st)}}},j}(n.Evented);function v(ve,j,ge,ne,ye){var ze=j*256,Xe=ze+255,st=ne.transformRequest(ne.normalizeGlyphsURL(ge).replace("{fontstack}",ve).replace("{range}",ze+"-"+Xe),n.ResourceType.Glyphs);n.getArrayBuffer(st,function(mt,Bt){if(mt)ye(mt);else if(Bt){for(var Jt={},fr=0,mr=n.parseGlyphPBF(Bt);fr<mr.length;fr+=1){var _r=mr[fr];Jt[_r.id]=_r}ye(null,Jt)}})}var o=M,d=M,S=1e20;function M(ve,j,ge,ne,ye,ze){this.fontSize=ve||24,this.buffer=j===void 0?3:j,this.cutoff=ne||.25,this.fontFamily=ye||"sans-serif",this.fontWeight=ze||"normal",this.radius=ge||8;var Xe=this.size=this.fontSize+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=Xe,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(Xe*Xe),this.gridInner=new Float64Array(Xe*Xe),this.f=new Float64Array(Xe),this.d=new Float64Array(Xe),this.z=new Float64Array(Xe+1),this.v=new Int16Array(Xe),this.middle=Math.round(Xe/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}M.prototype.draw=function(ve){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(ve,this.buffer,this.middle);for(var j=this.ctx.getImageData(0,0,this.size,this.size),ge=new Uint8ClampedArray(this.size*this.size),ne=0;ne<this.size*this.size;ne++){var ye=j.data[ne*4+3]/255;this.gridOuter[ne]=ye===1?0:ye===0?S:Math.pow(Math.max(0,.5-ye),2),this.gridInner[ne]=ye===1?S:ye===0?0:Math.pow(Math.max(0,ye-.5),2)}for(P(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),P(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),ne=0;ne<this.size*this.size;ne++){var ze=this.gridOuter[ne]-this.gridInner[ne];ge[ne]=Math.max(0,Math.min(255,Math.round(255-255*(ze/this.radius+this.cutoff))))}return ge};function P(ve,j,ge,ne,ye,ze,Xe){for(var st=0;st<j;st++){for(var mt=0;mt<ge;mt++)ne[mt]=ve[mt*j+st];for(x(ne,ye,ze,Xe,ge),mt=0;mt<ge;mt++)ve[mt*j+st]=ye[mt]}for(mt=0;mt<ge;mt++){for(st=0;st<j;st++)ne[st]=ve[mt*j+st];for(x(ne,ye,ze,Xe,j),st=0;st<j;st++)ve[mt*j+st]=Math.sqrt(ye[st])}}function x(ve,j,ge,ne,ye){ge[0]=0,ne[0]=-S,ne[1]=+S;for(var ze=1,Xe=0;ze<ye;ze++){for(var st=(ve[ze]+ze*ze-(ve[ge[Xe]]+ge[Xe]*ge[Xe]))/(2*ze-2*ge[Xe]);st<=ne[Xe];)Xe--,st=(ve[ze]+ze*ze-(ve[ge[Xe]]+ge[Xe]*ge[Xe]))/(2*ze-2*ge[Xe]);Xe++,ge[Xe]=ze,ne[Xe]=st,ne[Xe+1]=+S}for(ze=0,Xe=0;ze<ye;ze++){for(;ne[Xe+1]<ze;)Xe++;j[ze]=(ze-ge[Xe])*(ze-ge[Xe])+ve[ge[Xe]]}}o.default=d;var E=function(j,ge){this.requestManager=j,this.localIdeographFontFamily=ge,this.entries={}};E.prototype.setURL=function(j){this.url=j},E.prototype.getGlyphs=function(j,ge){var ne=this,ye=[];for(var ze in j)for(var Xe=0,st=j[ze];Xe<st.length;Xe+=1){var mt=st[Xe];ye.push({stack:ze,id:mt})}n.asyncAll(ye,function(Bt,Jt){var fr=Bt.stack,mr=Bt.id,_r=ne.entries[fr];_r||(_r=ne.entries[fr]={glyphs:{},requests:{},ranges:{}});var Wr=_r.glyphs[mr];if(Wr!==void 0){Jt(null,{stack:fr,id:mr,glyph:Wr});return}if(Wr=ne._tinySDF(_r,fr,mr),Wr){_r.glyphs[mr]=Wr,Jt(null,{stack:fr,id:mr,glyph:Wr});return}var Yr=Math.floor(mr/256);if(Yr*256>65535){Jt(new Error("glyphs > 65535 not supported"));return}if(_r.ranges[Yr]){Jt(null,{stack:fr,id:mr,glyph:Wr});return}var Gr=_r.requests[Yr];Gr||(Gr=_r.requests[Yr]=[],E.loadGlyphRange(fr,Yr,ne.url,ne.requestManager,function(qr,un){if(un){for(var En in un)ne._doesCharSupportLocalGlyph(+En)||(_r.glyphs[+En]=un[+En]);_r.ranges[Yr]=!0}for(var On=0,Xn=Gr;On<Xn.length;On+=1){var Kn=Xn[On];Kn(qr,un)}delete _r.requests[Yr]})),Gr.push(function(qr,un){qr?Jt(qr):un&&Jt(null,{stack:fr,id:mr,glyph:un[mr]||null})})},function(Bt,Jt){if(Bt)ge(Bt);else if(Jt){for(var fr={},mr=0,_r=Jt;mr<_r.length;mr+=1){var Wr=_r[mr],Yr=Wr.stack,Gr=Wr.id,qr=Wr.glyph;(fr[Yr]||(fr[Yr]={}))[Gr]=qr&&{id:qr.id,bitmap:qr.bitmap.clone(),metrics:qr.metrics}}ge(null,fr)}})},E.prototype._doesCharSupportLocalGlyph=function(j){return!!this.localIdeographFontFamily&&(n.isChar["CJK Unified Ideographs"](j)||n.isChar["Hangul Syllables"](j)||n.isChar.Hiragana(j)||n.isChar.Katakana(j))},E.prototype._tinySDF=function(j,ge,ne){var ye=this.localIdeographFontFamily;if(ye&&this._doesCharSupportLocalGlyph(ne)){var ze=j.tinySDF;if(!ze){var Xe="400";/bold/i.test(ge)?Xe="900":/medium/i.test(ge)?Xe="500":/light/i.test(ge)&&(Xe="200"),ze=j.tinySDF=new E.TinySDF(24,3,8,.25,ye,Xe)}return{id:ne,bitmap:new n.AlphaImage({width:30,height:30},ze.draw(String.fromCharCode(ne))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},E.loadGlyphRange=v,E.TinySDF=o;var T=function(){this.specification=n.styleSpec.light.position};T.prototype.possiblyEvaluate=function(j,ge){return n.sphericalToCartesian(j.expression.evaluate(ge))},T.prototype.interpolate=function(j,ge,ne){return{x:n.number(j.x,ge.x,ne),y:n.number(j.y,ge.y,ne),z:n.number(j.z,ge.z,ne)}};var i=new n.Properties({anchor:new n.DataConstantProperty(n.styleSpec.light.anchor),position:new T,color:new n.DataConstantProperty(n.styleSpec.light.color),intensity:new n.DataConstantProperty(n.styleSpec.light.intensity)}),R="-transition",A=function(ve){function j(ge){ve.call(this),this._transitionable=new n.Transitionable(i),this.setLight(ge),this._transitioning=this._transitionable.untransitioned()}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getLight=function(){return this._transitionable.serialize()},j.prototype.setLight=function(ne,ye){if(ye===void 0&&(ye={}),!this._validate(n.validateLight,ne,ye))for(var ze in ne){var Xe=ne[ze];n.endsWith(ze,R)?this._transitionable.setTransition(ze.slice(0,-R.length),Xe):this._transitionable.setValue(ze,Xe)}},j.prototype.updateTransitions=function(ne){this._transitioning=this._transitionable.transitioned(ne,this._transitioning)},j.prototype.hasTransition=function(){return this._transitioning.hasTransition()},j.prototype.recalculate=function(ne){this.properties=this._transitioning.possiblyEvaluate(ne)},j.prototype._validate=function(ne,ye,ze){return ze&&ze.validate===!1?!1:n.emitValidationErrors(this,ne.call(n.validateStyle,n.extend({value:ye,style:{glyphs:!0,sprite:!0},styleSpec:n.styleSpec})))},j}(n.Evented),k=function(j,ge){this.width=j,this.height=ge,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};k.prototype.getDash=function(j,ge){var ne=j.join(",")+String(ge);return this.dashEntry[ne]||(this.dashEntry[ne]=this.addDash(j,ge)),this.dashEntry[ne]},k.prototype.getDashRanges=function(j,ge,ne){var ye=j.length%2===1,ze=[],Xe=ye?-j[j.length-1]*ne:0,st=j[0]*ne,mt=!0;ze.push({left:Xe,right:st,isDash:mt,zeroLength:j[0]===0});for(var Bt=j[0],Jt=1;Jt<j.length;Jt++){mt=!mt;var fr=j[Jt];Xe=Bt*ne,Bt+=fr,st=Bt*ne,ze.push({left:Xe,right:st,isDash:mt,zeroLength:fr===0})}return ze},k.prototype.addRoundDash=function(j,ge,ne){for(var ye=ge/2,ze=-ne;ze<=ne;ze++)for(var Xe=this.nextRow+ne+ze,st=this.width*Xe,mt=0,Bt=j[mt],Jt=0;Jt<this.width;Jt++){Jt/Bt.right>1&&(Bt=j[++mt]);var fr=Math.abs(Jt-Bt.left),mr=Math.abs(Jt-Bt.right),_r=Math.min(fr,mr),Wr=void 0,Yr=ze/ne*(ye+1);if(Bt.isDash){var Gr=ye-Math.abs(Yr);Wr=Math.sqrt(_r*_r+Gr*Gr)}else Wr=ye-Math.sqrt(_r*_r+Yr*Yr);this.data[st+Jt]=Math.max(0,Math.min(255,Wr+128))}},k.prototype.addRegularDash=function(j){for(var ge=j.length-1;ge>=0;--ge){var ne=j[ge],ye=j[ge+1];ne.zeroLength?j.splice(ge,1):ye&&ye.isDash===ne.isDash&&(ye.left=ne.left,j.splice(ge,1))}var ze=j[0],Xe=j[j.length-1];ze.isDash===Xe.isDash&&(ze.left=Xe.left-this.width,Xe.right=ze.right+this.width);for(var st=this.width*this.nextRow,mt=0,Bt=j[mt],Jt=0;Jt<this.width;Jt++){Jt/Bt.right>1&&(Bt=j[++mt]);var fr=Math.abs(Jt-Bt.left),mr=Math.abs(Jt-Bt.right),_r=Math.min(fr,mr),Wr=Bt.isDash?_r:-_r;this.data[st+Jt]=Math.max(0,Math.min(255,Wr+128))}},k.prototype.addDash=function(j,ge){var ne=ge?7:0,ye=2*ne+1;if(this.nextRow+ye>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var ze=0,Xe=0;Xe<j.length;Xe++)ze+=j[Xe];if(ze!==0){var st=this.width/ze,mt=this.getDashRanges(j,this.width,st);ge?this.addRoundDash(mt,st,ne):this.addRegularDash(mt)}var Bt={y:(this.nextRow+ne+.5)/this.height,height:2*ne/this.height,width:ze};return this.nextRow+=ye,this.dirty=!0,Bt},k.prototype.bind=function(j){var ge=j.gl;this.texture?(ge.bindTexture(ge.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,ge.texSubImage2D(ge.TEXTURE_2D,0,0,0,this.width,this.height,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))):(this.texture=ge.createTexture(),ge.bindTexture(ge.TEXTURE_2D,this.texture),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_S,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_WRAP_T,ge.REPEAT),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MIN_FILTER,ge.LINEAR),ge.texParameteri(ge.TEXTURE_2D,ge.TEXTURE_MAG_FILTER,ge.LINEAR),ge.texImage2D(ge.TEXTURE_2D,0,ge.ALPHA,this.width,this.height,0,ge.ALPHA,ge.UNSIGNED_BYTE,this.data))};var _=function ve(j,ge){this.workerPool=j,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var ne=this.workerPool.acquire(this.id),ye=0;ye<ne.length;ye++){var ze=ne[ye],Xe=new ve.Actor(ze,ge,this.id);Xe.name="Worker "+ye,this.actors.push(Xe)}};_.prototype.broadcast=function(j,ge,ne){ne=ne||function(){},n.asyncAll(this.actors,function(ye,ze){ye.send(j,ge,ze)},ne)},_.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},_.prototype.remove=function(){this.actors.forEach(function(j){j.remove()}),this.actors=[],this.workerPool.release(this.id)},_.Actor=n.Actor;function H(ve,j,ge){var ne=function(ye,ze){if(ye)return ge(ye);if(ze){var Xe=n.pick(n.extend(ze,ve),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);ze.vector_layers&&(Xe.vectorLayers=ze.vector_layers,Xe.vectorLayerIds=Xe.vectorLayers.map(function(st){return st.id})),Xe.tiles=j.canonicalizeTileset(Xe,ve.url),ge(null,Xe)}};return ve.url?n.getJSON(j.transformRequest(j.normalizeSourceURL(ve.url),n.ResourceType.Source),ne):n.browser.frame(function(){return ne(null,ve)})}var z=function(j,ge,ne){this.bounds=n.LngLatBounds.convert(this.validateBounds(j)),this.minzoom=ge||0,this.maxzoom=ne||24};z.prototype.validateBounds=function(j){return!Array.isArray(j)||j.length!==4?[-180,-90,180,90]:[Math.max(-180,j[0]),Math.max(-90,j[1]),Math.min(180,j[2]),Math.min(90,j[3])]},z.prototype.contains=function(j){var ge=Math.pow(2,j.z),ne={minX:Math.floor(n.mercatorXfromLng(this.bounds.getWest())*ge),minY:Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*ge),maxX:Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*ge),maxY:Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*ge)},ye=j.x>=ne.minX&&j.x<ne.maxX&&j.y>=ne.minY&&j.y<ne.maxY;return ye};var N=function(ve){function j(ge,ne,ye,ze){if(ve.call(this),this.id=ge,this.dispatcher=ye,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(ne,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},ne),this._collectResourceTiming=ne.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(ze)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.load=function(){var ne=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=H(this._options,this.map._requestManager,function(ye,ze){ne._tileJSONRequest=null,ne._loaded=!0,ye?ne.fire(new n.ErrorEvent(ye)):ze&&(n.extend(ne,ze),ze.bounds&&(ne.tileBounds=new z(ze.bounds,ne.minzoom,ne.maxzoom)),n.postTurnstileEvent(ze.tiles,ne.map._requestManager._customAccessToken),n.postMapLoadEvent(ze.tiles,ne.map._getMapId(),ne.map._requestManager._skuToken,ne.map._requestManager._customAccessToken),ne.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),ne.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},j.prototype.loaded=function(){return this._loaded},j.prototype.hasTile=function(ne){return!this.tileBounds||this.tileBounds.contains(ne.canonical)},j.prototype.onAdd=function(ne){this.map=ne,this.load()},j.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},j.prototype.serialize=function(){return n.extend({},this._options)},j.prototype.loadTile=function(ne,ye){var ze=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme)),Xe={request:this.map._requestManager.transformRequest(ze,n.ResourceType.Tile),uid:ne.uid,tileID:ne.tileID,zoom:ne.tileID.overscaledZ,tileSize:this.tileSize*ne.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};Xe.request.collectResourceTiming=this._collectResourceTiming,!ne.actor||ne.state==="expired"?(ne.actor=this.dispatcher.getActor(),ne.request=ne.actor.send("loadTile",Xe,st.bind(this))):ne.state==="loading"?ne.reloadCallback=ye:ne.request=ne.actor.send("reloadTile",Xe,st.bind(this));function st(mt,Bt){if(delete ne.request,ne.aborted)return ye(null);if(mt&&mt.status!==404)return ye(mt);Bt&&Bt.resourceTiming&&(ne.resourceTiming=Bt.resourceTiming),this.map._refreshExpiredTiles&&Bt&&ne.setExpiryData(Bt),ne.loadVectorData(Bt,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),ye(null),ne.reloadCallback&&(this.loadTile(ne,ne.reloadCallback),ne.reloadCallback=null)}},j.prototype.abortTile=function(ne){ne.request&&(ne.request.cancel(),delete ne.request),ne.actor&&ne.actor.send("abortTile",{uid:ne.uid,type:this.type,source:this.id},void 0)},j.prototype.unloadTile=function(ne){ne.unloadVectorData(),ne.actor&&ne.actor.send("removeTile",{uid:ne.uid,type:this.type,source:this.id},void 0)},j.prototype.hasTransition=function(){return!1},j}(n.Evented),O=function(ve){function j(ge,ne,ye,ze){ve.call(this),this.id=ge,this.dispatcher=ye,this.setEventedParent(ze),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},ne),n.extend(this,n.pick(ne,["url","scheme","tileSize"]))}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.load=function(){var ne=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=H(this._options,this.map._requestManager,function(ye,ze){ne._tileJSONRequest=null,ne._loaded=!0,ye?ne.fire(new n.ErrorEvent(ye)):ze&&(n.extend(ne,ze),ze.bounds&&(ne.tileBounds=new z(ze.bounds,ne.minzoom,ne.maxzoom)),n.postTurnstileEvent(ze.tiles),n.postMapLoadEvent(ze.tiles,ne.map._getMapId(),ne.map._requestManager._skuToken),ne.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),ne.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},j.prototype.loaded=function(){return this._loaded},j.prototype.onAdd=function(ne){this.map=ne,this.load()},j.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},j.prototype.serialize=function(){return n.extend({},this._options)},j.prototype.hasTile=function(ne){return!this.tileBounds||this.tileBounds.contains(ne.canonical)},j.prototype.loadTile=function(ne,ye){var ze=this,Xe=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ne.request=n.getImage(this.map._requestManager.transformRequest(Xe,n.ResourceType.Tile),function(st,mt){if(delete ne.request,ne.aborted)ne.state="unloaded",ye(null);else if(st)ne.state="errored",ye(st);else if(mt){ze.map._refreshExpiredTiles&&ne.setExpiryData(mt),delete mt.cacheControl,delete mt.expires;var Bt=ze.map.painter.context,Jt=Bt.gl;ne.texture=ze.map.painter.getTileTexture(mt.width),ne.texture?ne.texture.update(mt,{useMipmap:!0}):(ne.texture=new n.Texture(Bt,mt,Jt.RGBA,{useMipmap:!0}),ne.texture.bind(Jt.LINEAR,Jt.CLAMP_TO_EDGE,Jt.LINEAR_MIPMAP_NEAREST),Bt.extTextureFilterAnisotropic&&Jt.texParameterf(Jt.TEXTURE_2D,Bt.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Bt.extTextureFilterAnisotropicMax)),ne.state="loaded",n.cacheEntryPossiblyAdded(ze.dispatcher),ye(null)}})},j.prototype.abortTile=function(ne,ye){ne.request&&(ne.request.cancel(),delete ne.request),ye()},j.prototype.unloadTile=function(ne,ye){ne.texture&&this.map.painter.saveTileTexture(ne.texture),ye()},j.prototype.hasTransition=function(){return!1},j}(n.Evented),F=function(ve){function j(ge,ne,ye,ze){ve.call(this,ge,ne,ye,ze),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},ne),this.encoding=ne.encoding||"mapbox"}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},j.prototype.loadTile=function(ne,ye){var ze=this.map._requestManager.normalizeTileURL(ne.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);ne.request=n.getImage(this.map._requestManager.transformRequest(ze,n.ResourceType.Tile),Xe.bind(this)),ne.neighboringTiles=this._getNeighboringTiles(ne.tileID);function Xe(mt,Bt){if(delete ne.request,ne.aborted)ne.state="unloaded",ye(null);else if(mt)ne.state="errored",ye(mt);else if(Bt){this.map._refreshExpiredTiles&&ne.setExpiryData(Bt),delete Bt.cacheControl,delete Bt.expires;var Jt=n.window.ImageBitmap&&Bt instanceof n.window.ImageBitmap&&n.offscreenCanvasSupported(),fr=Jt?Bt:n.browser.getImageData(Bt,1),mr={uid:ne.uid,coord:ne.tileID,source:this.id,rawImageData:fr,encoding:this.encoding};(!ne.actor||ne.state==="expired")&&(ne.actor=this.dispatcher.getActor(),ne.actor.send("loadDEMTile",mr,st.bind(this)))}}function st(mt,Bt){mt&&(ne.state="errored",ye(mt)),Bt&&(ne.dem=Bt,ne.needsHillshadePrepare=!0,ne.state="loaded",ye(null))}},j.prototype._getNeighboringTiles=function(ne){var ye=ne.canonical,ze=Math.pow(2,ye.z),Xe=(ye.x-1+ze)%ze,st=ye.x===0?ne.wrap-1:ne.wrap,mt=(ye.x+1+ze)%ze,Bt=ye.x+1===ze?ne.wrap+1:ne.wrap,Jt={};return Jt[new n.OverscaledTileID(ne.overscaledZ,st,ye.z,Xe,ye.y).key]={backfilled:!1},Jt[new n.OverscaledTileID(ne.overscaledZ,Bt,ye.z,mt,ye.y).key]={backfilled:!1},ye.y>0&&(Jt[new n.OverscaledTileID(ne.overscaledZ,st,ye.z,Xe,ye.y-1).key]={backfilled:!1},Jt[new n.OverscaledTileID(ne.overscaledZ,ne.wrap,ye.z,ye.x,ye.y-1).key]={backfilled:!1},Jt[new n.OverscaledTileID(ne.overscaledZ,Bt,ye.z,mt,ye.y-1).key]={backfilled:!1}),ye.y+1<ze&&(Jt[new n.OverscaledTileID(ne.overscaledZ,st,ye.z,Xe,ye.y+1).key]={backfilled:!1},Jt[new n.OverscaledTileID(ne.overscaledZ,ne.wrap,ye.z,ye.x,ye.y+1).key]={backfilled:!1},Jt[new n.OverscaledTileID(ne.overscaledZ,Bt,ye.z,mt,ye.y+1).key]={backfilled:!1}),Jt},j.prototype.unloadTile=function(ne){ne.demTexture&&this.map.painter.saveTileTexture(ne.demTexture),ne.fbo&&(ne.fbo.destroy(),delete ne.fbo),ne.dem&&delete ne.dem,delete ne.neighboringTiles,ne.state="unloaded",ne.actor&&ne.actor.send("removeDEMTile",{uid:ne.uid,source:this.id})},j}(O),U=function(ve){function j(ge,ne,ye,ze){ve.call(this),this.id=ge,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=ye.getActor(),this.setEventedParent(ze),this._data=ne.data,this._options=n.extend({},ne),this._collectResourceTiming=ne.collectResourceTiming,this._resourceTiming=[],ne.maxzoom!==void 0&&(this.maxzoom=ne.maxzoom),ne.type&&(this.type=ne.type),ne.attribution&&(this.attribution=ne.attribution),this.promoteId=ne.promoteId;var Xe=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:ne.cluster||!1,geojsonVtOptions:{buffer:(ne.buffer!==void 0?ne.buffer:128)*Xe,tolerance:(ne.tolerance!==void 0?ne.tolerance:.375)*Xe,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:ne.lineMetrics||!1,generateId:ne.generateId||!1},superclusterOptions:{maxZoom:ne.clusterMaxZoom!==void 0?Math.min(ne.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:n.EXTENT,radius:(ne.clusterRadius||50)*Xe,log:!1,generateId:ne.generateId||!1},clusterProperties:ne.clusterProperties},ne.workerOptions)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.load=function(){var ne=this;this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ye){if(ye){ne.fire(new n.ErrorEvent(ye));return}var ze={dataType:"source",sourceDataType:"metadata"};ne._collectResourceTiming&&ne._resourceTiming&&ne._resourceTiming.length>0&&(ze.resourceTiming=ne._resourceTiming,ne._resourceTiming=[]),ne.fire(new n.Event("data",ze))})},j.prototype.onAdd=function(ne){this.map=ne,this.load()},j.prototype.setData=function(ne){var ye=this;return this._data=ne,this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(ze){if(ze){ye.fire(new n.ErrorEvent(ze));return}var Xe={dataType:"source",sourceDataType:"content"};ye._collectResourceTiming&&ye._resourceTiming&&ye._resourceTiming.length>0&&(Xe.resourceTiming=ye._resourceTiming,ye._resourceTiming=[]),ye.fire(new n.Event("data",Xe))}),this},j.prototype.getClusterExpansionZoom=function(ne,ye){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:ne,source:this.id},ye),this},j.prototype.getClusterChildren=function(ne,ye){return this.actor.send("geojson.getClusterChildren",{clusterId:ne,source:this.id},ye),this},j.prototype.getClusterLeaves=function(ne,ye,ze,Xe){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:ne,limit:ye,offset:ze},Xe),this},j.prototype._updateWorkerData=function(ne){var ye=this;this._loaded=!1;var ze=n.extend({},this.workerOptions),Xe=this._data;typeof Xe=="string"?(ze.request=this.map._requestManager.transformRequest(n.browser.resolveURL(Xe),n.ResourceType.Source),ze.request.collectResourceTiming=this._collectResourceTiming):ze.data=JSON.stringify(Xe),this.actor.send(this.type+".loadData",ze,function(st,mt){ye._removed||mt&&mt.abandoned||(ye._loaded=!0,mt&&mt.resourceTiming&&mt.resourceTiming[ye.id]&&(ye._resourceTiming=mt.resourceTiming[ye.id].slice(0)),ye.actor.send(ye.type+".coalesce",{source:ze.source},null),ne(st))})},j.prototype.loaded=function(){return this._loaded},j.prototype.loadTile=function(ne,ye){var ze=this,Xe=ne.actor?"reloadTile":"loadTile";ne.actor=this.actor;var st={type:this.type,uid:ne.uid,tileID:ne.tileID,zoom:ne.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};ne.request=this.actor.send(Xe,st,function(mt,Bt){return delete ne.request,ne.unloadVectorData(),ne.aborted?ye(null):mt?ye(mt):(ne.loadVectorData(Bt,ze.map.painter,Xe==="reloadTile"),ye(null))})},j.prototype.abortTile=function(ne){ne.request&&(ne.request.cancel(),delete ne.request),ne.aborted=!0},j.prototype.unloadTile=function(ne){ne.unloadVectorData(),this.actor.send("removeTile",{uid:ne.uid,type:this.type,source:this.id})},j.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},j.prototype.serialize=function(){return n.extend({},this._options,{type:this.type,data:this._data})},j.prototype.hasTransition=function(){return!1},j}(n.Evented),Z=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),q=function(ve){function j(ge,ne,ye,ze){ve.call(this),this.id=ge,this.dispatcher=ye,this.coordinates=ne.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(ze),this.options=ne}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.load=function(ne,ye){var ze=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),function(Xe,st){ze._loaded=!0,Xe?ze.fire(new n.ErrorEvent(Xe)):st&&(ze.image=st,ne&&(ze.coordinates=ne),ye&&ye(),ze._finishLoading())})},j.prototype.loaded=function(){return this._loaded},j.prototype.updateImage=function(ne){var ye=this;return!this.image||!ne.url?this:(this.options.url=ne.url,this.load(ne.coordinates,function(){ye.texture=null}),this)},j.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))},j.prototype.onAdd=function(ne){this.map=ne,this.load()},j.prototype.setCoordinates=function(ne){var ye=this;this.coordinates=ne;var ze=ne.map(n.MercatorCoordinate.fromLngLat);this.tileID=J(ze),this.minzoom=this.maxzoom=this.tileID.z;var Xe=ze.map(function(st){return ye.tileID.getTilePoint(st)._round()});return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack(Xe[0].x,Xe[0].y,0,0),this._boundsArray.emplaceBack(Xe[1].x,Xe[1].y,n.EXTENT,0),this._boundsArray.emplaceBack(Xe[3].x,Xe[3].y,0,n.EXTENT),this._boundsArray.emplaceBack(Xe[2].x,Xe[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this},j.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||!this.image)){var ne=this.map.painter.context,ye=ne.gl;this.boundsBuffer||(this.boundsBuffer=ne.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(ne,this.image,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var ze in this.tiles){var Xe=this.tiles[ze];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},j.prototype.loadTile=function(ne,ye){this.tileID&&this.tileID.equals(ne.tileID.canonical)?(this.tiles[String(ne.tileID.wrap)]=ne,ne.buckets={},ye(null)):(ne.state="errored",ye(null))},j.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},j.prototype.hasTransition=function(){return!1},j}(n.Evented);function J(ve){for(var j=1/0,ge=1/0,ne=-1/0,ye=-1/0,ze=0,Xe=ve;ze<Xe.length;ze+=1){var st=Xe[ze];j=Math.min(j,st.x),ge=Math.min(ge,st.y),ne=Math.max(ne,st.x),ye=Math.max(ye,st.y)}var mt=ne-j,Bt=ye-ge,Jt=Math.max(mt,Bt),fr=Math.max(0,Math.floor(-Math.log(Jt)/Math.LN2)),mr=Math.pow(2,fr);return new n.CanonicalTileID(fr,Math.floor((j+ne)/2*mr),Math.floor((ge+ye)/2*mr))}var te=function(ve){function j(ge,ne,ye,ze){ve.call(this,ge,ne,ye,ze),this.roundZoom=!0,this.type="video",this.options=ne}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.load=function(){var ne=this;this._loaded=!1;var ye=this.options;this.urls=[];for(var ze=0,Xe=ye.urls;ze<Xe.length;ze+=1){var st=Xe[ze];this.urls.push(this.map._requestManager.transformRequest(st,n.ResourceType.Source).url)}n.getVideo(this.urls,function(mt,Bt){ne._loaded=!0,mt?ne.fire(new n.ErrorEvent(mt)):Bt&&(ne.video=Bt,ne.video.loop=!0,ne.video.addEventListener("playing",function(){ne.map.triggerRepaint()}),ne.map&&ne.video.play(),ne._finishLoading())})},j.prototype.pause=function(){this.video&&this.video.pause()},j.prototype.play=function(){this.video&&this.video.play()},j.prototype.seek=function(ne){if(this.video){var ye=this.video.seekable;ne<ye.start(0)||ne>ye.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+ye.start(0)+" and "+ye.end(0)+"-second mark."))):this.video.currentTime=ne}},j.prototype.getVideo=function(){return this.video},j.prototype.onAdd=function(ne){this.map||(this.map=ne,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},j.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var ne=this.map.painter.context,ye=ne.gl;this.boundsBuffer||(this.boundsBuffer=ne.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),ye.texSubImage2D(ye.TEXTURE_2D,0,0,0,ye.RGBA,ye.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(ne,this.video,ye.RGBA),this.texture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE));for(var ze in this.tiles){var Xe=this.tiles[ze];Xe.state!=="loaded"&&(Xe.state="loaded",Xe.texture=this.texture)}}},j.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},j.prototype.hasTransition=function(){return this.video&&!this.video.paused},j}(q),fe=function(ve){function j(ge,ne,ye,ze){ve.call(this,ge,ne,ye,ze),ne.coordinates?(!Array.isArray(ne.coordinates)||ne.coordinates.length!==4||ne.coordinates.some(function(Xe){return!Array.isArray(Xe)||Xe.length!==2||Xe.some(function(st){return typeof st!="number"})}))&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'missing required property "coordinates"'))),ne.animate&&typeof ne.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'optional "animate" property must be a boolean value'))),ne.canvas?typeof ne.canvas!="string"&&!(ne.canvas instanceof n.window.HTMLCanvasElement)&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+ge,null,'missing required property "canvas"'))),this.options=ne,this.animate=ne.animate!==void 0?ne.animate:!0}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.load=function(){if(this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()){this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero.")));return}this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading()},j.prototype.getCanvas=function(){return this.canvas},j.prototype.onAdd=function(ne){this.map=ne,this.load(),this.canvas&&this.animate&&this.play()},j.prototype.onRemove=function(){this.pause()},j.prototype.prepare=function(){var ne=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,ne=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,ne=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var ye=this.map.painter.context,ze=ye.gl;this.boundsBuffer||(this.boundsBuffer=ye.createVertexBuffer(this._boundsArray,Z.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(ne||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(ye,this.canvas,ze.RGBA,{premultiply:!0});for(var Xe in this.tiles){var st=this.tiles[Xe];st.state!=="loaded"&&(st.state="loaded",st.texture=this.texture)}}},j.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},j.prototype.hasTransition=function(){return this._playing},j.prototype._hasInvalidDimensions=function(){for(var ne=0,ye=[this.canvas.width,this.canvas.height];ne<ye.length;ne+=1){var ze=ye[ne];if(isNaN(ze)||ze<=0)return!0}return!1},j}(q),K={vector:N,raster:O,"raster-dem":F,geojson:U,video:te,image:q,canvas:fe},Y=function(ve,j,ge,ne){var ye=new K[j.type](ve,j,ge,ne);if(ye.id!==ve)throw new Error("Expected Source id to be "+ve+" instead of "+ye.id);return n.bindAll(["load","abort","unload","serialize","prepare"],ye),ye},W=function(ve){return K[ve]},X=function(ve,j){K[ve]=j};function re(ve,j){var ge=n.identity([]);return n.translate(ge,ge,[1,1,0]),n.scale(ge,ge,[ve.width*.5,ve.height*.5,1]),n.multiply(ge,ge,ve.calculatePosMatrix(j.toUnwrapped()))}function se(ve,j,ge){if(ve)for(var ne=0,ye=ve;ne<ye.length;ne+=1){var ze=ye[ne],Xe=j[ze];if(Xe&&Xe.source===ge&&Xe.type==="fill-extrusion")return!0}else for(var st in j){var mt=j[st];if(mt.source===ge&&mt.type==="fill-extrusion")return!0}return!1}function Q(ve,j,ge,ne,ye,ze){var Xe=se(ye&&ye.layers,j,ve.id),st=ze.maxPitchScaleFactor(),mt=ve.tilesIn(ne,st,Xe);mt.sort(oe);for(var Bt=[],Jt=0,fr=mt;Jt<fr.length;Jt+=1){var mr=fr[Jt];Bt.push({wrappedTileID:mr.tileID.wrapped().key,queryResults:mr.tile.queryRenderedFeatures(j,ge,ve._state,mr.queryGeometry,mr.cameraQueryGeometry,mr.scale,ye,ze,st,re(ve.transform,mr.tileID))})}var _r=he(Bt);for(var Wr in _r)_r[Wr].forEach(function(Yr){var Gr=Yr.feature,qr=ve.getFeatureState(Gr.layer["source-layer"],Gr.id);Gr.source=Gr.layer.source,Gr.layer["source-layer"]&&(Gr.sourceLayer=Gr.layer["source-layer"]),Gr.state=qr});return _r}function ee(ve,j,ge,ne,ye,ze,Xe){for(var st={},mt=ze.queryRenderedSymbols(ne),Bt=[],Jt=0,fr=Object.keys(mt).map(Number);Jt<fr.length;Jt+=1){var mr=fr[Jt];Bt.push(Xe[mr])}Bt.sort(oe);for(var _r=function(){var un=Yr[Wr],En=un.featureIndex.lookupSymbolFeatures(mt[un.bucketInstanceId],j,un.bucketIndex,un.sourceLayerIndex,ye.filter,ye.layers,ye.availableImages,ve);for(var On in En){var Xn=st[On]=st[On]||[],Kn=En[On];Kn.sort(function(va,xa){var Ma=un.featureSortOrder;if(Ma){var Ua=Ma.indexOf(va.featureIndex),Ja=Ma.indexOf(xa.featureIndex);return Ja-Ua}else return xa.featureIndex-va.featureIndex});for(var jn=0,ia=Kn;jn<ia.length;jn+=1){var pa=ia[jn];Xn.push(pa)}}},Wr=0,Yr=Bt;Wr<Yr.length;Wr+=1)_r();var Gr=function(un){st[un].forEach(function(En){var On=En.feature,Xn=ve[un],Kn=ge[Xn.source],jn=Kn.getFeatureState(On.layer["source-layer"],On.id);On.source=On.layer.source,On.layer["source-layer"]&&(On.sourceLayer=On.layer["source-layer"]),On.state=jn})};for(var qr in st)Gr(qr);return st}function le(ve,j){for(var ge=ve.getRenderableIds().map(function(mt){return ve.getTileByID(mt)}),ne=[],ye={},ze=0;ze<ge.length;ze++){var Xe=ge[ze],st=Xe.tileID.canonical.key;ye[st]||(ye[st]=!0,Xe.querySourceFeatures(ne,j))}return ne}function oe(ve,j){var ge=ve.tileID,ne=j.tileID;return ge.overscaledZ-ne.overscaledZ||ge.canonical.y-ne.canonical.y||ge.wrap-ne.wrap||ge.canonical.x-ne.canonical.x}function he(ve){for(var j={},ge={},ne=0,ye=ve;ne<ye.length;ne+=1){var ze=ye[ne],Xe=ze.queryResults,st=ze.wrappedTileID,mt=ge[st]=ge[st]||{};for(var Bt in Xe)for(var Jt=Xe[Bt],fr=mt[Bt]=mt[Bt]||{},mr=j[Bt]=j[Bt]||[],_r=0,Wr=Jt;_r<Wr.length;_r+=1){var Yr=Wr[_r];fr[Yr.featureIndex]||(fr[Yr.featureIndex]=!0,mr.push(Yr))}}return j}var xe=function(j,ge){this.max=j,this.onRemove=ge,this.reset()};xe.prototype.reset=function(){for(var j in this.data)for(var ge=0,ne=this.data[j];ge<ne.length;ge+=1){var ye=ne[ge];ye.timeout&&clearTimeout(ye.timeout),this.onRemove(ye.value)}return this.data={},this.order=[],this},xe.prototype.add=function(j,ge,ne){var ye=this,ze=j.wrapped().key;this.data[ze]===void 0&&(this.data[ze]=[]);var Xe={value:ge,timeout:void 0};if(ne!==void 0&&(Xe.timeout=setTimeout(function(){ye.remove(j,Xe)},ne)),this.data[ze].push(Xe),this.order.push(ze),this.order.length>this.max){var st=this._getAndRemoveByKey(this.order[0]);st&&this.onRemove(st)}return this},xe.prototype.has=function(j){return j.wrapped().key in this.data},xe.prototype.getAndRemove=function(j){return this.has(j)?this._getAndRemoveByKey(j.wrapped().key):null},xe.prototype._getAndRemoveByKey=function(j){var ge=this.data[j].shift();return ge.timeout&&clearTimeout(ge.timeout),this.data[j].length===0&&delete this.data[j],this.order.splice(this.order.indexOf(j),1),ge.value},xe.prototype.getByKey=function(j){var ge=this.data[j];return ge?ge[0].value:null},xe.prototype.get=function(j){if(!this.has(j))return null;var ge=this.data[j.wrapped().key][0];return ge.value},xe.prototype.remove=function(j,ge){if(!this.has(j))return this;var ne=j.wrapped().key,ye=ge===void 0?0:this.data[ne].indexOf(ge),ze=this.data[ne][ye];return this.data[ne].splice(ye,1),ze.timeout&&clearTimeout(ze.timeout),this.data[ne].length===0&&delete this.data[ne],this.onRemove(ze.value),this.order.splice(this.order.indexOf(ne),1),this},xe.prototype.setMaxSize=function(j){for(this.max=j;this.order.length>this.max;){var ge=this._getAndRemoveByKey(this.order[0]);ge&&this.onRemove(ge)}return this},xe.prototype.filter=function(j){var ge=[];for(var ne in this.data)for(var ye=0,ze=this.data[ne];ye<ze.length;ye+=1){var Xe=ze[ye];j(Xe.value)||ge.push(Xe)}for(var st=0,mt=ge;st<mt.length;st+=1){var Bt=mt[st];this.remove(Bt.value.tileID,Bt)}};var Ae=function(j,ge,ne){this.context=j;var ye=j.gl;this.buffer=ye.createBuffer(),this.dynamicDraw=!!ne,this.context.unbindVAO(),j.bindElementBuffer.set(this.buffer),ye.bufferData(ye.ELEMENT_ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?ye.DYNAMIC_DRAW:ye.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Ae.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},Ae.prototype.updateData=function(j){var ge=this.context.gl;this.context.unbindVAO(),this.bind(),ge.bufferSubData(ge.ELEMENT_ARRAY_BUFFER,0,j.arrayBuffer)},Ae.prototype.destroy=function(){var j=this.context.gl;this.buffer&&(j.deleteBuffer(this.buffer),delete this.buffer)};var Se={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},Oe=function(j,ge,ne,ye){this.length=ge.length,this.attributes=ne,this.itemSize=ge.bytesPerElement,this.dynamicDraw=ye,this.context=j;var ze=j.gl;this.buffer=ze.createBuffer(),j.bindVertexBuffer.set(this.buffer),ze.bufferData(ze.ARRAY_BUFFER,ge.arrayBuffer,this.dynamicDraw?ze.DYNAMIC_DRAW:ze.STATIC_DRAW),this.dynamicDraw||delete ge.arrayBuffer};Oe.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},Oe.prototype.updateData=function(j){var ge=this.context.gl;this.bind(),ge.bufferSubData(ge.ARRAY_BUFFER,0,j.arrayBuffer)},Oe.prototype.enableAttributes=function(j,ge){for(var ne=0;ne<this.attributes.length;ne++){var ye=this.attributes[ne],ze=ge.attributes[ye.name];ze!==void 0&&j.enableVertexAttribArray(ze)}},Oe.prototype.setVertexAttribPointers=function(j,ge,ne){for(var ye=0;ye<this.attributes.length;ye++){var ze=this.attributes[ye],Xe=ge.attributes[ze.name];Xe!==void 0&&j.vertexAttribPointer(Xe,ze.components,j[Se[ze.type]],!1,this.itemSize,ze.offset+this.itemSize*(ne||0))}},Oe.prototype.destroy=function(){var j=this.context.gl;this.buffer&&(j.deleteBuffer(this.buffer),delete this.buffer)};var Ve=function(j){this.gl=j.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Ve.prototype.get=function(){return this.current},Ve.prototype.set=function(j){},Ve.prototype.getDefault=function(){return this.default},Ve.prototype.setDefault=function(){this.set(this.default)};var Ee=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return n.Color.transparent},j.prototype.set=function(ne){var ye=this.current;ne.r===ye.r&&ne.g===ye.g&&ne.b===ye.b&&ne.a===ye.a&&!this.dirty||(this.gl.clearColor(ne.r,ne.g,ne.b,ne.a),this.current=ne,this.dirty=!1)},j}(Ve),Te=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return 1},j.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.clearDepth(ne),this.current=ne,this.dirty=!1)},j}(Ve),Le=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return 0},j.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.clearStencil(ne),this.current=ne,this.dirty=!1)},j}(Ve),Ge=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return[!0,!0,!0,!0]},j.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&ne[2]===ye[2]&&ne[3]===ye[3]&&!this.dirty||(this.gl.colorMask(ne[0],ne[1],ne[2],ne[3]),this.current=ne,this.dirty=!1)},j}(Ve),He=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!0},j.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.depthMask(ne),this.current=ne,this.dirty=!1)},j}(Ve),ke=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return 255},j.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.stencilMask(ne),this.current=ne,this.dirty=!1)},j}(Ve),We=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},j.prototype.set=function(ne){var ye=this.current;ne.func===ye.func&&ne.ref===ye.ref&&ne.mask===ye.mask&&!this.dirty||(this.gl.stencilFunc(ne.func,ne.ref,ne.mask),this.current=ne,this.dirty=!1)},j}(Ve),nt=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){var ne=this.gl;return[ne.KEEP,ne.KEEP,ne.KEEP]},j.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&ne[2]===ye[2]&&!this.dirty||(this.gl.stencilOp(ne[0],ne[1],ne[2]),this.current=ne,this.dirty=!1)},j}(Ve),qe=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.STENCIL_TEST):ye.disable(ye.STENCIL_TEST),this.current=ne,this.dirty=!1}},j}(Ve),Qe=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return[0,1]},j.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&!this.dirty||(this.gl.depthRange(ne[0],ne[1]),this.current=ne,this.dirty=!1)},j}(Ve),tt=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.DEPTH_TEST):ye.disable(ye.DEPTH_TEST),this.current=ne,this.dirty=!1}},j}(Ve),vt=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return this.gl.LESS},j.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.depthFunc(ne),this.current=ne,this.dirty=!1)},j}(Ve),dt=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.BLEND):ye.disable(ye.BLEND),this.current=ne,this.dirty=!1}},j}(Ve),gt=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){var ne=this.gl;return[ne.ONE,ne.ZERO]},j.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&!this.dirty||(this.gl.blendFunc(ne[0],ne[1]),this.current=ne,this.dirty=!1)},j}(Ve),Mt=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return n.Color.transparent},j.prototype.set=function(ne){var ye=this.current;ne.r===ye.r&&ne.g===ye.g&&ne.b===ye.b&&ne.a===ye.a&&!this.dirty||(this.gl.blendColor(ne.r,ne.g,ne.b,ne.a),this.current=ne,this.dirty=!1)},j}(Ve),Rt=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return this.gl.FUNC_ADD},j.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.blendEquation(ne),this.current=ne,this.dirty=!1)},j}(Ve),Wt=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ne?ye.enable(ye.CULL_FACE):ye.disable(ye.CULL_FACE),this.current=ne,this.dirty=!1}},j}(Ve),je=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return this.gl.BACK},j.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.cullFace(ne),this.current=ne,this.dirty=!1)},j}(Ve),_e=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return this.gl.CCW},j.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.frontFace(ne),this.current=ne,this.dirty=!1)},j}(Ve),Fe=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.useProgram(ne),this.current=ne,this.dirty=!1)},j}(Ve),Be=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return this.gl.TEXTURE0},j.prototype.set=function(ne){ne===this.current&&!this.dirty||(this.gl.activeTexture(ne),this.current=ne,this.dirty=!1)},j}(Ve),De=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){var ne=this.gl;return[0,0,ne.drawingBufferWidth,ne.drawingBufferHeight]},j.prototype.set=function(ne){var ye=this.current;ne[0]===ye[0]&&ne[1]===ye[1]&&ne[2]===ye[2]&&ne[3]===ye[3]&&!this.dirty||(this.gl.viewport(ne[0],ne[1],ne[2],ne[3]),this.current=ne,this.dirty=!1)},j}(Ve),we=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindFramebuffer(ye.FRAMEBUFFER,ne),this.current=ne,this.dirty=!1}},j}(Ve),ue=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindRenderbuffer(ye.RENDERBUFFER,ne),this.current=ne,this.dirty=!1}},j}(Ve),me=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindTexture(ye.TEXTURE_2D,ne),this.current=ne,this.dirty=!1}},j}(Ve),Re=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.bindBuffer(ye.ARRAY_BUFFER,ne),this.current=ne,this.dirty=!1}},j}(Ve),Ne=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ne){var ye=this.gl;ye.bindBuffer(ye.ELEMENT_ARRAY_BUFFER,ne),this.current=ne,this.dirty=!1},j}(Ve),it=function(ve){function j(ge){ve.call(this,ge),this.vao=ge.extVertexArrayObject}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j.prototype.set=function(ne){!this.vao||ne===this.current&&!this.dirty||(this.vao.bindVertexArrayOES(ne),this.current=ne,this.dirty=!1)},j}(Ve),ot=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return 4},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_ALIGNMENT,ne),this.current=ne,this.dirty=!1}},j}(Ve),wt=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ne),this.current=ne,this.dirty=!1}},j}(Ve),Ft=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return!1},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){var ye=this.gl;ye.pixelStorei(ye.UNPACK_FLIP_Y_WEBGL,ne),this.current=ne,this.dirty=!1}},j}(Ve),Ut=function(ve){function j(ge,ne){ve.call(this,ge),this.context=ge,this.parent=ne}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getDefault=function(){return null},j}(Ve),Gt=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.setDirty=function(){this.dirty=!0},j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferTexture2D(ye.FRAMEBUFFER,ye.COLOR_ATTACHMENT0,ye.TEXTURE_2D,ne,0),this.current=ne,this.dirty=!1}},j}(Ut),Et=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.set=function(ne){if(!(ne===this.current&&!this.dirty)){this.context.bindFramebuffer.set(this.parent);var ye=this.gl;ye.framebufferRenderbuffer(ye.FRAMEBUFFER,ye.DEPTH_ATTACHMENT,ye.RENDERBUFFER,ne),this.current=ne,this.dirty=!1}},j}(Ut),$t=function(j,ge,ne,ye){this.context=j,this.width=ge,this.height=ne;var ze=j.gl,Xe=this.framebuffer=ze.createFramebuffer();this.colorAttachment=new Gt(j,Xe),ye&&(this.depthAttachment=new Et(j,Xe))};$t.prototype.destroy=function(){var j=this.context.gl,ge=this.colorAttachment.get();if(ge&&j.deleteTexture(ge),this.depthAttachment){var ne=this.depthAttachment.get();ne&&j.deleteRenderbuffer(ne)}j.deleteFramebuffer(this.framebuffer)};var lr=519,Fr=function(j,ge,ne){this.func=j,this.mask=ge,this.range=ne};Fr.ReadOnly=!1,Fr.ReadWrite=!0,Fr.disabled=new Fr(lr,Fr.ReadOnly,[0,1]);var yt=519,Kt=7680,Zt=function(j,ge,ne,ye,ze,Xe){this.test=j,this.ref=ge,this.mask=ne,this.fail=ye,this.depthFail=ze,this.pass=Xe};Zt.disabled=new Zt({func:yt,mask:0},0,0,Kt,Kt,Kt);var Ar=0,vr=1,ut=771,lt=function(j,ge,ne){this.blendFunction=j,this.blendColor=ge,this.mask=ne};lt.Replace=[vr,Ar],lt.disabled=new lt(lt.Replace,n.Color.transparent,[!1,!1,!1,!1]),lt.unblended=new lt(lt.Replace,n.Color.transparent,[!0,!0,!0,!0]),lt.alphaBlended=new lt([vr,ut],n.Color.transparent,[!0,!0,!0,!0]);var xt=1029,Tt=2305,Ct=function(j,ge,ne){this.enable=j,this.mode=ge,this.frontFace=ne};Ct.disabled=new Ct(!1,xt,Tt),Ct.backCCW=new Ct(!0,xt,Tt);var At=function(j){this.gl=j,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Ee(this),this.clearDepth=new Te(this),this.clearStencil=new Le(this),this.colorMask=new Ge(this),this.depthMask=new He(this),this.stencilMask=new ke(this),this.stencilFunc=new We(this),this.stencilOp=new nt(this),this.stencilTest=new qe(this),this.depthRange=new Qe(this),this.depthTest=new tt(this),this.depthFunc=new vt(this),this.blend=new dt(this),this.blendFunc=new gt(this),this.blendColor=new Mt(this),this.blendEquation=new Rt(this),this.cullFace=new Wt(this),this.cullFaceSide=new je(this),this.frontFace=new _e(this),this.program=new Fe(this),this.activeTexture=new Be(this),this.viewport=new De(this),this.bindFramebuffer=new we(this),this.bindRenderbuffer=new ue(this),this.bindTexture=new me(this),this.bindVertexBuffer=new Re(this),this.bindElementBuffer=new Ne(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new it(this),this.pixelStoreUnpack=new ot(this),this.pixelStoreUnpackPremultiplyAlpha=new wt(this),this.pixelStoreUnpackFlipY=new Ft(this),this.extTextureFilterAnisotropic=j.getExtension("EXT_texture_filter_anisotropic")||j.getExtension("MOZ_EXT_texture_filter_anisotropic")||j.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=j.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=j.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(j.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=j.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=j.getExtension("EXT_disjoint_timer_query")};At.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},At.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},At.prototype.createIndexBuffer=function(j,ge){return new Ae(this,j,ge)},At.prototype.createVertexBuffer=function(j,ge,ne){return new Oe(this,j,ge,ne)},At.prototype.createRenderbuffer=function(j,ge,ne){var ye=this.gl,ze=ye.createRenderbuffer();return this.bindRenderbuffer.set(ze),ye.renderbufferStorage(ye.RENDERBUFFER,j,ge,ne),this.bindRenderbuffer.set(null),ze},At.prototype.createFramebuffer=function(j,ge,ne){return new $t(this,j,ge,ne)},At.prototype.clear=function(j){var ge=j.color,ne=j.depth,ye=this.gl,ze=0;ge&&(ze|=ye.COLOR_BUFFER_BIT,this.clearColor.set(ge),this.colorMask.set([!0,!0,!0,!0])),typeof ne<"u"&&(ze|=ye.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(ne),this.depthMask.set(!0)),ye.clear(ze)},At.prototype.setCullFace=function(j){j.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(j.mode),this.frontFace.set(j.frontFace))},At.prototype.setDepthMode=function(j){j.func===this.gl.ALWAYS&&!j.mask?this.depthTest.set(!1):(this.depthTest.set(!0),this.depthFunc.set(j.func),this.depthMask.set(j.mask),this.depthRange.set(j.range))},At.prototype.setStencilMode=function(j){j.test.func===this.gl.ALWAYS&&!j.mask?this.stencilTest.set(!1):(this.stencilTest.set(!0),this.stencilMask.set(j.mask),this.stencilOp.set([j.fail,j.depthFail,j.pass]),this.stencilFunc.set({func:j.test.func,ref:j.ref,mask:j.test.mask}))},At.prototype.setColorMode=function(j){n.deepEqual(j.blendFunction,lt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(j.blendFunction),this.blendColor.set(j.blendColor)),this.colorMask.set(j.mask)},At.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var zt=function(ve){function j(ge,ne,ye){var ze=this;ve.call(this),this.id=ge,this.dispatcher=ye,this.on("data",function(Xe){Xe.dataType==="source"&&Xe.sourceDataType==="metadata"&&(ze._sourceLoaded=!0),ze._sourceLoaded&&!ze._paused&&Xe.dataType==="source"&&Xe.sourceDataType==="content"&&(ze.reload(),ze.transform&&ze.update(ze.transform))}),this.on("error",function(){ze._sourceErrored=!0}),this._source=Y(ge,ne,ye,this),this._tiles={},this._cache=new xe(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new n.SourceFeatureState}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.onAdd=function(ne){this.map=ne,this._maxTileCacheSize=ne?ne._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(ne)},j.prototype.onRemove=function(ne){this._source&&this._source.onRemove&&this._source.onRemove(ne)},j.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var ne in this._tiles){var ye=this._tiles[ne];if(ye.state!=="loaded"&&ye.state!=="errored")return!1}return!0},j.prototype.getSource=function(){return this._source},j.prototype.pause=function(){this._paused=!0},j.prototype.resume=function(){if(this._paused){var ne=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,ne&&this.reload(),this.transform&&this.update(this.transform)}},j.prototype._loadTile=function(ne,ye){return this._source.loadTile(ne,ye)},j.prototype._unloadTile=function(ne){if(this._source.unloadTile)return this._source.unloadTile(ne,function(){})},j.prototype._abortTile=function(ne){if(this._source.abortTile)return this._source.abortTile(ne,function(){})},j.prototype.serialize=function(){return this._source.serialize()},j.prototype.prepare=function(ne){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(var ye in this._tiles){var ze=this._tiles[ye];ze.upload(ne),ze.prepare(this.map.style.imageManager)}},j.prototype.getIds=function(){return n.values(this._tiles).map(function(ne){return ne.tileID}).sort(Ht).map(function(ne){return ne.key})},j.prototype.getRenderableIds=function(ne){var ye=this,ze=[];for(var Xe in this._tiles)this._isIdRenderable(Xe,ne)&&ze.push(this._tiles[Xe]);return ne?ze.sort(function(st,mt){var Bt=st.tileID,Jt=mt.tileID,fr=new n.Point(Bt.canonical.x,Bt.canonical.y)._rotate(ye.transform.angle),mr=new n.Point(Jt.canonical.x,Jt.canonical.y)._rotate(ye.transform.angle);return Bt.overscaledZ-Jt.overscaledZ||mr.y-fr.y||mr.x-fr.x}).map(function(st){return st.tileID.key}):ze.map(function(st){return st.tileID}).sort(Ht).map(function(st){return st.key})},j.prototype.hasRenderableParent=function(ne){var ye=this.findLoadedParent(ne,0);return ye?this._isIdRenderable(ye.tileID.key):!1},j.prototype._isIdRenderable=function(ne,ye){return this._tiles[ne]&&this._tiles[ne].hasData()&&!this._coveredTiles[ne]&&(ye||!this._tiles[ne].holdingForFade())},j.prototype.reload=function(){if(this._paused){this._shouldReloadOnResume=!0;return}this._cache.reset();for(var ne in this._tiles)this._tiles[ne].state!=="errored"&&this._reloadTile(ne,"reloading")},j.prototype._reloadTile=function(ne,ye){var ze=this._tiles[ne];ze&&(ze.state!=="loading"&&(ze.state=ye),this._loadTile(ze,this._tileLoaded.bind(this,ze,ne,ye)))},j.prototype._tileLoaded=function(ne,ye,ze,Xe){if(Xe){ne.state="errored",Xe.status!==404?this._source.fire(new n.ErrorEvent(Xe,{tile:ne})):this.update(this.transform);return}ne.timeAdded=n.browser.now(),ze==="expired"&&(ne.refreshedUponExpiration=!0),this._setTileReloadTimer(ye,ne),this.getSource().type==="raster-dem"&&ne.dem&&this._backfillDEM(ne),this._state.initializeTileState(ne,this.map?this.map.painter:null),this._source.fire(new n.Event("data",{dataType:"source",tile:ne,coord:ne.tileID}))},j.prototype._backfillDEM=function(ne){for(var ye=this.getRenderableIds(),ze=0;ze<ye.length;ze++){var Xe=ye[ze];if(ne.neighboringTiles&&ne.neighboringTiles[Xe]){var st=this.getTileByID(Xe);mt(ne,st),mt(st,ne)}}function mt(Bt,Jt){Bt.needsHillshadePrepare=!0;var fr=Jt.tileID.canonical.x-Bt.tileID.canonical.x,mr=Jt.tileID.canonical.y-Bt.tileID.canonical.y,_r=Math.pow(2,Bt.tileID.canonical.z),Wr=Jt.tileID.key;fr===0&&mr===0||Math.abs(mr)>1||(Math.abs(fr)>1&&(Math.abs(fr+_r)===1?fr+=_r:Math.abs(fr-_r)===1&&(fr-=_r)),!(!Jt.dem||!Bt.dem)&&(Bt.dem.backfillBorder(Jt.dem,fr,mr),Bt.neighboringTiles&&Bt.neighboringTiles[Wr]&&(Bt.neighboringTiles[Wr].backfilled=!0)))}},j.prototype.getTile=function(ne){return this.getTileByID(ne.key)},j.prototype.getTileByID=function(ne){return this._tiles[ne]},j.prototype._retainLoadedChildren=function(ne,ye,ze,Xe){for(var st in this._tiles){var mt=this._tiles[st];if(!(Xe[st]||!mt.hasData()||mt.tileID.overscaledZ<=ye||mt.tileID.overscaledZ>ze)){for(var Bt=mt.tileID;mt&&mt.tileID.overscaledZ>ye+1;){var Jt=mt.tileID.scaledTo(mt.tileID.overscaledZ-1);mt=this._tiles[Jt.key],mt&&mt.hasData()&&(Bt=Jt)}for(var fr=Bt;fr.overscaledZ>ye;)if(fr=fr.scaledTo(fr.overscaledZ-1),ne[fr.key]){Xe[Bt.key]=Bt;break}}}},j.prototype.findLoadedParent=function(ne,ye){if(ne.key in this._loadedParentTiles){var ze=this._loadedParentTiles[ne.key];return ze&&ze.tileID.overscaledZ>=ye?ze:null}for(var Xe=ne.overscaledZ-1;Xe>=ye;Xe--){var st=ne.scaledTo(Xe),mt=this._getLoadedTile(st);if(mt)return mt}},j.prototype._getLoadedTile=function(ne){var ye=this._tiles[ne.key];if(ye&&ye.hasData())return ye;var ze=this._cache.getByKey(ne.wrapped().key);return ze},j.prototype.updateCacheSize=function(ne){var ye=Math.ceil(ne.width/this._source.tileSize)+1,ze=Math.ceil(ne.height/this._source.tileSize)+1,Xe=ye*ze,st=5,mt=Math.floor(Xe*st),Bt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,mt):mt;this._cache.setMaxSize(Bt)},j.prototype.handleWrapJump=function(ne){var ye=this._prevLng===void 0?ne:this._prevLng,ze=ne-ye,Xe=ze/360,st=Math.round(Xe);if(this._prevLng=ne,st){var mt={};for(var Bt in this._tiles){var Jt=this._tiles[Bt];Jt.tileID=Jt.tileID.unwrapTo(Jt.tileID.wrap+st),mt[Jt.tileID.key]=Jt}this._tiles=mt;for(var fr in this._timers)clearTimeout(this._timers[fr]),delete this._timers[fr];for(var mr in this._tiles){var _r=this._tiles[mr];this._setTileReloadTimer(mr,_r)}}},j.prototype.update=function(ne){var ye=this;if(this.transform=ne,!(!this._sourceLoaded||this._paused)){this.updateCacheSize(ne),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={};var ze;this.used?this._source.tileID?ze=ne.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(va){return new n.OverscaledTileID(va.canonical.z,va.wrap,va.canonical.z,va.canonical.x,va.canonical.y)}):(ze=ne.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(ze=ze.filter(function(va){return ye._source.hasTile(va)}))):ze=[];var Xe=ne.coveringZoomLevel(this._source),st=Math.max(Xe-j.maxOverzooming,this._source.minzoom),mt=Math.max(Xe+j.maxUnderzooming,this._source.minzoom),Bt=this._updateRetainedTiles(ze,Xe);if(qt(this._source.type)){for(var Jt={},fr={},mr=Object.keys(Bt),_r=0,Wr=mr;_r<Wr.length;_r+=1){var Yr=Wr[_r],Gr=Bt[Yr],qr=this._tiles[Yr];if(!(!qr||qr.fadeEndTime&&qr.fadeEndTime<=n.browser.now())){var un=this.findLoadedParent(Gr,st);un&&(this._addTile(un.tileID),Jt[un.tileID.key]=un.tileID),fr[Yr]=Gr}}this._retainLoadedChildren(fr,Xe,mt,Bt);for(var En in Jt)Bt[En]||(this._coveredTiles[En]=!0,Bt[En]=Jt[En])}for(var On in Bt)this._tiles[On].clearFadeHold();for(var Xn=n.keysDifference(this._tiles,Bt),Kn=0,jn=Xn;Kn<jn.length;Kn+=1){var ia=jn[Kn],pa=this._tiles[ia];pa.hasSymbolBuckets&&!pa.holdingForFade()?pa.setHoldDuration(this.map._fadeDuration):(!pa.hasSymbolBuckets||pa.symbolFadeFinished())&&this._removeTile(ia)}this._updateLoadedParentTileCache()}},j.prototype.releaseSymbolFadeTiles=function(){for(var ne in this._tiles)this._tiles[ne].holdingForFade()&&this._removeTile(ne)},j.prototype._updateRetainedTiles=function(ne,ye){for(var ze={},Xe={},st=Math.max(ye-j.maxOverzooming,this._source.minzoom),mt=Math.max(ye+j.maxUnderzooming,this._source.minzoom),Bt={},Jt=0,fr=ne;Jt<fr.length;Jt+=1){var mr=fr[Jt],_r=this._addTile(mr);ze[mr.key]=mr,!_r.hasData()&&ye<this._source.maxzoom&&(Bt[mr.key]=mr)}this._retainLoadedChildren(Bt,ye,mt,ze);for(var Wr=0,Yr=ne;Wr<Yr.length;Wr+=1){var Gr=Yr[Wr],qr=this._tiles[Gr.key];if(!qr.hasData()){if(ye+1>this._source.maxzoom){var un=Gr.children(this._source.maxzoom)[0],En=this.getTile(un);if(En&&En.hasData()){ze[un.key]=un;continue}}else{var On=Gr.children(this._source.maxzoom);if(ze[On[0].key]&&ze[On[1].key]&&ze[On[2].key]&&ze[On[3].key])continue}for(var Xn=qr.wasRequested(),Kn=Gr.overscaledZ-1;Kn>=st;--Kn){var jn=Gr.scaledTo(Kn);if(Xe[jn.key]||(Xe[jn.key]=!0,qr=this.getTile(jn),!qr&&Xn&&(qr=this._addTile(jn)),qr&&(ze[jn.key]=jn,Xn=qr.wasRequested(),qr.hasData())))break}}}return ze},j.prototype._updateLoadedParentTileCache=function(){this._loadedParentTiles={};for(var ne in this._tiles){for(var ye=[],ze=void 0,Xe=this._tiles[ne].tileID;Xe.overscaledZ>0;){if(Xe.key in this._loadedParentTiles){ze=this._loadedParentTiles[Xe.key];break}ye.push(Xe.key);var st=Xe.scaledTo(Xe.overscaledZ-1);if(ze=this._getLoadedTile(st),ze)break;Xe=st}for(var mt=0,Bt=ye;mt<Bt.length;mt+=1){var Jt=Bt[mt];this._loadedParentTiles[Jt]=ze}}},j.prototype._addTile=function(ne){var ye=this._tiles[ne.key];if(ye)return ye;ye=this._cache.getAndRemove(ne),ye&&(this._setTileReloadTimer(ne.key,ye),ye.tileID=ne,this._state.initializeTileState(ye,this.map?this.map.painter:null),this._cacheTimers[ne.key]&&(clearTimeout(this._cacheTimers[ne.key]),delete this._cacheTimers[ne.key],this._setTileReloadTimer(ne.key,ye)));var ze=!!ye;return ze||(ye=new n.Tile(ne,this._source.tileSize*ne.overscaleFactor()),this._loadTile(ye,this._tileLoaded.bind(this,ye,ne.key,ye.state))),ye?(ye.uses++,this._tiles[ne.key]=ye,ze||this._source.fire(new n.Event("dataloading",{tile:ye,coord:ye.tileID,dataType:"source"})),ye):null},j.prototype._setTileReloadTimer=function(ne,ye){var ze=this;ne in this._timers&&(clearTimeout(this._timers[ne]),delete this._timers[ne]);var Xe=ye.getExpiryTimeout();Xe&&(this._timers[ne]=setTimeout(function(){ze._reloadTile(ne,"expired"),delete ze._timers[ne]},Xe))},j.prototype._removeTile=function(ne){var ye=this._tiles[ne];ye&&(ye.uses--,delete this._tiles[ne],this._timers[ne]&&(clearTimeout(this._timers[ne]),delete this._timers[ne]),!(ye.uses>0)&&(ye.hasData()&&ye.state!=="reloading"?this._cache.add(ye.tileID,ye,ye.getExpiryTimeout()):(ye.aborted=!0,this._abortTile(ye),this._unloadTile(ye))))},j.prototype.clearTiles=function(){this._shouldReloadOnResume=!1,this._paused=!1;for(var ne in this._tiles)this._removeTile(ne);this._cache.reset()},j.prototype.tilesIn=function(ne,ye,ze){var Xe=this,st=[],mt=this.transform;if(!mt)return st;for(var Bt=ze?mt.getCameraQueryGeometry(ne):ne,Jt=ne.map(function(Kn){return mt.pointCoordinate(Kn)}),fr=Bt.map(function(Kn){return mt.pointCoordinate(Kn)}),mr=this.getIds(),_r=1/0,Wr=1/0,Yr=-1/0,Gr=-1/0,qr=0,un=fr;qr<un.length;qr+=1){var En=un[qr];_r=Math.min(_r,En.x),Wr=Math.min(Wr,En.y),Yr=Math.max(Yr,En.x),Gr=Math.max(Gr,En.y)}for(var On=function(Kn){var jn=Xe._tiles[mr[Kn]];if(!jn.holdingForFade()){var ia=jn.tileID,pa=Math.pow(2,mt.zoom-jn.tileID.overscaledZ),va=ye*jn.queryPadding*n.EXTENT/jn.tileSize/pa,xa=[ia.getTilePoint(new n.MercatorCoordinate(_r,Wr)),ia.getTilePoint(new n.MercatorCoordinate(Yr,Gr))];if(xa[0].x-va<n.EXTENT&&xa[0].y-va<n.EXTENT&&xa[1].x+va>=0&&xa[1].y+va>=0){var Ma=Jt.map(function(Ja){return ia.getTilePoint(Ja)}),Ua=fr.map(function(Ja){return ia.getTilePoint(Ja)});st.push({tile:jn,tileID:ia,queryGeometry:Ma,cameraQueryGeometry:Ua,scale:pa})}}},Xn=0;Xn<mr.length;Xn++)On(Xn);return st},j.prototype.getVisibleCoordinates=function(ne){for(var ye=this,ze=this.getRenderableIds(ne).map(function(Bt){return ye._tiles[Bt].tileID}),Xe=0,st=ze;Xe<st.length;Xe+=1){var mt=st[Xe];mt.posMatrix=this.transform.calculatePosMatrix(mt.toUnwrapped())}return ze},j.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(qt(this._source.type))for(var ne in this._tiles){var ye=this._tiles[ne];if(ye.fadeEndTime!==void 0&&ye.fadeEndTime>=n.browser.now())return!0}return!1},j.prototype.setFeatureState=function(ne,ye,ze){ne=ne||"_geojsonTileLayer",this._state.updateState(ne,ye,ze)},j.prototype.removeFeatureState=function(ne,ye,ze){ne=ne||"_geojsonTileLayer",this._state.removeFeatureState(ne,ye,ze)},j.prototype.getFeatureState=function(ne,ye){return ne=ne||"_geojsonTileLayer",this._state.getState(ne,ye)},j.prototype.setDependencies=function(ne,ye,ze){var Xe=this._tiles[ne];Xe&&Xe.setDependencies(ye,ze)},j.prototype.reloadTilesForDependencies=function(ne,ye){for(var ze in this._tiles){var Xe=this._tiles[ze];Xe.hasDependency(ne,ye)&&this._reloadTile(ze,"reloading")}this._cache.filter(function(st){return!st.hasDependency(ne,ye)})},j}(n.Evented);zt.maxOverzooming=10,zt.maxUnderzooming=3;function Ht(ve,j){var ge=Math.abs(ve.wrap*2)-+(ve.wrap<0),ne=Math.abs(j.wrap*2)-+(j.wrap<0);return ve.overscaledZ-j.overscaledZ||ne-ge||j.canonical.y-ve.canonical.y||j.canonical.x-ve.canonical.x}function qt(ve){return ve==="raster"||ve==="image"||ve==="video"}function Qt(){return new n.window.Worker(X0.workerUrl)}var or="mapboxgl_preloaded_worker_pool",Lr=function(){this.active={}};Lr.prototype.acquire=function(j){if(!this.workers)for(this.workers=[];this.workers.length<Lr.workerCount;)this.workers.push(new Qt);return this.active[j]=!0,this.workers.slice()},Lr.prototype.release=function(j){delete this.active[j],this.numActive()===0&&(this.workers.forEach(function(ge){ge.terminate()}),this.workers=null)},Lr.prototype.isPreloaded=function(){return!!this.active[or]},Lr.prototype.numActive=function(){return Object.keys(this.active).length};var Ze=Math.floor(n.browser.hardwareConcurrency/2);Lr.workerCount=Math.max(Math.min(Ze,6),1);var Ye;function It(){return Ye||(Ye=new Lr),Ye}function kt(){var ve=It();ve.acquire(or)}function Xt(){var ve=Ye;ve&&(ve.isPreloaded()&&ve.numActive()===1?(ve.release(or),Ye=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))}function ir(ve,j){var ge={};for(var ne in ve)ne!=="ref"&&(ge[ne]=ve[ne]);return n.refProperties.forEach(function(ye){ye in j&&(ge[ye]=j[ye])}),ge}function ur(ve){ve=ve.slice();for(var j=Object.create(null),ge=0;ge<ve.length;ge++)j[ve[ge].id]=ve[ge];for(var ne=0;ne<ve.length;ne++)"ref"in ve[ne]&&(ve[ne]=ir(ve[ne],j[ve[ne].ref]));return ve}function nr(){var ve={},j=n.styleSpec.$version;for(var ge in n.styleSpec.$root){var ne=n.styleSpec.$root[ge];if(ne.required){var ye=null;ge==="version"?ye=j:ne.type==="array"?ye=[]:ye={},ye!=null&&(ve[ge]=ye)}}return ve}var Nt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function hr(ve,j,ge){ge.push({command:Nt.addSource,args:[ve,j[ve]]})}function pr(ve,j,ge){j.push({command:Nt.removeSource,args:[ve]}),ge[ve]=!0}function gr(ve,j,ge,ne){pr(ve,ge,ne),hr(ve,j,ge)}function dr(ve,j,ge){var ne;for(ne in ve[ge])if(ve[ge].hasOwnProperty(ne)&&ne!=="data"&&!n.deepEqual(ve[ge][ne],j[ge][ne]))return!1;for(ne in j[ge])if(j[ge].hasOwnProperty(ne)&&ne!=="data"&&!n.deepEqual(ve[ge][ne],j[ge][ne]))return!1;return!0}function Xr(ve,j,ge,ne){ve=ve||{},j=j||{};var ye;for(ye in ve)ve.hasOwnProperty(ye)&&(j.hasOwnProperty(ye)||pr(ye,ge,ne));for(ye in j)j.hasOwnProperty(ye)&&(ve.hasOwnProperty(ye)?n.deepEqual(ve[ye],j[ye])||(ve[ye].type==="geojson"&&j[ye].type==="geojson"&&dr(ve,j,ye)?ge.push({command:Nt.setGeoJSONSourceData,args:[ye,j[ye].data]}):gr(ye,j,ge,ne)):hr(ye,j,ge))}function Br(ve,j,ge,ne,ye,ze){ve=ve||{},j=j||{};var Xe;for(Xe in ve)ve.hasOwnProperty(Xe)&&(n.deepEqual(ve[Xe],j[Xe])||ge.push({command:ze,args:[ne,Xe,j[Xe],ye]}));for(Xe in j)!j.hasOwnProperty(Xe)||ve.hasOwnProperty(Xe)||n.deepEqual(ve[Xe],j[Xe])||ge.push({command:ze,args:[ne,Xe,j[Xe],ye]})}function Or(ve){return ve.id}function mn(ve,j){return ve[j.id]=j,ve}function Jr(ve,j,ge){ve=ve||[],j=j||[];var ne=ve.map(Or),ye=j.map(Or),ze=ve.reduce(mn,{}),Xe=j.reduce(mn,{}),st=ne.slice(),mt=Object.create(null),Bt,Jt,fr,mr,_r,Wr,Yr;for(Bt=0,Jt=0;Bt<ne.length;Bt++)fr=ne[Bt],Xe.hasOwnProperty(fr)?Jt++:(ge.push({command:Nt.removeLayer,args:[fr]}),st.splice(st.indexOf(fr,Jt),1));for(Bt=0,Jt=0;Bt<ye.length;Bt++)fr=ye[ye.length-1-Bt],st[st.length-1-Bt]!==fr&&(ze.hasOwnProperty(fr)?(ge.push({command:Nt.removeLayer,args:[fr]}),st.splice(st.lastIndexOf(fr,st.length-Jt),1)):Jt++,Wr=st[st.length-Bt],ge.push({command:Nt.addLayer,args:[Xe[fr],Wr]}),st.splice(st.length-Bt,0,fr),mt[fr]=!0);for(Bt=0;Bt<ye.length;Bt++)if(fr=ye[Bt],mr=ze[fr],_r=Xe[fr],!(mt[fr]||n.deepEqual(mr,_r))){if(!n.deepEqual(mr.source,_r.source)||!n.deepEqual(mr["source-layer"],_r["source-layer"])||!n.deepEqual(mr.type,_r.type)){ge.push({command:Nt.removeLayer,args:[fr]}),Wr=st[st.lastIndexOf(fr)+1],ge.push({command:Nt.addLayer,args:[_r,Wr]});continue}Br(mr.layout,_r.layout,ge,fr,null,Nt.setLayoutProperty),Br(mr.paint,_r.paint,ge,fr,null,Nt.setPaintProperty),n.deepEqual(mr.filter,_r.filter)||ge.push({command:Nt.setFilter,args:[fr,_r.filter]}),(!n.deepEqual(mr.minzoom,_r.minzoom)||!n.deepEqual(mr.maxzoom,_r.maxzoom))&&ge.push({command:Nt.setLayerZoomRange,args:[fr,_r.minzoom,_r.maxzoom]});for(Yr in mr)mr.hasOwnProperty(Yr)&&(Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Br(mr[Yr],_r[Yr],ge,fr,Yr.slice(6),Nt.setPaintProperty):n.deepEqual(mr[Yr],_r[Yr])||ge.push({command:Nt.setLayerProperty,args:[fr,Yr,_r[Yr]]})));for(Yr in _r)!_r.hasOwnProperty(Yr)||mr.hasOwnProperty(Yr)||Yr==="layout"||Yr==="paint"||Yr==="filter"||Yr==="metadata"||Yr==="minzoom"||Yr==="maxzoom"||(Yr.indexOf("paint.")===0?Br(mr[Yr],_r[Yr],ge,fr,Yr.slice(6),Nt.setPaintProperty):n.deepEqual(mr[Yr],_r[Yr])||ge.push({command:Nt.setLayerProperty,args:[fr,Yr,_r[Yr]]}))}}function _n(ve,j){if(!ve)return[{command:Nt.setStyle,args:[j]}];var ge=[];try{if(!n.deepEqual(ve.version,j.version))return[{command:Nt.setStyle,args:[j]}];n.deepEqual(ve.center,j.center)||ge.push({command:Nt.setCenter,args:[j.center]}),n.deepEqual(ve.zoom,j.zoom)||ge.push({command:Nt.setZoom,args:[j.zoom]}),n.deepEqual(ve.bearing,j.bearing)||ge.push({command:Nt.setBearing,args:[j.bearing]}),n.deepEqual(ve.pitch,j.pitch)||ge.push({command:Nt.setPitch,args:[j.pitch]}),n.deepEqual(ve.sprite,j.sprite)||ge.push({command:Nt.setSprite,args:[j.sprite]}),n.deepEqual(ve.glyphs,j.glyphs)||ge.push({command:Nt.setGlyphs,args:[j.glyphs]}),n.deepEqual(ve.transition,j.transition)||ge.push({command:Nt.setTransition,args:[j.transition]}),n.deepEqual(ve.light,j.light)||ge.push({command:Nt.setLight,args:[j.light]});var ne={},ye=[];Xr(ve.sources,j.sources,ye,ne);var ze=[];ve.layers&&ve.layers.forEach(function(Xe){ne[Xe.source]?ge.push({command:Nt.removeLayer,args:[Xe.id]}):ze.push(Xe)}),ge=ge.concat(ye),Jr(ze,j.layers,ge)}catch(Xe){console.warn("Unable to compute style diff:",Xe),ge=[{command:Nt.setStyle,args:[j]}]}return ge}var kn=function(j,ge){this.reset(j,ge)};kn.prototype.reset=function(j,ge){this.points=j||[],this._distances=[0];for(var ne=1;ne<this.points.length;ne++)this._distances[ne]=this._distances[ne-1]+this.points[ne].dist(this.points[ne-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(ge||0,this.length*.5),this.paddedLength=this.length-this.padding*2},kn.prototype.lerp=function(j){if(this.points.length===1)return this.points[0];j=n.clamp(j,0,1);for(var ge=1,ne=this._distances[ge],ye=j*this.paddedLength+this.padding;ne<ye&&ge<this._distances.length;)ne=this._distances[++ge];var ze=ge-1,Xe=this._distances[ze],st=ne-Xe,mt=st>0?(ye-Xe)/st:0;return this.points[ze].mult(1-mt).add(this.points[ge].mult(mt))};var br=function(j,ge,ne){var ye=this.boxCells=[],ze=this.circleCells=[];this.xCellCount=Math.ceil(j/ne),this.yCellCount=Math.ceil(ge/ne);for(var Xe=0;Xe<this.xCellCount*this.yCellCount;Xe++)ye.push([]),ze.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=j,this.height=ge,this.xScale=this.xCellCount/j,this.yScale=this.yCellCount/ge,this.boxUid=0,this.circleUid=0};br.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},br.prototype.insert=function(j,ge,ne,ye,ze){this._forEachCell(ge,ne,ye,ze,this._insertBoxCell,this.boxUid++),this.boxKeys.push(j),this.bboxes.push(ge),this.bboxes.push(ne),this.bboxes.push(ye),this.bboxes.push(ze)},br.prototype.insertCircle=function(j,ge,ne,ye){this._forEachCell(ge-ye,ne-ye,ge+ye,ne+ye,this._insertCircleCell,this.circleUid++),this.circleKeys.push(j),this.circles.push(ge),this.circles.push(ne),this.circles.push(ye)},br.prototype._insertBoxCell=function(j,ge,ne,ye,ze,Xe){this.boxCells[ze].push(Xe)},br.prototype._insertCircleCell=function(j,ge,ne,ye,ze,Xe){this.circleCells[ze].push(Xe)},br.prototype._query=function(j,ge,ne,ye,ze,Xe){if(ne<0||j>this.width||ye<0||ge>this.height)return ze?!1:[];var st=[];if(j<=0&&ge<=0&&this.width<=ne&&this.height<=ye){if(ze)return!0;for(var mt=0;mt<this.boxKeys.length;mt++)st.push({key:this.boxKeys[mt],x1:this.bboxes[mt*4],y1:this.bboxes[mt*4+1],x2:this.bboxes[mt*4+2],y2:this.bboxes[mt*4+3]});for(var Bt=0;Bt<this.circleKeys.length;Bt++){var Jt=this.circles[Bt*3],fr=this.circles[Bt*3+1],mr=this.circles[Bt*3+2];st.push({key:this.circleKeys[Bt],x1:Jt-mr,y1:fr-mr,x2:Jt+mr,y2:fr+mr})}return Xe?st.filter(Xe):st}else{var _r={hitTest:ze,seenUids:{box:{},circle:{}}};return this._forEachCell(j,ge,ne,ye,this._queryCell,st,_r,Xe),ze?st.length>0:st}},br.prototype._queryCircle=function(j,ge,ne,ye,ze){var Xe=j-ne,st=j+ne,mt=ge-ne,Bt=ge+ne;if(st<0||Xe>this.width||Bt<0||mt>this.height)return ye?!1:[];var Jt=[],fr={hitTest:ye,circle:{x:j,y:ge,radius:ne},seenUids:{box:{},circle:{}}};return this._forEachCell(Xe,mt,st,Bt,this._queryCellCircle,Jt,fr,ze),ye?Jt.length>0:Jt},br.prototype.query=function(j,ge,ne,ye,ze){return this._query(j,ge,ne,ye,!1,ze)},br.prototype.hitTest=function(j,ge,ne,ye,ze){return this._query(j,ge,ne,ye,!0,ze)},br.prototype.hitTestCircle=function(j,ge,ne,ye){return this._queryCircle(j,ge,ne,!0,ye)},br.prototype._queryCell=function(j,ge,ne,ye,ze,Xe,st,mt){var Bt=st.seenUids,Jt=this.boxCells[ze];if(Jt!==null)for(var fr=this.bboxes,mr=0,_r=Jt;mr<_r.length;mr+=1){var Wr=_r[mr];if(!Bt.box[Wr]){Bt.box[Wr]=!0;var Yr=Wr*4;if(j<=fr[Yr+2]&&ge<=fr[Yr+3]&&ne>=fr[Yr+0]&&ye>=fr[Yr+1]&&(!mt||mt(this.boxKeys[Wr]))){if(st.hitTest)return Xe.push(!0),!0;Xe.push({key:this.boxKeys[Wr],x1:fr[Yr],y1:fr[Yr+1],x2:fr[Yr+2],y2:fr[Yr+3]})}}}var Gr=this.circleCells[ze];if(Gr!==null)for(var qr=this.circles,un=0,En=Gr;un<En.length;un+=1){var On=En[un];if(!Bt.circle[On]){Bt.circle[On]=!0;var Xn=On*3;if(this._circleAndRectCollide(qr[Xn],qr[Xn+1],qr[Xn+2],j,ge,ne,ye)&&(!mt||mt(this.circleKeys[On]))){if(st.hitTest)return Xe.push(!0),!0;var Kn=qr[Xn],jn=qr[Xn+1],ia=qr[Xn+2];Xe.push({key:this.circleKeys[On],x1:Kn-ia,y1:jn-ia,x2:Kn+ia,y2:jn+ia})}}}},br.prototype._queryCellCircle=function(j,ge,ne,ye,ze,Xe,st,mt){var Bt=st.circle,Jt=st.seenUids,fr=this.boxCells[ze];if(fr!==null)for(var mr=this.bboxes,_r=0,Wr=fr;_r<Wr.length;_r+=1){var Yr=Wr[_r];if(!Jt.box[Yr]){Jt.box[Yr]=!0;var Gr=Yr*4;if(this._circleAndRectCollide(Bt.x,Bt.y,Bt.radius,mr[Gr+0],mr[Gr+1],mr[Gr+2],mr[Gr+3])&&(!mt||mt(this.boxKeys[Yr])))return Xe.push(!0),!0}}var qr=this.circleCells[ze];if(qr!==null)for(var un=this.circles,En=0,On=qr;En<On.length;En+=1){var Xn=On[En];if(!Jt.circle[Xn]){Jt.circle[Xn]=!0;var Kn=Xn*3;if(this._circlesCollide(un[Kn],un[Kn+1],un[Kn+2],Bt.x,Bt.y,Bt.radius)&&(!mt||mt(this.circleKeys[Xn])))return Xe.push(!0),!0}}},br.prototype._forEachCell=function(j,ge,ne,ye,ze,Xe,st,mt){for(var Bt=this._convertToXCellCoord(j),Jt=this._convertToYCellCoord(ge),fr=this._convertToXCellCoord(ne),mr=this._convertToYCellCoord(ye),_r=Bt;_r<=fr;_r++)for(var Wr=Jt;Wr<=mr;Wr++){var Yr=this.xCellCount*Wr+_r;if(ze.call(this,j,ge,ne,ye,Yr,Xe,st,mt))return}},br.prototype._convertToXCellCoord=function(j){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(j*this.xScale)))},br.prototype._convertToYCellCoord=function(j){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(j*this.yScale)))},br.prototype._circlesCollide=function(j,ge,ne,ye,ze,Xe){var st=ye-j,mt=ze-ge,Bt=ne+Xe;return Bt*Bt>st*st+mt*mt},br.prototype._circleAndRectCollide=function(j,ge,ne,ye,ze,Xe,st){var mt=(Xe-ye)/2,Bt=Math.abs(j-(ye+mt));if(Bt>mt+ne)return!1;var Jt=(st-ze)/2,fr=Math.abs(ge-(ze+Jt));if(fr>Jt+ne)return!1;if(Bt<=mt||fr<=Jt)return!0;var mr=Bt-mt,_r=fr-Jt;return mr*mr+_r*_r<=ne*ne};function wr(ve,j,ge,ne,ye){var ze=n.create();return j?(n.scale(ze,ze,[1/ye,1/ye,1]),ge||n.rotateZ(ze,ze,ne.angle)):n.multiply(ze,ne.labelPlaneMatrix,ve),ze}function Nr(ve,j,ge,ne,ye){if(j){var ze=n.clone(ve);return n.scale(ze,ze,[ye,ye,1]),ge||n.rotateZ(ze,ze,-ne.angle),ze}else return ne.glCoordMatrix}function Vr(ve,j){var ge=[ve.x,ve.y,0,1];Cr(ge,ge,j);var ne=ge[3];return{point:new n.Point(ge[0]/ne,ge[1]/ne),signedDistanceFromCamera:ne}}function tn(ve,j){return .5+.5*(ve/j)}function gn(ve,j){var ge=ve[0]/ve[3],ne=ve[1]/ve[3],ye=ge>=-j[0]&&ge<=j[0]&&ne>=-j[1]&&ne<=j[1];return ye}function hn(ve,j,ge,ne,ye,ze,Xe,st){var mt=ne?ve.textSizeData:ve.iconSizeData,Bt=n.evaluateSizeForZoom(mt,ge.transform.zoom),Jt=[256/ge.width*2+1,256/ge.height*2+1],fr=ne?ve.text.dynamicLayoutVertexArray:ve.icon.dynamicLayoutVertexArray;fr.clear();for(var mr=ve.lineVertexArray,_r=ne?ve.text.placedSymbolArray:ve.icon.placedSymbolArray,Wr=ge.transform.width/ge.transform.height,Yr=!1,Gr=0;Gr<_r.length;Gr++){var qr=_r.get(Gr);if(qr.hidden||qr.writingMode===n.WritingMode.vertical&&!Yr){na(qr.numGlyphs,fr);continue}Yr=!1;var un=[qr.anchorX,qr.anchorY,0,1];if(n.transformMat4(un,un,j),!gn(un,Jt)){na(qr.numGlyphs,fr);continue}var En=un[3],On=tn(ge.transform.cameraToCenterDistance,En),Xn=n.evaluateSizeForFeature(mt,Bt,qr),Kn=Xe?Xn/On:Xn*On,jn=new n.Point(qr.anchorX,qr.anchorY),ia=Vr(jn,ye).point,pa={},va=Jn(qr,Kn,!1,st,j,ye,ze,ve.glyphOffsetArray,mr,fr,ia,jn,pa,Wr);Yr=va.useVertical,(va.notEnoughRoom||Yr||va.needsFlipping&&Jn(qr,Kn,!0,st,j,ye,ze,ve.glyphOffsetArray,mr,fr,ia,jn,pa,Wr).notEnoughRoom)&&na(qr.numGlyphs,fr)}ne?ve.text.dynamicLayoutVertexBuffer.updateData(fr):ve.icon.dynamicLayoutVertexBuffer.updateData(fr)}function Sn(ve,j,ge,ne,ye,ze,Xe,st,mt,Bt,Jt){var fr=st.glyphStartIndex+st.numGlyphs,mr=st.lineStartIndex,_r=st.lineStartIndex+st.lineLength,Wr=j.getoffsetX(st.glyphStartIndex),Yr=j.getoffsetX(fr-1),Gr=ca(ve*Wr,ge,ne,ye,ze,Xe,st.segment,mr,_r,mt,Bt,Jt);if(!Gr)return null;var qr=ca(ve*Yr,ge,ne,ye,ze,Xe,st.segment,mr,_r,mt,Bt,Jt);return qr?{first:Gr,last:qr}:null}function In(ve,j,ge,ne){if(ve===n.WritingMode.horizontal){var ye=Math.abs(ge.y-j.y),ze=Math.abs(ge.x-j.x)*ne;if(ye>ze)return{useVertical:!0}}return(ve===n.WritingMode.vertical?j.y<ge.y:j.x>ge.x)?{needsFlipping:!0}:null}function Jn(ve,j,ge,ne,ye,ze,Xe,st,mt,Bt,Jt,fr,mr,_r){var Wr=j/24,Yr=ve.lineOffsetX*Wr,Gr=ve.lineOffsetY*Wr,qr;if(ve.numGlyphs>1){var un=ve.glyphStartIndex+ve.numGlyphs,En=ve.lineStartIndex,On=ve.lineStartIndex+ve.lineLength,Xn=Sn(Wr,st,Yr,Gr,ge,Jt,fr,ve,mt,ze,mr);if(!Xn)return{notEnoughRoom:!0};var Kn=Vr(Xn.first.point,Xe).point,jn=Vr(Xn.last.point,Xe).point;if(ne&&!ge){var ia=In(ve.writingMode,Kn,jn,_r);if(ia)return ia}qr=[Xn.first];for(var pa=ve.glyphStartIndex+1;pa<un-1;pa++)qr.push(ca(Wr*st.getoffsetX(pa),Yr,Gr,ge,Jt,fr,ve.segment,En,On,mt,ze,mr));qr.push(Xn.last)}else{if(ne&&!ge){var va=Vr(fr,ye).point,xa=ve.lineStartIndex+ve.segment+1,Ma=new n.Point(mt.getx(xa),mt.gety(xa)),Ua=Vr(Ma,ye),Ja=Ua.signedDistanceFromCamera>0?Ua.point:ra(fr,Ma,va,1,ye),wi=In(ve.writingMode,va,Ja,_r);if(wi)return wi}var qa=ca(Wr*st.getoffsetX(ve.glyphStartIndex),Yr,Gr,ge,Jt,fr,ve.segment,ve.lineStartIndex,ve.lineStartIndex+ve.lineLength,mt,ze,mr);if(!qa)return{notEnoughRoom:!0};qr=[qa]}for(var oi=0,_a=qr;oi<_a.length;oi+=1){var Ti=_a[oi];n.addDynamicAttributes(Bt,Ti.point,Ti.angle)}return{}}function ra(ve,j,ge,ne,ye){var ze=Vr(ve.add(ve.sub(j)._unit()),ye).point,Xe=ge.sub(ze);return ge.add(Xe._mult(ne/Xe.mag()))}function ca(ve,j,ge,ne,ye,ze,Xe,st,mt,Bt,Jt,fr){var mr=ne?ve-j:ve+j,_r=mr>0?1:-1,Wr=0;ne&&(_r*=-1,Wr=Math.PI),_r<0&&(Wr+=Math.PI);for(var Yr=_r>0?st+Xe:st+Xe+1,Gr=ye,qr=ye,un=0,En=0,On=Math.abs(mr),Xn=[];un+En<=On;){if(Yr+=_r,Yr<st||Yr>=mt)return null;if(qr=Gr,Xn.push(Gr),Gr=fr[Yr],Gr===void 0){var Kn=new n.Point(Bt.getx(Yr),Bt.gety(Yr)),jn=Vr(Kn,Jt);if(jn.signedDistanceFromCamera>0)Gr=fr[Yr]=jn.point;else{var ia=Yr-_r,pa=un===0?ze:new n.Point(Bt.getx(ia),Bt.gety(ia));Gr=ra(pa,Kn,qr,On-un+1,Jt)}}un+=En,En=qr.dist(Gr)}var va=(On-un)/En,xa=Gr.sub(qr),Ma=xa.mult(va)._add(qr);Ma._add(xa._unit()._perp()._mult(ge*_r));var Ua=Wr+Math.atan2(Gr.y-qr.y,Gr.x-qr.x);return Xn.push(Ma),{point:Ma,angle:Ua,path:Xn}}var aa=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function na(ve,j){for(var ge=0;ge<ve;ge++){var ne=j.length;j.resize(ne+4),j.float32.set(aa,ne*3)}}function Cr(ve,j,ge){var ne=j[0],ye=j[1];return ve[0]=ge[0]*ne+ge[4]*ye+ge[12],ve[1]=ge[1]*ne+ge[5]*ye+ge[13],ve[3]=ge[3]*ne+ge[7]*ye+ge[15],ve}var ln=100,on=function(j,ge,ne){ge===void 0&&(ge=new br(j.width+2*ln,j.height+2*ln,25)),ne===void 0&&(ne=new br(j.width+2*ln,j.height+2*ln,25)),this.transform=j,this.grid=ge,this.ignoredGrid=ne,this.pitchfactor=Math.cos(j._pitch)*j.cameraToCenterDistance,this.screenRightBoundary=j.width+ln,this.screenBottomBoundary=j.height+ln,this.gridRightBoundary=j.width+2*ln,this.gridBottomBoundary=j.height+2*ln};on.prototype.placeCollisionBox=function(j,ge,ne,ye,ze){var Xe=this.projectAndGetPerspectiveRatio(ye,j.anchorPointX,j.anchorPointY),st=ne*Xe.perspectiveRatio,mt=j.x1*st+Xe.point.x,Bt=j.y1*st+Xe.point.y,Jt=j.x2*st+Xe.point.x,fr=j.y2*st+Xe.point.y;return!this.isInsideGrid(mt,Bt,Jt,fr)||!ge&&this.grid.hitTest(mt,Bt,Jt,fr,ze)?{box:[],offscreen:!1}:{box:[mt,Bt,Jt,fr],offscreen:this.isOffscreen(mt,Bt,Jt,fr)}},on.prototype.placeCollisionCircles=function(j,ge,ne,ye,ze,Xe,st,mt,Bt,Jt,fr,mr,_r){var Wr=[],Yr=new n.Point(ge.anchorX,ge.anchorY),Gr=Vr(Yr,Xe),qr=tn(this.transform.cameraToCenterDistance,Gr.signedDistanceFromCamera),un=Jt?ze/qr:ze*qr,En=un/n.ONE_EM,On=Vr(Yr,st).point,Xn={},Kn=ge.lineOffsetX*En,jn=ge.lineOffsetY*En,ia=Sn(En,ye,Kn,jn,!1,On,Yr,ge,ne,st,Xn),pa=!1,va=!1,xa=!0;if(ia){for(var Ma=mr*.5*qr+_r,Ua=new n.Point(-ln,-ln),Ja=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),wi=new kn,qa=ia.first,oi=ia.last,_a=[],Ti=qa.path.length-1;Ti>=1;Ti--)_a.push(qa.path[Ti]);for(var Mi=1;Mi<oi.path.length;Mi++)_a.push(oi.path[Mi]);var Ei=Ma*2.5;if(mt){var ui=_a.map(function(pu){return Vr(pu,mt)});ui.some(function(pu){return pu.signedDistanceFromCamera<=0})?_a=[]:_a=ui.map(function(pu){return pu.point})}var Bi=[];if(_a.length>0){for(var $a=_a[0].clone(),ci=_a[0].clone(),so=1;so<_a.length;so++)$a.x=Math.min($a.x,_a[so].x),$a.y=Math.min($a.y,_a[so].y),ci.x=Math.max(ci.x,_a[so].x),ci.y=Math.max(ci.y,_a[so].y);$a.x>=Ua.x&&ci.x<=Ja.x&&$a.y>=Ua.y&&ci.y<=Ja.y?Bi=[_a]:ci.x<Ua.x||$a.x>Ja.x||ci.y<Ua.y||$a.y>Ja.y?Bi=[]:Bi=n.clipLine([_a],Ua.x,Ua.y,Ja.x,Ja.y)}for(var Co=0,Ml=Bi;Co<Ml.length;Co+=1){var Cl=Ml[Co];wi.reset(Cl,Ma*.25);var cu=0;wi.length<=.5*Ma?cu=1:cu=Math.ceil(wi.paddedLength/Ei)+1;for(var hu=0;hu<cu;hu++){var ju=hu/Math.max(cu-1,1),vu=wi.lerp(ju),Cs=vu.x+ln,Pf=vu.y+ln;Wr.push(Cs,Pf,Ma,0);var os=Cs-Ma,ll=Pf-Ma,du=Cs+Ma,Yl=Pf+Ma;if(xa=xa&&this.isOffscreen(os,ll,du,Yl),va=va||this.isInsideGrid(os,ll,du,Yl),!j&&this.grid.hitTestCircle(Cs,Pf,Ma,fr)&&(pa=!0,!Bt))return{circles:[],offscreen:!1,collisionDetected:pa}}}}return{circles:!Bt&&pa||!va?[]:Wr,offscreen:xa,collisionDetected:pa}},on.prototype.queryRenderedSymbols=function(j){if(j.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var ge=[],ne=1/0,ye=1/0,ze=-1/0,Xe=-1/0,st=0,mt=j;st<mt.length;st+=1){var Bt=mt[st],Jt=new n.Point(Bt.x+ln,Bt.y+ln);ne=Math.min(ne,Jt.x),ye=Math.min(ye,Jt.y),ze=Math.max(ze,Jt.x),Xe=Math.max(Xe,Jt.y),ge.push(Jt)}for(var fr=this.grid.query(ne,ye,ze,Xe).concat(this.ignoredGrid.query(ne,ye,ze,Xe)),mr={},_r={},Wr=0,Yr=fr;Wr<Yr.length;Wr+=1){var Gr=Yr[Wr],qr=Gr.key;if(mr[qr.bucketInstanceId]===void 0&&(mr[qr.bucketInstanceId]={}),!mr[qr.bucketInstanceId][qr.featureIndex]){var un=[new n.Point(Gr.x1,Gr.y1),new n.Point(Gr.x2,Gr.y1),new n.Point(Gr.x2,Gr.y2),new n.Point(Gr.x1,Gr.y2)];n.polygonIntersectsPolygon(ge,un)&&(mr[qr.bucketInstanceId][qr.featureIndex]=!0,_r[qr.bucketInstanceId]===void 0&&(_r[qr.bucketInstanceId]=[]),_r[qr.bucketInstanceId].push(qr.featureIndex))}}return _r},on.prototype.insertCollisionBox=function(j,ge,ne,ye,ze){var Xe=ge?this.ignoredGrid:this.grid,st={bucketInstanceId:ne,featureIndex:ye,collisionGroupID:ze};Xe.insert(st,j[0],j[1],j[2],j[3])},on.prototype.insertCollisionCircles=function(j,ge,ne,ye,ze){for(var Xe=ge?this.ignoredGrid:this.grid,st={bucketInstanceId:ne,featureIndex:ye,collisionGroupID:ze},mt=0;mt<j.length;mt+=4)Xe.insertCircle(st,j[mt],j[mt+1],j[mt+2])},on.prototype.projectAndGetPerspectiveRatio=function(j,ge,ne){var ye=[ge,ne,0,1];Cr(ye,ye,j);var ze=new n.Point((ye[0]/ye[3]+1)/2*this.transform.width+ln,(-ye[1]/ye[3]+1)/2*this.transform.height+ln);return{point:ze,perspectiveRatio:.5+.5*(this.transform.cameraToCenterDistance/ye[3])}},on.prototype.isOffscreen=function(j,ge,ne,ye){return ne<ln||j>=this.screenRightBoundary||ye<ln||ge>this.screenBottomBoundary},on.prototype.isInsideGrid=function(j,ge,ne,ye){return ne>=0&&j<this.gridRightBoundary&&ye>=0&&ge<this.gridBottomBoundary},on.prototype.getViewportMatrix=function(){var j=n.identity([]);return n.translate(j,j,[-ln,-ln,0]),j};function yn(ve,j,ge){return j*(n.EXTENT/(ve.tileSize*Math.pow(2,ge-ve.tileID.overscaledZ)))}var Hn=function(j,ge,ne,ye){j?this.opacity=Math.max(0,Math.min(1,j.opacity+(j.placed?ge:-ge))):this.opacity=ye&&ne?1:0,this.placed=ne};Hn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Ln=function(j,ge,ne,ye,ze){this.text=new Hn(j?j.text:null,ge,ne,ze),this.icon=new Hn(j?j.icon:null,ge,ye,ze)};Ln.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var Pn=function(j,ge,ne){this.text=j,this.icon=ge,this.skipFade=ne},Wn=function(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]},la=function(j,ge,ne,ye,ze){this.bucketInstanceId=j,this.featureIndex=ge,this.sourceLayerIndex=ne,this.bucketIndex=ye,this.tileID=ze},za=function(j){this.crossSourceCollisions=j,this.maxGroupID=0,this.collisionGroups={}};za.prototype.get=function(j){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[j]){var ge=++this.maxGroupID;this.collisionGroups[j]={ID:ge,predicate:function(ne){return ne.collisionGroupID===ge}}}return this.collisionGroups[j]};function ni(ve,j,ge,ne,ye){var ze=n.getAnchorAlignment(ve),Xe=ze.horizontalAlign,st=ze.verticalAlign,mt=-(Xe-.5)*j,Bt=-(st-.5)*ge,Jt=n.evaluateVariableOffset(ve,ne);return new n.Point(mt+Jt[0]*ye,Bt+Jt[1]*ye)}function jt(ve,j,ge,ne,ye,ze){var Xe=ve.x1,st=ve.x2,mt=ve.y1,Bt=ve.y2,Jt=ve.anchorPointX,fr=ve.anchorPointY,mr=new n.Point(j,ge);return ne&&mr._rotate(ye?ze:-ze),{x1:Xe+mr.x,y1:mt+mr.y,x2:st+mr.x,y2:Bt+mr.y,anchorPointX:Jt,anchorPointY:fr}}var Sr=function(j,ge,ne,ye){this.transform=j.clone(),this.collisionIndex=new on(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=ge,this.retainedQueryData={},this.collisionGroups=new za(ne),this.collisionCircleArrays={},this.prevPlacement=ye,ye&&(ye.prevPlacement=void 0),this.placedOrientations={}};Sr.prototype.getBucketParts=function(j,ge,ne,ye){var ze=ne.getBucket(ge),Xe=ne.latestFeatureIndex;if(!(!ze||!Xe||ge.id!==ze.layerIds[0])){var st=ne.collisionBoxArray,mt=ze.layers[0].layout,Bt=Math.pow(2,this.transform.zoom-ne.tileID.overscaledZ),Jt=ne.tileSize/n.EXTENT,fr=this.transform.calculatePosMatrix(ne.tileID.toUnwrapped()),mr=mt.get("text-pitch-alignment")==="map",_r=mt.get("text-rotation-alignment")==="map",Wr=yn(ne,1,this.transform.zoom),Yr=wr(fr,mr,_r,this.transform,Wr),Gr=null;if(mr){var qr=Nr(fr,mr,_r,this.transform,Wr);Gr=n.multiply([],this.transform.labelPlaneMatrix,qr)}this.retainedQueryData[ze.bucketInstanceId]=new la(ze.bucketInstanceId,Xe,ze.sourceLayerIndex,ze.index,ne.tileID);var un={bucket:ze,layout:mt,posMatrix:fr,textLabelPlaneMatrix:Yr,labelToScreenMatrix:Gr,scale:Bt,textPixelRatio:Jt,holdingForFade:ne.holdingForFade(),collisionBoxArray:st,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(ze.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(ze.sourceID)};if(ye)for(var En=0,On=ze.sortKeyRanges;En<On.length;En+=1){var Xn=On[En],Kn=Xn.sortKey,jn=Xn.symbolInstanceStart,ia=Xn.symbolInstanceEnd;j.push({sortKey:Kn,symbolInstanceStart:jn,symbolInstanceEnd:ia,parameters:un})}else j.push({symbolInstanceStart:0,symbolInstanceEnd:ze.symbolInstances.length,parameters:un})}},Sr.prototype.attemptAnchorPlacement=function(j,ge,ne,ye,ze,Xe,st,mt,Bt,Jt,fr,mr,_r,Wr,Yr){var Gr=[mr.textOffset0,mr.textOffset1],qr=ni(j,ne,ye,Gr,ze),un=this.collisionIndex.placeCollisionBox(jt(ge,qr.x,qr.y,Xe,st,this.transform.angle),fr,mt,Bt,Jt.predicate);if(Yr){var En=this.collisionIndex.placeCollisionBox(jt(Yr,qr.x,qr.y,Xe,st,this.transform.angle),fr,mt,Bt,Jt.predicate);if(En.box.length===0)return}if(un.box.length>0){var On;return this.prevPlacement&&this.prevPlacement.variableOffsets[mr.crossTileID]&&this.prevPlacement.placements[mr.crossTileID]&&this.prevPlacement.placements[mr.crossTileID].text&&(On=this.prevPlacement.variableOffsets[mr.crossTileID].anchor),this.variableOffsets[mr.crossTileID]={textOffset:Gr,width:ne,height:ye,anchor:j,textBoxScale:ze,prevAnchor:On},this.markUsedJustification(_r,j,mr,Wr),_r.allowVerticalPlacement&&(this.markUsedOrientation(_r,Wr,mr),this.placedOrientations[mr.crossTileID]=Wr),{shift:qr,placedGlyphBoxes:un}}},Sr.prototype.placeLayerBucketPart=function(j,ge,ne){var ye=this,ze=j.parameters,Xe=ze.bucket,st=ze.layout,mt=ze.posMatrix,Bt=ze.textLabelPlaneMatrix,Jt=ze.labelToScreenMatrix,fr=ze.textPixelRatio,mr=ze.holdingForFade,_r=ze.collisionBoxArray,Wr=ze.partiallyEvaluatedTextSize,Yr=ze.collisionGroup,Gr=st.get("text-optional"),qr=st.get("icon-optional"),un=st.get("text-allow-overlap"),En=st.get("icon-allow-overlap"),On=st.get("text-rotation-alignment")==="map",Xn=st.get("text-pitch-alignment")==="map",Kn=st.get("icon-text-fit")!=="none",jn=st.get("symbol-z-order")==="viewport-y",ia=un&&(En||!Xe.hasIconData()||qr),pa=En&&(un||!Xe.hasTextData()||Gr);!Xe.collisionArrays&&_r&&Xe.deserializeCollisionBoxes(_r);var va=function(qa,oi){if(!ge[qa.crossTileID]){if(mr){ye.placements[qa.crossTileID]=new Pn(!1,!1,!1);return}var _a=!1,Ti=!1,Mi=!0,Ei=null,ui={box:null,offscreen:null},Bi={box:null,offscreen:null},$a=null,ci=null,so=null,Co=0,Ml=0,Cl=0;oi.textFeatureIndex?Co=oi.textFeatureIndex:qa.useRuntimeCollisionCircles&&(Co=qa.featureIndex),oi.verticalTextFeatureIndex&&(Ml=oi.verticalTextFeatureIndex);var cu=oi.textBox;if(cu){var hu=function(ho){var Hs=n.WritingMode.horizontal;if(Xe.allowVerticalPlacement&&!ho&&ye.prevPlacement){var Gs=ye.prevPlacement.placedOrientations[qa.crossTileID];Gs&&(ye.placedOrientations[qa.crossTileID]=Gs,Hs=Gs,ye.markUsedOrientation(Xe,Hs,qa))}return Hs},ju=function(ho,Hs){if(Xe.allowVerticalPlacement&&qa.numVerticalGlyphVertices>0&&oi.verticalTextBox)for(var Gs=0,Fv=Xe.writingModes;Gs<Fv.length;Gs+=1){var Nd=Fv[Gs];if(Nd===n.WritingMode.vertical?(ui=Hs(),Bi=ui):ui=ho(),ui&&ui.box&&ui.box.length)break}else ui=ho()};if(st.get("text-variable-anchor")){var os=st.get("text-variable-anchor");if(ye.prevPlacement&&ye.prevPlacement.variableOffsets[qa.crossTileID]){var ll=ye.prevPlacement.variableOffsets[qa.crossTileID];os.indexOf(ll.anchor)>0&&(os=os.filter(function(ho){return ho!==ll.anchor}),os.unshift(ll.anchor))}var du=function(ho,Hs,Gs){for(var Fv=ho.x2-ho.x1,Nd=ho.y2-ho.y1,Ag=qa.textBoxScale,Sg=Kn&&!En?Hs:null,Qh={box:[],offscreen:!1},Mg=un?os.length*2:os.length,zv=0;zv<Mg;++zv){var Cg=os[zv%os.length],Eg=zv>=os.length,Vd=ye.attemptAnchorPlacement(Cg,ho,Fv,Nd,Ag,On,Xn,fr,mt,Yr,Eg,qa,Xe,Gs,Sg);if(Vd&&(Qh=Vd.placedGlyphBoxes,Qh&&Qh.box&&Qh.box.length)){_a=!0,Ei=Vd.shift;break}}return Qh},Yl=function(){return du(cu,oi.iconBox,n.WritingMode.horizontal)},pu=function(){var ho=oi.verticalTextBox,Hs=ui&&ui.box&&ui.box.length;return Xe.allowVerticalPlacement&&!Hs&&qa.numVerticalGlyphVertices>0&&ho?du(ho,oi.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}};ju(Yl,pu),ui&&(_a=ui.box,Mi=ui.offscreen);var Iv=hu(ui&&ui.box);if(!_a&&ye.prevPlacement){var vc=ye.prevPlacement.variableOffsets[qa.crossTileID];vc&&(ye.variableOffsets[qa.crossTileID]=vc,ye.markUsedJustification(Xe,vc.anchor,qa,Iv))}}else{var vu=function(ho,Hs){var Gs=ye.collisionIndex.placeCollisionBox(ho,un,fr,mt,Yr.predicate);return Gs&&Gs.box&&Gs.box.length&&(ye.markUsedOrientation(Xe,Hs,qa),ye.placedOrientations[qa.crossTileID]=Hs),Gs},Cs=function(){return vu(cu,n.WritingMode.horizontal)},Pf=function(){var ho=oi.verticalTextBox;return Xe.allowVerticalPlacement&&qa.numVerticalGlyphVertices>0&&ho?vu(ho,n.WritingMode.vertical):{box:null,offscreen:null}};ju(Cs,Pf),hu(ui&&ui.box&&ui.box.length)}}if($a=ui,_a=$a&&$a.box&&$a.box.length>0,Mi=$a&&$a.offscreen,qa.useRuntimeCollisionCircles){var qo=Xe.text.placedSymbolArray.get(qa.centerJustifiedTextSymbolIndex),Jh=n.evaluateSizeForFeature(Xe.textSizeData,Wr,qo),vs=st.get("text-padding"),$h=qa.collisionCircleDiameter;ci=ye.collisionIndex.placeCollisionCircles(un,qo,Xe.lineVertexArray,Xe.glyphOffsetArray,Jh,mt,Bt,Jt,ne,Xn,Yr.predicate,$h,vs),_a=un||ci.circles.length>0&&!ci.collisionDetected,Mi=Mi&&ci.offscreen}if(oi.iconFeatureIndex&&(Cl=oi.iconFeatureIndex),oi.iconBox){var Dv=function(ho){var Hs=Kn&&Ei?jt(ho,Ei.x,Ei.y,On,Xn,ye.transform.angle):ho;return ye.collisionIndex.placeCollisionBox(Hs,En,fr,mt,Yr.predicate)};Bi&&Bi.box&&Bi.box.length&&oi.verticalIconBox?(so=Dv(oi.verticalIconBox),Ti=so.box.length>0):(so=Dv(oi.iconBox),Ti=so.box.length>0),Mi=Mi&&so.offscreen}var kv=Gr||qa.numHorizontalGlyphVertices===0&&qa.numVerticalGlyphVertices===0,j0=qr||qa.numIconVertices===0;if(!kv&&!j0?Ti=_a=Ti&&_a:j0?kv||(Ti=Ti&&_a):_a=Ti&&_a,_a&&$a&&$a.box&&(Bi&&Bi.box&&Ml?ye.collisionIndex.insertCollisionBox($a.box,st.get("text-ignore-placement"),Xe.bucketInstanceId,Ml,Yr.ID):ye.collisionIndex.insertCollisionBox($a.box,st.get("text-ignore-placement"),Xe.bucketInstanceId,Co,Yr.ID)),Ti&&so&&ye.collisionIndex.insertCollisionBox(so.box,st.get("icon-ignore-placement"),Xe.bucketInstanceId,Cl,Yr.ID),ci&&(_a&&ye.collisionIndex.insertCollisionCircles(ci.circles,st.get("text-ignore-placement"),Xe.bucketInstanceId,Co,Yr.ID),ne)){var _v=Xe.bucketInstanceId,ah=ye.collisionCircleArrays[_v];ah===void 0&&(ah=ye.collisionCircleArrays[_v]=new Wn);for(var ih=0;ih<ci.circles.length;ih+=4)ah.circles.push(ci.circles[ih+0]),ah.circles.push(ci.circles[ih+1]),ah.circles.push(ci.circles[ih+2]),ah.circles.push(ci.collisionDetected?1:0)}ye.placements[qa.crossTileID]=new Pn(_a||ia,Ti||pa,Mi||Xe.justReloaded),ge[qa.crossTileID]=!0}};if(jn)for(var xa=Xe.getSortedSymbolIndexes(this.transform.angle),Ma=xa.length-1;Ma>=0;--Ma){var Ua=xa[Ma];va(Xe.symbolInstances.get(Ua),Xe.collisionArrays[Ua])}else for(var Ja=j.symbolInstanceStart;Ja<j.symbolInstanceEnd;Ja++)va(Xe.symbolInstances.get(Ja),Xe.collisionArrays[Ja]);if(ne&&Xe.bucketInstanceId in this.collisionCircleArrays){var wi=this.collisionCircleArrays[Xe.bucketInstanceId];n.invert(wi.invProjMatrix,mt),wi.viewportMatrix=this.collisionIndex.getViewportMatrix()}Xe.justReloaded=!1},Sr.prototype.markUsedJustification=function(j,ge,ne,ye){var ze={left:ne.leftJustifiedTextSymbolIndex,center:ne.centerJustifiedTextSymbolIndex,right:ne.rightJustifiedTextSymbolIndex},Xe;ye===n.WritingMode.vertical?Xe=ne.verticalPlacedTextSymbolIndex:Xe=ze[n.getAnchorJustification(ge)];for(var st=[ne.leftJustifiedTextSymbolIndex,ne.centerJustifiedTextSymbolIndex,ne.rightJustifiedTextSymbolIndex,ne.verticalPlacedTextSymbolIndex],mt=0,Bt=st;mt<Bt.length;mt+=1){var Jt=Bt[mt];Jt>=0&&(Xe>=0&&Jt!==Xe?j.text.placedSymbolArray.get(Jt).crossTileID=0:j.text.placedSymbolArray.get(Jt).crossTileID=ne.crossTileID)}},Sr.prototype.markUsedOrientation=function(j,ge,ne){for(var ye=ge===n.WritingMode.horizontal||ge===n.WritingMode.horizontalOnly?ge:0,ze=ge===n.WritingMode.vertical?ge:0,Xe=[ne.leftJustifiedTextSymbolIndex,ne.centerJustifiedTextSymbolIndex,ne.rightJustifiedTextSymbolIndex],st=0,mt=Xe;st<mt.length;st+=1){var Bt=mt[st];j.text.placedSymbolArray.get(Bt).placedOrientation=ye}ne.verticalPlacedTextSymbolIndex&&(j.text.placedSymbolArray.get(ne.verticalPlacedTextSymbolIndex).placedOrientation=ze)},Sr.prototype.commit=function(j){this.commitTime=j,this.zoomAtLastRecencyCheck=this.transform.zoom;var ge=this.prevPlacement,ne=!1;this.prevZoomAdjustment=ge?ge.zoomAdjustment(this.transform.zoom):0;var ye=ge?ge.symbolFadeChange(j):1,ze=ge?ge.opacities:{},Xe=ge?ge.variableOffsets:{},st=ge?ge.placedOrientations:{};for(var mt in this.placements){var Bt=this.placements[mt],Jt=ze[mt];Jt?(this.opacities[mt]=new Ln(Jt,ye,Bt.text,Bt.icon),ne=ne||Bt.text!==Jt.text.placed||Bt.icon!==Jt.icon.placed):(this.opacities[mt]=new Ln(null,ye,Bt.text,Bt.icon,Bt.skipFade),ne=ne||Bt.text||Bt.icon)}for(var fr in ze){var mr=ze[fr];if(!this.opacities[fr]){var _r=new Ln(mr,ye,!1,!1);_r.isHidden()||(this.opacities[fr]=_r,ne=ne||mr.text.placed||mr.icon.placed)}}for(var Wr in Xe)!this.variableOffsets[Wr]&&this.opacities[Wr]&&!this.opacities[Wr].isHidden()&&(this.variableOffsets[Wr]=Xe[Wr]);for(var Yr in st)!this.placedOrientations[Yr]&&this.opacities[Yr]&&!this.opacities[Yr].isHidden()&&(this.placedOrientations[Yr]=st[Yr]);ne?this.lastPlacementChangeTime=j:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=ge?ge.lastPlacementChangeTime:j)},Sr.prototype.updateLayerOpacities=function(j,ge){for(var ne={},ye=0,ze=ge;ye<ze.length;ye+=1){var Xe=ze[ye],st=Xe.getBucket(j);st&&Xe.latestFeatureIndex&&j.id===st.layerIds[0]&&this.updateBucketOpacities(st,ne,Xe.collisionBoxArray)}},Sr.prototype.updateBucketOpacities=function(j,ge,ne){var ye=this;j.hasTextData()&&j.text.opacityVertexArray.clear(),j.hasIconData()&&j.icon.opacityVertexArray.clear(),j.hasIconCollisionBoxData()&&j.iconCollisionBox.collisionVertexArray.clear(),j.hasTextCollisionBoxData()&&j.textCollisionBox.collisionVertexArray.clear();var ze=j.layers[0].layout,Xe=new Ln(null,0,!1,!1,!0),st=ze.get("text-allow-overlap"),mt=ze.get("icon-allow-overlap"),Bt=ze.get("text-variable-anchor"),Jt=ze.get("text-rotation-alignment")==="map",fr=ze.get("text-pitch-alignment")==="map",mr=ze.get("icon-text-fit")!=="none",_r=new Ln(null,0,st&&(mt||!j.hasIconData()||ze.get("icon-optional")),mt&&(st||!j.hasTextData()||ze.get("text-optional")),!0);!j.collisionArrays&&ne&&(j.hasIconCollisionBoxData()||j.hasTextCollisionBoxData())&&j.deserializeCollisionBoxes(ne);for(var Wr=function(un,En,On){for(var Xn=0;Xn<En/4;Xn++)un.opacityVertexArray.emplaceBack(On)},Yr=function(un){var En=j.symbolInstances.get(un),On=En.numHorizontalGlyphVertices,Xn=En.numVerticalGlyphVertices,Kn=En.crossTileID,jn=ge[Kn],ia=ye.opacities[Kn];jn?ia=Xe:ia||(ia=_r,ye.opacities[Kn]=ia),ge[Kn]=!0;var pa=On>0||Xn>0,va=En.numIconVertices>0,xa=ye.placedOrientations[En.crossTileID],Ma=xa===n.WritingMode.vertical,Ua=xa===n.WritingMode.horizontal||xa===n.WritingMode.horizontalOnly;if(pa){var Ja=zr(ia.text),wi=Ma?pn:Ja;Wr(j.text,On,wi);var qa=Ua?pn:Ja;Wr(j.text,Xn,qa);var oi=ia.text.isHidden();[En.rightJustifiedTextSymbolIndex,En.centerJustifiedTextSymbolIndex,En.leftJustifiedTextSymbolIndex].forEach(function(Cl){Cl>=0&&(j.text.placedSymbolArray.get(Cl).hidden=oi||Ma?1:0)}),En.verticalPlacedTextSymbolIndex>=0&&(j.text.placedSymbolArray.get(En.verticalPlacedTextSymbolIndex).hidden=oi||Ua?1:0);var _a=ye.variableOffsets[En.crossTileID];_a&&ye.markUsedJustification(j,_a.anchor,En,xa);var Ti=ye.placedOrientations[En.crossTileID];Ti&&(ye.markUsedJustification(j,"left",En,Ti),ye.markUsedOrientation(j,Ti,En))}if(va){var Mi=zr(ia.icon),Ei=!(mr&&En.verticalPlacedIconSymbolIndex&&Ma);if(En.placedIconSymbolIndex>=0){var ui=Ei?Mi:pn;Wr(j.icon,En.numIconVertices,ui),j.icon.placedSymbolArray.get(En.placedIconSymbolIndex).hidden=ia.icon.isHidden()}if(En.verticalPlacedIconSymbolIndex>=0){var Bi=Ei?pn:Mi;Wr(j.icon,En.numVerticalIconVertices,Bi),j.icon.placedSymbolArray.get(En.verticalPlacedIconSymbolIndex).hidden=ia.icon.isHidden()}}if(j.hasIconCollisionBoxData()||j.hasTextCollisionBoxData()){var $a=j.collisionArrays[un];if($a){var ci=new n.Point(0,0);if($a.textBox||$a.verticalTextBox){var so=!0;if(Bt){var Co=ye.variableOffsets[Kn];Co?(ci=ni(Co.anchor,Co.width,Co.height,Co.textOffset,Co.textBoxScale),Jt&&ci._rotate(fr?ye.transform.angle:-ye.transform.angle)):so=!1}$a.textBox&&sn(j.textCollisionBox.collisionVertexArray,ia.text.placed,!so||Ma,ci.x,ci.y),$a.verticalTextBox&&sn(j.textCollisionBox.collisionVertexArray,ia.text.placed,!so||Ua,ci.x,ci.y)}var Ml=!!(!Ua&&$a.verticalIconBox);$a.iconBox&&sn(j.iconCollisionBox.collisionVertexArray,ia.icon.placed,Ml,mr?ci.x:0,mr?ci.y:0),$a.verticalIconBox&&sn(j.iconCollisionBox.collisionVertexArray,ia.icon.placed,!Ml,mr?ci.x:0,mr?ci.y:0)}}},Gr=0;Gr<j.symbolInstances.length;Gr++)Yr(Gr);if(j.sortFeatures(this.transform.angle),this.retainedQueryData[j.bucketInstanceId]&&(this.retainedQueryData[j.bucketInstanceId].featureSortOrder=j.featureSortOrder),j.hasTextData()&&j.text.opacityVertexBuffer&&j.text.opacityVertexBuffer.updateData(j.text.opacityVertexArray),j.hasIconData()&&j.icon.opacityVertexBuffer&&j.icon.opacityVertexBuffer.updateData(j.icon.opacityVertexArray),j.hasIconCollisionBoxData()&&j.iconCollisionBox.collisionVertexBuffer&&j.iconCollisionBox.collisionVertexBuffer.updateData(j.iconCollisionBox.collisionVertexArray),j.hasTextCollisionBoxData()&&j.textCollisionBox.collisionVertexBuffer&&j.textCollisionBox.collisionVertexBuffer.updateData(j.textCollisionBox.collisionVertexArray),j.bucketInstanceId in this.collisionCircleArrays){var qr=this.collisionCircleArrays[j.bucketInstanceId];j.placementInvProjMatrix=qr.invProjMatrix,j.placementViewportMatrix=qr.viewportMatrix,j.collisionCircleArray=qr.circles,delete this.collisionCircleArrays[j.bucketInstanceId]}},Sr.prototype.symbolFadeChange=function(j){return this.fadeDuration===0?1:(j-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Sr.prototype.zoomAdjustment=function(j){return Math.max(0,(this.transform.zoom-j)/1.5)},Sr.prototype.hasTransitions=function(j){return this.stale||j-this.lastPlacementChangeTime<this.fadeDuration},Sr.prototype.stillRecent=function(j,ge){var ne=this.zoomAtLastRecencyCheck===ge?1-this.zoomAdjustment(ge):1;return this.zoomAtLastRecencyCheck=ge,this.commitTime+this.fadeDuration*ne>j},Sr.prototype.setStale=function(){this.stale=!0};function sn(ve,j,ge,ne,ye){ve.emplaceBack(j?1:0,ge?1:0,ne||0,ye||0),ve.emplaceBack(j?1:0,ge?1:0,ne||0,ye||0),ve.emplaceBack(j?1:0,ge?1:0,ne||0,ye||0),ve.emplaceBack(j?1:0,ge?1:0,ne||0,ye||0)}var vn=Math.pow(2,25),dn=Math.pow(2,24),Rn=Math.pow(2,17),An=Math.pow(2,16),cn=Math.pow(2,9),Dr=Math.pow(2,8),Pr=Math.pow(2,1);function zr(ve){if(ve.opacity===0&&!ve.placed)return 0;if(ve.opacity===1&&ve.placed)return 4294967295;var j=ve.placed?1:0,ge=Math.floor(ve.opacity*127);return ge*vn+j*dn+ge*Rn+j*An+ge*cn+j*Dr+ge*Pr+j}var pn=0,zn=function(j){this._sortAcrossTiles=j.layout.get("symbol-z-order")!=="viewport-y"&&j.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};zn.prototype.continuePlacement=function(j,ge,ne,ye,ze){for(var Xe=this._bucketParts;this._currentTileIndex<j.length;){var st=j[this._currentTileIndex];if(ge.getBucketParts(Xe,ye,st,this._sortAcrossTiles),this._currentTileIndex++,ze())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Xe.sort(function(Bt,Jt){return Bt.sortKey-Jt.sortKey}));this._currentPartIndex<Xe.length;){var mt=Xe[this._currentPartIndex];if(ge.placeLayerBucketPart(mt,this._seenCrossTileIDs,ne),this._currentPartIndex++,ze())return!0}return!1};var Zn=function(j,ge,ne,ye,ze,Xe,st){this.placement=new Sr(j,ze,Xe,st),this._currentPlacementIndex=ge.length-1,this._forceFullPlacement=ne,this._showCollisionBoxes=ye,this._done=!1};Zn.prototype.isDone=function(){return this._done},Zn.prototype.continuePlacement=function(j,ge,ne){for(var ye=this,ze=n.browser.now(),Xe=function(){var fr=n.browser.now()-ze;return ye._forceFullPlacement?!1:fr>2};this._currentPlacementIndex>=0;){var st=j[this._currentPlacementIndex],mt=ge[st],Bt=this.placement.collisionIndex.transform.zoom;if(mt.type==="symbol"&&(!mt.minzoom||mt.minzoom<=Bt)&&(!mt.maxzoom||mt.maxzoom>Bt)){this._inProgressLayer||(this._inProgressLayer=new zn(mt));var Jt=this._inProgressLayer.continuePlacement(ne[mt.source],this.placement,this._showCollisionBoxes,mt,Xe);if(Jt)return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Zn.prototype.commit=function(j){return this.placement.commit(j),this.placement};var xn=512/n.EXTENT/2,Nn=function(j,ge,ne){this.tileID=j,this.indexedSymbolInstances={},this.bucketInstanceId=ne;for(var ye=0;ye<ge.length;ye++){var ze=ge.get(ye),Xe=ze.key;this.indexedSymbolInstances[Xe]||(this.indexedSymbolInstances[Xe]=[]),this.indexedSymbolInstances[Xe].push({crossTileID:ze.crossTileID,coord:this.getScaledCoordinates(ze,j)})}};Nn.prototype.getScaledCoordinates=function(j,ge){var ne=ge.canonical.z-this.tileID.canonical.z,ye=xn/Math.pow(2,ne);return{x:Math.floor((ge.canonical.x*n.EXTENT+j.anchorX)*ye),y:Math.floor((ge.canonical.y*n.EXTENT+j.anchorY)*ye)}},Nn.prototype.findMatches=function(j,ge,ne){for(var ye=this.tileID.canonical.z<ge.canonical.z?1:Math.pow(2,this.tileID.canonical.z-ge.canonical.z),ze=0;ze<j.length;ze++){var Xe=j.get(ze);if(!Xe.crossTileID){var st=this.indexedSymbolInstances[Xe.key];if(st)for(var mt=this.getScaledCoordinates(Xe,ge),Bt=0,Jt=st;Bt<Jt.length;Bt+=1){var fr=Jt[Bt];if(Math.abs(fr.coord.x-mt.x)<=ye&&Math.abs(fr.coord.y-mt.y)<=ye&&!ne[fr.crossTileID]){ne[fr.crossTileID]=!0,Xe.crossTileID=fr.crossTileID;break}}}}};var ta=function(){this.maxCrossTileID=0};ta.prototype.generate=function(){return++this.maxCrossTileID};var ha=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};ha.prototype.handleWrapJump=function(j){var ge=Math.round((j-this.lng)/360);if(ge!==0)for(var ne in this.indexes){var ye=this.indexes[ne],ze={};for(var Xe in ye){var st=ye[Xe];st.tileID=st.tileID.unwrapTo(st.tileID.wrap+ge),ze[st.tileID.key]=st}this.indexes[ne]=ze}this.lng=j},ha.prototype.addBucket=function(j,ge,ne){if(this.indexes[j.overscaledZ]&&this.indexes[j.overscaledZ][j.key]){if(this.indexes[j.overscaledZ][j.key].bucketInstanceId===ge.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(j.overscaledZ,this.indexes[j.overscaledZ][j.key])}for(var ye=0;ye<ge.symbolInstances.length;ye++){var ze=ge.symbolInstances.get(ye);ze.crossTileID=0}this.usedCrossTileIDs[j.overscaledZ]||(this.usedCrossTileIDs[j.overscaledZ]={});var Xe=this.usedCrossTileIDs[j.overscaledZ];for(var st in this.indexes){var mt=this.indexes[st];if(Number(st)>j.overscaledZ)for(var Bt in mt){var Jt=mt[Bt];Jt.tileID.isChildOf(j)&&Jt.findMatches(ge.symbolInstances,j,Xe)}else{var fr=j.scaledTo(Number(st)),mr=mt[fr.key];mr&&mr.findMatches(ge.symbolInstances,j,Xe)}}for(var _r=0;_r<ge.symbolInstances.length;_r++){var Wr=ge.symbolInstances.get(_r);Wr.crossTileID||(Wr.crossTileID=ne.generate(),Xe[Wr.crossTileID]=!0)}return this.indexes[j.overscaledZ]===void 0&&(this.indexes[j.overscaledZ]={}),this.indexes[j.overscaledZ][j.key]=new Nn(j,ge.symbolInstances,ge.bucketInstanceId),!0},ha.prototype.removeBucketCrossTileIDs=function(j,ge){for(var ne in ge.indexedSymbolInstances)for(var ye=0,ze=ge.indexedSymbolInstances[ne];ye<ze.length;ye+=1){var Xe=ze[ye];delete this.usedCrossTileIDs[j][Xe.crossTileID]}},ha.prototype.removeStaleBuckets=function(j){var ge=!1;for(var ne in this.indexes){var ye=this.indexes[ne];for(var ze in ye)j[ye[ze].bucketInstanceId]||(this.removeBucketCrossTileIDs(ne,ye[ze]),delete ye[ze],ge=!0)}return ge};var ua=function(){this.layerIndexes={},this.crossTileIDs=new ta,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};ua.prototype.addLayer=function(j,ge,ne){var ye=this.layerIndexes[j.id];ye===void 0&&(ye=this.layerIndexes[j.id]=new ha);var ze=!1,Xe={};ye.handleWrapJump(ne);for(var st=0,mt=ge;st<mt.length;st+=1){var Bt=mt[st],Jt=Bt.getBucket(j);!Jt||j.id!==Jt.layerIds[0]||(Jt.bucketInstanceId||(Jt.bucketInstanceId=++this.maxBucketInstanceId),ye.addBucket(Bt.tileID,Jt,this.crossTileIDs)&&(ze=!0),Xe[Jt.bucketInstanceId]=!0)}return ye.removeStaleBuckets(Xe)&&(ze=!0),ze},ua.prototype.pruneUnusedLayers=function(j){var ge={};j.forEach(function(ye){ge[ye]=!0});for(var ne in this.layerIndexes)ge[ne]||delete this.layerIndexes[ne]};var fa=function(ve,j){return n.emitValidationErrors(ve,j&&j.filter(function(ge){return ge.identifier!=="source.canvas"}))},ma=n.pick(Nt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),yo=n.pick(Nt,["setCenter","setZoom","setBearing","setPitch"]),ko=nr(),No=function(ve){function j(ge,ne){var ye=this;ne===void 0&&(ne={}),ve.call(this),this.map=ge,this.dispatcher=new _(It(),this),this.imageManager=new w,this.imageManager.setEventedParent(this),this.glyphManager=new E(ge._requestManager,ne.localIdeographFontFamily),this.lineAtlas=new k(256,512),this.crossTileSymbolIndex=new ua,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());var ze=this;this._rtlTextPluginCallback=j.registerForPluginStateChange(function(Xe){var st={pluginStatus:Xe.pluginStatus,pluginURL:Xe.pluginURL};ze.dispatcher.broadcast("syncRTLPluginState",st,function(mt,Bt){if(n.triggerPluginCompletionEvent(mt),Bt){var Jt=Bt.every(function(mr){return mr});if(Jt)for(var fr in ze.sourceCaches)ze.sourceCaches[fr].reload()}})}),this.on("data",function(Xe){if(!(Xe.dataType!=="source"||Xe.sourceDataType!=="metadata")){var st=ye.sourceCaches[Xe.sourceId];if(st){var mt=st.getSource();if(!(!mt||!mt.vectorLayerIds))for(var Bt in ye._layers){var Jt=ye._layers[Bt];Jt.source===mt.id&&ye._validateLayer(Jt)}}}})}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.loadURL=function(ne,ye){var ze=this;ye===void 0&&(ye={}),this.fire(new n.Event("dataloading",{dataType:"style"}));var Xe=typeof ye.validate=="boolean"?ye.validate:!n.isMapboxURL(ne);ne=this.map._requestManager.normalizeStyleURL(ne,ye.accessToken);var st=this.map._requestManager.transformRequest(ne,n.ResourceType.Style);this._request=n.getJSON(st,function(mt,Bt){ze._request=null,mt?ze.fire(new n.ErrorEvent(mt)):Bt&&ze._load(Bt,Xe)})},j.prototype.loadJSON=function(ne,ye){var ze=this;ye===void 0&&(ye={}),this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.browser.frame(function(){ze._request=null,ze._load(ne,ye.validate!==!1)})},j.prototype.loadEmpty=function(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(ko,!1)},j.prototype._load=function(ne,ye){if(!(ye&&fa(this,n.validateStyle(ne)))){this._loaded=!0,this.stylesheet=ne;for(var ze in ne.sources)this.addSource(ze,ne.sources[ze],{validate:!1});ne.sprite?this._loadSprite(ne.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(ne.glyphs);var Xe=ur(this.stylesheet.layers);this._order=Xe.map(function(Jt){return Jt.id}),this._layers={},this._serializedLayers={};for(var st=0,mt=Xe;st<mt.length;st+=1){var Bt=mt[st];Bt=n.createStyleLayer(Bt),Bt.setEventedParent(this,{layer:{id:Bt.id}}),this._layers[Bt.id]=Bt,this._serializedLayers[Bt.id]=Bt.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new A(this.stylesheet.light),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}},j.prototype._loadSprite=function(ne){var ye=this;this._spriteRequest=u(ne,this.map._requestManager,function(ze,Xe){if(ye._spriteRequest=null,ze)ye.fire(new n.ErrorEvent(ze));else if(Xe)for(var st in Xe)ye.imageManager.addImage(st,Xe[st]);ye.imageManager.setLoaded(!0),ye._availableImages=ye.imageManager.listImages(),ye.dispatcher.broadcast("setImages",ye._availableImages),ye.fire(new n.Event("data",{dataType:"style"}))})},j.prototype._validateLayer=function(ne){var ye=this.sourceCaches[ne.source];if(ye){var ze=ne.sourceLayer;if(ze){var Xe=ye.getSource();(Xe.type==="geojson"||Xe.vectorLayerIds&&Xe.vectorLayerIds.indexOf(ze)===-1)&&this.fire(new n.ErrorEvent(new Error('Source layer "'+ze+'" does not exist on source "'+Xe.id+'" as specified by style layer "'+ne.id+'"')))}}},j.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var ne in this.sourceCaches)if(!this.sourceCaches[ne].loaded())return!1;return!!this.imageManager.isLoaded()},j.prototype._serializeLayers=function(ne){for(var ye=[],ze=0,Xe=ne;ze<Xe.length;ze+=1){var st=Xe[ze],mt=this._layers[st];mt.type!=="custom"&&ye.push(mt.serialize())}return ye},j.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var ne in this.sourceCaches)if(this.sourceCaches[ne].hasTransition())return!0;for(var ye in this._layers)if(this._layers[ye].hasTransition())return!0;return!1},j.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},j.prototype.update=function(ne){if(this._loaded){var ye=this._changed;if(this._changed){var ze=Object.keys(this._updatedLayers),Xe=Object.keys(this._removedLayers);(ze.length||Xe.length)&&this._updateWorkerLayers(ze,Xe);for(var st in this._updatedSources){var mt=this._updatedSources[st];mt==="reload"?this._reloadSource(st):mt==="clear"&&this._clearSource(st)}this._updateTilesForChangedImages();for(var Bt in this._updatedPaintProps)this._layers[Bt].updateTransitions(ne);this.light.updateTransitions(ne),this._resetUpdates()}for(var Jt in this.sourceCaches)this.sourceCaches[Jt].used=!1;for(var fr=0,mr=this._order;fr<mr.length;fr+=1){var _r=mr[fr],Wr=this._layers[_r];Wr.recalculate(ne,this._availableImages),!Wr.isHidden(ne.zoom)&&Wr.source&&(this.sourceCaches[Wr.source].used=!0)}this.light.recalculate(ne),this.z=ne.zoom,ye&&this.fire(new n.Event("data",{dataType:"style"}))}},j.prototype._updateTilesForChangedImages=function(){var ne=Object.keys(this._changedImages);if(ne.length){for(var ye in this.sourceCaches)this.sourceCaches[ye].reloadTilesForDependencies(["icons","patterns"],ne);this._changedImages={}}},j.prototype._updateWorkerLayers=function(ne,ye){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(ne),removedIds:ye})},j.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},j.prototype.setState=function(ne){var ye=this;if(this._checkLoaded(),fa(this,n.validateStyle(ne)))return!1;ne=n.clone$1(ne),ne.layers=ur(ne.layers);var ze=_n(this.serialize(),ne).filter(function(st){return!(st.command in yo)});if(ze.length===0)return!1;var Xe=ze.filter(function(st){return!(st.command in ma)});if(Xe.length>0)throw new Error("Unimplemented: "+Xe.map(function(st){return st.command}).join(", ")+".");return ze.forEach(function(st){st.command!=="setTransition"&&ye[st.command].apply(ye,st.args)}),this.stylesheet=ne,!0},j.prototype.addImage=function(ne,ye){if(this.getImage(ne))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(ne,ye),this._availableImages=this.imageManager.listImages(),this._changedImages[ne]=!0,this._changed=!0,this.fire(new n.Event("data",{dataType:"style"}))},j.prototype.updateImage=function(ne,ye){this.imageManager.updateImage(ne,ye)},j.prototype.getImage=function(ne){return this.imageManager.getImage(ne)},j.prototype.removeImage=function(ne){if(!this.getImage(ne))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(ne),this._availableImages=this.imageManager.listImages(),this._changedImages[ne]=!0,this._changed=!0,this.fire(new n.Event("data",{dataType:"style"}))},j.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},j.prototype.addSource=function(ne,ye,ze){var Xe=this;if(ze===void 0&&(ze={}),this._checkLoaded(),this.sourceCaches[ne]!==void 0)throw new Error("There is already a source with this ID");if(!ye.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(ye).join(", ")+".");var st=["vector","raster","geojson","video","image"],mt=st.indexOf(ye.type)>=0;if(!(mt&&this._validate(n.validateStyle.source,"sources."+ne,ye,null,ze))){this.map&&this.map._collectResourceTiming&&(ye.collectResourceTiming=!0);var Bt=this.sourceCaches[ne]=new zt(ne,ye,this.dispatcher);Bt.style=this,Bt.setEventedParent(this,function(){return{isSourceLoaded:Xe.loaded(),source:Bt.serialize(),sourceId:ne}}),Bt.onAdd(this.map),this._changed=!0}},j.prototype.removeSource=function(ne){if(this._checkLoaded(),this.sourceCaches[ne]===void 0)throw new Error("There is no source with this ID");for(var ye in this._layers)if(this._layers[ye].source===ne)return this.fire(new n.ErrorEvent(new Error('Source "'+ne+'" cannot be removed while layer "'+ye+'" is using it.')));var ze=this.sourceCaches[ne];delete this.sourceCaches[ne],delete this._updatedSources[ne],ze.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:ne})),ze.setEventedParent(null),ze.clearTiles(),ze.onRemove&&ze.onRemove(this.map),this._changed=!0},j.prototype.setGeoJSONSourceData=function(ne,ye){this._checkLoaded();var ze=this.sourceCaches[ne].getSource();ze.setData(ye),this._changed=!0},j.prototype.getSource=function(ne){return this.sourceCaches[ne]&&this.sourceCaches[ne].getSource()},j.prototype.addLayer=function(ne,ye,ze){ze===void 0&&(ze={}),this._checkLoaded();var Xe=ne.id;if(this.getLayer(Xe)){this.fire(new n.ErrorEvent(new Error('Layer with id "'+Xe+'" already exists on this map')));return}var st;if(ne.type==="custom"){if(fa(this,n.validateCustomStyleLayer(ne)))return;st=n.createStyleLayer(ne)}else{if(typeof ne.source=="object"&&(this.addSource(Xe,ne.source),ne=n.clone$1(ne),ne=n.extend(ne,{source:Xe})),this._validate(n.validateStyle.layer,"layers."+Xe,ne,{arrayIndex:-1},ze))return;st=n.createStyleLayer(ne),this._validateLayer(st),st.setEventedParent(this,{layer:{id:Xe}}),this._serializedLayers[st.id]=st.serialize()}var mt=ye?this._order.indexOf(ye):this._order.length;if(ye&&mt===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}if(this._order.splice(mt,0,Xe),this._layerOrderChanged=!0,this._layers[Xe]=st,this._removedLayers[Xe]&&st.source&&st.type!=="custom"){var Bt=this._removedLayers[Xe];delete this._removedLayers[Xe],Bt.type!==st.type?this._updatedSources[st.source]="clear":(this._updatedSources[st.source]="reload",this.sourceCaches[st.source].pause())}this._updateLayer(st),st.onAdd&&st.onAdd(this.map)},j.prototype.moveLayer=function(ne,ye){this._checkLoaded(),this._changed=!0;var ze=this._layers[ne];if(!ze){this.fire(new n.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be moved.")));return}if(ne!==ye){var Xe=this._order.indexOf(ne);this._order.splice(Xe,1);var st=ye?this._order.indexOf(ye):this._order.length;if(ye&&st===-1){this.fire(new n.ErrorEvent(new Error('Layer with id "'+ye+'" does not exist on this map.')));return}this._order.splice(st,0,ne),this._layerOrderChanged=!0}},j.prototype.removeLayer=function(ne){this._checkLoaded();var ye=this._layers[ne];if(!ye){this.fire(new n.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be removed.")));return}ye.setEventedParent(null);var ze=this._order.indexOf(ne);this._order.splice(ze,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[ne]=ye,delete this._layers[ne],delete this._serializedLayers[ne],delete this._updatedLayers[ne],delete this._updatedPaintProps[ne],ye.onRemove&&ye.onRemove(this.map)},j.prototype.getLayer=function(ne){return this._layers[ne]},j.prototype.hasLayer=function(ne){return ne in this._layers},j.prototype.setLayerZoomRange=function(ne,ye,ze){this._checkLoaded();var Xe=this.getLayer(ne);if(!Xe){this.fire(new n.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot have zoom extent.")));return}Xe.minzoom===ye&&Xe.maxzoom===ze||(ye!=null&&(Xe.minzoom=ye),ze!=null&&(Xe.maxzoom=ze),this._updateLayer(Xe))},j.prototype.setFilter=function(ne,ye,ze){ze===void 0&&(ze={}),this._checkLoaded();var Xe=this.getLayer(ne);if(!Xe){this.fire(new n.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be filtered.")));return}if(!n.deepEqual(Xe.filter,ye)){if(ye==null){Xe.filter=void 0,this._updateLayer(Xe);return}this._validate(n.validateStyle.filter,"layers."+Xe.id+".filter",ye,null,ze)||(Xe.filter=n.clone$1(ye),this._updateLayer(Xe))}},j.prototype.getFilter=function(ne){return n.clone$1(this.getLayer(ne).filter)},j.prototype.setLayoutProperty=function(ne,ye,ze,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var st=this.getLayer(ne);if(!st){this.fire(new n.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be styled.")));return}n.deepEqual(st.getLayoutProperty(ye),ze)||(st.setLayoutProperty(ye,ze,Xe),this._updateLayer(st))},j.prototype.getLayoutProperty=function(ne,ye){var ze=this.getLayer(ne);if(!ze){this.fire(new n.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style.")));return}return ze.getLayoutProperty(ye)},j.prototype.setPaintProperty=function(ne,ye,ze,Xe){Xe===void 0&&(Xe={}),this._checkLoaded();var st=this.getLayer(ne);if(!st){this.fire(new n.ErrorEvent(new Error("The layer '"+ne+"' does not exist in the map's style and cannot be styled.")));return}if(!n.deepEqual(st.getPaintProperty(ye),ze)){var mt=st.setPaintProperty(ye,ze,Xe);mt&&this._updateLayer(st),this._changed=!0,this._updatedPaintProps[ne]=!0}},j.prototype.getPaintProperty=function(ne,ye){return this.getLayer(ne).getPaintProperty(ye)},j.prototype.setFeatureState=function(ne,ye){this._checkLoaded();var ze=ne.source,Xe=ne.sourceLayer,st=this.sourceCaches[ze];if(st===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var mt=st.getSource().type;if(mt==="geojson"&&Xe){this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));return}if(mt==="vector"&&!Xe){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}ne.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),st.setFeatureState(Xe,ne.id,ye)},j.prototype.removeFeatureState=function(ne,ye){this._checkLoaded();var ze=ne.source,Xe=this.sourceCaches[ze];if(Xe===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+ze+"' does not exist in the map's style.")));return}var st=Xe.getSource().type,mt=st==="vector"?ne.sourceLayer:void 0;if(st==="vector"&&!mt){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}if(ye&&typeof ne.id!="string"&&typeof ne.id!="number"){this.fire(new n.ErrorEvent(new Error("A feature id is requred to remove its specific state property.")));return}Xe.removeFeatureState(mt,ne.id,ye)},j.prototype.getFeatureState=function(ne){this._checkLoaded();var ye=ne.source,ze=ne.sourceLayer,Xe=this.sourceCaches[ye];if(Xe===void 0){this.fire(new n.ErrorEvent(new Error("The source '"+ye+"' does not exist in the map's style.")));return}var st=Xe.getSource().type;if(st==="vector"&&!ze){this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));return}return ne.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),Xe.getFeatureState(ze,ne.id)},j.prototype.getTransition=function(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},j.prototype.serialize=function(){return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:n.mapObject(this.sourceCaches,function(ne){return ne.serialize()}),layers:this._serializeLayers(this._order)},function(ne){return ne!==void 0})},j.prototype._updateLayer=function(ne){this._updatedLayers[ne.id]=!0,ne.source&&!this._updatedSources[ne.source]&&this.sourceCaches[ne.source].getSource().type!=="raster"&&(this._updatedSources[ne.source]="reload",this.sourceCaches[ne.source].pause()),this._changed=!0},j.prototype._flattenAndSortRenderedFeatures=function(ne){for(var ye=this,ze=function(Ua){return ye._layers[Ua].type==="fill-extrusion"},Xe={},st=[],mt=this._order.length-1;mt>=0;mt--){var Bt=this._order[mt];if(ze(Bt)){Xe[Bt]=mt;for(var Jt=0,fr=ne;Jt<fr.length;Jt+=1){var mr=fr[Jt],_r=mr[Bt];if(_r)for(var Wr=0,Yr=_r;Wr<Yr.length;Wr+=1){var Gr=Yr[Wr];st.push(Gr)}}}}st.sort(function(Ua,Ja){return Ja.intersectionZ-Ua.intersectionZ});for(var qr=[],un=this._order.length-1;un>=0;un--){var En=this._order[un];if(ze(En))for(var On=st.length-1;On>=0;On--){var Xn=st[On].feature;if(Xe[Xn.layer.id]<un)break;qr.push(Xn),st.pop()}else for(var Kn=0,jn=ne;Kn<jn.length;Kn+=1){var ia=jn[Kn],pa=ia[En];if(pa)for(var va=0,xa=pa;va<xa.length;va+=1){var Ma=xa[va];qr.push(Ma.feature)}}}return qr},j.prototype.queryRenderedFeatures=function(ne,ye,ze){ye&&ye.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",ye.filter,null,ye);var Xe={};if(ye&&ye.layers){if(!Array.isArray(ye.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var st=0,mt=ye.layers;st<mt.length;st+=1){var Bt=mt[st],Jt=this._layers[Bt];if(!Jt)return this.fire(new n.ErrorEvent(new Error("The layer '"+Bt+"' does not exist in the map's style and cannot be queried for features."))),[];Xe[Jt.source]=!0}}var fr=[];ye.availableImages=this._availableImages;for(var mr in this.sourceCaches)ye.layers&&!Xe[mr]||fr.push(Q(this.sourceCaches[mr],this._layers,this._serializedLayers,ne,ye,ze));return this.placement&&fr.push(ee(this._layers,this._serializedLayers,this.sourceCaches,ne,ye,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(fr)},j.prototype.querySourceFeatures=function(ne,ye){ye&&ye.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",ye.filter,null,ye);var ze=this.sourceCaches[ne];return ze?le(ze,ye):[]},j.prototype.addSourceType=function(ne,ye,ze){if(j.getSourceType(ne))return ze(new Error('A source type called "'+ne+'" already exists.'));if(j.setSourceType(ne,ye),!ye.workerSourceURL)return ze(null,null);this.dispatcher.broadcast("loadWorkerSource",{name:ne,url:ye.workerSourceURL},ze)},j.prototype.getLight=function(){return this.light.getLight()},j.prototype.setLight=function(ne,ye){ye===void 0&&(ye={}),this._checkLoaded();var ze=this.light.getLight(),Xe=!1;for(var st in ne)if(!n.deepEqual(ne[st],ze[st])){Xe=!0;break}if(Xe){var mt={now:n.browser.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(ne,ye),this.light.updateTransitions(mt)}},j.prototype._validate=function(ne,ye,ze,Xe,st){return st===void 0&&(st={}),st&&st.validate===!1?!1:fa(this,ne.call(n.validateStyle,n.extend({key:ye,style:this.serialize(),value:ze,styleSpec:n.styleSpec},Xe)))},j.prototype._remove=function(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(var ne in this._layers){var ye=this._layers[ne];ye.setEventedParent(null)}for(var ze in this.sourceCaches)this.sourceCaches[ze].clearTiles(),this.sourceCaches[ze].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},j.prototype._clearSource=function(ne){this.sourceCaches[ne].clearTiles()},j.prototype._reloadSource=function(ne){this.sourceCaches[ne].resume(),this.sourceCaches[ne].reload()},j.prototype._updateSources=function(ne){for(var ye in this.sourceCaches)this.sourceCaches[ye].update(ne)},j.prototype._generateCollisionBoxes=function(){for(var ne in this.sourceCaches)this._reloadSource(ne)},j.prototype._updatePlacement=function(ne,ye,ze,Xe,st){st===void 0&&(st=!1);for(var mt=!1,Bt=!1,Jt={},fr=0,mr=this._order;fr<mr.length;fr+=1){var _r=mr[fr],Wr=this._layers[_r];if(Wr.type==="symbol"){if(!Jt[Wr.source]){var Yr=this.sourceCaches[Wr.source];Jt[Wr.source]=Yr.getRenderableIds(!0).map(function(Kn){return Yr.getTileByID(Kn)}).sort(function(Kn,jn){return jn.tileID.overscaledZ-Kn.tileID.overscaledZ||(Kn.tileID.isLessThan(jn.tileID)?-1:1)})}var Gr=this.crossTileSymbolIndex.addLayer(Wr,Jt[Wr.source],ne.center.lng);mt=mt||Gr}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),st=st||this._layerOrderChanged||ze===0,(st||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.browser.now(),ne.zoom))&&(this.pauseablePlacement=new Zn(ne,this._order,st,ye,ze,Xe,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,Jt),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.browser.now()),Bt=!0),mt&&this.pauseablePlacement.placement.setStale()),Bt||mt)for(var qr=0,un=this._order;qr<un.length;qr+=1){var En=un[qr],On=this._layers[En];On.type==="symbol"&&this.placement.updateLayerOpacities(On,Jt[On.source])}var Xn=!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.browser.now());return Xn},j.prototype._releaseSymbolFadeTiles=function(){for(var ne in this.sourceCaches)this.sourceCaches[ne].releaseSymbolFadeTiles()},j.prototype.getImages=function(ne,ye,ze){this.imageManager.getImages(ye.icons,ze),this._updateTilesForChangedImages();var Xe=this.sourceCaches[ye.source];Xe&&Xe.setDependencies(ye.tileID.key,ye.type,ye.icons)},j.prototype.getGlyphs=function(ne,ye,ze){this.glyphManager.getGlyphs(ye.stacks,ze)},j.prototype.getResource=function(ne,ye,ze){return n.makeRequest(ye,ze)},j}(n.Evented);No.getSourceType=W,No.setSourceType=X,No.registerForPluginStateChange=n.registerForPluginStateChange;var jo=n.createLayout([{name:"a_pos",type:"Int16",components:2}]),Vo=`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,Hf=`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`,pi=`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Pu="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",ql=`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,mo="uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}",Ko=`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Fc=`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`,Ru="void main() {gl_FragColor=vec4(1.0);}",Xi="attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}",Iu=`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rs=`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`,co=`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,ns="uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}",_o="varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}",us="attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}",ks="varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",Qs="attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}",Ao="uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",zc="attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}",_s=`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,So=`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`,Gf=`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,qs=`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Fs=`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Wf=`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`,Yf=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Eh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`,Du=`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Lh=`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`,Ph=`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Rh=`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`,Zf=`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ih="uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}",Dh=`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Oc="uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}",kh=`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,_h=`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,Xf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,kl=`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`,_l=`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,eu=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`,lf=`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Fh=`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`,el=`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Bc="uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}",jf=`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,zh=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`,fs=`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Fl=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`,ku=`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,tu=`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`,zs=Li(Vo,Hf),tl=Li(pi,Pu),Kf=Li(ql,mo),ru=Li(Ko,Fc),pl=Li(Ru,Xi),qi=Li(Iu,rs),Jf=Li(co,ns),uf=Li(_o,us),nu=Li(ks,Qs),Nc=Li(Ao,zc),Vc=Li(_s,So),au=Li(Gf,qs),iu=Li(Fs,Wf),xo=Li(Yf,Eh),ff=Li(Du,Lh),Oh=Li(Ph,Rh),$f=Li(Zf,Ih),Bh=Li(Dh,Oc),cf=Li(kh,_h),_u=Li(Xf,kl),Qf=Li(_l,eu),qf=Li(lf,Fh),Fu=Li(el,Bc),ec=Li(jf,zh),hf=Li(fs,Fl),tc=Li(ku,tu);function Li(ve,j){var ge=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,ne={};return ve=ve.replace(ge,function(ye,ze,Xe,st,mt){return ne[mt]=!0,ze==="define"?`
#ifndef HAS_UNIFORM_u_`+mt+`
varying `+Xe+" "+st+" "+mt+`;
#else
uniform `+Xe+" "+st+" u_"+mt+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+mt+`
    `+Xe+" "+st+" "+mt+" = u_"+mt+`;
#endif
`}),j=j.replace(ge,function(ye,ze,Xe,st,mt){var Bt=st==="float"?"vec2":"vec4",Jt=mt.match(/color/)?"color":Bt;return ne[mt]?ze==="define"?`
#ifndef HAS_UNIFORM_u_`+mt+`
uniform lowp float u_`+mt+`_t;
attribute `+Xe+" "+Bt+" a_"+mt+`;
varying `+Xe+" "+st+" "+mt+`;
#else
uniform `+Xe+" "+st+" u_"+mt+`;
#endif
`:Jt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+mt+`
    `+mt+" = a_"+mt+`;
#else
    `+Xe+" "+st+" "+mt+" = u_"+mt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+mt+`
    `+mt+" = unpack_mix_"+Jt+"(a_"+mt+", u_"+mt+`_t);
#else
    `+Xe+" "+st+" "+mt+" = u_"+mt+`;
#endif
`:ze==="define"?`
#ifndef HAS_UNIFORM_u_`+mt+`
uniform lowp float u_`+mt+`_t;
attribute `+Xe+" "+Bt+" a_"+mt+`;
#else
uniform `+Xe+" "+st+" u_"+mt+`;
#endif
`:Jt==="vec4"?`
#ifndef HAS_UNIFORM_u_`+mt+`
    `+Xe+" "+st+" "+mt+" = a_"+mt+`;
#else
    `+Xe+" "+st+" "+mt+" = u_"+mt+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+mt+`
    `+Xe+" "+st+" "+mt+" = unpack_mix_"+Jt+"(a_"+mt+", u_"+mt+`_t);
#else
    `+Xe+" "+st+" "+mt+" = u_"+mt+`;
#endif
`}),{fragmentSource:ve,vertexSource:j}}var Uc=Object.freeze({__proto__:null,prelude:zs,background:tl,backgroundPattern:Kf,circle:ru,clippingMask:pl,heatmap:qi,heatmapTexture:Jf,collisionBox:uf,collisionCircle:nu,debug:Nc,fill:Vc,fillOutline:au,fillOutlinePattern:iu,fillPattern:xo,fillExtrusion:ff,fillExtrusionPattern:Oh,hillshadePrepare:$f,hillshade:Bh,line:cf,lineGradient:_u,linePattern:Qf,lineSDF:qf,raster:Fu,symbolIcon:ec,symbolSDF:hf,symbolTextAndIcon:tc}),ws=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};ws.prototype.bind=function(j,ge,ne,ye,ze,Xe,st,mt){this.context=j;for(var Bt=this.boundPaintVertexBuffers.length!==ye.length,Jt=0;!Bt&&Jt<ye.length;Jt++)this.boundPaintVertexBuffers[Jt]!==ye[Jt]&&(Bt=!0);var fr=!this.vao||this.boundProgram!==ge||this.boundLayoutVertexBuffer!==ne||Bt||this.boundIndexBuffer!==ze||this.boundVertexOffset!==Xe||this.boundDynamicVertexBuffer!==st||this.boundDynamicVertexBuffer2!==mt;!j.extVertexArrayObject||fr?this.freshBind(ge,ne,ye,ze,Xe,st,mt):(j.bindVertexArrayOES.set(this.vao),st&&st.bind(),ze&&ze.dynamicDraw&&ze.bind(),mt&&mt.bind())},ws.prototype.freshBind=function(j,ge,ne,ye,ze,Xe,st){var mt,Bt=j.numAttributes,Jt=this.context,fr=Jt.gl;if(Jt.extVertexArrayObject)this.vao&&this.destroy(),this.vao=Jt.extVertexArrayObject.createVertexArrayOES(),Jt.bindVertexArrayOES.set(this.vao),mt=0,this.boundProgram=j,this.boundLayoutVertexBuffer=ge,this.boundPaintVertexBuffers=ne,this.boundIndexBuffer=ye,this.boundVertexOffset=ze,this.boundDynamicVertexBuffer=Xe,this.boundDynamicVertexBuffer2=st;else{mt=Jt.currentNumAttributes||0;for(var mr=Bt;mr<mt;mr++)fr.disableVertexAttribArray(mr)}ge.enableAttributes(fr,j);for(var _r=0,Wr=ne;_r<Wr.length;_r+=1){var Yr=Wr[_r];Yr.enableAttributes(fr,j)}Xe&&Xe.enableAttributes(fr,j),st&&st.enableAttributes(fr,j),ge.bind(),ge.setVertexAttribPointers(fr,j,ze);for(var Gr=0,qr=ne;Gr<qr.length;Gr+=1){var un=qr[Gr];un.bind(),un.setVertexAttribPointers(fr,j,ze)}Xe&&(Xe.bind(),Xe.setVertexAttribPointers(fr,j,ze)),ye&&ye.bind(),st&&(st.bind(),st.setVertexAttribPointers(fr,j,ze)),Jt.currentNumAttributes=Bt},ws.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var ou=function(j,ge,ne,ye,ze){var Xe=j.gl;this.program=Xe.createProgram();var st=ne?ne.defines():[];ze&&st.push("#define OVERDRAW_INSPECTOR;");var mt=st.concat(zs.fragmentSource,ge.fragmentSource).join(`
`),Bt=st.concat(zs.vertexSource,ge.vertexSource).join(`
`),Jt=Xe.createShader(Xe.FRAGMENT_SHADER);if(Xe.isContextLost()){this.failedToCreate=!0;return}Xe.shaderSource(Jt,mt),Xe.compileShader(Jt),Xe.attachShader(this.program,Jt);var fr=Xe.createShader(Xe.VERTEX_SHADER);if(Xe.isContextLost()){this.failedToCreate=!0;return}Xe.shaderSource(fr,Bt),Xe.compileShader(fr),Xe.attachShader(this.program,fr);for(var mr=ne?ne.layoutAttributes:[],_r=0;_r<mr.length;_r++)Xe.bindAttribLocation(this.program,_r,mr[_r].name);Xe.linkProgram(this.program),Xe.deleteShader(fr),Xe.deleteShader(Jt),this.numAttributes=Xe.getProgramParameter(this.program,Xe.ACTIVE_ATTRIBUTES),this.attributes={};for(var Wr={},Yr=0;Yr<this.numAttributes;Yr++){var Gr=Xe.getActiveAttrib(this.program,Yr);Gr&&(this.attributes[Gr.name]=Xe.getAttribLocation(this.program,Gr.name))}for(var qr=Xe.getProgramParameter(this.program,Xe.ACTIVE_UNIFORMS),un=0;un<qr;un++){var En=Xe.getActiveUniform(this.program,un);En&&(Wr[En.name]=Xe.getUniformLocation(this.program,En.name))}this.fixedUniforms=ye(j,Wr),this.binderUniforms=ne?ne.getUniforms(j,Wr):[]};ou.prototype.draw=function(j,ge,ne,ye,ze,Xe,st,mt,Bt,Jt,fr,mr,_r,Wr,Yr,Gr){var qr,un=j.gl;if(!this.failedToCreate){j.program.set(this.program),j.setDepthMode(ne),j.setStencilMode(ye),j.setColorMode(ze),j.setCullFace(Xe);for(var En in this.fixedUniforms)this.fixedUniforms[En].set(st[En]);Wr&&Wr.setUniforms(j,this.binderUniforms,mr,{zoom:_r});for(var On=(qr={},qr[un.LINES]=2,qr[un.TRIANGLES]=3,qr[un.LINE_STRIP]=1,qr)[ge],Xn=0,Kn=fr.get();Xn<Kn.length;Xn+=1){var jn=Kn[Xn],ia=jn.vaos||(jn.vaos={}),pa=ia[mt]||(ia[mt]=new ws);pa.bind(j,this,Bt,Wr?Wr.getPaintVertexBuffers():[],Jt,jn.vertexOffset,Yr,Gr),un.drawElements(ge,jn.primitiveLength*On,un.UNSIGNED_SHORT,jn.primitiveOffset*On*2)}}};function zl(ve,j,ge){var ne=1/yn(ge,1,j.transform.tileZoom),ye=Math.pow(2,ge.tileID.overscaledZ),ze=ge.tileSize*Math.pow(2,j.transform.tileZoom)/ye,Xe=ze*(ge.tileID.canonical.x+ge.tileID.wrap*ye),st=ze*ge.tileID.canonical.y;return{u_image:0,u_texsize:ge.imageAtlasTexture.size,u_scale:[ne,ve.fromScale,ve.toScale],u_fade:ve.t,u_pixel_coord_upper:[Xe>>16,st>>16],u_pixel_coord_lower:[Xe&65535,st&65535]}}function rc(ve,j,ge,ne){var ye=ge.imageManager.getPattern(ve.from.toString()),ze=ge.imageManager.getPattern(ve.to.toString()),Xe=ge.imageManager.getPixelSize(),st=Xe.width,mt=Xe.height,Bt=Math.pow(2,ne.tileID.overscaledZ),Jt=ne.tileSize*Math.pow(2,ge.transform.tileZoom)/Bt,fr=Jt*(ne.tileID.canonical.x+ne.tileID.wrap*Bt),mr=Jt*ne.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ye.tl,u_pattern_br_a:ye.br,u_pattern_tl_b:ze.tl,u_pattern_br_b:ze.br,u_texsize:[st,mt],u_mix:j.t,u_pattern_size_a:ye.displaySize,u_pattern_size_b:ze.displaySize,u_scale_a:j.fromScale,u_scale_b:j.toScale,u_tile_units_to_pixels:1/yn(ne,1,ge.transform.tileZoom),u_pixel_coord_upper:[fr>>16,mr>>16],u_pixel_coord_lower:[fr&65535,mr&65535]}}var to=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_lightpos:new n.Uniform3f(ve,j.u_lightpos),u_lightintensity:new n.Uniform1f(ve,j.u_lightintensity),u_lightcolor:new n.Uniform3f(ve,j.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ve,j.u_vertical_gradient),u_opacity:new n.Uniform1f(ve,j.u_opacity)}},zu=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_lightpos:new n.Uniform3f(ve,j.u_lightpos),u_lightintensity:new n.Uniform1f(ve,j.u_lightintensity),u_lightcolor:new n.Uniform3f(ve,j.u_lightcolor),u_vertical_gradient:new n.Uniform1f(ve,j.u_vertical_gradient),u_height_factor:new n.Uniform1f(ve,j.u_height_factor),u_image:new n.Uniform1i(ve,j.u_image),u_texsize:new n.Uniform2f(ve,j.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,j.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,j.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,j.u_scale),u_fade:new n.Uniform1f(ve,j.u_fade),u_opacity:new n.Uniform1f(ve,j.u_opacity)}},Jo=function(ve,j,ge,ne){var ye=j.style.light,ze=ye.properties.get("position"),Xe=[ze.x,ze.y,ze.z],st=n.create$1();ye.properties.get("anchor")==="viewport"&&n.fromRotation(st,-j.transform.angle),n.transformMat3(Xe,Xe,st);var mt=ye.properties.get("color");return{u_matrix:ve,u_lightpos:Xe,u_lightintensity:ye.properties.get("intensity"),u_lightcolor:[mt.r,mt.g,mt.b],u_vertical_gradient:+ge,u_opacity:ne}},rl=function(ve,j,ge,ne,ye,ze,Xe){return n.extend(Jo(ve,j,ge,ne),zl(ze,j,Xe),{u_height_factor:-Math.pow(2,ye.overscaledZ)/Xe.tileSize/8})},nl=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix)}},yl=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_image:new n.Uniform1i(ve,j.u_image),u_texsize:new n.Uniform2f(ve,j.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,j.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,j.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,j.u_scale),u_fade:new n.Uniform1f(ve,j.u_fade)}},ml=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_world:new n.Uniform2f(ve,j.u_world)}},xl=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_world:new n.Uniform2f(ve,j.u_world),u_image:new n.Uniform1i(ve,j.u_image),u_texsize:new n.Uniform2f(ve,j.u_texsize),u_pixel_coord_upper:new n.Uniform2f(ve,j.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,j.u_pixel_coord_lower),u_scale:new n.Uniform3f(ve,j.u_scale),u_fade:new n.Uniform1f(ve,j.u_fade)}},Ts=function(ve){return{u_matrix:ve}},Os=function(ve,j,ge,ne){return n.extend(Ts(ve),zl(ge,j,ne))},Ou=function(ve,j){return{u_matrix:ve,u_world:j}},Bu=function(ve,j,ge,ne,ye){return n.extend(Os(ve,j,ge,ne),{u_world:ye})},vf=function(ve,j){return{u_camera_to_center_distance:new n.Uniform1f(ve,j.u_camera_to_center_distance),u_scale_with_map:new n.Uniform1i(ve,j.u_scale_with_map),u_pitch_with_map:new n.Uniform1i(ve,j.u_pitch_with_map),u_extrude_scale:new n.Uniform2f(ve,j.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(ve,j.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(ve,j.u_matrix)}},Nh=function(ve,j,ge,ne){var ye=ve.transform,ze,Xe;if(ne.paint.get("circle-pitch-alignment")==="map"){var st=yn(ge,1,ye.zoom);ze=!0,Xe=[st,st]}else ze=!1,Xe=ye.pixelsToGLUnits;return{u_camera_to_center_distance:ye.cameraToCenterDistance,u_scale_with_map:+(ne.paint.get("circle-pitch-scale")==="map"),u_matrix:ve.translatePosMatrix(j.posMatrix,ge,ne.paint.get("circle-translate"),ne.paint.get("circle-translate-anchor")),u_pitch_with_map:+ze,u_device_pixel_ratio:n.browser.devicePixelRatio,u_extrude_scale:Xe}},Vh=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_camera_to_center_distance:new n.Uniform1f(ve,j.u_camera_to_center_distance),u_pixels_to_tile_units:new n.Uniform1f(ve,j.u_pixels_to_tile_units),u_extrude_scale:new n.Uniform2f(ve,j.u_extrude_scale),u_overscale_factor:new n.Uniform1f(ve,j.u_overscale_factor)}},Uh=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_inv_matrix:new n.UniformMatrix4f(ve,j.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(ve,j.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(ve,j.u_viewport_size)}},Hh=function(ve,j,ge){var ne=yn(ge,1,j.zoom),ye=Math.pow(2,j.zoom-ge.tileID.overscaledZ),ze=ge.tileID.overscaleFactor();return{u_matrix:ve,u_camera_to_center_distance:j.cameraToCenterDistance,u_pixels_to_tile_units:ne,u_extrude_scale:[j.pixelsToGLUnits[0]/(ne*ye),j.pixelsToGLUnits[1]/(ne*ye)],u_overscale_factor:ze}},df=function(ve,j,ge){return{u_matrix:ve,u_inv_matrix:j,u_camera_to_center_distance:ge.cameraToCenterDistance,u_viewport_size:[ge.width,ge.height]}},Hc=function(ve,j){return{u_color:new n.UniformColor(ve,j.u_color),u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_overlay:new n.Uniform1i(ve,j.u_overlay),u_overlay_scale:new n.Uniform1f(ve,j.u_overlay_scale)}},su=function(ve,j,ge){return ge===void 0&&(ge=1),{u_matrix:ve,u_color:j,u_overlay:0,u_overlay_scale:ge}},Mo=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix)}},$o=function(ve){return{u_matrix:ve}},Nu=function(ve,j){return{u_extrude_scale:new n.Uniform1f(ve,j.u_extrude_scale),u_intensity:new n.Uniform1f(ve,j.u_intensity),u_matrix:new n.UniformMatrix4f(ve,j.u_matrix)}},Ol=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_world:new n.Uniform2f(ve,j.u_world),u_image:new n.Uniform1i(ve,j.u_image),u_color_ramp:new n.Uniform1i(ve,j.u_color_ramp),u_opacity:new n.Uniform1f(ve,j.u_opacity)}},Vu=function(ve,j,ge,ne){return{u_matrix:ve,u_extrude_scale:yn(j,1,ge),u_intensity:ne}},pf=function(ve,j,ge,ne){var ye=n.create();n.ortho(ye,0,ve.width,ve.height,0,0,1);var ze=ve.context.gl;return{u_matrix:ye,u_world:[ze.drawingBufferWidth,ze.drawingBufferHeight],u_image:ge,u_color_ramp:ne,u_opacity:j.paint.get("heatmap-opacity")}},Gh=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_image:new n.Uniform1i(ve,j.u_image),u_latrange:new n.Uniform2f(ve,j.u_latrange),u_light:new n.Uniform2f(ve,j.u_light),u_shadow:new n.UniformColor(ve,j.u_shadow),u_highlight:new n.UniformColor(ve,j.u_highlight),u_accent:new n.UniformColor(ve,j.u_accent)}},Gc=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_image:new n.Uniform1i(ve,j.u_image),u_dimension:new n.Uniform2f(ve,j.u_dimension),u_zoom:new n.Uniform1f(ve,j.u_zoom),u_maxzoom:new n.Uniform1f(ve,j.u_maxzoom),u_unpack:new n.Uniform4f(ve,j.u_unpack)}},Wc=function(ve,j,ge){var ne=ge.paint.get("hillshade-shadow-color"),ye=ge.paint.get("hillshade-highlight-color"),ze=ge.paint.get("hillshade-accent-color"),Xe=ge.paint.get("hillshade-illumination-direction")*(Math.PI/180);ge.paint.get("hillshade-illumination-anchor")==="viewport"&&(Xe-=ve.transform.angle);var st=!ve.options.moving;return{u_matrix:ve.transform.calculatePosMatrix(j.tileID.toUnwrapped(),st),u_image:0,u_latrange:bl(ve,j.tileID),u_light:[ge.paint.get("hillshade-exaggeration"),Xe],u_shadow:ne,u_highlight:ye,u_accent:ze}},nc=function(ve,j,ge){var ne=j.stride,ye=n.create();return n.ortho(ye,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(ye,ye,[0,-n.EXTENT,0]),{u_matrix:ye,u_image:1,u_dimension:[ne,ne],u_zoom:ve.overscaledZ,u_maxzoom:ge,u_unpack:j.getUnpackVector()}};function bl(ve,j){var ge=Math.pow(2,j.canonical.z),ne=j.canonical.y;return[new n.MercatorCoordinate(0,ne/ge).toLngLat().lat,new n.MercatorCoordinate(0,(ne+1)/ge).toLngLat().lat]}var ro=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_ratio:new n.Uniform1f(ve,j.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,j.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,j.u_units_to_pixels)}},Bs=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_ratio:new n.Uniform1f(ve,j.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,j.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,j.u_units_to_pixels),u_image:new n.Uniform1i(ve,j.u_image)}},ac=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_texsize:new n.Uniform2f(ve,j.u_texsize),u_ratio:new n.Uniform1f(ve,j.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,j.u_device_pixel_ratio),u_image:new n.Uniform1i(ve,j.u_image),u_units_to_pixels:new n.Uniform2f(ve,j.u_units_to_pixels),u_scale:new n.Uniform3f(ve,j.u_scale),u_fade:new n.Uniform1f(ve,j.u_fade)}},Yc=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_ratio:new n.Uniform1f(ve,j.u_ratio),u_device_pixel_ratio:new n.Uniform1f(ve,j.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(ve,j.u_units_to_pixels),u_patternscale_a:new n.Uniform2f(ve,j.u_patternscale_a),u_patternscale_b:new n.Uniform2f(ve,j.u_patternscale_b),u_sdfgamma:new n.Uniform1f(ve,j.u_sdfgamma),u_image:new n.Uniform1i(ve,j.u_image),u_tex_y_a:new n.Uniform1f(ve,j.u_tex_y_a),u_tex_y_b:new n.Uniform1f(ve,j.u_tex_y_b),u_mix:new n.Uniform1f(ve,j.u_mix)}},Bl=function(ve,j,ge){var ne=ve.transform;return{u_matrix:il(ve,j,ge),u_ratio:1/yn(j,1,ne.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_units_to_pixels:[1/ne.pixelsToGLUnits[0],1/ne.pixelsToGLUnits[1]]}},gf=function(ve,j,ge){return n.extend(Bl(ve,j,ge),{u_image:0})},As=function(ve,j,ge,ne){var ye=ve.transform,ze=al(j,ye);return{u_matrix:il(ve,j,ge),u_texsize:j.imageAtlasTexture.size,u_ratio:1/yn(j,1,ye.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_image:0,u_scale:[ze,ne.fromScale,ne.toScale],u_fade:ne.t,u_units_to_pixels:[1/ye.pixelsToGLUnits[0],1/ye.pixelsToGLUnits[1]]}},yf=function(ve,j,ge,ne,ye){var ze=ve.transform,Xe=ve.lineAtlas,st=al(j,ze),mt=ge.layout.get("line-cap")==="round",Bt=Xe.getDash(ne.from,mt),Jt=Xe.getDash(ne.to,mt),fr=Bt.width*ye.fromScale,mr=Jt.width*ye.toScale;return n.extend(Bl(ve,j,ge),{u_patternscale_a:[st/fr,-Bt.height/2],u_patternscale_b:[st/mr,-Jt.height/2],u_sdfgamma:Xe.width/(Math.min(fr,mr)*256*n.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:Bt.y,u_tex_y_b:Jt.y,u_mix:ye.t})};function al(ve,j){return 1/yn(ve,1,j.tileZoom)}function il(ve,j,ge){return ve.translatePosMatrix(j.tileID.posMatrix,j,ge.paint.get("line-translate"),ge.paint.get("line-translate-anchor"))}var ic=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_tl_parent:new n.Uniform2f(ve,j.u_tl_parent),u_scale_parent:new n.Uniform1f(ve,j.u_scale_parent),u_buffer_scale:new n.Uniform1f(ve,j.u_buffer_scale),u_fade_t:new n.Uniform1f(ve,j.u_fade_t),u_opacity:new n.Uniform1f(ve,j.u_opacity),u_image0:new n.Uniform1i(ve,j.u_image0),u_image1:new n.Uniform1i(ve,j.u_image1),u_brightness_low:new n.Uniform1f(ve,j.u_brightness_low),u_brightness_high:new n.Uniform1f(ve,j.u_brightness_high),u_saturation_factor:new n.Uniform1f(ve,j.u_saturation_factor),u_contrast_factor:new n.Uniform1f(ve,j.u_contrast_factor),u_spin_weights:new n.Uniform3f(ve,j.u_spin_weights)}},lu=function(ve,j,ge,ne,ye){return{u_matrix:ve,u_tl_parent:j,u_scale_parent:ge,u_buffer_scale:1,u_fade_t:ne.mix,u_opacity:ne.opacity*ye.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:ye.paint.get("raster-brightness-min"),u_brightness_high:ye.paint.get("raster-brightness-max"),u_saturation_factor:mf(ye.paint.get("raster-saturation")),u_contrast_factor:Nl(ye.paint.get("raster-contrast")),u_spin_weights:Ai(ye.paint.get("raster-hue-rotate"))}};function Ai(ve){ve*=Math.PI/180;var j=Math.sin(ve),ge=Math.cos(ve);return[(2*ge+1)/3,(-Math.sqrt(3)*j-ge+1)/3,(Math.sqrt(3)*j-ge+1)/3]}function Nl(ve){return ve>0?1/(1-ve):1+ve}function mf(ve){return ve>0?1-1/(1.001-ve):-ve}var xf=function(ve,j){return{u_is_size_zoom_constant:new n.Uniform1i(ve,j.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,j.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,j.u_size_t),u_size:new n.Uniform1f(ve,j.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,j.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,j.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,j.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,j.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,j.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,j.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,j.u_coord_matrix),u_is_text:new n.Uniform1i(ve,j.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,j.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,j.u_texsize),u_texture:new n.Uniform1i(ve,j.u_texture)}},wl=function(ve,j){return{u_is_size_zoom_constant:new n.Uniform1i(ve,j.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,j.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,j.u_size_t),u_size:new n.Uniform1f(ve,j.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,j.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,j.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,j.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,j.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,j.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,j.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,j.u_coord_matrix),u_is_text:new n.Uniform1i(ve,j.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,j.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,j.u_texsize),u_texture:new n.Uniform1i(ve,j.u_texture),u_gamma_scale:new n.Uniform1f(ve,j.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ve,j.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ve,j.u_is_halo)}},Wh=function(ve,j){return{u_is_size_zoom_constant:new n.Uniform1i(ve,j.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(ve,j.u_is_size_feature_constant),u_size_t:new n.Uniform1f(ve,j.u_size_t),u_size:new n.Uniform1f(ve,j.u_size),u_camera_to_center_distance:new n.Uniform1f(ve,j.u_camera_to_center_distance),u_pitch:new n.Uniform1f(ve,j.u_pitch),u_rotate_symbol:new n.Uniform1i(ve,j.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(ve,j.u_aspect_ratio),u_fade_change:new n.Uniform1f(ve,j.u_fade_change),u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(ve,j.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(ve,j.u_coord_matrix),u_is_text:new n.Uniform1i(ve,j.u_is_text),u_pitch_with_map:new n.Uniform1i(ve,j.u_pitch_with_map),u_texsize:new n.Uniform2f(ve,j.u_texsize),u_texsize_icon:new n.Uniform2f(ve,j.u_texsize_icon),u_texture:new n.Uniform1i(ve,j.u_texture),u_texture_icon:new n.Uniform1i(ve,j.u_texture_icon),u_gamma_scale:new n.Uniform1f(ve,j.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(ve,j.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(ve,j.u_is_halo)}},oc=function(ve,j,ge,ne,ye,ze,Xe,st,mt,Bt){var Jt=ye.transform;return{u_is_size_zoom_constant:+(ve==="constant"||ve==="source"),u_is_size_feature_constant:+(ve==="constant"||ve==="camera"),u_size_t:j?j.uSizeT:0,u_size:j?j.uSize:0,u_camera_to_center_distance:Jt.cameraToCenterDistance,u_pitch:Jt.pitch/360*2*Math.PI,u_rotate_symbol:+ge,u_aspect_ratio:Jt.width/Jt.height,u_fade_change:ye.options.fadeDuration?ye.symbolFadeChange:1,u_matrix:ze,u_label_plane_matrix:Xe,u_coord_matrix:st,u_is_text:+mt,u_pitch_with_map:+ne,u_texsize:Bt,u_texture:0}},uu=function(ve,j,ge,ne,ye,ze,Xe,st,mt,Bt,Jt){var fr=ye.transform;return n.extend(oc(ve,j,ge,ne,ye,ze,Xe,st,mt,Bt),{u_gamma_scale:ne?Math.cos(fr._pitch)*fr.cameraToCenterDistance:1,u_device_pixel_ratio:n.browser.devicePixelRatio,u_is_halo:+Jt})},sc=function(ve,j,ge,ne,ye,ze,Xe,st,mt,Bt){return n.extend(uu(ve,j,ge,ne,ye,ze,Xe,st,!0,mt,!0),{u_texsize_icon:Bt,u_texture_icon:1})},Zc=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_opacity:new n.Uniform1f(ve,j.u_opacity),u_color:new n.UniformColor(ve,j.u_color)}},ol=function(ve,j){return{u_matrix:new n.UniformMatrix4f(ve,j.u_matrix),u_opacity:new n.Uniform1f(ve,j.u_opacity),u_image:new n.Uniform1i(ve,j.u_image),u_pattern_tl_a:new n.Uniform2f(ve,j.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(ve,j.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(ve,j.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(ve,j.u_pattern_br_b),u_texsize:new n.Uniform2f(ve,j.u_texsize),u_mix:new n.Uniform1f(ve,j.u_mix),u_pattern_size_a:new n.Uniform2f(ve,j.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(ve,j.u_pattern_size_b),u_scale_a:new n.Uniform1f(ve,j.u_scale_a),u_scale_b:new n.Uniform1f(ve,j.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(ve,j.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(ve,j.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(ve,j.u_tile_units_to_pixels)}},Tl=function(ve,j,ge){return{u_matrix:ve,u_opacity:j,u_color:ge}},Vl=function(ve,j,ge,ne,ye,ze){return n.extend(rc(ne,ze,ge,ye),{u_matrix:ve,u_opacity:j})},Ul={fillExtrusion:to,fillExtrusionPattern:zu,fill:nl,fillPattern:yl,fillOutline:ml,fillOutlinePattern:xl,circle:vf,collisionBox:Vh,collisionCircle:Uh,debug:Hc,clippingMask:Mo,heatmap:Nu,heatmapTexture:Ol,hillshade:Gh,hillshadePrepare:Gc,line:ro,lineGradient:Bs,linePattern:ac,lineSDF:Yc,raster:ic,symbolIcon:xf,symbolSDF:wl,symbolTextAndIcon:Wh,background:Zc,backgroundPattern:ol},Qo;function as(ve,j,ge,ne,ye,ze,Xe){for(var st=ve.context,mt=st.gl,Bt=ve.useProgram("collisionBox"),Jt=[],fr=0,mr=0,_r=0;_r<ne.length;_r++){var Wr=ne[_r],Yr=j.getTile(Wr),Gr=Yr.getBucket(ge);if(Gr){var qr=Wr.posMatrix;(ye[0]!==0||ye[1]!==0)&&(qr=ve.translatePosMatrix(Wr.posMatrix,Yr,ye,ze));var un=Xe?Gr.textCollisionBox:Gr.iconCollisionBox,En=Gr.collisionCircleArray;if(En.length>0){var On=n.create(),Xn=qr;n.mul(On,Gr.placementInvProjMatrix,ve.transform.glCoordMatrix),n.mul(On,On,Gr.placementViewportMatrix),Jt.push({circleArray:En,circleOffset:mr,transform:Xn,invTransform:On}),fr+=En.length/4,mr=fr}un&&Bt.draw(st,mt.LINES,Fr.disabled,Zt.disabled,ve.colorModeForRenderPass(),Ct.disabled,Hh(qr,ve.transform,Yr),ge.id,un.layoutVertexBuffer,un.indexBuffer,un.segments,null,ve.transform.zoom,null,null,un.collisionVertexBuffer)}}if(!(!Xe||!Jt.length)){var Kn=ve.useProgram("collisionCircle"),jn=new n.StructArrayLayout2f1f2i16;jn.resize(fr*4),jn._trim();for(var ia=0,pa=0,va=Jt;pa<va.length;pa+=1)for(var xa=va[pa],Ma=0;Ma<xa.circleArray.length/4;Ma++){var Ua=Ma*4,Ja=xa.circleArray[Ua+0],wi=xa.circleArray[Ua+1],qa=xa.circleArray[Ua+2],oi=xa.circleArray[Ua+3];jn.emplace(ia++,Ja,wi,qa,oi,0),jn.emplace(ia++,Ja,wi,qa,oi,1),jn.emplace(ia++,Ja,wi,qa,oi,2),jn.emplace(ia++,Ja,wi,qa,oi,3)}(!Qo||Qo.length<fr*2)&&(Qo=Hl(fr));for(var _a=st.createIndexBuffer(Qo,!0),Ti=st.createVertexBuffer(jn,n.collisionCircleLayout.members,!0),Mi=0,Ei=Jt;Mi<Ei.length;Mi+=1){var ui=Ei[Mi],Bi=df(ui.transform,ui.invTransform,ve.transform);Kn.draw(st,mt.TRIANGLES,Fr.disabled,Zt.disabled,ve.colorModeForRenderPass(),Ct.disabled,Bi,ge.id,Ti,_a,n.SegmentVector.simpleSegment(0,ui.circleOffset*2,ui.circleArray.length,ui.circleArray.length/2),null,ve.transform.zoom,null,null,null)}Ti.destroy(),_a.destroy()}}function Hl(ve){var j=ve*2,ge=new n.StructArrayLayout3ui6;ge.resize(j),ge._trim();for(var ne=0;ne<j;ne++){var ye=ne*6;ge.uint16[ye+0]=ne*4+0,ge.uint16[ye+1]=ne*4+1,ge.uint16[ye+2]=ne*4+2,ge.uint16[ye+3]=ne*4+2,ge.uint16[ye+4]=ne*4+3,ge.uint16[ye+5]=ne*4+0}return ge}var Xc=n.identity(new Float32Array(16));function fu(ve,j,ge,ne,ye){if(ve.renderPass==="translucent"){var ze=Zt.disabled,Xe=ve.colorModeForRenderPass(),st=ge.layout.get("text-variable-anchor");st&&jc(ne,ve,ge,j,ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ye),ge.paint.get("icon-opacity").constantOr(1)!==0&&Al(ve,j,ge,ne,!1,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),ge.layout.get("icon-rotation-alignment"),ge.layout.get("icon-pitch-alignment"),ge.layout.get("icon-keep-upright"),ze,Xe),ge.paint.get("text-opacity").constantOr(1)!==0&&Al(ve,j,ge,ne,!0,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),ge.layout.get("text-rotation-alignment"),ge.layout.get("text-pitch-alignment"),ge.layout.get("text-keep-upright"),ze,Xe),j.map.showCollisionBoxes&&(as(ve,j,ge,ne,ge.paint.get("text-translate"),ge.paint.get("text-translate-anchor"),!0),as(ve,j,ge,ne,ge.paint.get("icon-translate"),ge.paint.get("icon-translate-anchor"),!1))}}function bf(ve,j,ge,ne,ye,ze){var Xe=n.getAnchorAlignment(ve),st=Xe.horizontalAlign,mt=Xe.verticalAlign,Bt=-(st-.5)*j,Jt=-(mt-.5)*ge,fr=n.evaluateVariableOffset(ve,ne);return new n.Point((Bt/ye+fr[0])*ze,(Jt/ye+fr[1])*ze)}function jc(ve,j,ge,ne,ye,ze,Xe){for(var st=j.transform,mt=ye==="map",Bt=ze==="map",Jt=0,fr=ve;Jt<fr.length;Jt+=1){var mr=fr[Jt],_r=ne.getTile(mr),Wr=_r.getBucket(ge);if(!(!Wr||!Wr.text||!Wr.text.segments.get().length)){var Yr=Wr.textSizeData,Gr=n.evaluateSizeForZoom(Yr,st.zoom),qr=yn(_r,1,j.transform.zoom),un=wr(mr.posMatrix,Bt,mt,j.transform,qr),En=ge.layout.get("icon-text-fit")!=="none"&&Wr.hasIconData();if(Gr){var On=Math.pow(2,st.zoom-_r.tileID.overscaledZ);Ss(Wr,mt,Bt,Xe,n.symbolSize,st,un,mr.posMatrix,On,Gr,En)}}}}function Ss(ve,j,ge,ne,ye,ze,Xe,st,mt,Bt,Jt){var fr=ve.text.placedSymbolArray,mr=ve.text.dynamicLayoutVertexArray,_r=ve.icon.dynamicLayoutVertexArray,Wr={};mr.clear();for(var Yr=0;Yr<fr.length;Yr++){var Gr=fr.get(Yr),qr=ve.allowVerticalPlacement&&!Gr.placedOrientation,un=!Gr.hidden&&Gr.crossTileID&&!qr?ne[Gr.crossTileID]:null;if(!un)na(Gr.numGlyphs,mr);else{var En=new n.Point(Gr.anchorX,Gr.anchorY),On=Vr(En,ge?st:Xe),Xn=tn(ze.cameraToCenterDistance,On.signedDistanceFromCamera),Kn=ye.evaluateSizeForFeature(ve.textSizeData,Bt,Gr)*Xn/n.ONE_EM;ge&&(Kn*=ve.tilePixelRatio/mt);for(var jn=un.width,ia=un.height,pa=un.anchor,va=un.textOffset,xa=un.textBoxScale,Ma=bf(pa,jn,ia,va,xa,Kn),Ua=ge?Vr(En.add(Ma),Xe).point:On.point.add(j?Ma.rotate(-ze.angle):Ma),Ja=ve.allowVerticalPlacement&&Gr.placedOrientation===n.WritingMode.vertical?Math.PI/2:0,wi=0;wi<Gr.numGlyphs;wi++)n.addDynamicAttributes(mr,Ua,Ja);Jt&&Gr.associatedIconIndex>=0&&(Wr[Gr.associatedIconIndex]={shiftedAnchor:Ua,angle:Ja})}}if(Jt){_r.clear();for(var qa=ve.icon.placedSymbolArray,oi=0;oi<qa.length;oi++){var _a=qa.get(oi);if(_a.hidden)na(_a.numGlyphs,_r);else{var Ti=Wr[oi];if(!Ti)na(_a.numGlyphs,_r);else for(var Mi=0;Mi<_a.numGlyphs;Mi++)n.addDynamicAttributes(_r,Ti.shiftedAnchor,Ti.angle)}}ve.icon.dynamicLayoutVertexBuffer.updateData(_r)}ve.text.dynamicLayoutVertexBuffer.updateData(mr)}function lc(ve,j,ge){return ge.iconsInText&&j?"symbolTextAndIcon":ve?"symbolSDF":"symbolIcon"}function Al(ve,j,ge,ne,ye,ze,Xe,st,mt,Bt,Jt,fr){for(var mr=ve.context,_r=mr.gl,Wr=ve.transform,Yr=st==="map",Gr=mt==="map",qr=Yr&&ge.layout.get("symbol-placement")!=="point",un=Yr&&!Gr&&!qr,En=ge.layout.get("symbol-sort-key").constantOr(1)!==void 0,On=ve.depthModeForSublayer(0,Fr.ReadOnly),Xn=ge.layout.get("text-variable-anchor"),Kn=[],jn=0,ia=ne;jn<ia.length;jn+=1){var pa=ia[jn],va=j.getTile(pa),xa=va.getBucket(ge);if(xa){var Ma=ye?xa.text:xa.icon;if(!(!Ma||!Ma.segments.get().length)){var Ua=Ma.programConfigurations.get(ge.id),Ja=ye||xa.sdfIcons,wi=ye?xa.textSizeData:xa.iconSizeData,qa=Gr||Wr.pitch!==0,oi=ve.useProgram(lc(Ja,ye,xa),Ua),_a=n.evaluateSizeForZoom(wi,Wr.zoom),Ti=void 0,Mi=[0,0],Ei=void 0,ui=void 0,Bi=null,$a=void 0;if(ye){if(Ei=va.glyphAtlasTexture,ui=_r.LINEAR,Ti=va.glyphAtlasTexture.size,xa.iconsInText){Mi=va.imageAtlasTexture.size,Bi=va.imageAtlasTexture;var ci=wi.kind==="composite"||wi.kind==="camera";$a=qa||ve.options.rotating||ve.options.zooming||ci?_r.LINEAR:_r.NEAREST}}else{var so=ge.layout.get("icon-size").constantOr(0)!==1||xa.iconsNeedLinear;Ei=va.imageAtlasTexture,ui=Ja||ve.options.rotating||ve.options.zooming||so||qa?_r.LINEAR:_r.NEAREST,Ti=va.imageAtlasTexture.size}var Co=yn(va,1,ve.transform.zoom),Ml=wr(pa.posMatrix,Gr,Yr,ve.transform,Co),Cl=Nr(pa.posMatrix,Gr,Yr,ve.transform,Co),cu=Xn&&xa.hasTextData(),hu=ge.layout.get("icon-text-fit")!=="none"&&cu&&xa.hasIconData();qr&&hn(xa,pa.posMatrix,ve,ye,Ml,Cl,Gr,Bt);var ju=ve.translatePosMatrix(pa.posMatrix,va,ze,Xe),vu=qr||ye&&Xn||hu?Xc:Ml,Cs=ve.translatePosMatrix(Cl,va,ze,Xe,!0),Pf=Ja&&ge.paint.get(ye?"text-halo-width":"icon-halo-width").constantOr(1)!==0,os=void 0;Ja?xa.iconsInText?os=sc(wi.kind,_a,un,Gr,ve,ju,vu,Cs,Ti,Mi):os=uu(wi.kind,_a,un,Gr,ve,ju,vu,Cs,ye,Ti,!0):os=oc(wi.kind,_a,un,Gr,ve,ju,vu,Cs,ye,Ti);var ll={program:oi,buffers:Ma,uniformValues:os,atlasTexture:Ei,atlasTextureIcon:Bi,atlasInterpolation:ui,atlasInterpolationIcon:$a,isSDF:Ja,hasHalo:Pf};if(En)for(var du=Ma.segments.get(),Yl=0,pu=du;Yl<pu.length;Yl+=1){var Iv=pu[Yl];Kn.push({segments:new n.SegmentVector([Iv]),sortKey:Iv.sortKey,state:ll})}else Kn.push({segments:Ma.segments,sortKey:0,state:ll})}}}En&&Kn.sort(function(Dv,kv){return Dv.sortKey-kv.sortKey});for(var vc=0,qo=Kn;vc<qo.length;vc+=1){var Jh=qo[vc],vs=Jh.state;if(mr.activeTexture.set(_r.TEXTURE0),vs.atlasTexture.bind(vs.atlasInterpolation,_r.CLAMP_TO_EDGE),vs.atlasTextureIcon&&(mr.activeTexture.set(_r.TEXTURE1),vs.atlasTextureIcon&&vs.atlasTextureIcon.bind(vs.atlasInterpolationIcon,_r.CLAMP_TO_EDGE)),vs.isSDF){var $h=vs.uniformValues;vs.hasHalo&&($h.u_is_halo=1,Uu(vs.buffers,Jh.segments,ge,ve,vs.program,On,Jt,fr,$h)),$h.u_is_halo=0}Uu(vs.buffers,Jh.segments,ge,ve,vs.program,On,Jt,fr,vs.uniformValues)}}function Uu(ve,j,ge,ne,ye,ze,Xe,st,mt){var Bt=ne.context,Jt=Bt.gl;ye.draw(Bt,Jt.TRIANGLES,ze,Xe,st,Ct.disabled,mt,ge.id,ve.layoutVertexBuffer,ve.indexBuffer,j,ge.paint,ne.transform.zoom,ve.programConfigurations.get(ge.id),ve.dynamicLayoutVertexBuffer,ve.opacityVertexBuffer)}function sl(ve,j,ge,ne){if(ve.renderPass==="translucent"){var ye=ge.paint.get("circle-opacity"),ze=ge.paint.get("circle-stroke-width"),Xe=ge.paint.get("circle-stroke-opacity"),st=ge.layout.get("circle-sort-key").constantOr(1)!==void 0;if(!(ye.constantOr(1)===0&&(ze.constantOr(1)===0||Xe.constantOr(1)===0))){for(var mt=ve.context,Bt=mt.gl,Jt=ve.depthModeForSublayer(0,Fr.ReadOnly),fr=Zt.disabled,mr=ve.colorModeForRenderPass(),_r=[],Wr=0;Wr<ne.length;Wr++){var Yr=ne[Wr],Gr=j.getTile(Yr),qr=Gr.getBucket(ge);if(qr){var un=qr.programConfigurations.get(ge.id),En=ve.useProgram("circle",un),On=qr.layoutVertexBuffer,Xn=qr.indexBuffer,Kn=Nh(ve,Yr,Gr,ge),jn={programConfiguration:un,program:En,layoutVertexBuffer:On,indexBuffer:Xn,uniformValues:Kn};if(st)for(var ia=qr.segments.get(),pa=0,va=ia;pa<va.length;pa+=1){var xa=va[pa];_r.push({segments:new n.SegmentVector([xa]),sortKey:xa.sortKey,state:jn})}else _r.push({segments:qr.segments,sortKey:0,state:jn})}}st&&_r.sort(function(ui,Bi){return ui.sortKey-Bi.sortKey});for(var Ma=0,Ua=_r;Ma<Ua.length;Ma+=1){var Ja=Ua[Ma],wi=Ja.state,qa=wi.programConfiguration,oi=wi.program,_a=wi.layoutVertexBuffer,Ti=wi.indexBuffer,Mi=wi.uniformValues,Ei=Ja.segments;oi.draw(mt,Bt.TRIANGLES,Jt,fr,mr,Ct.disabled,Mi,ge.id,_a,Ti,Ei,ge.paint,ve.transform.zoom,qa)}}}}function Yh(ve,j,ge,ne){if(ge.paint.get("heatmap-opacity")!==0)if(ve.renderPass==="offscreen"){var ye=ve.context,ze=ye.gl,Xe=Zt.disabled,st=new lt([ze.ONE,ze.ONE],n.Color.transparent,[!0,!0,!0,!0]);uc(ye,ve,ge),ye.clear({color:n.Color.transparent});for(var mt=0;mt<ne.length;mt++){var Bt=ne[mt];if(!j.hasRenderableParent(Bt)){var Jt=j.getTile(Bt),fr=Jt.getBucket(ge);if(fr){var mr=fr.programConfigurations.get(ge.id),_r=ve.useProgram("heatmap",mr),Wr=ve.transform,Yr=Wr.zoom;_r.draw(ye,ze.TRIANGLES,Fr.disabled,Xe,st,Ct.disabled,Vu(Bt.posMatrix,Jt,Yr,ge.paint.get("heatmap-intensity")),ge.id,fr.layoutVertexBuffer,fr.indexBuffer,fr.segments,ge.paint,ve.transform.zoom,mr)}}}ye.viewport.set([0,0,ve.width,ve.height])}else ve.renderPass==="translucent"&&(ve.context.setColorMode(ve.colorModeForRenderPass()),Fo(ve,ge))}function uc(ve,j,ge){var ne=ve.gl;ve.activeTexture.set(ne.TEXTURE1),ve.viewport.set([0,0,j.width/4,j.height/4]);var ye=ge.heatmapFbo;if(ye)ne.bindTexture(ne.TEXTURE_2D,ye.colorAttachment.get()),ve.bindFramebuffer.set(ye.framebuffer);else{var ze=ne.createTexture();ne.bindTexture(ne.TEXTURE_2D,ze),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_S,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_WRAP_T,ne.CLAMP_TO_EDGE),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MIN_FILTER,ne.LINEAR),ne.texParameteri(ne.TEXTURE_2D,ne.TEXTURE_MAG_FILTER,ne.LINEAR),ye=ge.heatmapFbo=ve.createFramebuffer(j.width/4,j.height/4,!1),wf(ve,j,ze,ye)}}function wf(ve,j,ge,ne){var ye=ve.gl,ze=ve.extRenderToTextureHalfFloat?ve.extTextureHalfFloat.HALF_FLOAT_OES:ye.UNSIGNED_BYTE;ye.texImage2D(ye.TEXTURE_2D,0,ye.RGBA,j.width/4,j.height/4,0,ye.RGBA,ze,null),ne.colorAttachment.set(ge)}function Fo(ve,j){var ge=ve.context,ne=ge.gl,ye=j.heatmapFbo;if(ye){ge.activeTexture.set(ne.TEXTURE0),ne.bindTexture(ne.TEXTURE_2D,ye.colorAttachment.get()),ge.activeTexture.set(ne.TEXTURE1);var ze=j.colorRampTexture;ze||(ze=j.colorRampTexture=new n.Texture(ge,j.colorRamp,ne.RGBA)),ze.bind(ne.LINEAR,ne.CLAMP_TO_EDGE),ve.useProgram("heatmapTexture").draw(ge,ne.TRIANGLES,Fr.disabled,Zt.disabled,ve.colorModeForRenderPass(),Ct.disabled,pf(ve,j,0,1),j.id,ve.viewportBuffer,ve.quadTriangleIndexBuffer,ve.viewportSegments,j.paint,ve.transform.zoom)}}function Kc(ve,j,ge,ne){if(ve.renderPass==="translucent"){var ye=ge.paint.get("line-opacity"),ze=ge.paint.get("line-width");if(!(ye.constantOr(1)===0||ze.constantOr(1)===0)){var Xe=ve.depthModeForSublayer(0,Fr.ReadOnly),st=ve.colorModeForRenderPass(),mt=ge.paint.get("line-dasharray"),Bt=ge.paint.get("line-pattern"),Jt=Bt.constantOr(1),fr=ge.paint.get("line-gradient"),mr=ge.getCrossfadeParameters(),_r=Jt?"linePattern":mt?"lineSDF":fr?"lineGradient":"line",Wr=ve.context,Yr=Wr.gl,Gr=!0;if(fr){Wr.activeTexture.set(Yr.TEXTURE0);var qr=ge.gradientTexture;if(!ge.gradient)return;qr||(qr=ge.gradientTexture=new n.Texture(Wr,ge.gradient,Yr.RGBA)),qr.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE)}for(var un=0,En=ne;un<En.length;un+=1){var On=En[un],Xn=j.getTile(On);if(!(Jt&&!Xn.patternsLoaded())){var Kn=Xn.getBucket(ge);if(Kn){var jn=Kn.programConfigurations.get(ge.id),ia=ve.context.program.get(),pa=ve.useProgram(_r,jn),va=Gr||pa.program!==ia,xa=Bt.constantOr(null);if(xa&&Xn.imageAtlas){var Ma=Xn.imageAtlas,Ua=Ma.patternPositions[xa.to.toString()],Ja=Ma.patternPositions[xa.from.toString()];Ua&&Ja&&jn.setConstantPatternPositions(Ua,Ja)}var wi=Jt?As(ve,Xn,ge,mr):mt?yf(ve,Xn,ge,mt,mr):fr?gf(ve,Xn,ge):Bl(ve,Xn,ge);Jt?(Wr.activeTexture.set(Yr.TEXTURE0),Xn.imageAtlasTexture.bind(Yr.LINEAR,Yr.CLAMP_TO_EDGE),jn.updatePaintBuffers(mr)):mt&&(va||ve.lineAtlas.dirty)&&(Wr.activeTexture.set(Yr.TEXTURE0),ve.lineAtlas.bind(Wr)),pa.draw(Wr,Yr.TRIANGLES,Xe,ve.stencilModeForClipping(On),st,Ct.disabled,wi,ge.id,Kn.layoutVertexBuffer,Kn.indexBuffer,Kn.segments,ge.paint,ve.transform.zoom,jn),Gr=!1}}}}}}function Hu(ve,j,ge,ne){var ye=ge.paint.get("fill-color"),ze=ge.paint.get("fill-opacity");if(ze.constantOr(1)!==0){var Xe=ve.colorModeForRenderPass(),st=ge.paint.get("fill-pattern"),mt=ve.opaquePassEnabledForLayer()&&!st.constantOr(1)&&ye.constantOr(n.Color.transparent).a===1&&ze.constantOr(0)===1?"opaque":"translucent";if(ve.renderPass===mt){var Bt=ve.depthModeForSublayer(1,ve.renderPass==="opaque"?Fr.ReadWrite:Fr.ReadOnly);Ns(ve,j,ge,ne,Bt,Xe,!1)}if(ve.renderPass==="translucent"&&ge.paint.get("fill-antialias")){var Jt=ve.depthModeForSublayer(ge.getPaintProperty("fill-outline-color")?2:0,Fr.ReadOnly);Ns(ve,j,ge,ne,Jt,Xe,!0)}}}function Ns(ve,j,ge,ne,ye,ze,Xe){var st=ve.context.gl,mt=ge.paint.get("fill-pattern"),Bt=mt&&mt.constantOr(1),Jt=ge.getCrossfadeParameters(),fr,mr,_r,Wr,Yr;Xe?(mr=Bt&&!ge.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",fr=st.LINES):(mr=Bt?"fillPattern":"fill",fr=st.TRIANGLES);for(var Gr=0,qr=ne;Gr<qr.length;Gr+=1){var un=qr[Gr],En=j.getTile(un);if(!(Bt&&!En.patternsLoaded())){var On=En.getBucket(ge);if(On){var Xn=On.programConfigurations.get(ge.id),Kn=ve.useProgram(mr,Xn);Bt&&(ve.context.activeTexture.set(st.TEXTURE0),En.imageAtlasTexture.bind(st.LINEAR,st.CLAMP_TO_EDGE),Xn.updatePaintBuffers(Jt));var jn=mt.constantOr(null);if(jn&&En.imageAtlas){var ia=En.imageAtlas,pa=ia.patternPositions[jn.to.toString()],va=ia.patternPositions[jn.from.toString()];pa&&va&&Xn.setConstantPatternPositions(pa,va)}var xa=ve.translatePosMatrix(un.posMatrix,En,ge.paint.get("fill-translate"),ge.paint.get("fill-translate-anchor"));if(!Xe)Wr=On.indexBuffer,Yr=On.segments,_r=Bt?Os(xa,ve,Jt,En):Ts(xa);else{Wr=On.indexBuffer2,Yr=On.segments2;var Ma=[st.drawingBufferWidth,st.drawingBufferHeight];_r=mr==="fillOutlinePattern"&&Bt?Bu(xa,ve,Jt,En,Ma):Ou(xa,Ma)}Kn.draw(ve.context,fr,ye,ve.stencilModeForClipping(un),ze,Ct.disabled,_r,ge.id,On.layoutVertexBuffer,Wr,Yr,ge.paint,ve.transform.zoom,Xn)}}}}function Gu(ve,j,ge,ne){var ye=ge.paint.get("fill-extrusion-opacity");if(ye!==0&&ve.renderPass==="translucent"){var ze=new Fr(ve.context.gl.LEQUAL,Fr.ReadWrite,ve.depthRangeFor3D);if(ye===1&&!ge.paint.get("fill-extrusion-pattern").constantOr(1)){var Xe=ve.colorModeForRenderPass();Sl(ve,j,ge,ne,ze,Zt.disabled,Xe)}else Sl(ve,j,ge,ne,ze,Zt.disabled,lt.disabled),Sl(ve,j,ge,ne,ze,ve.stencilModeFor3D(),ve.colorModeForRenderPass())}}function Sl(ve,j,ge,ne,ye,ze,Xe){for(var st=ve.context,mt=st.gl,Bt=ge.paint.get("fill-extrusion-pattern"),Jt=Bt.constantOr(1),fr=ge.getCrossfadeParameters(),mr=ge.paint.get("fill-extrusion-opacity"),_r=0,Wr=ne;_r<Wr.length;_r+=1){var Yr=Wr[_r],Gr=j.getTile(Yr),qr=Gr.getBucket(ge);if(qr){var un=qr.programConfigurations.get(ge.id),En=ve.useProgram(Jt?"fillExtrusionPattern":"fillExtrusion",un);Jt&&(ve.context.activeTexture.set(mt.TEXTURE0),Gr.imageAtlasTexture.bind(mt.LINEAR,mt.CLAMP_TO_EDGE),un.updatePaintBuffers(fr));var On=Bt.constantOr(null);if(On&&Gr.imageAtlas){var Xn=Gr.imageAtlas,Kn=Xn.patternPositions[On.to.toString()],jn=Xn.patternPositions[On.from.toString()];Kn&&jn&&un.setConstantPatternPositions(Kn,jn)}var ia=ve.translatePosMatrix(Yr.posMatrix,Gr,ge.paint.get("fill-extrusion-translate"),ge.paint.get("fill-extrusion-translate-anchor")),pa=ge.paint.get("fill-extrusion-vertical-gradient"),va=Jt?rl(ia,ve,pa,mr,Yr,fr,Gr):Jo(ia,ve,pa,mr);En.draw(st,st.gl.TRIANGLES,ye,ze,Xe,Ct.backCCW,va,ge.id,qr.layoutVertexBuffer,qr.indexBuffer,qr.segments,ge.paint,ve.transform.zoom,un)}}}function Tf(ve,j,ge,ne){if(!(ve.renderPass!=="offscreen"&&ve.renderPass!=="translucent")){for(var ye=ve.context,ze=j.getSource().maxzoom,Xe=ve.depthModeForSublayer(0,Fr.ReadOnly),st=ve.colorModeForRenderPass(),mt=ve.renderPass==="translucent"?ve.stencilConfigForOverlap(ne):[{},ne],Bt=mt[0],Jt=mt[1],fr=0,mr=Jt;fr<mr.length;fr+=1){var _r=mr[fr],Wr=j.getTile(_r);Wr.needsHillshadePrepare&&ve.renderPass==="offscreen"?fc(ve,Wr,ge,ze,Xe,Zt.disabled,st):ve.renderPass==="translucent"&&Jc(ve,Wr,ge,Xe,Bt[_r.overscaledZ],st)}ye.viewport.set([0,0,ve.width,ve.height])}}function Jc(ve,j,ge,ne,ye,ze){var Xe=ve.context,st=Xe.gl,mt=j.fbo;if(mt){var Bt=ve.useProgram("hillshade");Xe.activeTexture.set(st.TEXTURE0),st.bindTexture(st.TEXTURE_2D,mt.colorAttachment.get());var Jt=Wc(ve,j,ge);Bt.draw(Xe,st.TRIANGLES,ne,ye,ze,Ct.disabled,Jt,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function fc(ve,j,ge,ne,ye,ze,Xe){var st=ve.context,mt=st.gl,Bt=j.dem;if(Bt&&Bt.data){var Jt=Bt.dim,fr=Bt.stride,mr=Bt.getPixels();if(st.activeTexture.set(mt.TEXTURE1),st.pixelStoreUnpackPremultiplyAlpha.set(!1),j.demTexture=j.demTexture||ve.getTileTexture(fr),j.demTexture){var _r=j.demTexture;_r.update(mr,{premultiply:!1}),_r.bind(mt.NEAREST,mt.CLAMP_TO_EDGE)}else j.demTexture=new n.Texture(st,mr,mt.RGBA,{premultiply:!1}),j.demTexture.bind(mt.NEAREST,mt.CLAMP_TO_EDGE);st.activeTexture.set(mt.TEXTURE0);var Wr=j.fbo;if(!Wr){var Yr=new n.Texture(st,{width:Jt,height:Jt,data:null},mt.RGBA);Yr.bind(mt.LINEAR,mt.CLAMP_TO_EDGE),Wr=j.fbo=st.createFramebuffer(Jt,Jt,!0),Wr.colorAttachment.set(Yr.texture)}st.bindFramebuffer.set(Wr.framebuffer),st.viewport.set([0,0,Jt,Jt]),ve.useProgram("hillshadePrepare").draw(st,mt.TRIANGLES,ye,ze,Xe,Ct.disabled,nc(j.tileID,Bt,ne),ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments),j.needsHillshadePrepare=!1}}function cc(ve,j,ge,ne){if(ve.renderPass==="translucent"&&ge.paint.get("raster-opacity")!==0&&ne.length)for(var ye=ve.context,ze=ye.gl,Xe=j.getSource(),st=ve.useProgram("raster"),mt=ve.colorModeForRenderPass(),Bt=Xe instanceof q?[{},ne]:ve.stencilConfigForOverlap(ne),Jt=Bt[0],fr=Bt[1],mr=fr[fr.length-1].overscaledZ,_r=!ve.options.moving,Wr=0,Yr=fr;Wr<Yr.length;Wr+=1){var Gr=Yr[Wr],qr=ve.depthModeForSublayer(Gr.overscaledZ-mr,ge.paint.get("raster-opacity")===1?Fr.ReadWrite:Fr.ReadOnly,ze.LESS),un=j.getTile(Gr),En=ve.transform.calculatePosMatrix(Gr.toUnwrapped(),_r);un.registerFadeDuration(ge.paint.get("raster-fade-duration"));var On=j.findLoadedParent(Gr,0),Xn=Gl(un,On,j,ge,ve.transform),Kn=void 0,jn=void 0,ia=ge.paint.get("raster-resampling")==="nearest"?ze.NEAREST:ze.LINEAR;ye.activeTexture.set(ze.TEXTURE0),un.texture.bind(ia,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),ye.activeTexture.set(ze.TEXTURE1),On?(On.texture.bind(ia,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST),Kn=Math.pow(2,On.tileID.overscaledZ-un.tileID.overscaledZ),jn=[un.tileID.canonical.x*Kn%1,un.tileID.canonical.y*Kn%1]):un.texture.bind(ia,ze.CLAMP_TO_EDGE,ze.LINEAR_MIPMAP_NEAREST);var pa=lu(En,jn||[0,0],Kn||1,Xn,ge);Xe instanceof q?st.draw(ye,ze.TRIANGLES,qr,Zt.disabled,mt,Ct.disabled,pa,ge.id,Xe.boundsBuffer,ve.quadTriangleIndexBuffer,Xe.boundsSegments):st.draw(ye,ze.TRIANGLES,qr,Jt[Gr.overscaledZ],mt,Ct.disabled,pa,ge.id,ve.rasterBoundsBuffer,ve.quadTriangleIndexBuffer,ve.rasterBoundsSegments)}}function Gl(ve,j,ge,ne,ye){var ze=ne.paint.get("raster-fade-duration");if(ze>0){var Xe=n.browser.now(),st=(Xe-ve.timeAdded)/ze,mt=j?(Xe-j.timeAdded)/ze:-1,Bt=ge.getSource(),Jt=ye.coveringZoomLevel({tileSize:Bt.tileSize,roundZoom:Bt.roundZoom}),fr=!j||Math.abs(j.tileID.overscaledZ-Jt)>Math.abs(ve.tileID.overscaledZ-Jt),mr=fr&&ve.refreshedUponExpiration?1:n.clamp(fr?st:1-mt,0,1);return ve.refreshedUponExpiration&&st>=1&&(ve.refreshedUponExpiration=!1),j?{opacity:1,mix:1-mr}:{opacity:mr,mix:0}}else return{opacity:1,mix:0}}function Af(ve,j,ge){var ne=ge.paint.get("background-color"),ye=ge.paint.get("background-opacity");if(ye!==0){var ze=ve.context,Xe=ze.gl,st=ve.transform,mt=st.tileSize,Bt=ge.paint.get("background-pattern");if(!ve.isPatternMissing(Bt)){var Jt=!Bt&&ne.a===1&&ye===1&&ve.opaquePassEnabledForLayer()?"opaque":"translucent";if(ve.renderPass===Jt){var fr=Zt.disabled,mr=ve.depthModeForSublayer(0,Jt==="opaque"?Fr.ReadWrite:Fr.ReadOnly),_r=ve.colorModeForRenderPass(),Wr=ve.useProgram(Bt?"backgroundPattern":"background"),Yr=st.coveringTiles({tileSize:mt});Bt&&(ze.activeTexture.set(Xe.TEXTURE0),ve.imageManager.bind(ve.context));for(var Gr=ge.getCrossfadeParameters(),qr=0,un=Yr;qr<un.length;qr+=1){var En=un[qr],On=ve.transform.calculatePosMatrix(En.toUnwrapped()),Xn=Bt?Vl(On,ye,ve,Bt,{tileID:En,tileSize:mt},Gr):Tl(On,ye,ne);Wr.draw(ze,Xe.TRIANGLES,mr,fr,_r,Ct.disabled,Xn,ge.id,ve.tileExtentBuffer,ve.quadTriangleIndexBuffer,ve.tileExtentSegments)}}}}}var Wu=new n.Color(1,0,0,1),$c=new n.Color(0,1,0,1),Yu=new n.Color(0,0,1,1),Qc=new n.Color(1,0,1,1),Ke=new n.Color(0,1,1,1);function rt(ve){var j=ve.transform.padding,ge=3;pt(ve,ve.transform.height-(j.top||0),ge,Wu),pt(ve,j.bottom||0,ge,$c),Dt(ve,j.left||0,ge,Yu),Dt(ve,ve.transform.width-(j.right||0),ge,Qc);var ne=ve.transform.centerPoint;ht(ve,ne.x,ve.transform.height-ne.y,Ke)}function ht(ve,j,ge,ne){var ye=20,ze=2;Lt(ve,j-ze/2,ge-ye/2,ze,ye,ne),Lt(ve,j-ye/2,ge-ze/2,ye,ze,ne)}function pt(ve,j,ge,ne){Lt(ve,0,j+ge/2,ve.transform.width,ge,ne)}function Dt(ve,j,ge,ne){Lt(ve,j-ge/2,0,ge,ve.transform.height,ne)}function Lt(ve,j,ge,ne,ye,ze){var Xe=ve.context,st=Xe.gl;st.enable(st.SCISSOR_TEST),st.scissor(j*n.browser.devicePixelRatio,ge*n.browser.devicePixelRatio,ne*n.browser.devicePixelRatio,ye*n.browser.devicePixelRatio),Xe.clear({color:ze}),st.disable(st.SCISSOR_TEST)}function Ot(ve,j,ge){for(var ne=0;ne<ge.length;ne++)cr(ve,j,ge[ne])}function cr(ve,j,ge){var ne=ve.context,ye=ne.gl,ze=ge.posMatrix,Xe=ve.useProgram("debug"),st=Fr.disabled,mt=Zt.disabled,Bt=ve.colorModeForRenderPass(),Jt="$debug";ne.activeTexture.set(ye.TEXTURE0),ve.emptyTexture.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),Xe.draw(ne,ye.LINE_STRIP,st,mt,Bt,Ct.disabled,su(ze,n.Color.red),Jt,ve.debugBuffer,ve.tileBorderIndexBuffer,ve.debugSegments);var fr=j.getTileByID(ge.key).latestRawTileData,mr=fr&&fr.byteLength||0,_r=Math.floor(mr/1024),Wr=j.getTile(ge).tileSize,Yr=512/Math.min(Wr,512)*(ge.overscaledZ/ve.transform.zoom)*.5,Gr=ge.canonical.toString();ge.overscaledZ!==ge.canonical.z&&(Gr+=" => "+ge.overscaledZ);var qr=Gr+" "+_r+"kb";yr(ve,qr),Xe.draw(ne,ye.TRIANGLES,st,mt,lt.alphaBlended,Ct.disabled,su(ze,n.Color.transparent,Yr),Jt,ve.debugBuffer,ve.quadTriangleIndexBuffer,ve.debugSegments)}function yr(ve,j){ve.initDebugOverlayCanvas();var ge=ve.debugOverlayCanvas,ne=ve.context.gl,ye=ve.debugOverlayCanvas.getContext("2d");ye.clearRect(0,0,ge.width,ge.height),ye.shadowColor="white",ye.shadowBlur=2,ye.lineWidth=1.5,ye.strokeStyle="white",ye.textBaseline="top",ye.font="bold 36px Open Sans, sans-serif",ye.fillText(j,5,5),ye.strokeText(j,5,5),ve.debugOverlayTexture.update(ge),ve.debugOverlayTexture.bind(ne.LINEAR,ne.CLAMP_TO_EDGE)}function ar(ve,j,ge){var ne=ve.context,ye=ge.implementation;if(ve.renderPass==="offscreen"){var ze=ye.prerender;ze&&(ve.setCustomLayerDefaults(),ne.setColorMode(ve.colorModeForRenderPass()),ze.call(ye,ne.gl,ve.transform.customLayerMatrix()),ne.setDirty(),ve.setBaseState())}else if(ve.renderPass==="translucent"){ve.setCustomLayerDefaults(),ne.setColorMode(ve.colorModeForRenderPass()),ne.setStencilMode(Zt.disabled);var Xe=ye.renderingMode==="3d"?new Fr(ve.context.gl.LEQUAL,Fr.ReadWrite,ve.depthRangeFor3D):ve.depthModeForSublayer(0,Fr.ReadOnly);ne.setDepthMode(Xe),ye.render(ne.gl,ve.transform.customLayerMatrix()),ne.setDirty(),ve.setBaseState(),ne.bindFramebuffer.set(null)}}var Mr={symbol:fu,circle:sl,heatmap:Yh,line:Kc,fill:Hu,"fill-extrusion":Gu,hillshade:Tf,raster:cc,background:Af,debug:Ot,custom:ar},Ir=function(j,ge){this.context=new At(j),this.transform=ge,this._tileTextures={},this.setup(),this.numSublayers=zt.maxUnderzooming+zt.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ua,this.gpuTimers={}};Ir.prototype.resize=function(j,ge){if(this.width=j*n.browser.devicePixelRatio,this.height=ge*n.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var ne=0,ye=this.style._order;ne<ye.length;ne+=1){var ze=ye[ne];this.style._layers[ze].resize()}},Ir.prototype.setup=function(){var j=this.context,ge=new n.StructArrayLayout2i4;ge.emplaceBack(0,0),ge.emplaceBack(n.EXTENT,0),ge.emplaceBack(0,n.EXTENT),ge.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=j.createVertexBuffer(ge,jo.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);var ne=new n.StructArrayLayout2i4;ne.emplaceBack(0,0),ne.emplaceBack(n.EXTENT,0),ne.emplaceBack(0,n.EXTENT),ne.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=j.createVertexBuffer(ne,jo.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);var ye=new n.StructArrayLayout4i8;ye.emplaceBack(0,0,0,0),ye.emplaceBack(n.EXTENT,0,n.EXTENT,0),ye.emplaceBack(0,n.EXTENT,0,n.EXTENT),ye.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=j.createVertexBuffer(ye,Z.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);var ze=new n.StructArrayLayout2i4;ze.emplaceBack(0,0),ze.emplaceBack(1,0),ze.emplaceBack(0,1),ze.emplaceBack(1,1),this.viewportBuffer=j.createVertexBuffer(ze,jo.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);var Xe=new n.StructArrayLayout1ui2;Xe.emplaceBack(0),Xe.emplaceBack(1),Xe.emplaceBack(3),Xe.emplaceBack(2),Xe.emplaceBack(0),this.tileBorderIndexBuffer=j.createIndexBuffer(Xe);var st=new n.StructArrayLayout3ui6;st.emplaceBack(0,1,2),st.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=j.createIndexBuffer(st),this.emptyTexture=new n.Texture(j,{width:1,height:1,data:new Uint8Array([0,0,0,0])},j.gl.RGBA);var mt=this.context.gl;this.stencilClearMode=new Zt({func:mt.ALWAYS,mask:0},0,255,mt.ZERO,mt.ZERO,mt.ZERO)},Ir.prototype.clearStencil=function(){var j=this.context,ge=j.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var ne=n.create();n.ortho(ne,0,this.width,this.height,0,0,1),n.scale(ne,ne,[ge.drawingBufferWidth,ge.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(j,ge.TRIANGLES,Fr.disabled,this.stencilClearMode,lt.disabled,Ct.disabled,$o(ne),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},Ir.prototype._renderTileClippingMasks=function(j,ge){if(!(this.currentStencilSource===j.source||!j.isTileClipped()||!ge||!ge.length)){this.currentStencilSource=j.source;var ne=this.context,ye=ne.gl;this.nextStencilID+ge.length>256&&this.clearStencil(),ne.setColorMode(lt.disabled),ne.setDepthMode(Fr.disabled);var ze=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Xe=0,st=ge;Xe<st.length;Xe+=1){var mt=st[Xe],Bt=this._tileClippingMaskIDs[mt.key]=this.nextStencilID++;ze.draw(ne,ye.TRIANGLES,Fr.disabled,new Zt({func:ye.ALWAYS,mask:0},Bt,255,ye.KEEP,ye.KEEP,ye.REPLACE),lt.disabled,Ct.disabled,$o(mt.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},Ir.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var j=this.nextStencilID++,ge=this.context.gl;return new Zt({func:ge.NOTEQUAL,mask:255},j,255,ge.KEEP,ge.KEEP,ge.REPLACE)},Ir.prototype.stencilModeForClipping=function(j){var ge=this.context.gl;return new Zt({func:ge.EQUAL,mask:255},this._tileClippingMaskIDs[j.key],0,ge.KEEP,ge.KEEP,ge.REPLACE)},Ir.prototype.stencilConfigForOverlap=function(j){var ge,ne=this.context.gl,ye=j.sort(function(Bt,Jt){return Jt.overscaledZ-Bt.overscaledZ}),ze=ye[ye.length-1].overscaledZ,Xe=ye[0].overscaledZ-ze+1;if(Xe>1){this.currentStencilSource=void 0,this.nextStencilID+Xe>256&&this.clearStencil();for(var st={},mt=0;mt<Xe;mt++)st[mt+ze]=new Zt({func:ne.GEQUAL,mask:255},mt+this.nextStencilID,255,ne.KEEP,ne.KEEP,ne.REPLACE);return this.nextStencilID+=Xe,[st,ye]}return[(ge={},ge[ze]=Zt.disabled,ge),ye]},Ir.prototype.colorModeForRenderPass=function(){var j=this.context.gl;if(this._showOverdrawInspector){var ge=8,ne=1/ge;return new lt([j.CONSTANT_COLOR,j.ONE],new n.Color(ne,ne,ne,0),[!0,!0,!0,!0])}else return this.renderPass==="opaque"?lt.unblended:lt.alphaBlended},Ir.prototype.depthModeForSublayer=function(j,ge,ne){if(!this.opaquePassEnabledForLayer())return Fr.disabled;var ye=1-((1+this.currentLayer)*this.numSublayers+j)*this.depthEpsilon;return new Fr(ne||this.context.gl.LEQUAL,ge,[ye,ye])},Ir.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},Ir.prototype.render=function(j,ge){var ne=this;this.style=j,this.options=ge,this.lineAtlas=j.lineAtlas,this.imageManager=j.imageManager,this.glyphManager=j.glyphManager,this.symbolFadeChange=j.placement.symbolFadeChange(n.browser.now()),this.imageManager.beginFrame();var ye=this.style._order,ze=this.style.sourceCaches;for(var Xe in ze){var st=ze[Xe];st.used&&st.prepare(this.context)}var mt={},Bt={},Jt={};for(var fr in ze){var mr=ze[fr];mt[fr]=mr.getVisibleCoordinates(),Bt[fr]=mt[fr].slice().reverse(),Jt[fr]=mr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var _r=0;_r<ye.length;_r++){var Wr=ye[_r];if(this.style._layers[Wr].is3D()){this.opaquePassCutoff=_r;break}}this.renderPass="offscreen";for(var Yr=0,Gr=ye;Yr<Gr.length;Yr+=1){var qr=Gr[Yr],un=this.style._layers[qr];if(!(!un.hasOffscreenPass()||un.isHidden(this.transform.zoom))){var En=Bt[un.source];un.type!=="custom"&&!En.length||this.renderLayer(this,ze[un.source],un,En)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:ge.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=ge.showOverdrawInspector,this.depthRangeFor3D=[0,1-(j._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=ye.length-1;this.currentLayer>=0;this.currentLayer--){var On=this.style._layers[ye[this.currentLayer]],Xn=ze[On.source],Kn=mt[On.source];this._renderTileClippingMasks(On,Kn),this.renderLayer(this,Xn,On,Kn)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<ye.length;this.currentLayer++){var jn=this.style._layers[ye[this.currentLayer]],ia=ze[jn.source],pa=(jn.type==="symbol"?Jt:Bt)[jn.source];this._renderTileClippingMasks(jn,mt[jn.source]),this.renderLayer(this,ia,jn,pa)}if(this.options.showTileBoundaries){var va,xa,Ma=n.values(this.style._layers);Ma.forEach(function(Ua){Ua.source&&!Ua.isHidden(ne.transform.zoom)&&(Ua.source!==(xa&&xa.id)&&(xa=ne.style.sourceCaches[Ua.source]),(!va||va.getSource().maxzoom<xa.getSource().maxzoom)&&(va=xa))}),va&&Mr.debug(this,va,va.getVisibleCoordinates())}this.options.showPadding&&rt(this),this.context.setDefault()},Ir.prototype.renderLayer=function(j,ge,ne,ye){ne.isHidden(this.transform.zoom)||ne.type!=="background"&&ne.type!=="custom"&&!ye.length||(this.id=ne.id,this.gpuTimingStart(ne),Mr[ne.type](j,ge,ne,ye,this.style.placement.variableOffsets),this.gpuTimingEnd())},Ir.prototype.gpuTimingStart=function(j){if(this.options.gpuTiming){var ge=this.context.extTimerQuery,ne=this.gpuTimers[j.id];ne||(ne=this.gpuTimers[j.id]={calls:0,cpuTime:0,query:ge.createQueryEXT()}),ne.calls++,ge.beginQueryEXT(ge.TIME_ELAPSED_EXT,ne.query)}},Ir.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var j=this.context.extTimerQuery;j.endQueryEXT(j.TIME_ELAPSED_EXT)}},Ir.prototype.collectGpuTimers=function(){var j=this.gpuTimers;return this.gpuTimers={},j},Ir.prototype.queryGpuTimers=function(j){var ge={};for(var ne in j){var ye=j[ne],ze=this.context.extTimerQuery,Xe=ze.getQueryObjectEXT(ye.query,ze.QUERY_RESULT_EXT)/(1e3*1e3);ze.deleteQueryEXT(ye.query),ge[ne]=Xe}return ge},Ir.prototype.translatePosMatrix=function(j,ge,ne,ye,ze){if(!ne[0]&&!ne[1])return j;var Xe=ze?ye==="map"?this.transform.angle:0:ye==="viewport"?-this.transform.angle:0;if(Xe){var st=Math.sin(Xe),mt=Math.cos(Xe);ne=[ne[0]*mt-ne[1]*st,ne[0]*st+ne[1]*mt]}var Bt=[ze?ne[0]:yn(ge,ne[0],this.transform.zoom),ze?ne[1]:yn(ge,ne[1],this.transform.zoom),0],Jt=new Float32Array(16);return n.translate(Jt,j,Bt),Jt},Ir.prototype.saveTileTexture=function(j){var ge=this._tileTextures[j.size[0]];ge?ge.push(j):this._tileTextures[j.size[0]]=[j]},Ir.prototype.getTileTexture=function(j){var ge=this._tileTextures[j];return ge&&ge.length>0?ge.pop():null},Ir.prototype.isPatternMissing=function(j){if(!j)return!1;if(!j.from||!j.to)return!0;var ge=this.imageManager.getPattern(j.from.toString()),ne=this.imageManager.getPattern(j.to.toString());return!ge||!ne},Ir.prototype.useProgram=function(j,ge){this.cache=this.cache||{};var ne=""+j+(ge?ge.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[ne]||(this.cache[ne]=new ou(this.context,Uc[j],ge,Ul[j],this._showOverdrawInspector)),this.cache[ne]},Ir.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},Ir.prototype.setBaseState=function(){var j=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(j.FUNC_ADD)},Ir.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var j=this.context.gl;this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,j.RGBA)}},Ir.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var Zr=function(j,ge){this.points=j,this.planes=ge};Zr.fromInvProjectionMatrix=function(j,ge,ne){var ye=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]],ze=Math.pow(2,ne),Xe=ye.map(function(Bt){return n.transformMat4([],Bt,j)}).map(function(Bt){return n.scale$1([],Bt,1/Bt[3]/ge*ze)}),st=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],mt=st.map(function(Bt){var Jt=n.sub([],Xe[Bt[0]],Xe[Bt[1]]),fr=n.sub([],Xe[Bt[2]],Xe[Bt[1]]),mr=n.normalize([],n.cross([],Jt,fr)),_r=-n.dot(mr,Xe[Bt[1]]);return mr.concat(_r)});return new Zr(Xe,mt)};var Qr=function(j,ge){this.min=j,this.max=ge,this.center=n.scale$2([],n.add([],this.min,this.max),.5)};Qr.prototype.quadrant=function(j){for(var ge=[j%2===0,j<2],ne=n.clone$2(this.min),ye=n.clone$2(this.max),ze=0;ze<ge.length;ze++)ne[ze]=ge[ze]?this.min[ze]:this.center[ze],ye[ze]=ge[ze]?this.center[ze]:this.max[ze];return ye[2]=this.max[2],new Qr(ne,ye)},Qr.prototype.distanceX=function(j){var ge=Math.max(Math.min(this.max[0],j[0]),this.min[0]);return ge-j[0]},Qr.prototype.distanceY=function(j){var ge=Math.max(Math.min(this.max[1],j[1]),this.min[1]);return ge-j[1]},Qr.prototype.intersects=function(j){for(var ge=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],ne=!0,ye=0;ye<j.planes.length;ye++){for(var ze=j.planes[ye],Xe=0,st=0;st<ge.length;st++)Xe+=n.dot$1(ze,ge[st])>=0;if(Xe===0)return 0;Xe!==ge.length&&(ne=!1)}if(ne)return 2;for(var mt=0;mt<3;mt++){for(var Bt=Number.MAX_VALUE,Jt=-Number.MAX_VALUE,fr=0;fr<j.points.length;fr++){var mr=j.points[fr][mt]-this.min[mt];Bt=Math.min(Bt,mr),Jt=Math.max(Jt,mr)}if(Jt<0||Bt>this.max[mt]-this.min[mt])return 0}return 1};var bn=function(j,ge,ne,ye){if(j===void 0&&(j=0),ge===void 0&&(ge=0),ne===void 0&&(ne=0),ye===void 0&&(ye=0),isNaN(j)||j<0||isNaN(ge)||ge<0||isNaN(ne)||ne<0||isNaN(ye)||ye<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=j,this.bottom=ge,this.left=ne,this.right=ye};bn.prototype.interpolate=function(j,ge,ne){return ge.top!=null&&j.top!=null&&(this.top=n.number(j.top,ge.top,ne)),ge.bottom!=null&&j.bottom!=null&&(this.bottom=n.number(j.bottom,ge.bottom,ne)),ge.left!=null&&j.left!=null&&(this.left=n.number(j.left,ge.left,ne)),ge.right!=null&&j.right!=null&&(this.right=n.number(j.right,ge.right,ne)),this},bn.prototype.getCenter=function(j,ge){var ne=n.clamp((this.left+j-this.right)/2,0,j),ye=n.clamp((this.top+ge-this.bottom)/2,0,ge);return new n.Point(ne,ye)},bn.prototype.equals=function(j){return this.top===j.top&&this.bottom===j.bottom&&this.left===j.left&&this.right===j.right},bn.prototype.clone=function(){return new bn(this.top,this.bottom,this.left,this.right)},bn.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Tn=function(j,ge,ne,ye,ze){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=ze===void 0?!0:ze,this._minZoom=j||0,this._maxZoom=ge||22,this._minPitch=ne??0,this._maxPitch=ye??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new bn,this._posMatrixCache={},this._alignedPosMatrixCache={}},Dn={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Tn.prototype.clone=function(){var j=new Tn(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return j.tileSize=this.tileSize,j.latRange=this.latRange,j.width=this.width,j.height=this.height,j._center=this._center,j.zoom=this.zoom,j.angle=this.angle,j._fov=this._fov,j._pitch=this._pitch,j._unmodified=this._unmodified,j._edgeInsets=this._edgeInsets.clone(),j._calcMatrices(),j},Dn.minZoom.get=function(){return this._minZoom},Dn.minZoom.set=function(ve){this._minZoom!==ve&&(this._minZoom=ve,this.zoom=Math.max(this.zoom,ve))},Dn.maxZoom.get=function(){return this._maxZoom},Dn.maxZoom.set=function(ve){this._maxZoom!==ve&&(this._maxZoom=ve,this.zoom=Math.min(this.zoom,ve))},Dn.minPitch.get=function(){return this._minPitch},Dn.minPitch.set=function(ve){this._minPitch!==ve&&(this._minPitch=ve,this.pitch=Math.max(this.pitch,ve))},Dn.maxPitch.get=function(){return this._maxPitch},Dn.maxPitch.set=function(ve){this._maxPitch!==ve&&(this._maxPitch=ve,this.pitch=Math.min(this.pitch,ve))},Dn.renderWorldCopies.get=function(){return this._renderWorldCopies},Dn.renderWorldCopies.set=function(ve){ve===void 0?ve=!0:ve===null&&(ve=!1),this._renderWorldCopies=ve},Dn.worldSize.get=function(){return this.tileSize*this.scale},Dn.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},Dn.size.get=function(){return new n.Point(this.width,this.height)},Dn.bearing.get=function(){return-this.angle/Math.PI*180},Dn.bearing.set=function(ve){var j=-n.wrap(ve,-180,180)*Math.PI/180;this.angle!==j&&(this._unmodified=!1,this.angle=j,this._calcMatrices(),this.rotationMatrix=n.create$2(),n.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},Dn.pitch.get=function(){return this._pitch/Math.PI*180},Dn.pitch.set=function(ve){var j=n.clamp(ve,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==j&&(this._unmodified=!1,this._pitch=j,this._calcMatrices())},Dn.fov.get=function(){return this._fov/Math.PI*180},Dn.fov.set=function(ve){ve=Math.max(.01,Math.min(60,ve)),this._fov!==ve&&(this._unmodified=!1,this._fov=ve/180*Math.PI,this._calcMatrices())},Dn.zoom.get=function(){return this._zoom},Dn.zoom.set=function(ve){var j=Math.min(Math.max(ve,this.minZoom),this.maxZoom);this._zoom!==j&&(this._unmodified=!1,this._zoom=j,this.scale=this.zoomScale(j),this.tileZoom=Math.floor(j),this.zoomFraction=j-this.tileZoom,this._constrain(),this._calcMatrices())},Dn.center.get=function(){return this._center},Dn.center.set=function(ve){ve.lat===this._center.lat&&ve.lng===this._center.lng||(this._unmodified=!1,this._center=ve,this._constrain(),this._calcMatrices())},Dn.padding.get=function(){return this._edgeInsets.toJSON()},Dn.padding.set=function(ve){this._edgeInsets.equals(ve)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,ve,1),this._calcMatrices())},Dn.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Tn.prototype.isPaddingEqual=function(j){return this._edgeInsets.equals(j)},Tn.prototype.interpolatePadding=function(j,ge,ne){this._unmodified=!1,this._edgeInsets.interpolate(j,ge,ne),this._constrain(),this._calcMatrices()},Tn.prototype.coveringZoomLevel=function(j){var ge=(j.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/j.tileSize));return Math.max(0,ge)},Tn.prototype.getVisibleUnwrappedCoordinates=function(j){var ge=[new n.UnwrappedTileID(0,j)];if(this._renderWorldCopies)for(var ne=this.pointCoordinate(new n.Point(0,0)),ye=this.pointCoordinate(new n.Point(this.width,0)),ze=this.pointCoordinate(new n.Point(this.width,this.height)),Xe=this.pointCoordinate(new n.Point(0,this.height)),st=Math.floor(Math.min(ne.x,ye.x,ze.x,Xe.x)),mt=Math.floor(Math.max(ne.x,ye.x,ze.x,Xe.x)),Bt=1,Jt=st-Bt;Jt<=mt+Bt;Jt++)Jt!==0&&ge.push(new n.UnwrappedTileID(Jt,j));return ge},Tn.prototype.coveringTiles=function(j){var ge=this.coveringZoomLevel(j),ne=ge;if(j.minzoom!==void 0&&ge<j.minzoom)return[];j.maxzoom!==void 0&&ge>j.maxzoom&&(ge=j.maxzoom);var ye=n.MercatorCoordinate.fromLngLat(this.center),ze=Math.pow(2,ge),Xe=[ze*ye.x,ze*ye.y,0],st=Zr.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,ge),mt=j.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(mt=ge);var Bt=3,Jt=function(Ma){return{aabb:new Qr([Ma*ze,0,0],[(Ma+1)*ze,ze,0]),zoom:0,x:0,y:0,wrap:Ma,fullyVisible:!1}},fr=[],mr=[],_r=ge,Wr=j.reparseOverscaled?ne:ge;if(this._renderWorldCopies)for(var Yr=1;Yr<=3;Yr++)fr.push(Jt(-Yr)),fr.push(Jt(Yr));for(fr.push(Jt(0));fr.length>0;){var Gr=fr.pop(),qr=Gr.x,un=Gr.y,En=Gr.fullyVisible;if(!En){var On=Gr.aabb.intersects(st);if(On===0)continue;En=On===2}var Xn=Gr.aabb.distanceX(Xe),Kn=Gr.aabb.distanceY(Xe),jn=Math.max(Math.abs(Xn),Math.abs(Kn)),ia=Bt+(1<<_r-Gr.zoom)-2;if(Gr.zoom===_r||jn>ia&&Gr.zoom>=mt){mr.push({tileID:new n.OverscaledTileID(Gr.zoom===_r?Wr:Gr.zoom,Gr.wrap,Gr.zoom,qr,un),distanceSq:n.sqrLen([Xe[0]-.5-qr,Xe[1]-.5-un])});continue}for(var pa=0;pa<4;pa++){var va=(qr<<1)+pa%2,xa=(un<<1)+(pa>>1);fr.push({aabb:Gr.aabb.quadrant(pa),zoom:Gr.zoom+1,x:va,y:xa,wrap:Gr.wrap,fullyVisible:En})}}return mr.sort(function(Ma,Ua){return Ma.distanceSq-Ua.distanceSq}).map(function(Ma){return Ma.tileID})},Tn.prototype.resize=function(j,ge){this.width=j,this.height=ge,this.pixelsToGLUnits=[2/j,-2/ge],this._constrain(),this._calcMatrices()},Dn.unmodified.get=function(){return this._unmodified},Tn.prototype.zoomScale=function(j){return Math.pow(2,j)},Tn.prototype.scaleZoom=function(j){return Math.log(j)/Math.LN2},Tn.prototype.project=function(j){var ge=n.clamp(j.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.Point(n.mercatorXfromLng(j.lng)*this.worldSize,n.mercatorYfromLat(ge)*this.worldSize)},Tn.prototype.unproject=function(j){return new n.MercatorCoordinate(j.x/this.worldSize,j.y/this.worldSize).toLngLat()},Dn.point.get=function(){return this.project(this.center)},Tn.prototype.setLocationAtPoint=function(j,ge){var ne=this.pointCoordinate(ge),ye=this.pointCoordinate(this.centerPoint),ze=this.locationCoordinate(j),Xe=new n.MercatorCoordinate(ze.x-(ne.x-ye.x),ze.y-(ne.y-ye.y));this.center=this.coordinateLocation(Xe),this._renderWorldCopies&&(this.center=this.center.wrap())},Tn.prototype.locationPoint=function(j){return this.coordinatePoint(this.locationCoordinate(j))},Tn.prototype.pointLocation=function(j){return this.coordinateLocation(this.pointCoordinate(j))},Tn.prototype.locationCoordinate=function(j){return n.MercatorCoordinate.fromLngLat(j)},Tn.prototype.coordinateLocation=function(j){return j.toLngLat()},Tn.prototype.pointCoordinate=function(j){var ge=0,ne=[j.x,j.y,0,1],ye=[j.x,j.y,1,1];n.transformMat4(ne,ne,this.pixelMatrixInverse),n.transformMat4(ye,ye,this.pixelMatrixInverse);var ze=ne[3],Xe=ye[3],st=ne[0]/ze,mt=ye[0]/Xe,Bt=ne[1]/ze,Jt=ye[1]/Xe,fr=ne[2]/ze,mr=ye[2]/Xe,_r=fr===mr?0:(ge-fr)/(mr-fr);return new n.MercatorCoordinate(n.number(st,mt,_r)/this.worldSize,n.number(Bt,Jt,_r)/this.worldSize)},Tn.prototype.coordinatePoint=function(j){var ge=[j.x*this.worldSize,j.y*this.worldSize,0,1];return n.transformMat4(ge,ge,this.pixelMatrix),new n.Point(ge[0]/ge[3],ge[1]/ge[3])},Tn.prototype.getBounds=function(){return new n.LngLatBounds().extend(this.pointLocation(new n.Point(0,0))).extend(this.pointLocation(new n.Point(this.width,0))).extend(this.pointLocation(new n.Point(this.width,this.height))).extend(this.pointLocation(new n.Point(0,this.height)))},Tn.prototype.getMaxBounds=function(){return!this.latRange||this.latRange.length!==2||!this.lngRange||this.lngRange.length!==2?null:new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]])},Tn.prototype.setMaxBounds=function(j){j?(this.lngRange=[j.getWest(),j.getEast()],this.latRange=[j.getSouth(),j.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Tn.prototype.calculatePosMatrix=function(j,ge){ge===void 0&&(ge=!1);var ne=j.key,ye=ge?this._alignedPosMatrixCache:this._posMatrixCache;if(ye[ne])return ye[ne];var ze=j.canonical,Xe=this.worldSize/this.zoomScale(ze.z),st=ze.x+Math.pow(2,ze.z)*j.wrap,mt=n.identity(new Float64Array(16));return n.translate(mt,mt,[st*Xe,ze.y*Xe,0]),n.scale(mt,mt,[Xe/n.EXTENT,Xe/n.EXTENT,1]),n.multiply(mt,ge?this.alignedProjMatrix:this.projMatrix,mt),ye[ne]=new Float32Array(mt),ye[ne]},Tn.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Tn.prototype._constrain=function(){if(!(!this.center||!this.width||!this.height||this._constraining)){this._constraining=!0;var j=-90,ge=90,ne=-180,ye=180,ze,Xe,st,mt,Bt=this.size,Jt=this._unmodified;if(this.latRange){var fr=this.latRange;j=n.mercatorYfromLat(fr[1])*this.worldSize,ge=n.mercatorYfromLat(fr[0])*this.worldSize,ze=ge-j<Bt.y?Bt.y/(ge-j):0}if(this.lngRange){var mr=this.lngRange;ne=n.mercatorXfromLng(mr[0])*this.worldSize,ye=n.mercatorXfromLng(mr[1])*this.worldSize,Xe=ye-ne<Bt.x?Bt.x/(ye-ne):0}var _r=this.point,Wr=Math.max(Xe||0,ze||0);if(Wr){this.center=this.unproject(new n.Point(Xe?(ye+ne)/2:_r.x,ze?(ge+j)/2:_r.y)),this.zoom+=this.scaleZoom(Wr),this._unmodified=Jt,this._constraining=!1;return}if(this.latRange){var Yr=_r.y,Gr=Bt.y/2;Yr-Gr<j&&(mt=j+Gr),Yr+Gr>ge&&(mt=ge-Gr)}if(this.lngRange){var qr=_r.x,un=Bt.x/2;qr-un<ne&&(st=ne+un),qr+un>ye&&(st=ye-un)}(st!==void 0||mt!==void 0)&&(this.center=this.unproject(new n.Point(st!==void 0?st:_r.x,mt!==void 0?mt:_r.y))),this._unmodified=Jt,this._constraining=!1}},Tn.prototype._calcMatrices=function(){if(this.height){var j=this._fov/2,ge=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(j)*this.height;var ne=Math.PI/2+this._pitch,ye=this._fov*(.5+ge.y/this.height),ze=Math.sin(ye)*this.cameraToCenterDistance/Math.sin(n.clamp(Math.PI-ne-ye,.01,Math.PI-.01)),Xe=this.point,st=Xe.x,mt=Xe.y,Bt=Math.cos(Math.PI/2-this._pitch)*ze+this.cameraToCenterDistance,Jt=Bt*1.01,fr=this.height/50,mr=new Float64Array(16);n.perspective(mr,this._fov,this.width/this.height,fr,Jt),mr[8]=-ge.x*2/this.width,mr[9]=ge.y*2/this.height,n.scale(mr,mr,[1,-1,1]),n.translate(mr,mr,[0,0,-this.cameraToCenterDistance]),n.rotateX(mr,mr,this._pitch),n.rotateZ(mr,mr,this.angle),n.translate(mr,mr,[-st,-mt,0]),this.mercatorMatrix=n.scale([],mr,[this.worldSize,this.worldSize,this.worldSize]),n.scale(mr,mr,[1,1,n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=mr,this.invProjMatrix=n.invert([],this.projMatrix);var _r=this.width%2/2,Wr=this.height%2/2,Yr=Math.cos(this.angle),Gr=Math.sin(this.angle),qr=st-Math.round(st)+Yr*_r+Gr*Wr,un=mt-Math.round(mt)+Yr*Wr+Gr*_r,En=new Float64Array(mr);if(n.translate(En,En,[qr>.5?qr-1:qr,un>.5?un-1:un,0]),this.alignedProjMatrix=En,mr=n.create(),n.scale(mr,mr,[this.width/2,-this.height/2,1]),n.translate(mr,mr,[1,-1,0]),this.labelPlaneMatrix=mr,mr=n.create(),n.scale(mr,mr,[1,-1,1]),n.translate(mr,mr,[-1,-1,0]),n.scale(mr,mr,[2/this.width,2/this.height,1]),this.glCoordMatrix=mr,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),mr=n.invert(new Float64Array(16),this.pixelMatrix),!mr)throw new Error("failed to invert matrix");this.pixelMatrixInverse=mr,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Tn.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var j=this.pointCoordinate(new n.Point(0,0)),ge=[j.x*this.worldSize,j.y*this.worldSize,0,1],ne=n.transformMat4(ge,ge,this.pixelMatrix);return ne[3]/this.cameraToCenterDistance},Tn.prototype.getCameraPoint=function(){var j=this._pitch,ge=Math.tan(j)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,ge))},Tn.prototype.getCameraQueryGeometry=function(j){var ge=this.getCameraPoint();if(j.length===1)return[j[0],ge];for(var ne=ge.x,ye=ge.y,ze=ge.x,Xe=ge.y,st=0,mt=j;st<mt.length;st+=1){var Bt=mt[st];ne=Math.min(ne,Bt.x),ye=Math.min(ye,Bt.y),ze=Math.max(ze,Bt.x),Xe=Math.max(Xe,Bt.y)}return[new n.Point(ne,ye),new n.Point(ze,ye),new n.Point(ze,Xe),new n.Point(ne,Xe),new n.Point(ne,ye)]},Object.defineProperties(Tn.prototype,Dn);function ya(ve,j){var ge=!1,ne=null,ye=function(){ne=null,ge&&(ve(),ne=setTimeout(ye,j),ge=!1)};return function(){return ge=!0,ne||ye(),ne}}var ka=function(j){this._hashName=j&&encodeURIComponent(j),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=ya(this._updateHashUnthrottled.bind(this),30*1e3/100)};ka.prototype.addTo=function(j){return this._map=j,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},ka.prototype.remove=function(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},ka.prototype.getHashString=function(j){var ge=this._map.getCenter(),ne=Math.round(this._map.getZoom()*100)/100,ye=Math.ceil((ne*Math.LN2+Math.log(512/360/.5))/Math.LN10),ze=Math.pow(10,ye),Xe=Math.round(ge.lng*ze)/ze,st=Math.round(ge.lat*ze)/ze,mt=this._map.getBearing(),Bt=this._map.getPitch(),Jt="";if(j?Jt+="/"+Xe+"/"+st+"/"+ne:Jt+=ne+"/"+st+"/"+Xe,(mt||Bt)&&(Jt+="/"+Math.round(mt*10)/10),Bt&&(Jt+="/"+Math.round(Bt)),this._hashName){var fr=this._hashName,mr=!1,_r=n.window.location.hash.slice(1).split("&").map(function(Wr){var Yr=Wr.split("=")[0];return Yr===fr?(mr=!0,Yr+"="+Jt):Wr}).filter(function(Wr){return Wr});return mr||_r.push(fr+"="+Jt),"#"+_r.join("&")}return"#"+Jt},ka.prototype._getCurrentHash=function(){var j=this,ge=n.window.location.hash.replace("#","");if(this._hashName){var ne;return ge.split("&").map(function(ye){return ye.split("=")}).forEach(function(ye){ye[0]===j._hashName&&(ne=ye)}),(ne&&ne[1]||"").split("/")}return ge.split("/")},ka.prototype._onHashChange=function(){var j=this._getCurrentHash();if(j.length>=3&&!j.some(function(ne){return isNaN(ne)})){var ge=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(j[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+j[2],+j[1]],zoom:+j[0],bearing:ge,pitch:+(j[4]||0)}),!0}return!1},ka.prototype._updateHashUnthrottled=function(){var j=this.getHashString();try{n.window.history.replaceState(n.window.history.state,"",j)}catch{}};var Ba={linearity:.3,easing:n.bezier(0,0,.3,1)},Va=n.extend({deceleration:2500,maxSpeed:1400},Ba),Ga=n.extend({deceleration:20,maxSpeed:1400},Ba),bi=n.extend({deceleration:1e3,maxSpeed:360},Ba),ji=n.extend({deceleration:1e3,maxSpeed:90},Ba),Pi=function(j){this._map=j,this.clear()};Pi.prototype.clear=function(){this._inertiaBuffer=[]},Pi.prototype.record=function(j){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.browser.now(),settings:j})},Pi.prototype._drainInertiaBuffer=function(){for(var j=this._inertiaBuffer,ge=n.browser.now(),ne=160;j.length>0&&ge-j[0].time>ne;)j.shift()},Pi.prototype._onMoveEnd=function(j){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var ge={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0},ne=0,ye=this._inertiaBuffer;ne<ye.length;ne+=1){var ze=ye[ne],Xe=ze.settings;ge.zoom+=Xe.zoomDelta||0,ge.bearing+=Xe.bearingDelta||0,ge.pitch+=Xe.pitchDelta||0,Xe.panDelta&&ge.pan._add(Xe.panDelta),Xe.around&&(ge.around=Xe.around),Xe.pinchAround&&(ge.pinchAround=Xe.pinchAround)}var st=this._inertiaBuffer[this._inertiaBuffer.length-1],mt=st.time-this._inertiaBuffer[0].time,Bt={};if(ge.pan.mag()){var Jt=Pe(ge.pan.mag(),mt,n.extend({},Va,j||{}));Bt.offset=ge.pan.mult(Jt.amount/ge.pan.mag()),Bt.center=this._map.transform.center,ce(Bt,Jt)}if(ge.zoom){var fr=Pe(ge.zoom,mt,Ga);Bt.zoom=this._map.transform.zoom+fr.amount,ce(Bt,fr)}if(ge.bearing){var mr=Pe(ge.bearing,mt,bi);Bt.bearing=this._map.transform.bearing+n.clamp(mr.amount,-179,179),ce(Bt,mr)}if(ge.pitch){var _r=Pe(ge.pitch,mt,ji);Bt.pitch=this._map.transform.pitch+_r.amount,ce(Bt,_r)}if(Bt.zoom||Bt.bearing){var Wr=ge.pinchAround===void 0?ge.around:ge.pinchAround;Bt.around=Wr?this._map.unproject(Wr):this._map.getCenter()}return this.clear(),n.extend(Bt,{noMoveStart:!0})}};function ce(ve,j){(!ve.duration||ve.duration<j.duration)&&(ve.duration=j.duration,ve.easing=j.easing)}function Pe(ve,j,ge){var ne=ge.maxSpeed,ye=ge.linearity,ze=ge.deceleration,Xe=n.clamp(ve*ye/(j/1e3),-ne,ne),st=Math.abs(Xe)/(ze*ye);return{easing:ge.easing,duration:st*1e3,amount:Xe*(st/2)}}var Ue=function(ve){function j(ne,ye,ze,Xe){Xe===void 0&&(Xe={});var st=y.mousePos(ye.getCanvasContainer(),ze),mt=ye.unproject(st);ve.call(this,ne,n.extend({point:st,lngLat:mt,originalEvent:ze},Xe)),this._defaultPrevented=!1,this.target=ye}ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j;var ge={defaultPrevented:{configurable:!0}};return j.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(j.prototype,ge),j}(n.Event),$e=function(ve){function j(ne,ye,ze){var Xe=ne==="touchend"?ze.changedTouches:ze.touches,st=y.touchPos(ye.getCanvasContainer(),Xe),mt=st.map(function(fr){return ye.unproject(fr)}),Bt=st.reduce(function(fr,mr,_r,Wr){return fr.add(mr.div(Wr.length))},new n.Point(0,0)),Jt=ye.unproject(Bt);ve.call(this,ne,{points:st,point:Bt,lngLats:mt,lngLat:Jt,originalEvent:ze}),this._defaultPrevented=!1}ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j;var ge={defaultPrevented:{configurable:!0}};return j.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(j.prototype,ge),j}(n.Event),et=function(ve){function j(ne,ye,ze){ve.call(this,ne,{originalEvent:ze}),this._defaultPrevented=!1}ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j;var ge={defaultPrevented:{configurable:!0}};return j.prototype.preventDefault=function(){this._defaultPrevented=!0},ge.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(j.prototype,ge),j}(n.Event),at=function(j,ge){this._map=j,this._clickTolerance=ge.clickTolerance};at.prototype.reset=function(){delete this._mousedownPos},at.prototype.wheel=function(j){return this._firePreventable(new et(j.type,this._map,j))},at.prototype.mousedown=function(j,ge){return this._mousedownPos=ge,this._firePreventable(new Ue(j.type,this._map,j))},at.prototype.mouseup=function(j){this._map.fire(new Ue(j.type,this._map,j))},at.prototype.click=function(j,ge){this._mousedownPos&&this._mousedownPos.dist(ge)>=this._clickTolerance||this._map.fire(new Ue(j.type,this._map,j))},at.prototype.dblclick=function(j){return this._firePreventable(new Ue(j.type,this._map,j))},at.prototype.mouseover=function(j){this._map.fire(new Ue(j.type,this._map,j))},at.prototype.mouseout=function(j){this._map.fire(new Ue(j.type,this._map,j))},at.prototype.touchstart=function(j){return this._firePreventable(new $e(j.type,this._map,j))},at.prototype.touchmove=function(j){this._map.fire(new $e(j.type,this._map,j))},at.prototype.touchend=function(j){this._map.fire(new $e(j.type,this._map,j))},at.prototype.touchcancel=function(j){this._map.fire(new $e(j.type,this._map,j))},at.prototype._firePreventable=function(j){if(this._map.fire(j),j.defaultPrevented)return{}},at.prototype.isEnabled=function(){return!0},at.prototype.isActive=function(){return!1},at.prototype.enable=function(){},at.prototype.disable=function(){};var Pt=function(j){this._map=j};Pt.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Pt.prototype.mousemove=function(j){this._map.fire(new Ue(j.type,this._map,j))},Pt.prototype.mousedown=function(){this._delayContextMenu=!0},Pt.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ue("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Pt.prototype.contextmenu=function(j){this._delayContextMenu?this._contextMenuEvent=j:this._map.fire(new Ue(j.type,this._map,j)),this._map.listens("contextmenu")&&j.preventDefault()},Pt.prototype.isEnabled=function(){return!0},Pt.prototype.isActive=function(){return!1},Pt.prototype.enable=function(){},Pt.prototype.disable=function(){};var ct=function(j,ge){this._map=j,this._el=j.getCanvasContainer(),this._container=j.getContainer(),this._clickTolerance=ge.clickTolerance||1};ct.prototype.isEnabled=function(){return!!this._enabled},ct.prototype.isActive=function(){return!!this._active},ct.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ct.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ct.prototype.mousedown=function(j,ge){this.isEnabled()&&j.shiftKey&&j.button===0&&(y.disableDrag(),this._startPos=this._lastPos=ge,this._active=!0)},ct.prototype.mousemoveWindow=function(j,ge){if(this._active){var ne=ge;if(!(this._lastPos.equals(ne)||!this._box&&ne.dist(this._startPos)<this._clickTolerance)){var ye=this._startPos;this._lastPos=ne,this._box||(this._box=y.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",j));var ze=Math.min(ye.x,ne.x),Xe=Math.max(ye.x,ne.x),st=Math.min(ye.y,ne.y),mt=Math.max(ye.y,ne.y);y.setTransform(this._box,"translate("+ze+"px,"+st+"px)"),this._box.style.width=Xe-ze+"px",this._box.style.height=mt-st+"px"}}},ct.prototype.mouseupWindow=function(j,ge){var ne=this;if(this._active&&j.button===0){var ye=this._startPos,ze=ge;if(this.reset(),y.suppressClick(),ye.x===ze.x&&ye.y===ze.y)this._fireEvent("boxzoomcancel",j);else return this._map.fire(new n.Event("boxzoomend",{originalEvent:j})),{cameraAnimation:function(Xe){return Xe.fitScreenCoordinates(ye,ze,ne._map.getBearing(),{linear:!0})}}}},ct.prototype.keydown=function(j){this._active&&j.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",j))},ct.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(y.remove(this._box),this._box=null),y.enableDrag(),delete this._startPos,delete this._lastPos},ct.prototype._fireEvent=function(j,ge){return this._map.fire(new n.Event(j,{originalEvent:ge}))};function Vt(ve,j){for(var ge={},ne=0;ne<ve.length;ne++)ge[ve[ne].identifier]=j[ne];return ge}function tr(ve){for(var j=new n.Point(0,0),ge=0,ne=ve;ge<ne.length;ge+=1){var ye=ne[ge];j._add(ye)}return j.div(ve.length)}var rr=500,Rr=500,Er=30,$r=function(j){this.reset(),this.numTouches=j.numTouches};$r.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},$r.prototype.touchstart=function(j,ge,ne){(this.centroid||ne.length>this.numTouches)&&(this.aborted=!0),!this.aborted&&(this.startTime===void 0&&(this.startTime=j.timeStamp),ne.length===this.numTouches&&(this.centroid=tr(ge),this.touches=Vt(ne,ge)))},$r.prototype.touchmove=function(j,ge,ne){if(!(this.aborted||!this.centroid)){var ye=Vt(ne,ge);for(var ze in this.touches){var Xe=this.touches[ze],st=ye[ze];(!st||st.dist(Xe)>Er)&&(this.aborted=!0)}}},$r.prototype.touchend=function(j,ge,ne){if((!this.centroid||j.timeStamp-this.startTime>Rr)&&(this.aborted=!0),ne.length===0){var ye=!this.aborted&&this.centroid;if(this.reset(),ye)return ye}};var rn=function(j){this.singleTap=new $r(j),this.numTaps=j.numTaps,this.reset()};rn.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},rn.prototype.touchstart=function(j,ge,ne){this.singleTap.touchstart(j,ge,ne)},rn.prototype.touchmove=function(j,ge,ne){this.singleTap.touchmove(j,ge,ne)},rn.prototype.touchend=function(j,ge,ne){var ye=this.singleTap.touchend(j,ge,ne);if(ye){var ze=j.timeStamp-this.lastTime<rr,Xe=!this.lastTap||this.lastTap.dist(ye)<Er;if((!ze||!Xe)&&this.reset(),this.count++,this.lastTime=j.timeStamp,this.lastTap=ye,this.count===this.numTaps)return this.reset(),ye}};var kr=function(){this._zoomIn=new rn({numTouches:1,numTaps:2}),this._zoomOut=new rn({numTouches:2,numTaps:1}),this.reset()};kr.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},kr.prototype.touchstart=function(j,ge,ne){this._zoomIn.touchstart(j,ge,ne),this._zoomOut.touchstart(j,ge,ne)},kr.prototype.touchmove=function(j,ge,ne){this._zoomIn.touchmove(j,ge,ne),this._zoomOut.touchmove(j,ge,ne)},kr.prototype.touchend=function(j,ge,ne){var ye=this,ze=this._zoomIn.touchend(j,ge,ne),Xe=this._zoomOut.touchend(j,ge,ne);if(ze)return this._active=!0,j.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(st){return st.easeTo({duration:300,zoom:st.getZoom()+1,around:st.unproject(ze)},{originalEvent:j})}};if(Xe)return this._active=!0,j.preventDefault(),setTimeout(function(){return ye.reset()},0),{cameraAnimation:function(st){return st.easeTo({duration:300,zoom:st.getZoom()-1,around:st.unproject(Xe)},{originalEvent:j})}}},kr.prototype.touchcancel=function(){this.reset()},kr.prototype.enable=function(){this._enabled=!0},kr.prototype.disable=function(){this._enabled=!1,this.reset()},kr.prototype.isEnabled=function(){return this._enabled},kr.prototype.isActive=function(){return this._active};var Hr=0,jr=2,nn=function(j){this.reset(),this._clickTolerance=j.clickTolerance||1};nn.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},nn.prototype._correctButton=function(j,ge){return!1},nn.prototype._move=function(j,ge){return{}},nn.prototype.mousedown=function(j,ge){if(!this._lastPoint){var ne=y.mouseButton(j);this._correctButton(j,ne)&&(this._lastPoint=ge,this._eventButton=ne)}},nn.prototype.mousemoveWindow=function(j,ge){var ne=this._lastPoint;if(ne&&(j.preventDefault(),!(!this._moved&&ge.dist(ne)<this._clickTolerance)))return this._moved=!0,this._lastPoint=ge,this._move(ne,ge)},nn.prototype.mouseupWindow=function(j){var ge=y.mouseButton(j);ge===this._eventButton&&(this._moved&&y.suppressClick(),this.reset())},nn.prototype.enable=function(){this._enabled=!0},nn.prototype.disable=function(){this._enabled=!1,this.reset()},nn.prototype.isEnabled=function(){return this._enabled},nn.prototype.isActive=function(){return this._active};var fn=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.mousedown=function(ne,ye){ve.prototype.mousedown.call(this,ne,ye),this._lastPoint&&(this._active=!0)},j.prototype._correctButton=function(ne,ye){return ye===Hr&&!ne.ctrlKey},j.prototype._move=function(ne,ye){return{around:ye,panDelta:ye.sub(ne)}},j}(nn),Kr=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype._correctButton=function(ne,ye){return ye===Hr&&ne.ctrlKey||ye===jr},j.prototype._move=function(ne,ye){var ze=.8,Xe=(ye.x-ne.x)*ze;if(Xe)return this._active=!0,{bearingDelta:Xe}},j.prototype.contextmenu=function(ne){ne.preventDefault()},j}(nn),Vn=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype._correctButton=function(ne,ye){return ye===Hr&&ne.ctrlKey||ye===jr},j.prototype._move=function(ne,ye){var ze=-.5,Xe=(ye.y-ne.y)*ze;if(Xe)return this._active=!0,{pitchDelta:Xe}},j.prototype.contextmenu=function(ne){ne.preventDefault()},j}(nn),Yn=function(j){this._minTouches=1,this._clickTolerance=j.clickTolerance||1,this.reset()};Yn.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)},Yn.prototype.touchstart=function(j,ge,ne){return this._calculateTransform(j,ge,ne)},Yn.prototype.touchmove=function(j,ge,ne){if(this._active)return j.preventDefault(),this._calculateTransform(j,ge,ne)},Yn.prototype.touchend=function(j,ge,ne){this._calculateTransform(j,ge,ne),this._active&&ne.length<this._minTouches&&this.reset()},Yn.prototype.touchcancel=function(){this.reset()},Yn.prototype._calculateTransform=function(j,ge,ne){ne.length>0&&(this._active=!0);var ye=Vt(ne,ge),ze=new n.Point(0,0),Xe=new n.Point(0,0),st=0;for(var mt in ye){var Bt=ye[mt],Jt=this._touches[mt];Jt&&(ze._add(Bt),Xe._add(Bt.sub(Jt)),st++,ye[mt]=Bt)}if(this._touches=ye,!(st<this._minTouches||!Xe.mag())){var fr=Xe.div(st);if(this._sum._add(fr),!(this._sum.mag()<this._clickTolerance)){var mr=ze.div(st);return{around:mr,panDelta:fr}}}},Yn.prototype.enable=function(){this._enabled=!0},Yn.prototype.disable=function(){this._enabled=!1,this.reset()},Yn.prototype.isEnabled=function(){return this._enabled},Yn.prototype.isActive=function(){return this._active};var $n=function(){this.reset()};$n.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},$n.prototype._start=function(j){},$n.prototype._move=function(j,ge,ne){return{}},$n.prototype.touchstart=function(j,ge,ne){this._firstTwoTouches||ne.length<2||(this._firstTwoTouches=[ne[0].identifier,ne[1].identifier],this._start([ge[0],ge[1]]))},$n.prototype.touchmove=function(j,ge,ne){if(this._firstTwoTouches){j.preventDefault();var ye=this._firstTwoTouches,ze=ye[0],Xe=ye[1],st=sa(ne,ge,ze),mt=sa(ne,ge,Xe);if(!(!st||!mt)){var Bt=this._aroundCenter?null:st.add(mt).div(2);return this._move([st,mt],Bt,j)}}},$n.prototype.touchend=function(j,ge,ne){if(this._firstTwoTouches){var ye=this._firstTwoTouches,ze=ye[0],Xe=ye[1],st=sa(ne,ge,ze),mt=sa(ne,ge,Xe);st&&mt||(this._active&&y.suppressClick(),this.reset())}},$n.prototype.touchcancel=function(){this.reset()},$n.prototype.enable=function(j){this._enabled=!0,this._aroundCenter=!!j&&j.around==="center"},$n.prototype.disable=function(){this._enabled=!1,this.reset()},$n.prototype.isEnabled=function(){return this._enabled},$n.prototype.isActive=function(){return this._active};function sa(ve,j,ge){for(var ne=0;ne<ve.length;ne++)if(ve[ne].identifier===ge)return j[ne]}var Sa=.1;function Aa(ve,j){return Math.log(ve/j)/Math.LN2}var Ka=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.reset=function(){ve.prototype.reset.call(this),delete this._distance,delete this._startDistance},j.prototype._start=function(ne){this._startDistance=this._distance=ne[0].dist(ne[1])},j.prototype._move=function(ne,ye){var ze=this._distance;if(this._distance=ne[0].dist(ne[1]),!(!this._active&&Math.abs(Aa(this._distance,this._startDistance))<Sa))return this._active=!0,{zoomDelta:Aa(this._distance,ze),pinchAround:ye}},j}($n),Ia=25;function Za(ve,j){return ve.angleWith(j)*180/Math.PI}var fi=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.reset=function(){ve.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},j.prototype._start=function(ne){this._startVector=this._vector=ne[0].sub(ne[1]),this._minDiameter=ne[0].dist(ne[1])},j.prototype._move=function(ne,ye){var ze=this._vector;if(this._vector=ne[0].sub(ne[1]),!(!this._active&&this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:Za(this._vector,ze),pinchAround:ye}},j.prototype._isBelowThreshold=function(ne){this._minDiameter=Math.min(this._minDiameter,ne.mag());var ye=Math.PI*this._minDiameter,ze=Ia/ye*360,Xe=Za(ne,this._startVector);return Math.abs(Xe)<ze},j}($n);function gi(ve){return Math.abs(ve.y)>Math.abs(ve.x)}var Si=100,Un=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.reset=function(){ve.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},j.prototype._start=function(ne){this._lastPoints=ne,gi(ne[0].sub(ne[1]))&&(this._valid=!1)},j.prototype._move=function(ne,ye,ze){var Xe=ne[0].sub(this._lastPoints[0]),st=ne[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Xe,st,ze.timeStamp),!!this._valid){this._lastPoints=ne,this._active=!0;var mt=(Xe.y+st.y)/2,Bt=-.5;return{pitchDelta:mt*Bt}}},j.prototype.gestureBeginsVertically=function(ne,ye,ze){if(this._valid!==void 0)return this._valid;var Xe=2,st=ne.mag()>=Xe,mt=ye.mag()>=Xe;if(!(!st&&!mt)){if(!st||!mt)return this._firstMove===void 0&&(this._firstMove=ze),ze-this._firstMove<Si?void 0:!1;var Bt=ne.y>0==ye.y>0;return gi(ne)&&gi(ye)&&Bt}},j}($n),Xa={panStep:100,bearingStep:15,pitchStep:10},Wa=function(){var j=Xa;this._panStep=j.panStep,this._bearingStep=j.bearingStep,this._pitchStep=j.pitchStep};Wa.prototype.reset=function(){this._active=!1},Wa.prototype.keydown=function(j){var ge=this;if(!(j.altKey||j.ctrlKey||j.metaKey)){var ne=0,ye=0,ze=0,Xe=0,st=0;switch(j.keyCode){case 61:case 107:case 171:case 187:ne=1;break;case 189:case 109:case 173:ne=-1;break;case 37:j.shiftKey?ye=-1:(j.preventDefault(),Xe=-1);break;case 39:j.shiftKey?ye=1:(j.preventDefault(),Xe=1);break;case 38:j.shiftKey?ze=1:(j.preventDefault(),st=-1);break;case 40:j.shiftKey?ze=-1:(j.preventDefault(),st=1);break;default:return}return{cameraAnimation:function(mt){var Bt=mt.getZoom();mt.easeTo({duration:300,easeId:"keyboardHandler",easing:ri,zoom:ne?Math.round(Bt)+ne*(j.shiftKey?2:1):Bt,bearing:mt.getBearing()+ye*ge._bearingStep,pitch:mt.getPitch()+ze*ge._pitchStep,offset:[-Xe*ge._panStep,-st*ge._panStep],center:mt.getCenter()},{originalEvent:j})}}}},Wa.prototype.enable=function(){this._enabled=!0},Wa.prototype.disable=function(){this._enabled=!1,this.reset()},Wa.prototype.isEnabled=function(){return this._enabled},Wa.prototype.isActive=function(){return this._active};function ri(ve){return ve*(2-ve)}var Vi=4.000244140625,eo=1/100,oo=1/450,Fi=2,Ci=function(j,ge){this._map=j,this._el=j.getCanvasContainer(),this._handler=ge,this._delta=0,this._defaultZoomRate=eo,this._wheelZoomRate=oo,n.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Ci.prototype.setZoomRate=function(j){this._defaultZoomRate=j},Ci.prototype.setWheelZoomRate=function(j){this._wheelZoomRate=j},Ci.prototype.isEnabled=function(){return!!this._enabled},Ci.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Ci.prototype.isZooming=function(){return!!this._zooming},Ci.prototype.enable=function(j){this.isEnabled()||(this._enabled=!0,this._aroundCenter=j&&j.around==="center")},Ci.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ci.prototype.wheel=function(j){if(this.isEnabled()){var ge=j.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?j.deltaY*40:j.deltaY,ne=n.browser.now(),ye=ne-(this._lastWheelEventTime||0);this._lastWheelEventTime=ne,ge!==0&&ge%Vi===0?this._type="wheel":ge!==0&&Math.abs(ge)<4?this._type="trackpad":ye>400?(this._type=null,this._lastValue=ge,this._timeout=setTimeout(this._onTimeout,40,j)):this._type||(this._type=Math.abs(ye*ge)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,ge+=this._lastValue)),j.shiftKey&&ge&&(ge=ge/4),this._type&&(this._lastWheelEvent=j,this._delta-=ge,this._active||this._start(j)),j.preventDefault()}},Ci.prototype._onTimeout=function(j){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(j)},Ci.prototype._start=function(j){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var ge=y.mousePos(this._el,j);this._around=n.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(ge)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Ci.prototype.renderFrame=function(){return this._onScrollFrame()},Ci.prototype._onScrollFrame=function(){var j=this;if(this._frameId&&(this._frameId=null,!!this.isActive())){var ge=this._map.transform;if(this._delta!==0){var ne=this._type==="wheel"&&Math.abs(this._delta)>Vi?this._wheelZoomRate:this._defaultZoomRate,ye=Fi/(1+Math.exp(-Math.abs(this._delta*ne)));this._delta<0&&ye!==0&&(ye=1/ye);var ze=typeof this._targetZoom=="number"?ge.zoomScale(this._targetZoom):ge.scale;this._targetZoom=Math.min(ge.maxZoom,Math.max(ge.minZoom,ge.scaleZoom(ze*ye))),this._type==="wheel"&&(this._startZoom=ge.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Xe=typeof this._targetZoom=="number"?this._targetZoom:ge.zoom,st=this._startZoom,mt=this._easing,Bt=!1,Jt;if(this._type==="wheel"&&st&&mt){var fr=Math.min((n.browser.now()-this._lastWheelEventTime)/200,1),mr=mt(fr);Jt=n.number(st,Xe,mr),fr<1?this._frameId||(this._frameId=!0):Bt=!0}else Jt=Xe,Bt=!0;return this._active=!0,Bt&&(this._active=!1,this._finishTimeout=setTimeout(function(){j._zooming=!1,j._handler._triggerRenderFrame(),delete j._targetZoom,delete j._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Bt,zoomDelta:Jt-ge.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Ci.prototype._smoothOutEasing=function(j){var ge=n.ease;if(this._prevEase){var ne=this._prevEase,ye=(n.browser.now()-ne.start)/ne.duration,ze=ne.easing(ye+.01)-ne.easing(ye),Xe=.27/Math.sqrt(ze*ze+1e-4)*.01,st=Math.sqrt(.27*.27-Xe*Xe);ge=n.bezier(Xe,st,.25,1)}return this._prevEase={start:n.browser.now(),duration:j,easing:ge},ge},Ci.prototype.reset=function(){this._active=!1};var ba=function(j,ge){this._clickZoom=j,this._tapZoom=ge};ba.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},ba.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},ba.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},ba.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var La=function(){this.reset()};La.prototype.reset=function(){this._active=!1},La.prototype.dblclick=function(j,ge){return j.preventDefault(),{cameraAnimation:function(ne){ne.easeTo({duration:300,zoom:ne.getZoom()+(j.shiftKey?-1:1),around:ne.unproject(ge)},{originalEvent:j})}}},La.prototype.enable=function(){this._enabled=!0},La.prototype.disable=function(){this._enabled=!1,this.reset()},La.prototype.isEnabled=function(){return this._enabled},La.prototype.isActive=function(){return this._active};var zi=function(){this._tap=new rn({numTouches:1,numTaps:1}),this.reset()};zi.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},zi.prototype.touchstart=function(j,ge,ne){this._swipePoint||(this._tapTime&&j.timeStamp-this._tapTime>rr&&this.reset(),this._tapTime?ne.length>0&&(this._swipePoint=ge[0],this._swipeTouch=ne[0].identifier):this._tap.touchstart(j,ge,ne))},zi.prototype.touchmove=function(j,ge,ne){if(!this._tapTime)this._tap.touchmove(j,ge,ne);else if(this._swipePoint){if(ne[0].identifier!==this._swipeTouch)return;var ye=ge[0],ze=ye.y-this._swipePoint.y;return this._swipePoint=ye,j.preventDefault(),this._active=!0,{zoomDelta:ze/128}}},zi.prototype.touchend=function(j,ge,ne){if(this._tapTime)this._swipePoint&&ne.length===0&&this.reset();else{var ye=this._tap.touchend(j,ge,ne);ye&&(this._tapTime=j.timeStamp)}},zi.prototype.touchcancel=function(){this.reset()},zi.prototype.enable=function(){this._enabled=!0},zi.prototype.disable=function(){this._enabled=!1,this.reset()},zi.prototype.isEnabled=function(){return this._enabled},zi.prototype.isActive=function(){return this._active};var no=function(j,ge,ne){this._el=j,this._mousePan=ge,this._touchPan=ne};no.prototype.enable=function(j){this._inertiaOptions=j||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},no.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},no.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},no.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var is=function(j,ge,ne){this._pitchWithRotate=j.pitchWithRotate,this._mouseRotate=ge,this._mousePitch=ne};is.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},is.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},is.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},is.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var bo=function(j,ge,ne,ye){this._el=j,this._touchZoom=ge,this._touchRotate=ne,this._tapDragZoom=ye,this._rotationDisabled=!1,this._enabled=!0};bo.prototype.enable=function(j){this._touchZoom.enable(j),this._rotationDisabled||this._touchRotate.enable(j),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},bo.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},bo.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},bo.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},bo.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},bo.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Uo=function(ve){return ve.zoom||ve.drag||ve.pitch||ve.rotate},Gi=function(ve){function j(){ve.apply(this,arguments)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j}(n.Event);function cs(ve){return ve.panDelta&&ve.panDelta.mag()||ve.zoomDelta||ve.bearingDelta||ve.pitchDelta}var Ri=function(j,ge){this._map=j,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Pi(j),this._bearingSnap=ge.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(ge),n.bindAll(["handleEvent","handleWindowEvent"],this);var ne=this._el;this._listeners=[[ne,"touchstart",{passive:!1}],[ne,"touchmove",{passive:!1}],[ne,"touchend",void 0],[ne,"touchcancel",void 0],[ne,"mousedown",void 0],[ne,"mousemove",void 0],[ne,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[ne,"mouseover",void 0],[ne,"mouseout",void 0],[ne,"dblclick",void 0],[ne,"click",void 0],[ne,"keydown",{capture:!1}],[ne,"keyup",void 0],[ne,"wheel",{passive:!1}],[ne,"contextmenu",void 0],[n.window,"blur",void 0]];for(var ye=0,ze=this._listeners;ye<ze.length;ye+=1){var Xe=ze[ye],st=Xe[0],mt=Xe[1],Bt=Xe[2];y.addEventListener(st,mt,st===n.window.document?this.handleWindowEvent:this.handleEvent,Bt)}};Ri.prototype.destroy=function(){for(var j=0,ge=this._listeners;j<ge.length;j+=1){var ne=ge[j],ye=ne[0],ze=ne[1],Xe=ne[2];y.removeEventListener(ye,ze,ye===n.window.document?this.handleWindowEvent:this.handleEvent,Xe)}},Ri.prototype._addDefaultHandlers=function(j){var ge=this._map,ne=ge.getCanvasContainer();this._add("mapEvent",new at(ge,j));var ye=ge.boxZoom=new ct(ge,j);this._add("boxZoom",ye);var ze=new kr,Xe=new La;ge.doubleClickZoom=new ba(Xe,ze),this._add("tapZoom",ze),this._add("clickZoom",Xe);var st=new zi;this._add("tapDragZoom",st);var mt=ge.touchPitch=new Un;this._add("touchPitch",mt);var Bt=new Kr(j),Jt=new Vn(j);ge.dragRotate=new is(j,Bt,Jt),this._add("mouseRotate",Bt,["mousePitch"]),this._add("mousePitch",Jt,["mouseRotate"]);var fr=new fn(j),mr=new Yn(j);ge.dragPan=new no(ne,fr,mr),this._add("mousePan",fr),this._add("touchPan",mr,["touchZoom","touchRotate"]);var _r=new fi,Wr=new Ka;ge.touchZoomRotate=new bo(ne,Wr,_r,st),this._add("touchRotate",_r,["touchPan","touchZoom"]),this._add("touchZoom",Wr,["touchPan","touchRotate"]);var Yr=ge.scrollZoom=new Ci(ge,this);this._add("scrollZoom",Yr,["mousePan"]);var Gr=ge.keyboard=new Wa;this._add("keyboard",Gr),this._add("blockableMapEvent",new Pt(ge));for(var qr=0,un=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];qr<un.length;qr+=1){var En=un[qr];j.interactive&&j[En]&&ge[En].enable(j[En])}},Ri.prototype._add=function(j,ge,ne){this._handlers.push({handlerName:j,handler:ge,allowed:ne}),this._handlersById[j]=ge},Ri.prototype.stop=function(){if(!this._updatingCamera){for(var j=0,ge=this._handlers;j<ge.length;j+=1){var ne=ge[j],ye=ne.handler;ye.reset()}this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},Ri.prototype.isActive=function(){for(var j=0,ge=this._handlers;j<ge.length;j+=1){var ne=ge[j],ye=ne.handler;if(ye.isActive())return!0}return!1},Ri.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Ri.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Ri.prototype.isMoving=function(){return!!Uo(this._eventsInProgress)||this.isZooming()},Ri.prototype._blockedByActive=function(j,ge,ne){for(var ye in j)if(ye!==ne&&(!ge||ge.indexOf(ye)<0))return!0;return!1},Ri.prototype.handleWindowEvent=function(j){this.handleEvent(j,j.type+"Window")},Ri.prototype._getMapTouches=function(j){for(var ge=[],ne=0,ye=j;ne<ye.length;ne+=1){var ze=ye[ne],Xe=ze.target;this._el.contains(Xe)&&ge.push(ze)}return ge},Ri.prototype.handleEvent=function(j,ge){if(j.type==="blur"){this.stop();return}this._updatingCamera=!0;for(var ne=j.type==="renderFrame"?void 0:j,ye={needsRenderFrame:!1},ze={},Xe={},st=j.touches?this._getMapTouches(j.touches):void 0,mt=st?y.touchPos(this._el,st):y.mousePos(this._el,j),Bt=0,Jt=this._handlers;Bt<Jt.length;Bt+=1){var fr=Jt[Bt],mr=fr.handlerName,_r=fr.handler,Wr=fr.allowed;if(_r.isEnabled()){var Yr=void 0;this._blockedByActive(Xe,Wr,mr)?_r.reset():_r[ge||j.type]&&(Yr=_r[ge||j.type](j,mt,st),this.mergeHandlerResult(ye,ze,Yr,mr,ne),Yr&&Yr.needsRenderFrame&&this._triggerRenderFrame()),(Yr||_r.isActive())&&(Xe[mr]=_r)}}var Gr={};for(var qr in this._previousActiveHandlers)Xe[qr]||(Gr[qr]=ne);this._previousActiveHandlers=Xe,(Object.keys(Gr).length||cs(ye))&&(this._changes.push([ye,ze,Gr]),this._triggerRenderFrame()),(Object.keys(Xe).length||cs(ye))&&this._map._stop(!0),this._updatingCamera=!1;var un=ye.cameraAnimation;un&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],un(this._map))},Ri.prototype.mergeHandlerResult=function(j,ge,ne,ye,ze){if(ne){n.extend(j,ne);var Xe={handlerName:ye,originalEvent:ne.originalEvent||ze};ne.zoomDelta!==void 0&&(ge.zoom=Xe),ne.panDelta!==void 0&&(ge.drag=Xe),ne.pitchDelta!==void 0&&(ge.pitch=Xe),ne.bearingDelta!==void 0&&(ge.rotate=Xe)}},Ri.prototype._applyChanges=function(){for(var j={},ge={},ne={},ye=0,ze=this._changes;ye<ze.length;ye+=1){var Xe=ze[ye],st=Xe[0],mt=Xe[1],Bt=Xe[2];st.panDelta&&(j.panDelta=(j.panDelta||new n.Point(0,0))._add(st.panDelta)),st.zoomDelta&&(j.zoomDelta=(j.zoomDelta||0)+st.zoomDelta),st.bearingDelta&&(j.bearingDelta=(j.bearingDelta||0)+st.bearingDelta),st.pitchDelta&&(j.pitchDelta=(j.pitchDelta||0)+st.pitchDelta),st.around!==void 0&&(j.around=st.around),st.pinchAround!==void 0&&(j.pinchAround=st.pinchAround),st.noInertia&&(j.noInertia=st.noInertia),n.extend(ge,mt),n.extend(ne,Bt)}this._updateMapTransform(j,ge,ne),this._changes=[]},Ri.prototype._updateMapTransform=function(j,ge,ne){var ye=this._map,ze=ye.transform;if(!cs(j))return this._fireEvents(ge,ne);var Xe=j.panDelta,st=j.zoomDelta,mt=j.bearingDelta,Bt=j.pitchDelta,Jt=j.around,fr=j.pinchAround;fr!==void 0&&(Jt=fr),ye._stop(!0),Jt=Jt||ye.transform.centerPoint;var mr=ze.pointLocation(Xe?Jt.sub(Xe):Jt);mt&&(ze.bearing+=mt),Bt&&(ze.pitch+=Bt),st&&(ze.zoom+=st),ze.setLocationAtPoint(mr,Jt),this._map._update(),j.noInertia||this._inertia.record(j),this._fireEvents(ge,ne)},Ri.prototype._fireEvents=function(j,ge){var ne=this,ye=Uo(this._eventsInProgress),ze=Uo(j),Xe={};for(var st in j){var mt=j[st],Bt=mt.originalEvent;this._eventsInProgress[st]||(Xe[st+"start"]=Bt),this._eventsInProgress[st]=j[st]}!ye&&ze&&this._fireEvent("movestart",ze.originalEvent);for(var Jt in Xe)this._fireEvent(Jt,Xe[Jt]);j.rotate&&(this._bearingChanged=!0),ze&&this._fireEvent("move",ze.originalEvent);for(var fr in j){var mr=j[fr],_r=mr.originalEvent;this._fireEvent(fr,_r)}var Wr={},Yr;for(var Gr in this._eventsInProgress){var qr=this._eventsInProgress[Gr],un=qr.handlerName,En=qr.originalEvent;this._handlersById[un].isActive()||(delete this._eventsInProgress[Gr],Yr=ge[un]||En,Wr[Gr+"end"]=Yr)}for(var On in Wr)this._fireEvent(On,Wr[On]);var Xn=Uo(this._eventsInProgress);if((ye||ze)&&!Xn){this._updatingCamera=!0;var Kn=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),jn=function(ia){return ia!==0&&-ne._bearingSnap<ia&&ia<ne._bearingSnap};Kn?(jn(Kn.bearing||this._map.getBearing())&&(Kn.bearing=0),this._map.easeTo(Kn,{originalEvent:Yr})):(this._map.fire(new n.Event("moveend",{originalEvent:Yr})),jn(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},Ri.prototype._fireEvent=function(j,ge){this._map.fire(new n.Event(j,ge?{originalEvent:ge}:{}))},Ri.prototype._triggerRenderFrame=function(){var j=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(ge){delete j._frameId,j.handleEvent(new Gi("renderFrame",{timeStamp:ge})),j._applyChanges()}))};var Vs=function(ve){function j(ge,ne){ve.call(this),this._moving=!1,this._zooming=!1,this.transform=ge,this._bearingSnap=ne.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.getCenter=function(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)},j.prototype.setCenter=function(ne,ye){return this.jumpTo({center:ne},ye)},j.prototype.panBy=function(ne,ye,ze){return ne=n.Point.convert(ne).mult(-1),this.panTo(this.transform.center,n.extend({offset:ne},ye),ze)},j.prototype.panTo=function(ne,ye,ze){return this.easeTo(n.extend({center:ne},ye),ze)},j.prototype.getZoom=function(){return this.transform.zoom},j.prototype.setZoom=function(ne,ye){return this.jumpTo({zoom:ne},ye),this},j.prototype.zoomTo=function(ne,ye,ze){return this.easeTo(n.extend({zoom:ne},ye),ze)},j.prototype.zoomIn=function(ne,ye){return this.zoomTo(this.getZoom()+1,ne,ye),this},j.prototype.zoomOut=function(ne,ye){return this.zoomTo(this.getZoom()-1,ne,ye),this},j.prototype.getBearing=function(){return this.transform.bearing},j.prototype.setBearing=function(ne,ye){return this.jumpTo({bearing:ne},ye),this},j.prototype.getPadding=function(){return this.transform.padding},j.prototype.setPadding=function(ne,ye){return this.jumpTo({padding:ne},ye),this},j.prototype.rotateTo=function(ne,ye,ze){return this.easeTo(n.extend({bearing:ne},ye),ze)},j.prototype.resetNorth=function(ne,ye){return this.rotateTo(0,n.extend({duration:1e3},ne),ye),this},j.prototype.resetNorthPitch=function(ne,ye){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},ne),ye),this},j.prototype.snapToNorth=function(ne,ye){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(ne,ye):this},j.prototype.getPitch=function(){return this.transform.pitch},j.prototype.setPitch=function(ne,ye){return this.jumpTo({pitch:ne},ye),this},j.prototype.cameraForBounds=function(ne,ye){return ne=n.LngLatBounds.convert(ne),this._cameraForBoxAndBearing(ne.getNorthWest(),ne.getSouthEast(),0,ye)},j.prototype._cameraForBoxAndBearing=function(ne,ye,ze,Xe){var st={top:0,bottom:0,right:0,left:0};if(Xe=n.extend({padding:st,offset:[0,0],maxZoom:this.transform.maxZoom},Xe),typeof Xe.padding=="number"){var mt=Xe.padding;Xe.padding={top:mt,bottom:mt,right:mt,left:mt}}Xe.padding=n.extend(st,Xe.padding);var Bt=this.transform,Jt=Bt.padding,fr=Bt.project(n.LngLat.convert(ne)),mr=Bt.project(n.LngLat.convert(ye)),_r=fr.rotate(-ze*Math.PI/180),Wr=mr.rotate(-ze*Math.PI/180),Yr=new n.Point(Math.max(_r.x,Wr.x),Math.max(_r.y,Wr.y)),Gr=new n.Point(Math.min(_r.x,Wr.x),Math.min(_r.y,Wr.y)),qr=Yr.sub(Gr),un=(Bt.width-(Jt.left+Jt.right+Xe.padding.left+Xe.padding.right))/qr.x,En=(Bt.height-(Jt.top+Jt.bottom+Xe.padding.top+Xe.padding.bottom))/qr.y;if(En<0||un<0){n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");return}var On=Math.min(Bt.scaleZoom(Bt.scale*Math.min(un,En)),Xe.maxZoom),Xn=n.Point.convert(Xe.offset),Kn=(Xe.padding.left-Xe.padding.right)/2,jn=(Xe.padding.top-Xe.padding.bottom)/2,ia=new n.Point(Xn.x+Kn,Xn.y+jn),pa=ia.mult(Bt.scale/Bt.zoomScale(On)),va=Bt.unproject(fr.add(mr).div(2).sub(pa));return{center:va,zoom:On,bearing:ze}},j.prototype.fitBounds=function(ne,ye,ze){return this._fitInternal(this.cameraForBounds(ne,ye),ye,ze)},j.prototype.fitScreenCoordinates=function(ne,ye,ze,Xe,st){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(n.Point.convert(ne)),this.transform.pointLocation(n.Point.convert(ye)),ze,Xe),Xe,st)},j.prototype._fitInternal=function(ne,ye,ze){return ne?(ye=n.extend(ne,ye),delete ye.padding,ye.linear?this.easeTo(ye,ze):this.flyTo(ye,ze)):this},j.prototype.jumpTo=function(ne,ye){this.stop();var ze=this.transform,Xe=!1,st=!1,mt=!1;return"zoom"in ne&&ze.zoom!==+ne.zoom&&(Xe=!0,ze.zoom=+ne.zoom),ne.center!==void 0&&(ze.center=n.LngLat.convert(ne.center)),"bearing"in ne&&ze.bearing!==+ne.bearing&&(st=!0,ze.bearing=+ne.bearing),"pitch"in ne&&ze.pitch!==+ne.pitch&&(mt=!0,ze.pitch=+ne.pitch),ne.padding!=null&&!ze.isPaddingEqual(ne.padding)&&(ze.padding=ne.padding),this.fire(new n.Event("movestart",ye)).fire(new n.Event("move",ye)),Xe&&this.fire(new n.Event("zoomstart",ye)).fire(new n.Event("zoom",ye)).fire(new n.Event("zoomend",ye)),st&&this.fire(new n.Event("rotatestart",ye)).fire(new n.Event("rotate",ye)).fire(new n.Event("rotateend",ye)),mt&&this.fire(new n.Event("pitchstart",ye)).fire(new n.Event("pitch",ye)).fire(new n.Event("pitchend",ye)),this.fire(new n.Event("moveend",ye))},j.prototype.easeTo=function(ne,ye){var ze=this;this._stop(!1,ne.easeId),ne=n.extend({offset:[0,0],duration:500,easing:n.ease},ne),(ne.animate===!1||!ne.essential&&n.browser.prefersReducedMotion)&&(ne.duration=0);var Xe=this.transform,st=this.getZoom(),mt=this.getBearing(),Bt=this.getPitch(),Jt=this.getPadding(),fr="zoom"in ne?+ne.zoom:st,mr="bearing"in ne?this._normalizeBearing(ne.bearing,mt):mt,_r="pitch"in ne?+ne.pitch:Bt,Wr="padding"in ne?ne.padding:Xe.padding,Yr=n.Point.convert(ne.offset),Gr=Xe.centerPoint.add(Yr),qr=Xe.pointLocation(Gr),un=n.LngLat.convert(ne.center||qr);this._normalizeCenter(un);var En=Xe.project(qr),On=Xe.project(un).sub(En),Xn=Xe.zoomScale(fr-st),Kn,jn;ne.around&&(Kn=n.LngLat.convert(ne.around),jn=Xe.locationPoint(Kn));var ia={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||fr!==st,this._rotating=this._rotating||mt!==mr,this._pitching=this._pitching||_r!==Bt,this._padding=!Xe.isPaddingEqual(Wr),this._easeId=ne.easeId,this._prepareEase(ye,ne.noMoveStart,ia),clearTimeout(this._easeEndTimeoutID),this._ease(function(pa){if(ze._zooming&&(Xe.zoom=n.number(st,fr,pa)),ze._rotating&&(Xe.bearing=n.number(mt,mr,pa)),ze._pitching&&(Xe.pitch=n.number(Bt,_r,pa)),ze._padding&&(Xe.interpolatePadding(Jt,Wr,pa),Gr=Xe.centerPoint.add(Yr)),Kn)Xe.setLocationAtPoint(Kn,jn);else{var va=Xe.zoomScale(Xe.zoom-st),xa=fr>st?Math.min(2,Xn):Math.max(.5,Xn),Ma=Math.pow(xa,1-pa),Ua=Xe.unproject(En.add(On.mult(pa*Ma)).mult(va));Xe.setLocationAtPoint(Xe.renderWorldCopies?Ua.wrap():Ua,Gr)}ze._fireMoveEvents(ye)},function(pa){ze._afterEase(ye,pa)},ne),this},j.prototype._prepareEase=function(ne,ye,ze){ze===void 0&&(ze={}),this._moving=!0,!ye&&!ze.moving&&this.fire(new n.Event("movestart",ne)),this._zooming&&!ze.zooming&&this.fire(new n.Event("zoomstart",ne)),this._rotating&&!ze.rotating&&this.fire(new n.Event("rotatestart",ne)),this._pitching&&!ze.pitching&&this.fire(new n.Event("pitchstart",ne))},j.prototype._fireMoveEvents=function(ne){this.fire(new n.Event("move",ne)),this._zooming&&this.fire(new n.Event("zoom",ne)),this._rotating&&this.fire(new n.Event("rotate",ne)),this._pitching&&this.fire(new n.Event("pitch",ne))},j.prototype._afterEase=function(ne,ye){if(!(this._easeId&&ye&&this._easeId===ye)){delete this._easeId;var ze=this._zooming,Xe=this._rotating,st=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,ze&&this.fire(new n.Event("zoomend",ne)),Xe&&this.fire(new n.Event("rotateend",ne)),st&&this.fire(new n.Event("pitchend",ne)),this.fire(new n.Event("moveend",ne))}},j.prototype.flyTo=function(ne,ye){var ze=this;if(!ne.essential&&n.browser.prefersReducedMotion){var Xe=n.pick(ne,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Xe,ye)}this.stop(),ne=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},ne);var st=this.transform,mt=this.getZoom(),Bt=this.getBearing(),Jt=this.getPitch(),fr=this.getPadding(),mr="zoom"in ne?n.clamp(+ne.zoom,st.minZoom,st.maxZoom):mt,_r="bearing"in ne?this._normalizeBearing(ne.bearing,Bt):Bt,Wr="pitch"in ne?+ne.pitch:Jt,Yr="padding"in ne?ne.padding:st.padding,Gr=st.zoomScale(mr-mt),qr=n.Point.convert(ne.offset),un=st.centerPoint.add(qr),En=st.pointLocation(un),On=n.LngLat.convert(ne.center||En);this._normalizeCenter(On);var Xn=st.project(En),Kn=st.project(On).sub(Xn),jn=ne.curve,ia=Math.max(st.width,st.height),pa=ia/Gr,va=Kn.mag();if("minZoom"in ne){var xa=n.clamp(Math.min(ne.minZoom,mt,mr),st.minZoom,st.maxZoom),Ma=ia/st.zoomScale(xa-mt);jn=Math.sqrt(Ma/va*2)}var Ua=jn*jn;function Ja($a){var ci=(pa*pa-ia*ia+($a?-1:1)*Ua*Ua*va*va)/(2*($a?pa:ia)*Ua*va);return Math.log(Math.sqrt(ci*ci+1)-ci)}function wi($a){return(Math.exp($a)-Math.exp(-$a))/2}function qa($a){return(Math.exp($a)+Math.exp(-$a))/2}function oi($a){return wi($a)/qa($a)}var _a=Ja(0),Ti=function($a){return qa(_a)/qa(_a+jn*$a)},Mi=function($a){return ia*((qa(_a)*oi(_a+jn*$a)-wi(_a))/Ua)/va},Ei=(Ja(1)-_a)/jn;if(Math.abs(va)<1e-6||!isFinite(Ei)){if(Math.abs(ia-pa)<1e-6)return this.easeTo(ne,ye);var ui=pa<ia?-1:1;Ei=Math.abs(Math.log(pa/ia))/jn,Mi=function(){return 0},Ti=function($a){return Math.exp(ui*jn*$a)}}if("duration"in ne)ne.duration=+ne.duration;else{var Bi="screenSpeed"in ne?+ne.screenSpeed/jn:+ne.speed;ne.duration=1e3*Ei/Bi}return ne.maxDuration&&ne.duration>ne.maxDuration&&(ne.duration=0),this._zooming=!0,this._rotating=Bt!==_r,this._pitching=Wr!==Jt,this._padding=!st.isPaddingEqual(Yr),this._prepareEase(ye,!1),this._ease(function($a){var ci=$a*Ei,so=1/Ti(ci);st.zoom=$a===1?mr:mt+st.scaleZoom(so),ze._rotating&&(st.bearing=n.number(Bt,_r,$a)),ze._pitching&&(st.pitch=n.number(Jt,Wr,$a)),ze._padding&&(st.interpolatePadding(fr,Yr,$a),un=st.centerPoint.add(qr));var Co=$a===1?On:st.unproject(Xn.add(Kn.mult(Mi(ci))).mult(so));st.setLocationAtPoint(st.renderWorldCopies?Co.wrap():Co,un),ze._fireMoveEvents(ye)},function(){return ze._afterEase(ye)},ne),this},j.prototype.isEasing=function(){return!!this._easeFrameId},j.prototype.stop=function(){return this._stop()},j.prototype._stop=function(ne,ye){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var ze=this._onEaseEnd;delete this._onEaseEnd,ze.call(this,ye)}if(!ne){var Xe=this.handlers;Xe&&Xe.stop()}return this},j.prototype._ease=function(ne,ye,ze){ze.animate===!1||ze.duration===0?(ne(1),ye()):(this._easeStart=n.browser.now(),this._easeOptions=ze,this._onEaseFrame=ne,this._onEaseEnd=ye,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},j.prototype._renderFrameCallback=function(){var ne=Math.min((n.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(ne)),ne<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},j.prototype._normalizeBearing=function(ne,ye){ne=n.wrap(ne,-180,180);var ze=Math.abs(ne-ye);return Math.abs(ne-360-ye)<ze&&(ne-=360),Math.abs(ne+360-ye)<ze&&(ne+=360),ne},j.prototype._normalizeCenter=function(ne){var ye=this.transform;if(!(!ye.renderWorldCopies||ye.lngRange)){var ze=ne.lng-ye.center.lng;ne.lng+=ze>180?-360:ze<-180?360:0}},j}(n.Evented),hs=function(j){j===void 0&&(j={}),this.options=j,n.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};hs.prototype.getDefaultPosition=function(){return"bottom-right"},hs.prototype.onAdd=function(j){var ge=this.options&&this.options.compact;return this._map=j,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=y.create("div","mapboxgl-ctrl-attrib-inner",this._container),ge&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),ge===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},hs.prototype.onRemove=function(){y.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},hs.prototype._updateEditLink=function(){var j=this._editLink;j||(j=this._editLink=this._container.querySelector(".mapbox-improve-map"));var ge=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(j){var ne=ge.reduce(function(ye,ze,Xe){return ze.value&&(ye+=ze.key+"="+ze.value+(Xe<ge.length-1?"&":"")),ye},"?");j.href=n.config.FEEDBACK_URL+"/"+ne+(this._map._hash?this._map._hash.getHashString(!0):""),j.rel="noopener nofollow"}},hs.prototype._updateData=function(j){j&&(j.sourceDataType==="metadata"||j.dataType==="style")&&(this._updateAttributions(),this._updateEditLink())},hs.prototype._updateAttributions=function(){if(this._map.style){var j=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?j=j.concat(this.options.customAttribution.map(function(mt){return typeof mt!="string"?"":mt})):typeof this.options.customAttribution=="string"&&j.push(this.options.customAttribution)),this._map.style.stylesheet){var ge=this._map.style.stylesheet;this.styleOwner=ge.owner,this.styleId=ge.id}var ne=this._map.style.sourceCaches;for(var ye in ne){var ze=ne[ye];if(ze.used){var Xe=ze.getSource();Xe.attribution&&j.indexOf(Xe.attribution)<0&&j.push(Xe.attribution)}}j.sort(function(mt,Bt){return mt.length-Bt.length}),j=j.filter(function(mt,Bt){for(var Jt=Bt+1;Jt<j.length;Jt++)if(j[Jt].indexOf(mt)>=0)return!1;return!0});var st=j.join(" | ");st!==this._attribHTML&&(this._attribHTML=st,j.length?(this._innerContainer.innerHTML=st,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},hs.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var ii=function(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)};ii.prototype.onAdd=function(j){this._map=j,this._container=y.create("div","mapboxgl-ctrl");var ge=y.create("a","mapboxgl-ctrl-logo");return ge.target="_blank",ge.rel="noopener nofollow",ge.href="https://www.mapbox.com/",ge.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),ge.setAttribute("rel","noopener nofollow"),this._container.appendChild(ge),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ii.prototype.onRemove=function(){y.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ii.prototype.getDefaultPosition=function(){return"bottom-left"},ii.prototype._updateLogo=function(j){(!j||j.sourceDataType==="metadata")&&(this._container.style.display=this._logoRequired()?"block":"none")},ii.prototype._logoRequired=function(){if(this._map.style){var j=this._map.style.sourceCaches;for(var ge in j){var ne=j[ge].getSource();if(ne.mapbox_logo)return!0}return!1}},ii.prototype._updateCompact=function(){var j=this._container.children;if(j.length){var ge=j[0];this._map.getCanvasContainer().offsetWidth<250?ge.classList.add("mapboxgl-compact"):ge.classList.remove("mapboxgl-compact")}};var Oi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Oi.prototype.add=function(j){var ge=++this._id,ne=this._queue;return ne.push({callback:j,id:ge,cancelled:!1}),ge},Oi.prototype.remove=function(j){for(var ge=this._currentlyRunning,ne=ge?this._queue.concat(ge):this._queue,ye=0,ze=ne;ye<ze.length;ye+=1){var Xe=ze[ye];if(Xe.id===j){Xe.cancelled=!0;return}}},Oi.prototype.run=function(j){j===void 0&&(j=0);var ge=this._currentlyRunning=this._queue;this._queue=[];for(var ne=0,ye=ge;ne<ye.length;ne+=1){var ze=ye[ne];if(!ze.cancelled&&(ze.callback(j),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Oi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var qc={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},hc=n.window.HTMLImageElement,Zh=n.window.HTMLElement,Sf=n.window.ImageBitmap,eh=-2,Lv=22,Ms=0,Mf=60,kd={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:eh,maxZoom:Lv,minPitch:Ms,maxPitch:Mf,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},_d=function(ve){function j(ne){var ye=this;if(ne=n.extend({},kd,ne),ne.minZoom!=null&&ne.maxZoom!=null&&ne.minZoom>ne.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(ne.minPitch!=null&&ne.maxPitch!=null&&ne.minPitch>ne.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(ne.minPitch!=null&&ne.minPitch<Ms)throw new Error("minPitch must be greater than or equal to "+Ms);if(ne.maxPitch!=null&&ne.maxPitch>Mf)throw new Error("maxPitch must be less than or equal to "+Mf);var ze=new Tn(ne.minZoom,ne.maxZoom,ne.minPitch,ne.maxPitch,ne.renderWorldCopies);if(ve.call(this,ze,ne),this._interactive=ne.interactive,this._maxTileCacheSize=ne.maxTileCacheSize,this._failIfMajorPerformanceCaveat=ne.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=ne.preserveDrawingBuffer,this._antialias=ne.antialias,this._trackResize=ne.trackResize,this._bearingSnap=ne.bearingSnap,this._refreshExpiredTiles=ne.refreshExpiredTiles,this._fadeDuration=ne.fadeDuration,this._crossSourceCollisions=ne.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=ne.collectResourceTiming,this._renderTaskQueue=new Oi,this._controls=[],this._mapId=n.uniqueId(),this._locale=n.extend({},qc,ne.locale),this._requestManager=new n.RequestManager(ne.transformRequest,ne.accessToken),typeof ne.container=="string"){if(this._container=n.window.document.getElementById(ne.container),!this._container)throw new Error("Container '"+ne.container+"' not found.")}else if(ne.container instanceof Zh)this._container=ne.container;else throw new Error("Invalid type: 'container' must be a String or HTMLElement.");if(ne.maxBounds&&this.setMaxBounds(ne.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return ye._update(!1)}),this.on("moveend",function(){return ye._update(!1)}),this.on("zoom",function(){return ye._update(!0)}),typeof n.window<"u"&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new Ri(this,ne);var Xe=typeof ne.hash=="string"&&ne.hash||void 0;this._hash=ne.hash&&new ka(Xe).addTo(this),(!this._hash||!this._hash._onHashChange())&&(this.jumpTo({center:ne.center,zoom:ne.zoom,bearing:ne.bearing,pitch:ne.pitch}),ne.bounds&&(this.resize(),this.fitBounds(ne.bounds,n.extend({},ne.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=ne.localIdeographFontFamily,ne.style&&this.setStyle(ne.style,{localIdeographFontFamily:ne.localIdeographFontFamily}),ne.attributionControl&&this.addControl(new hs({customAttribution:ne.customAttribution})),this.addControl(new ii,ne.logoPosition),this.on("style.load",function(){ye.transform.unmodified&&ye.jumpTo(ye.style.stylesheet)}),this.on("data",function(st){ye._update(st.dataType==="style"),ye.fire(new n.Event(st.dataType+"data",st))}),this.on("dataloading",function(st){ye.fire(new n.Event(st.dataType+"dataloading",st))})}ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j;var ge={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return j.prototype._getMapId=function(){return this._mapId},j.prototype.addControl=function(ye,ze){if(ze===void 0&&ye.getDefaultPosition&&(ze=ye.getDefaultPosition()),ze===void 0&&(ze="top-right"),!ye||!ye.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Xe=ye.onAdd(this);this._controls.push(ye);var st=this._controlPositions[ze];return ze.indexOf("bottom")!==-1?st.insertBefore(Xe,st.firstChild):st.appendChild(Xe),this},j.prototype.removeControl=function(ye){if(!ye||!ye.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var ze=this._controls.indexOf(ye);return ze>-1&&this._controls.splice(ze,1),ye.onRemove(this),this},j.prototype.resize=function(ye){var ze=this._containerDimensions(),Xe=ze[0],st=ze[1];this._resizeCanvas(Xe,st),this.transform.resize(Xe,st),this.painter.resize(Xe,st);var mt=!this._moving;return mt&&(this.stop(),this.fire(new n.Event("movestart",ye)).fire(new n.Event("move",ye))),this.fire(new n.Event("resize",ye)),mt&&this.fire(new n.Event("moveend",ye)),this},j.prototype.getBounds=function(){return this.transform.getBounds()},j.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},j.prototype.setMaxBounds=function(ye){return this.transform.setMaxBounds(n.LngLatBounds.convert(ye)),this._update()},j.prototype.setMinZoom=function(ye){if(ye=ye??eh,ye>=eh&&ye<=this.transform.maxZoom)return this.transform.minZoom=ye,this._update(),this.getZoom()<ye&&this.setZoom(ye),this;throw new Error("minZoom must be between "+eh+" and the current maxZoom, inclusive")},j.prototype.getMinZoom=function(){return this.transform.minZoom},j.prototype.setMaxZoom=function(ye){if(ye=ye??Lv,ye>=this.transform.minZoom)return this.transform.maxZoom=ye,this._update(),this.getZoom()>ye&&this.setZoom(ye),this;throw new Error("maxZoom must be greater than the current minZoom")},j.prototype.getMaxZoom=function(){return this.transform.maxZoom},j.prototype.setMinPitch=function(ye){if(ye=ye??Ms,ye<Ms)throw new Error("minPitch must be greater than or equal to "+Ms);if(ye>=Ms&&ye<=this.transform.maxPitch)return this.transform.minPitch=ye,this._update(),this.getPitch()<ye&&this.setPitch(ye),this;throw new Error("minPitch must be between "+Ms+" and the current maxPitch, inclusive")},j.prototype.getMinPitch=function(){return this.transform.minPitch},j.prototype.setMaxPitch=function(ye){if(ye=ye??Mf,ye>Mf)throw new Error("maxPitch must be less than or equal to "+Mf);if(ye>=this.transform.minPitch)return this.transform.maxPitch=ye,this._update(),this.getPitch()>ye&&this.setPitch(ye),this;throw new Error("maxPitch must be greater than the current minPitch")},j.prototype.getMaxPitch=function(){return this.transform.maxPitch},j.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},j.prototype.setRenderWorldCopies=function(ye){return this.transform.renderWorldCopies=ye,this._update()},j.prototype.project=function(ye){return this.transform.locationPoint(n.LngLat.convert(ye))},j.prototype.unproject=function(ye){return this.transform.pointLocation(n.Point.convert(ye))},j.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},j.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},j.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},j.prototype._createDelegatedListener=function(ye,ze,Xe){var st=this,mt;if(ye==="mouseenter"||ye==="mouseover"){var Bt=!1,Jt=function(Gr){var qr=st.getLayer(ze)?st.queryRenderedFeatures(Gr.point,{layers:[ze]}):[];qr.length?Bt||(Bt=!0,Xe.call(st,new Ue(ye,st,Gr.originalEvent,{features:qr}))):Bt=!1},fr=function(){Bt=!1};return{layer:ze,listener:Xe,delegates:{mousemove:Jt,mouseout:fr}}}else if(ye==="mouseleave"||ye==="mouseout"){var mr=!1,_r=function(Gr){var qr=st.getLayer(ze)?st.queryRenderedFeatures(Gr.point,{layers:[ze]}):[];qr.length?mr=!0:mr&&(mr=!1,Xe.call(st,new Ue(ye,st,Gr.originalEvent)))},Wr=function(Gr){mr&&(mr=!1,Xe.call(st,new Ue(ye,st,Gr.originalEvent)))};return{layer:ze,listener:Xe,delegates:{mousemove:_r,mouseout:Wr}}}else{var Yr=function(Gr){var qr=st.getLayer(ze)?st.queryRenderedFeatures(Gr.point,{layers:[ze]}):[];qr.length&&(Gr.features=qr,Xe.call(st,Gr),delete Gr.features)};return{layer:ze,listener:Xe,delegates:(mt={},mt[ye]=Yr,mt)}}},j.prototype.on=function(ye,ze,Xe){if(Xe===void 0)return ve.prototype.on.call(this,ye,ze);var st=this._createDelegatedListener(ye,ze,Xe);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[ye]=this._delegatedListeners[ye]||[],this._delegatedListeners[ye].push(st);for(var mt in st.delegates)this.on(mt,st.delegates[mt]);return this},j.prototype.once=function(ye,ze,Xe){if(Xe===void 0)return ve.prototype.once.call(this,ye,ze);var st=this._createDelegatedListener(ye,ze,Xe);for(var mt in st.delegates)this.once(mt,st.delegates[mt]);return this},j.prototype.off=function(ye,ze,Xe){var st=this;if(Xe===void 0)return ve.prototype.off.call(this,ye,ze);var mt=function(Bt){for(var Jt=Bt[ye],fr=0;fr<Jt.length;fr++){var mr=Jt[fr];if(mr.layer===ze&&mr.listener===Xe){for(var _r in mr.delegates)st.off(_r,mr.delegates[_r]);return Jt.splice(fr,1),st}}};return this._delegatedListeners&&this._delegatedListeners[ye]&&mt(this._delegatedListeners),this},j.prototype.queryRenderedFeatures=function(ye,ze){if(!this.style)return[];ze===void 0&&ye!==void 0&&!(ye instanceof n.Point)&&!Array.isArray(ye)&&(ze=ye,ye=void 0),ze=ze||{},ye=ye||[[0,0],[this.transform.width,this.transform.height]];var Xe;if(ye instanceof n.Point||typeof ye[0]=="number")Xe=[n.Point.convert(ye)];else{var st=n.Point.convert(ye[0]),mt=n.Point.convert(ye[1]);Xe=[st,new n.Point(mt.x,st.y),mt,new n.Point(st.x,mt.y),st]}return this.style.queryRenderedFeatures(Xe,ze,this.transform)},j.prototype.querySourceFeatures=function(ye,ze){return this.style.querySourceFeatures(ye,ze)},j.prototype.setStyle=function(ye,ze){return ze=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},ze),ze.diff!==!1&&ze.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&ye?(this._diffStyle(ye,ze),this):(this._localIdeographFontFamily=ze.localIdeographFontFamily,this._updateStyle(ye,ze))},j.prototype._getUIString=function(ye){var ze=this._locale[ye];if(ze==null)throw new Error("Missing UI string '"+ye+"'");return ze},j.prototype._updateStyle=function(ye,ze){if(this.style&&(this.style.setEventedParent(null),this.style._remove()),ye)this.style=new No(this,ze||{});else return delete this.style,this;return this.style.setEventedParent(this,{style:this.style}),typeof ye=="string"?this.style.loadURL(ye):this.style.loadJSON(ye),this},j.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new No(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},j.prototype._diffStyle=function(ye,ze){var Xe=this;if(typeof ye=="string"){var st=this._requestManager.normalizeStyleURL(ye),mt=this._requestManager.transformRequest(st,n.ResourceType.Style);n.getJSON(mt,function(Bt,Jt){Bt?Xe.fire(new n.ErrorEvent(Bt)):Jt&&Xe._updateDiff(Jt,ze)})}else typeof ye=="object"&&this._updateDiff(ye,ze)},j.prototype._updateDiff=function(ye,ze){try{this.style.setState(ye)&&this._update(!0)}catch(Xe){n.warnOnce("Unable to perform style diff: "+(Xe.message||Xe.error||Xe)+".  Rebuilding the style from scratch."),this._updateStyle(ye,ze)}},j.prototype.getStyle=function(){if(this.style)return this.style.serialize()},j.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},j.prototype.addSource=function(ye,ze){return this._lazyInitEmptyStyle(),this.style.addSource(ye,ze),this._update(!0)},j.prototype.isSourceLoaded=function(ye){var ze=this.style&&this.style.sourceCaches[ye];if(ze===void 0){this.fire(new n.ErrorEvent(new Error("There is no source with ID '"+ye+"'")));return}return ze.loaded()},j.prototype.areTilesLoaded=function(){var ye=this.style&&this.style.sourceCaches;for(var ze in ye){var Xe=ye[ze],st=Xe._tiles;for(var mt in st){var Bt=st[mt];if(!(Bt.state==="loaded"||Bt.state==="errored"))return!1}}return!0},j.prototype.addSourceType=function(ye,ze,Xe){return this._lazyInitEmptyStyle(),this.style.addSourceType(ye,ze,Xe)},j.prototype.removeSource=function(ye){return this.style.removeSource(ye),this._update(!0)},j.prototype.getSource=function(ye){return this.style.getSource(ye)},j.prototype.addImage=function(ye,ze,Xe){Xe===void 0&&(Xe={});var st=Xe.pixelRatio;st===void 0&&(st=1);var mt=Xe.sdf;mt===void 0&&(mt=!1);var Bt=Xe.stretchX,Jt=Xe.stretchY,fr=Xe.content;this._lazyInitEmptyStyle();var mr=0;if(ze instanceof hc||Sf&&ze instanceof Sf){var _r=n.browser.getImageData(ze),Wr=_r.width,Yr=_r.height,Gr=_r.data;this.style.addImage(ye,{data:new n.RGBAImage({width:Wr,height:Yr},Gr),pixelRatio:st,stretchX:Bt,stretchY:Jt,content:fr,sdf:mt,version:mr})}else{if(ze.width===void 0||ze.height===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var qr=ze.width,un=ze.height,En=ze.data,On=ze;this.style.addImage(ye,{data:new n.RGBAImage({width:qr,height:un},new Uint8Array(En)),pixelRatio:st,stretchX:Bt,stretchY:Jt,content:fr,sdf:mt,version:mr,userImage:On}),On.onAdd&&On.onAdd(this,ye)}},j.prototype.updateImage=function(ye,ze){var Xe=this.style.getImage(ye);if(!Xe)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var st=ze instanceof hc||Sf&&ze instanceof Sf?n.browser.getImageData(ze):ze,mt=st.width,Bt=st.height,Jt=st.data;if(mt===void 0||Bt===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(mt!==Xe.data.width||Bt!==Xe.data.height)return this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var fr=!(ze instanceof hc||Sf&&ze instanceof Sf);Xe.data.replace(Jt,fr),this.style.updateImage(ye,Xe)},j.prototype.hasImage=function(ye){return ye?!!this.style.getImage(ye):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)},j.prototype.removeImage=function(ye){this.style.removeImage(ye)},j.prototype.loadImage=function(ye,ze){n.getImage(this._requestManager.transformRequest(ye,n.ResourceType.Image),ze)},j.prototype.listImages=function(){return this.style.listImages()},j.prototype.addLayer=function(ye,ze){return this._lazyInitEmptyStyle(),this.style.addLayer(ye,ze),this._update(!0)},j.prototype.moveLayer=function(ye,ze){return this.style.moveLayer(ye,ze),this._update(!0)},j.prototype.removeLayer=function(ye){return this.style.removeLayer(ye),this._update(!0)},j.prototype.getLayer=function(ye){return this.style.getLayer(ye)},j.prototype.setLayerZoomRange=function(ye,ze,Xe){return this.style.setLayerZoomRange(ye,ze,Xe),this._update(!0)},j.prototype.setFilter=function(ye,ze,Xe){return Xe===void 0&&(Xe={}),this.style.setFilter(ye,ze,Xe),this._update(!0)},j.prototype.getFilter=function(ye){return this.style.getFilter(ye)},j.prototype.setPaintProperty=function(ye,ze,Xe,st){return st===void 0&&(st={}),this.style.setPaintProperty(ye,ze,Xe,st),this._update(!0)},j.prototype.getPaintProperty=function(ye,ze){return this.style.getPaintProperty(ye,ze)},j.prototype.setLayoutProperty=function(ye,ze,Xe,st){return st===void 0&&(st={}),this.style.setLayoutProperty(ye,ze,Xe,st),this._update(!0)},j.prototype.getLayoutProperty=function(ye,ze){return this.style.getLayoutProperty(ye,ze)},j.prototype.setLight=function(ye,ze){return ze===void 0&&(ze={}),this._lazyInitEmptyStyle(),this.style.setLight(ye,ze),this._update(!0)},j.prototype.getLight=function(){return this.style.getLight()},j.prototype.setFeatureState=function(ye,ze){return this.style.setFeatureState(ye,ze),this._update()},j.prototype.removeFeatureState=function(ye,ze){return this.style.removeFeatureState(ye,ze),this._update()},j.prototype.getFeatureState=function(ye){return this.style.getFeatureState(ye)},j.prototype.getContainer=function(){return this._container},j.prototype.getCanvasContainer=function(){return this._canvasContainer},j.prototype.getCanvas=function(){return this._canvas},j.prototype._containerDimensions=function(){var ye=0,ze=0;return this._container&&(ye=this._container.clientWidth||400,ze=this._container.clientHeight||300),[ye,ze]},j.prototype._detectMissingCSS=function(){var ye=n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color");ye!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},j.prototype._setupContainer=function(){var ye=this._container;ye.classList.add("mapboxgl-map");var ze=this._missingCSSCanary=y.create("div","mapboxgl-canary",ye);ze.style.visibility="hidden",this._detectMissingCSS();var Xe=this._canvasContainer=y.create("div","mapboxgl-canvas-container",ye);this._interactive&&Xe.classList.add("mapboxgl-interactive"),this._canvas=y.create("canvas","mapboxgl-canvas",Xe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var st=this._containerDimensions();this._resizeCanvas(st[0],st[1]);var mt=this._controlContainer=y.create("div","mapboxgl-control-container",ye),Bt=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(Jt){Bt[Jt]=y.create("div","mapboxgl-ctrl-"+Jt,mt)})},j.prototype._resizeCanvas=function(ye,ze){var Xe=n.browser.devicePixelRatio||1;this._canvas.width=Xe*ye,this._canvas.height=Xe*ze,this._canvas.style.width=ye+"px",this._canvas.style.height=ze+"px"},j.prototype._setupPainter=function(){var ye=n.extend({},C.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),ze=this._canvas.getContext("webgl",ye)||this._canvas.getContext("experimental-webgl",ye);if(!ze){this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")));return}this.painter=new Ir(ze,this.transform),n.webpSupported.testSupport(ze)},j.prototype._contextLost=function(ye){ye.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:ye}))},j.prototype._contextRestored=function(ye){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:ye}))},j.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},j.prototype._update=function(ye){return this.style?(this._styleDirty=this._styleDirty||ye,this._sourcesDirty=!0,this.triggerRepaint(),this):this},j.prototype._requestRenderFrame=function(ye){return this._update(),this._renderTaskQueue.add(ye)},j.prototype._cancelRenderFrame=function(ye){this._renderTaskQueue.remove(ye)},j.prototype._render=function(ye){var ze=this,Xe,st=0,mt=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(Xe=mt.createQueryEXT(),mt.beginQueryEXT(mt.TIME_ELAPSED_EXT,Xe),st=n.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(ye),!this._removed){var Bt=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var Jt=this.transform.zoom,fr=n.browser.now();this.style.zoomHistory.update(Jt,fr);var mr=new n.EvaluationParameters(Jt,{now:fr,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),_r=mr.crossFadingFactor();(_r!==1||_r!==this._crossFadingFactor)&&(Bt=!0,this._crossFadingFactor=_r),this.style.update(mr)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||Bt)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var Wr=n.browser.now()-st;mt.endQueryEXT(mt.TIME_ELAPSED_EXT,Xe),setTimeout(function(){var qr=mt.getQueryObjectEXT(Xe,mt.QUERY_RESULT_EXT)/1e6;mt.deleteQueryEXT(Xe),ze.fire(new n.Event("gpu-timing-frame",{cpuTime:Wr,gpuTime:qr}))},50)}if(this.listens("gpu-timing-layer")){var Yr=this.painter.collectGpuTimers();setTimeout(function(){var qr=ze.painter.queryGpuTimers(Yr);ze.fire(new n.Event("gpu-timing-layer",{layerTimes:qr}))},50)}var Gr=this._sourcesDirty||this._styleDirty||this._placementDirty;return Gr||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new n.Event("idle"))),this}},j.prototype.remove=function(){this._hash&&this._hash.remove();for(var ye=0,ze=this._controls;ye<ze.length;ye+=1){var Xe=ze[ye];Xe.onRemove(this)}this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof n.window<"u"&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));var st=this.painter.context.gl.getExtension("WEBGL_lose_context");st&&st.loseContext(),Xh(this._canvasContainer),Xh(this._controlContainer),Xh(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new n.Event("remove"))},j.prototype.triggerRepaint=function(){var ye=this;this.style&&!this._frame&&(this._frame=n.browser.frame(function(ze){ye._frame=null,ye._render(ze)}))},j.prototype._onWindowOnline=function(){this._update()},j.prototype._onWindowResize=function(ye){this._trackResize&&this.resize({originalEvent:ye})._update()},ge.showTileBoundaries.get=function(){return!!this._showTileBoundaries},ge.showTileBoundaries.set=function(ne){this._showTileBoundaries!==ne&&(this._showTileBoundaries=ne,this._update())},ge.showPadding.get=function(){return!!this._showPadding},ge.showPadding.set=function(ne){this._showPadding!==ne&&(this._showPadding=ne,this._update())},ge.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},ge.showCollisionBoxes.set=function(ne){this._showCollisionBoxes!==ne&&(this._showCollisionBoxes=ne,ne?this.style._generateCollisionBoxes():this._update())},ge.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},ge.showOverdrawInspector.set=function(ne){this._showOverdrawInspector!==ne&&(this._showOverdrawInspector=ne,this._update())},ge.repaint.get=function(){return!!this._repaint},ge.repaint.set=function(ne){this._repaint!==ne&&(this._repaint=ne,this.triggerRepaint())},ge.vertices.get=function(){return!!this._vertices},ge.vertices.set=function(ne){this._vertices=ne,this._update()},j.prototype._setCacheLimits=function(ye,ze){n.setCacheLimits(ye,ze)},ge.version.get=function(){return n.version},Object.defineProperties(j.prototype,ge),j}(Vs);function Xh(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}var Pv={showCompass:!0,showZoom:!0,visualizePitch:!1},Zu=function(j){var ge=this;this.options=n.extend({},Pv,j),this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(ne){return ne.preventDefault()}),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(ne){return ge._map.zoomIn({},{originalEvent:ne})}),y.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(ne){return ge._map.zoomOut({},{originalEvent:ne})}),y.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(ne){ge.options.visualizePitch?ge._map.resetNorthPitch({},{originalEvent:ne}):ge._map.resetNorth({},{originalEvent:ne})}),this._compassIcon=y.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Zu.prototype._updateZoomButtons=function(){var j=this._map.getZoom();this._zoomInButton.disabled=j===this._map.getMaxZoom(),this._zoomOutButton.disabled=j===this._map.getMinZoom()},Zu.prototype._rotateCompassArrow=function(){var j=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=j},Zu.prototype.onAdd=function(j){return this._map=j,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Us(this._map,this._compass,this.options.visualizePitch)),this._container},Zu.prototype.onRemove=function(){y.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Zu.prototype._createButton=function(j,ge){var ne=y.create("button",j,this._container);return ne.type="button",ne.addEventListener("click",ge),ne},Zu.prototype._setButtonTitle=function(j,ge){var ne=this._map._getUIString("NavigationControl."+ge);j.title=ne,j.setAttribute("aria-label",ne)};var Us=function(j,ge,ne){ne===void 0&&(ne=!1),this._clickTolerance=10,this.element=ge,this.mouseRotate=new Kr({clickTolerance:j.dragRotate._mouseRotate._clickTolerance}),this.map=j,ne&&(this.mousePitch=new Vn({clickTolerance:j.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),y.addEventListener(ge,"mousedown",this.mousedown),y.addEventListener(ge,"touchstart",this.touchstart,{passive:!1}),y.addEventListener(ge,"touchmove",this.touchmove),y.addEventListener(ge,"touchend",this.touchend),y.addEventListener(ge,"touchcancel",this.reset)};Us.prototype.down=function(j,ge){this.mouseRotate.mousedown(j,ge),this.mousePitch&&this.mousePitch.mousedown(j,ge),y.disableDrag()},Us.prototype.move=function(j,ge){var ne=this.map,ye=this.mouseRotate.mousemoveWindow(j,ge);if(ye&&ye.bearingDelta&&ne.setBearing(ne.getBearing()+ye.bearingDelta),this.mousePitch){var ze=this.mousePitch.mousemoveWindow(j,ge);ze&&ze.pitchDelta&&ne.setPitch(ne.getPitch()+ze.pitchDelta)}},Us.prototype.off=function(){var j=this.element;y.removeEventListener(j,"mousedown",this.mousedown),y.removeEventListener(j,"touchstart",this.touchstart,{passive:!1}),y.removeEventListener(j,"touchmove",this.touchmove),y.removeEventListener(j,"touchend",this.touchend),y.removeEventListener(j,"touchcancel",this.reset),this.offTemp()},Us.prototype.offTemp=function(){y.enableDrag(),y.removeEventListener(n.window,"mousemove",this.mousemove),y.removeEventListener(n.window,"mouseup",this.mouseup)},Us.prototype.mousedown=function(j){this.down(n.extend({},j,{ctrlKey:!0,preventDefault:function(){return j.preventDefault()}}),y.mousePos(this.element,j)),y.addEventListener(n.window,"mousemove",this.mousemove),y.addEventListener(n.window,"mouseup",this.mouseup)},Us.prototype.mousemove=function(j){this.move(j,y.mousePos(this.element,j))},Us.prototype.mouseup=function(j){this.mouseRotate.mouseupWindow(j),this.mousePitch&&this.mousePitch.mouseupWindow(j),this.offTemp()},Us.prototype.touchstart=function(j){j.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=y.touchPos(this.element,j.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return j.preventDefault()}},this._startPos))},Us.prototype.touchmove=function(j){j.targetTouches.length!==1?this.reset():(this._lastPos=y.touchPos(this.element,j.targetTouches)[0],this.move({preventDefault:function(){return j.preventDefault()}},this._lastPos))},Us.prototype.touchend=function(j){j.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Us.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};function Xu(ve,j,ge){if(ve=new n.LngLat(ve.lng,ve.lat),j){var ne=new n.LngLat(ve.lng-360,ve.lat),ye=new n.LngLat(ve.lng+360,ve.lat),ze=ge.locationPoint(ve).distSqr(j);ge.locationPoint(ne).distSqr(j)<ze?ve=ne:ge.locationPoint(ye).distSqr(j)<ze&&(ve=ye)}for(;Math.abs(ve.lng-ge.center.lng)>180;){var Xe=ge.locationPoint(ve);if(Xe.x>=0&&Xe.y>=0&&Xe.x<=ge.width&&Xe.y<=ge.height)break;ve.lng>ge.center.lng?ve.lng-=360:ve.lng+=360}return ve}var jh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Rv(ve,j,ge){var ne=ve.classList;for(var ye in jh)ne.remove("mapboxgl-"+ge+"-anchor-"+ye);ne.add("mapboxgl-"+ge+"-anchor-"+j)}var th=function(ve){function j(ge,ne){var ye=this;if(ve.call(this),(ge instanceof n.window.HTMLElement||ne)&&(ge=n.extend({element:ge},ne)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=ge&&ge.anchor||"center",this._color=ge&&ge.color||"#3FB1CE",this._draggable=ge&&ge.draggable||!1,this._state="inactive",this._rotation=ge&&ge.rotation||0,this._rotationAlignment=ge&&ge.rotationAlignment||"auto",this._pitchAlignment=ge&&ge.pitchAlignment&&ge.pitchAlignment!=="auto"?ge.pitchAlignment:this._rotationAlignment,!ge||!ge.element){this._defaultMarker=!0,this._element=y.create("div"),this._element.setAttribute("aria-label","Map marker");var ze=y.createNS("http://www.w3.org/2000/svg","svg");ze.setAttributeNS(null,"display","block"),ze.setAttributeNS(null,"height","41px"),ze.setAttributeNS(null,"width","27px"),ze.setAttributeNS(null,"viewBox","0 0 27 41");var Xe=y.createNS("http://www.w3.org/2000/svg","g");Xe.setAttributeNS(null,"stroke","none"),Xe.setAttributeNS(null,"stroke-width","1"),Xe.setAttributeNS(null,"fill","none"),Xe.setAttributeNS(null,"fill-rule","evenodd");var st=y.createNS("http://www.w3.org/2000/svg","g");st.setAttributeNS(null,"fill-rule","nonzero");var mt=y.createNS("http://www.w3.org/2000/svg","g");mt.setAttributeNS(null,"transform","translate(3.0, 29.0)"),mt.setAttributeNS(null,"fill","#000000");for(var Bt=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}],Jt=0,fr=Bt;Jt<fr.length;Jt+=1){var mr=fr[Jt],_r=y.createNS("http://www.w3.org/2000/svg","ellipse");_r.setAttributeNS(null,"opacity","0.04"),_r.setAttributeNS(null,"cx","10.5"),_r.setAttributeNS(null,"cy","5.80029008"),_r.setAttributeNS(null,"rx",mr.rx),_r.setAttributeNS(null,"ry",mr.ry),mt.appendChild(_r)}var Wr=y.createNS("http://www.w3.org/2000/svg","g");Wr.setAttributeNS(null,"fill",this._color);var Yr=y.createNS("http://www.w3.org/2000/svg","path");Yr.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),Wr.appendChild(Yr);var Gr=y.createNS("http://www.w3.org/2000/svg","g");Gr.setAttributeNS(null,"opacity","0.25"),Gr.setAttributeNS(null,"fill","#000000");var qr=y.createNS("http://www.w3.org/2000/svg","path");qr.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Gr.appendChild(qr);var un=y.createNS("http://www.w3.org/2000/svg","g");un.setAttributeNS(null,"transform","translate(6.0, 7.0)"),un.setAttributeNS(null,"fill","#FFFFFF");var En=y.createNS("http://www.w3.org/2000/svg","g");En.setAttributeNS(null,"transform","translate(8.0, 8.0)");var On=y.createNS("http://www.w3.org/2000/svg","circle");On.setAttributeNS(null,"fill","#000000"),On.setAttributeNS(null,"opacity","0.25"),On.setAttributeNS(null,"cx","5.5"),On.setAttributeNS(null,"cy","5.5"),On.setAttributeNS(null,"r","5.4999962");var Xn=y.createNS("http://www.w3.org/2000/svg","circle");Xn.setAttributeNS(null,"fill","#FFFFFF"),Xn.setAttributeNS(null,"cx","5.5"),Xn.setAttributeNS(null,"cy","5.5"),Xn.setAttributeNS(null,"r","5.4999962"),En.appendChild(On),En.appendChild(Xn),st.appendChild(mt),st.appendChild(Wr),st.appendChild(Gr),st.appendChild(un),st.appendChild(En),ze.appendChild(st),this._element.appendChild(ze),this._offset=n.Point.convert(ge&&ge.offset||[0,-14])}else this._element=ge.element,this._offset=n.Point.convert(ge&&ge.offset||[0,0]);this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Kn){Kn.preventDefault()}),this._element.addEventListener("mousedown",function(Kn){Kn.preventDefault()}),this._element.addEventListener("focus",function(){var Kn=ye._map.getContainer();Kn.scrollTop=0,Kn.scrollLeft=0}),Rv(this._element,this._anchor,"marker"),this._popup=null}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.addTo=function(ne){return this.remove(),this._map=ne,ne.getCanvasContainer().appendChild(this._element),ne.on("move",this._update),ne.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},j.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),y.remove(this._element),this._popup&&this._popup.remove(),this},j.prototype.getLngLat=function(){return this._lngLat},j.prototype.setLngLat=function(ne){return this._lngLat=n.LngLat.convert(ne),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},j.prototype.getElement=function(){return this._element},j.prototype.setPopup=function(ne){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),ne){if(!("offset"in ne.options)){var ye=38.1,ze=13.5,Xe=Math.sqrt(Math.pow(ze,2)/2);ne.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-ye],"bottom-left":[Xe,(ye-ze+Xe)*-1],"bottom-right":[-Xe,(ye-ze+Xe)*-1],left:[ze,(ye-ze)*-1],right:[-ze,(ye-ze)*-1]}:this._offset}this._popup=ne,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},j.prototype._onKeyPress=function(ne){var ye=ne.code,ze=ne.charCode||ne.keyCode;(ye==="Space"||ye==="Enter"||ze===32||ze===13)&&this.togglePopup()},j.prototype._onMapClick=function(ne){var ye=ne.originalEvent.target,ze=this._element;this._popup&&(ye===ze||ze.contains(ye))&&this.togglePopup()},j.prototype.getPopup=function(){return this._popup},j.prototype.togglePopup=function(){var ne=this._popup;if(ne)ne.isOpen()?ne.remove():ne.addTo(this._map);else return this;return this},j.prototype._update=function(ne){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Xu(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var ye="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?ye="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(ye="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var ze="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?ze="rotateX(0deg)":this._pitchAlignment==="map"&&(ze="rotateX("+this._map.getPitch()+"deg)"),(!ne||ne.type==="moveend")&&(this._pos=this._pos.round()),y.setTransform(this._element,jh[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+ze+" "+ye)}},j.prototype.getOffset=function(){return this._offset},j.prototype.setOffset=function(ne){return this._offset=n.Point.convert(ne),this._update(),this},j.prototype._onMove=function(ne){this._pos=ne.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag"))},j.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"},j.prototype._addDragHandler=function(ne){this._element.contains(ne.originalEvent.target)&&(ne.preventDefault(),this._positionDelta=ne.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},j.prototype.setDraggable=function(ne){return this._draggable=!!ne,this._map&&(ne?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},j.prototype.isDraggable=function(){return this._draggable},j.prototype.setRotation=function(ne){return this._rotation=ne||0,this._update(),this},j.prototype.getRotation=function(){return this._rotation},j.prototype.setRotationAlignment=function(ne){return this._rotationAlignment=ne||"auto",this._update(),this},j.prototype.getRotationAlignment=function(){return this._rotationAlignment},j.prototype.setPitchAlignment=function(ne){return this._pitchAlignment=ne&&ne!=="auto"?ne:this._rotationAlignment,this._update(),this},j.prototype.getPitchAlignment=function(){return this._pitchAlignment},j}(n.Evented),Fd={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Cf;function Kh(ve){Cf!==void 0?ve(Cf):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(function(j){Cf=j.state!=="denied",ve(Cf)}):(Cf=!!n.window.navigator.geolocation,ve(Cf))}var rh=0,Ef=!1,zd=function(ve){function j(ge){ve.call(this),this.options=n.extend({},Fd,ge),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.onAdd=function(ne){return this._map=ne,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),Kh(this._setupUI),this._container},j.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),y.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,rh=0,Ef=!1},j.prototype._isOutOfMapMaxBounds=function(ne){var ye=this._map.getMaxBounds(),ze=ne.coords;return ye&&(ze.longitude<ye.getWest()||ze.longitude>ye.getEast()||ze.latitude<ye.getSouth()||ze.latitude>ye.getNorth())},j.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break}},j.prototype._onSuccess=function(ne){if(this._map){if(this._isOutOfMapMaxBounds(ne)){this._setErrorState(),this.fire(new n.Event("outofmaxbounds",ne)),this._updateMarker(),this._finish();return}if(this.options.trackUserLocation)switch(this._lastKnownPosition=ne,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(ne),(!this.options.trackUserLocation||this._watchState==="ACTIVE_LOCK")&&this._updateCamera(ne),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",ne)),this._finish()}},j.prototype._updateCamera=function(ne){var ye=new n.LngLat(ne.coords.longitude,ne.coords.latitude),ze=ne.coords.accuracy,Xe=this._map.getBearing(),st=n.extend({bearing:Xe},this.options.fitBoundsOptions);this._map.fitBounds(ye.toBounds(ze),st,{geolocateSource:!0})},j.prototype._updateMarker=function(ne){if(ne){var ye=new n.LngLat(ne.coords.longitude,ne.coords.latitude);this._accuracyCircleMarker.setLngLat(ye).addTo(this._map),this._userLocationDotMarker.setLngLat(ye).addTo(this._map),this._accuracy=ne.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},j.prototype._updateCircleRadius=function(){var ne=this._map._container.clientHeight/2,ye=this._map.unproject([0,ne]),ze=this._map.unproject([1,ne]),Xe=ye.distanceTo(ze),st=Math.ceil(2*this._accuracy/Xe);this._circleElement.style.width=st+"px",this._circleElement.style.height=st+"px"},j.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},j.prototype._onError=function(ne){if(this._map){if(this.options.trackUserLocation)if(ne.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var ye=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=ye,this._geolocateButton.setAttribute("aria-label",ye),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(ne.code===3&&Ef)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",ne)),this._finish()}},j.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},j.prototype._setupUI=function(ne){var ye=this;if(this._container.addEventListener("contextmenu",function(st){return st.preventDefault()}),this._geolocateButton=y.create("button","mapboxgl-ctrl-geolocate",this._container),y.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",ne===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var ze=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=ze,this._geolocateButton.setAttribute("aria-label",ze)}else{var Xe=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Xe,this._geolocateButton.setAttribute("aria-label",Xe)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new th(this._dotElement),this._circleElement=y.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new th({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(st){var mt=st.originalEvent&&st.originalEvent.type==="resize";!st.geolocateSource&&ye._watchState==="ACTIVE_LOCK"&&!mt&&(ye._watchState="BACKGROUND",ye._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),ye._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),ye.fire(new n.Event("trackuserlocationend")))})},j.prototype.trigger=function(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":rh--,Ef=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"));break}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error");break}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),rh++;var ne;rh>1?(ne={maximumAge:6e5,timeout:0},Ef=!0):(ne=this.options.positionOptions,Ef=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,ne)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},j.prototype._clearWatch=function(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},j}(n.Evented),H0={maxWidth:100,unit:"metric"},Lf=function(j){this.options=n.extend({},H0,j),n.bindAll(["_onMove","setUnit"],this)};Lf.prototype.getDefaultPosition=function(){return"bottom-left"},Lf.prototype._onMove=function(){Od(this._map,this._container,this.options)},Lf.prototype.onAdd=function(j){return this._map=j,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",j.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},Lf.prototype.onRemove=function(){y.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},Lf.prototype.setUnit=function(j){this.options.unit=j,Od(this._map,this._container,this.options)};function Od(ve,j,ge){var ne=ge&&ge.maxWidth||100,ye=ve._container.clientHeight/2,ze=ve.unproject([0,ye]),Xe=ve.unproject([ne,ye]),st=ze.distanceTo(Xe);if(ge&&ge.unit==="imperial"){var mt=3.2808*st;if(mt>5280){var Bt=mt/5280;nh(j,ne,Bt,ve._getUIString("ScaleControl.Miles"))}else nh(j,ne,mt,ve._getUIString("ScaleControl.Feet"))}else if(ge&&ge.unit==="nautical"){var Jt=st/1852;nh(j,ne,Jt,ve._getUIString("ScaleControl.NauticalMiles"))}else st>=1e3?nh(j,ne,st/1e3,ve._getUIString("ScaleControl.Kilometers")):nh(j,ne,st,ve._getUIString("ScaleControl.Meters"))}function nh(ve,j,ge,ne){var ye=W0(ge),ze=ye/ge;ve.style.width=j*ze+"px",ve.innerHTML=ye+"&nbsp;"+ne}function G0(ve){var j=Math.pow(10,Math.ceil(-Math.log(ve)/Math.LN10));return Math.round(ve*j)/j}function W0(ve){var j=Math.pow(10,(""+Math.floor(ve)).length-1),ge=ve/j;return ge=ge>=10?10:ge>=5?5:ge>=3?3:ge>=2?2:ge>=1?1:G0(ge),j*ge}var Wl=function(j){this._fullscreen=!1,j&&j.container&&(j.container instanceof n.window.HTMLElement?this._container=j.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in n.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in n.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in n.window.document&&(this._fullscreenchange="MSFullscreenChange")};Wl.prototype.onAdd=function(j){return this._map=j,this._container||(this._container=this._map.getContainer()),this._controlContainer=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Wl.prototype.onRemove=function(){y.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Wl.prototype._checkFullscreenSupport=function(){return!!(n.window.document.fullscreenEnabled||n.window.document.mozFullScreenEnabled||n.window.document.msFullscreenEnabled||n.window.document.webkitFullscreenEnabled)},Wl.prototype._setupUI=function(){var j=this._fullscreenButton=y.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);y.create("span","mapboxgl-ctrl-icon",j).setAttribute("aria-hidden",!0),j.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Wl.prototype._updateTitle=function(){var j=this._getTitle();this._fullscreenButton.setAttribute("aria-label",j),this._fullscreenButton.title=j},Wl.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Wl.prototype._isFullscreen=function(){return this._fullscreen},Wl.prototype._changeIcon=function(){var j=n.window.document.fullscreenElement||n.window.document.mozFullScreenElement||n.window.document.webkitFullscreenElement||n.window.document.msFullscreenElement;j===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Wl.prototype._onClickFullscreen=function(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.mozCancelFullScreen?n.window.document.mozCancelFullScreen():n.window.document.msExitFullscreen?n.window.document.msExitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Y0={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Z0=function(ve){function j(ge){ve.call(this),this.options=n.extend(Object.create(Y0),ge),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return ve&&(j.__proto__=ve),j.prototype=Object.create(ve&&ve.prototype),j.prototype.constructor=j,j.prototype.addTo=function(ne){return this._map&&this.remove(),this._map=ne,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this},j.prototype.isOpen=function(){return!!this._map},j.prototype.remove=function(){return this._content&&y.remove(this._content),this._container&&(y.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this},j.prototype.getLngLat=function(){return this._lngLat},j.prototype.setLngLat=function(ne){return this._lngLat=n.LngLat.convert(ne),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},j.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},j.prototype.getElement=function(){return this._container},j.prototype.setText=function(ne){return this.setDOMContent(n.window.document.createTextNode(ne))},j.prototype.setHTML=function(ne){var ye=n.window.document.createDocumentFragment(),ze=n.window.document.createElement("body"),Xe;for(ze.innerHTML=ne;Xe=ze.firstChild,!!Xe;)ye.appendChild(Xe);return this.setDOMContent(ye)},j.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},j.prototype.setMaxWidth=function(ne){return this.options.maxWidth=ne,this._update(),this},j.prototype.setDOMContent=function(ne){return this._createContent(),this._content.appendChild(ne),this._update(),this},j.prototype.addClassName=function(ne){this._container&&this._container.classList.add(ne)},j.prototype.removeClassName=function(ne){this._container&&this._container.classList.remove(ne)},j.prototype.toggleClassName=function(ne){if(this._container)return this._container.classList.toggle(ne)},j.prototype._createContent=function(){this._content&&y.remove(this._content),this._content=y.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=y.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},j.prototype._onMouseUp=function(ne){this._update(ne.point)},j.prototype._onMouseMove=function(ne){this._update(ne.point)},j.prototype._onDrag=function(ne){this._update(ne.point)},j.prototype._update=function(ne){var ye=this,ze=this._lngLat||this._trackPointer;if(!(!this._map||!ze||!this._content)&&(this._container||(this._container=y.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=y.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(_r){return ye._container.classList.add(_r)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Xu(this._lngLat,this._pos,this._map.transform)),!(this._trackPointer&&!ne))){var Xe=this._pos=this._trackPointer&&ne?ne:this._map.project(this._lngLat),st=this.options.anchor,mt=Bd(this.options.offset);if(!st){var Bt=this._container.offsetWidth,Jt=this._container.offsetHeight,fr;Xe.y+mt.bottom.y<Jt?fr=["top"]:Xe.y>this._map.transform.height-Jt?fr=["bottom"]:fr=[],Xe.x<Bt/2?fr.push("left"):Xe.x>this._map.transform.width-Bt/2&&fr.push("right"),fr.length===0?st="bottom":st=fr.join("-")}var mr=Xe.add(mt[st]).round();y.setTransform(this._container,jh[st]+" translate("+mr.x+"px,"+mr.y+"px)"),Rv(this._container,st,"popup")}},j.prototype._onClose=function(){this.remove()},j}(n.Evented);function Bd(ve){if(ve)if(typeof ve=="number"){var j=Math.round(Math.sqrt(.5*Math.pow(ve,2)));return{center:new n.Point(0,0),top:new n.Point(0,ve),"top-left":new n.Point(j,j),"top-right":new n.Point(-j,j),bottom:new n.Point(0,-ve),"bottom-left":new n.Point(j,-j),"bottom-right":new n.Point(-j,-j),left:new n.Point(ve,0),right:new n.Point(-ve,0)}}else if(ve instanceof n.Point||Array.isArray(ve)){var ge=n.Point.convert(ve);return{center:ge,top:ge,"top-left":ge,"top-right":ge,bottom:ge,"bottom-left":ge,"bottom-right":ge,left:ge,right:ge}}else return{center:n.Point.convert(ve.center||[0,0]),top:n.Point.convert(ve.top||[0,0]),"top-left":n.Point.convert(ve["top-left"]||[0,0]),"top-right":n.Point.convert(ve["top-right"]||[0,0]),bottom:n.Point.convert(ve.bottom||[0,0]),"bottom-left":n.Point.convert(ve["bottom-left"]||[0,0]),"bottom-right":n.Point.convert(ve["bottom-right"]||[0,0]),left:n.Point.convert(ve.left||[0,0]),right:n.Point.convert(ve.right||[0,0])};else return Bd(new n.Point(0,0))}var X0={version:n.version,supported:C,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:_d,NavigationControl:Zu,GeolocateControl:zd,AttributionControl:hs,ScaleControl:Lf,FullscreenControl:Wl,Popup:Z0,Marker:th,Style:No,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,Evented:n.Evented,config:n.config,prewarm:kt,clearPrewarmedResources:Xt,get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(ve){n.config.ACCESS_TOKEN=ve},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(ve){n.config.API_URL=ve},get workerCount(){return Lr.workerCount},set workerCount(ve){Lr.workerCount=ve},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(ve){n.config.MAX_PARALLEL_IMAGE_REQUESTS=ve},clearStorage:function(j){n.clearTileCache(j)},workerUrl:""};return X0}),p})},27084:function(V){V.exports=Math.log2||function(B){return Math.log(B)*Math.LOG2E}},16825:function(V,B,e){V.exports=L;var p=e(74311);function L(n,C){C||(C=n,n=window);var y=0,h=0,g=0,t={shift:!1,alt:!1,control:!1,meta:!1},r=!1;function l(S){var M=!1;return"altKey"in S&&(M=M||S.altKey!==t.alt,t.alt=!!S.altKey),"shiftKey"in S&&(M=M||S.shiftKey!==t.shift,t.shift=!!S.shiftKey),"ctrlKey"in S&&(M=M||S.ctrlKey!==t.control,t.control=!!S.ctrlKey),"metaKey"in S&&(M=M||S.metaKey!==t.meta,t.meta=!!S.metaKey),M}function a(S,M){var P=p.x(M),x=p.y(M);"buttons"in M&&(S=M.buttons|0),(S!==y||P!==h||x!==g||l(M))&&(y=S|0,h=P||0,g=x||0,C&&C(y,h,g,t))}function s(S){a(0,S)}function c(){(y||h||g||t.shift||t.alt||t.meta||t.control)&&(h=g=0,y=0,t.shift=t.alt=t.control=t.meta=!1,C&&C(0,0,0,t))}function u(S){l(S)&&C&&C(y,h,g,t)}function b(S){p.buttons(S)===0?a(0,S):a(y,S)}function f(S){a(y|p.buttons(S),S)}function w(S){a(y&~p.buttons(S),S)}function v(){r||(r=!0,n.addEventListener("mousemove",b),n.addEventListener("mousedown",f),n.addEventListener("mouseup",w),n.addEventListener("mouseleave",s),n.addEventListener("mouseenter",s),n.addEventListener("mouseout",s),n.addEventListener("mouseover",s),n.addEventListener("blur",c),n.addEventListener("keyup",u),n.addEventListener("keydown",u),n.addEventListener("keypress",u),n!==window&&(window.addEventListener("blur",c),window.addEventListener("keyup",u),window.addEventListener("keydown",u),window.addEventListener("keypress",u)))}function o(){r&&(r=!1,n.removeEventListener("mousemove",b),n.removeEventListener("mousedown",f),n.removeEventListener("mouseup",w),n.removeEventListener("mouseleave",s),n.removeEventListener("mouseenter",s),n.removeEventListener("mouseout",s),n.removeEventListener("mouseover",s),n.removeEventListener("blur",c),n.removeEventListener("keyup",u),n.removeEventListener("keydown",u),n.removeEventListener("keypress",u),n!==window&&(window.removeEventListener("blur",c),window.removeEventListener("keyup",u),window.removeEventListener("keydown",u),window.removeEventListener("keypress",u)))}v();var d={element:n};return Object.defineProperties(d,{enabled:{get:function(){return r},set:function(S){S?v():o()},enumerable:!0},buttons:{get:function(){return y},enumerable:!0},x:{get:function(){return h},enumerable:!0},y:{get:function(){return g},enumerable:!0},mods:{get:function(){return t},enumerable:!0}}),d}},48956:function(V){var B={left:0,top:0};V.exports=e;function e(L,n,C){n=n||L.currentTarget||L.srcElement,Array.isArray(C)||(C=[0,0]);var y=L.clientX||0,h=L.clientY||0,g=p(n);return C[0]=y-g.left,C[1]=h-g.top,C}function p(L){return L===window||L===document||L===document.body?B:L.getBoundingClientRect()}},74311:function(V,B){function e(C){if(typeof C=="object"){if("buttons"in C)return C.buttons;if("which"in C){var y=C.which;if(y===2)return 4;if(y===3)return 2;if(y>0)return 1<<y-1}else if("button"in C){var y=C.button;if(y===1)return 4;if(y===2)return 2;if(y>=0)return 1<<y}}return 0}B.buttons=e;function p(C){return C.target||C.srcElement||window}B.element=p;function L(C){if(typeof C=="object"){if("offsetX"in C)return C.offsetX;var y=p(C),h=y.getBoundingClientRect();return C.clientX-h.left}return 0}B.x=L;function n(C){if(typeof C=="object"){if("offsetY"in C)return C.offsetY;var y=p(C),h=y.getBoundingClientRect();return C.clientY-h.top}return 0}B.y=n},1195:function(V,B,e){var p=e(75686);V.exports=L;function L(n,C,y){typeof n=="function"&&(y=!!C,C=n,n=window);var h=p("ex",n),g=function(t){y&&t.preventDefault();var r=t.deltaX||0,l=t.deltaY||0,a=t.deltaZ||0,s=t.deltaMode,c=1;switch(s){case 1:c=h;break;case 2:c=window.innerHeight;break}if(r*=c,l*=c,a*=c,r||l||a)return C(r,l,a,t)};return n.addEventListener("wheel",g),g}},7417:function(V,B,e){var p;/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(n,C,y){C[n]=C[n]||y(),V.exports?V.exports=C[n]:(p=(function(){return C[n]}).call(B,e,B,V),p!==void 0&&(V.exports=p))})("Promise",typeof e.g<"u"?e.g:this,function(){var n,C,y,h=Object.prototype.toString,g=typeof setImmediate<"u"?function(d){return setImmediate(d)}:setTimeout;try{Object.defineProperty({},"x",{}),n=function(d,S,M,P){return Object.defineProperty(d,S,{value:M,writable:!0,configurable:P!==!1})}}catch{n=function(S,M,P){return S[M]=P,S}}y=function(){var d,S,M;function P(x,E){this.fn=x,this.self=E,this.next=void 0}return{add:function(E,T){M=new P(E,T),S?S.next=M:d=M,S=M,M=void 0},drain:function(){var E=d;for(d=S=C=void 0;E;)E.fn.call(E.self),E=E.next}}}();function t(o,d){y.add(o,d),C||(C=g(y.drain))}function r(o){var d,S=typeof o;return o!=null&&(S=="object"||S=="function")&&(d=o.then),typeof d=="function"?d:!1}function l(){for(var o=0;o<this.chain.length;o++)a(this,this.state===1?this.chain[o].success:this.chain[o].failure,this.chain[o]);this.chain.length=0}function a(o,d,S){var M,P;try{d===!1?S.reject(o.msg):(d===!0?M=o.msg:M=d.call(void 0,o.msg),M===S.promise?S.reject(TypeError("Promise-chain cycle")):(P=r(M))?P.call(M,S.resolve,S.reject):S.resolve(M))}catch(x){S.reject(x)}}function s(o){var d,S=this;if(!S.triggered){S.triggered=!0,S.def&&(S=S.def);try{(d=r(o))?t(function(){var M=new b(S);try{d.call(o,function(){s.apply(M,arguments)},function(){c.apply(M,arguments)})}catch(P){c.call(M,P)}}):(S.msg=o,S.state=1,S.chain.length>0&&t(l,S))}catch(M){c.call(new b(S),M)}}}function c(o){var d=this;d.triggered||(d.triggered=!0,d.def&&(d=d.def),d.msg=o,d.state=2,d.chain.length>0&&t(l,d))}function u(o,d,S,M){for(var P=0;P<d.length;P++)(function(E){o.resolve(d[E]).then(function(i){S(E,i)},M)})(P)}function b(o){this.def=o,this.triggered=!1}function f(o){this.promise=o,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function w(o){if(typeof o!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var d=new f(this);this.then=function(M,P){var x={success:typeof M=="function"?M:!0,failure:typeof P=="function"?P:!1};return x.promise=new this.constructor(function(T,i){if(typeof T!="function"||typeof i!="function")throw TypeError("Not a function");x.resolve=T,x.reject=i}),d.chain.push(x),d.state!==0&&t(l,d),x.promise},this.catch=function(M){return this.then(void 0,M)};try{o.call(void 0,function(M){s.call(d,M)},function(M){c.call(d,M)})}catch(S){c.call(d,S)}}var v=n({},"constructor",w,!1);return w.prototype=v,n(v,"__NPO__",0,!1),n(w,"resolve",function(d){var S=this;return d&&typeof d=="object"&&d.__NPO__===1?d:new S(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");P(d)})}),n(w,"reject",function(d){return new this(function(M,P){if(typeof M!="function"||typeof P!="function")throw TypeError("Not a function");P(d)})}),n(w,"all",function(d){var S=this;return h.call(d)!="[object Array]"?S.reject(TypeError("Not an array")):d.length===0?S.resolve([]):new S(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");var E=d.length,T=Array(E),i=0;u(S,d,function(A,k){T[A]=k,++i===E&&P(T)},x)})}),n(w,"race",function(d){var S=this;return h.call(d)!="[object Array]"?S.reject(TypeError("Not an array")):new S(function(P,x){if(typeof P!="function"||typeof x!="function")throw TypeError("Not a function");u(S,d,function(T,i){P(i)},x)})}),w})},18625:function(V){var B=Math.PI,e=h(120);V.exports=p;function p(g){for(var t,r=[],l=0,a=0,s=0,c=0,u=null,b=null,f=0,w=0,v=0,o=g.length;v<o;v++){var d=g[v],S=d[0];switch(S){case"M":s=d[1],c=d[2];break;case"A":d=C(f,w,d[1],d[2],h(d[3]),d[4],d[5],d[6],d[7]),d.unshift("C"),d.length>7&&(r.push(d.splice(0,7)),d.unshift("C"));break;case"S":var M=f,P=w;(t=="C"||t=="S")&&(M+=M-l,P+=P-a),d=["C",M,P,d[1],d[2],d[3],d[4]];break;case"T":t=="Q"||t=="T"?(u=f*2-u,b=w*2-b):(u=f,b=w),d=n(f,w,u,b,d[1],d[2]);break;case"Q":u=d[1],b=d[2],d=n(f,w,d[1],d[2],d[3],d[4]);break;case"L":d=L(f,w,d[1],d[2]);break;case"H":d=L(f,w,d[1],w);break;case"V":d=L(f,w,f,d[1]);break;case"Z":d=L(f,w,s,c);break}t=S,f=d[d.length-2],w=d[d.length-1],d.length>4?(l=d[d.length-4],a=d[d.length-3]):(l=f,a=w),r.push(d)}return r}function L(g,t,r,l){return["C",g,t,r,l,r,l]}function n(g,t,r,l,a,s){return["C",g/3+.6666666666666666*r,t/3+.6666666666666666*l,a/3+.6666666666666666*r,s/3+.6666666666666666*l,a,s]}function C(g,t,r,l,a,s,c,u,b,f){if(f)T=f[0],i=f[1],x=f[2],E=f[3];else{var w=y(g,t,-a);g=w.x,t=w.y,w=y(u,b,-a),u=w.x,b=w.y;var v=(g-u)/2,o=(t-b)/2,d=v*v/(r*r)+o*o/(l*l);d>1&&(d=Math.sqrt(d),r=d*r,l=d*l);var S=r*r,M=l*l,P=(s==c?-1:1)*Math.sqrt(Math.abs((S*M-S*o*o-M*v*v)/(S*o*o+M*v*v)));P==1/0&&(P=1);var x=P*r*o/l+(g+u)/2,E=P*-l*v/r+(t+b)/2,T=Math.asin(((t-E)/l).toFixed(9)),i=Math.asin(((b-E)/l).toFixed(9));T=g<x?B-T:T,i=u<x?B-i:i,T<0&&(T=B*2+T),i<0&&(i=B*2+i),c&&T>i&&(T=T-B*2),!c&&i>T&&(i=i-B*2)}if(Math.abs(i-T)>e){var R=i,A=u,k=b;i=T+e*(c&&i>T?1:-1),u=x+r*Math.cos(i),b=E+l*Math.sin(i);var _=C(u,b,r,l,a,0,c,A,k,[i,R,x,E])}var H=Math.tan((i-T)/4),z=4/3*r*H,N=4/3*l*H,O=[2*g-(g+z*Math.sin(T)),2*t-(t-N*Math.cos(T)),u+z*Math.sin(i),b-N*Math.cos(i),u,b];if(f)return O;_&&(O=O.concat(_));for(var F=0;F<O.length;){var U=y(O[F],O[F+1],a);O[F++]=U.x,O[F++]=U.y}return O}function y(g,t,r){return{x:g*Math.cos(r)-t*Math.sin(r),y:g*Math.sin(r)+t*Math.cos(r)}}function h(g){return g*(B/180)}},56131:function(V){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var B=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function L(C){if(C==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(C)}function n(){try{if(!Object.assign)return!1;var C=new String("abc");if(C[5]="de",Object.getOwnPropertyNames(C)[0]==="5")return!1;for(var y={},h=0;h<10;h++)y["_"+String.fromCharCode(h)]=h;var g=Object.getOwnPropertyNames(y).map(function(r){return y[r]});if(g.join("")!=="0123456789")return!1;var t={};return"abcdefghijklmnopqrst".split("").forEach(function(r){t[r]=r}),Object.keys(Object.assign({},t)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}V.exports=n()?Object.assign:function(C,y){for(var h,g=L(C),t,r=1;r<arguments.length;r++){h=Object(arguments[r]);for(var l in h)e.call(h,l)&&(g[l]=h[l]);if(B){t=B(h);for(var a=0;a<t.length;a++)p.call(h,t[a])&&(g[t[a]]=h[t[a]])}}return g}},65848:function(V){var B=function(e){return e!==e};V.exports=function(p,L){return p===0&&L===0?1/p===1/L:!!(p===L||B(p)&&B(L))}},64003:function(V,B,e){var p=e(17045),L=e(68222),n=e(65848),C=e(27015),y=e(55572),h=L(C(),Object);p(h,{getPolyfill:C,implementation:n,shim:y}),V.exports=h},27015:function(V,B,e){var p=e(65848);V.exports=function(){return typeof Object.is=="function"?Object.is:p}},55572:function(V,B,e){var p=e(27015),L=e(17045);V.exports=function(){var C=p();return L(Object,{is:C},{is:function(){return Object.is!==C}}),C}},99019:function(V,B,e){var p;if(!Object.keys){var L=Object.prototype.hasOwnProperty,n=Object.prototype.toString,C=e(64178),y=Object.prototype.propertyIsEnumerable,h=!y.call({toString:null},"toString"),g=y.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=function(c){var u=c.constructor;return u&&u.prototype===c},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if(typeof window>"u")return!1;for(var c in window)try{if(!l["$"+c]&&L.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{r(window[c])}catch{return!0}}catch{return!0}return!1}(),s=function(c){if(typeof window>"u"||!a)return r(c);try{return r(c)}catch{return!1}};p=function(u){var b=u!==null&&typeof u=="object",f=n.call(u)==="[object Function]",w=C(u),v=b&&n.call(u)==="[object String]",o=[];if(!b&&!f&&!w)throw new TypeError("Object.keys called on a non-object");var d=g&&f;if(v&&u.length>0&&!L.call(u,0))for(var S=0;S<u.length;++S)o.push(String(S));if(w&&u.length>0)for(var M=0;M<u.length;++M)o.push(String(M));else for(var P in u)!(d&&P==="prototype")&&L.call(u,P)&&o.push(String(P));if(h)for(var x=s(u),E=0;E<t.length;++E)!(x&&t[E]==="constructor")&&L.call(u,t[E])&&o.push(t[E]);return o}}V.exports=p},8709:function(V,B,e){var p=Array.prototype.slice,L=e(64178),n=Object.keys,C=n?function(g){return n(g)}:e(99019),y=Object.keys;C.shim=function(){if(Object.keys){var g=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);g||(Object.keys=function(r){return L(r)?y(p.call(r)):y(r)})}else Object.keys=C;return Object.keys||C},V.exports=C},64178:function(V){var B=Object.prototype.toString;V.exports=function(p){var L=B.call(p),n=L==="[object Arguments]";return n||(n=L!=="[object Array]"&&p!==null&&typeof p=="object"&&typeof p.length=="number"&&p.length>=0&&B.call(p.callee)==="[object Function]"),n}},88641:function(V){function B(L,n){if(typeof L!="string")return[L];var C=[L];typeof n=="string"||Array.isArray(n)?n={brackets:n}:n||(n={});var y=n.brackets?Array.isArray(n.brackets)?n.brackets:[n.brackets]:["{}","[]","()"],h=n.escape||"___",g=!!n.flat;y.forEach(function(l){var a=new RegExp(["\\",l[0],"[^\\",l[0],"\\",l[1],"]*\\",l[1]].join("")),s=[];function c(u,b,f){var w=C.push(u.slice(l[0].length,-l[1].length))-1;return s.push(w),h+w+h}C.forEach(function(u,b){for(var f,w=0;u!=f;)if(f=u,u=u.replace(a,c),w++>1e4)throw Error("References have circular dependency. Please, check them.");C[b]=u}),s=s.reverse(),C=C.map(function(u){return s.forEach(function(b){u=u.replace(new RegExp("(\\"+h+b+"\\"+h+")","g"),l[0]+"$1"+l[1])}),u})});var t=new RegExp("\\"+h+"([0-9]+)\\"+h);function r(l,a,s){for(var c=[],u,b=0;u=t.exec(l);){if(b++>1e4)throw Error("Circular references in parenthesis");c.push(l.slice(0,u.index)),c.push(r(a[u[1]],a)),l=l.slice(u.index+u[0].length)}return c.push(l),c}return g?C:r(C[0],C)}function e(L,n){if(n&&n.flat){var C=n&&n.escape||"___",y=L[0],h;if(!y)return"";for(var g=new RegExp("\\"+C+"([0-9]+)\\"+C),t=0;y!=h;){if(t++>1e4)throw Error("Circular references in "+L);h=y,y=y.replace(g,r)}return y}return L.reduce(function l(a,s){return Array.isArray(s)&&(s=s.reduce(l,"")),a+s},"");function r(l,a){if(L[a]==null)throw Error("Reference "+a+"is undefined");return L[a]}}function p(L,n){return Array.isArray(L)?e(L,n):B(L,n)}p.parse=B,p.stringify=e,V.exports=p},18863:function(V,B,e){var p=e(71299);V.exports=L;function L(n){var C;return arguments.length>1&&(n=arguments),typeof n=="string"?n=n.split(/\s/).map(parseFloat):typeof n=="number"&&(n=[n]),n.length&&typeof n[0]=="number"?n.length===1?C={width:n[0],height:n[0],x:0,y:0}:n.length===2?C={width:n[0],height:n[1],x:0,y:0}:C={x:n[0],y:n[1],width:n[2]-n[0]||0,height:n[3]-n[1]||0}:n&&(n=p(n,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"}),C={x:n.left||0,y:n.top||0},n.width==null?n.right?C.width=n.right-C.x:C.width=0:C.width=n.width,n.height==null?n.bottom?C.height=n.bottom-C.y:C.height=0:C.height=n.height),C}},95616:function(V){V.exports=p;var B={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function p(C){var y=[];return C.replace(e,function(h,g,t){var r=g.toLowerCase();for(t=n(t),r=="m"&&t.length>2&&(y.push([g].concat(t.splice(0,2))),r="l",g=g=="m"?"l":"L");;){if(t.length==B[r])return t.unshift(g),y.push(t);if(t.length<B[r])throw new Error("malformed path data");y.push([g].concat(t.splice(0,B[r])))}}),y}var L=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function n(C){var y=C.match(L);return y?y.map(Number):[]}},25677:function(V){V.exports=function(e,p){p||(p=[0,""]),e=String(e);var L=parseFloat(e,10);return p[0]=L,p[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",p}},9748:function(V,B,e){var p=e(90386);(function(){var L,n,C,y,h,g;typeof performance<"u"&&performance!==null&&performance.now?V.exports=function(){return performance.now()}:typeof p<"u"&&p!==null&&p.hrtime?(V.exports=function(){return(L()-h)/1e6},n=p.hrtime,L=function(){var t;return t=n(),t[0]*1e9+t[1]},y=L(),g=p.uptime()*1e9,h=y-g):Date.now?(V.exports=function(){return Date.now()-C},C=Date.now()):(V.exports=function(){return new Date().getTime()-C},C=new Date().getTime())}).call(this)},71299:function(V){V.exports=function(L,n,C){var y={},h,g;if(typeof n=="string"&&(n=e(n)),Array.isArray(n)){var t={};for(g=0;g<n.length;g++)t[n[g]]=!0;n=t}for(h in n)n[h]=e(n[h]);var r={};for(h in n){var l=n[h];if(Array.isArray(l))for(g=0;g<l.length;g++){var a=l[g];if(C&&(r[a]=!0),a in L){if(y[h]=L[a],C)for(var s=g;s<l.length;s++)r[l[s]]=!0;break}}else h in L&&(n[h]&&(y[h]=L[h]),C&&(r[h]=!0))}if(C)for(h in L)r[h]||(y[h]=L[h]);return y};var B={};function e(p){return B[p]?B[p]:(typeof p=="string"&&(p=B[p]=p.split(/\s*,\s*|\s+/)),p)}},38258:function(V){V.exports=function(e,p,L,n){var C=e[0],y=e[1],h=!1;L===void 0&&(L=0),n===void 0&&(n=p.length);for(var g=n-L,t=0,r=g-1;t<g;r=t++){var l=p[t+L][0],a=p[t+L][1],s=p[r+L][0],c=p[r+L][1],u=a>y!=c>y&&C<(s-l)*(y-a)/(c-a)+l;u&&(h=!h)}return h}},52142:function(V,B,e){/*
 * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
 * @license MIT
 * @preserve Project Home: https://github.com/voidqk/polybooljs
 */var p=e(69444),L=e(29023),n=e(87263),C=e(11328),y=e(55968),h=e(10670),g=!1,t=L(),r;r={buildLog:function(a){return a===!0?g=p():a===!1&&(g=!1),g===!1?!1:g.list},epsilon:function(a){return t.epsilon(a)},segments:function(a){var s=n(!0,t,g);return a.regions.forEach(s.addRegion),{segments:s.calculate(a.inverted),inverted:a.inverted}},combine:function(a,s){var c=n(!1,t,g);return{combined:c.calculate(a.segments,a.inverted,s.segments,s.inverted),inverted1:a.inverted,inverted2:s.inverted}},selectUnion:function(a){return{segments:y.union(a.combined,g),inverted:a.inverted1||a.inverted2}},selectIntersect:function(a){return{segments:y.intersect(a.combined,g),inverted:a.inverted1&&a.inverted2}},selectDifference:function(a){return{segments:y.difference(a.combined,g),inverted:a.inverted1&&!a.inverted2}},selectDifferenceRev:function(a){return{segments:y.differenceRev(a.combined,g),inverted:!a.inverted1&&a.inverted2}},selectXor:function(a){return{segments:y.xor(a.combined,g),inverted:a.inverted1!==a.inverted2}},polygon:function(a){return{regions:C(a.segments,t,g),inverted:a.inverted}},polygonFromGeoJSON:function(a){return h.toPolygon(r,a)},polygonToGeoJSON:function(a){return h.fromPolygon(r,t,a)},union:function(a,s){return l(a,s,r.selectUnion)},intersect:function(a,s){return l(a,s,r.selectIntersect)},difference:function(a,s){return l(a,s,r.selectDifference)},differenceRev:function(a,s){return l(a,s,r.selectDifferenceRev)},xor:function(a,s){return l(a,s,r.selectXor)}};function l(a,s,c){var u=r.segments(a),b=r.segments(s),f=r.combine(u,b),w=c(f);return r.polygon(w)}typeof window=="object"&&(window.PolyBool=r),V.exports=r},69444:function(V){function B(){var e,p=0,L=!1;function n(C,y){return e.list.push({type:C,data:y?JSON.parse(JSON.stringify(y)):void 0}),e}return e={list:[],segmentId:function(){return p++},checkIntersection:function(C,y){return n("check",{seg1:C,seg2:y})},segmentChop:function(C,y){return n("div_seg",{seg:C,pt:y}),n("chop",{seg:C,pt:y})},statusRemove:function(C){return n("pop_seg",{seg:C})},segmentUpdate:function(C){return n("seg_update",{seg:C})},segmentNew:function(C,y){return n("new_seg",{seg:C,primary:y})},segmentRemove:function(C){return n("rem_seg",{seg:C})},tempStatus:function(C,y,h){return n("temp_status",{seg:C,above:y,below:h})},rewind:function(C){return n("rewind",{seg:C})},status:function(C,y,h){return n("status",{seg:C,above:y,below:h})},vert:function(C){return C===L?e:(L=C,n("vert",{x:C}))},log:function(C){return typeof C!="string"&&(C=JSON.stringify(C,!1,"  ")),n("log",{txt:C})},reset:function(){return n("reset")},selected:function(C){return n("selected",{segs:C})},chainStart:function(C){return n("chain_start",{seg:C})},chainRemoveHead:function(C,y){return n("chain_rem_head",{index:C,pt:y})},chainRemoveTail:function(C,y){return n("chain_rem_tail",{index:C,pt:y})},chainNew:function(C,y){return n("chain_new",{pt1:C,pt2:y})},chainMatch:function(C){return n("chain_match",{index:C})},chainClose:function(C){return n("chain_close",{index:C})},chainAddHead:function(C,y){return n("chain_add_head",{index:C,pt:y})},chainAddTail:function(C,y){return n("chain_add_tail",{index:C,pt:y})},chainConnect:function(C,y){return n("chain_con",{index1:C,index2:y})},chainReverse:function(C){return n("chain_rev",{index:C})},chainJoin:function(C,y){return n("chain_join",{index1:C,index2:y})},done:function(){return n("done")}},e}V.exports=B},29023:function(V){function B(e){typeof e!="number"&&(e=1e-10);var p={epsilon:function(L){return typeof L=="number"&&(e=L),e},pointAboveOrOnLine:function(L,n,C){var y=n[0],h=n[1],g=C[0],t=C[1],r=L[0],l=L[1];return(g-y)*(l-h)-(t-h)*(r-y)>=-e},pointBetween:function(L,n,C){var y=L[1]-n[1],h=C[0]-n[0],g=L[0]-n[0],t=C[1]-n[1],r=g*h+y*t;if(r<e)return!1;var l=h*h+t*t;return!(r-l>-e)},pointsSameX:function(L,n){return Math.abs(L[0]-n[0])<e},pointsSameY:function(L,n){return Math.abs(L[1]-n[1])<e},pointsSame:function(L,n){return p.pointsSameX(L,n)&&p.pointsSameY(L,n)},pointsCompare:function(L,n){return p.pointsSameX(L,n)?p.pointsSameY(L,n)?0:L[1]<n[1]?-1:1:L[0]<n[0]?-1:1},pointsCollinear:function(L,n,C){var y=L[0]-n[0],h=L[1]-n[1],g=n[0]-C[0],t=n[1]-C[1];return Math.abs(y*t-g*h)<e},linesIntersect:function(L,n,C,y){var h=n[0]-L[0],g=n[1]-L[1],t=y[0]-C[0],r=y[1]-C[1],l=h*r-g*t;if(Math.abs(l)<e)return!1;var a=L[0]-C[0],s=L[1]-C[1],c=(t*s-r*a)/l,u=(h*s-g*a)/l,b={alongA:0,alongB:0,pt:[L[0]+c*h,L[1]+c*g]};return c<=-e?b.alongA=-2:c<e?b.alongA=-1:c-1<=-e?b.alongA=0:c-1<e?b.alongA=1:b.alongA=2,u<=-e?b.alongB=-2:u<e?b.alongB=-1:u-1<=-e?b.alongB=0:u-1<e?b.alongB=1:b.alongB=2,b},pointInsideRegion:function(L,n){for(var C=L[0],y=L[1],h=n[n.length-1][0],g=n[n.length-1][1],t=!1,r=0;r<n.length;r++){var l=n[r][0],a=n[r][1];a-y>e!=g-y>e&&(h-l)*(y-a)/(g-a)+l-C>e&&(t=!t),h=l,g=a}return t}};return p}V.exports=B},10670:function(V){var B={toPolygon:function(e,p){function L(y){if(y.length<=0)return e.segments({inverted:!1,regions:[]});function h(r){var l=r.slice(0,r.length-1);return e.segments({inverted:!1,regions:[l]})}for(var g=h(y[0]),t=1;t<y.length;t++)g=e.selectDifference(e.combine(g,h(y[t])));return g}if(p.type==="Polygon")return e.polygon(L(p.coordinates));if(p.type==="MultiPolygon"){for(var n=e.segments({inverted:!1,regions:[]}),C=0;C<p.coordinates.length;C++)n=e.selectUnion(e.combine(n,L(p.coordinates[C])));return e.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,p,L){L=e.polygon(e.segments(L));function n(c,u){return p.pointInsideRegion([(c[0][0]+c[1][0])*.5,(c[0][1]+c[1][1])*.5],u)}function C(c){return{region:c,children:[]}}var y=C(null);function h(c,u){for(var b=0;b<c.children.length;b++){var f=c.children[b];if(n(u,f.region)){h(f,u);return}}for(var w=C(u),b=0;b<c.children.length;b++){var f=c.children[b];n(f.region,u)&&(w.children.push(f),c.children.splice(b,1),b--)}c.children.push(w)}for(var g=0;g<L.regions.length;g++){var t=L.regions[g];t.length<3||h(y,t)}function r(c,u){for(var b=0,f=c[c.length-1][0],w=c[c.length-1][1],v=[],o=0;o<c.length;o++){var d=c[o][0],S=c[o][1];v.push([d,S]),b+=S*f-d*w,f=d,w=S}var M=b<0;return M!==u&&v.reverse(),v.push([v[0][0],v[0][1]]),v}var l=[];function a(c){var u=[r(c.region,!1)];l.push(u);for(var b=0;b<c.children.length;b++)u.push(s(c.children[b]))}function s(c){for(var u=0;u<c.children.length;u++)a(c.children[u]);return r(c.region,!0)}for(var g=0;g<y.children.length;g++)a(y.children[g]);return l.length<=0?{type:"Polygon",coordinates:[]}:l.length==1?{type:"Polygon",coordinates:l[0]}:{type:"MultiPolygon",coordinates:l}}};V.exports=B},87263:function(V,B,e){var p=e(26859);function L(n,C,y){function h(w,v){return{id:y?y.segmentId():-1,start:w,end:v,myFill:{above:null,below:null},otherFill:null}}function g(w,v,o){return{id:y?y.segmentId():-1,start:w,end:v,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var t=p.create();function r(w,v,o,d,S,M){var P=C.pointsCompare(v,S);return P!==0?P:C.pointsSame(o,M)?0:w!==d?w?1:-1:C.pointAboveOrOnLine(o,d?S:M,d?M:S)?1:-1}function l(w,v){t.insertBefore(w,function(o){var d=r(w.isStart,w.pt,v,o.isStart,o.pt,o.other.pt);return d<0})}function a(w,v){var o=p.node({isStart:!0,pt:w.start,seg:w,primary:v,other:null,status:null});return l(o,w.end),o}function s(w,v,o){var d=p.node({isStart:!1,pt:v.end,seg:v,primary:o,other:w,status:null});w.other=d,l(d,w.pt)}function c(w,v){var o=a(w,v);return s(o,w,v),o}function u(w,v){y&&y.segmentChop(w.seg,v),w.other.remove(),w.seg.end=v,w.other.pt=v,l(w.other,w.pt)}function b(w,v){var o=g(v,w.seg.end,w.seg);return u(w,v),c(o,w.primary)}function f(w,v){var o=p.create();function d(N,O){var F=N.seg.start,U=N.seg.end,Z=O.seg.start,q=O.seg.end;return C.pointsCollinear(F,Z,q)?C.pointsCollinear(U,Z,q)||C.pointAboveOrOnLine(U,Z,q)?1:-1:C.pointAboveOrOnLine(F,Z,q)?1:-1}function S(N){return o.findTransition(function(O){var F=d(N,O.ev);return F>0})}function M(N,O){var F=N.seg,U=O.seg,Z=F.start,q=F.end,J=U.start,te=U.end;y&&y.checkIntersection(F,U);var fe=C.linesIntersect(Z,q,J,te);if(fe===!1){if(!C.pointsCollinear(Z,q,J)||C.pointsSame(Z,te)||C.pointsSame(q,J))return!1;var K=C.pointsSame(Z,J),Y=C.pointsSame(q,te);if(K&&Y)return O;var W=!K&&C.pointBetween(Z,J,te),X=!Y&&C.pointBetween(q,J,te);if(K)return X?b(O,q):b(N,te),O;W&&(Y||(X?b(O,q):b(N,te)),b(O,Z))}else fe.alongA===0&&(fe.alongB===-1?b(N,J):fe.alongB===0?b(N,fe.pt):fe.alongB===1&&b(N,te)),fe.alongB===0&&(fe.alongA===-1?b(O,Z):fe.alongA===0?b(O,fe.pt):fe.alongA===1&&b(O,q));return!1}for(var P=[];!t.isEmpty();){var x=t.getHead();if(y&&y.vert(x.pt[0]),x.isStart){let N=function(){if(T){var O=M(x,T);if(O)return O}return i?M(x,i):!1};var z=N;y&&y.segmentNew(x.seg,x.primary);var E=S(x),T=E.before?E.before.ev:null,i=E.after?E.after.ev:null;y&&y.tempStatus(x.seg,T?T.seg:!1,i?i.seg:!1);var R=N();if(R){if(n){var A;x.seg.myFill.below===null?A=!0:A=x.seg.myFill.above!==x.seg.myFill.below,A&&(R.seg.myFill.above=!R.seg.myFill.above)}else R.seg.otherFill=x.seg.myFill;y&&y.segmentUpdate(R.seg),x.other.remove(),x.remove()}if(t.getHead()!==x){y&&y.rewind(x.seg);continue}if(n){var A;x.seg.myFill.below===null?A=!0:A=x.seg.myFill.above!==x.seg.myFill.below,i?x.seg.myFill.below=i.seg.myFill.above:x.seg.myFill.below=w,A?x.seg.myFill.above=!x.seg.myFill.below:x.seg.myFill.above=x.seg.myFill.below}else if(x.seg.otherFill===null){var k;i?x.primary===i.primary?k=i.seg.otherFill.above:k=i.seg.myFill.above:k=x.primary?v:w,x.seg.otherFill={above:k,below:k}}y&&y.status(x.seg,T?T.seg:!1,i?i.seg:!1),x.other.status=E.insert(p.node({ev:x}))}else{var _=x.status;if(_===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(_.prev)&&o.exists(_.next)&&M(_.prev.ev,_.next.ev),y&&y.statusRemove(_.ev.seg),_.remove(),!x.primary){var H=x.seg.myFill;x.seg.myFill=x.seg.otherFill,x.seg.otherFill=H}P.push(x.seg)}t.getHead().remove()}return y&&y.done(),P}return n?{addRegion:function(w){for(var v,o=w[w.length-1],d=0;d<w.length;d++){v=o,o=w[d];var S=C.pointsCompare(v,o);S!==0&&c(h(S<0?v:o,S<0?o:v),!0)}},calculate:function(w){return f(w,!1)}}:{calculate:function(w,v,o,d){return w.forEach(function(S){c(g(S.start,S.end,S),!0)}),o.forEach(function(S){c(g(S.start,S.end,S),!1)}),f(v,d)}}}V.exports=L},26859:function(V){var B={create:function(){var e={root:{root:!0,next:null},exists:function(p){return!(p===null||p===e.root)},isEmpty:function(){return e.root.next===null},getHead:function(){return e.root.next},insertBefore:function(p,L){for(var n=e.root,C=e.root.next;C!==null;){if(L(C)){p.prev=C.prev,p.next=C,C.prev.next=p,C.prev=p;return}n=C,C=C.next}n.next=p,p.prev=n,p.next=null},findTransition:function(p){for(var L=e.root,n=e.root.next;n!==null&&!p(n);)L=n,n=n.next;return{before:L===e.root?null:L,after:n,insert:function(C){return C.prev=L,C.next=n,L.next=C,n!==null&&(n.prev=C),C}}}};return e},node:function(e){return e.prev=null,e.next=null,e.remove=function(){e.prev.next=e.next,e.next&&(e.next.prev=e.prev),e.prev=null,e.next=null},e}};V.exports=B},11328:function(V){function B(e,p,L){var n=[],C=[];return e.forEach(function(y){var h=y.start,g=y.end;if(p.pointsSame(h,g)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}L&&L.chainStart(y);var t={index:0,matches_head:!1,matches_pt1:!1},r={index:0,matches_head:!1,matches_pt1:!1},l=t;function a(R,A,k){return l.index=R,l.matches_head=A,l.matches_pt1=k,l===t?(l=r,!1):(l=null,!0)}for(var s=0;s<n.length;s++){var c=n[s],u=c[0];c[1];var b=c[c.length-1];if(c[c.length-2],p.pointsSame(u,h)){if(a(s,!0,!0))break}else if(p.pointsSame(u,g)){if(a(s,!0,!1))break}else if(p.pointsSame(b,h)){if(a(s,!1,!0))break}else if(p.pointsSame(b,g)&&a(s,!1,!1))break}if(l===t){n.push([h,g]),L&&L.chainNew(h,g);return}if(l===r){L&&L.chainMatch(t.index);var f=t.index,w=t.matches_pt1?g:h,v=t.matches_head,c=n[f],o=v?c[0]:c[c.length-1],d=v?c[1]:c[c.length-2],S=v?c[c.length-1]:c[0],M=v?c[c.length-2]:c[1];if(p.pointsCollinear(d,o,w)&&(v?(L&&L.chainRemoveHead(t.index,w),c.shift()):(L&&L.chainRemoveTail(t.index,w),c.pop()),o=d),p.pointsSame(S,w)){n.splice(f,1),p.pointsCollinear(M,S,o)&&(v?(L&&L.chainRemoveTail(t.index,o),c.pop()):(L&&L.chainRemoveHead(t.index,o),c.shift())),L&&L.chainClose(t.index),C.push(c);return}v?(L&&L.chainAddHead(t.index,w),c.unshift(w)):(L&&L.chainAddTail(t.index,w),c.push(w));return}function P(R){L&&L.chainReverse(R),n[R].reverse()}function x(R,A){var k=n[R],_=n[A],H=k[k.length-1],z=k[k.length-2],N=_[0],O=_[1];p.pointsCollinear(z,H,N)&&(L&&L.chainRemoveTail(R,H),k.pop(),H=z),p.pointsCollinear(H,N,O)&&(L&&L.chainRemoveHead(A,N),_.shift()),L&&L.chainJoin(R,A),n[R]=k.concat(_),n.splice(A,1)}var E=t.index,T=r.index;L&&L.chainConnect(E,T);var i=n[E].length<n[T].length;t.matches_head?r.matches_head?i?(P(E),x(E,T)):(P(T),x(T,E)):x(T,E):r.matches_head?x(E,T):i?(P(E),x(T,E)):(P(T),x(E,T))}),C}V.exports=B},55968:function(V){function B(p,L,n){var C=[];return p.forEach(function(y){var h=(y.myFill.above?8:0)+(y.myFill.below?4:0)+(y.otherFill&&y.otherFill.above?2:0)+(y.otherFill&&y.otherFill.below?1:0);L[h]!==0&&C.push({id:n?n.segmentId():-1,start:y.start,end:y.end,myFill:{above:L[h]===1,below:L[h]===2},otherFill:null})}),n&&n.selected(C),C}var e={union:function(p,L){return B(p,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],L)},intersect:function(p,L){return B(p,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],L)},difference:function(p,L){return B(p,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],L)},differenceRev:function(p,L){return B(p,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],L)},xor:function(p,L){return B(p,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],L)}};V.exports=e},14847:function(V,B,e){var p=e(21630).Transform,L=e(90715);function n(){p.call(this,{readableObjectMode:!0})}n.prototype=Object.create(p.prototype),n.prototype.constructor=n,L(n.prototype),B.OF=function(y,h,g){for(var t=h,r=0;r<g.length;)if(y[t++]!==g[r++])return!1;return!0},B.eG=function(y,h){var g=[],t=0;if(h&&h==="hex")for(;t<y.length;)g.push(parseInt(y.slice(t,t+2),16)),t+=2;else for(;t<y.length;t++)g.push(y.charCodeAt(t)&255);return g},B.mP=function(y,h){return y[h]|y[h+1]<<8},B.n8=function(y,h){return y[h+1]|y[h]<<8},B.nm=function(y,h){return y[h]|y[h+1]<<8|y[h+2]<<16|y[h+3]*16777216},B.Ag=function(y,h){return y[h+3]|y[h+2]<<8|y[h+1]<<16|y[h]*16777216};function C(y,h,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=y,h&&(this.code=h),g&&(this.statusCode=g)}C.prototype=Object.create(Error.prototype),C.prototype.constructor=C},71371:function(V){function B(L,n){var C=new Error(L);return C.code=n,C}function e(L){try{return decodeURIComponent(escape(L))}catch{return L}}function p(L,n,C){this.input=L.subarray(n,C),this.start=n;var y=String.fromCharCode.apply(null,this.input.subarray(0,4));if(y!=="II*\0"&&y!=="MM\0*")throw B("invalid TIFF signature","EBADDATA");this.big_endian=y[0]==="M"}p.prototype.each=function(L){this.aborted=!1;var n=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:n}];this.ifds_to_read.length>0&&!this.aborted;){var C=this.ifds_to_read.shift();C.offset&&this.scan_ifd(C.id,C.offset,L)}},p.prototype.read_uint16=function(L){var n=this.input;if(L+2>n.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?n[L]*256+n[L+1]:n[L]+n[L+1]*256},p.prototype.read_uint32=function(L){var n=this.input;if(L+4>n.length)throw B("unexpected EOF","EBADDATA");return this.big_endian?n[L]*16777216+n[L+1]*65536+n[L+2]*256+n[L+3]:n[L]+n[L+1]*256+n[L+2]*65536+n[L+3]*16777216},p.prototype.is_subifd_link=function(L,n){return L===0&&n===34665||L===0&&n===34853||L===34665&&n===40965},p.prototype.exif_format_length=function(L){switch(L){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},p.prototype.exif_format_read=function(L,n){var C;switch(L){case 1:case 2:return C=this.input[n],C;case 6:return C=this.input[n],C|(C&128)*33554430;case 3:return C=this.read_uint16(n),C;case 8:return C=this.read_uint16(n),C|(C&32768)*131070;case 4:return C=this.read_uint32(n),C;case 9:return C=this.read_uint32(n),C|0;case 5:case 10:case 11:case 12:return null;case 7:return null;default:return null}},p.prototype.scan_ifd=function(L,n,C){var y=this.read_uint16(n);n+=2;for(var h=0;h<y;h++){var g=this.read_uint16(n),t=this.read_uint16(n+2),r=this.read_uint32(n+4),l=this.exif_format_length(t),a=r*l,s=a<=4?n+8:this.read_uint32(n+8),c=!1;if(s+a>this.input.length)throw B("unexpected EOF","EBADDATA");for(var u=[],b=s,f=0;f<r;f++,b+=l){var w=this.exif_format_read(t,b);if(w===null){u=null;break}u.push(w)}Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)),u&&u[u.length-1]==="\0"&&(u=u.slice(0,-1))),this.is_subifd_link(L,g)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:g,offset:u[0]}),c=!0);var v={is_big_endian:this.big_endian,ifd:L,tag:g,format:t,count:r,entry_offset:n+this.start,data_length:a,data_offset:s+this.start,value:u,is_subifd_link:c};if(C(v)===!1){this.aborted=!0;return}n+=12}L===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(n)})},V.exports.ExifParser=p,V.exports.get_orientation=function(L){var n=0;try{return new p(L,0,L.length).each(function(C){if(C.ifd===0&&C.tag===274&&Array.isArray(C.value))return n=C.value[0],!1}),n}catch{return-1}}},76767:function(V,B,e){var p=e(14847).n8,L=e(14847).Ag;function n(a,s){if(a.length<4+s)return null;var c=L(a,s);return a.length<c+s||c<8?null:{boxtype:String.fromCharCode.apply(null,a.slice(s+4,s+8)),data:a.slice(s+8,s+c),end:s+c}}V.exports.unbox=n;function C(a,s){for(var c=0;;){var u=n(a,c);if(!u)break;switch(u.boxtype){case"ispe":s.sizes.push({width:L(u.data,4),height:L(u.data,8)});break;case"irot":s.transforms.push({type:"irot",value:u.data[0]&3});break;case"imir":s.transforms.push({type:"imir",value:u.data[0]&1});break}c=u.end}}function y(a,s,c){for(var u=0,b=0;b<c;b++)u=u*256+(a[s+b]||0);return u}function h(a,s){for(var c=a[4]>>4&15,u=a[4]&15,b=a[5]>>4&15,f=p(a,6),w=8,v=0;v<f;v++){var o=p(a,w);w+=2;var d=p(a,w);w+=2;var S=y(a,w,b);w+=b;var M=p(a,w);if(w+=2,d===0&&M===1){var P=y(a,w,c),x=y(a,w+c,u);s.item_loc[o]={length:x,offset:P+S}}w+=M*(c+u)}}function g(a,s){for(var c=p(a,4),u=6,b=0;b<c;b++){var f=n(a,u);if(!f)break;if(f.boxtype==="infe"){for(var w=p(f.data,4),v="",o=8;o<f.data.length&&f.data[o];o++)v+=String.fromCharCode(f.data[o]);s.item_inf[v]=w}u=f.end}}function t(a,s){for(var c=0;;){var u=n(a,c);if(!u)break;u.boxtype==="ipco"&&C(u.data,s),c=u.end}}function r(a,s){for(var c=4;;){var u=n(a,c);if(!u)break;u.boxtype==="iprp"&&t(u.data,s),u.boxtype==="iloc"&&h(u.data,s),u.boxtype==="iinf"&&g(u.data,s),c=u.end}}function l(a){var s=a.reduce(function(b,f){return b.width>f.width||b.width===f.width&&b.height>f.height?b:f}),c=a.reduce(function(b,f){return b.height>f.height||b.height===f.height&&b.width>f.width?b:f}),u;return s.width>c.height||s.width===c.height&&s.height>c.width?u=s:u=c,u}V.exports.readSizeFromMeta=function(a){var s={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(r(a,s),!!s.sizes.length){var c=l(s.sizes),u=1;s.transforms.forEach(function(f){var w={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},v={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(f.type==="imir"&&(f.value===0?u=v[u]:(u=v[u],u=w[u],u=w[u])),f.type==="irot")for(var o=0;o<f.value;o++)u=w[u]});var b=null;return s.item_inf.Exif&&(b=s.item_loc[s.item_inf.Exif]),{width:c.width,height:c.height,orientation:s.transforms.length?u:null,variants:s.sizes,exif_location:b}}},V.exports.getMimeType=function(a){var s=String.fromCharCode.apply(null,a.slice(0,4)),c={};c[s]=!0;for(var u=8;u<a.length;u+=4)c[String.fromCharCode.apply(null,a.slice(u,u+4))]=!0;if(!(!c.mif1&&!c.msf1&&!c.miaf))return s==="avif"||s==="avis"||s==="avio"?{type:"avif",mime:"image/avif"}:s==="heic"||s==="heix"?{type:"heic",mime:"image/heic"}:s==="hevc"||s==="hevx"?{type:"heic",mime:"image/heic-sequence"}:c.avif||c.avis?{type:"avif",mime:"image/avif"}:c.heic||c.heix||c.hevc||c.hevx||c.heis?c.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).Ag,C=e(76767),y=e(71371),h=p("ftyp");V.exports=function(g){if(L(g,4,h)){var t=C.unbox(g,0);if(t){var r=C.getMimeType(t.data);if(r){for(var l,a=t.end;;){var s=C.unbox(g,a);if(!s)break;if(a=s.end,s.boxtype==="mdat")return;if(s.boxtype==="meta"){l=s.data;break}}if(l){var c=C.readSizeFromMeta(l);if(c){var u={width:c.width,height:c.height,type:r.type,mime:r.mime,wUnits:"px",hUnits:"px"};if(c.variants.length>1&&(u.variants=c.variants),c.orientation&&(u.orientation=c.orientation),c.exif_location&&c.exif_location.offset+c.exif_location.length<=g.length){var b=n(g,c.exif_location.offset),f=g.slice(c.exif_location.offset+b+4,c.exif_location.offset+c.exif_location.length),w=y.get_orientation(f);w>0&&(u.orientation=w)}return u}}}}}}},2504:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=p("BM");V.exports=function(y){if(!(y.length<26)&&L(y,0,C))return{width:n(y,18),height:n(y,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=p("GIF87a"),y=p("GIF89a");V.exports=function(h){if(!(h.length<10)&&!(!L(h,0,C)&&!L(h,0,y)))return{width:n(h,6),height:n(h,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(V,B,e){var p=e(14847).mP,L=0,n=1,C=16;V.exports=function(y){var h=p(y,0),g=p(y,2),t=p(y,4);if(!(h!==L||g!==n||!t)){for(var r=[],l={width:0,height:0},a=0;a<t;a++){var s=y[6+C*a]||256,c=y[6+C*a+1]||256,u={width:s,height:c};r.push(u),(s>l.width||c>l.height)&&(l=u)}return{width:l.width,height:l.height,variants:r,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(V,B,e){var p=e(14847).n8,L=e(14847).eG,n=e(14847).OF,C=e(71371),y=L("Exif\0\0");V.exports=function(h){if(!(h.length<2)&&!(h[0]!==255||h[1]!==216||h[2]!==255))for(var g=2;;){for(;;){if(h.length-g<2)return;if(h[g++]===255)break}for(var t=h[g++],r;t===255;)t=h[g++];if(208<=t&&t<=217||t===1)r=0;else if(192<=t&&t<=254){if(h.length-g<2)return;r=p(h,g)-2,g+=2}else return;if(t===217||t===218)return;var l;if(t===225&&r>=10&&n(h,g,y)&&(l=C.get_orientation(h.slice(g+6,g+r))),r>=5&&192<=t&&t<=207&&t!==196&&t!==200&&t!==204){if(h.length-g<r)return;var a={width:p(h,g+3),height:p(h,g+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return l>0&&(a.orientation=l),a}g+=r}}},6303:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).Ag,C=p(`PNG\r

`),y=p("IHDR");V.exports=function(h){if(!(h.length<24)&&L(h,0,C)&&L(h,12,y))return{width:n(h,16),height:n(h,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).Ag,C=p("8BPS\0");V.exports=function(y){if(!(y.length<22)&&L(y,0,C))return{width:n(y,18),height:n(y,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(V){function B(l){return l===32||l===9||l===13||l===10}function e(l){return typeof l=="number"&&isFinite(l)&&l>0}function p(l){var a=0,s=l.length;for(l[0]===239&&l[1]===187&&l[2]===191&&(a=3);a<s&&B(l[a]);)a++;return a===s?!1:l[a]===60}var L=/<[-_.:a-zA-Z0-9][^>]*>/,n=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,C=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,y=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,h=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,g=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function t(l){var a=l.match(C),s=l.match(y),c=l.match(h);return{width:a&&(a[1]||a[2]),height:s&&(s[1]||s[2]),viewbox:c&&(c[1]||c[2])}}function r(l){return g.test(l)?l.match(g)[0]:"px"}V.exports=function(l){if(p(l)){for(var a="",s=0;s<l.length;s++)a+=String.fromCharCode(l[s]);var c=(a.match(L)||[""])[0];if(n.test(c)){var u=t(c),b=parseFloat(u.width),f=parseFloat(u.height);if(u.width&&u.height)return!e(b)||!e(f)?void 0:{width:b,height:f,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.height)};var w=(u.viewbox||"").split(" "),v={width:w[2],height:w[3]},o=parseFloat(v.width),d=parseFloat(v.height);if(!(!e(o)||!e(d))&&r(v.width)===r(v.height)){var S=o/d;return u.width?e(b)?{width:b,height:b/S,type:"svg",mime:"image/svg+xml",wUnits:r(u.width),hUnits:r(u.width)}:void 0:u.height?e(f)?{width:f*S,height:f,type:"svg",mime:"image/svg+xml",wUnits:r(u.height),hUnits:r(u.height)}:void 0:{width:o,height:d,type:"svg",mime:"image/svg+xml",wUnits:r(v.width),hUnits:r(v.height)}}}}}},66278:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=e(14847).n8,y=e(14847).nm,h=e(14847).Ag,g=p("II*\0"),t=p("MM\0*");function r(s,c,u){return u?C(s,c):n(s,c)}function l(s,c,u){return u?h(s,c):y(s,c)}function a(s,c,u){var b=r(s,c+2,u),f=l(s,c+4,u);return f!==1||b!==3&&b!==4?null:b===3?r(s,c+8,u):l(s,c+8,u)}V.exports=function(s){if(!(s.length<8)&&!(!L(s,0,g)&&!L(s,0,t))){var c=s[0]===77,u=l(s,4,c)-8;if(!(u<0)){var b=u+8;if(!(s.length-b<2)){var f=r(s,b+0,c)*12;if(!(f<=0)&&(b+=2,!(s.length-b<f))){var w,v,o,d;for(w=0;w<f;w+=12)d=r(s,b+w,c),d===256?v=a(s,b+w,c):d===257&&(o=a(s,b+w,c));if(v&&o)return{width:v,height:o,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}}}}}}},90784:function(V,B,e){var p=e(14847).eG,L=e(14847).OF,n=e(14847).mP,C=e(14847).nm,y=e(71371),h=p("RIFF"),g=p("WEBP");function t(a,s){if(!(a[s+3]!==157||a[s+4]!==1||a[s+5]!==42))return{width:n(a,s+6)&16383,height:n(a,s+8)&16383,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function r(a,s){if(a[s]===47){var c=C(a,s+1);return{width:(c&16383)+1,height:(c>>14&16383)+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function l(a,s){return{width:(a[s+6]<<16|a[s+5]<<8|a[s+4])+1,height:(a[s+9]<<s|a[s+8]<<8|a[s+7])+1,type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}V.exports=function(a){if(!(a.length<16)&&!(!L(a,0,h)&&!L(a,8,g))){var s=12,c=null,u=0,b=C(a,4)+8;if(!(b>a.length)){for(;s+8<b;){if(a[s]===0){s++;continue}var f=String.fromCharCode.apply(null,a.slice(s,s+4)),w=C(a,s+4);f==="VP8 "&&w>=10?c=c||t(a,s+8):f==="VP8L"&&w>=9?c=c||r(a,s+8):f==="VP8X"&&w>=10?c=c||l(a,s+8):f==="EXIF"&&(u=y.get_orientation(a.slice(s+8,s+8+w)),s=1/0),s+=8+w}if(c)return u>0&&(c.orientation=u),c}}}},91497:function(V,B,e){V.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(V,B,e){var p=e(91497);function L(n){for(var C=Object.keys(p),y=0;y<C.length;y++){var h=p[C[y]](n);if(h)return h}return null}V.exports=function(C){return L(C)},V.exports.parsers=p},90386:function(V){var B=V.exports={},e,p;function L(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=L}catch{e=L}try{typeof clearTimeout=="function"?p=clearTimeout:p=n}catch{p=n}})();function C(u){if(e===setTimeout)return setTimeout(u,0);if((e===L||!e)&&setTimeout)return e=setTimeout,setTimeout(u,0);try{return e(u,0)}catch{try{return e.call(null,u,0)}catch{return e.call(this,u,0)}}}function y(u){if(p===clearTimeout)return clearTimeout(u);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(u);try{return p(u)}catch{try{return p.call(null,u)}catch{return p.call(this,u)}}}var h=[],g=!1,t,r=-1;function l(){!g||!t||(g=!1,t.length?h=t.concat(h):r=-1,h.length&&a())}function a(){if(!g){var u=C(l);g=!0;for(var b=h.length;b;){for(t=h,h=[];++r<b;)t&&t[r].run();r=-1,b=h.length}t=null,g=!1,y(u)}}B.nextTick=function(u){var b=new Array(arguments.length-1);if(arguments.length>1)for(var f=1;f<arguments.length;f++)b[f-1]=arguments[f];h.push(new s(u,b)),h.length===1&&!g&&C(a)};function s(u,b){this.fun=u,this.array=b}s.prototype.run=function(){this.fun.apply(null,this.array)},B.title="browser",B.browser=!0,B.env={},B.argv=[],B.version="",B.versions={};function c(){}B.on=c,B.addListener=c,B.once=c,B.off=c,B.removeListener=c,B.removeAllListeners=c,B.emit=c,B.prependListener=c,B.prependOnceListener=c,B.listeners=function(u){return[]},B.binding=function(u){throw new Error("process.binding is not supported")},B.cwd=function(){return"/"},B.chdir=function(u){throw new Error("process.chdir is not supported")},B.umask=function(){return 0}},5877:function(V,B,e){for(var p=e(9748),L=typeof window>"u"?e.g:window,n=["moz","webkit"],C="AnimationFrame",y=L["request"+C],h=L["cancel"+C]||L["cancelRequest"+C],g=0;!y&&g<n.length;g++)y=L[n[g]+"Request"+C],h=L[n[g]+"Cancel"+C]||L[n[g]+"CancelRequest"+C];if(!y||!h){var t=0,r=0,l=[],a=1e3/60;y=function(s){if(l.length===0){var c=p(),u=Math.max(0,a-(c-t));t=u+c,setTimeout(function(){var b=l.slice(0);l.length=0;for(var f=0;f<b.length;f++)if(!b[f].cancelled)try{b[f].callback(t)}catch(w){setTimeout(function(){throw w},0)}},Math.round(u))}return l.push({handle:++r,callback:s,cancelled:!1}),r},h=function(s){for(var c=0;c<l.length;c++)l[c].handle===s&&(l[c].cancelled=!0)}}V.exports=function(s){return y.call(L,s)},V.exports.cancel=function(){h.apply(L,arguments)},V.exports.polyfill=function(s){s||(s=L),s.requestAnimationFrame=y,s.cancelAnimationFrame=h}},3593:function(V,B,e){var p=e(21527),L=e(25075),n=e(93447),C=e(71299),y=e(56131),h=e(30120),g=e(57060),t=g.float32,r=g.fract32;V.exports=a;var l=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]];function a(s,c){if(typeof s=="function"?(c||(c={}),c.regl=s):c=s,c.length&&(c.positions=c),s=c.regl,!s.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var u=s._gl,b,f,w,v,o,d,S={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},M=[];return v=s.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),f=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),w=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),o=s.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),d=s.buffer({usage:"static",type:"float",data:l}),T(c),b=s({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:s.prop("range"),lineWidth:s.prop("lineWidth"),capSize:s.prop("capSize"),opacity:s.prop("opacity"),scale:s.prop("scale"),translate:s.prop("translate"),scaleFract:s.prop("scaleFract"),translateFract:s.prop("translateFract"),viewport:function(R,A){return[A.viewport.x,A.viewport.y,R.viewportWidth,R.viewportHeight]}},attributes:{color:{buffer:v,offset:function(R,A){return A.offset*4},divisor:1},position:{buffer:f,offset:function(R,A){return A.offset*8},divisor:1},positionFract:{buffer:w,offset:function(R,A){return A.offset*8},divisor:1},error:{buffer:o,offset:function(R,A){return A.offset*16},divisor:1},direction:{buffer:d,stride:24,offset:0},lineOffset:{buffer:d,stride:24,offset:8},capOffset:{buffer:d,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:s.prop("viewport")},viewport:s.prop("viewport"),stencil:!1,instances:s.prop("count"),count:l.length}),y(P,{update:T,draw:x,destroy:i,regl:s,gl:u,canvas:u.canvas,groups:M}),P;function P(R){R?T(R):R===null&&i(),x()}function x(R){if(typeof R=="number")return E(R);R&&!Array.isArray(R)&&(R=[R]),s._refresh(),M.forEach(function(A,k){if(A){if(R&&(R[k]?A.draw=!0:A.draw=!1),!A.draw){A.draw=!0;return}E(k)}})}function E(R){typeof R=="number"&&(R=M[R]),R!=null&&R&&R.count&&R.color&&R.opacity&&R.positions&&R.positions.length>1&&(R.scaleRatio=[R.scale[0]*R.viewport.width,R.scale[1]*R.viewport.height],b(R),R.after&&R.after(R))}function T(R){if(R){R.length!=null?typeof R[0]=="number"&&(R=[{positions:R}]):Array.isArray(R)||(R=[R]);var A=0,k=0;if(P.groups=M=R.map(function(U,Z){var q=M[Z];if(U)typeof U=="function"?U={after:U}:typeof U[0]=="number"&&(U={positions:U});else return q;return U=C(U,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),q||(M[Z]=q={id:Z,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},U=y({},S,U)),n(q,U,[{lineWidth:function(J){return+J*.5},capSize:function(J){return+J*.5},opacity:parseFloat,errors:function(J){return J=h(J),k+=J.length,J},positions:function(J,te){return J=h(J,"float64"),te.count=Math.floor(J.length/2),te.bounds=p(J,2),te.offset=A,A+=te.count,J}},{color:function(J,te){var fe=te.count;if(J||(J="transparent"),!Array.isArray(J)||typeof J[0]=="number"){var K=J;J=Array(fe);for(var Y=0;Y<fe;Y++)J[Y]=K}if(J.length<fe)throw Error("Not enough colors");for(var W=new Uint8Array(fe*4),X=0;X<fe;X++){var re=L(J[X],"uint8");W.set(re,X*4)}return W},range:function(J,te,fe){var K=te.bounds;return J||(J=K),te.scale=[1/(J[2]-J[0]),1/(J[3]-J[1])],te.translate=[-J[0],-J[1]],te.scaleFract=r(te.scale),te.translateFract=r(te.translate),J},viewport:function(J){var te;return Array.isArray(J)?te={x:J[0],y:J[1],width:J[2]-J[0],height:J[3]-J[1]}:J?(te={x:J.x||J.left||0,y:J.y||J.top||0},J.right?te.width=J.right-te.x:te.width=J.w||J.width||0,J.bottom?te.height=J.bottom-te.y:te.height=J.h||J.height||0):te={x:0,y:0,width:u.drawingBufferWidth,height:u.drawingBufferHeight},te}}]),q}),A||k){var _=M.reduce(function(U,Z,q){return U+(Z?Z.count:0)},0),H=new Float64Array(_*2),z=new Uint8Array(_*4),N=new Float32Array(_*4);M.forEach(function(U,Z){if(U){var q=U.positions,J=U.count,te=U.offset,fe=U.color,K=U.errors;J&&(z.set(fe,te*4),N.set(K,te*4),H.set(q,te*2))}});var O=t(H);f(O);var F=r(H,O);w(F),v(z),o(N)}}}function i(){f.destroy(),w.destroy(),v.destroy(),o.destroy(),d.destroy()}}},46075:function(V,B,e){var p=e(25075),L=e(21527),n=e(56131),C=e(56068),y=e(71299),h=e(30120),g=e(11474),t=e(54),r=e(57060),l=r.float32,a=r.fract32,s=e(83522),c=e(18863),u=e(6851);V.exports=b;function b(f,w){if(!(this instanceof b))return new b(f,w);if(typeof f=="function"?(w||(w={}),w.regl=f):w=f,w.length&&(w.positions=w),f=w.regl,!f.hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=f._gl,this.regl=f,this.passes=[],this.shaders=b.shaders.has(f)?b.shaders.get(f):b.shaders.set(f,b.createShaders(f)).get(f),this.update(w)}b.dashMult=2,b.maxPatternLength=256,b.precisionThreshold=3e6,b.maxPoints=1e4,b.maxLines=2048,b.shaders=new s,b.createShaders=function(f){var w=f.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),v={primitive:"triangle strip",instances:f.prop("count"),count:4,offset:0,uniforms:{miterMode:function(M,P){return P.join==="round"?2:1},miterLimit:f.prop("miterLimit"),scale:f.prop("scale"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),translate:f.prop("translate"),thickness:f.prop("thickness"),dashTexture:f.prop("dashTexture"),opacity:f.prop("opacity"),pixelRatio:f.context("pixelRatio"),id:f.prop("id"),dashLength:f.prop("dashLength"),viewport:function(M,P){return[P.viewport.x,P.viewport.y,M.viewportWidth,M.viewportHeight]},depth:f.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(M,P){return!P.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:f.prop("viewport")},viewport:f.prop("viewport")},o=f(n({vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:f.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},v)),d;try{d=f(n({cull:{enable:!0,face:"back"},vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:w,divisor:0,stride:8,offset:0},lineTop:{buffer:w,divisor:0,stride:8,offset:4},aColor:{buffer:f.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:f.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:f.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},v))}catch{d=o}var S=f({primitive:"triangle",elements:function(M,P){return P.triangles},offset:0,vert:C([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:C([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:f.prop("scale"),color:f.prop("fill"),scaleFract:f.prop("scaleFract"),translateFract:f.prop("translateFract"),translate:f.prop("translate"),opacity:f.prop("opacity"),pixelRatio:f.context("pixelRatio"),id:f.prop("id"),viewport:function(M,P){return[P.viewport.x,P.viewport.y,M.viewportWidth,M.viewportHeight]}},attributes:{position:{buffer:f.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:f.prop("positionFractBuffer"),stride:8,offset:8}},blend:v.blend,depth:{enable:!1},scissor:v.scissor,stencil:v.stencil,viewport:v.viewport});return{fill:S,rect:o,miter:d}},b.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},b.prototype.render=function(){for(var f,w=[],v=arguments.length;v--;)w[v]=arguments[v];w.length&&(f=this).update.apply(f,w),this.draw()},b.prototype.draw=function(){for(var f=this,w=[],v=arguments.length;v--;)w[v]=arguments[v];return(w.length?w:this.passes).forEach(function(o,d){var S;if(o&&Array.isArray(o))return(S=f).draw.apply(S,o);typeof o=="number"&&(o=f.passes[o]),o&&o.count>1&&o.opacity&&(f.regl._refresh(),o.fill&&o.triangles&&o.triangles.length>2&&f.shaders.fill(o),o.thickness&&(o.scale[0]*o.viewport.width>b.precisionThreshold||o.scale[1]*o.viewport.height>b.precisionThreshold||o.join==="rect"||!o.join&&(o.thickness<=2||o.count>=b.maxPoints)?f.shaders.rect(o):f.shaders.miter(o)))}),this},b.prototype.update=function(f){var w=this;if(f){f.length!=null?typeof f[0]=="number"&&(f=[{positions:f}]):Array.isArray(f)||(f=[f]);var v=this,o=v.regl,d=v.gl;if(f.forEach(function(E,T){var i=w.passes[T];if(E!==void 0){if(E===null){w.passes[T]=null;return}if(typeof E[0]=="number"&&(E={positions:E}),E=y(E,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),i||(w.passes[T]=i={id:T,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:o.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:o.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:o.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},E=n({},b.defaults,E)),E.thickness!=null&&(i.thickness=parseFloat(E.thickness)),E.opacity!=null&&(i.opacity=parseFloat(E.opacity)),E.miterLimit!=null&&(i.miterLimit=parseFloat(E.miterLimit)),E.overlay!=null&&(i.overlay=!!E.overlay,T<b.maxLines&&(i.depth=2*(b.maxLines-1-T%b.maxLines)/b.maxLines-1)),E.join!=null&&(i.join=E.join),E.hole!=null&&(i.hole=E.hole),E.fill!=null&&(i.fill=E.fill?p(E.fill,"uint8"):null),E.viewport!=null&&(i.viewport=c(E.viewport)),i.viewport||(i.viewport=c([d.drawingBufferWidth,d.drawingBufferHeight])),E.close!=null&&(i.close=E.close),E.positions===null&&(E.positions=[]),E.positions){var R,A;if(E.positions.x&&E.positions.y){var k=E.positions.x,_=E.positions.y;A=i.count=Math.max(k.length,_.length),R=new Float64Array(A*2);for(var H=0;H<A;H++)R[H*2]=k[H],R[H*2+1]=_[H]}else R=h(E.positions,"float64"),A=i.count=Math.floor(R.length/2);var z=i.bounds=L(R,2);if(i.fill){for(var N=[],O={},F=0,U=0,Z=0,q=i.count;U<q;U++){var J=R[U*2],te=R[U*2+1];isNaN(J)||isNaN(te)||J==null||te==null?(J=R[F*2],te=R[F*2+1],O[U]=F):F=U,N[Z++]=J,N[Z++]=te}if(E.splitNull){i.count-1 in O||(O[i.count]=i.count-1);var fe=Object.keys(O).map(Number).sort(function(Be,De){return Be-De}),K=[],Y=0,W=i.hole!=null?i.hole[0]:null;if(W!=null){var X=u(fe,function(Be){return Be>=W});fe=fe.slice(0,X),fe.push(W)}for(var re=function(Be){var De=N.slice(Y*2,fe[Be]*2).concat(W?N.slice(W*2):[]),we=(i.hole||[]).map(function(me){return me-W+(fe[Be]-Y)}),ue=g(De,we);ue=ue.map(function(me){return me+Y+(me+Y<fe[Be]?0:W-fe[Be])}),K.push.apply(K,ue),Y=fe[Be]+1},se=0;se<fe.length;se++)re(se);for(var Q=0,ee=K.length;Q<ee;Q++)O[K[Q]]!=null&&(K[Q]=O[K[Q]]);i.triangles=K}else{for(var le=g(N,i.hole||[]),oe=0,he=le.length;oe<he;oe++)O[le[oe]]!=null&&(le[oe]=O[le[oe]]);i.triangles=le}}var xe=new Float64Array(R);t(xe,2,z);var Ae=new Float64Array(A*2+6);i.close?R[0]===R[A*2-2]&&R[1]===R[A*2-1]?(Ae[0]=xe[A*2-4],Ae[1]=xe[A*2-3]):(Ae[0]=xe[A*2-2],Ae[1]=xe[A*2-1]):(Ae[0]=xe[0],Ae[1]=xe[1]),Ae.set(xe,2),i.close?R[0]===R[A*2-2]&&R[1]===R[A*2-1]?(Ae[A*2+2]=xe[2],Ae[A*2+3]=xe[3],i.count-=1):(Ae[A*2+2]=xe[0],Ae[A*2+3]=xe[1],Ae[A*2+4]=xe[2],Ae[A*2+5]=xe[3]):(Ae[A*2+2]=xe[A*2-2],Ae[A*2+3]=xe[A*2-1],Ae[A*2+4]=xe[A*2-2],Ae[A*2+5]=xe[A*2-1]);var Se=l(Ae);i.positionBuffer(Se);var Oe=a(Ae,Se);i.positionFractBuffer(Oe)}if(E.range?i.range=E.range:i.range||(i.range=i.bounds),(E.range||E.positions)&&i.count){var Ve=i.bounds,Ee=Ve[2]-Ve[0],Te=Ve[3]-Ve[1],Le=i.range[2]-i.range[0],Ge=i.range[3]-i.range[1];i.scale=[Ee/Le,Te/Ge],i.translate=[-i.range[0]/Le+Ve[0]/Le||0,-i.range[1]/Ge+Ve[1]/Ge||0],i.scaleFract=a(i.scale),i.translateFract=a(i.translate)}if(E.dashes){var He=0,ke;if(!E.dashes||E.dashes.length<2)He=1,ke=new Uint8Array([255,255,255,255,255,255,255,255]);else{He=0;for(var We=0;We<E.dashes.length;++We)He+=E.dashes[We];ke=new Uint8Array(He*b.dashMult);for(var nt=0,qe=255,Qe=0;Qe<2;Qe++)for(var tt=0;tt<E.dashes.length;++tt){for(var vt=0,dt=E.dashes[tt]*b.dashMult*.5;vt<dt;++vt)ke[nt++]=qe;qe^=255}}i.dashLength=He,i.dashTexture({channels:1,data:ke,width:ke.length,height:1,mag:"linear",min:"linear"},0,0)}if(E.color){var gt=i.count,Mt=E.color;Mt||(Mt="transparent");var Rt=new Uint8Array(gt*4+4);if(!Array.isArray(Mt)||typeof Mt[0]=="number")for(var Wt=p(Mt,"uint8"),je=0;je<gt+1;je++)Rt.set(Wt,je*4);else{for(var _e=0;_e<gt;_e++){var Fe=p(Mt[_e],"uint8");Rt.set(Fe,_e*4)}Rt.set(p(Mt[0],"uint8"),gt*4)}i.colorBuffer({usage:"dynamic",type:"uint8",data:Rt})}}}),f.length<this.passes.length){for(var S=f.length;S<this.passes.length;S++){var M=this.passes[S];M&&(M.colorBuffer.destroy(),M.positionBuffer.destroy(),M.dashTexture.destroy())}this.passes.length=f.length}for(var P=[],x=0;x<this.passes.length;x++)this.passes[x]!==null&&P.push(this.passes[x]);return this.passes=P,this}},b.prototype.destroy=function(){return this.passes.forEach(function(f){f.colorBuffer.destroy(),f.positionBuffer.destroy(),f.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(V,B,e){function p(i,R){var A=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(A!=null){var k,_,H,z,N=[],O=!0,F=!1;try{if(H=(A=A.call(i)).next,R===0){if(Object(A)!==A)return;O=!1}else for(;!(O=(k=H.call(A)).done)&&(N.push(k.value),N.length!==R);O=!0);}catch(U){F=!0,_=U}finally{try{if(!O&&A.return!=null&&(z=A.return(),Object(z)!==z))return}finally{if(F)throw _}}return N}}function L(i,R){return y(i)||p(i,R)||g(i,R)||l()}function n(i){return C(i)||h(i)||g(i)||r()}function C(i){if(Array.isArray(i))return t(i)}function y(i){if(Array.isArray(i))return i}function h(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function g(i,R){if(i){if(typeof i=="string")return t(i,R);var A=Object.prototype.toString.call(i).slice(8,-1);if(A==="Object"&&i.constructor&&(A=i.constructor.name),A==="Map"||A==="Set")return Array.from(i);if(A==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return t(i,R)}}function t(i,R){(R==null||R>i.length)&&(R=i.length);for(var A=0,k=new Array(R);A<R;A++)k[A]=i[A];return k}function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=e(25075),s=e(21527),c=e(6475),u=e(88294),b=e(56131),f=e(56068),w=e(71299),v=e(93447),o=e(30120),d=e(62683),S=e(57060),M=e(18863),P=x;function x(i,R){var A=this;if(!(this instanceof x))return new x(i,R);typeof i=="function"?(R||(R={}),R.regl=i):(R=i,i=null),R&&R.length&&(R.positions=R),i=R.regl;var k=i._gl,_,H=[],z={},N=[],O=[null],F=[null],U=255,Z=100;this.tooManyColors=d,_=i.texture({data:new Uint8Array(U*4),width:U,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),b(this,{regl:i,gl:k,groups:N,markerCache:F,markerTextures:O,palette:H,paletteIds:z,paletteTexture:_,maxColors:U,maxSize:Z,canvas:k.canvas}),this.update(R);var q={uniforms:{constPointSize:!!R.constPointSize,opacity:i.prop("opacity"),paletteSize:function(K,Y){return[A.tooManyColors?0:U,_.height]},pixelRatio:i.context("pixelRatio"),scale:i.prop("scale"),scaleFract:i.prop("scaleFract"),translate:i.prop("translate"),translateFract:i.prop("translateFract"),markerTexture:i.prop("markerTexture"),paletteTexture:_},attributes:{x:function(K,Y){return Y.xAttr||{buffer:Y.positionBuffer,stride:8,offset:0}},y:function(K,Y){return Y.yAttr||{buffer:Y.positionBuffer,stride:8,offset:4}},xFract:function(K,Y){return Y.xAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:0}},yFract:function(K,Y){return Y.yAttr?{constant:[0,0]}:{buffer:Y.positionFractBuffer,stride:8,offset:4}},size:function(K,Y){return Y.size.length?{buffer:Y.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(Y.size*255/A.maxSize)]}},borderSize:function(K,Y){return Y.borderSize.length?{buffer:Y.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(Y.borderSize*255/A.maxSize)]}},colorId:function(K,Y){return Y.color.length?{buffer:Y.colorBuffer,stride:A.tooManyColors?8:4,offset:0}:{constant:A.tooManyColors?H.slice(Y.color*4,Y.color*4+4):[Y.color]}},borderColorId:function(K,Y){return Y.borderColor.length?{buffer:Y.colorBuffer,stride:A.tooManyColors?8:4,offset:A.tooManyColors?4:2}:{constant:A.tooManyColors?H.slice(Y.borderColor*4,Y.borderColor*4+4):[Y.borderColor]}},isActive:function(K,Y){return Y.activation===!0?{constant:[1]}:Y.activation?Y.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:i.prop("viewport")},viewport:i.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:i.prop("elements"),count:i.prop("count"),offset:i.prop("offset"),primitive:"points"},J=b({},q);J.frag=f([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),J.vert=f([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=i(J);var te=b({},q);te.frag=f([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),te.vert=f([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),d&&(te.frag=te.frag.replace("smoothstep","smoothStep"),J.frag=J.frag.replace("smoothstep","smoothStep")),this.drawCircle=i(te)}x.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},x.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},x.prototype.draw=function(){for(var i=this,R=arguments.length,A=new Array(R),k=0;k<R;k++)A[k]=arguments[k];var _=this.groups;if(A.length===1&&Array.isArray(A[0])&&(A[0][0]===null||Array.isArray(A[0][0]))&&(A=A[0]),this.regl._refresh(),A.length)for(var H=0;H<A.length;H++)this.drawItem(H,A[H]);else _.forEach(function(z,N){i.drawItem(N)});return this},x.prototype.drawItem=function(i,R){var A=this.groups,k=A[i];if(typeof R=="number"&&(i=R,k=A[R],R=null),!!(k&&k.count&&k.opacity)){k.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,k,R));for(var _=[],H=1;H<k.activation.length;H++)!k.activation[H]||k.activation[H]!==!0&&!k.activation[H].data.length||_.push.apply(_,n(this.getMarkerDrawOptions(H,k,R)));_.length&&this.drawMarker(_)}},x.prototype.getMarkerDrawOptions=function(i,R,A){var k=R.range,_=R.tree,H=R.viewport,z=R.activation,N=R.selectionBuffer,O=R.count;if(this.regl,!_)return A?[b({},R,{markerTexture:this.markerTextures[i],activation:z[i],count:A.length,elements:A,offset:0})]:[b({},R,{markerTexture:this.markerTextures[i],activation:z[i],offset:0})];var F=[],U=_.range(k,{lod:!0,px:[(k[2]-k[0])/H.width,(k[3]-k[1])/H.height]});if(A){for(var Z=z[i],q=Z.data,J=new Uint8Array(O),te=0;te<A.length;te++){var fe=A[te];J[fe]=q?q[fe]:1}N.subdata(J)}for(var K=U.length;K--;){var Y=L(U[K],2),W=Y[0],X=Y[1];F.push(b({},R,{markerTexture:this.markerTextures[i],activation:A?N:z[i],offset:W,count:X-W}))}return F},x.prototype.update=function(){for(var i=this,R=arguments.length,A=new Array(R),k=0;k<R;k++)A[k]=arguments[k];if(A.length){A.length===1&&Array.isArray(A[0])&&(A=A[0]);var _=this.groups,H=this.gl,z=this.regl,N=this.maxSize,O=this.maxColors,F=this.palette;this.groups=_=A.map(function(U,Z){var q=_[Z];if(U===void 0)return q;U===null?U={positions:null}:typeof U=="function"?U={ondraw:U}:typeof U[0]=="number"&&(U={positions:U}),U=w(U,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"}),U.positions===null&&(U.positions=[]),U.tooManyColors!=null&&(i.tooManyColors=U.tooManyColors),q||(_[Z]=q={id:Z,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:z.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:z.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},U=b({},x.defaults,U)),U.positions&&!("marker"in U)&&(U.marker=q.marker,delete q.marker),U.marker&&!("positions"in U)&&(U.positions=q.positions,delete q.positions);var J=0,te=0;if(v(q,U,[{snap:!0,size:function(Te,Le){return Te==null&&(Te=x.defaults.size),J+=Te&&Te.length?1:0,Te},borderSize:function(Te,Le){return Te==null&&(Te=x.defaults.borderSize),J+=Te&&Te.length?1:0,Te},opacity:parseFloat,color:function(Te,Le){return Te==null&&(Te=x.defaults.color),Te=i.updateColor(Te),te++,Te},borderColor:function(Te,Le){return Te==null&&(Te=x.defaults.borderColor),Te=i.updateColor(Te),te++,Te},bounds:function(Te,Le,Ge){return"range"in Ge||(Ge.range=null),Te},positions:function(Te,Le,Ge){var He=Le.snap,ke=Le.positionBuffer,We=Le.positionFractBuffer,nt=Le.selectionBuffer;if(Te.x||Te.y)return Te.x.length?Le.xAttr={buffer:z.buffer(Te.x),offset:0,stride:4,count:Te.x.length}:Le.xAttr={buffer:Te.x.buffer,offset:Te.x.offset*4||0,stride:(Te.x.stride||1)*4,count:Te.x.count},Te.y.length?Le.yAttr={buffer:z.buffer(Te.y),offset:0,stride:4,count:Te.y.length}:Le.yAttr={buffer:Te.y.buffer,offset:Te.y.offset*4||0,stride:(Te.y.stride||1)*4,count:Te.y.count},Le.count=Math.max(Le.xAttr.count,Le.yAttr.count),Te;Te=o(Te,"float64");var qe=Le.count=Math.floor(Te.length/2),Qe=Le.bounds=qe?s(Te,2):null;if(!Ge.range&&!Le.range&&(delete Le.range,Ge.range=Qe),!Ge.marker&&!Le.marker&&(delete Le.marker,Ge.marker=null),He&&(He===!0||qe>He)?Le.tree=u(Te,{bounds:Qe}):He&&He.length&&(Le.tree=He),Le.tree){var tt={primitive:"points",usage:"static",data:Le.tree,type:"uint32"};Le.elements?Le.elements(tt):Le.elements=z.elements(tt)}var vt=S.float32(Te);ke({data:vt,usage:"dynamic"});var dt=S.fract32(Te,vt);return We({data:dt,usage:"dynamic"}),nt({data:new Uint8Array(qe),type:"uint8",usage:"stream"}),Te}},{marker:function(Te,Le,Ge){var He=Le.activation;if(He.forEach(function(dt){return dt&&dt.destroy&&dt.destroy()}),He.length=0,!Te||typeof Te[0]=="number"){var ke=i.addMarker(Te);He[ke]=!0}else{for(var We=[],nt=0,qe=Math.min(Te.length,Le.count);nt<qe;nt++){var Qe=i.addMarker(Te[nt]);We[Qe]||(We[Qe]=new Uint8Array(Le.count)),We[Qe][nt]=1}for(var tt=0;tt<We.length;tt++)if(We[tt]){var vt={data:We[tt],type:"uint8",usage:"static"};He[tt]?He[tt](vt):He[tt]=z.buffer(vt),He[tt].data=We[tt]}}return Te},range:function(Te,Le,Ge){var He=Le.bounds;if(He)return Te||(Te=He),Le.scale=[1/(Te[2]-Te[0]),1/(Te[3]-Te[1])],Le.translate=[-Te[0],-Te[1]],Le.scaleFract=S.fract(Le.scale),Le.translateFract=S.fract(Le.translate),Te},viewport:function(Te){var Le=M(Te||[H.drawingBufferWidth,H.drawingBufferHeight]);return Le}}]),J){var fe=q,K=fe.count,Y=fe.size,W=fe.borderSize,X=fe.sizeBuffer,re=new Uint8Array(K*2);if(Y.length||W.length)for(var se=0;se<K;se++)re[se*2]=Math.round((Y[se]==null?Y:Y[se])*255/N),re[se*2+1]=Math.round((W[se]==null?W:W[se])*255/N);X({data:re,usage:"dynamic"})}if(te){var Q=q,ee=Q.count,le=Q.color,oe=Q.borderColor,he=Q.colorBuffer,xe;if(i.tooManyColors){if(le.length||oe.length){xe=new Uint8Array(ee*8);for(var Ae=0;Ae<ee;Ae++){var Se=le[Ae];xe[Ae*8]=F[Se*4],xe[Ae*8+1]=F[Se*4+1],xe[Ae*8+2]=F[Se*4+2],xe[Ae*8+3]=F[Se*4+3];var Oe=oe[Ae];xe[Ae*8+4]=F[Oe*4],xe[Ae*8+5]=F[Oe*4+1],xe[Ae*8+6]=F[Oe*4+2],xe[Ae*8+7]=F[Oe*4+3]}}}else if(le.length||oe.length){xe=new Uint8Array(ee*4+2);for(var Ve=0;Ve<ee;Ve++)le[Ve]!=null&&(xe[Ve*4]=le[Ve]%O,xe[Ve*4+1]=Math.floor(le[Ve]/O)),oe[Ve]!=null&&(xe[Ve*4+2]=oe[Ve]%O,xe[Ve*4+3]=Math.floor(oe[Ve]/O))}he({data:xe||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return q})}},x.prototype.addMarker=function(i){var R=this.markerTextures,A=this.regl,k=this.markerCache,_=i==null?0:k.indexOf(i);if(_>=0)return _;var H;if(i instanceof Uint8Array||i instanceof Uint8ClampedArray)H=i;else{H=new Uint8Array(i.length);for(var z=0,N=i.length;z<N;z++)H[z]=i[z]*255}var O=Math.floor(Math.sqrt(H.length));return _=R.length,k.push(i),R.push(A.texture({channels:1,data:H,radius:O,mag:"linear",min:"linear"})),_},x.prototype.updateColor=function(i){var R=this.paletteIds,A=this.palette,k=this.maxColors;Array.isArray(i)||(i=[i]);var _=[];if(typeof i[0]=="number"){var H=[];if(Array.isArray(i))for(var z=0;z<i.length;z+=4)H.push(i.slice(z,z+4));else for(var N=0;N<i.length;N+=4)H.push(i.subarray(N,N+4));i=H}for(var O=0;O<i.length;O++){var F=i[O];F=a(F,"uint8");var U=c(F,!1);if(R[U]==null){var Z=A.length;R[U]=Math.floor(Z/4),A[Z]=F[0],A[Z+1]=F[1],A[Z+2]=F[2],A[Z+3]=F[3]}_[O]=R[U]}return!this.tooManyColors&&A.length>k*4&&(this.tooManyColors=!0),this.updatePalette(A),_.length===1?_[0]:_},x.prototype.updatePalette=function(i){if(!this.tooManyColors){var R=this.maxColors,A=this.paletteTexture,k=Math.ceil(i.length*.25/R);if(k>1){i=i.slice();for(var _=i.length*.25%R;_<k*R;_++)i.push(0,0,0,0)}A.height<k&&A.resize(R,k),A.subimage({width:Math.min(i.length*.25,R),height:k,data:i},0,0)}},x.prototype.destroy=function(){return this.groups.forEach(function(i){i.sizeBuffer.destroy(),i.positionBuffer.destroy(),i.positionFractBuffer.destroy(),i.colorBuffer.destroy(),i.activation.forEach(function(R){return R&&R.destroy&&R.destroy()}),i.selectionBuffer.destroy(),i.elements&&i.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(i){return i&&i.destroy&&i.destroy()}),this};var E=e(56131),T=function(R,A){var k=new P(R,A),_=k.render.bind(k);return E(_,{render:_,update:k.update.bind(k),draw:k.draw.bind(k),destroy:k.destroy.bind(k),regl:k.regl,gl:k.gl,canvas:k.gl.canvas,groups:k.groups,markers:k.markerCache,palette:k.palette}),_};V.exports=T},60487:function(V,B,e){var p=e(11870),L=e(71299),n=e(21527),C=e(5877),y=e(57471),h=e(18863),g=e(30120);V.exports=t;function t(s,c){if(!(this instanceof t))return new t(s);this.traces=[],this.passes={},this.regl=s,this.scatter=p(s),this.canvas=this.scatter.canvas}t.prototype.render=function(){for(var s=this,c,u=[],b=arguments.length;b--;)u[b]=arguments[b];return u.length&&(c=this).update.apply(c,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=C(function(){s.draw(),s.dirty=!0,s.planned=null})):(this.draw(),this.dirty=!0,C(function(){s.dirty=!1})),this)},t.prototype.update=function(){for(var s,c=[],u=arguments.length;u--;)c[u]=arguments[u];if(c.length){for(var b=0;b<c.length;b++)this.updateItem(b,c[b]);this.traces=this.traces.filter(Boolean);for(var f=[],w=0,v=0;v<this.traces.length;v++){for(var o=this.traces[v],d=this.traces[v].passes,S=0;S<d.length;S++)f.push(this.passes[d[S]]);o.passOffset=w,w+=o.passes.length}return(s=this.scatter).update.apply(s,f),this}},t.prototype.updateItem=function(s,c){var u=this,b=u.regl;if(c===null)return this.traces[s]=null,this;if(!c)return this;var f=L(c,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),w=this.traces[s]||(this.traces[s]={id:s,buffer:b.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:h([b._gl.drawingBufferWidth,b._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(f.color!=null&&(w.color=f.color),f.size!=null&&(w.size=f.size),f.marker!=null&&(w.marker=f.marker),f.borderColor!=null&&(w.borderColor=f.borderColor),f.borderSize!=null&&(w.borderSize=f.borderSize),f.opacity!=null&&(w.opacity=f.opacity),f.viewport&&(w.viewport=h(f.viewport)),f.diagonal!=null&&(w.diagonal=f.diagonal),f.upper!=null&&(w.upper=f.upper),f.lower!=null&&(w.lower=f.lower),f.data){w.buffer(g(f.data)),w.columns=f.data.length,w.count=f.data[0].length,w.bounds=[];for(var v=0;v<w.columns;v++)w.bounds[v]=n(f.data[v],1)}var o;f.range&&(w.range=f.range,o=w.range&&typeof w.range[0]!="number"),f.domain&&(w.domain=f.domain);var d=!1;f.padding!=null&&(Array.isArray(f.padding)&&f.padding.length===w.columns&&typeof f.padding[f.padding.length-1]=="number"?(w.padding=f.padding.map(a),d=!0):w.padding=a(f.padding));var S=w.columns,M=w.count,P=w.viewport.width,x=w.viewport.height,E=w.viewport.x,T=w.viewport.y,i=P/S,R=x/S;w.passes=[];for(var A=0;A<S;A++)for(var k=0;k<S;k++)if(!(!w.diagonal&&k===A)&&!(!w.upper&&A>k)&&!(!w.lower&&A<k)){var _=r(w.id,A,k),H=this.passes[_]||(this.passes[_]={});if(f.data&&(f.transpose?H.positions={x:{buffer:w.buffer,offset:k,count:M,stride:S},y:{buffer:w.buffer,offset:A,count:M,stride:S}}:H.positions={x:{buffer:w.buffer,offset:k*M,count:M},y:{buffer:w.buffer,offset:A*M,count:M}},H.bounds=l(w.bounds,A,k)),f.domain||f.viewport||f.data){var z=d?l(w.padding,A,k):w.padding;if(w.domain){var N=l(w.domain,A,k),O=N[0],F=N[1],U=N[2],Z=N[3];H.viewport=[E+O*P+z[0],T+F*x+z[1],E+U*P-z[2],T+Z*x-z[3]]}else H.viewport=[E+k*i+i*z[0],T+A*R+R*z[1],E+(k+1)*i-i*z[2],T+(A+1)*R-R*z[3]]}f.color&&(H.color=w.color),f.size&&(H.size=w.size),f.marker&&(H.marker=w.marker),f.borderSize&&(H.borderSize=w.borderSize),f.borderColor&&(H.borderColor=w.borderColor),f.opacity&&(H.opacity=w.opacity),f.range&&(H.range=o?l(w.range,A,k):w.range||H.bounds),w.passes.push(_)}return this},t.prototype.draw=function(){for(var s,c=[],u=arguments.length;u--;)c[u]=arguments[u];if(!c.length)this.scatter.draw();else{for(var b=[],f=0;f<c.length;f++)if(typeof c[f]=="number"){var w=this.traces[c[f]],v=w.passes,o=w.passOffset;b.push.apply(b,y(o,o+v.length))}else if(c[f].length){var d=c[f],S=this.traces[f],M=S.passes,P=S.passOffset;M=M.map(function(x,E){b[P+E]=d})}(s=this.scatter).draw.apply(s,b)}return this},t.prototype.destroy=function(){return this.traces.forEach(function(s){s.buffer&&s.buffer.destroy&&s.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this};function r(s,c,u){var b=s.id!=null?s.id:s,f=c,w=u,v=b<<16|(f&255)<<8|w&255;return v}function l(s,c,u){var b,f,w,v,o=s[c],d=s[u];return o.length>2?(o[0],o[2],b=o[1],f=o[3]):o.length?(b=o[0],f=o[1]):(o.x,b=o.y,o.x+o.width,f=o.y+o.height),d.length>2?(w=d[0],v=d[2],d[1],d[3]):d.length?(w=d[0],v=d[1]):(w=d.x,d.y,v=d.x+d.width,d.y+d.height),[w,b,v,f]}function a(s){if(typeof s=="number")return[s,s,s,s];if(s.length===2)return[s[0],s[1],s[0],s[1]];var c=h(s);return[c.x,c.y,c.x+c.width,c.y+c.height]}},98580:function(V){(function(B,e){V.exports=e()})(this,function(){function B(yt,Kt){this.id=he++,this.type=yt,this.data=Kt}function e(yt){if(yt.length===0)return[];var Kt=yt.charAt(0),Zt=yt.charAt(yt.length-1);if(1<yt.length&&Kt===Zt&&(Kt==='"'||Kt==="'"))return['"'+yt.substr(1,yt.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if(Kt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(yt))return e(yt.substr(0,Kt.index)).concat(e(Kt[1])).concat(e(yt.substr(Kt.index+Kt[0].length)));if(Kt=yt.split("."),Kt.length===1)return['"'+yt.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(yt=[],Zt=0;Zt<Kt.length;++Zt)yt=yt.concat(e(Kt[Zt]));return yt}function p(yt){return"["+e(yt).join("][")+"]"}function L(yt,Kt){if(typeof yt=="function")return new B(0,yt);if(typeof yt=="number"||typeof yt=="boolean")return new B(5,yt);if(Array.isArray(yt))return new B(6,yt.map(function(Zt,Ar){return L(Zt)}));if(yt instanceof B)return yt}function n(){var yt={"":0},Kt=[""];return{id:function(Zt){var Ar=yt[Zt];return Ar||(Ar=yt[Zt]=Kt.length,Kt.push(Zt),Ar)},str:function(Zt){return Kt[Zt]}}}function C(yt,Kt,Zt){function Ar(){var lt=window.innerWidth,xt=window.innerHeight;yt!==document.body&&(xt=vr.getBoundingClientRect(),lt=xt.right-xt.left,xt=xt.bottom-xt.top),vr.width=Zt*lt,vr.height=Zt*xt}var vr=document.createElement("canvas");oe(vr.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),yt.appendChild(vr),yt===document.body&&(vr.style.position="absolute",oe(yt.style,{margin:0,padding:0}));var ut;return yt!==document.body&&typeof ResizeObserver=="function"?(ut=new ResizeObserver(function(){setTimeout(Ar)}),ut.observe(yt)):window.addEventListener("resize",Ar,!1),Ar(),{canvas:vr,onDestroy:function(){ut?ut.disconnect():window.removeEventListener("resize",Ar),yt.removeChild(vr)}}}function y(yt,Kt){function Zt(Ar){try{return yt.getContext(Ar,Kt)}catch{return null}}return Zt("webgl")||Zt("experimental-webgl")||Zt("webgl-experimental")}function h(yt){return typeof yt=="string"?yt.split():yt}function g(yt){return typeof yt=="string"?document.querySelector(yt):yt}function t(yt){var Kt=yt||{},Zt,Ar,vr,ut;yt={};var lt=[],xt=[],Tt=typeof window>"u"?1:window.devicePixelRatio,Ct=!1,At={},zt=function(qt){},Ht=function(){};if(typeof Kt=="string"?Zt=document.querySelector(Kt):typeof Kt=="object"&&(typeof Kt.nodeName=="string"&&typeof Kt.appendChild=="function"&&typeof Kt.getBoundingClientRect=="function"?Zt=Kt:typeof Kt.drawArrays=="function"||typeof Kt.drawElements=="function"?(ut=Kt,vr=ut.canvas):("gl"in Kt?ut=Kt.gl:"canvas"in Kt?vr=g(Kt.canvas):"container"in Kt&&(Ar=g(Kt.container)),"attributes"in Kt&&(yt=Kt.attributes),"extensions"in Kt&&(lt=h(Kt.extensions)),"optionalExtensions"in Kt&&(xt=h(Kt.optionalExtensions)),"onDone"in Kt&&(zt=Kt.onDone),"profile"in Kt&&(Ct=!!Kt.profile),"pixelRatio"in Kt&&(Tt=+Kt.pixelRatio),"cachedCode"in Kt&&(At=Kt.cachedCode))),Zt&&(Zt.nodeName.toLowerCase()==="canvas"?vr=Zt:Ar=Zt),!ut){if(!vr){if(Zt=C(Ar||document.body,zt,Tt),!Zt)return null;vr=Zt.canvas,Ht=Zt.onDestroy}yt.premultipliedAlpha===void 0&&(yt.premultipliedAlpha=!0),ut=y(vr,yt)}return ut?{gl:ut,canvas:vr,container:Ar,extensions:lt,optionalExtensions:xt,pixelRatio:Tt,profile:Ct,cachedCode:At,onDone:zt,onDestroy:Ht}:(Ht(),zt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function r(yt,Kt){function Zt(lt){lt=lt.toLowerCase();var xt;try{xt=Ar[lt]=yt.getExtension(lt)}catch{}return!!xt}for(var Ar={},vr=0;vr<Kt.extensions.length;++vr){var ut=Kt.extensions[vr];if(!Zt(ut))return Kt.onDestroy(),Kt.onDone('"'+ut+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return Kt.optionalExtensions.forEach(Zt),{extensions:Ar,restore:function(){Object.keys(Ar).forEach(function(lt){if(Ar[lt]&&!Zt(lt))throw Error("(regl): error restoring extension "+lt)})}}}function l(yt,Kt){for(var Zt=Array(yt),Ar=0;Ar<yt;++Ar)Zt[Ar]=Kt(Ar);return Zt}function a(yt){var Kt,Zt;return Kt=(65535<yt)<<4,yt>>>=Kt,Zt=(255<yt)<<3,yt>>>=Zt,Kt|=Zt,Zt=(15<yt)<<2,yt>>>=Zt,Kt|=Zt,Zt=(3<yt)<<1,Kt|Zt|yt>>>Zt>>1}function s(){function yt(Ar){e:{for(var vr=16;268435456>=vr;vr*=16)if(Ar<=vr){Ar=vr;break e}Ar=0}return vr=Zt[a(Ar)>>2],0<vr.length?vr.pop():new ArrayBuffer(Ar)}function Kt(Ar){Zt[a(Ar.byteLength)>>2].push(Ar)}var Zt=l(8,function(){return[]});return{alloc:yt,free:Kt,allocType:function(Ar,vr){var ut=null;switch(Ar){case 5120:ut=new Int8Array(yt(vr),0,vr);break;case 5121:ut=new Uint8Array(yt(vr),0,vr);break;case 5122:ut=new Int16Array(yt(2*vr),0,vr);break;case 5123:ut=new Uint16Array(yt(2*vr),0,vr);break;case 5124:ut=new Int32Array(yt(4*vr),0,vr);break;case 5125:ut=new Uint32Array(yt(4*vr),0,vr);break;case 5126:ut=new Float32Array(yt(4*vr),0,vr);break;default:return null}return ut.length!==vr?ut.subarray(0,vr):ut},freeType:function(Ar){Kt(Ar.buffer)}}}function c(yt){return!!yt&&typeof yt=="object"&&Array.isArray(yt.shape)&&Array.isArray(yt.stride)&&typeof yt.offset=="number"&&yt.shape.length===yt.stride.length&&(Array.isArray(yt.data)||Ee(yt.data))}function u(yt,Kt,Zt,Ar,vr,ut){for(var lt=0;lt<Kt;++lt)for(var xt=yt[lt],Tt=0;Tt<Zt;++Tt)for(var Ct=xt[Tt],At=0;At<Ar;++At)vr[ut++]=Ct[At]}function b(yt,Kt,Zt,Ar,vr){for(var ut=1,lt=Zt+1;lt<Kt.length;++lt)ut*=Kt[lt];var xt=Kt[Zt];if(Kt.length-Zt===4){var Tt=Kt[Zt+1],Ct=Kt[Zt+2];for(Kt=Kt[Zt+3],lt=0;lt<xt;++lt)u(yt[lt],Tt,Ct,Kt,Ar,vr),vr+=ut}else for(lt=0;lt<xt;++lt)b(yt[lt],Kt,Zt+1,Ar,vr),vr+=ut}function f(yt){return Ge[Object.prototype.toString.call(yt)]|0}function w(yt,Kt){for(var Zt=0;Zt<Kt.length;++Zt)yt[Zt]=Kt[Zt]}function v(yt,Kt,Zt,Ar,vr,ut,lt){for(var xt=0,Tt=0;Tt<Zt;++Tt)for(var Ct=0;Ct<Ar;++Ct)yt[xt++]=Kt[vr*Tt+ut*Ct+lt]}function o(yt,Kt,Zt,Ar){function vr(zt){this.id=Tt++,this.buffer=yt.createBuffer(),this.type=zt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,Zt.profile&&(this.stats={size:0})}function ut(zt,Ht,qt){zt.byteLength=Ht.byteLength,yt.bufferData(zt.type,Ht,qt)}function lt(zt,Ht,qt,Qt,or,Lr){if(zt.usage=qt,Array.isArray(Ht)){if(zt.dtype=Qt||5126,0<Ht.length)if(Array.isArray(Ht[0])){or=nt(Ht);for(var Ze=Qt=1;Ze<or.length;++Ze)Qt*=or[Ze];zt.dimension=Qt,Ht=We(Ht,or,zt.dtype),ut(zt,Ht,qt),Lr?zt.persistentData=Ht:Oe.freeType(Ht)}else typeof Ht[0]=="number"?(zt.dimension=or,or=Oe.allocType(zt.dtype,Ht.length),w(or,Ht),ut(zt,or,qt),Lr?zt.persistentData=or:Oe.freeType(or)):Ee(Ht[0])&&(zt.dimension=Ht[0].length,zt.dtype=Qt||f(Ht[0])||5126,Ht=We(Ht,[Ht.length,Ht[0].length],zt.dtype),ut(zt,Ht,qt),Lr?zt.persistentData=Ht:Oe.freeType(Ht))}else if(Ee(Ht))zt.dtype=Qt||f(Ht),zt.dimension=or,ut(zt,Ht,qt),Lr&&(zt.persistentData=new Uint8Array(new Uint8Array(Ht.buffer)));else if(c(Ht)){or=Ht.shape;var Ye=Ht.stride,Ze=Ht.offset,It=0,kt=0,Xt=0,ir=0;or.length===1?(It=or[0],kt=1,Xt=Ye[0],ir=0):or.length===2&&(It=or[0],kt=or[1],Xt=Ye[0],ir=Ye[1]),zt.dtype=Qt||f(Ht.data)||5126,zt.dimension=kt,or=Oe.allocType(zt.dtype,It*kt),v(or,Ht.data,It,kt,Xt,ir,Ze),ut(zt,or,qt),Lr?zt.persistentData=or:Oe.freeType(or)}else Ht instanceof ArrayBuffer&&(zt.dtype=5121,zt.dimension=or,ut(zt,Ht,qt),Lr&&(zt.persistentData=new Uint8Array(new Uint8Array(Ht))))}function xt(zt){Kt.bufferCount--,Ar(zt),yt.deleteBuffer(zt.buffer),zt.buffer=null,delete Ct[zt.id]}var Tt=0,Ct={};vr.prototype.bind=function(){yt.bindBuffer(this.type,this.buffer)},vr.prototype.destroy=function(){xt(this)};var At=[];return Zt.profile&&(Kt.getTotalBufferSize=function(){var zt=0;return Object.keys(Ct).forEach(function(Ht){zt+=Ct[Ht].stats.size}),zt}),{create:function(zt,Ht,qt,Qt){function or(Ze){var Ye=35044,It=null,kt=0,Xt=0,ir=1;return Array.isArray(Ze)||Ee(Ze)||c(Ze)||Ze instanceof ArrayBuffer?It=Ze:typeof Ze=="number"?kt=Ze|0:Ze&&("data"in Ze&&(It=Ze.data),"usage"in Ze&&(Ye=ke[Ze.usage]),"type"in Ze&&(Xt=He[Ze.type]),"dimension"in Ze&&(ir=Ze.dimension|0),"length"in Ze&&(kt=Ze.length|0)),Lr.bind(),It?lt(Lr,It,Ye,Xt,ir,Qt):(kt&&yt.bufferData(Lr.type,kt,Ye),Lr.dtype=Xt||5121,Lr.usage=Ye,Lr.dimension=ir,Lr.byteLength=kt),Zt.profile&&(Lr.stats.size=Lr.byteLength*qe[Lr.dtype]),or}Kt.bufferCount++;var Lr=new vr(Ht);return Ct[Lr.id]=Lr,qt||or(zt),or._reglType="buffer",or._buffer=Lr,or.subdata=function(Ze,Ye){var It=(Ye||0)|0,kt;if(Lr.bind(),Ee(Ze)||Ze instanceof ArrayBuffer)yt.bufferSubData(Lr.type,It,Ze);else if(Array.isArray(Ze)){if(0<Ze.length)if(typeof Ze[0]=="number"){var Xt=Oe.allocType(Lr.dtype,Ze.length);w(Xt,Ze),yt.bufferSubData(Lr.type,It,Xt),Oe.freeType(Xt)}else(Array.isArray(Ze[0])||Ee(Ze[0]))&&(kt=nt(Ze),Xt=We(Ze,kt,Lr.dtype),yt.bufferSubData(Lr.type,It,Xt),Oe.freeType(Xt))}else if(c(Ze)){kt=Ze.shape;var ir=Ze.stride,ur=Xt=0,nr=0,Nt=0;kt.length===1?(Xt=kt[0],ur=1,nr=ir[0],Nt=0):kt.length===2&&(Xt=kt[0],ur=kt[1],nr=ir[0],Nt=ir[1]),kt=Array.isArray(Ze.data)?Lr.dtype:f(Ze.data),kt=Oe.allocType(kt,Xt*ur),v(kt,Ze.data,Xt,ur,nr,Nt,Ze.offset),yt.bufferSubData(Lr.type,It,kt),Oe.freeType(kt)}return or},Zt.profile&&(or.stats=Lr.stats),or.destroy=function(){xt(Lr)},or},createStream:function(zt,Ht){var qt=At.pop();return qt||(qt=new vr(zt)),qt.bind(),lt(qt,Ht,35040,0,1,!1),qt},destroyStream:function(zt){At.push(zt)},clear:function(){Te(Ct).forEach(xt),At.forEach(xt)},getBuffer:function(zt){return zt&&zt._buffer instanceof vr?zt._buffer:null},restore:function(){Te(Ct).forEach(function(zt){zt.buffer=yt.createBuffer(),yt.bindBuffer(zt.type,zt.buffer),yt.bufferData(zt.type,zt.persistentData||zt.byteLength,zt.usage)})},_initBuffer:lt}}function d(yt,Kt,Zt,Ar){function vr(zt){this.id=Tt++,xt[this.id]=this,this.buffer=zt,this.primType=4,this.type=this.vertCount=0}function ut(zt,Ht,qt,Qt,or,Lr,Ze){zt.buffer.bind();var Ye;if(Ht?((Ye=Ze)||Ee(Ht)&&(!c(Ht)||Ee(Ht.data))||(Ye=Kt.oes_element_index_uint?5125:5123),Zt._initBuffer(zt.buffer,Ht,qt,Ye,3)):(yt.bufferData(34963,Lr,qt),zt.buffer.dtype=Ye||5121,zt.buffer.usage=qt,zt.buffer.dimension=3,zt.buffer.byteLength=Lr),Ye=Ze,!Ze){switch(zt.buffer.dtype){case 5121:case 5120:Ye=5121;break;case 5123:case 5122:Ye=5123;break;case 5125:case 5124:Ye=5125}zt.buffer.dtype=Ye}zt.type=Ye,Ht=or,0>Ht&&(Ht=zt.buffer.byteLength,Ye===5123?Ht>>=1:Ye===5125&&(Ht>>=2)),zt.vertCount=Ht,Ht=Qt,0>Qt&&(Ht=4,Qt=zt.buffer.dimension,Qt===1&&(Ht=0),Qt===2&&(Ht=1),Qt===3&&(Ht=4)),zt.primType=Ht}function lt(zt){Ar.elementsCount--,delete xt[zt.id],zt.buffer.destroy(),zt.buffer=null}var xt={},Tt=0,Ct={uint8:5121,uint16:5123};Kt.oes_element_index_uint&&(Ct.uint32=5125),vr.prototype.bind=function(){this.buffer.bind()};var At=[];return{create:function(zt,Ht){function qt(Lr){if(Lr)if(typeof Lr=="number")Qt(Lr),or.primType=4,or.vertCount=Lr|0,or.type=5121;else{var Ze=null,Ye=35044,It=-1,kt=-1,Xt=0,ir=0;Array.isArray(Lr)||Ee(Lr)||c(Lr)?Ze=Lr:("data"in Lr&&(Ze=Lr.data),"usage"in Lr&&(Ye=ke[Lr.usage]),"primitive"in Lr&&(It=Qe[Lr.primitive]),"count"in Lr&&(kt=Lr.count|0),"type"in Lr&&(ir=Ct[Lr.type]),"length"in Lr?Xt=Lr.length|0:(Xt=kt,ir===5123||ir===5122?Xt*=2:(ir===5125||ir===5124)&&(Xt*=4))),ut(or,Ze,Ye,It,kt,Xt,ir)}else Qt(),or.primType=4,or.vertCount=0,or.type=5121;return qt}var Qt=Zt.create(null,34963,!0),or=new vr(Qt._buffer);return Ar.elementsCount++,qt(zt),qt._reglType="elements",qt._elements=or,qt.subdata=function(Lr,Ze){return Qt.subdata(Lr,Ze),qt},qt.destroy=function(){lt(or)},qt},createStream:function(zt){var Ht=At.pop();return Ht||(Ht=new vr(Zt.create(null,34963,!0,!1)._buffer)),ut(Ht,zt,35040,-1,-1,0,0),Ht},destroyStream:function(zt){At.push(zt)},getElements:function(zt){return typeof zt=="function"&&zt._elements instanceof vr?zt._elements:null},clear:function(){Te(xt).forEach(lt)}}}function S(yt){for(var Kt=Oe.allocType(5123,yt.length),Zt=0;Zt<yt.length;++Zt)if(isNaN(yt[Zt]))Kt[Zt]=65535;else if(yt[Zt]===1/0)Kt[Zt]=31744;else if(yt[Zt]===-1/0)Kt[Zt]=64512;else{tt[0]=yt[Zt];var ut=vt[0],Ar=ut>>>31<<15,vr=(ut<<1>>>24)-127,ut=ut>>13&1023;Kt[Zt]=-24>vr?Ar:-14>vr?Ar+(ut+1024>>-14-vr):15<vr?Ar+31744:Ar+(vr+15<<10)+ut}return Kt}function M(yt){return Array.isArray(yt)||Ee(yt)}function P(yt){return"[object "+yt+"]"}function x(yt){return Array.isArray(yt)&&(yt.length===0||typeof yt[0]=="number")}function E(yt){return!!(Array.isArray(yt)&&yt.length!==0&&M(yt[0]))}function T(yt){return Object.prototype.toString.call(yt)}function i(yt){if(!yt)return!1;var Kt=T(yt);return 0<=De.indexOf(Kt)?!0:x(yt)||E(yt)||c(yt)}function R(yt,Kt){yt.type===36193?(yt.data=S(Kt),Oe.freeType(Kt)):yt.data=Kt}function A(yt,Kt,Zt,Ar,vr,ut){if(yt=typeof ue[yt]<"u"?ue[yt]:Mt[yt]*we[Kt],ut&&(yt*=6),vr){for(Ar=0;1<=Zt;)Ar+=yt*Zt*Zt,Zt/=2;return Ar}return yt*Zt*Ar}function k(yt,Kt,Zt,Ar,vr,ut,lt){function xt(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function Tt(Cr,ln){Cr.internalformat=ln.internalformat,Cr.format=ln.format,Cr.type=ln.type,Cr.compressed=ln.compressed,Cr.premultiplyAlpha=ln.premultiplyAlpha,Cr.flipY=ln.flipY,Cr.unpackAlignment=ln.unpackAlignment,Cr.colorSpace=ln.colorSpace,Cr.width=ln.width,Cr.height=ln.height,Cr.channels=ln.channels}function Ct(Cr,ln){if(typeof ln=="object"&&ln){"premultiplyAlpha"in ln&&(Cr.premultiplyAlpha=ln.premultiplyAlpha),"flipY"in ln&&(Cr.flipY=ln.flipY),"alignment"in ln&&(Cr.unpackAlignment=ln.alignment),"colorSpace"in ln&&(Cr.colorSpace=mn[ln.colorSpace]),"type"in ln&&(Cr.type=Jr[ln.type]);var on=Cr.width,yn=Cr.height,Hn=Cr.channels,Ln=!1;"shape"in ln?(on=ln.shape[0],yn=ln.shape[1],ln.shape.length===3&&(Hn=ln.shape[2],Ln=!0)):("radius"in ln&&(on=yn=ln.radius),"width"in ln&&(on=ln.width),"height"in ln&&(yn=ln.height),"channels"in ln&&(Hn=ln.channels,Ln=!0)),Cr.width=on|0,Cr.height=yn|0,Cr.channels=Hn|0,on=!1,"format"in ln&&(on=ln.format,yn=Cr.internalformat=_n[on],Cr.format=Sn[yn],on in Jr&&!("type"in ln)&&(Cr.type=Jr[on]),on in kn&&(Cr.compressed=!0),on=!0),!Ln&&on?Cr.channels=Mt[Cr.format]:Ln&&!on&&Cr.channels!==gt[Cr.format]&&(Cr.format=Cr.internalformat=gt[Cr.channels])}}function At(Cr){yt.pixelStorei(37440,Cr.flipY),yt.pixelStorei(37441,Cr.premultiplyAlpha),yt.pixelStorei(37443,Cr.colorSpace),yt.pixelStorei(3317,Cr.unpackAlignment)}function zt(){xt.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Ht(Cr,ln){var on=null;if(i(ln)?on=ln:ln&&(Ct(Cr,ln),"x"in ln&&(Cr.xOffset=ln.x|0),"y"in ln&&(Cr.yOffset=ln.y|0),i(ln.data)&&(on=ln.data)),ln.copy){var yn=vr.viewportWidth,Hn=vr.viewportHeight;Cr.width=Cr.width||yn-Cr.xOffset,Cr.height=Cr.height||Hn-Cr.yOffset,Cr.needsCopy=!0}else if(!on)Cr.width=Cr.width||1,Cr.height=Cr.height||1,Cr.channels=Cr.channels||4;else if(Ee(on))Cr.channels=Cr.channels||4,Cr.data=on,"type"in ln||Cr.type!==5121||(Cr.type=Ge[Object.prototype.toString.call(on)]|0);else if(x(on)){switch(Cr.channels=Cr.channels||4,yn=on,Hn=yn.length,Cr.type){case 5121:case 5123:case 5125:case 5126:Hn=Oe.allocType(Cr.type,Hn),Hn.set(yn),Cr.data=Hn;break;case 36193:Cr.data=S(yn)}Cr.alignment=1,Cr.needsFree=!0}else if(c(on)){yn=on.data,Array.isArray(yn)||Cr.type!==5121||(Cr.type=Ge[Object.prototype.toString.call(yn)]|0);var Hn=on.shape,Ln=on.stride,Pn,Wn,la,za;Hn.length===3?(la=Hn[2],za=Ln[2]):za=la=1,Pn=Hn[0],Wn=Hn[1],Hn=Ln[0],Ln=Ln[1],Cr.alignment=1,Cr.width=Pn,Cr.height=Wn,Cr.channels=la,Cr.format=Cr.internalformat=gt[la],Cr.needsFree=!0,Pn=za,on=on.offset,la=Cr.width,za=Cr.height,Wn=Cr.channels;for(var ni=Oe.allocType(Cr.type===36193?5126:Cr.type,la*za*Wn),jt=0,Sr=0;Sr<za;++Sr)for(var sn=0;sn<la;++sn)for(var vn=0;vn<Wn;++vn)ni[jt++]=yn[Hn*sn+Ln*Sr+Pn*vn+on];R(Cr,ni)}else if(T(on)===Rt||T(on)===Wt||T(on)===je)T(on)===Rt||T(on)===Wt?Cr.element=on:Cr.element=on.canvas,Cr.width=Cr.element.width,Cr.height=Cr.element.height,Cr.channels=4;else if(T(on)===_e)Cr.element=on,Cr.width=on.width,Cr.height=on.height,Cr.channels=4;else if(T(on)===Fe)Cr.element=on,Cr.width=on.naturalWidth,Cr.height=on.naturalHeight,Cr.channels=4;else if(T(on)===Be)Cr.element=on,Cr.width=on.videoWidth,Cr.height=on.videoHeight,Cr.channels=4;else if(E(on)){for(yn=Cr.width||on[0].length,Hn=Cr.height||on.length,Ln=Cr.channels,Ln=M(on[0][0])?Ln||on[0][0].length:Ln||1,Pn=Le.shape(on),la=1,za=0;za<Pn.length;++za)la*=Pn[za];la=Oe.allocType(Cr.type===36193?5126:Cr.type,la),Le.flatten(on,Pn,"",la),R(Cr,la),Cr.alignment=1,Cr.width=yn,Cr.height=Hn,Cr.channels=Ln,Cr.format=Cr.internalformat=gt[Ln],Cr.needsFree=!0}}function qt(Cr,ln,on,yn,Hn){var Ln=Cr.element,Pn=Cr.data,Wn=Cr.internalformat,la=Cr.format,za=Cr.type,ni=Cr.width,jt=Cr.height;At(Cr),Ln?yt.texSubImage2D(ln,Hn,on,yn,la,za,Ln):Cr.compressed?yt.compressedTexSubImage2D(ln,Hn,on,yn,Wn,ni,jt,Pn):Cr.needsCopy?(Ar(),yt.copyTexSubImage2D(ln,Hn,on,yn,Cr.xOffset,Cr.yOffset,ni,jt)):yt.texSubImage2D(ln,Hn,on,yn,ni,jt,la,za,Pn)}function Qt(){return In.pop()||new zt}function or(Cr){Cr.needsFree&&Oe.freeType(Cr.data),zt.call(Cr),In.push(Cr)}function Lr(){xt.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Ze(Cr,ln,on){var yn=Cr.images[0]=Qt();Cr.mipmask=1,yn.width=Cr.width=ln,yn.height=Cr.height=on,yn.channels=Cr.channels=4}function Ye(Cr,ln){var on=null;if(i(ln))on=Cr.images[0]=Qt(),Tt(on,Cr),Ht(on,ln),Cr.mipmask=1;else if(Ct(Cr,ln),Array.isArray(ln.mipmap))for(var yn=ln.mipmap,Hn=0;Hn<yn.length;++Hn)on=Cr.images[Hn]=Qt(),Tt(on,Cr),on.width>>=Hn,on.height>>=Hn,Ht(on,yn[Hn]),Cr.mipmask|=1<<Hn;else on=Cr.images[0]=Qt(),Tt(on,Cr),Ht(on,ln),Cr.mipmask=1;Tt(Cr,Cr.images[0])}function It(Cr,ln){for(var on=Cr.images,yn=0;yn<on.length&&on[yn];++yn){var Hn=on[yn],Ln=ln,Pn=yn,Wn=Hn.element,la=Hn.data,za=Hn.internalformat,ni=Hn.format,jt=Hn.type,Sr=Hn.width,sn=Hn.height;At(Hn),Wn?yt.texImage2D(Ln,Pn,ni,ni,jt,Wn):Hn.compressed?yt.compressedTexImage2D(Ln,Pn,za,Sr,sn,0,la):Hn.needsCopy?(Ar(),yt.copyTexImage2D(Ln,Pn,ni,Hn.xOffset,Hn.yOffset,Sr,sn,0)):yt.texImage2D(Ln,Pn,ni,Sr,sn,0,ni,jt,la||null)}}function kt(){var Cr=Jn.pop()||new Lr;xt.call(Cr);for(var ln=Cr.mipmask=0;16>ln;++ln)Cr.images[ln]=null;return Cr}function Xt(Cr){for(var ln=Cr.images,on=0;on<ln.length;++on)ln[on]&&or(ln[on]),ln[on]=null;Jn.push(Cr)}function ir(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function ur(Cr,ln){"min"in ln&&(Cr.minFilter=Or[ln.min],0<=dt.indexOf(Cr.minFilter)&&!("faces"in ln)&&(Cr.genMipmaps=!0)),"mag"in ln&&(Cr.magFilter=Br[ln.mag]);var on=Cr.wrapS,yn=Cr.wrapT;if("wrap"in ln){var Hn=ln.wrap;typeof Hn=="string"?on=yn=Xr[Hn]:Array.isArray(Hn)&&(on=Xr[Hn[0]],yn=Xr[Hn[1]])}else"wrapS"in ln&&(on=Xr[ln.wrapS]),"wrapT"in ln&&(yn=Xr[ln.wrapT]);if(Cr.wrapS=on,Cr.wrapT=yn,"anisotropic"in ln&&(Cr.anisotropic=ln.anisotropic),"mipmap"in ln){switch(on=!1,typeof ln.mipmap){case"string":Cr.mipmapHint=dr[ln.mipmap],on=Cr.genMipmaps=!0;break;case"boolean":on=Cr.genMipmaps=ln.mipmap;break;case"object":Cr.genMipmaps=!1,on=!0}!on||"min"in ln||(Cr.minFilter=9984)}}function nr(Cr,ln){yt.texParameteri(ln,10241,Cr.minFilter),yt.texParameteri(ln,10240,Cr.magFilter),yt.texParameteri(ln,10242,Cr.wrapS),yt.texParameteri(ln,10243,Cr.wrapT),Kt.ext_texture_filter_anisotropic&&yt.texParameteri(ln,34046,Cr.anisotropic),Cr.genMipmaps&&(yt.hint(33170,Cr.mipmapHint),yt.generateMipmap(ln))}function Nt(Cr){xt.call(this),this.mipmask=0,this.internalformat=6408,this.id=ra++,this.refCount=1,this.target=Cr,this.texture=yt.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ir,lt.profile&&(this.stats={size:0})}function hr(Cr){yt.activeTexture(33984),yt.bindTexture(Cr.target,Cr.texture)}function pr(){var Cr=na[0];Cr?yt.bindTexture(Cr.target,Cr.texture):yt.bindTexture(3553,null)}function gr(Cr){var ln=Cr.texture,on=Cr.unit,yn=Cr.target;0<=on&&(yt.activeTexture(33984+on),yt.bindTexture(yn,null),na[on]=null),yt.deleteTexture(ln),Cr.texture=null,Cr.params=null,Cr.pixels=null,Cr.refCount=0,delete ca[Cr.id],ut.textureCount--}var dr={"don't care":4352,"dont care":4352,nice:4354,fast:4353},Xr={repeat:10497,clamp:33071,mirror:33648},Br={nearest:9728,linear:9729},Or=oe({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Br),mn={none:0,browser:37444},Jr={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},_n={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},kn={};Kt.ext_srgb&&(_n.srgb=35904,_n.srgba=35906),Kt.oes_texture_float&&(Jr.float32=Jr.float=5126),Kt.oes_texture_half_float&&(Jr.float16=Jr["half float"]=36193),Kt.webgl_depth_texture&&(oe(_n,{depth:6402,"depth stencil":34041}),oe(Jr,{uint16:5123,uint32:5125,"depth stencil":34042})),Kt.webgl_compressed_texture_s3tc&&oe(kn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),Kt.webgl_compressed_texture_atc&&oe(kn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),Kt.webgl_compressed_texture_pvrtc&&oe(kn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),Kt.webgl_compressed_texture_etc1&&(kn["rgb etc1"]=36196);var br=Array.prototype.slice.call(yt.getParameter(34467));Object.keys(kn).forEach(function(Cr){var ln=kn[Cr];0<=br.indexOf(ln)&&(_n[Cr]=ln)});var wr=Object.keys(_n);Zt.textureFormats=wr;var Nr=[];Object.keys(_n).forEach(function(Cr){Nr[_n[Cr]]=Cr});var Vr=[];Object.keys(Jr).forEach(function(Cr){Vr[Jr[Cr]]=Cr});var tn=[];Object.keys(Br).forEach(function(Cr){tn[Br[Cr]]=Cr});var gn=[];Object.keys(Or).forEach(function(Cr){gn[Or[Cr]]=Cr});var hn=[];Object.keys(Xr).forEach(function(Cr){hn[Xr[Cr]]=Cr});var Sn=wr.reduce(function(Cr,ln){var on=_n[ln];return on===6409||on===6406||on===6409||on===6410||on===6402||on===34041||Kt.ext_srgb&&(on===35904||on===35906)?Cr[on]=on:on===32855||0<=ln.indexOf("rgba")?Cr[on]=6408:Cr[on]=6407,Cr},{}),In=[],Jn=[],ra=0,ca={},aa=Zt.maxTextureUnits,na=Array(aa).map(function(){return null});return oe(Nt.prototype,{bind:function(){this.bindCount+=1;var Cr=this.unit;if(0>Cr){for(var ln=0;ln<aa;++ln){var on=na[ln];if(on){if(0<on.bindCount)continue;on.unit=-1}na[ln]=this,Cr=ln;break}lt.profile&&ut.maxTextureUnits<Cr+1&&(ut.maxTextureUnits=Cr+1),this.unit=Cr,yt.activeTexture(33984+Cr),yt.bindTexture(this.target,this.texture)}return Cr},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&gr(this)}}),lt.profile&&(ut.getTotalTextureSize=function(){var Cr=0;return Object.keys(ca).forEach(function(ln){Cr+=ca[ln].stats.size}),Cr}),{create2D:function(Cr,ln){function on(Hn,Ln){var Pn=yn.texInfo;ir.call(Pn);var Wn=kt();return typeof Hn=="number"?typeof Ln=="number"?Ze(Wn,Hn|0,Ln|0):Ze(Wn,Hn|0,Hn|0):Hn?(ur(Pn,Hn),Ye(Wn,Hn)):Ze(Wn,1,1),Pn.genMipmaps&&(Wn.mipmask=(Wn.width<<1)-1),yn.mipmask=Wn.mipmask,Tt(yn,Wn),yn.internalformat=Wn.internalformat,on.width=Wn.width,on.height=Wn.height,hr(yn),It(Wn,3553),nr(Pn,3553),pr(),Xt(Wn),lt.profile&&(yn.stats.size=A(yn.internalformat,yn.type,Wn.width,Wn.height,Pn.genMipmaps,!1)),on.format=Nr[yn.internalformat],on.type=Vr[yn.type],on.mag=tn[Pn.magFilter],on.min=gn[Pn.minFilter],on.wrapS=hn[Pn.wrapS],on.wrapT=hn[Pn.wrapT],on}var yn=new Nt(3553);return ca[yn.id]=yn,ut.textureCount++,on(Cr,ln),on.subimage=function(Hn,Ln,Pn,Wn){Ln|=0,Pn|=0,Wn|=0;var la=Qt();return Tt(la,yn),la.width=0,la.height=0,Ht(la,Hn),la.width=la.width||(yn.width>>Wn)-Ln,la.height=la.height||(yn.height>>Wn)-Pn,hr(yn),qt(la,3553,Ln,Pn,Wn),pr(),or(la),on},on.resize=function(Hn,Ln){var Pn=Hn|0,Wn=Ln|0||Pn;if(Pn===yn.width&&Wn===yn.height)return on;on.width=yn.width=Pn,on.height=yn.height=Wn,hr(yn);for(var la=0;yn.mipmask>>la;++la){var za=Pn>>la,ni=Wn>>la;if(!za||!ni)break;yt.texImage2D(3553,la,yn.format,za,ni,0,yn.format,yn.type,null)}return pr(),lt.profile&&(yn.stats.size=A(yn.internalformat,yn.type,Pn,Wn,!1,!1)),on},on._reglType="texture2d",on._texture=yn,lt.profile&&(on.stats=yn.stats),on.destroy=function(){yn.decRef()},on},createCube:function(Cr,ln,on,yn,Hn,Ln){function Pn(za,ni,jt,Sr,sn,vn){var dn,Rn=Wn.texInfo;for(ir.call(Rn),dn=0;6>dn;++dn)la[dn]=kt();if(typeof za=="number"||!za)for(za=za|0||1,dn=0;6>dn;++dn)Ze(la[dn],za,za);else if(typeof za=="object")if(ni)Ye(la[0],za),Ye(la[1],ni),Ye(la[2],jt),Ye(la[3],Sr),Ye(la[4],sn),Ye(la[5],vn);else if(ur(Rn,za),Ct(Wn,za),"faces"in za)for(za=za.faces,dn=0;6>dn;++dn)Tt(la[dn],Wn),Ye(la[dn],za[dn]);else for(dn=0;6>dn;++dn)Ye(la[dn],za);for(Tt(Wn,la[0]),Wn.mipmask=Rn.genMipmaps?(la[0].width<<1)-1:la[0].mipmask,Wn.internalformat=la[0].internalformat,Pn.width=la[0].width,Pn.height=la[0].height,hr(Wn),dn=0;6>dn;++dn)It(la[dn],34069+dn);for(nr(Rn,34067),pr(),lt.profile&&(Wn.stats.size=A(Wn.internalformat,Wn.type,Pn.width,Pn.height,Rn.genMipmaps,!0)),Pn.format=Nr[Wn.internalformat],Pn.type=Vr[Wn.type],Pn.mag=tn[Rn.magFilter],Pn.min=gn[Rn.minFilter],Pn.wrapS=hn[Rn.wrapS],Pn.wrapT=hn[Rn.wrapT],dn=0;6>dn;++dn)Xt(la[dn]);return Pn}var Wn=new Nt(34067);ca[Wn.id]=Wn,ut.cubeCount++;var la=Array(6);return Pn(Cr,ln,on,yn,Hn,Ln),Pn.subimage=function(za,ni,jt,Sr,sn){jt|=0,Sr|=0,sn|=0;var vn=Qt();return Tt(vn,Wn),vn.width=0,vn.height=0,Ht(vn,ni),vn.width=vn.width||(Wn.width>>sn)-jt,vn.height=vn.height||(Wn.height>>sn)-Sr,hr(Wn),qt(vn,34069+za,jt,Sr,sn),pr(),or(vn),Pn},Pn.resize=function(za){if(za|=0,za!==Wn.width){Pn.width=Wn.width=za,Pn.height=Wn.height=za,hr(Wn);for(var ni=0;6>ni;++ni)for(var jt=0;Wn.mipmask>>jt;++jt)yt.texImage2D(34069+ni,jt,Wn.format,za>>jt,za>>jt,0,Wn.format,Wn.type,null);return pr(),lt.profile&&(Wn.stats.size=A(Wn.internalformat,Wn.type,Pn.width,Pn.height,!1,!0)),Pn}},Pn._reglType="textureCube",Pn._texture=Wn,lt.profile&&(Pn.stats=Wn.stats),Pn.destroy=function(){Wn.decRef()},Pn},clear:function(){for(var Cr=0;Cr<aa;++Cr)yt.activeTexture(33984+Cr),yt.bindTexture(3553,null),na[Cr]=null;Te(ca).forEach(gr),ut.cubeCount=0,ut.textureCount=0},getTexture:function(Cr){return null},restore:function(){for(var Cr=0;Cr<aa;++Cr){var ln=na[Cr];ln&&(ln.bindCount=0,ln.unit=-1,na[Cr]=null)}Te(ca).forEach(function(on){on.texture=yt.createTexture(),yt.bindTexture(on.target,on.texture);for(var yn=0;32>yn;++yn)if(on.mipmask&1<<yn)if(on.target===3553)yt.texImage2D(3553,yn,on.internalformat,on.width>>yn,on.height>>yn,0,on.internalformat,on.type,null);else for(var Hn=0;6>Hn;++Hn)yt.texImage2D(34069+Hn,yn,on.internalformat,on.width>>yn,on.height>>yn,0,on.internalformat,on.type,null);nr(on.texInfo,on.target)})},refresh:function(){for(var Cr=0;Cr<aa;++Cr){var ln=na[Cr];ln&&(ln.bindCount=0,ln.unit=-1,na[Cr]=null),yt.activeTexture(33984+Cr),yt.bindTexture(3553,null),yt.bindTexture(34067,null)}}}}function _(yt,Kt,Zt,Ar,vr,ut){function lt(Nt,hr,pr){this.target=Nt,this.texture=hr,this.renderbuffer=pr;var gr=Nt=0;hr?(Nt=hr.width,gr=hr.height):pr&&(Nt=pr.width,gr=pr.height),this.width=Nt,this.height=gr}function xt(Nt){Nt&&(Nt.texture&&Nt.texture._texture.decRef(),Nt.renderbuffer&&Nt.renderbuffer._renderbuffer.decRef())}function Tt(Nt,hr,pr){Nt&&(Nt.texture?Nt.texture._texture.refCount+=1:Nt.renderbuffer._renderbuffer.refCount+=1)}function Ct(Nt,hr){hr&&(hr.texture?yt.framebufferTexture2D(36160,Nt,hr.target,hr.texture._texture.texture,0):yt.framebufferRenderbuffer(36160,Nt,36161,hr.renderbuffer._renderbuffer.renderbuffer))}function At(Nt){var hr=3553,pr=null,gr=null,dr=Nt;return typeof Nt=="object"&&(dr=Nt.data,"target"in Nt&&(hr=Nt.target|0)),Nt=dr._reglType,Nt==="texture2d"||Nt==="textureCube"?pr=dr:Nt==="renderbuffer"&&(gr=dr,hr=36161),new lt(hr,pr,gr)}function zt(Nt,hr,pr,gr,dr){return pr?(Nt=Ar.create2D({width:Nt,height:hr,format:gr,type:dr}),Nt._texture.refCount=0,new lt(3553,Nt,null)):(Nt=vr.create({width:Nt,height:hr,format:gr}),Nt._renderbuffer.refCount=0,new lt(36161,null,Nt))}function Ht(Nt){return Nt&&(Nt.texture||Nt.renderbuffer)}function qt(Nt,hr,pr){Nt&&(Nt.texture?Nt.texture.resize(hr,pr):Nt.renderbuffer&&Nt.renderbuffer.resize(hr,pr),Nt.width=hr,Nt.height=pr)}function Qt(){this.id=ur++,nr[this.id]=this,this.framebuffer=yt.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function or(Nt){Nt.colorAttachments.forEach(xt),xt(Nt.depthAttachment),xt(Nt.stencilAttachment),xt(Nt.depthStencilAttachment)}function Lr(Nt){yt.deleteFramebuffer(Nt.framebuffer),Nt.framebuffer=null,ut.framebufferCount--,delete nr[Nt.id]}function Ze(Nt){var hr;yt.bindFramebuffer(36160,Nt.framebuffer);var pr=Nt.colorAttachments;for(hr=0;hr<pr.length;++hr)Ct(36064+hr,pr[hr]);for(hr=pr.length;hr<Zt.maxColorAttachments;++hr)yt.framebufferTexture2D(36160,36064+hr,3553,null,0);yt.framebufferTexture2D(36160,33306,3553,null,0),yt.framebufferTexture2D(36160,36096,3553,null,0),yt.framebufferTexture2D(36160,36128,3553,null,0),Ct(36096,Nt.depthAttachment),Ct(36128,Nt.stencilAttachment),Ct(33306,Nt.depthStencilAttachment),yt.checkFramebufferStatus(36160),yt.isContextLost(),yt.bindFramebuffer(36160,It.next?It.next.framebuffer:null),It.cur=It.next,yt.getError()}function Ye(Nt,hr){function pr(dr,Xr){var Br,Or=0,mn=0,Jr=!0,_n=!0;Br=null;var kn=!0,br="rgba",wr="uint8",Nr=1,Vr=null,tn=null,gn=null,hn=!1;typeof dr=="number"?(Or=dr|0,mn=Xr|0||Or):dr?("shape"in dr?(mn=dr.shape,Or=mn[0],mn=mn[1]):("radius"in dr&&(Or=mn=dr.radius),"width"in dr&&(Or=dr.width),"height"in dr&&(mn=dr.height)),("color"in dr||"colors"in dr)&&(Br=dr.color||dr.colors),Br||("colorCount"in dr&&(Nr=dr.colorCount|0),"colorTexture"in dr&&(kn=!!dr.colorTexture,br="rgba4"),"colorType"in dr&&(wr=dr.colorType,!kn)&&(wr==="half float"||wr==="float16"?br="rgba16f":(wr==="float"||wr==="float32")&&(br="rgba32f")),"colorFormat"in dr&&(br=dr.colorFormat,0<=kt.indexOf(br)?kn=!0:0<=Xt.indexOf(br)&&(kn=!1))),("depthTexture"in dr||"depthStencilTexture"in dr)&&(hn=!(!dr.depthTexture&&!dr.depthStencilTexture)),"depth"in dr&&(typeof dr.depth=="boolean"?Jr=dr.depth:(Vr=dr.depth,_n=!1)),"stencil"in dr&&(typeof dr.stencil=="boolean"?_n=dr.stencil:(tn=dr.stencil,Jr=!1)),"depthStencil"in dr&&(typeof dr.depthStencil=="boolean"?Jr=_n=dr.depthStencil:(gn=dr.depthStencil,_n=Jr=!1))):Or=mn=1;var Sn=null,In=null,Jn=null,ra=null;if(Array.isArray(Br))Sn=Br.map(At);else if(Br)Sn=[At(Br)];else for(Sn=Array(Nr),Br=0;Br<Nr;++Br)Sn[Br]=zt(Or,mn,kn,br,wr);for(Or=Or||Sn[0].width,mn=mn||Sn[0].height,Vr?In=At(Vr):Jr&&!_n&&(In=zt(Or,mn,hn,"depth","uint32")),tn?Jn=At(tn):_n&&!Jr&&(Jn=zt(Or,mn,!1,"stencil","uint8")),gn?ra=At(gn):!Vr&&!tn&&_n&&Jr&&(ra=zt(Or,mn,hn,"depth stencil","depth stencil")),Jr=null,Br=0;Br<Sn.length;++Br)Tt(Sn[Br]),Sn[Br]&&Sn[Br].texture&&(_n=Ne[Sn[Br].texture._texture.format]*it[Sn[Br].texture._texture.type],Jr===null&&(Jr=_n));return Tt(In),Tt(Jn),Tt(ra),or(gr),gr.width=Or,gr.height=mn,gr.colorAttachments=Sn,gr.depthAttachment=In,gr.stencilAttachment=Jn,gr.depthStencilAttachment=ra,pr.color=Sn.map(Ht),pr.depth=Ht(In),pr.stencil=Ht(Jn),pr.depthStencil=Ht(ra),pr.width=gr.width,pr.height=gr.height,Ze(gr),pr}var gr=new Qt;return ut.framebufferCount++,pr(Nt,hr),oe(pr,{resize:function(dr,Xr){var Br=Math.max(dr|0,1),Or=Math.max(Xr|0||Br,1);if(Br===gr.width&&Or===gr.height)return pr;for(var mn=gr.colorAttachments,Jr=0;Jr<mn.length;++Jr)qt(mn[Jr],Br,Or);return qt(gr.depthAttachment,Br,Or),qt(gr.stencilAttachment,Br,Or),qt(gr.depthStencilAttachment,Br,Or),gr.width=pr.width=Br,gr.height=pr.height=Or,Ze(gr),pr},_reglType:"framebuffer",_framebuffer:gr,destroy:function(){Lr(gr),or(gr)},use:function(dr){It.setFBO({framebuffer:pr},dr)}})}var It={cur:null,next:null,dirty:!1,setFBO:null},kt=["rgba"],Xt=["rgba4","rgb565","rgb5 a1"];Kt.ext_srgb&&Xt.push("srgba"),Kt.ext_color_buffer_half_float&&Xt.push("rgba16f","rgb16f"),Kt.webgl_color_buffer_float&&Xt.push("rgba32f");var ir=["uint8"];Kt.oes_texture_half_float&&ir.push("half float","float16"),Kt.oes_texture_float&&ir.push("float","float32");var ur=0,nr={};return oe(It,{getFramebuffer:function(Nt){return typeof Nt=="function"&&Nt._reglType==="framebuffer"&&(Nt=Nt._framebuffer,Nt instanceof Qt)?Nt:null},create:Ye,createCube:function(Nt){function hr(gr){var dr,Xr={color:null},Br=0,Or=null;dr="rgba";var mn="uint8",Jr=1;if(typeof gr=="number"?Br=gr|0:gr?("shape"in gr?Br=gr.shape[0]:("radius"in gr&&(Br=gr.radius|0),"width"in gr?Br=gr.width|0:"height"in gr&&(Br=gr.height|0)),("color"in gr||"colors"in gr)&&(Or=gr.color||gr.colors),Or||("colorCount"in gr&&(Jr=gr.colorCount|0),"colorType"in gr&&(mn=gr.colorType),"colorFormat"in gr&&(dr=gr.colorFormat)),"depth"in gr&&(Xr.depth=gr.depth),"stencil"in gr&&(Xr.stencil=gr.stencil),"depthStencil"in gr&&(Xr.depthStencil=gr.depthStencil)):Br=1,Or)if(Array.isArray(Or))for(gr=[],dr=0;dr<Or.length;++dr)gr[dr]=Or[dr];else gr=[Or];else for(gr=Array(Jr),Or={radius:Br,format:dr,type:mn},dr=0;dr<Jr;++dr)gr[dr]=Ar.createCube(Or);for(Xr.color=Array(gr.length),dr=0;dr<gr.length;++dr)Jr=gr[dr],Br=Br||Jr.width,Xr.color[dr]={target:34069,data:gr[dr]};for(dr=0;6>dr;++dr){for(Jr=0;Jr<gr.length;++Jr)Xr.color[Jr].target=34069+dr;0<dr&&(Xr.depth=pr[0].depth,Xr.stencil=pr[0].stencil,Xr.depthStencil=pr[0].depthStencil),pr[dr]?pr[dr](Xr):pr[dr]=Ye(Xr)}return oe(hr,{width:Br,height:Br,color:gr})}var pr=Array(6);return hr(Nt),oe(hr,{faces:pr,resize:function(gr){var dr=gr|0;if(dr===hr.width)return hr;var Xr=hr.color;for(gr=0;gr<Xr.length;++gr)Xr[gr].resize(dr);for(gr=0;6>gr;++gr)pr[gr].resize(dr);return hr.width=hr.height=dr,hr},_reglType:"framebufferCube",destroy:function(){pr.forEach(function(gr){gr.destroy()})}})},clear:function(){Te(nr).forEach(Lr)},restore:function(){It.cur=null,It.next=null,It.dirty=!0,Te(nr).forEach(function(Nt){Nt.framebuffer=yt.createFramebuffer(),Ze(Nt)})}})}function H(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function z(yt,Kt,Zt,Ar,vr,ut,lt){function xt(Ze){if(Ze!==Lr.currentVAO){var Ye=Kt.oes_vertex_array_object;Ze?Ye.bindVertexArrayOES(Ze.vao):Ye.bindVertexArrayOES(null),Lr.currentVAO=Ze}}function Tt(Ze){if(Ze!==Lr.currentVAO){if(Ze)Ze.bindAttrs();else{for(var Ye=Kt.angle_instanced_arrays,It=0;It<qt.length;++It){var kt=qt[It];kt.buffer?(yt.enableVertexAttribArray(It),kt.buffer.bind(),yt.vertexAttribPointer(It,kt.size,kt.type,kt.normalized,kt.stride,kt.offfset),Ye&&kt.divisor&&Ye.vertexAttribDivisorANGLE(It,kt.divisor)):(yt.disableVertexAttribArray(It),yt.vertexAttrib4f(It,kt.x,kt.y,kt.z,kt.w))}lt.elements?yt.bindBuffer(34963,lt.elements.buffer.buffer):yt.bindBuffer(34963,null)}Lr.currentVAO=Ze}}function Ct(){Te(or).forEach(function(Ze){Ze.destroy()})}function At(){this.id=++Qt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var Ze=Kt.oes_vertex_array_object;this.vao=Ze?Ze.createVertexArrayOES():null,or[this.id]=this,this.buffers=[]}function zt(){Kt.oes_vertex_array_object&&Te(or).forEach(function(Ze){Ze.refresh()})}var Ht=Zt.maxAttributes,qt=Array(Ht);for(Zt=0;Zt<Ht;++Zt)qt[Zt]=new H;var Qt=0,or={},Lr={Record:H,scope:{},state:qt,currentVAO:null,targetVAO:null,restore:Kt.oes_vertex_array_object?zt:function(){},createVAO:function(Ze){function Ye(kt){var Xt;Array.isArray(kt)?(Xt=kt,It.elements&&It.ownsElements&&It.elements.destroy(),It.elements=null,It.ownsElements=!1,It.offset=0,It.count=0,It.instances=-1,It.primitive=4):(kt.elements?(Xt=kt.elements,It.ownsElements?(typeof Xt=="function"&&Xt._reglType==="elements"?It.elements.destroy():It.elements(Xt),It.ownsElements=!1):ut.getElements(kt.elements)?(It.elements=kt.elements,It.ownsElements=!1):(It.elements=ut.create(kt.elements),It.ownsElements=!0)):(It.elements=null,It.ownsElements=!1),Xt=kt.attributes,It.offset=0,It.count=-1,It.instances=-1,It.primitive=4,It.elements&&(It.count=It.elements._elements.vertCount,It.primitive=It.elements._elements.primType),"offset"in kt&&(It.offset=kt.offset|0),"count"in kt&&(It.count=kt.count|0),"instances"in kt&&(It.instances=kt.instances|0),"primitive"in kt&&(It.primitive=Qe[kt.primitive])),kt={};var ir=It.attributes;ir.length=Xt.length;for(var ur=0;ur<Xt.length;++ur){var nr=Xt[ur],Nt=ir[ur]=new H,hr=nr.data||nr;if(Array.isArray(hr)||Ee(hr)||c(hr)){var pr;It.buffers[ur]&&(pr=It.buffers[ur],Ee(hr)&&pr._buffer.byteLength>=hr.byteLength?pr.subdata(hr):(pr.destroy(),It.buffers[ur]=null)),It.buffers[ur]||(pr=It.buffers[ur]=vr.create(nr,34962,!1,!0)),Nt.buffer=vr.getBuffer(pr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1,kt[ur]=1}else vr.getBuffer(nr)?(Nt.buffer=vr.getBuffer(nr),Nt.size=Nt.buffer.dimension|0,Nt.normalized=!1,Nt.type=Nt.buffer.dtype,Nt.offset=0,Nt.stride=0,Nt.divisor=0,Nt.state=1):vr.getBuffer(nr.buffer)?(Nt.buffer=vr.getBuffer(nr.buffer),Nt.size=(+nr.size||Nt.buffer.dimension)|0,Nt.normalized=!!nr.normalized||!1,Nt.type="type"in nr?He[nr.type]:Nt.buffer.dtype,Nt.offset=(nr.offset||0)|0,Nt.stride=(nr.stride||0)|0,Nt.divisor=(nr.divisor||0)|0,Nt.state=1):"x"in nr&&(Nt.x=+nr.x||0,Nt.y=+nr.y||0,Nt.z=+nr.z||0,Nt.w=+nr.w||0,Nt.state=2)}for(pr=0;pr<It.buffers.length;++pr)!kt[pr]&&It.buffers[pr]&&(It.buffers[pr].destroy(),It.buffers[pr]=null);return It.refresh(),Ye}var It=new At;return Ar.vaoCount+=1,Ye.destroy=function(){for(var kt=0;kt<It.buffers.length;++kt)It.buffers[kt]&&It.buffers[kt].destroy();It.buffers.length=0,It.ownsElements&&(It.elements.destroy(),It.elements=null,It.ownsElements=!1),It.destroy()},Ye._vao=It,Ye._reglType="vao",Ye(Ze)},getVAO:function(Ze){return typeof Ze=="function"&&Ze._vao?Ze._vao:null},destroyBuffer:function(Ze){for(var Ye=0;Ye<qt.length;++Ye){var It=qt[Ye];It.buffer===Ze&&(yt.disableVertexAttribArray(Ye),It.buffer=null)}},setVAO:Kt.oes_vertex_array_object?xt:Tt,clear:Kt.oes_vertex_array_object?Ct:function(){}};return At.prototype.bindAttrs=function(){for(var Ze=Kt.angle_instanced_arrays,Ye=this.attributes,It=0;It<Ye.length;++It){var kt=Ye[It];kt.buffer?(yt.enableVertexAttribArray(It),yt.bindBuffer(34962,kt.buffer.buffer),yt.vertexAttribPointer(It,kt.size,kt.type,kt.normalized,kt.stride,kt.offset),Ze&&kt.divisor&&Ze.vertexAttribDivisorANGLE(It,kt.divisor)):(yt.disableVertexAttribArray(It),yt.vertexAttrib4f(It,kt.x,kt.y,kt.z,kt.w))}for(Ze=Ye.length;Ze<Ht;++Ze)yt.disableVertexAttribArray(Ze);(Ze=ut.getElements(this.elements))?yt.bindBuffer(34963,Ze.buffer.buffer):yt.bindBuffer(34963,null)},At.prototype.refresh=function(){var Ze=Kt.oes_vertex_array_object;Ze&&(Ze.bindVertexArrayOES(this.vao),this.bindAttrs(),Lr.currentVAO=null,Ze.bindVertexArrayOES(null))},At.prototype.destroy=function(){if(this.vao){var Ze=Kt.oes_vertex_array_object;this===Lr.currentVAO&&(Lr.currentVAO=null,Ze.bindVertexArrayOES(null)),Ze.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),or[this.id]&&(delete or[this.id],--Ar.vaoCount)},Lr}function N(yt,Kt,Zt,Ar){function vr(Qt,or,Lr,Ze){this.name=Qt,this.id=or,this.location=Lr,this.info=Ze}function ut(Qt,or){for(var Lr=0;Lr<Qt.length;++Lr)if(Qt[Lr].id===or.id){Qt[Lr].location=or.location;return}Qt.push(or)}function lt(Qt,or,Lr){Lr=Qt===35632?Ct:At;var Ze=Lr[or];if(!Ze){var Ye=Kt.str(or),Ze=yt.createShader(Qt);yt.shaderSource(Ze,Ye),yt.compileShader(Ze),Lr[or]=Ze}return Ze}function xt(Qt,or){this.id=qt++,this.fragId=Qt,this.vertId=or,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Ar.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Tt(Qt,or,Lr){var Ze;Ze=lt(35632,Qt.fragId);var Ye=lt(35633,Qt.vertId);if(or=Qt.program=yt.createProgram(),yt.attachShader(or,Ze),yt.attachShader(or,Ye),Lr)for(Ze=0;Ze<Lr.length;++Ze)Ye=Lr[Ze],yt.bindAttribLocation(or,Ye[0],Ye[1]);yt.linkProgram(or),Ye=yt.getProgramParameter(or,35718),Ar.profile&&(Qt.stats.uniformsCount=Ye);var It=Qt.uniforms;for(Ze=0;Ze<Ye;++Ze)if(Lr=yt.getActiveUniform(or,Ze))if(1<Lr.size)for(var kt=0;kt<Lr.size;++kt){var Xt=Lr.name.replace("[0]","["+kt+"]");ut(It,new vr(Xt,Kt.id(Xt),yt.getUniformLocation(or,Xt),Lr))}else ut(It,new vr(Lr.name,Kt.id(Lr.name),yt.getUniformLocation(or,Lr.name),Lr));for(Ye=yt.getProgramParameter(or,35721),Ar.profile&&(Qt.stats.attributesCount=Ye),Qt=Qt.attributes,Ze=0;Ze<Ye;++Ze)(Lr=yt.getActiveAttrib(or,Ze))&&ut(Qt,new vr(Lr.name,Kt.id(Lr.name),yt.getAttribLocation(or,Lr.name),Lr))}var Ct={},At={},zt={},Ht=[],qt=0;return Ar.profile&&(Zt.getMaxUniformsCount=function(){var Qt=0;return Ht.forEach(function(or){or.stats.uniformsCount>Qt&&(Qt=or.stats.uniformsCount)}),Qt},Zt.getMaxAttributesCount=function(){var Qt=0;return Ht.forEach(function(or){or.stats.attributesCount>Qt&&(Qt=or.stats.attributesCount)}),Qt}),{clear:function(){var Qt=yt.deleteShader.bind(yt);Te(Ct).forEach(Qt),Ct={},Te(At).forEach(Qt),At={},Ht.forEach(function(or){yt.deleteProgram(or.program)}),Ht.length=0,zt={},Zt.shaderCount=0},program:function(Qt,or,Lr,Ze){var Ye=zt[or];Ye||(Ye=zt[or]={});var It=Ye[Qt];if(It&&(It.refCount++,!Ze))return It;var kt=new xt(or,Qt);return Zt.shaderCount++,Tt(kt,Lr,Ze),It||(Ye[Qt]=kt),Ht.push(kt),oe(kt,{destroy:function(){if(kt.refCount--,0>=kt.refCount){yt.deleteProgram(kt.program);var Xt=Ht.indexOf(kt);Ht.splice(Xt,1),Zt.shaderCount--}0>=Ye[kt.vertId].refCount&&(yt.deleteShader(At[kt.vertId]),delete At[kt.vertId],delete zt[kt.fragId][kt.vertId]),Object.keys(zt[kt.fragId]).length||(yt.deleteShader(Ct[kt.fragId]),delete Ct[kt.fragId],delete zt[kt.fragId])}})},restore:function(){Ct={},At={};for(var Qt=0;Qt<Ht.length;++Qt)Tt(Ht[Qt],null,Ht[Qt].attributes.map(function(or){return[or.location,or.name]}))},shader:lt,frag:-1,vert:-1}}function O(yt,Kt,Zt,Ar,vr,ut,lt){function xt(Ct){var At;At=Kt.next===null?5121:Kt.next.colorAttachments[0].texture._texture.type;var zt=0,Ht=0,qt=Ar.framebufferWidth,Qt=Ar.framebufferHeight,or=null;return Ee(Ct)?or=Ct:Ct&&(zt=Ct.x|0,Ht=Ct.y|0,qt=(Ct.width||Ar.framebufferWidth-zt)|0,Qt=(Ct.height||Ar.framebufferHeight-Ht)|0,or=Ct.data||null),Zt(),Ct=qt*Qt*4,or||(At===5121?or=new Uint8Array(Ct):At===5126&&(or=or||new Float32Array(Ct))),yt.pixelStorei(3333,4),yt.readPixels(zt,Ht,qt,Qt,6408,At,or),or}function Tt(Ct){var At;return Kt.setFBO({framebuffer:Ct.framebuffer},function(){At=xt(Ct)}),At}return function(Ct){return Ct&&"framebuffer"in Ct?Tt(Ct):xt(Ct)}}function F(yt){for(var Kt=Array(yt.length>>2),Ar=0;Ar<Kt.length;Ar++)Kt[Ar]=0;for(Ar=0;Ar<8*yt.length;Ar+=8)Kt[Ar>>5]|=(yt.charCodeAt(Ar/8)&255)<<24-Ar%32;var Zt=8*yt.length;yt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225];var Ar=Array(64),vr,ut,lt,xt,Tt,Ct,At,zt,Ht,qt,Qt;for(Kt[Zt>>5]|=128<<24-Zt%32,Kt[(Zt+64>>9<<4)+15]=Zt,zt=0;zt<Kt.length;zt+=16){for(Zt=yt[0],vr=yt[1],ut=yt[2],lt=yt[3],xt=yt[4],Tt=yt[5],Ct=yt[6],At=yt[7],Ht=0;64>Ht;Ht++){if(16>Ht)Ar[Ht]=Kt[Ht+zt];else{qt=Ht,Qt=Ar[Ht-2],Qt=q(Qt,17)^q(Qt,19)^Qt>>>10,Qt=J(Qt,Ar[Ht-7]);var or;or=Ar[Ht-15],or=q(or,7)^q(or,18)^or>>>3,Ar[qt]=J(J(Qt,or),Ar[Ht-16])}qt=xt,qt=q(qt,6)^q(qt,11)^q(qt,25),qt=J(J(J(J(At,qt),xt&Tt^~xt&Ct),ot[Ht]),Ar[Ht]),At=Zt,At=q(At,2)^q(At,13)^q(At,22),Qt=J(At,Zt&vr^Zt&ut^vr&ut),At=Ct,Ct=Tt,Tt=xt,xt=J(lt,qt),lt=ut,ut=vr,vr=Zt,Zt=J(qt,Qt)}yt[0]=J(Zt,yt[0]),yt[1]=J(vr,yt[1]),yt[2]=J(ut,yt[2]),yt[3]=J(lt,yt[3]),yt[4]=J(xt,yt[4]),yt[5]=J(Tt,yt[5]),yt[6]=J(Ct,yt[6]),yt[7]=J(At,yt[7])}for(Kt="",Ar=0;Ar<32*yt.length;Ar+=8)Kt+=String.fromCharCode(yt[Ar>>5]>>>24-Ar%32&255);return Kt}function U(yt){for(var Kt="",Zt,Ar=0;Ar<yt.length;Ar++)Zt=yt.charCodeAt(Ar),Kt+="0123456789abcdef".charAt(Zt>>>4&15)+"0123456789abcdef".charAt(Zt&15);return Kt}function Z(yt){for(var Kt="",Zt=-1,Ar,vr;++Zt<yt.length;)Ar=yt.charCodeAt(Zt),vr=Zt+1<yt.length?yt.charCodeAt(Zt+1):0,55296<=Ar&&56319>=Ar&&56320<=vr&&57343>=vr&&(Ar=65536+((Ar&1023)<<10)+(vr&1023),Zt++),127>=Ar?Kt+=String.fromCharCode(Ar):2047>=Ar?Kt+=String.fromCharCode(192|Ar>>>6&31,128|Ar&63):65535>=Ar?Kt+=String.fromCharCode(224|Ar>>>12&15,128|Ar>>>6&63,128|Ar&63):2097151>=Ar&&(Kt+=String.fromCharCode(240|Ar>>>18&7,128|Ar>>>12&63,128|Ar>>>6&63,128|Ar&63));return Kt}function q(yt,Kt){return yt>>>Kt|yt<<32-Kt}function J(yt,Kt){var Zt=(yt&65535)+(Kt&65535);return(yt>>16)+(Kt>>16)+(Zt>>16)<<16|Zt&65535}function te(yt){return Array.prototype.slice.call(yt)}function fe(yt){return te(yt).join("")}function K(yt){function Kt(){var At=[],zt=[];return oe(function(){At.push.apply(At,te(arguments))},{def:function(){var Ht="v"+vr++;return zt.push(Ht),0<arguments.length&&(At.push(Ht,"="),At.push.apply(At,te(arguments)),At.push(";")),Ht},toString:function(){return fe([0<zt.length?"var "+zt.join(",")+";":"",fe(At)])}})}function Zt(){function At(or,Lr){Ht(or,Lr,"=",zt.def(or,Lr),";")}var zt=Kt(),Ht=Kt(),qt=zt.toString,Qt=Ht.toString;return oe(function(){zt.apply(zt,te(arguments))},{def:zt.def,entry:zt,exit:Ht,save:At,set:function(or,Lr,Ze){At(or,Lr),zt(or,Lr,"=",Ze,";")},toString:function(){return qt()+Qt()}})}var Ar=yt&&yt.cache,vr=0,ut=[],lt=[],xt=[],Tt=Kt(),Ct={};return{global:Tt,link:function(At,zt){var Ht=zt&&zt.stable;if(!Ht){for(var qt=0;qt<lt.length;++qt)if(lt[qt]===At&&!xt[qt])return ut[qt]}return qt="g"+vr++,ut.push(qt),lt.push(At),xt.push(Ht),qt},block:Kt,proc:function(At,zt){function Ht(){var Lr="a"+qt.length;return qt.push(Lr),Lr}var qt=[];zt=zt||0;for(var Qt=0;Qt<zt;++Qt)Ht();var Qt=Zt(),or=Qt.toString;return Ct[At]=oe(Qt,{arg:Ht,toString:function(){return fe(["function(",qt.join(),"){",or(),"}"])}})},scope:Zt,cond:function(){var At=fe(arguments),zt=Zt(),Ht=Zt(),qt=zt.toString,Qt=Ht.toString;return oe(zt,{then:function(){return zt.apply(zt,te(arguments)),this},else:function(){return Ht.apply(Ht,te(arguments)),this},toString:function(){var or=Qt();return or&&(or="else{"+or+"}"),fe(["if(",At,"){",qt(),"}",or])}})},compile:function(){var At=['"use strict";',Tt,"return {"];Object.keys(Ct).forEach(function(qt){At.push('"',qt,'":',Ct[qt].toString(),",")}),At.push("}");var zt=fe(At).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Ht;return Ar&&(Ht=U(F(Z(zt))),Ar[Ht])?Ar[Ht].apply(null,lt):(zt=Function.apply(null,ut.concat(zt)),Ar&&(Ar[Ht]=zt),zt.apply(null,lt))}}}function Y(yt){return Array.isArray(yt)||Ee(yt)||c(yt)}function W(yt){return yt.sort(function(Kt,Zt){return Kt==="viewport"?-1:Zt==="viewport"?1:Kt<Zt?-1:1})}function X(yt,Kt,Zt,Ar){this.thisDep=yt,this.contextDep=Kt,this.propDep=Zt,this.append=Ar}function re(yt){return yt&&!(yt.thisDep||yt.contextDep||yt.propDep)}function se(yt){return new X(!1,!1,!1,yt)}function Q(yt,Kt){var Zt=yt.type;if(Zt===0)return Zt=yt.data.length,new X(!0,1<=Zt,2<=Zt,Kt);if(Zt===4)return Zt=yt.data,new X(Zt.thisDep,Zt.contextDep,Zt.propDep,Kt);if(Zt===5)return new X(!1,!1,!1,Kt);if(Zt===6){for(var Ar=Zt=!1,vr=!1,ut=0;ut<yt.data.length;++ut){var lt=yt.data[ut];lt.type===1?vr=!0:lt.type===2?Ar=!0:lt.type===3?Zt=!0:lt.type===0?(Zt=!0,lt=lt.data,1<=lt&&(Ar=!0),2<=lt&&(vr=!0)):lt.type===4&&(Zt=Zt||lt.data.thisDep,Ar=Ar||lt.data.contextDep,vr=vr||lt.data.propDep)}return new X(Zt,Ar,vr,Kt)}return new X(Zt===3,Zt===2,Zt===1,Kt)}function ee(yt,Kt,Zt,Ar,vr,ut,lt,xt,Tt,Ct,At,zt,Ht,qt,Qt,or){function Lr(jt){return jt.replace(".","_")}function Ze(jt,Sr,sn){var vn=Lr(jt);Ln.push(jt),Hn[vn]=yn[vn]=!!sn,Pn[vn]=Sr}function Ye(jt,Sr,sn){var vn=Lr(jt);Ln.push(jt),Array.isArray(sn)?(yn[vn]=sn.slice(),Hn[vn]=sn.slice()):yn[vn]=Hn[vn]=sn,Wn[vn]=Sr}function It(){var jt=K({cache:Qt}),Sr=jt.link,sn=jt.global;jt.id=ni++,jt.batchId="0";var vn=Sr(la),dn=jt.shared={props:"a0"};Object.keys(la).forEach(function(Pr){dn[Pr]=sn.def(vn,".",Pr)});var Rn=jt.next={},An=jt.current={};Object.keys(Wn).forEach(function(Pr){Array.isArray(yn[Pr])&&(Rn[Pr]=sn.def(dn.next,".",Pr),An[Pr]=sn.def(dn.current,".",Pr))});var cn=jt.constants={};Object.keys(za).forEach(function(Pr){cn[Pr]=sn.def(JSON.stringify(za[Pr]))}),jt.invoke=function(Pr,zr){switch(zr.type){case 0:var pn=["this",dn.context,dn.props,jt.batchId];return Pr.def(Sr(zr.data),".call(",pn.slice(0,Math.max(zr.data.length+1,4)),")");case 1:return Pr.def(dn.props,zr.data);case 2:return Pr.def(dn.context,zr.data);case 3:return Pr.def("this",zr.data);case 4:return zr.data.append(jt,Pr),zr.data.ref;case 5:return zr.data.toString();case 6:return zr.data.map(function(zn){return jt.invoke(Pr,zn)})}},jt.attribCache={};var Dr={};return jt.scopeAttrib=function(Pr){if(Pr=Kt.id(Pr),Pr in Dr)return Dr[Pr];var zr=Ct.scope[Pr];return zr||(zr=Ct.scope[Pr]=new aa),Dr[Pr]=Sr(zr)},jt}function kt(jt){var Sr=jt.static;jt=jt.dynamic;var sn;if("profile"in Sr){var vn=!!Sr.profile;sn=se(function(Rn,An){return vn}),sn.enable=vn}else if("profile"in jt){var dn=jt.profile;sn=Q(dn,function(Rn,An){return Rn.invoke(An,dn)})}return sn}function Xt(jt,Sr){var sn=jt.static,vn=jt.dynamic;if("framebuffer"in sn){var dn=sn.framebuffer;return dn?(dn=xt.getFramebuffer(dn),se(function(An,cn){var Dr=An.link(dn),Pr=An.shared;return cn.set(Pr.framebuffer,".next",Dr),Pr=Pr.context,cn.set(Pr,".framebufferWidth",Dr+".width"),cn.set(Pr,".framebufferHeight",Dr+".height"),Dr})):se(function(An,cn){var Dr=An.shared;return cn.set(Dr.framebuffer,".next","null"),Dr=Dr.context,cn.set(Dr,".framebufferWidth",Dr+".drawingBufferWidth"),cn.set(Dr,".framebufferHeight",Dr+".drawingBufferHeight"),"null"})}if("framebuffer"in vn){var Rn=vn.framebuffer;return Q(Rn,function(An,cn){var zr=An.invoke(cn,Rn),Dr=An.shared,Pr=Dr.framebuffer,zr=cn.def(Pr,".getFramebuffer(",zr,")");return cn.set(Pr,".next",zr),Dr=Dr.context,cn.set(Dr,".framebufferWidth",zr+"?"+zr+".width:"+Dr+".drawingBufferWidth"),cn.set(Dr,".framebufferHeight",zr+"?"+zr+".height:"+Dr+".drawingBufferHeight"),zr})}return null}function ir(jt,Sr,sn){function vn(cn){if(cn in dn){var Dr=dn[cn];cn=!0;var Pr=Dr.x|0,zr=Dr.y|0,pn,zn;return"width"in Dr?pn=Dr.width|0:cn=!1,"height"in Dr?zn=Dr.height|0:cn=!1,new X(!cn&&Sr&&Sr.thisDep,!cn&&Sr&&Sr.contextDep,!cn&&Sr&&Sr.propDep,function(xn,Nn){var ta=xn.shared.context,ha=pn;"width"in Dr||(ha=Nn.def(ta,".","framebufferWidth","-",Pr));var ua=zn;return"height"in Dr||(ua=Nn.def(ta,".","framebufferHeight","-",zr)),[Pr,zr,ha,ua]})}if(cn in Rn){var Zn=Rn[cn];return cn=Q(Zn,function(xn,Nn){var ma=xn.invoke(Nn,Zn),ta=xn.shared.context,ha=Nn.def(ma,".x|0"),ua=Nn.def(ma,".y|0"),fa=Nn.def('"width" in ',ma,"?",ma,".width|0:","(",ta,".","framebufferWidth","-",ha,")"),ma=Nn.def('"height" in ',ma,"?",ma,".height|0:","(",ta,".","framebufferHeight","-",ua,")");return[ha,ua,fa,ma]}),Sr&&(cn.thisDep=cn.thisDep||Sr.thisDep,cn.contextDep=cn.contextDep||Sr.contextDep,cn.propDep=cn.propDep||Sr.propDep),cn}return Sr?new X(Sr.thisDep,Sr.contextDep,Sr.propDep,function(xn,Nn){var ta=xn.shared.context;return[0,0,Nn.def(ta,".","framebufferWidth"),Nn.def(ta,".","framebufferHeight")]}):null}var dn=jt.static,Rn=jt.dynamic;if(jt=vn("viewport")){var An=jt;jt=new X(jt.thisDep,jt.contextDep,jt.propDep,function(cn,Dr){var Pr=An.append(cn,Dr),zr=cn.shared.context;return Dr.set(zr,".viewportWidth",Pr[2]),Dr.set(zr,".viewportHeight",Pr[3]),Pr})}return{viewport:jt,scissor_box:vn("scissor.box")}}function ur(jt,Sr){var sn=jt.static;if(typeof sn.frag=="string"&&typeof sn.vert=="string"){if(0<Object.keys(Sr.dynamic).length)return null;var sn=Sr.static,vn=Object.keys(sn);if(0<vn.length&&typeof sn[vn[0]]=="number"){for(var dn=[],Rn=0;Rn<vn.length;++Rn)dn.push([sn[vn[Rn]]|0,vn[Rn]]);return dn}}return null}function nr(jt,Sr,sn){function vn(Pr){if(Pr in dn){var zr=Kt.id(dn[Pr]);return Pr=se(function(){return zr}),Pr.id=zr,Pr}if(Pr in Rn){var pn=Rn[Pr];return Q(pn,function(zn,Zn){var xn=zn.invoke(Zn,pn);return Zn.def(zn.shared.strings,".id(",xn,")")})}return null}var dn=jt.static,Rn=jt.dynamic,An=vn("frag"),cn=vn("vert"),Dr=null;return re(An)&&re(cn)?(Dr=At.program(cn.id,An.id,null,sn),jt=se(function(Pr,zr){return Pr.link(Dr)})):jt=new X(An&&An.thisDep||cn&&cn.thisDep,An&&An.contextDep||cn&&cn.contextDep,An&&An.propDep||cn&&cn.propDep,function(Pr,zr){var pn=Pr.shared.shader,zn;zn=An?An.append(Pr,zr):zr.def(pn,".","frag");var Zn;return Zn=cn?cn.append(Pr,zr):zr.def(pn,".","vert"),zr.def(pn+".program("+Zn+","+zn+")")}),{frag:An,vert:cn,progVar:jt,program:Dr}}function Nt(jt,Sr){function sn(xn,Nn){if(xn in vn){var ta=vn[xn]|0;return Nn?Rn.offset=ta:Rn.instances=ta,se(function(ua,fa){return Nn&&(ua.OFFSET=ta),ta})}if(xn in dn){var ha=dn[xn];return Q(ha,function(ua,fa){var ma=ua.invoke(fa,ha);return Nn&&(ua.OFFSET=ma),ma})}if(Nn){if(Dr)return se(function(ua,fa){return ua.OFFSET=0});if(An)return new X(cn.thisDep,cn.contextDep,cn.propDep,function(ua,fa){return fa.def(ua.shared.vao+".currentVAO?"+ua.shared.vao+".currentVAO.offset:0")})}else if(An)return new X(cn.thisDep,cn.contextDep,cn.propDep,function(ua,fa){return fa.def(ua.shared.vao+".currentVAO?"+ua.shared.vao+".currentVAO.instances:-1")});return null}var vn=jt.static,dn=jt.dynamic,Rn={},An=!1,cn=function(){if("vao"in vn){var xn=vn.vao;return xn!==null&&Ct.getVAO(xn)===null&&(xn=Ct.createVAO(xn)),An=!0,Rn.vao=xn,se(function(ta){var ha=Ct.getVAO(xn);return ha?ta.link(ha):"null"})}if("vao"in dn){An=!0;var Nn=dn.vao;return Q(Nn,function(ta,ha){var ua=ta.invoke(ha,Nn);return ha.def(ta.shared.vao+".getVAO("+ua+")")})}return null}(),Dr=!1,Pr=function(){if("elements"in vn){var xn=vn.elements;if(Rn.elements=xn,Y(xn)){var Nn=Rn.elements=ut.create(xn,!0),xn=ut.getElements(Nn);Dr=!0}else xn&&(xn=ut.getElements(xn),Dr=!0);return Nn=se(function(ha,ua){if(xn){var fa=ha.link(xn);return ha.ELEMENTS=fa}return ha.ELEMENTS=null}),Nn.value=xn,Nn}if("elements"in dn){Dr=!0;var ta=dn.elements;return Q(ta,function(ha,ua){var fa=ha.shared,yo=fa.isBufferArgs,fa=fa.elements,ko=ha.invoke(ua,ta),ma=ua.def("null"),yo=ua.def(yo,"(",ko,")"),ko=ha.cond(yo).then(ma,"=",fa,".createStream(",ko,");").else(ma,"=",fa,".getElements(",ko,");");return ua.entry(ko),ua.exit(ha.cond(yo).then(fa,".destroyStream(",ma,");")),ha.ELEMENTS=ma})}return An?new X(cn.thisDep,cn.contextDep,cn.propDep,function(ha,ua){return ua.def(ha.shared.vao+".currentVAO?"+ha.shared.elements+".getElements("+ha.shared.vao+".currentVAO.elements):null")}):null}(),zr=sn("offset",!0),pn=function(){if("primitive"in vn){var xn=vn.primitive;return Rn.primitive=xn,se(function(ta,ha){return Qe[xn]})}if("primitive"in dn){var Nn=dn.primitive;return Q(Nn,function(ta,ha){var ua=ta.constants.primTypes,fa=ta.invoke(ha,Nn);return ha.def(ua,"[",fa,"]")})}return Dr?re(Pr)?Pr.value?se(function(ta,ha){return ha.def(ta.ELEMENTS,".primType")}):se(function(){return 4}):new X(Pr.thisDep,Pr.contextDep,Pr.propDep,function(ta,ha){var ua=ta.ELEMENTS;return ha.def(ua,"?",ua,".primType:",4)}):An?new X(cn.thisDep,cn.contextDep,cn.propDep,function(ta,ha){return ha.def(ta.shared.vao+".currentVAO?"+ta.shared.vao+".currentVAO.primitive:4")}):null}(),zn=function(){if("count"in vn){var xn=vn.count|0;return Rn.count=xn,se(function(){return xn})}if("count"in dn){var Nn=dn.count;return Q(Nn,function(ta,ha){return ta.invoke(ha,Nn)})}return Dr?re(Pr)?Pr?zr?new X(zr.thisDep,zr.contextDep,zr.propDep,function(ta,ha){return ha.def(ta.ELEMENTS,".vertCount-",ta.OFFSET)}):se(function(ta,ha){return ha.def(ta.ELEMENTS,".vertCount")}):se(function(){return-1}):new X(Pr.thisDep||zr.thisDep,Pr.contextDep||zr.contextDep,Pr.propDep||zr.propDep,function(ta,ha){var ua=ta.ELEMENTS;return ta.OFFSET?ha.def(ua,"?",ua,".vertCount-",ta.OFFSET,":-1"):ha.def(ua,"?",ua,".vertCount:-1")}):An?new X(cn.thisDep,cn.contextDep,cn.propDep,function(ta,ha){return ha.def(ta.shared.vao,".currentVAO?",ta.shared.vao,".currentVAO.count:-1")}):null}(),Zn=sn("instances",!1);return{elements:Pr,primitive:pn,count:zn,instances:Zn,offset:zr,vao:cn,vaoActive:An,elementsActive:Dr,static:Rn}}function hr(jt,Sr){var sn=jt.static,vn=jt.dynamic,dn={};return Ln.forEach(function(Rn){function An(Dr,Pr){if(Rn in sn){var zr=Dr(sn[Rn]);dn[cn]=se(function(){return zr})}else if(Rn in vn){var pn=vn[Rn];dn[cn]=Q(pn,function(zn,Zn){return Pr(zn,Zn,zn.invoke(Zn,pn))})}}var cn=Lr(Rn);switch(Rn){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":return An(function(Dr){return Dr},function(Dr,Pr,zr){return zr});case"depth.func":return An(function(Dr){return Gt[Dr]},function(Dr,Pr,zr){return Pr.def(Dr.constants.compareFuncs,"[",zr,"]")});case"depth.range":return An(function(Dr){return Dr},function(Dr,Pr,zr){return Dr=Pr.def("+",zr,"[0]"),Pr=Pr.def("+",zr,"[1]"),[Dr,Pr]});case"blend.func":return An(function(Dr){return[Ut["srcRGB"in Dr?Dr.srcRGB:Dr.src],Ut["dstRGB"in Dr?Dr.dstRGB:Dr.dst],Ut["srcAlpha"in Dr?Dr.srcAlpha:Dr.src],Ut["dstAlpha"in Dr?Dr.dstAlpha:Dr.dst]]},function(Dr,Pr,zr){function pn(Nn,ta){return Pr.def('"',Nn,ta,'" in ',zr,"?",zr,".",Nn,ta,":",zr,".",Nn)}Dr=Dr.constants.blendFuncs;var zn=pn("src","RGB"),xn=pn("dst","RGB"),zn=Pr.def(Dr,"[",zn,"]"),Zn=Pr.def(Dr,"[",pn("src","Alpha"),"]"),xn=Pr.def(Dr,"[",xn,"]");return Dr=Pr.def(Dr,"[",pn("dst","Alpha"),"]"),[zn,xn,Zn,Dr]});case"blend.equation":return An(function(Dr){if(typeof Dr=="string")return[na[Dr],na[Dr]];if(typeof Dr=="object")return[na[Dr.rgb],na[Dr.alpha]]},function(Dr,Pr,zr){var pn=Dr.constants.blendEquations,zn=Pr.def(),Zn=Pr.def();return Dr=Dr.cond("typeof ",zr,'==="string"'),Dr.then(zn,"=",Zn,"=",pn,"[",zr,"];"),Dr.else(zn,"=",pn,"[",zr,".rgb];",Zn,"=",pn,"[",zr,".alpha];"),Pr(Dr),[zn,Zn]});case"blend.color":return An(function(Dr){return l(4,function(Pr){return+Dr[Pr]})},function(Dr,Pr,zr){return l(4,function(pn){return Pr.def("+",zr,"[",pn,"]")})});case"stencil.mask":return An(function(Dr){return Dr|0},function(Dr,Pr,zr){return Pr.def(zr,"|0")});case"stencil.func":return An(function(Dr){return[Gt[Dr.cmp||"keep"],Dr.ref||0,"mask"in Dr?Dr.mask:-1]},function(Dr,Pr,zr){Dr=Pr.def('"cmp" in ',zr,"?",Dr.constants.compareFuncs,"[",zr,".cmp]",":",7680);var pn=Pr.def(zr,".ref|0");return Pr=Pr.def('"mask" in ',zr,"?",zr,".mask|0:-1"),[Dr,pn,Pr]});case"stencil.opFront":case"stencil.opBack":return An(function(Dr){return[Rn==="stencil.opBack"?1029:1028,Et[Dr.fail||"keep"],Et[Dr.zfail||"keep"],Et[Dr.zpass||"keep"]]},function(Dr,Pr,zr){function pn(Zn){return Pr.def('"',Zn,'" in ',zr,"?",zn,"[",zr,".",Zn,"]:",7680)}var zn=Dr.constants.stencilOps;return[Rn==="stencil.opBack"?1029:1028,pn("fail"),pn("zfail"),pn("zpass")]});case"polygonOffset.offset":return An(function(Dr){return[Dr.factor|0,Dr.units|0]},function(Dr,Pr,zr){return Dr=Pr.def(zr,".factor|0"),Pr=Pr.def(zr,".units|0"),[Dr,Pr]});case"cull.face":return An(function(Dr){var Pr=0;return Dr==="front"?Pr=1028:Dr==="back"&&(Pr=1029),Pr},function(Dr,Pr,zr){return Pr.def(zr,'==="front"?',1028,":",1029)});case"lineWidth":return An(function(Dr){return Dr},function(Dr,Pr,zr){return zr});case"frontFace":return An(function(Dr){return $t[Dr]},function(Dr,Pr,zr){return Pr.def(zr+'==="cw"?2304:2305')});case"colorMask":return An(function(Dr){return Dr.map(function(Pr){return!!Pr})},function(Dr,Pr,zr){return l(4,function(pn){return"!!"+zr+"["+pn+"]"})});case"sample.coverage":return An(function(Dr){return["value"in Dr?Dr.value:1,!!Dr.invert]},function(Dr,Pr,zr){return Dr=Pr.def('"value" in ',zr,"?+",zr,".value:1"),Pr=Pr.def("!!",zr,".invert"),[Dr,Pr]})}}),dn}function pr(jt,Sr){var sn=jt.static,vn=jt.dynamic,dn={};return Object.keys(sn).forEach(function(Rn){var An=sn[Rn],cn;if(typeof An=="number"||typeof An=="boolean")cn=se(function(){return An});else if(typeof An=="function"){var Dr=An._reglType;Dr==="texture2d"||Dr==="textureCube"?cn=se(function(Pr){return Pr.link(An)}):(Dr==="framebuffer"||Dr==="framebufferCube")&&(cn=se(function(Pr){return Pr.link(An.color[0])}))}else M(An)&&(cn=se(function(Pr){return Pr.global.def("[",l(An.length,function(zr){return An[zr]}),"]")}));cn.value=An,dn[Rn]=cn}),Object.keys(vn).forEach(function(Rn){var An=vn[Rn];dn[Rn]=Q(An,function(cn,Dr){return cn.invoke(Dr,An)})}),dn}function gr(jt,Sr){var sn=jt.static,vn=jt.dynamic,dn={};return Object.keys(sn).forEach(function(Rn){var An=sn[Rn],cn=Kt.id(Rn),Dr=new aa;if(Y(An))Dr.state=1,Dr.buffer=vr.getBuffer(vr.create(An,34962,!1,!0)),Dr.type=0;else{var Pr=vr.getBuffer(An);if(Pr)Dr.state=1,Dr.buffer=Pr,Dr.type=0;else if("constant"in An){var zr=An.constant;Dr.buffer="null",Dr.state=2,typeof zr=="number"?Dr.x=zr:wt.forEach(function(ta,ha){ha<zr.length&&(Dr[ta]=zr[ha])})}else{var Pr=Y(An.buffer)?vr.getBuffer(vr.create(An.buffer,34962,!1,!0)):vr.getBuffer(An.buffer),pn=An.offset|0,zn=An.stride|0,Zn=An.size|0,xn=!!An.normalized,Nn=0;"type"in An&&(Nn=He[An.type]),An=An.divisor|0,Dr.buffer=Pr,Dr.state=1,Dr.size=Zn,Dr.normalized=xn,Dr.type=Nn||Pr.dtype,Dr.offset=pn,Dr.stride=zn,Dr.divisor=An}}dn[Rn]=se(function(ta,ha){var ua=ta.attribCache;if(cn in ua)return ua[cn];var fa={isStream:!1};return Object.keys(Dr).forEach(function(ma){fa[ma]=Dr[ma]}),Dr.buffer&&(fa.buffer=ta.link(Dr.buffer),fa.type=fa.type||fa.buffer+".dtype"),ua[cn]=fa})}),Object.keys(vn).forEach(function(Rn){var An=vn[Rn];dn[Rn]=Q(An,function(cn,Dr){function Pr(ua){Dr(xn[ua],"=",zr,".",ua,"|0;")}var zr=cn.invoke(Dr,An),Zn=cn.shared,pn=cn.constants,zn=Zn.isBufferArgs,Zn=Zn.buffer,xn={isStream:Dr.def(!1)},Nn=new aa;Nn.state=1,Object.keys(Nn).forEach(function(ua){xn[ua]=Dr.def(""+Nn[ua])});var ta=xn.buffer,ha=xn.type;return Dr("if(",zn,"(",zr,")){",xn.isStream,"=true;",ta,"=",Zn,".createStream(",34962,",",zr,");",ha,"=",ta,".dtype;","}else{",ta,"=",Zn,".getBuffer(",zr,");","if(",ta,"){",ha,"=",ta,".dtype;",'}else if("constant" in ',zr,"){",xn.state,"=",2,";","if(typeof "+zr+'.constant === "number"){',xn[wt[0]],"=",zr,".constant;",wt.slice(1).map(function(ua){return xn[ua]}).join("="),"=0;","}else{",wt.map(function(ua,fa){return xn[ua]+"="+zr+".constant.length>"+fa+"?"+zr+".constant["+fa+"]:0;"}).join(""),"}}else{","if(",zn,"(",zr,".buffer)){",ta,"=",Zn,".createStream(",34962,",",zr,".buffer);","}else{",ta,"=",Zn,".getBuffer(",zr,".buffer);","}",ha,'="type" in ',zr,"?",pn.glTypes,"[",zr,".type]:",ta,".dtype;",xn.normalized,"=!!",zr,".normalized;"),Pr("size"),Pr("offset"),Pr("stride"),Pr("divisor"),Dr("}}"),Dr.exit("if(",xn.isStream,"){",Zn,".destroyStream(",ta,");","}"),xn})}),dn}function dr(jt){var Sr=jt.static,sn=jt.dynamic,vn={};return Object.keys(Sr).forEach(function(dn){var Rn=Sr[dn];vn[dn]=se(function(An,cn){return typeof Rn=="number"||typeof Rn=="boolean"?""+Rn:An.link(Rn)})}),Object.keys(sn).forEach(function(dn){var Rn=sn[dn];vn[dn]=Q(Rn,function(An,cn){return An.invoke(cn,Rn)})}),vn}function Xr(jt,Sr,sn,vn,dn){function Rn(Nn){var ta=cn[Nn];ta&&(Pr[Nn]=ta)}var An=ur(jt,Sr),zn=Xt(jt),cn=ir(jt,zn),Dr=Nt(jt),Pr=hr(jt),zr=nr(jt,dn,An);Rn("viewport"),Rn(Lr("scissor.box"));var pn=0<Object.keys(Pr).length,zn={framebuffer:zn,draw:Dr,shader:zr,state:Pr,dirty:pn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(zn.profile=kt(jt),zn.uniforms=pr(sn),zn.drawVAO=zn.scopeVAO=Dr.vao,!zn.drawVAO&&zr.program&&!An&&Zt.angle_instanced_arrays&&Dr.static.elements){var Zn=!0;if(jt=zr.program.attributes.map(function(Nn){return Nn=Sr.static[Nn],Zn=Zn&&!!Nn,Nn}),Zn&&0<jt.length){var xn=Ct.getVAO(Ct.createVAO({attributes:jt,elements:Dr.static.elements}));zn.drawVAO=new X(null,null,null,function(Nn,ta){return Nn.link(xn)}),zn.useVAO=!0}}return An?zn.useVAO=!0:zn.attributes=gr(Sr),zn.context=dr(vn),zn}function Br(jt,Sr,sn){var vn=jt.shared.context,dn=jt.scope();Object.keys(sn).forEach(function(Rn){Sr.save(vn,"."+Rn);var An=sn[Rn].append(jt,Sr);Array.isArray(An)?dn(vn,".",Rn,"=[",An.join(),"];"):dn(vn,".",Rn,"=",An,";")}),Sr(dn)}function Or(jt,Sr,sn,vn){var cn=jt.shared,dn=cn.gl,Rn=cn.framebuffer,An;ln&&(An=Sr.def(cn.extensions,".webgl_draw_buffers"));var Dr=jt.constants,cn=Dr.drawBuffer,Dr=Dr.backBuffer;jt=sn?sn.append(jt,Sr):Sr.def(Rn,".next"),vn||Sr("if(",jt,"!==",Rn,".cur){"),Sr("if(",jt,"){",dn,".bindFramebuffer(",36160,",",jt,".framebuffer);"),ln&&Sr(An,".drawBuffersWEBGL(",cn,"[",jt,".colorAttachments.length]);"),Sr("}else{",dn,".bindFramebuffer(",36160,",null);"),ln&&Sr(An,".drawBuffersWEBGL(",Dr,");"),Sr("}",Rn,".cur=",jt,";"),vn||Sr("}")}function mn(jt,Sr,sn){var vn=jt.shared,dn=vn.gl,Rn=jt.current,An=jt.next,cn=vn.current,Dr=vn.next,Pr=jt.cond(cn,".dirty");Ln.forEach(function(zr){if(zr=Lr(zr),!(zr in sn.state)){var pn,zn;if(zr in An){pn=An[zr],zn=Rn[zr];var Zn=l(yn[zr].length,function(xn){return Pr.def(pn,"[",xn,"]")});Pr(jt.cond(Zn.map(function(xn,Nn){return xn+"!=="+zn+"["+Nn+"]"}).join("||")).then(dn,".",Wn[zr],"(",Zn,");",Zn.map(function(xn,Nn){return zn+"["+Nn+"]="+xn}).join(";"),";"))}else pn=Pr.def(Dr,".",zr),Zn=jt.cond(pn,"!==",cn,".",zr),Pr(Zn),zr in Pn?Zn(jt.cond(pn).then(dn,".enable(",Pn[zr],");").else(dn,".disable(",Pn[zr],");"),cn,".",zr,"=",pn,";"):Zn(dn,".",Wn[zr],"(",pn,");",cn,".",zr,"=",pn,";")}}),Object.keys(sn.state).length===0&&Pr(cn,".dirty=false;"),Sr(Pr)}function Jr(jt,Sr,sn,vn){var dn=jt.shared,Rn=jt.current,An=dn.current,cn=dn.gl,Dr;W(Object.keys(sn)).forEach(function(Pr){var zr=sn[Pr];if(!vn||vn(zr)){var pn=zr.append(jt,Sr);if(Pn[Pr]){var zn=Pn[Pr];re(zr)?(Dr=jt.link(pn,{stable:!0}),Sr(jt.cond(Dr).then(cn,".enable(",zn,");").else(cn,".disable(",zn,");")),Sr(An,".",Pr,"=",Dr,";")):(Sr(jt.cond(pn).then(cn,".enable(",zn,");").else(cn,".disable(",zn,");")),Sr(An,".",Pr,"=",pn,";"))}else if(M(pn)){var Zn=Rn[Pr];Sr(cn,".",Wn[Pr],"(",pn,");",pn.map(function(xn,Nn){return Zn+"["+Nn+"]="+xn}).join(";"),";")}else re(zr)?(Dr=jt.link(pn,{stable:!0}),Sr(cn,".",Wn[Pr],"(",Dr,");",An,".",Pr,"=",Dr,";")):Sr(cn,".",Wn[Pr],"(",pn,");",An,".",Pr,"=",pn,";")}})}function _n(jt,Sr){Cr&&(jt.instancing=Sr.def(jt.shared.extensions,".angle_instanced_arrays"))}function kn(jt,Sr,sn,vn,dn){function Rn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function An(Nn){Zn=Sr.def(),Nn(Zn,"=",Rn(),";"),typeof dn=="string"?Nn(zr,".count+=",dn,";"):Nn(zr,".count++;"),qt&&(vn?(xn=Sr.def(),Nn(xn,"=",zn,".getNumPendingQueries();")):Nn(zn,".beginQuery(",zr,");"))}function cn(Nn){Nn(zr,".cpuTime+=",Rn(),"-",Zn,";"),qt&&(vn?Nn(zn,".pushScopeStats(",xn,",",zn,".getNumPendingQueries(),",zr,");"):Nn(zn,".endQuery();"))}function Dr(Nn){var ta=Sr.def(pn,".profile");Sr(pn,".profile=",Nn,";"),Sr.exit(pn,".profile=",ta,";")}var Pr=jt.shared,zr=jt.stats,pn=Pr.current,zn=Pr.timer;sn=sn.profile;var Zn,xn;if(sn){if(re(sn)){sn.enable?(An(Sr),cn(Sr.exit),Dr("true")):Dr("false");return}sn=sn.append(jt,Sr),Dr(sn)}else sn=Sr.def(pn,".profile");Pr=jt.block(),An(Pr),Sr("if(",sn,"){",Pr,"}"),jt=jt.block(),cn(jt),Sr.exit("if(",sn,"){",jt,"}")}function br(jt,Sr,sn,vn,dn){function Rn(Dr){switch(Dr){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}function An(Dr,Pr,zr){function pn(){Sr("if(!",Nn,".buffer){",Zn,".enableVertexAttribArray(",xn,");}");var fa=zr.type,ma;ma=zr.size?Sr.def(zr.size,"||",Pr):Pr,Sr("if(",Nn,".type!==",fa,"||",Nn,".size!==",ma,"||",ua.map(function(yo){return Nn+"."+yo+"!=="+zr[yo]}).join("||"),"){",Zn,".bindBuffer(",34962,",",ta,".buffer);",Zn,".vertexAttribPointer(",[xn,ma,fa,zr.normalized,zr.stride,zr.offset],");",Nn,".type=",fa,";",Nn,".size=",ma,";",ua.map(function(yo){return Nn+"."+yo+"="+zr[yo]+";"}).join(""),"}"),Cr&&(fa=zr.divisor,Sr("if(",Nn,".divisor!==",fa,"){",jt.instancing,".vertexAttribDivisorANGLE(",[xn,fa],");",Nn,".divisor=",fa,";}"))}function zn(){Sr("if(",Nn,".buffer){",Zn,".disableVertexAttribArray(",xn,");",Nn,".buffer=null;","}if(",wt.map(function(fa,ma){return Nn+"."+fa+"!=="+ha[ma]}).join("||"),"){",Zn,".vertexAttrib4f(",xn,",",ha,");",wt.map(function(fa,ma){return Nn+"."+fa+"="+ha[ma]+";"}).join(""),"}")}var Zn=cn.gl,xn=Sr.def(Dr,".location"),Nn=Sr.def(cn.attributes,"[",xn,"]");Dr=zr.state;var ta=zr.buffer,ha=[zr.x,zr.y,zr.z,zr.w],ua=["buffer","normalized","offset","stride"];Dr===1?pn():Dr===2?zn():(Sr("if(",Dr,"===",1,"){"),pn(),Sr("}else{"),zn(),Sr("}"))}var cn=jt.shared;vn.forEach(function(Dr){var Pr=Dr.name,zr=sn.attributes[Pr],pn;if(zr){if(!dn(zr))return;pn=zr.append(jt,Sr)}else{if(!dn(lr))return;var zn=jt.scopeAttrib(Pr);pn={},Object.keys(new aa).forEach(function(Zn){pn[Zn]=Sr.def(zn,".",Zn)})}An(jt.link(Dr),Rn(Dr.info.type),pn)})}function wr(jt,Sr,sn,vn,dn,Rn){for(var An=jt.shared,cn=An.gl,Dr,Pr=0;Pr<vn.length;++Pr){var Zn=vn[Pr],zr=Zn.name,pn=Zn.info.type,zn=sn.uniforms[zr],Zn=jt.link(Zn)+".location",xn;if(zn){if(!dn(zn))continue;if(re(zn)){if(zr=zn.value,pn===35678||pn===35680)pn=jt.link(zr._texture||zr.color[0]._texture),Sr(cn,".uniform1i(",Zn,",",pn+".bind());"),Sr.exit(pn,".unbind();");else if(pn===35674||pn===35675||pn===35676)zr=jt.global.def("new Float32Array(["+Array.prototype.slice.call(zr)+"])"),zn=2,pn===35675?zn=3:pn===35676&&(zn=4),Sr(cn,".uniformMatrix",zn,"fv(",Zn,",false,",zr,");");else{switch(pn){case 5126:Dr="1f";break;case 35664:Dr="2f";break;case 35665:Dr="3f";break;case 35666:Dr="4f";break;case 35670:Dr="1i";break;case 5124:Dr="1i";break;case 35671:Dr="2i";break;case 35667:Dr="2i";break;case 35672:Dr="3i";break;case 35668:Dr="3i";break;case 35673:Dr="4i";break;case 35669:Dr="4i"}Sr(cn,".uniform",Dr,"(",Zn,",",M(zr)?Array.prototype.slice.call(zr):zr,");")}continue}else xn=zn.append(jt,Sr)}else{if(!dn(lr))continue;xn=Sr.def(An.uniforms,"[",Kt.id(zr),"]")}switch(pn===35678?Sr("if(",xn,"&&",xn,'._reglType==="framebuffer"){',xn,"=",xn,".color[0];","}"):pn===35680&&Sr("if(",xn,"&&",xn,'._reglType==="framebufferCube"){',xn,"=",xn,".color[0];","}"),zr=1,pn){case 35678:case 35680:pn=Sr.def(xn,"._texture"),Sr(cn,".uniform1i(",Zn,",",pn,".bind());"),Sr.exit(pn,".unbind();");continue;case 5124:case 35670:Dr="1i";break;case 35667:case 35671:Dr="2i",zr=2;break;case 35668:case 35672:Dr="3i",zr=3;break;case 35669:case 35673:Dr="4i",zr=4;break;case 5126:Dr="1f";break;case 35664:Dr="2f",zr=2;break;case 35665:Dr="3f",zr=3;break;case 35666:Dr="4f",zr=4;break;case 35674:Dr="Matrix2fv";break;case 35675:Dr="Matrix3fv";break;case 35676:Dr="Matrix4fv"}if(Dr.charAt(0)==="M"){Sr(cn,".uniform",Dr,"(",Zn,",");var Zn=Math.pow(pn-35674+2,2),Nn=jt.global.def("new Float32Array(",Zn,")");Array.isArray(xn)?Sr("false,(",l(Zn,function(ua){return Nn+"["+ua+"]="+xn[ua]}),",",Nn,")"):Sr("false,(Array.isArray(",xn,")||",xn," instanceof Float32Array)?",xn,":(",l(Zn,function(ua){return Nn+"["+ua+"]="+xn+"["+ua+"]"}),",",Nn,")"),Sr(");")}else{if(1<zr){for(var pn=[],ta=[],zn=0;zn<zr;++zn)Array.isArray(xn)?ta.push(xn[zn]):ta.push(Sr.def(xn+"["+zn+"]")),Rn&&pn.push(Sr.def());Rn&&Sr("if(!",jt.batchId,"||",pn.map(function(ha,ua){return ha+"!=="+ta[ua]}).join("||"),"){",pn.map(function(ha,ua){return ha+"="+ta[ua]+";"}).join("")),Sr(cn,".uniform",Dr,"(",Zn,",",ta.join(","),");")}else Rn&&(pn=Sr.def(),Sr("if(!",jt.batchId,"||",pn,"!==",xn,"){",pn,"=",xn,";")),Sr(cn,".uniform",Dr,"(",Zn,",",xn,");");Rn&&Sr("}")}}}function Nr(jt,Sr,sn,vn){function dn(fa){var ma=zr[fa];return ma?ma.contextDep&&vn.contextDynamic||ma.propDep?ma.append(jt,sn):ma.append(jt,Sr):Sr.def(Pr,".",fa)}function Rn(){function fa(){sn(ta,".drawElementsInstancedANGLE(",[zn,xn,ha,Zn+"<<(("+ha+"-5121)>>1)",Nn],");")}function ma(){sn(ta,".drawArraysInstancedANGLE(",[zn,Zn,xn,Nn],");")}pn&&pn!=="null"?ua?fa():(sn("if(",pn,"){"),fa(),sn("}else{"),ma(),sn("}")):ma()}function An(){function fa(){sn(Dr+".drawElements("+[zn,xn,ha,Zn+"<<(("+ha+"-5121)>>1)"]+");")}function ma(){sn(Dr+".drawArrays("+[zn,Zn,xn]+");")}pn&&pn!=="null"?ua?fa():(sn("if(",pn,"){"),fa(),sn("}else{"),ma(),sn("}")):ma()}var cn=jt.shared,Dr=cn.gl,Pr=cn.draw,zr=vn.draw,pn=function(){var fa=zr.elements,ma=Sr;return fa?((fa.contextDep&&vn.contextDynamic||fa.propDep)&&(ma=sn),fa=fa.append(jt,ma),zr.elementsActive&&ma("if("+fa+")"+Dr+".bindBuffer(34963,"+fa+".buffer.buffer);")):(fa=ma.def(),ma(fa,"=",Pr,".","elements",";","if(",fa,"){",Dr,".bindBuffer(",34963,",",fa,".buffer.buffer);}","else if(",cn.vao,".currentVAO){",fa,"=",jt.shared.elements+".getElements("+cn.vao,".currentVAO.elements);",on?"":"if("+fa+")"+Dr+".bindBuffer(34963,"+fa+".buffer.buffer);","}")),fa}(),zn=dn("primitive"),Zn=dn("offset"),xn=function(){var fa=zr.count,ma=Sr;return fa?((fa.contextDep&&vn.contextDynamic||fa.propDep)&&(ma=sn),fa=fa.append(jt,ma)):fa=ma.def(Pr,".","count"),fa}();if(typeof xn=="number"){if(xn===0)return}else sn("if(",xn,"){"),sn.exit("}");var Nn,ta;Cr&&(Nn=dn("instances"),ta=jt.instancing);var ha=pn+".type",ua=zr.elements&&re(zr.elements)&&!zr.vaoActive;Cr&&(typeof Nn!="number"||0<=Nn)?typeof Nn=="string"?(sn("if(",Nn,">0){"),Rn(),sn("}else if(",Nn,"<0){"),An(),sn("}")):Rn():An()}function Vr(jt,Sr,sn,vn,dn){return Sr=It(),dn=Sr.proc("body",dn),Cr&&(Sr.instancing=dn.def(Sr.shared.extensions,".angle_instanced_arrays")),jt(Sr,dn,sn,vn),Sr.compile().body}function tn(jt,Sr,sn,vn){_n(jt,Sr),sn.useVAO?sn.drawVAO?Sr(jt.shared.vao,".setVAO(",sn.drawVAO.append(jt,Sr),");"):Sr(jt.shared.vao,".setVAO(",jt.shared.vao,".targetVAO);"):(Sr(jt.shared.vao,".setVAO(null);"),br(jt,Sr,sn,vn.attributes,function(){return!0})),wr(jt,Sr,sn,vn.uniforms,function(){return!0},!1),Nr(jt,Sr,Sr,sn)}function gn(jt,Sr){var sn=jt.proc("draw",1);_n(jt,sn),Br(jt,sn,Sr.context),Or(jt,sn,Sr.framebuffer),mn(jt,sn,Sr),Jr(jt,sn,Sr.state),kn(jt,sn,Sr,!1,!0);var vn=Sr.shader.progVar.append(jt,sn);if(sn(jt.shared.gl,".useProgram(",vn,".program);"),Sr.shader.program)tn(jt,sn,Sr,Sr.shader.program);else{sn(jt.shared.vao,".setVAO(null);");var dn=jt.global.def("{}"),Rn=sn.def(vn,".id"),An=sn.def(dn,"[",Rn,"]");sn(jt.cond(An).then(An,".call(this,a0);").else(An,"=",dn,"[",Rn,"]=",jt.link(function(cn){return Vr(tn,jt,Sr,cn,1)}),"(",vn,");",An,".call(this,a0);"))}0<Object.keys(Sr.state).length&&sn(jt.shared.current,".dirty=true;"),jt.shared.vao&&sn(jt.shared.vao,".setVAO(null);")}function hn(jt,Sr,sn,vn){function dn(){return!0}jt.batchId="a1",_n(jt,Sr),br(jt,Sr,sn,vn.attributes,dn),wr(jt,Sr,sn,vn.uniforms,dn,!1),Nr(jt,Sr,Sr,sn)}function Sn(jt,Sr,sn,vn){function dn(pn){return pn.contextDep&&An||pn.propDep}function Rn(pn){return!dn(pn)}_n(jt,Sr);var An=sn.contextDep,cn=Sr.def(),Dr=Sr.def();jt.shared.props=Dr,jt.batchId=cn;var Pr=jt.scope(),zr=jt.scope();Sr(Pr.entry,"for(",cn,"=0;",cn,"<","a1",";++",cn,"){",Dr,"=","a0","[",cn,"];",zr,"}",Pr.exit),sn.needsContext&&Br(jt,zr,sn.context),sn.needsFramebuffer&&Or(jt,zr,sn.framebuffer),Jr(jt,zr,sn.state,dn),sn.profile&&dn(sn.profile)&&kn(jt,zr,sn,!1,!0),vn?(sn.useVAO?sn.drawVAO?dn(sn.drawVAO)?zr(jt.shared.vao,".setVAO(",sn.drawVAO.append(jt,zr),");"):Pr(jt.shared.vao,".setVAO(",sn.drawVAO.append(jt,Pr),");"):Pr(jt.shared.vao,".setVAO(",jt.shared.vao,".targetVAO);"):(Pr(jt.shared.vao,".setVAO(null);"),br(jt,Pr,sn,vn.attributes,Rn),br(jt,zr,sn,vn.attributes,dn)),wr(jt,Pr,sn,vn.uniforms,Rn,!1),wr(jt,zr,sn,vn.uniforms,dn,!0),Nr(jt,Pr,zr,sn)):(Sr=jt.global.def("{}"),vn=sn.shader.progVar.append(jt,zr),Dr=zr.def(vn,".id"),Pr=zr.def(Sr,"[",Dr,"]"),zr(jt.shared.gl,".useProgram(",vn,".program);","if(!",Pr,"){",Pr,"=",Sr,"[",Dr,"]=",jt.link(function(pn){return Vr(hn,jt,sn,pn,2)}),"(",vn,");}",Pr,".call(this,a0[",cn,"],",cn,");"))}function In(jt,Sr){function sn(Pr){return Pr.contextDep&&dn||Pr.propDep}var vn=jt.proc("batch",2);jt.batchId="0",_n(jt,vn);var dn=!1,Rn=!0;Object.keys(Sr.context).forEach(function(Pr){dn=dn||Sr.context[Pr].propDep}),dn||(Br(jt,vn,Sr.context),Rn=!1);var An=Sr.framebuffer,cn=!1;if(An?(An.propDep?dn=cn=!0:An.contextDep&&dn&&(cn=!0),cn||Or(jt,vn,An)):Or(jt,vn,null),Sr.state.viewport&&Sr.state.viewport.propDep&&(dn=!0),mn(jt,vn,Sr),Jr(jt,vn,Sr.state,function(Pr){return!sn(Pr)}),Sr.profile&&sn(Sr.profile)||kn(jt,vn,Sr,!1,"a1"),Sr.contextDep=dn,Sr.needsContext=Rn,Sr.needsFramebuffer=cn,Rn=Sr.shader.progVar,Rn.contextDep&&dn||Rn.propDep)Sn(jt,vn,Sr,null);else if(Rn=Rn.append(jt,vn),vn(jt.shared.gl,".useProgram(",Rn,".program);"),Sr.shader.program)Sn(jt,vn,Sr,Sr.shader.program);else{vn(jt.shared.vao,".setVAO(null);");var An=jt.global.def("{}"),cn=vn.def(Rn,".id"),Dr=vn.def(An,"[",cn,"]");vn(jt.cond(Dr).then(Dr,".call(this,a0,a1);").else(Dr,"=",An,"[",cn,"]=",jt.link(function(pn){return Vr(Sn,jt,Sr,pn,2)}),"(",Rn,");",Dr,".call(this,a0,a1);"))}0<Object.keys(Sr.state).length&&vn(jt.shared.current,".dirty=true;"),jt.shared.vao&&vn(jt.shared.vao,".setVAO(null);")}function Jn(jt,Sr){function sn(cn){var Dr=Sr.shader[cn];Dr&&(Dr=Dr.append(jt,vn),isNaN(Dr)?vn.set(dn.shader,"."+cn,Dr):vn.set(dn.shader,"."+cn,jt.link(Dr,{stable:!0})))}var vn=jt.proc("scope",3);jt.batchId="a2";var dn=jt.shared,Rn=dn.current;if(Br(jt,vn,Sr.context),Sr.framebuffer&&Sr.framebuffer.append(jt,vn),W(Object.keys(Sr.state)).forEach(function(cn){var Dr=Sr.state[cn],Pr=Dr.append(jt,vn);M(Pr)?Pr.forEach(function(zr,pn){isNaN(zr)?vn.set(jt.next[cn],"["+pn+"]",zr):vn.set(jt.next[cn],"["+pn+"]",jt.link(zr,{stable:!0}))}):re(Dr)?vn.set(dn.next,"."+cn,jt.link(Pr,{stable:!0})):vn.set(dn.next,"."+cn,Pr)}),kn(jt,vn,Sr,!0,!0),["elements","offset","count","instances","primitive"].forEach(function(cn){var Dr=Sr.draw[cn];Dr&&(Dr=Dr.append(jt,vn),isNaN(Dr)?vn.set(dn.draw,"."+cn,Dr):vn.set(dn.draw,"."+cn,jt.link(Dr),{stable:!0}))}),Object.keys(Sr.uniforms).forEach(function(cn){var Dr=Sr.uniforms[cn].append(jt,vn);Array.isArray(Dr)&&(Dr="["+Dr.map(function(Pr){return isNaN(Pr)?Pr:jt.link(Pr,{stable:!0})})+"]"),vn.set(dn.uniforms,"["+jt.link(Kt.id(cn),{stable:!0})+"]",Dr)}),Object.keys(Sr.attributes).forEach(function(cn){var Dr=Sr.attributes[cn].append(jt,vn),Pr=jt.scopeAttrib(cn);Object.keys(new aa).forEach(function(zr){vn.set(Pr,"."+zr,Dr[zr])})}),Sr.scopeVAO){var An=Sr.scopeVAO.append(jt,vn);isNaN(An)?vn.set(dn.vao,".targetVAO",An):vn.set(dn.vao,".targetVAO",jt.link(An,{stable:!0}))}sn("vert"),sn("frag"),0<Object.keys(Sr.state).length&&(vn(Rn,".dirty=true;"),vn.exit(Rn,".dirty=true;")),vn("a1(",jt.shared.context,",a0,",jt.batchId,");")}function ra(jt){if(typeof jt=="object"&&!M(jt)){for(var Sr=Object.keys(jt),sn=0;sn<Sr.length;++sn)if(xe.isDynamic(jt[Sr[sn]]))return!0;return!1}}function ca(jt,Sr,sn){function vn(pn,zn){An.forEach(function(Zn){var xn=dn[Zn];xe.isDynamic(xn)&&(xn=pn.invoke(zn,xn),zn(zr,".",Zn,"=",xn,";"))})}var dn=Sr.static[sn];if(dn&&ra(dn)){var Rn=jt.global,An=Object.keys(dn),cn=!1,Dr=!1,Pr=!1,zr=jt.global.def("{}");An.forEach(function(pn){var zn=dn[pn];if(xe.isDynamic(zn))typeof zn=="function"&&(zn=dn[pn]=xe.unbox(zn)),pn=Q(zn,null),cn=cn||pn.thisDep,Pr=Pr||pn.propDep,Dr=Dr||pn.contextDep;else{switch(Rn(zr,".",pn,"="),typeof zn){case"number":Rn(zn);break;case"string":Rn('"',zn,'"');break;case"object":Array.isArray(zn)&&Rn("[",zn.join(),"]");break;default:Rn(jt.link(zn))}Rn(";")}}),Sr.dynamic[sn]=new xe.DynamicVariable(4,{thisDep:cn,contextDep:Dr,propDep:Pr,ref:zr,append:vn}),delete Sr.static[sn]}}var aa=Ct.Record,na={add:32774,subtract:32778,"reverse subtract":32779};Zt.ext_blend_minmax&&(na.min=32775,na.max=32776);var Cr=Zt.angle_instanced_arrays,ln=Zt.webgl_draw_buffers,on=Zt.oes_vertex_array_object,yn={dirty:!0,profile:or.profile},Hn={},Ln=[],Pn={},Wn={};Ze("dither",3024),Ze("blend.enable",3042),Ye("blend.color","blendColor",[0,0,0,0]),Ye("blend.equation","blendEquationSeparate",[32774,32774]),Ye("blend.func","blendFuncSeparate",[1,0,1,0]),Ze("depth.enable",2929,!0),Ye("depth.func","depthFunc",513),Ye("depth.range","depthRange",[0,1]),Ye("depth.mask","depthMask",!0),Ye("colorMask","colorMask",[!0,!0,!0,!0]),Ze("cull.enable",2884),Ye("cull.face","cullFace",1029),Ye("frontFace","frontFace",2305),Ye("lineWidth","lineWidth",1),Ze("polygonOffset.enable",32823),Ye("polygonOffset.offset","polygonOffset",[0,0]),Ze("sample.alpha",32926),Ze("sample.enable",32928),Ye("sample.coverage","sampleCoverage",[1,!1]),Ze("stencil.enable",2960),Ye("stencil.mask","stencilMask",-1),Ye("stencil.func","stencilFunc",[519,0,-1]),Ye("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),Ye("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Ze("scissor.enable",3089),Ye("scissor.box","scissor",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]),Ye("viewport","viewport",[0,0,yt.drawingBufferWidth,yt.drawingBufferHeight]);var la={gl:yt,context:Ht,strings:Kt,next:Hn,current:yn,draw:zt,elements:ut,buffer:vr,shader:At,attributes:Ct.state,vao:Ct,uniforms:Tt,framebuffer:xt,extensions:Zt,timer:qt,isBufferArgs:Y},za={primTypes:Qe,compareFuncs:Gt,blendFuncs:Ut,blendEquations:na,stencilOps:Et,glTypes:He,orientationType:$t};ln&&(za.backBuffer=[1029],za.drawBuffer=l(Ar.maxDrawbuffers,function(jt){return jt===0?[0]:l(jt,function(Sr){return 36064+Sr})}));var ni=0;return{next:Hn,current:yn,procs:function(){var jt=It(),Sr=jt.proc("poll"),sn=jt.proc("refresh"),vn=jt.block();Sr(vn),sn(vn);var Dr=jt.shared,dn=Dr.gl,Rn=Dr.next,An=Dr.current;vn(An,".dirty=false;"),Or(jt,Sr),Or(jt,sn,null,!0);var cn;Cr&&(cn=jt.link(Cr)),Zt.oes_vertex_array_object&&sn(jt.link(Zt.oes_vertex_array_object),".bindVertexArrayOES(null);");var Dr=sn.def(Dr.attributes),Pr=sn.def(0),zr=jt.cond(Pr,".buffer");zr.then(dn,".enableVertexAttribArray(i);",dn,".bindBuffer(",34962,",",Pr,".buffer.buffer);",dn,".vertexAttribPointer(i,",Pr,".size,",Pr,".type,",Pr,".normalized,",Pr,".stride,",Pr,".offset);").else(dn,".disableVertexAttribArray(i);",dn,".vertexAttrib4f(i,",Pr,".x,",Pr,".y,",Pr,".z,",Pr,".w);",Pr,".buffer=null;");var pn=jt.link(Ar.maxAttributes,{stable:!0});return sn("for(var i=0;i<",pn,";++i){",Pr,"=",Dr,"[i];",zr,"}"),Cr&&sn("for(var i=0;i<",pn,";++i){",cn,".vertexAttribDivisorANGLE(i,",Dr,"[i].divisor);","}"),sn(jt.shared.vao,".currentVAO=null;",jt.shared.vao,".setVAO(",jt.shared.vao,".targetVAO);"),Object.keys(Pn).forEach(function(zn){var Zn=Pn[zn],xn=vn.def(Rn,".",zn),Nn=jt.block();Nn("if(",xn,"){",dn,".enable(",Zn,")}else{",dn,".disable(",Zn,")}",An,".",zn,"=",xn,";"),sn(Nn),Sr("if(",xn,"!==",An,".",zn,"){",Nn,"}")}),Object.keys(Wn).forEach(function(zn){var Zn=Wn[zn],xn=yn[zn],Nn,ta,ha=jt.block();ha(dn,".",Zn,"("),M(xn)?(Zn=xn.length,Nn=jt.global.def(Rn,".",zn),ta=jt.global.def(An,".",zn),ha(l(Zn,function(ua){return Nn+"["+ua+"]"}),");",l(Zn,function(ua){return ta+"["+ua+"]="+Nn+"["+ua+"];"}).join("")),Sr("if(",l(Zn,function(ua){return Nn+"["+ua+"]!=="+ta+"["+ua+"]"}).join("||"),"){",ha,"}")):(Nn=vn.def(Rn,".",zn),ta=vn.def(An,".",zn),ha(Nn,");",An,".",zn,"=",Nn,";"),Sr("if(",Nn,"!==",ta,"){",ha,"}")),sn(ha)}),jt.compile()}(),compile:function(jt,Sr,sn,vn,dn){var Rn=It();Rn.stats=Rn.link(dn),Object.keys(Sr.static).forEach(function(cn){ca(Rn,Sr,cn)}),Ft.forEach(function(cn){ca(Rn,jt,cn)});var An=Xr(jt,Sr,sn,vn,Rn);return An.shader.program&&(An.shader.program.attributes.sort(function(cn,Dr){return cn.name<Dr.name?-1:1}),An.shader.program.uniforms.sort(function(cn,Dr){return cn.name<Dr.name?-1:1})),gn(Rn,An),Jn(Rn,An),In(Rn,An),oe(Rn.compile(),{destroy:function(){An.shader.program.destroy()}})}}}function le(yt,Kt){for(var Zt=0;Zt<yt.length;++Zt)if(yt[Zt]===Kt)return Zt;return-1}var oe=function(yt,Kt){for(var Zt=Object.keys(Kt),Ar=0;Ar<Zt.length;++Ar)yt[Zt[Ar]]=Kt[Zt[Ar]];return yt},he=0,xe={DynamicVariable:B,define:function(yt,Kt){return new B(yt,p(Kt+""))},isDynamic:function(yt){return typeof yt=="function"&&!yt._reglType||yt instanceof B},unbox:L,accessor:p},Ae={next:typeof requestAnimationFrame=="function"?function(yt){return requestAnimationFrame(yt)}:function(yt){return setTimeout(yt,16)},cancel:typeof cancelAnimationFrame=="function"?function(yt){return cancelAnimationFrame(yt)}:clearTimeout},Se=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},Oe=s();Oe.zero=s();var Ve=function(yt,Kt){var Zt=1;Kt.ext_texture_filter_anisotropic&&(Zt=yt.getParameter(34047));var Ar=1,vr=1;Kt.webgl_draw_buffers&&(Ar=yt.getParameter(34852),vr=yt.getParameter(36063));var ut=!!Kt.oes_texture_float;if(ut){ut=yt.createTexture(),yt.bindTexture(3553,ut),yt.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var lt=yt.createFramebuffer();if(yt.bindFramebuffer(36160,lt),yt.framebufferTexture2D(36160,36064,3553,ut,0),yt.bindTexture(3553,null),yt.checkFramebufferStatus(36160)!==36053)ut=!1;else{yt.viewport(0,0,1,1),yt.clearColor(1,0,0,1),yt.clear(16384);var xt=Oe.allocType(5126,4);yt.readPixels(0,0,1,1,6408,5126,xt),yt.getError()?ut=!1:(yt.deleteFramebuffer(lt),yt.deleteTexture(ut),ut=xt[0]===1),Oe.freeType(xt)}}return xt=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(xt=yt.createTexture(),lt=Oe.allocType(5121,36),yt.activeTexture(33984),yt.bindTexture(34067,xt),yt.texImage2D(34069,0,6408,3,3,0,6408,5121,lt),Oe.freeType(lt),yt.bindTexture(34067,null),yt.deleteTexture(xt),xt=!yt.getError()),{colorBits:[yt.getParameter(3410),yt.getParameter(3411),yt.getParameter(3412),yt.getParameter(3413)],depthBits:yt.getParameter(3414),stencilBits:yt.getParameter(3415),subpixelBits:yt.getParameter(3408),extensions:Object.keys(Kt).filter(function(Tt){return!!Kt[Tt]}),maxAnisotropic:Zt,maxDrawbuffers:Ar,maxColorAttachments:vr,pointSizeDims:yt.getParameter(33901),lineWidthDims:yt.getParameter(33902),maxViewportDims:yt.getParameter(3386),maxCombinedTextureUnits:yt.getParameter(35661),maxCubeMapSize:yt.getParameter(34076),maxRenderbufferSize:yt.getParameter(34024),maxTextureUnits:yt.getParameter(34930),maxTextureSize:yt.getParameter(3379),maxAttributes:yt.getParameter(34921),maxVertexUniforms:yt.getParameter(36347),maxVertexTextureUnits:yt.getParameter(35660),maxVaryingVectors:yt.getParameter(36348),maxFragmentUniforms:yt.getParameter(36349),glsl:yt.getParameter(35724),renderer:yt.getParameter(7937),vendor:yt.getParameter(7936),version:yt.getParameter(7938),readFloat:ut,npotTextureCube:xt}},Ee=function(yt){return yt instanceof Uint8Array||yt instanceof Uint16Array||yt instanceof Uint32Array||yt instanceof Int8Array||yt instanceof Int16Array||yt instanceof Int32Array||yt instanceof Float32Array||yt instanceof Float64Array||yt instanceof Uint8ClampedArray},Te=function(yt){return Object.keys(yt).map(function(Kt){return yt[Kt]})},Le={shape:function(yt){for(var Kt=[];yt.length;yt=yt[0])Kt.push(yt.length);return Kt},flatten:function(yt,Kt,Zt,Ar){var vr=1;if(Kt.length)for(var ut=0;ut<Kt.length;++ut)vr*=Kt[ut];else vr=0;switch(Zt=Ar||Oe.allocType(Zt,vr),Kt.length){case 0:break;case 1:for(Ar=Kt[0],Kt=0;Kt<Ar;++Kt)Zt[Kt]=yt[Kt];break;case 2:for(Ar=Kt[0],Kt=Kt[1],ut=vr=0;ut<Ar;++ut)for(var lt=yt[ut],xt=0;xt<Kt;++xt)Zt[vr++]=lt[xt];break;case 3:u(yt,Kt[0],Kt[1],Kt[2],Zt,0);break;default:b(yt,Kt,0,Zt,0)}return Zt}},Ge={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},He={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ke={dynamic:35048,stream:35040,static:35044},We=Le.flatten,nt=Le.shape,qe=[];qe[5120]=1,qe[5122]=2,qe[5124]=4,qe[5121]=1,qe[5123]=2,qe[5125]=4,qe[5126]=4;var Qe={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},tt=new Float32Array(1),vt=new Uint32Array(tt.buffer),dt=[9984,9986,9985,9987],gt=[0,6409,6410,6407,6408],Mt={};Mt[6409]=Mt[6406]=Mt[6402]=1,Mt[34041]=Mt[6410]=2,Mt[6407]=Mt[35904]=3,Mt[6408]=Mt[35906]=4;var Rt=P("HTMLCanvasElement"),Wt=P("OffscreenCanvas"),je=P("CanvasRenderingContext2D"),_e=P("ImageBitmap"),Fe=P("HTMLImageElement"),Be=P("HTMLVideoElement"),De=Object.keys(Ge).concat([Rt,Wt,je,_e,Fe,Be]),we=[];we[5121]=1,we[5126]=4,we[36193]=2,we[5123]=2,we[5125]=4;var ue=[];ue[32854]=2,ue[32855]=2,ue[36194]=2,ue[34041]=4,ue[33776]=.5,ue[33777]=.5,ue[33778]=1,ue[33779]=1,ue[35986]=.5,ue[35987]=1,ue[34798]=1,ue[35840]=.5,ue[35841]=.25,ue[35842]=.5,ue[35843]=.25,ue[36196]=.5;var me=[];me[32854]=2,me[32855]=2,me[36194]=2,me[33189]=2,me[36168]=1,me[34041]=4,me[35907]=4,me[34836]=16,me[34842]=8,me[34843]=6;var Re=function(yt,Kt,Zt,Ar,vr){function ut(zt){this.id=Ct++,this.refCount=1,this.renderbuffer=zt,this.format=32854,this.height=this.width=0,vr.profile&&(this.stats={size:0})}function lt(zt){var Ht=zt.renderbuffer;yt.bindRenderbuffer(36161,null),yt.deleteRenderbuffer(Ht),zt.renderbuffer=null,zt.refCount=0,delete At[zt.id],Ar.renderbufferCount--}var xt={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};Kt.ext_srgb&&(xt.srgba=35907),Kt.ext_color_buffer_half_float&&(xt.rgba16f=34842,xt.rgb16f=34843),Kt.webgl_color_buffer_float&&(xt.rgba32f=34836);var Tt=[];Object.keys(xt).forEach(function(zt){Tt[xt[zt]]=zt});var Ct=0,At={};return ut.prototype.decRef=function(){0>=--this.refCount&&lt(this)},vr.profile&&(Ar.getTotalRenderbufferSize=function(){var zt=0;return Object.keys(At).forEach(function(Ht){zt+=At[Ht].stats.size}),zt}),{create:function(zt,Ht){function qt(or,Lr){var Ze=0,Ye=0,It=32854;if(typeof or=="object"&&or?("shape"in or?(Ye=or.shape,Ze=Ye[0]|0,Ye=Ye[1]|0):("radius"in or&&(Ze=Ye=or.radius|0),"width"in or&&(Ze=or.width|0),"height"in or&&(Ye=or.height|0)),"format"in or&&(It=xt[or.format])):typeof or=="number"?(Ze=or|0,Ye=typeof Lr=="number"?Lr|0:Ze):or||(Ze=Ye=1),Ze!==Qt.width||Ye!==Qt.height||It!==Qt.format)return qt.width=Qt.width=Ze,qt.height=Qt.height=Ye,Qt.format=It,yt.bindRenderbuffer(36161,Qt.renderbuffer),yt.renderbufferStorage(36161,It,Ze,Ye),vr.profile&&(Qt.stats.size=me[Qt.format]*Qt.width*Qt.height),qt.format=Tt[Qt.format],qt}var Qt=new ut(yt.createRenderbuffer());return At[Qt.id]=Qt,Ar.renderbufferCount++,qt(zt,Ht),qt.resize=function(or,Lr){var Ze=or|0,Ye=Lr|0||Ze;return Ze===Qt.width&&Ye===Qt.height||(qt.width=Qt.width=Ze,qt.height=Qt.height=Ye,yt.bindRenderbuffer(36161,Qt.renderbuffer),yt.renderbufferStorage(36161,Qt.format,Ze,Ye),vr.profile&&(Qt.stats.size=me[Qt.format]*Qt.width*Qt.height)),qt},qt._reglType="renderbuffer",qt._renderbuffer=Qt,vr.profile&&(qt.stats=Qt.stats),qt.destroy=function(){Qt.decRef()},qt},clear:function(){Te(At).forEach(lt)},restore:function(){Te(At).forEach(function(zt){zt.renderbuffer=yt.createRenderbuffer(),yt.bindRenderbuffer(36161,zt.renderbuffer),yt.renderbufferStorage(36161,zt.format,zt.width,zt.height)}),yt.bindRenderbuffer(36161,null)}}},Ne=[];Ne[6408]=4,Ne[6407]=3;var it=[];it[5121]=1,it[5126]=4,it[36193]=2;var ot=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],wt=["x","y","z","w"],Ft="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ut={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},Gt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Et={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},$t={cw:2304,ccw:2305},lr=new X(!1,!1,!1,function(){}),Fr=function(yt,Kt){function Zt(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function Ar(At,zt,Ht){var qt=lt.pop()||new Zt;qt.startQueryIndex=At,qt.endQueryIndex=zt,qt.sum=0,qt.stats=Ht,xt.push(qt)}if(!Kt.ext_disjoint_timer_query)return null;var vr=[],ut=[],lt=[],xt=[],Tt=[],Ct=[];return{beginQuery:function(At){var zt=vr.pop()||Kt.ext_disjoint_timer_query.createQueryEXT();Kt.ext_disjoint_timer_query.beginQueryEXT(35007,zt),ut.push(zt),Ar(ut.length-1,ut.length,At)},endQuery:function(){Kt.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:Ar,update:function(){var At,zt;if(At=ut.length,At!==0){Ct.length=Math.max(Ct.length,At+1),Tt.length=Math.max(Tt.length,At+1),Tt[0]=0;var Ht=Ct[0]=0;for(zt=At=0;zt<ut.length;++zt){var qt=ut[zt];Kt.ext_disjoint_timer_query.getQueryObjectEXT(qt,34919)?(Ht+=Kt.ext_disjoint_timer_query.getQueryObjectEXT(qt,34918),vr.push(qt)):ut[At++]=qt,Tt[zt+1]=Ht,Ct[zt+1]=At}for(ut.length=At,zt=At=0;zt<xt.length;++zt){var Ht=xt[zt],Qt=Ht.startQueryIndex,qt=Ht.endQueryIndex;Ht.sum+=Tt[qt]-Tt[Qt],Qt=Ct[Qt],qt=Ct[qt],qt===Qt?(Ht.stats.gpuTime+=Ht.sum/1e6,lt.push(Ht)):(Ht.startQueryIndex=Qt,Ht.endQueryIndex=qt,xt[At++]=Ht)}xt.length=At}},getNumPendingQueries:function(){return ut.length},clear:function(){vr.push.apply(vr,ut);for(var At=0;At<vr.length;At++)Kt.ext_disjoint_timer_query.deleteQueryEXT(vr[At]);ut.length=0,vr.length=0},restore:function(){ut.length=0,vr.length=0}}};return function(yt){function Kt(){if(kn.length===0)It&&It.update(),Vr=null;else{Vr=Ae.next(Kt),At();for(var gn=kn.length-1;0<=gn;--gn){var hn=kn[gn];hn&&hn(ir,null,0)}qt.flush(),It&&It.update()}}function Zt(){!Vr&&0<kn.length&&(Vr=Ae.next(Kt))}function Ar(){Vr&&(Ae.cancel(Kt),Vr=null)}function vr(gn){gn.preventDefault(),Ar(),br.forEach(function(hn){hn()})}function ut(gn){qt.getError(),or.restore(),gr.restore(),Nt.restore(),dr.restore(),Xr.restore(),Br.restore(),pr.restore(),It&&It.restore(),Or.procs.refresh(),Zt(),wr.forEach(function(hn){hn()})}function lt(gn){function hn(yn,Hn){var Ln={},Pn={};return Object.keys(yn).forEach(function(Wn){var la=yn[Wn];if(xe.isDynamic(la))Pn[Wn]=xe.unbox(la,Wn);else{if(Hn&&Array.isArray(la)){for(var za=0;za<la.length;++za)if(xe.isDynamic(la[za])){Pn[Wn]=xe.unbox(la,Wn);return}}Ln[Wn]=la}}),{dynamic:Pn,static:Ln}}function Sn(yn){for(;on.length<yn;)on.push(null);return on}var In=hn(gn.context||{},!0),Jn=hn(gn.uniforms||{},!0),ra=hn(gn.attributes||{},!1);gn=hn(function(yn){function Hn(Pn){if(Pn in Ln){var Wn=Ln[Pn];delete Ln[Pn],Object.keys(Wn).forEach(function(la){Ln[Pn+"."+la]=Wn[la]})}}var Ln=oe({},yn);return delete Ln.uniforms,delete Ln.attributes,delete Ln.context,delete Ln.vao,"stencil"in Ln&&Ln.stencil.op&&(Ln.stencil.opBack=Ln.stencil.opFront=Ln.stencil.op,delete Ln.stencil.op),Hn("blend"),Hn("depth"),Hn("cull"),Hn("stencil"),Hn("polygonOffset"),Hn("scissor"),Hn("sample"),"vao"in yn&&(Ln.vao=yn.vao),Ln}(gn),!1);var ca={gpuTime:0,cpuTime:0,count:0},aa=Or.compile(gn,ra,Jn,In,ca),na=aa.draw,Cr=aa.batch,ln=aa.scope,on=[];return oe(function(yn,Hn){var Ln;if(typeof yn=="function")return ln.call(this,null,yn,0);if(typeof Hn=="function")if(typeof yn=="number")for(Ln=0;Ln<yn;++Ln)ln.call(this,null,Hn,Ln);else if(Array.isArray(yn))for(Ln=0;Ln<yn.length;++Ln)ln.call(this,yn[Ln],Hn,Ln);else return ln.call(this,yn,Hn,0);else if(typeof yn=="number"){if(0<yn)return Cr.call(this,Sn(yn|0),yn|0)}else if(Array.isArray(yn)){if(yn.length)return Cr.call(this,yn,yn.length)}else return na.call(this,yn)},{stats:ca,destroy:function(){aa.destroy()}})}function xt(gn,hn){var Sn=0;Or.procs.poll();var In=hn.color;In&&(qt.clearColor(+In[0]||0,+In[1]||0,+In[2]||0,+In[3]||0),Sn|=16384),"depth"in hn&&(qt.clearDepth(+hn.depth),Sn|=256),"stencil"in hn&&(qt.clearStencil(hn.stencil|0),Sn|=1024),qt.clear(Sn)}function Tt(gn){return kn.push(gn),Zt(),{cancel:function(){function hn(){var In=le(kn,hn);kn[In]=kn[kn.length-1],--kn.length,0>=kn.length&&Ar()}var Sn=le(kn,gn);kn[Sn]=hn}}}function Ct(){var gn=Jr.viewport,hn=Jr.scissor_box;gn[0]=gn[1]=hn[0]=hn[1]=0,ir.viewportWidth=ir.framebufferWidth=ir.drawingBufferWidth=gn[2]=hn[2]=qt.drawingBufferWidth,ir.viewportHeight=ir.framebufferHeight=ir.drawingBufferHeight=gn[3]=hn[3]=qt.drawingBufferHeight}function At(){ir.tick+=1,ir.time=Ht(),Ct(),Or.procs.poll()}function zt(){dr.refresh(),Ct(),Or.procs.refresh(),It&&It.update()}function Ht(){return(Se()-kt)/1e3}if(yt=t(yt),!yt)return null;var qt=yt.gl,Qt=qt.getContextAttributes();qt.isContextLost();var or=r(qt,yt);if(!or)return null;var mn=n(),Lr={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},Ze=yt.cachedCode||{},Ye=or.extensions,It=Fr(qt,Ye),kt=Se(),ur=qt.drawingBufferWidth,Xt=qt.drawingBufferHeight,ir={tick:0,time:0,viewportWidth:ur,viewportHeight:Xt,framebufferWidth:ur,framebufferHeight:Xt,drawingBufferWidth:ur,drawingBufferHeight:Xt,pixelRatio:yt.pixelRatio},ur={elements:null,primitive:4,count:-1,offset:0,instances:-1},nr=Ve(qt,Ye),Nt=o(qt,Lr,yt,function(gn){return pr.destroyBuffer(gn)}),hr=d(qt,Ye,Nt,Lr),pr=z(qt,Ye,nr,Lr,Nt,hr,ur),gr=N(qt,mn,Lr,yt),dr=k(qt,Ye,nr,function(){Or.procs.poll()},ir,Lr,yt),Xr=Re(qt,Ye,nr,Lr,yt),Br=_(qt,Ye,nr,dr,Xr,Lr),Or=ee(qt,mn,Ye,nr,Nt,hr,dr,Br,{},pr,gr,ur,ir,It,Ze,yt),mn=O(qt,Br,Or.procs.poll,ir),Jr=Or.next,_n=qt.canvas,kn=[],br=[],wr=[],Nr=[yt.onDestroy],Vr=null;_n&&(_n.addEventListener("webglcontextlost",vr,!1),_n.addEventListener("webglcontextrestored",ut,!1));var tn=Br.setFBO=lt({framebuffer:xe.define.call(null,1,"framebuffer")});return zt(),Qt=oe(lt,{clear:function(gn){if("framebuffer"in gn)if(gn.framebuffer&&gn.framebuffer_reglType==="framebufferCube")for(var hn=0;6>hn;++hn)tn(oe({framebuffer:gn.framebuffer.faces[hn]},gn),xt);else tn(gn,xt);else xt(null,gn)},prop:xe.define.bind(null,1),context:xe.define.bind(null,2),this:xe.define.bind(null,3),draw:lt({}),buffer:function(gn){return Nt.create(gn,34962,!1,!1)},elements:function(gn){return hr.create(gn,!1)},texture:dr.create2D,cube:dr.createCube,renderbuffer:Xr.create,framebuffer:Br.create,framebufferCube:Br.createCube,vao:pr.createVAO,attributes:Qt,frame:Tt,on:function(gn,hn){var Sn;switch(gn){case"frame":return Tt(hn);case"lost":Sn=br;break;case"restore":Sn=wr;break;case"destroy":Sn=Nr}return Sn.push(hn),{cancel:function(){for(var In=0;In<Sn.length;++In)if(Sn[In]===hn){Sn[In]=Sn[Sn.length-1],Sn.pop();break}}}},limits:nr,hasExtension:function(gn){return 0<=nr.extensions.indexOf(gn.toLowerCase())},read:mn,destroy:function(){kn.length=0,Ar(),_n&&(_n.removeEventListener("webglcontextlost",vr),_n.removeEventListener("webglcontextrestored",ut)),gr.clear(),Br.clear(),Xr.clear(),pr.clear(),dr.clear(),hr.clear(),Nt.clear(),It&&It.clear(),Nr.forEach(function(gn){gn()})},_gl:qt,_refresh:zt,poll:function(){At(),It&&It.update()},now:Ht,stats:Lr,getCachedCode:function(){return Ze},preloadCachedCode:function(gn){Object.entries(gn).forEach(function(hn){Ze[hn[0]]=hn[1]})}}),yt.onDone(null,Qt),Qt}})},71665:function(V,B,e){var p=e(12856),L=p.Buffer;function n(y,h){for(var g in y)h[g]=y[g]}L.from&&L.alloc&&L.allocUnsafe&&L.allocUnsafeSlow?V.exports=p:(n(p,B),B.Buffer=C);function C(y,h,g){return L(y,h,g)}C.prototype=Object.create(L.prototype),n(L,C),C.from=function(y,h,g){if(typeof y=="number")throw new TypeError("Argument must not be a number");return L(y,h,g)},C.alloc=function(y,h,g){if(typeof y!="number")throw new TypeError("Argument must be a number");var t=L(y);return h!==void 0?typeof g=="string"?t.fill(h,g):t.fill(h):t.fill(0),t},C.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return L(y)},C.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return p.SlowBuffer(y)}},21630:function(V,B,e){V.exports=n;var p=e(15398).EventEmitter,L=e(42018);L(n,p),n.Readable=e(40410),n.Writable=e(37493),n.Duplex=e(37865),n.Transform=e(74308),n.PassThrough=e(66897),n.finished=e(12726),n.pipeline=e(10168),n.Stream=n;function n(){p.call(this)}n.prototype.pipe=function(C,y){var h=this;function g(u){C.writable&&C.write(u)===!1&&h.pause&&h.pause()}h.on("data",g);function t(){h.readable&&h.resume&&h.resume()}C.on("drain",t),!C._isStdio&&(!y||y.end!==!1)&&(h.on("end",l),h.on("close",a));var r=!1;function l(){r||(r=!0,C.end())}function a(){r||(r=!0,typeof C.destroy=="function"&&C.destroy())}function s(u){if(c(),p.listenerCount(this,"error")===0)throw u}h.on("error",s),C.on("error",s);function c(){h.removeListener("data",g),C.removeListener("drain",t),h.removeListener("end",l),h.removeListener("close",a),h.removeListener("error",s),C.removeListener("error",s),h.removeListener("end",c),h.removeListener("close",c),C.removeListener("close",c)}return h.on("end",c),h.on("close",c),C.on("close",c),C.emit("pipe",h),C}},74322:function(V){function B(h,g){h.prototype=Object.create(g.prototype),h.prototype.constructor=h,h.__proto__=g}var e={};function p(h,g,t){t||(t=Error);function r(a,s,c){return typeof g=="string"?g:g(a,s,c)}var l=function(a){B(s,a);function s(c,u,b){return a.call(this,r(c,u,b))||this}return s}(t);l.prototype.name=t.name,l.prototype.code=h,e[h]=l}function L(h,g){if(Array.isArray(h)){var t=h.length;return h=h.map(function(r){return String(r)}),t>2?"one of ".concat(g," ").concat(h.slice(0,t-1).join(", "),", or ")+h[t-1]:t===2?"one of ".concat(g," ").concat(h[0]," or ").concat(h[1]):"of ".concat(g," ").concat(h[0])}else return"of ".concat(g," ").concat(String(h))}function n(h,g,t){return h.substr(!t||t<0?0:+t,g.length)===g}function C(h,g,t){return(t===void 0||t>h.length)&&(t=h.length),h.substring(t-g.length,t)===g}function y(h,g,t){return typeof t!="number"&&(t=0),t+g.length>h.length?!1:h.indexOf(g,t)!==-1}p("ERR_INVALID_OPT_VALUE",function(h,g){return'The value "'+g+'" is invalid for option "'+h+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(h,g,t){var r;typeof g=="string"&&n(g,"not ")?(r="must not be",g=g.replace(/^not /,"")):r="must be";var l;if(C(h," argument"))l="The ".concat(h," ").concat(r," ").concat(L(g,"type"));else{var a=y(h,".")?"property":"argument";l='The "'.concat(h,'" ').concat(a," ").concat(r," ").concat(L(g,"type"))}return l+=". Received type ".concat(typeof t),l},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(h){return"The "+h+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(h){return"Cannot call "+h+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(h){return"Unknown encoding: "+h},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),V.exports.q=e},37865:function(V,B,e){var p=e(90386),L=Object.keys||function(a){var s=[];for(var c in a)s.push(c);return s};V.exports=t;var n=e(40410),C=e(37493);e(42018)(t,n);for(var y=L(C.prototype),h=0;h<y.length;h++){var g=y[h];t.prototype[g]||(t.prototype[g]=C.prototype[g])}function t(a){if(!(this instanceof t))return new t(a);n.call(this,a),C.call(this,a),this.allowHalfOpen=!0,a&&(a.readable===!1&&(this.readable=!1),a.writable===!1&&(this.writable=!1),a.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",r)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function r(){this._writableState.ended||p.nextTick(l,this)}function l(a){a.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(s){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=s,this._writableState.destroyed=s)}})},66897:function(V,B,e){V.exports=L;var p=e(74308);e(42018)(L,p);function L(n){if(!(this instanceof L))return new L(n);p.call(this,n)}L.prototype._transform=function(n,C,y){y(null,n)}},40410:function(V,B,e){var p=e(90386);V.exports=i;var L;i.ReadableState=T,e(15398).EventEmitter;var n=function(ee,le){return ee.listeners(le).length},C=e(71405),y=e(12856).Buffer,h=e.g.Uint8Array||function(){};function g(Q){return y.from(Q)}function t(Q){return y.isBuffer(Q)||Q instanceof h}var r=e(40964),l;r&&r.debuglog?l=r.debuglog("stream"):l=function(){};var a=e(31125),s=e(65756),c=e(56306),u=c.getHighWaterMark,b=e(74322).q,f=b.ERR_INVALID_ARG_TYPE,w=b.ERR_STREAM_PUSH_AFTER_EOF,v=b.ERR_METHOD_NOT_IMPLEMENTED,o=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,d,S,M;e(42018)(i,C);var P=s.errorOrDestroy,x=["error","close","destroy","pause","resume"];function E(Q,ee,le){if(typeof Q.prependListener=="function")return Q.prependListener(ee,le);!Q._events||!Q._events[ee]?Q.on(ee,le):Array.isArray(Q._events[ee])?Q._events[ee].unshift(le):Q._events[ee]=[le,Q._events[ee]]}function T(Q,ee,le){L=L||e(37865),Q=Q||{},typeof le!="boolean"&&(le=ee instanceof L),this.objectMode=!!Q.objectMode,le&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=u(this,Q,"readableHighWaterMark",le),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(d||(d=e(68019).s),this.decoder=new d(Q.encoding),this.encoding=Q.encoding)}function i(Q){if(L=L||e(37865),!(this instanceof i))return new i(Q);var ee=this instanceof L;this._readableState=new T(Q,this,ee),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),C.call(this)}Object.defineProperty(i.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ee){this._readableState&&(this._readableState.destroyed=ee)}}),i.prototype.destroy=s.destroy,i.prototype._undestroy=s.undestroy,i.prototype._destroy=function(Q,ee){ee(Q)},i.prototype.push=function(Q,ee){var le=this._readableState,oe;return le.objectMode?oe=!0:typeof Q=="string"&&(ee=ee||le.defaultEncoding,ee!==le.encoding&&(Q=y.from(Q,ee),ee=""),oe=!0),R(this,Q,ee,!1,oe)},i.prototype.unshift=function(Q){return R(this,Q,null,!0,!1)};function R(Q,ee,le,oe,he){l("readableAddChunk",ee);var xe=Q._readableState;if(ee===null)xe.reading=!1,N(Q,xe);else{var Ae;if(he||(Ae=k(xe,ee)),Ae)P(Q,Ae);else if(xe.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!xe.objectMode&&Object.getPrototypeOf(ee)!==y.prototype&&(ee=g(ee)),oe)xe.endEmitted?P(Q,new o):A(Q,xe,ee,!0);else if(xe.ended)P(Q,new w);else{if(xe.destroyed)return!1;xe.reading=!1,xe.decoder&&!le?(ee=xe.decoder.write(ee),xe.objectMode||ee.length!==0?A(Q,xe,ee,!1):U(Q,xe)):A(Q,xe,ee,!1)}else oe||(xe.reading=!1,U(Q,xe))}return!xe.ended&&(xe.length<xe.highWaterMark||xe.length===0)}function A(Q,ee,le,oe){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,Q.emit("data",le)):(ee.length+=ee.objectMode?1:le.length,oe?ee.buffer.unshift(le):ee.buffer.push(le),ee.needReadable&&O(Q)),U(Q,ee)}function k(Q,ee){var le;return!t(ee)&&typeof ee!="string"&&ee!==void 0&&!Q.objectMode&&(le=new f("chunk",["string","Buffer","Uint8Array"],ee)),le}i.prototype.isPaused=function(){return this._readableState.flowing===!1},i.prototype.setEncoding=function(Q){d||(d=e(68019).s);var ee=new d(Q);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var le=this._readableState.buffer.head,oe="";le!==null;)oe+=ee.write(le.data),le=le.next;return this._readableState.buffer.clear(),oe!==""&&this._readableState.buffer.push(oe),this._readableState.length=oe.length,this};var _=1073741824;function H(Q){return Q>=_?Q=_:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function z(Q,ee){return Q<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:Q!==Q?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(Q>ee.highWaterMark&&(ee.highWaterMark=H(Q)),Q<=ee.length?Q:ee.ended?ee.length:(ee.needReadable=!0,0))}i.prototype.read=function(Q){l("read",Q),Q=parseInt(Q,10);var ee=this._readableState,le=Q;if(Q!==0&&(ee.emittedReadable=!1),Q===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return l("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?X(this):O(this),null;if(Q=z(Q,ee),Q===0&&ee.ended)return ee.length===0&&X(this),null;var oe=ee.needReadable;l("need readable",oe),(ee.length===0||ee.length-Q<ee.highWaterMark)&&(oe=!0,l("length less than watermark",oe)),ee.ended||ee.reading?(oe=!1,l("reading or ended",oe)):oe&&(l("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(Q=z(le,ee)));var he;return Q>0?he=W(Q,ee):he=null,he===null?(ee.needReadable=ee.length<=ee.highWaterMark,Q=0):(ee.length-=Q,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),le!==Q&&ee.ended&&X(this)),he!==null&&this.emit("data",he),he};function N(Q,ee){if(l("onEofChunk"),!ee.ended){if(ee.decoder){var le=ee.decoder.end();le&&le.length&&(ee.buffer.push(le),ee.length+=ee.objectMode?1:le.length)}ee.ended=!0,ee.sync?O(Q):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,F(Q)))}}function O(Q){var ee=Q._readableState;l("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(l("emitReadable",ee.flowing),ee.emittedReadable=!0,p.nextTick(F,Q))}function F(Q){var ee=Q._readableState;l("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(Q.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,Y(Q)}function U(Q,ee){ee.readingMore||(ee.readingMore=!0,p.nextTick(Z,Q,ee))}function Z(Q,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var le=ee.length;if(l("maybeReadMore read 0"),Q.read(0),le===ee.length)break}ee.readingMore=!1}i.prototype._read=function(Q){P(this,new v("_read()"))},i.prototype.pipe=function(Q,ee){var le=this,oe=this._readableState;switch(oe.pipesCount){case 0:oe.pipes=Q;break;case 1:oe.pipes=[oe.pipes,Q];break;default:oe.pipes.push(Q);break}oe.pipesCount+=1,l("pipe count=%d opts=%j",oe.pipesCount,ee);var he=(!ee||ee.end!==!1)&&Q!==p.stdout&&Q!==p.stderr,xe=he?Se:ke;oe.endEmitted?p.nextTick(xe):le.once("end",xe),Q.on("unpipe",Ae);function Ae(We,nt){l("onunpipe"),We===le&&nt&&nt.hasUnpiped===!1&&(nt.hasUnpiped=!0,Ee())}function Se(){l("onend"),Q.end()}var Oe=q(le);Q.on("drain",Oe);var Ve=!1;function Ee(){l("cleanup"),Q.removeListener("close",Ge),Q.removeListener("finish",He),Q.removeListener("drain",Oe),Q.removeListener("error",Le),Q.removeListener("unpipe",Ae),le.removeListener("end",Se),le.removeListener("end",ke),le.removeListener("data",Te),Ve=!0,oe.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&Oe()}le.on("data",Te);function Te(We){l("ondata");var nt=Q.write(We);l("dest.write",nt),nt===!1&&((oe.pipesCount===1&&oe.pipes===Q||oe.pipesCount>1&&se(oe.pipes,Q)!==-1)&&!Ve&&(l("false write response, pause",oe.awaitDrain),oe.awaitDrain++),le.pause())}function Le(We){l("onerror",We),ke(),Q.removeListener("error",Le),n(Q,"error")===0&&P(Q,We)}E(Q,"error",Le);function Ge(){Q.removeListener("finish",He),ke()}Q.once("close",Ge);function He(){l("onfinish"),Q.removeListener("close",Ge),ke()}Q.once("finish",He);function ke(){l("unpipe"),le.unpipe(Q)}return Q.emit("pipe",le),oe.flowing||(l("pipe resume"),le.resume()),Q};function q(Q){return function(){var le=Q._readableState;l("pipeOnDrain",le.awaitDrain),le.awaitDrain&&le.awaitDrain--,le.awaitDrain===0&&n(Q,"data")&&(le.flowing=!0,Y(Q))}}i.prototype.unpipe=function(Q){var ee=this._readableState,le={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return Q&&Q!==ee.pipes?this:(Q||(Q=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,Q&&Q.emit("unpipe",this,le),this);if(!Q){var oe=ee.pipes,he=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var xe=0;xe<he;xe++)oe[xe].emit("unpipe",this,{hasUnpiped:!1});return this}var Ae=se(ee.pipes,Q);return Ae===-1?this:(ee.pipes.splice(Ae,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),Q.emit("unpipe",this,le),this)},i.prototype.on=function(Q,ee){var le=C.prototype.on.call(this,Q,ee),oe=this._readableState;return Q==="data"?(oe.readableListening=this.listenerCount("readable")>0,oe.flowing!==!1&&this.resume()):Q==="readable"&&!oe.endEmitted&&!oe.readableListening&&(oe.readableListening=oe.needReadable=!0,oe.flowing=!1,oe.emittedReadable=!1,l("on readable",oe.length,oe.reading),oe.length?O(this):oe.reading||p.nextTick(te,this)),le},i.prototype.addListener=i.prototype.on,i.prototype.removeListener=function(Q,ee){var le=C.prototype.removeListener.call(this,Q,ee);return Q==="readable"&&p.nextTick(J,this),le},i.prototype.removeAllListeners=function(Q){var ee=C.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&p.nextTick(J,this),ee};function J(Q){var ee=Q._readableState;ee.readableListening=Q.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function te(Q){l("readable nexttick read 0"),Q.read(0)}i.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(l("resume"),Q.flowing=!Q.readableListening,fe(this,Q)),Q.paused=!1,this};function fe(Q,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,p.nextTick(K,Q,ee))}function K(Q,ee){l("resume",ee.reading),ee.reading||Q.read(0),ee.resumeScheduled=!1,Q.emit("resume"),Y(Q),ee.flowing&&!ee.reading&&Q.read(0)}i.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Y(Q){var ee=Q._readableState;for(l("flow",ee.flowing);ee.flowing&&Q.read()!==null;);}i.prototype.wrap=function(Q){var ee=this,le=this._readableState,oe=!1;Q.on("end",function(){if(l("wrapped end"),le.decoder&&!le.ended){var Ae=le.decoder.end();Ae&&Ae.length&&ee.push(Ae)}ee.push(null)}),Q.on("data",function(Ae){if(l("wrapped data"),le.decoder&&(Ae=le.decoder.write(Ae)),!(le.objectMode&&Ae==null)&&!(!le.objectMode&&(!Ae||!Ae.length))){var Se=ee.push(Ae);Se||(oe=!0,Q.pause())}});for(var he in Q)this[he]===void 0&&typeof Q[he]=="function"&&(this[he]=function(Se){return function(){return Q[Se].apply(Q,arguments)}}(he));for(var xe=0;xe<x.length;xe++)Q.on(x[xe],this.emit.bind(this,x[xe]));return this._read=function(Ae){l("wrapped _read",Ae),oe&&(oe=!1,Q.resume())},this},typeof Symbol=="function"&&(i.prototype[Symbol.asyncIterator]=function(){return S===void 0&&(S=e(68221)),S(this)}),Object.defineProperty(i.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(i.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(i.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}}),i._fromList=W,Object.defineProperty(i.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function W(Q,ee){if(ee.length===0)return null;var le;return ee.objectMode?le=ee.buffer.shift():!Q||Q>=ee.length?(ee.decoder?le=ee.buffer.join(""):ee.buffer.length===1?le=ee.buffer.first():le=ee.buffer.concat(ee.length),ee.buffer.clear()):le=ee.buffer.consume(Q,ee.decoder),le}function X(Q){var ee=Q._readableState;l("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,p.nextTick(re,ee,Q))}function re(Q,ee){if(l("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,ee.readable=!1,ee.emit("end"),Q.autoDestroy)){var le=ee._writableState;(!le||le.autoDestroy&&le.finished)&&ee.destroy()}}typeof Symbol=="function"&&(i.from=function(Q,ee){return M===void 0&&(M=e(31748)),M(i,Q,ee)});function se(Q,ee){for(var le=0,oe=Q.length;le<oe;le++)if(Q[le]===ee)return le;return-1}},74308:function(V,B,e){V.exports=t;var p=e(74322).q,L=p.ERR_METHOD_NOT_IMPLEMENTED,n=p.ERR_MULTIPLE_CALLBACK,C=p.ERR_TRANSFORM_ALREADY_TRANSFORMING,y=p.ERR_TRANSFORM_WITH_LENGTH_0,h=e(37865);e(42018)(t,h);function g(a,s){var c=this._transformState;c.transforming=!1;var u=c.writecb;if(u===null)return this.emit("error",new n);c.writechunk=null,c.writecb=null,s!=null&&this.push(s),u(a);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function t(a){if(!(this instanceof t))return new t(a);h.call(this,a),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",r)}function r(){var a=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(s,c){l(a,s,c)}):l(this,null,null)}t.prototype.push=function(a,s){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,s)},t.prototype._transform=function(a,s,c){c(new L("_transform()"))},t.prototype._write=function(a,s,c){var u=this._transformState;if(u.writecb=c,u.writechunk=a,u.writeencoding=s,!u.transforming){var b=this._readableState;(u.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},t.prototype._read=function(a){var s=this._transformState;s.writechunk!==null&&!s.transforming?(s.transforming=!0,this._transform(s.writechunk,s.writeencoding,s.afterTransform)):s.needTransform=!0},t.prototype._destroy=function(a,s){h.prototype._destroy.call(this,a,function(c){s(c)})};function l(a,s,c){if(s)return a.emit("error",s);if(c!=null&&a.push(c),a._writableState.length)throw new y;if(a._transformState.transforming)throw new C;return a.push(null)}},37493:function(V,B,e){var p=e(90386);V.exports=T;function L(Y){var W=this;this.next=null,this.entry=null,this.finish=function(){K(W,Y)}}var n;T.WritableState=x;var C={deprecate:e(20588)},y=e(71405),h=e(12856).Buffer,g=e.g.Uint8Array||function(){};function t(Y){return h.from(Y)}function r(Y){return h.isBuffer(Y)||Y instanceof g}var l=e(65756),a=e(56306),s=a.getHighWaterMark,c=e(74322).q,u=c.ERR_INVALID_ARG_TYPE,b=c.ERR_METHOD_NOT_IMPLEMENTED,f=c.ERR_MULTIPLE_CALLBACK,w=c.ERR_STREAM_CANNOT_PIPE,v=c.ERR_STREAM_DESTROYED,o=c.ERR_STREAM_NULL_VALUES,d=c.ERR_STREAM_WRITE_AFTER_END,S=c.ERR_UNKNOWN_ENCODING,M=l.errorOrDestroy;e(42018)(T,y);function P(){}function x(Y,W,X){n=n||e(37865),Y=Y||{},typeof X!="boolean"&&(X=W instanceof n),this.objectMode=!!Y.objectMode,X&&(this.objectMode=this.objectMode||!!Y.writableObjectMode),this.highWaterMark=s(this,Y,"writableHighWaterMark",X),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var re=Y.decodeStrings===!1;this.decodeStrings=!re,this.defaultEncoding=Y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(se){N(W,se)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this)}x.prototype.getBuffer=function(){for(var W=this.bufferedRequest,X=[];W;)X.push(W),W=W.next;return X},function(){try{Object.defineProperty(x.prototype,"buffer",{get:C.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(W){return E.call(this,W)?!0:this!==T?!1:W&&W._writableState instanceof x}})):E=function(W){return W instanceof this};function T(Y){n=n||e(37865);var W=this instanceof n;if(!W&&!E.call(T,this))return new T(Y);this._writableState=new x(Y,this,W),this.writable=!0,Y&&(typeof Y.write=="function"&&(this._write=Y.write),typeof Y.writev=="function"&&(this._writev=Y.writev),typeof Y.destroy=="function"&&(this._destroy=Y.destroy),typeof Y.final=="function"&&(this._final=Y.final)),y.call(this)}T.prototype.pipe=function(){M(this,new w)};function i(Y,W){var X=new d;M(Y,X),p.nextTick(W,X)}function R(Y,W,X,re){var se;return X===null?se=new o:typeof X!="string"&&!W.objectMode&&(se=new u("chunk",["string","Buffer"],X)),se?(M(Y,se),p.nextTick(re,se),!1):!0}T.prototype.write=function(Y,W,X){var re=this._writableState,se=!1,Q=!re.objectMode&&r(Y);return Q&&!h.isBuffer(Y)&&(Y=t(Y)),typeof W=="function"&&(X=W,W=null),Q?W="buffer":W||(W=re.defaultEncoding),typeof X!="function"&&(X=P),re.ending?i(this,X):(Q||R(this,re,Y,X))&&(re.pendingcb++,se=k(this,re,Q,Y,W,X)),se},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var Y=this._writableState;Y.corked&&(Y.corked--,!Y.writing&&!Y.corked&&!Y.bufferProcessing&&Y.bufferedRequest&&U(this,Y))},T.prototype.setDefaultEncoding=function(W){if(typeof W=="string"&&(W=W.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((W+"").toLowerCase())>-1))throw new S(W);return this._writableState.defaultEncoding=W,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function A(Y,W,X){return!Y.objectMode&&Y.decodeStrings!==!1&&typeof W=="string"&&(W=h.from(W,X)),W}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(Y,W,X,re,se,Q){if(!X){var ee=A(W,re,se);re!==ee&&(X=!0,se="buffer",re=ee)}var le=W.objectMode?1:re.length;W.length+=le;var oe=W.length<W.highWaterMark;if(oe||(W.needDrain=!0),W.writing||W.corked){var he=W.lastBufferedRequest;W.lastBufferedRequest={chunk:re,encoding:se,isBuf:X,callback:Q,next:null},he?he.next=W.lastBufferedRequest:W.bufferedRequest=W.lastBufferedRequest,W.bufferedRequestCount+=1}else _(Y,W,!1,le,re,se,Q);return oe}function _(Y,W,X,re,se,Q,ee){W.writelen=re,W.writecb=ee,W.writing=!0,W.sync=!0,W.destroyed?W.onwrite(new v("write")):X?Y._writev(se,W.onwrite):Y._write(se,Q,W.onwrite),W.sync=!1}function H(Y,W,X,re,se){--W.pendingcb,X?(p.nextTick(se,re),p.nextTick(te,Y,W),Y._writableState.errorEmitted=!0,M(Y,re)):(se(re),Y._writableState.errorEmitted=!0,M(Y,re),te(Y,W))}function z(Y){Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0}function N(Y,W){var X=Y._writableState,re=X.sync,se=X.writecb;if(typeof se!="function")throw new f;if(z(X),W)H(Y,X,re,W,se);else{var Q=Z(X)||Y.destroyed;!Q&&!X.corked&&!X.bufferProcessing&&X.bufferedRequest&&U(Y,X),re?p.nextTick(O,Y,X,Q,se):O(Y,X,Q,se)}}function O(Y,W,X,re){X||F(Y,W),W.pendingcb--,re(),te(Y,W)}function F(Y,W){W.length===0&&W.needDrain&&(W.needDrain=!1,Y.emit("drain"))}function U(Y,W){W.bufferProcessing=!0;var X=W.bufferedRequest;if(Y._writev&&X&&X.next){var re=W.bufferedRequestCount,se=new Array(re),Q=W.corkedRequestsFree;Q.entry=X;for(var ee=0,le=!0;X;)se[ee]=X,X.isBuf||(le=!1),X=X.next,ee+=1;se.allBuffers=le,_(Y,W,!0,W.length,se,"",Q.finish),W.pendingcb++,W.lastBufferedRequest=null,Q.next?(W.corkedRequestsFree=Q.next,Q.next=null):W.corkedRequestsFree=new L(W),W.bufferedRequestCount=0}else{for(;X;){var oe=X.chunk,he=X.encoding,xe=X.callback,Ae=W.objectMode?1:oe.length;if(_(Y,W,!1,Ae,oe,he,xe),X=X.next,W.bufferedRequestCount--,W.writing)break}X===null&&(W.lastBufferedRequest=null)}W.bufferedRequest=X,W.bufferProcessing=!1}T.prototype._write=function(Y,W,X){X(new b("_write()"))},T.prototype._writev=null,T.prototype.end=function(Y,W,X){var re=this._writableState;return typeof Y=="function"?(X=Y,Y=null,W=null):typeof W=="function"&&(X=W,W=null),Y!=null&&this.write(Y,W),re.corked&&(re.corked=1,this.uncork()),re.ending||fe(this,re,X),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Z(Y){return Y.ending&&Y.length===0&&Y.bufferedRequest===null&&!Y.finished&&!Y.writing}function q(Y,W){Y._final(function(X){W.pendingcb--,X&&M(Y,X),W.prefinished=!0,Y.emit("prefinish"),te(Y,W)})}function J(Y,W){!W.prefinished&&!W.finalCalled&&(typeof Y._final=="function"&&!W.destroyed?(W.pendingcb++,W.finalCalled=!0,p.nextTick(q,Y,W)):(W.prefinished=!0,Y.emit("prefinish")))}function te(Y,W){var X=Z(W);if(X&&(J(Y,W),W.pendingcb===0&&(W.finished=!0,Y.emit("finish"),W.autoDestroy))){var re=Y._readableState;(!re||re.autoDestroy&&re.endEmitted)&&Y.destroy()}return X}function fe(Y,W,X){W.ending=!0,te(Y,W),X&&(W.finished?p.nextTick(X):Y.once("finish",X)),W.ended=!0,Y.writable=!1}function K(Y,W,X){var re=Y.entry;for(Y.entry=null;re;){var se=re.callback;W.pendingcb--,se(X),re=re.next}W.corkedRequestsFree.next=Y}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(W){this._writableState&&(this._writableState.destroyed=W)}}),T.prototype.destroy=l.destroy,T.prototype._undestroy=l.undestroy,T.prototype._destroy=function(Y,W){W(Y)}},68221:function(V,B,e){var p=e(90386),L;function n(o,d,S){return d in o?Object.defineProperty(o,d,{value:S,enumerable:!0,configurable:!0,writable:!0}):o[d]=S,o}var C=e(12726),y=Symbol("lastResolve"),h=Symbol("lastReject"),g=Symbol("error"),t=Symbol("ended"),r=Symbol("lastPromise"),l=Symbol("handlePromise"),a=Symbol("stream");function s(o,d){return{value:o,done:d}}function c(o){var d=o[y];if(d!==null){var S=o[a].read();S!==null&&(o[r]=null,o[y]=null,o[h]=null,d(s(S,!1)))}}function u(o){p.nextTick(c,o)}function b(o,d){return function(S,M){o.then(function(){if(d[t]){S(s(void 0,!0));return}d[l](S,M)},M)}}var f=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((L={get stream(){return this[a]},next:function(){var d=this,S=this[g];if(S!==null)return Promise.reject(S);if(this[t])return Promise.resolve(s(void 0,!0));if(this[a].destroyed)return new Promise(function(E,T){p.nextTick(function(){d[g]?T(d[g]):E(s(void 0,!0))})});var M=this[r],P;if(M)P=new Promise(b(M,this));else{var x=this[a].read();if(x!==null)return Promise.resolve(s(x,!1));P=new Promise(this[l])}return this[r]=P,P}},n(L,Symbol.asyncIterator,function(){return this}),n(L,"return",function(){var d=this;return new Promise(function(S,M){d[a].destroy(null,function(P){if(P){M(P);return}S(s(void 0,!0))})})}),L),f),v=function(d){var S,M=Object.create(w,(S={},n(S,a,{value:d,writable:!0}),n(S,y,{value:null,writable:!0}),n(S,h,{value:null,writable:!0}),n(S,g,{value:null,writable:!0}),n(S,t,{value:d._readableState.endEmitted,writable:!0}),n(S,l,{value:function(x,E){var T=M[a].read();T?(M[r]=null,M[y]=null,M[h]=null,x(s(T,!1))):(M[y]=x,M[h]=E)},writable:!0}),S));return M[r]=null,C(d,function(P){if(P&&P.code!=="ERR_STREAM_PREMATURE_CLOSE"){var x=M[h];x!==null&&(M[r]=null,M[y]=null,M[h]=null,x(P)),M[g]=P;return}var E=M[y];E!==null&&(M[r]=null,M[y]=null,M[h]=null,E(s(void 0,!0))),M[t]=!0}),d.on("readable",u.bind(null,M)),M};V.exports=v},31125:function(V,B,e){function p(c,u){var b=Object.keys(c);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(c);u&&(f=f.filter(function(w){return Object.getOwnPropertyDescriptor(c,w).enumerable})),b.push.apply(b,f)}return b}function L(c){for(var u=1;u<arguments.length;u++){var b=arguments[u]!=null?arguments[u]:{};u%2?p(Object(b),!0).forEach(function(f){n(c,f,b[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):p(Object(b)).forEach(function(f){Object.defineProperty(c,f,Object.getOwnPropertyDescriptor(b,f))})}return c}function n(c,u,b){return u in c?Object.defineProperty(c,u,{value:b,enumerable:!0,configurable:!0,writable:!0}):c[u]=b,c}function C(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}function y(c,u){for(var b=0;b<u.length;b++){var f=u[b];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}function h(c,u,b){return u&&y(c.prototype,u),b&&y(c,b),c}var g=e(12856),t=g.Buffer,r=e(69862),l=r.inspect,a=l&&l.custom||"inspect";function s(c,u,b){t.prototype.copy.call(c,u,b)}V.exports=function(){function c(){C(this,c),this.head=null,this.tail=null,this.length=0}return h(c,[{key:"push",value:function(b){var f={data:b,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length}},{key:"unshift",value:function(b){var f={data:b,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var f=this.head,w=""+f.data;f=f.next;)w+=b+f.data;return w}},{key:"concat",value:function(b){if(this.length===0)return t.alloc(0);for(var f=t.allocUnsafe(b>>>0),w=this.head,v=0;w;)s(w.data,f,v),v+=w.data.length,w=w.next;return f}},{key:"consume",value:function(b,f){var w;return b<this.head.data.length?(w=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?w=this.shift():w=f?this._getString(b):this._getBuffer(b),w}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var f=this.head,w=1,v=f.data;for(b-=v.length;f=f.next;){var o=f.data,d=b>o.length?o.length:b;if(d===o.length?v+=o:v+=o.slice(0,b),b-=d,b===0){d===o.length?(++w,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=o.slice(d));break}++w}return this.length-=w,v}},{key:"_getBuffer",value:function(b){var f=t.allocUnsafe(b),w=this.head,v=1;for(w.data.copy(f),b-=w.data.length;w=w.next;){var o=w.data,d=b>o.length?o.length:b;if(o.copy(f,f.length-b,0,d),b-=d,b===0){d===o.length?(++v,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=o.slice(d));break}++v}return this.length-=v,f}},{key:a,value:function(b,f){return l(this,L({},f,{depth:0,customInspect:!1}))}}]),c}()},65756:function(V,B,e){var p=e(90386);function L(t,r){var l=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(r?r(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,p.nextTick(h,this,t)):p.nextTick(h,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(c){!r&&c?l._writableState?l._writableState.errorEmitted?p.nextTick(C,l):(l._writableState.errorEmitted=!0,p.nextTick(n,l,c)):p.nextTick(n,l,c):r?(p.nextTick(C,l),r(c)):p.nextTick(C,l)}),this)}function n(t,r){h(t,r),C(t)}function C(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function y(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function h(t,r){t.emit("error",r)}function g(t,r){var l=t._readableState,a=t._writableState;l&&l.autoDestroy||a&&a.autoDestroy?t.destroy(r):t.emit("error",r)}V.exports={destroy:L,undestroy:y,errorOrDestroy:g}},12726:function(V,B,e){var p=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function L(h){var g=!1;return function(){if(!g){g=!0;for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];h.apply(this,r)}}}function n(){}function C(h){return h.setHeader&&typeof h.abort=="function"}function y(h,g,t){if(typeof g=="function")return y(h,null,g);g||(g={}),t=L(t||n);var r=g.readable||g.readable!==!1&&h.readable,l=g.writable||g.writable!==!1&&h.writable,a=function(){h.writable||c()},s=h._writableState&&h._writableState.finished,c=function(){l=!1,s=!0,r||t.call(h)},u=h._readableState&&h._readableState.endEmitted,b=function(){r=!1,u=!0,l||t.call(h)},f=function(d){t.call(h,d)},w=function(){var d;if(r&&!u)return(!h._readableState||!h._readableState.ended)&&(d=new p),t.call(h,d);if(l&&!s)return(!h._writableState||!h._writableState.ended)&&(d=new p),t.call(h,d)},v=function(){h.req.on("finish",c)};return C(h)?(h.on("complete",c),h.on("abort",w),h.req?v():h.on("request",v)):l&&!h._writableState&&(h.on("end",a),h.on("close",a)),h.on("end",b),h.on("finish",c),g.error!==!1&&h.on("error",f),h.on("close",w),function(){h.removeListener("complete",c),h.removeListener("abort",w),h.removeListener("request",v),h.req&&h.req.removeListener("finish",c),h.removeListener("end",a),h.removeListener("close",a),h.removeListener("finish",c),h.removeListener("end",b),h.removeListener("error",f),h.removeListener("close",w)}}V.exports=y},31748:function(V){V.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(V,B,e){var p;function L(c){var u=!1;return function(){u||(u=!0,c.apply(void 0,arguments))}}var n=e(74322).q,C=n.ERR_MISSING_ARGS,y=n.ERR_STREAM_DESTROYED;function h(c){if(c)throw c}function g(c){return c.setHeader&&typeof c.abort=="function"}function t(c,u,b,f){f=L(f);var w=!1;c.on("close",function(){w=!0}),p===void 0&&(p=e(12726)),p(c,{readable:u,writable:b},function(o){if(o)return f(o);w=!0,f()});var v=!1;return function(o){if(!w&&!v){if(v=!0,g(c))return c.abort();if(typeof c.destroy=="function")return c.destroy();f(o||new y("pipe"))}}}function r(c){c()}function l(c,u){return c.pipe(u)}function a(c){return!c.length||typeof c[c.length-1]!="function"?h:c.pop()}function s(){for(var c=arguments.length,u=new Array(c),b=0;b<c;b++)u[b]=arguments[b];var f=a(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new C("streams");var w,v=u.map(function(o,d){var S=d<u.length-1,M=d>0;return t(o,S,M,function(P){w||(w=P),P&&v.forEach(r),!S&&(v.forEach(r),f(w))})});return u.reduce(l)}V.exports=s},56306:function(V,B,e){var p=e(74322).q.ERR_INVALID_OPT_VALUE;function L(C,y,h){return C.highWaterMark!=null?C.highWaterMark:y?C[h]:null}function n(C,y,h,g){var t=L(y,g,h);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var r=g?h:"highWaterMark";throw new p(r,t)}return Math.floor(t)}return C.objectMode?16:16384}V.exports={getHighWaterMark:n}},71405:function(V,B,e){V.exports=e(15398).EventEmitter},68019:function(V,B,e){var p=e(71665).Buffer,L=p.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(v){if(!v)return"utf8";for(var o;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(o)return;v=(""+v).toLowerCase(),o=!0}}function C(v){var o=n(v);if(typeof o!="string"&&(p.isEncoding===L||!L(v)))throw new Error("Unknown encoding: "+v);return o||v}B.s=y;function y(v){this.encoding=C(v);var o;switch(this.encoding){case"utf16le":this.text=s,this.end=c,o=4;break;case"utf8":this.fillLast=r,o=4;break;case"base64":this.text=u,this.end=b,o=3;break;default:this.write=f,this.end=w;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=p.allocUnsafe(o)}y.prototype.write=function(v){if(v.length===0)return"";var o,d;if(this.lastNeed){if(o=this.fillLast(v),o===void 0)return"";d=this.lastNeed,this.lastNeed=0}else d=0;return d<v.length?o?o+this.text(v,d):this.text(v,d):o||""},y.prototype.end=a,y.prototype.text=l,y.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function h(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function g(v,o,d){var S=o.length-1;if(S<d)return 0;var M=h(o[S]);return M>=0?(M>0&&(v.lastNeed=M-1),M):--S<d||M===-2?0:(M=h(o[S]),M>=0?(M>0&&(v.lastNeed=M-2),M):--S<d||M===-2?0:(M=h(o[S]),M>=0?(M>0&&(M===2?M=0:v.lastNeed=M-3),M):0))}function t(v,o,d){if((o[0]&192)!==128)return v.lastNeed=0,"";if(v.lastNeed>1&&o.length>1){if((o[1]&192)!==128)return v.lastNeed=1,"";if(v.lastNeed>2&&o.length>2&&(o[2]&192)!==128)return v.lastNeed=2,""}}function r(v){var o=this.lastTotal-this.lastNeed,d=t(this,v);if(d!==void 0)return d;if(this.lastNeed<=v.length)return v.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,o,0,v.length),this.lastNeed-=v.length}function l(v,o){var d=g(this,v,o);if(!this.lastNeed)return v.toString("utf8",o);this.lastTotal=d;var S=v.length-(d-this.lastNeed);return v.copy(this.lastChar,0,S),v.toString("utf8",o,S)}function a(v){var o=v&&v.length?this.write(v):"";return this.lastNeed?o+"":o}function s(v,o){if((v.length-o)%2===0){var d=v.toString("utf16le",o);if(d){var S=d.charCodeAt(d.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],d.slice(0,-1)}return d}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",o,v.length-1)}function c(v){var o=v&&v.length?this.write(v):"";if(this.lastNeed){var d=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,d)}return o}function u(v,o){var d=(v.length-o)%3;return d===0?v.toString("base64",o):(this.lastNeed=3-d,this.lastTotal=3,d===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",o,v.length-d))}function b(v){var o=v&&v.length?this.write(v):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function f(v){return v.toString(this.encoding)}function w(v){return v&&v.length?this.write(v):""}},90715:function(V,B,e){var p=e(32791),L=e(41633)("stream-parser");V.exports=g;var n=-1,C=0,y=1,h=2;function g(v){var o=v&&typeof v._transform=="function",d=v&&typeof v._write=="function";if(!o&&!d)throw new Error("must pass a Writable or Transform stream in");L("extending Parser into stream"),v._bytes=r,v._skipBytes=l,o&&(v._passthrough=a),o?v._transform=c:v._write=s}function t(v){L("initializing parser stream"),v._parserBytesLeft=0,v._parserBuffers=[],v._parserBuffered=0,v._parserState=n,v._parserCallback=null,typeof v.push=="function"&&(v._parserOutput=v.push.bind(v)),v._parserInit=!0}function r(v,o){p(!this._parserCallback,'there is already a "callback" set!'),p(isFinite(v)&&v>0,'can only buffer a finite number of bytes > 0, got "'+v+'"'),this._parserInit||t(this),L("buffering %o bytes",v),this._parserBytesLeft=v,this._parserCallback=o,this._parserState=C}function l(v,o){p(!this._parserCallback,'there is already a "callback" set!'),p(v>0,'can only skip > 0 bytes, got "'+v+'"'),this._parserInit||t(this),L("skipping %o bytes",v),this._parserBytesLeft=v,this._parserCallback=o,this._parserState=y}function a(v,o){p(!this._parserCallback,'There is already a "callback" set!'),p(v>0,'can only pass through > 0 bytes, got "'+v+'"'),this._parserInit||t(this),L("passing through %o bytes",v),this._parserBytesLeft=v,this._parserCallback=o,this._parserState=h}function s(v,o,d){this._parserInit||t(this),L("write(%o bytes)",v.length),typeof o=="function"&&(d=o),f(this,v,null,d)}function c(v,o,d){this._parserInit||t(this),L("transform(%o bytes)",v.length),typeof o!="function"&&(o=this._parserOutput),f(this,v,o,d)}function u(v,o,d,S){return v._parserBytesLeft<=0?S(new Error("got data but not currently parsing anything")):o.length<=v._parserBytesLeft?function(){return b(v,o,d,S)}:function(){var M=o.slice(0,v._parserBytesLeft);return b(v,M,d,function(P){if(P)return S(P);if(o.length>M.length)return function(){return u(v,o.slice(M.length),d,S)}})}}function b(v,o,d,S){if(v._parserBytesLeft-=o.length,L("%o bytes left for stream piece",v._parserBytesLeft),v._parserState===C?(v._parserBuffers.push(o),v._parserBuffered+=o.length):v._parserState===h&&d(o),v._parserBytesLeft===0){var M=v._parserCallback;if(M&&v._parserState===C&&v._parserBuffers.length>1&&(o=Buffer.concat(v._parserBuffers,v._parserBuffered)),v._parserState!==C&&(o=null),v._parserCallback=null,v._parserBuffered=0,v._parserState=n,v._parserBuffers.splice(0),M){var P=[];o&&P.push(o),d&&P.push(d);var x=M.length>P.length;x&&P.push(w(S));var E=M.apply(v,P);if(!x||S===E)return S}}else return S}var f=w(u);function w(v){return function(){for(var o=v.apply(this,arguments);typeof o=="function";)o=o();return o}}},41633:function(V,B,e){var p=e(90386);B=V.exports=e(74469),B.log=C,B.formatArgs=n,B.save=y,B.load=h,B.useColors=L,B.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:g(),B.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function L(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}B.formatters.j=function(t){try{return JSON.stringify(t)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}};function n(t){var r=this.useColors;if(t[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+t[0]+(r?"%c ":" ")+"+"+B.humanize(this.diff),!!r){var l="color: "+this.color;t.splice(1,0,l,"color: inherit");var a=0,s=0;t[0].replace(/%[a-zA-Z%]/g,function(c){c!=="%%"&&(a++,c==="%c"&&(s=a))}),t.splice(s,0,l)}}function C(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function y(t){try{t==null?B.storage.removeItem("debug"):B.storage.debug=t}catch{}}function h(){var t;try{t=B.storage.debug}catch{}return!t&&typeof p<"u"&&"env"in p&&(t={}.DEBUG),t}B.enable(h());function g(){try{return window.localStorage}catch{}}},74469:function(V,B,e){B=V.exports=n.debug=n.default=n,B.coerce=g,B.disable=y,B.enable=C,B.enabled=h,B.humanize=e(11375),B.names=[],B.skips=[],B.formatters={};var p;function L(t){var r=0,l;for(l in t)r=(r<<5)-r+t.charCodeAt(l),r|=0;return B.colors[Math.abs(r)%B.colors.length]}function n(t){function r(){if(r.enabled){var l=r,a=+new Date,s=a-(p||a);l.diff=s,l.prev=p,l.curr=a,p=a;for(var c=new Array(arguments.length),u=0;u<c.length;u++)c[u]=arguments[u];c[0]=B.coerce(c[0]),typeof c[0]!="string"&&c.unshift("%O");var b=0;c[0]=c[0].replace(/%([a-zA-Z%])/g,function(w,v){if(w==="%%")return w;b++;var o=B.formatters[v];if(typeof o=="function"){var d=c[b];w=o.call(l,d),c.splice(b,1),b--}return w}),B.formatArgs.call(l,c);var f=r.log||B.log||console.log.bind(console);f.apply(l,c)}}return r.namespace=t,r.enabled=B.enabled(t),r.useColors=B.useColors(),r.color=L(t),typeof B.init=="function"&&B.init(r),r}function C(t){B.save(t),B.names=[],B.skips=[];for(var r=(typeof t=="string"?t:"").split(/[\s,]+/),l=r.length,a=0;a<l;a++)r[a]&&(t=r[a].replace(/\*/g,".*?"),t[0]==="-"?B.skips.push(new RegExp("^"+t.substr(1)+"$")):B.names.push(new RegExp("^"+t+"$")))}function y(){B.enable("")}function h(t){var r,l;for(r=0,l=B.skips.length;r<l;r++)if(B.skips[r].test(t))return!1;for(r=0,l=B.names.length;r<l;r++)if(B.names[r].test(t))return!0;return!1}function g(t){return t instanceof Error?t.stack||t.message:t}},11375:function(V){var B=1e3,e=B*60,p=e*60,L=p*24,n=L*365.25;V.exports=function(t,r){r=r||{};var l=typeof t;if(l==="string"&&t.length>0)return C(t);if(l==="number"&&isNaN(t)===!1)return r.long?h(t):y(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function C(t){if(t=String(t),!(t.length>100)){var r=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(r){var l=parseFloat(r[1]),a=(r[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return l*n;case"days":case"day":case"d":return l*L;case"hours":case"hour":case"hrs":case"hr":case"h":return l*p;case"minutes":case"minute":case"mins":case"min":case"m":return l*e;case"seconds":case"second":case"secs":case"sec":case"s":return l*B;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function y(t){return t>=L?Math.round(t/L)+"d":t>=p?Math.round(t/p)+"h":t>=e?Math.round(t/e)+"m":t>=B?Math.round(t/B)+"s":t+"ms"}function h(t){return g(t,L,"day")||g(t,p,"hour")||g(t,e,"minute")||g(t,B,"second")||t+" ms"}function g(t,r,l){if(!(t<r))return t<r*1.5?Math.floor(t/r)+" "+l:Math.ceil(t/r)+" "+l+"s"}},99011:function(V,B,e){var p=e(88641);V.exports=function(n,C,y){if(n==null)throw Error("First argument should be a string");if(C==null)throw Error("Separator should be a string or a RegExp");y?(typeof y=="string"||Array.isArray(y))&&(y={ignore:y}):y={},y.escape==null&&(y.escape=!0),y.ignore==null?y.ignore=["[]","()","{}","<>",'""',"''","``","",""]:(typeof y.ignore=="string"&&(y.ignore=[y.ignore]),y.ignore=y.ignore.map(function(c){return c.length===1&&(c=c+c),c}));var h=p.parse(n,{flat:!0,brackets:y.ignore}),g=h[0],t=g.split(C);if(y.escape){for(var r=[],l=0;l<t.length;l++){var a=t[l],s=t[l+1];a[a.length-1]==="\\"&&a[a.length-2]!=="\\"?(r.push(a+C+s),l++):r.push(a)}t=r}for(var l=0;l<t.length;l++)h[0]=t[l],t[l]=p.stringify(h,{flat:!0});return t}},68664:function(V){V.exports=B;function B(e){for(var p=e.length,L=new Array(p),n=new Array(p),C=new Array(p),y=new Array(p),h=new Array(p),g=new Array(p),t=0;t<p;++t)L[t]=-1,n[t]=0,C[t]=!1,y[t]=0,h[t]=-1,g[t]=[];var r=0,l=[],a=[];function s(f){var w=[f],v=[f];for(L[f]=n[f]=r,C[f]=!0,r+=1;v.length>0;){f=v[v.length-1];var o=e[f];if(y[f]<o.length){for(var d=y[f];d<o.length;++d){var S=o[d];if(L[S]<0){L[S]=n[S]=r,C[S]=!0,r+=1,w.push(S),v.push(S);break}else C[S]&&(n[f]=Math.min(n[f],n[S])|0);h[S]>=0&&g[f].push(h[S])}y[f]=d}else{if(n[f]===L[f]){for(var M=[],P=[],x=0,d=w.length-1;d>=0;--d){var E=w[d];if(C[E]=!1,M.push(E),P.push(g[E]),x+=g[E].length,h[E]=l.length,E===f){w.length=d;break}}l.push(M);for(var T=new Array(x),d=0;d<P.length;d++)for(var i=0;i<P[d].length;i++)T[--x]=P[d][i];a.push(T)}v.pop()}}}for(var t=0;t<p;++t)L[t]<0&&s(t);for(var c,t=0;t<a.length;t++){var u=a[t];if(u.length!==0){u.sort(function(w,v){return w-v}),c=[u[0]];for(var b=1;b<u.length;b++)u[b]!==u[b-1]&&c.push(u[b]);a[t]=c}}return{components:l,adjacencyList:a}}},7095:function(V,B,e){e.r(B);var p=function(){function t(r,l){var a=[],s=!0,c=!1,u=void 0;try{for(var b=r[Symbol.iterator](),f;!(s=(f=b.next()).done)&&(a.push(f.value),!(l&&a.length===l));s=!0);}catch(w){c=!0,u=w}finally{try{!s&&b.return&&b.return()}finally{if(c)throw u}}return a}return function(r,l){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),L=Math.PI*2,n=function(r,l,a,s,c,u,b){var f=r.x,w=r.y;f*=l,w*=a;var v=s*f-c*w,o=c*f+s*w;return{x:v+u,y:o+b}},C=function(r,l){var a=l===1.5707963267948966?.551915024494:l===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(l/4),s=Math.cos(r),c=Math.sin(r),u=Math.cos(r+l),b=Math.sin(r+l);return[{x:s-c*a,y:c+s*a},{x:u+b*a,y:b-u*a},{x:u,y:b}]},y=function(r,l,a,s){var c=r*s-l*a<0?-1:1,u=r*a+l*s;return u>1&&(u=1),u<-1&&(u=-1),c*Math.acos(u)},h=function(r,l,a,s,c,u,b,f,w,v,o,d){var S=Math.pow(c,2),M=Math.pow(u,2),P=Math.pow(o,2),x=Math.pow(d,2),E=S*M-S*x-M*P;E<0&&(E=0),E/=S*x+M*P,E=Math.sqrt(E)*(b===f?-1:1);var T=E*c/u*d,i=E*-u/c*o,R=v*T-w*i+(r+a)/2,A=w*T+v*i+(l+s)/2,k=(o-T)/c,_=(d-i)/u,H=(-o-T)/c,z=(-d-i)/u,N=y(1,0,k,_),O=y(k,_,H,z);return f===0&&O>0&&(O-=L),f===1&&O<0&&(O+=L),[R,A,N,O]},g=function(r){var l=r.px,a=r.py,s=r.cx,c=r.cy,u=r.rx,b=r.ry,f=r.xAxisRotation,w=f===void 0?0:f,v=r.largeArcFlag,o=v===void 0?0:v,d=r.sweepFlag,S=d===void 0?0:d,M=[];if(u===0||b===0)return[];var P=Math.sin(w*L/360),x=Math.cos(w*L/360),E=x*(l-s)/2+P*(a-c)/2,T=-P*(l-s)/2+x*(a-c)/2;if(E===0&&T===0)return[];u=Math.abs(u),b=Math.abs(b);var i=Math.pow(E,2)/Math.pow(u,2)+Math.pow(T,2)/Math.pow(b,2);i>1&&(u*=Math.sqrt(i),b*=Math.sqrt(i));var R=h(l,a,s,c,u,b,o,S,P,x,E,T),A=p(R,4),k=A[0],_=A[1],H=A[2],z=A[3],N=Math.abs(z)/(L/4);Math.abs(1-N)<1e-7&&(N=1);var O=Math.max(Math.ceil(N),1);z/=O;for(var F=0;F<O;F++)M.push(C(H,z)),H+=z;return M.map(function(U){var Z=n(U[0],u,b,x,P,k,_),q=Z.x,J=Z.y,te=n(U[1],u,b,x,P,k,_),fe=te.x,K=te.y,Y=n(U[2],u,b,x,P,k,_),W=Y.x,X=Y.y;return{x1:q,y1:J,x2:fe,y2:K,x:W,y:X}})};B.default=g},1750:function(V,B,e){var p=e(95616),L=e(65185),n=e(29988),C=e(89546),y=e(32791);V.exports=h;function h(g){if(Array.isArray(g)&&g.length===1&&typeof g[0]=="string"&&(g=g[0]),typeof g=="string"&&(y(C(g),"String is not an SVG path."),g=p(g)),y(Array.isArray(g),"Argument should be a string or an array of path segments."),g=L(g),g=n(g),!g.length)return[0,0,0,0];for(var t=[1/0,1/0,-1/0,-1/0],r=0,l=g.length;r<l;r++)for(var a=g[r].slice(1),s=0;s<a.length;s+=2)a[s+0]<t[0]&&(t[0]=a[s+0]),a[s+1]<t[1]&&(t[1]=a[s+1]),a[s+0]>t[2]&&(t[2]=a[s+0]),a[s+1]>t[3]&&(t[3]=a[s+1]);return t}},29988:function(V,B,e){V.exports=L;var p=e(7095);function L(y){for(var h,g=[],t=0,r=0,l=0,a=0,s=null,c=null,u=0,b=0,f=0,w=y.length;f<w;f++){var v=y[f],o=v[0];switch(o){case"M":l=v[1],a=v[2];break;case"A":var d=p({px:u,py:b,cx:v[6],cy:v[7],rx:v[1],ry:v[2],xAxisRotation:v[3],largeArcFlag:v[4],sweepFlag:v[5]});if(!d.length)continue;for(var S=0,M;S<d.length;S++)M=d[S],v=["C",M.x1,M.y1,M.x2,M.y2,M.x,M.y],S<d.length-1&&g.push(v);break;case"S":var P=u,x=b;(h=="C"||h=="S")&&(P+=P-t,x+=x-r),v=["C",P,x,v[1],v[2],v[3],v[4]];break;case"T":h=="Q"||h=="T"?(s=u*2-s,c=b*2-c):(s=u,c=b),v=C(u,b,s,c,v[1],v[2]);break;case"Q":s=v[1],c=v[2],v=C(u,b,v[1],v[2],v[3],v[4]);break;case"L":v=n(u,b,v[1],v[2]);break;case"H":v=n(u,b,v[1],b);break;case"V":v=n(u,b,u,v[1]);break;case"Z":v=n(u,b,l,a);break}h=o,u=v[v.length-2],b=v[v.length-1],v.length>4?(t=v[v.length-4],r=v[v.length-3]):(t=u,r=b),g.push(v)}return g}function n(y,h,g,t){return["C",y,h,g,t,g,t]}function C(y,h,g,t,r,l){return["C",y/3+.6666666666666666*g,h/3+.6666666666666666*t,r/3+.6666666666666666*g,l/3+.6666666666666666*t,r,l]}},82019:function(V,B,e){var p=e(1750),L=e(95616),n=e(31457),C=e(89546),y=e(44781),h=document.createElement("canvas"),g=h.getContext("2d");V.exports=t;function t(a,s){if(!C(a))throw Error("Argument should be valid svg path string");s||(s={});var c,u;s.shape?(c=s.shape[0],u=s.shape[1]):(c=h.width=s.w||s.width||200,u=h.height=s.h||s.height||200);var b=Math.min(c,u),f=s.stroke||0,w=s.viewbox||s.viewBox||p(a),v=[c/(w[2]-w[0]),u/(w[3]-w[1])],o=Math.min(v[0]||0,v[1]||0)/2;if(g.fillStyle="black",g.fillRect(0,0,c,u),g.fillStyle="white",f&&(typeof f!="number"&&(f=1),f>0?g.strokeStyle="white":g.strokeStyle="black",g.lineWidth=Math.abs(f)),g.translate(c*.5,u*.5),g.scale(o,o),l()){var d=new Path2D(a);g.fill(d),f&&g.stroke(d)}else{var S=L(a);n(g,S),g.fill(),f&&g.stroke()}g.setTransform(1,0,0,1,0,0);var M=y(g,{cutoff:s.cutoff!=null?s.cutoff:.5,radius:s.radius!=null?s.radius:b*.5});return M}var r;function l(){if(r!=null)return r;var a=document.createElement("canvas").getContext("2d");if(a.canvas.width=a.canvas.height=1,!window.Path2D)return r=!1;var s=new Path2D("M0,0h1v1h-1v-1Z");a.fillStyle="black",a.fill(s);var c=a.getImageData(0,0,1,1);return r=c&&c.data&&c.data[3]===255}},84267:function(V,B,e){var p;(function(L){var n=/^\s+/,C=/\s+$/,y=0,h=L.round,g=L.min,t=L.max,r=L.random;function l(ee,le){if(ee=ee||"",le=le||{},ee instanceof l)return ee;if(!(this instanceof l))return new l(ee,le);var oe=a(ee);this._originalInput=ee,this._r=oe.r,this._g=oe.g,this._b=oe.b,this._a=oe.a,this._roundA=h(100*this._a)/100,this._format=le.format||oe.format,this._gradientType=le.gradientType,this._r<1&&(this._r=h(this._r)),this._g<1&&(this._g=h(this._g)),this._b<1&&(this._b=h(this._b)),this._ok=oe.ok,this._tc_id=y++}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var ee=this.toRgb();return(ee.r*299+ee.g*587+ee.b*114)/1e3},getLuminance:function(){var ee=this.toRgb(),le,oe,he,xe,Ae,Se;return le=ee.r/255,oe=ee.g/255,he=ee.b/255,le<=.03928?xe=le/12.92:xe=L.pow((le+.055)/1.055,2.4),oe<=.03928?Ae=oe/12.92:Ae=L.pow((oe+.055)/1.055,2.4),he<=.03928?Se=he/12.92:Se=L.pow((he+.055)/1.055,2.4),.2126*xe+.7152*Ae+.0722*Se},setAlpha:function(ee){return this._a=F(ee),this._roundA=h(100*this._a)/100,this},toHsv:function(){var ee=b(this._r,this._g,this._b);return{h:ee.h*360,s:ee.s,v:ee.v,a:this._a}},toHsvString:function(){var ee=b(this._r,this._g,this._b),le=h(ee.h*360),oe=h(ee.s*100),he=h(ee.v*100);return this._a==1?"hsv("+le+", "+oe+"%, "+he+"%)":"hsva("+le+", "+oe+"%, "+he+"%, "+this._roundA+")"},toHsl:function(){var ee=c(this._r,this._g,this._b);return{h:ee.h*360,s:ee.s,l:ee.l,a:this._a}},toHslString:function(){var ee=c(this._r,this._g,this._b),le=h(ee.h*360),oe=h(ee.s*100),he=h(ee.l*100);return this._a==1?"hsl("+le+", "+oe+"%, "+he+"%)":"hsla("+le+", "+oe+"%, "+he+"%, "+this._roundA+")"},toHex:function(ee){return w(this._r,this._g,this._b,ee)},toHexString:function(ee){return"#"+this.toHex(ee)},toHex8:function(ee){return v(this._r,this._g,this._b,this._a,ee)},toHex8String:function(ee){return"#"+this.toHex8(ee)},toRgb:function(){return{r:h(this._r),g:h(this._g),b:h(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+h(this._r)+", "+h(this._g)+", "+h(this._b)+")":"rgba("+h(this._r)+", "+h(this._g)+", "+h(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:h(U(this._r,255)*100)+"%",g:h(U(this._g,255)*100)+"%",b:h(U(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+h(U(this._r,255)*100)+"%, "+h(U(this._g,255)*100)+"%, "+h(U(this._b,255)*100)+"%)":"rgba("+h(U(this._r,255)*100)+"%, "+h(U(this._g,255)*100)+"%, "+h(U(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:N[w(this._r,this._g,this._b,!0)]||!1},toFilter:function(ee){var le="#"+o(this._r,this._g,this._b,this._a),oe=le,he=this._gradientType?"GradientType = 1, ":"";if(ee){var xe=l(ee);oe="#"+o(xe._r,xe._g,xe._b,xe._a)}return"progid:DXImageTransform.Microsoft.gradient("+he+"startColorstr="+le+",endColorstr="+oe+")"},toString:function(ee){var le=!!ee;ee=ee||this._format;var oe=!1,he=this._a<1&&this._a>=0,xe=!le&&he&&(ee==="hex"||ee==="hex6"||ee==="hex3"||ee==="hex4"||ee==="hex8"||ee==="name");return xe?ee==="name"&&this._a===0?this.toName():this.toRgbString():(ee==="rgb"&&(oe=this.toRgbString()),ee==="prgb"&&(oe=this.toPercentageRgbString()),(ee==="hex"||ee==="hex6")&&(oe=this.toHexString()),ee==="hex3"&&(oe=this.toHexString(!0)),ee==="hex4"&&(oe=this.toHex8String(!0)),ee==="hex8"&&(oe=this.toHex8String()),ee==="name"&&(oe=this.toName()),ee==="hsl"&&(oe=this.toHslString()),ee==="hsv"&&(oe=this.toHsvString()),oe||this.toHexString())},clone:function(){return l(this.toString())},_applyModification:function(ee,le){var oe=ee.apply(null,[this].concat([].slice.call(le)));return this._r=oe._r,this._g=oe._g,this._b=oe._b,this.setAlpha(oe._a),this},lighten:function(){return this._applyModification(P,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(E,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(S,arguments)},greyscale:function(){return this._applyModification(M,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(ee,le){return ee.apply(null,[this].concat([].slice.call(le)))},analogous:function(){return this._applyCombination(_,arguments)},complement:function(){return this._applyCombination(i,arguments)},monochromatic:function(){return this._applyCombination(H,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(R,arguments)},tetrad:function(){return this._applyCombination(A,arguments)}},l.fromRatio=function(ee,le){if(typeof ee=="object"){var oe={};for(var he in ee)ee.hasOwnProperty(he)&&(he==="a"?oe[he]=ee[he]:oe[he]=K(ee[he]));ee=oe}return l(ee,le)};function a(ee){var le={r:0,g:0,b:0},oe=1,he=null,xe=null,Ae=null,Se=!1,Oe=!1;return typeof ee=="string"&&(ee=se(ee)),typeof ee=="object"&&(re(ee.r)&&re(ee.g)&&re(ee.b)?(le=s(ee.r,ee.g,ee.b),Se=!0,Oe=String(ee.r).substr(-1)==="%"?"prgb":"rgb"):re(ee.h)&&re(ee.s)&&re(ee.v)?(he=K(ee.s),xe=K(ee.v),le=f(ee.h,he,xe),Se=!0,Oe="hsv"):re(ee.h)&&re(ee.s)&&re(ee.l)&&(he=K(ee.s),Ae=K(ee.l),le=u(ee.h,he,Ae),Se=!0,Oe="hsl"),ee.hasOwnProperty("a")&&(oe=ee.a)),oe=F(oe),{ok:Se,format:ee.format||Oe,r:g(255,t(le.r,0)),g:g(255,t(le.g,0)),b:g(255,t(le.b,0)),a:oe}}function s(ee,le,oe){return{r:U(ee,255)*255,g:U(le,255)*255,b:U(oe,255)*255}}function c(ee,le,oe){ee=U(ee,255),le=U(le,255),oe=U(oe,255);var he=t(ee,le,oe),xe=g(ee,le,oe),Ae,Se,Oe=(he+xe)/2;if(he==xe)Ae=Se=0;else{var Ve=he-xe;switch(Se=Oe>.5?Ve/(2-he-xe):Ve/(he+xe),he){case ee:Ae=(le-oe)/Ve+(le<oe?6:0);break;case le:Ae=(oe-ee)/Ve+2;break;case oe:Ae=(ee-le)/Ve+4;break}Ae/=6}return{h:Ae,s:Se,l:Oe}}function u(ee,le,oe){var he,xe,Ae;ee=U(ee,360),le=U(le,100),oe=U(oe,100);function Se(Ee,Te,Le){return Le<0&&(Le+=1),Le>1&&(Le-=1),Le<.16666666666666666?Ee+(Te-Ee)*6*Le:Le<.5?Te:Le<.6666666666666666?Ee+(Te-Ee)*(.6666666666666666-Le)*6:Ee}if(le===0)he=xe=Ae=oe;else{var Oe=oe<.5?oe*(1+le):oe+le-oe*le,Ve=2*oe-Oe;he=Se(Ve,Oe,ee+.3333333333333333),xe=Se(Ve,Oe,ee),Ae=Se(Ve,Oe,ee-.3333333333333333)}return{r:he*255,g:xe*255,b:Ae*255}}function b(ee,le,oe){ee=U(ee,255),le=U(le,255),oe=U(oe,255);var he=t(ee,le,oe),xe=g(ee,le,oe),Ae,Se,Oe=he,Ve=he-xe;if(Se=he===0?0:Ve/he,he==xe)Ae=0;else{switch(he){case ee:Ae=(le-oe)/Ve+(le<oe?6:0);break;case le:Ae=(oe-ee)/Ve+2;break;case oe:Ae=(ee-le)/Ve+4;break}Ae/=6}return{h:Ae,s:Se,v:Oe}}function f(ee,le,oe){ee=U(ee,360)*6,le=U(le,100),oe=U(oe,100);var he=L.floor(ee),xe=ee-he,Ae=oe*(1-le),Se=oe*(1-xe*le),Oe=oe*(1-(1-xe)*le),Ve=he%6,Ee=[oe,Se,Ae,Ae,Oe,oe][Ve],Te=[Oe,oe,oe,Se,Ae,Ae][Ve],Le=[Ae,Ae,Oe,oe,oe,Se][Ve];return{r:Ee*255,g:Te*255,b:Le*255}}function w(ee,le,oe,he){var xe=[fe(h(ee).toString(16)),fe(h(le).toString(16)),fe(h(oe).toString(16))];return he&&xe[0].charAt(0)==xe[0].charAt(1)&&xe[1].charAt(0)==xe[1].charAt(1)&&xe[2].charAt(0)==xe[2].charAt(1)?xe[0].charAt(0)+xe[1].charAt(0)+xe[2].charAt(0):xe.join("")}function v(ee,le,oe,he,xe){var Ae=[fe(h(ee).toString(16)),fe(h(le).toString(16)),fe(h(oe).toString(16)),fe(Y(he))];return xe&&Ae[0].charAt(0)==Ae[0].charAt(1)&&Ae[1].charAt(0)==Ae[1].charAt(1)&&Ae[2].charAt(0)==Ae[2].charAt(1)&&Ae[3].charAt(0)==Ae[3].charAt(1)?Ae[0].charAt(0)+Ae[1].charAt(0)+Ae[2].charAt(0)+Ae[3].charAt(0):Ae.join("")}function o(ee,le,oe,he){var xe=[fe(Y(he)),fe(h(ee).toString(16)),fe(h(le).toString(16)),fe(h(oe).toString(16))];return xe.join("")}l.equals=function(ee,le){return!ee||!le?!1:l(ee).toRgbString()==l(le).toRgbString()},l.random=function(){return l.fromRatio({r:r(),g:r(),b:r()})};function d(ee,le){le=le===0?0:le||10;var oe=l(ee).toHsl();return oe.s-=le/100,oe.s=Z(oe.s),l(oe)}function S(ee,le){le=le===0?0:le||10;var oe=l(ee).toHsl();return oe.s+=le/100,oe.s=Z(oe.s),l(oe)}function M(ee){return l(ee).desaturate(100)}function P(ee,le){le=le===0?0:le||10;var oe=l(ee).toHsl();return oe.l+=le/100,oe.l=Z(oe.l),l(oe)}function x(ee,le){le=le===0?0:le||10;var oe=l(ee).toRgb();return oe.r=t(0,g(255,oe.r-h(255*-(le/100)))),oe.g=t(0,g(255,oe.g-h(255*-(le/100)))),oe.b=t(0,g(255,oe.b-h(255*-(le/100)))),l(oe)}function E(ee,le){le=le===0?0:le||10;var oe=l(ee).toHsl();return oe.l-=le/100,oe.l=Z(oe.l),l(oe)}function T(ee,le){var oe=l(ee).toHsl(),he=(oe.h+le)%360;return oe.h=he<0?360+he:he,l(oe)}function i(ee){var le=l(ee).toHsl();return le.h=(le.h+180)%360,l(le)}function R(ee){var le=l(ee).toHsl(),oe=le.h;return[l(ee),l({h:(oe+120)%360,s:le.s,l:le.l}),l({h:(oe+240)%360,s:le.s,l:le.l})]}function A(ee){var le=l(ee).toHsl(),oe=le.h;return[l(ee),l({h:(oe+90)%360,s:le.s,l:le.l}),l({h:(oe+180)%360,s:le.s,l:le.l}),l({h:(oe+270)%360,s:le.s,l:le.l})]}function k(ee){var le=l(ee).toHsl(),oe=le.h;return[l(ee),l({h:(oe+72)%360,s:le.s,l:le.l}),l({h:(oe+216)%360,s:le.s,l:le.l})]}function _(ee,le,oe){le=le||6,oe=oe||30;var he=l(ee).toHsl(),xe=360/oe,Ae=[l(ee)];for(he.h=(he.h-(xe*le>>1)+720)%360;--le;)he.h=(he.h+xe)%360,Ae.push(l(he));return Ae}function H(ee,le){le=le||6;for(var oe=l(ee).toHsv(),he=oe.h,xe=oe.s,Ae=oe.v,Se=[],Oe=1/le;le--;)Se.push(l({h:he,s:xe,v:Ae})),Ae=(Ae+Oe)%1;return Se}l.mix=function(ee,le,oe){oe=oe===0?0:oe||50;var he=l(ee).toRgb(),xe=l(le).toRgb(),Ae=oe/100,Se={r:(xe.r-he.r)*Ae+he.r,g:(xe.g-he.g)*Ae+he.g,b:(xe.b-he.b)*Ae+he.b,a:(xe.a-he.a)*Ae+he.a};return l(Se)},l.readability=function(ee,le){var oe=l(ee),he=l(le);return(L.max(oe.getLuminance(),he.getLuminance())+.05)/(L.min(oe.getLuminance(),he.getLuminance())+.05)},l.isReadable=function(ee,le,oe){var he=l.readability(ee,le),xe,Ae;switch(Ae=!1,xe=Q(oe),xe.level+xe.size){case"AAsmall":case"AAAlarge":Ae=he>=4.5;break;case"AAlarge":Ae=he>=3;break;case"AAAsmall":Ae=he>=7;break}return Ae},l.mostReadable=function(ee,le,oe){var he=null,xe=0,Ae,Se,Oe,Ve;oe=oe||{},Se=oe.includeFallbackColors,Oe=oe.level,Ve=oe.size;for(var Ee=0;Ee<le.length;Ee++)Ae=l.readability(ee,le[Ee]),Ae>xe&&(xe=Ae,he=l(le[Ee]));return l.isReadable(ee,he,{level:Oe,size:Ve})||!Se?he:(oe.includeFallbackColors=!1,l.mostReadable(ee,["#fff","#000"],oe))};var z=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},N=l.hexNames=O(z);function O(ee){var le={};for(var oe in ee)ee.hasOwnProperty(oe)&&(le[ee[oe]]=oe);return le}function F(ee){return ee=parseFloat(ee),(isNaN(ee)||ee<0||ee>1)&&(ee=1),ee}function U(ee,le){J(ee)&&(ee="100%");var oe=te(ee);return ee=g(le,t(0,parseFloat(ee))),oe&&(ee=parseInt(ee*le,10)/100),L.abs(ee-le)<1e-6?1:ee%le/parseFloat(le)}function Z(ee){return g(1,t(0,ee))}function q(ee){return parseInt(ee,16)}function J(ee){return typeof ee=="string"&&ee.indexOf(".")!=-1&&parseFloat(ee)===1}function te(ee){return typeof ee=="string"&&ee.indexOf("%")!=-1}function fe(ee){return ee.length==1?"0"+ee:""+ee}function K(ee){return ee<=1&&(ee=ee*100+"%"),ee}function Y(ee){return L.round(parseFloat(ee)*255).toString(16)}function W(ee){return q(ee)/255}var X=function(){var ee="[-\\+]?\\d+%?",le="[-\\+]?\\d*\\.\\d+%?",oe="(?:"+le+")|(?:"+ee+")",he="[\\s|\\(]+("+oe+")[,|\\s]+("+oe+")[,|\\s]+("+oe+")\\s*\\)?",xe="[\\s|\\(]+("+oe+")[,|\\s]+("+oe+")[,|\\s]+("+oe+")[,|\\s]+("+oe+")\\s*\\)?";return{CSS_UNIT:new RegExp(oe),rgb:new RegExp("rgb"+he),rgba:new RegExp("rgba"+xe),hsl:new RegExp("hsl"+he),hsla:new RegExp("hsla"+xe),hsv:new RegExp("hsv"+he),hsva:new RegExp("hsva"+xe),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function re(ee){return!!X.CSS_UNIT.exec(ee)}function se(ee){ee=ee.replace(n,"").replace(C,"").toLowerCase();var le=!1;if(z[ee])ee=z[ee],le=!0;else if(ee=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var oe;return(oe=X.rgb.exec(ee))?{r:oe[1],g:oe[2],b:oe[3]}:(oe=X.rgba.exec(ee))?{r:oe[1],g:oe[2],b:oe[3],a:oe[4]}:(oe=X.hsl.exec(ee))?{h:oe[1],s:oe[2],l:oe[3]}:(oe=X.hsla.exec(ee))?{h:oe[1],s:oe[2],l:oe[3],a:oe[4]}:(oe=X.hsv.exec(ee))?{h:oe[1],s:oe[2],v:oe[3]}:(oe=X.hsva.exec(ee))?{h:oe[1],s:oe[2],v:oe[3],a:oe[4]}:(oe=X.hex8.exec(ee))?{r:q(oe[1]),g:q(oe[2]),b:q(oe[3]),a:W(oe[4]),format:le?"name":"hex8"}:(oe=X.hex6.exec(ee))?{r:q(oe[1]),g:q(oe[2]),b:q(oe[3]),format:le?"name":"hex"}:(oe=X.hex4.exec(ee))?{r:q(oe[1]+""+oe[1]),g:q(oe[2]+""+oe[2]),b:q(oe[3]+""+oe[3]),a:W(oe[4]+""+oe[4]),format:le?"name":"hex8"}:(oe=X.hex3.exec(ee))?{r:q(oe[1]+""+oe[1]),g:q(oe[2]+""+oe[2]),b:q(oe[3]+""+oe[3]),format:le?"name":"hex"}:!1}function Q(ee){var le,oe;return ee=ee||{level:"AA",size:"small"},le=(ee.level||"AA").toUpperCase(),oe=(ee.size||"small").toLowerCase(),le!=="AA"&&le!=="AAA"&&(le="AA"),oe!=="small"&&oe!=="large"&&(oe="small"),{level:le,size:oe}}V.exports?V.exports=l:(p=(function(){return l}).call(B,e,B,V),p!==void 0&&(V.exports=p))})(Math)},57060:function(V){V.exports=p,V.exports.float32=V.exports.float=p,V.exports.fract32=V.exports.fract=e;var B=new Float32Array(1);function e(L,n){if(L.length){if(L instanceof Float32Array)return new Float32Array(L.length);n instanceof Float32Array||(n=p(L));for(var C=0,y=n.length;C<y;C++)n[C]=L[C]-n[C];return n}return p(L-p(L))}function p(L){return L.length?L instanceof Float32Array?L:new Float32Array(L):(B[0]=L,B[0])}},75686:function(V,B,e){var p=e(25677);V.exports=y;var L=96;function n(h,g){var t=p(getComputedStyle(h).getPropertyValue(g));return t[0]*y(t[1],h)}function C(h,g){var t=document.createElement("div");t.style["font-size"]="128"+h,g.appendChild(t);var r=n(t,"font-size")/128;return g.removeChild(t),r}function y(h,g){switch(g=g||document.body,h=(h||"px").trim().toLowerCase(),(g===window||g===document)&&(g=document.body),h){case"%":return g.clientHeight/100;case"ch":case"ex":return C(h,g);case"em":return n(g,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return L;case"cm":return L/2.54;case"mm":return L/25.4;case"pt":return L/72;case"pc":return L/6}return 1}},96892:function(V,B,e){e.d(B,{zL:function(){return C}});function p(g,t){for(var r,l=g.length,a=l-t;a<--l;)r=g[a],g[a++]=g[l],g[l]=r}function L(g){return g}function n(g){if(g==null)return L;var t,r,l=g.scale[0],a=g.scale[1],s=g.translate[0],c=g.translate[1];return function(u,b){b||(t=r=0);var f=2,w=u.length,v=new Array(w);for(v[0]=(t+=u[0])*l+s,v[1]=(r+=u[1])*a+c;f<w;)v[f]=u[f],++f;return v}}function C(g,t){return typeof t=="string"&&(t=g.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(r){return y(g,r)})}:y(g,t)}function y(g,t){var r=t.id,l=t.bbox,a=t.properties==null?{}:t.properties,s=h(g,t);return r==null&&l==null?{type:"Feature",properties:a,geometry:s}:l==null?{type:"Feature",id:r,properties:a,geometry:s}:{type:"Feature",id:r,bbox:l,properties:a,geometry:s}}function h(g,t){var r=n(g.transform),l=g.arcs;function a(w,v){v.length&&v.pop();for(var o=l[w<0?~w:w],d=0,S=o.length;d<S;++d)v.push(r(o[d],d));w<0&&p(v,S)}function s(w){return r(w)}function c(w){for(var v=[],o=0,d=w.length;o<d;++o)a(w[o],v);return v.length<2&&v.push(v[0]),v}function u(w){for(var v=c(w);v.length<4;)v.push(v[0]);return v}function b(w){return w.map(u)}function f(w){var v=w.type,o;switch(v){case"GeometryCollection":return{type:v,geometries:w.geometries.map(f)};case"Point":o=s(w.coordinates);break;case"MultiPoint":o=w.coordinates.map(s);break;case"LineString":o=c(w.arcs);break;case"MultiLineString":o=w.arcs.map(c);break;case"Polygon":o=b(w.arcs);break;case"MultiPolygon":o=w.arcs.map(b);break;default:return null}return{type:v,coordinates:o}}return f(t)}},73116:function(V,B,e){var p=e(24511);V.exports=function(L){if(typeof L!="function"||!hasOwnProperty.call(L,"length"))return!1;try{if(typeof L.length!="number"||typeof L.call!="function"||typeof L.apply!="function")return!1}catch{return!1}return!p(L)}},69190:function(V,B,e){var p=e(24582),L=e(47403),n=e(9234),C=e(6048),y=function(h,g){return h.replace("%v",C(g))};V.exports=function(h,g,t){if(!L(t))throw new TypeError(y(g,h));if(!p(h)){if("default"in t)return t.default;if(t.isOptional)return null}var r=n(t.errorMessage);throw p(r)||(r=g),new TypeError(y(r,h))}},18497:function(V){V.exports=function(B){try{return B.toString()}catch{try{return String(B)}catch{return null}}}},6048:function(V,B,e){var p=e(18497),L=/[\n\r\u2028\u2029]/g;V.exports=function(n){var C=p(n);return C===null?"<Non-coercible to string value>":(C.length>100&&(C=C.slice(0,99)+""),C=C.replace(L,function(y){switch(y){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}),C)}},47403:function(V,B,e){var p=e(24582),L={object:!0,function:!0,undefined:!0};V.exports=function(n){return p(n)?hasOwnProperty.call(L,typeof n):!1}},82527:function(V,B,e){var p=e(69190),L=e(84985);V.exports=function(n){return L(n)?n:p(n,"%v is not a plain function",arguments[1])}},84985:function(V,B,e){var p=e(73116),L=/^\s*class[\s{/}]/,n=Function.prototype.toString;V.exports=function(C){return!(!p(C)||L.test(n.call(C)))}},24511:function(V,B,e){var p=e(47403);V.exports=function(L){if(!p(L))return!1;try{return L.constructor?L.constructor.prototype===L:!1}catch{return!1}}},9234:function(V,B,e){var p=e(24582),L=e(47403),n=Object.prototype.toString;V.exports=function(C){if(!p(C))return null;if(L(C)){var y=C.toString;if(typeof y!="function"||y===n)return null}try{return""+C}catch{return null}}},10424:function(V,B,e){var p=e(69190),L=e(24582);V.exports=function(n){return L(n)?n:p(n,"Cannot use %v",arguments[1])}},24582:function(V){var B=void 0;V.exports=function(e){return e!==B&&e!==null}},58404:function(V,B,e){var p=e(13547),L=e(12129),n=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:L([32,0]),UINT16:L([32,0]),UINT32:L([32,0]),BIGUINT64:L([32,0]),INT8:L([32,0]),INT16:L([32,0]),INT32:L([32,0]),BIGINT64:L([32,0]),FLOAT:L([32,0]),DOUBLE:L([32,0]),DATA:L([32,0]),UINT8C:L([32,0]),BUFFER:L([32,0])});var C=typeof Uint8ClampedArray<"u",y=typeof BigUint64Array<"u",h=typeof BigInt64Array<"u",g=e.g.__TYPEDARRAY_POOL;g.UINT8C||(g.UINT8C=L([32,0])),g.BIGUINT64||(g.BIGUINT64=L([32,0])),g.BIGINT64||(g.BIGINT64=L([32,0])),g.BUFFER||(g.BUFFER=L([32,0]));var t=g.DATA,r=g.BUFFER;B.free=function(i){if(n.isBuffer(i))r[p.log2(i.length)].push(i);else{if(Object.prototype.toString.call(i)!=="[object ArrayBuffer]"&&(i=i.buffer),!i)return;var R=i.length||i.byteLength,A=p.log2(R)|0;t[A].push(i)}};function l(T){if(T){var i=T.length||T.byteLength,R=p.log2(i);t[R].push(T)}}function a(T){l(T.buffer)}B.freeUint8=B.freeUint16=B.freeUint32=B.freeBigUint64=B.freeInt8=B.freeInt16=B.freeInt32=B.freeBigInt64=B.freeFloat32=B.freeFloat=B.freeFloat64=B.freeDouble=B.freeUint8Clamped=B.freeDataView=a,B.freeArrayBuffer=l,B.freeBuffer=function(i){r[p.log2(i.length)].push(i)},B.malloc=function(i,R){if(R===void 0||R==="arraybuffer")return s(i);switch(R){case"uint8":return c(i);case"uint16":return u(i);case"uint32":return b(i);case"int8":return f(i);case"int16":return w(i);case"int32":return v(i);case"float":case"float32":return o(i);case"double":case"float64":return d(i);case"uint8_clamped":return S(i);case"bigint64":return P(i);case"biguint64":return M(i);case"buffer":return E(i);case"data":case"dataview":return x(i);default:return null}return null};function s(i){var i=p.nextPow2(i),R=p.log2(i),A=t[R];return A.length>0?A.pop():new ArrayBuffer(i)}B.mallocArrayBuffer=s;function c(T){return new Uint8Array(s(T),0,T)}B.mallocUint8=c;function u(T){return new Uint16Array(s(2*T),0,T)}B.mallocUint16=u;function b(T){return new Uint32Array(s(4*T),0,T)}B.mallocUint32=b;function f(T){return new Int8Array(s(T),0,T)}B.mallocInt8=f;function w(T){return new Int16Array(s(2*T),0,T)}B.mallocInt16=w;function v(T){return new Int32Array(s(4*T),0,T)}B.mallocInt32=v;function o(T){return new Float32Array(s(4*T),0,T)}B.mallocFloat32=B.mallocFloat=o;function d(T){return new Float64Array(s(8*T),0,T)}B.mallocFloat64=B.mallocDouble=d;function S(T){return C?new Uint8ClampedArray(s(T),0,T):c(T)}B.mallocUint8Clamped=S;function M(T){return y?new BigUint64Array(s(8*T),0,T):null}B.mallocBigUint64=M;function P(T){return h?new BigInt64Array(s(8*T),0,T):null}B.mallocBigInt64=P;function x(T){return new DataView(s(T),0,T)}B.mallocDataView=x;function E(T){T=p.nextPow2(T);var i=p.log2(T),R=r[i];return R.length>0?R.pop():new n(T)}B.mallocBuffer=E,B.clearCache=function(){for(var i=0;i<32;++i)g.UINT8[i].length=0,g.UINT16[i].length=0,g.UINT32[i].length=0,g.INT8[i].length=0,g.INT16[i].length=0,g.INT32[i].length=0,g.FLOAT[i].length=0,g.DOUBLE[i].length=0,g.BIGUINT64[i].length=0,g.BIGINT64[i].length=0,g.UINT8C[i].length=0,t[i].length=0,r[i].length=0}},90448:function(V){var B=/[\'\"]/;V.exports=function(p){return p?(B.test(p.charAt(0))&&(p=p.substr(1)),B.test(p.charAt(p.length-1))&&(p=p.substr(0,p.length-1)),p):""}},93447:function(V){V.exports=function(e,p,L){Array.isArray(L)||(L=[].slice.call(arguments,2));for(var n=0,C=L.length;n<C;n++){var y=L[n];for(var h in y)if(!(p[h]!==void 0&&!Array.isArray(p[h])&&e[h]===p[h])&&h in p){var g;if(y[h]===!0)g=p[h];else{if(y[h]===!1)continue;if(typeof y[h]=="function"&&(g=y[h](p[h],e,p),g===void 0))continue}e[h]=g}}return e}},20588:function(V,B,e){V.exports=p;function p(n,C){if(L("noDeprecation"))return n;var y=!1;function h(){if(!y){if(L("throwDeprecation"))throw new Error(C);L("traceDeprecation")?console.trace(C):console.warn(C),y=!0}return n.apply(this,arguments)}return h}function L(n){try{if(!e.g.localStorage)return!1}catch{return!1}var C=e.g.localStorage[n];return C==null?!1:String(C).toLowerCase()==="true"}},45920:function(V){V.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}},4936:function(V,B,e){var p=e(47216),L=e(65481),n=e(21099),C=e(9187);function y(Ae){return Ae.call.bind(Ae)}var h=typeof BigInt<"u",g=typeof Symbol<"u",t=y(Object.prototype.toString),r=y(Number.prototype.valueOf),l=y(String.prototype.valueOf),a=y(Boolean.prototype.valueOf);if(h)var s=y(BigInt.prototype.valueOf);if(g)var c=y(Symbol.prototype.valueOf);function u(Ae,Se){if(typeof Ae!="object")return!1;try{return Se(Ae),!0}catch{return!1}}B.isArgumentsObject=p,B.isGeneratorFunction=L,B.isTypedArray=C;function b(Ae){return typeof Promise<"u"&&Ae instanceof Promise||Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"&&typeof Ae.catch=="function"}B.isPromise=b;function f(Ae){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ae):C(Ae)||q(Ae)}B.isArrayBufferView=f;function w(Ae){return n(Ae)==="Uint8Array"}B.isUint8Array=w;function v(Ae){return n(Ae)==="Uint8ClampedArray"}B.isUint8ClampedArray=v;function o(Ae){return n(Ae)==="Uint16Array"}B.isUint16Array=o;function d(Ae){return n(Ae)==="Uint32Array"}B.isUint32Array=d;function S(Ae){return n(Ae)==="Int8Array"}B.isInt8Array=S;function M(Ae){return n(Ae)==="Int16Array"}B.isInt16Array=M;function P(Ae){return n(Ae)==="Int32Array"}B.isInt32Array=P;function x(Ae){return n(Ae)==="Float32Array"}B.isFloat32Array=x;function E(Ae){return n(Ae)==="Float64Array"}B.isFloat64Array=E;function T(Ae){return n(Ae)==="BigInt64Array"}B.isBigInt64Array=T;function i(Ae){return n(Ae)==="BigUint64Array"}B.isBigUint64Array=i;function R(Ae){return t(Ae)==="[object Map]"}R.working=typeof Map<"u"&&R(new Map);function A(Ae){return typeof Map>"u"?!1:R.working?R(Ae):Ae instanceof Map}B.isMap=A;function k(Ae){return t(Ae)==="[object Set]"}k.working=typeof Set<"u"&&k(new Set);function _(Ae){return typeof Set>"u"?!1:k.working?k(Ae):Ae instanceof Set}B.isSet=_;function H(Ae){return t(Ae)==="[object WeakMap]"}H.working=typeof WeakMap<"u"&&H(new WeakMap);function z(Ae){return typeof WeakMap>"u"?!1:H.working?H(Ae):Ae instanceof WeakMap}B.isWeakMap=z;function N(Ae){return t(Ae)==="[object WeakSet]"}N.working=typeof WeakSet<"u"&&N(new WeakSet);function O(Ae){return N(Ae)}B.isWeakSet=O;function F(Ae){return t(Ae)==="[object ArrayBuffer]"}F.working=typeof ArrayBuffer<"u"&&F(new ArrayBuffer);function U(Ae){return typeof ArrayBuffer>"u"?!1:F.working?F(Ae):Ae instanceof ArrayBuffer}B.isArrayBuffer=U;function Z(Ae){return t(Ae)==="[object DataView]"}Z.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Z(new DataView(new ArrayBuffer(1),0,1));function q(Ae){return typeof DataView>"u"?!1:Z.working?Z(Ae):Ae instanceof DataView}B.isDataView=q;var J=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function te(Ae){return t(Ae)==="[object SharedArrayBuffer]"}function fe(Ae){return typeof J>"u"?!1:(typeof te.working>"u"&&(te.working=te(new J)),te.working?te(Ae):Ae instanceof J)}B.isSharedArrayBuffer=fe;function K(Ae){return t(Ae)==="[object AsyncFunction]"}B.isAsyncFunction=K;function Y(Ae){return t(Ae)==="[object Map Iterator]"}B.isMapIterator=Y;function W(Ae){return t(Ae)==="[object Set Iterator]"}B.isSetIterator=W;function X(Ae){return t(Ae)==="[object Generator]"}B.isGeneratorObject=X;function re(Ae){return t(Ae)==="[object WebAssembly.Module]"}B.isWebAssemblyCompiledModule=re;function se(Ae){return u(Ae,r)}B.isNumberObject=se;function Q(Ae){return u(Ae,l)}B.isStringObject=Q;function ee(Ae){return u(Ae,a)}B.isBooleanObject=ee;function le(Ae){return h&&u(Ae,s)}B.isBigIntObject=le;function oe(Ae){return g&&u(Ae,c)}B.isSymbolObject=oe;function he(Ae){return se(Ae)||Q(Ae)||ee(Ae)||le(Ae)||oe(Ae)}B.isBoxedPrimitive=he;function xe(Ae){return typeof Uint8Array<"u"&&(U(Ae)||fe(Ae))}B.isAnyArrayBuffer=xe,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ae){Object.defineProperty(B,Ae,{enumerable:!1,value:function(){throw new Error(Ae+" is not supported in userland")}})})},43827:function(V,B,e){var p=e(90386),L=Object.getOwnPropertyDescriptors||function(J){for(var te=Object.keys(J),fe={},K=0;K<te.length;K++)fe[te[K]]=Object.getOwnPropertyDescriptor(J,te[K]);return fe},n=/%[sdj%]/g;B.format=function(q){if(!M(q)){for(var J=[],te=0;te<arguments.length;te++)J.push(g(arguments[te]));return J.join(" ")}for(var te=1,fe=arguments,K=fe.length,Y=String(q).replace(n,function(X){if(X==="%%")return"%";if(te>=K)return X;switch(X){case"%s":return String(fe[te++]);case"%d":return Number(fe[te++]);case"%j":try{return JSON.stringify(fe[te++])}catch{return"[Circular]"}default:return X}}),W=fe[te];te<K;W=fe[++te])o(W)||!T(W)?Y+=" "+W:Y+=" "+g(W);return Y},B.deprecate=function(q,J){if(typeof p<"u"&&p.noDeprecation===!0)return q;if(typeof p>"u")return function(){return B.deprecate(q,J).apply(this,arguments)};var te=!1;function fe(){if(!te){if(p.throwDeprecation)throw new Error(J);p.traceDeprecation?console.trace(J):console.error(J),te=!0}return q.apply(this,arguments)}return fe};var C={},y=/^$/;if({}.NODE_DEBUG){var h={}.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),y=new RegExp("^"+h+"$","i")}B.debuglog=function(q){if(q=q.toUpperCase(),!C[q])if(y.test(q)){var J=p.pid;C[q]=function(){var te=B.format.apply(B,arguments);console.error("%s %d: %s",q,J,te)}}else C[q]=function(){};return C[q]};function g(q,J){var te={seen:[],stylize:r};return arguments.length>=3&&(te.depth=arguments[2]),arguments.length>=4&&(te.colors=arguments[3]),v(J)?te.showHidden=J:J&&B._extend(te,J),x(te.showHidden)&&(te.showHidden=!1),x(te.depth)&&(te.depth=2),x(te.colors)&&(te.colors=!1),x(te.customInspect)&&(te.customInspect=!0),te.colors&&(te.stylize=t),a(te,q,te.depth)}B.inspect=g,g.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},g.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t(q,J){var te=g.styles[J];return te?"\x1B["+g.colors[te][0]+"m"+q+"\x1B["+g.colors[te][1]+"m":q}function r(q,J){return q}function l(q){var J={};return q.forEach(function(te,fe){J[te]=!0}),J}function a(q,J,te){if(q.customInspect&&J&&A(J.inspect)&&J.inspect!==B.inspect&&!(J.constructor&&J.constructor.prototype===J)){var fe=J.inspect(te,q);return M(fe)||(fe=a(q,fe,te)),fe}var K=s(q,J);if(K)return K;var Y=Object.keys(J),W=l(Y);if(q.showHidden&&(Y=Object.getOwnPropertyNames(J)),R(J)&&(Y.indexOf("message")>=0||Y.indexOf("description")>=0))return c(J);if(Y.length===0){if(A(J)){var X=J.name?": "+J.name:"";return q.stylize("[Function"+X+"]","special")}if(E(J))return q.stylize(RegExp.prototype.toString.call(J),"regexp");if(i(J))return q.stylize(Date.prototype.toString.call(J),"date");if(R(J))return c(J)}var re="",se=!1,Q=["{","}"];if(w(J)&&(se=!0,Q=["[","]"]),A(J)){var ee=J.name?": "+J.name:"";re=" [Function"+ee+"]"}if(E(J)&&(re=" "+RegExp.prototype.toString.call(J)),i(J)&&(re=" "+Date.prototype.toUTCString.call(J)),R(J)&&(re=" "+c(J)),Y.length===0&&(!se||J.length==0))return Q[0]+re+Q[1];if(te<0)return E(J)?q.stylize(RegExp.prototype.toString.call(J),"regexp"):q.stylize("[Object]","special");q.seen.push(J);var le;return se?le=u(q,J,te,W,Y):le=Y.map(function(oe){return b(q,J,te,W,oe,se)}),q.seen.pop(),f(le,re,Q)}function s(q,J){if(x(J))return q.stylize("undefined","undefined");if(M(J)){var te="'"+JSON.stringify(J).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(te,"string")}if(S(J))return q.stylize(""+J,"number");if(v(J))return q.stylize(""+J,"boolean");if(o(J))return q.stylize("null","null")}function c(q){return"["+Error.prototype.toString.call(q)+"]"}function u(q,J,te,fe,K){for(var Y=[],W=0,X=J.length;W<X;++W)O(J,String(W))?Y.push(b(q,J,te,fe,String(W),!0)):Y.push("");return K.forEach(function(re){re.match(/^\d+$/)||Y.push(b(q,J,te,fe,re,!0))}),Y}function b(q,J,te,fe,K,Y){var W,X,re;if(re=Object.getOwnPropertyDescriptor(J,K)||{value:J[K]},re.get?re.set?X=q.stylize("[Getter/Setter]","special"):X=q.stylize("[Getter]","special"):re.set&&(X=q.stylize("[Setter]","special")),O(fe,K)||(W="["+K+"]"),X||(q.seen.indexOf(re.value)<0?(o(te)?X=a(q,re.value,null):X=a(q,re.value,te-1),X.indexOf(`
`)>-1&&(Y?X=X.split(`
`).map(function(se){return"  "+se}).join(`
`).slice(2):X=`
`+X.split(`
`).map(function(se){return"   "+se}).join(`
`))):X=q.stylize("[Circular]","special")),x(W)){if(Y&&K.match(/^\d+$/))return X;W=JSON.stringify(""+K),W.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(W=W.slice(1,-1),W=q.stylize(W,"name")):(W=W.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),W=q.stylize(W,"string"))}return W+": "+X}function f(q,J,te){var fe=q.reduce(function(K,Y){return Y.indexOf(`
`)>=0,K+Y.replace(/\u001b\[\d\d?m/g,"").length+1},0);return fe>60?te[0]+(J===""?"":J+`
 `)+" "+q.join(`,
  `)+" "+te[1]:te[0]+J+" "+q.join(", ")+" "+te[1]}B.types=e(4936);function w(q){return Array.isArray(q)}B.isArray=w;function v(q){return typeof q=="boolean"}B.isBoolean=v;function o(q){return q===null}B.isNull=o;function d(q){return q==null}B.isNullOrUndefined=d;function S(q){return typeof q=="number"}B.isNumber=S;function M(q){return typeof q=="string"}B.isString=M;function P(q){return typeof q=="symbol"}B.isSymbol=P;function x(q){return q===void 0}B.isUndefined=x;function E(q){return T(q)&&_(q)==="[object RegExp]"}B.isRegExp=E,B.types.isRegExp=E;function T(q){return typeof q=="object"&&q!==null}B.isObject=T;function i(q){return T(q)&&_(q)==="[object Date]"}B.isDate=i,B.types.isDate=i;function R(q){return T(q)&&(_(q)==="[object Error]"||q instanceof Error)}B.isError=R,B.types.isNativeError=R;function A(q){return typeof q=="function"}B.isFunction=A;function k(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||typeof q=="symbol"||typeof q>"u"}B.isPrimitive=k,B.isBuffer=e(45920);function _(q){return Object.prototype.toString.call(q)}function H(q){return q<10?"0"+q.toString(10):q.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var q=new Date,J=[H(q.getHours()),H(q.getMinutes()),H(q.getSeconds())].join(":");return[q.getDate(),z[q.getMonth()],J].join(" ")}B.log=function(){console.log("%s - %s",N(),B.format.apply(B,arguments))},B.inherits=e(42018),B._extend=function(q,J){if(!J||!T(J))return q;for(var te=Object.keys(J),fe=te.length;fe--;)q[te[fe]]=J[te[fe]];return q};function O(q,J){return Object.prototype.hasOwnProperty.call(q,J)}var F=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;B.promisify=function(J){if(typeof J!="function")throw new TypeError('The "original" argument must be of type Function');if(F&&J[F]){var te=J[F];if(typeof te!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(te,F,{value:te,enumerable:!1,writable:!1,configurable:!0}),te}function te(){for(var fe,K,Y=new Promise(function(re,se){fe=re,K=se}),W=[],X=0;X<arguments.length;X++)W.push(arguments[X]);W.push(function(re,se){re?K(re):fe(se)});try{J.apply(this,W)}catch(re){K(re)}return Y}return Object.setPrototypeOf(te,Object.getPrototypeOf(J)),F&&Object.defineProperty(te,F,{value:te,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(te,L(J))},B.promisify.custom=F;function U(q,J){if(!q){var te=new Error("Promise was rejected with a falsy value");te.reason=q,q=te}return J(q)}function Z(q){if(typeof q!="function")throw new TypeError('The "original" argument must be of type Function');function J(){for(var te=[],fe=0;fe<arguments.length;fe++)te.push(arguments[fe]);var K=te.pop();if(typeof K!="function")throw new TypeError("The last argument must be of type Function");var Y=this,W=function(){return K.apply(Y,arguments)};q.apply(this,te).then(function(X){p.nextTick(W.bind(null,null,X))},function(X){p.nextTick(U.bind(null,X,W))})}return Object.setPrototypeOf(J,Object.getPrototypeOf(q)),Object.defineProperties(J,L(q)),J}B.callbackify=Z},40372:function(V,B,e){var p=e(86249);V.exports=function(n){return p("webgl",n)}},21099:function(V,B,e){var p=e(31353),L=e(72077),n=e(6614),C=e(40383),y=n("Object.prototype.toString"),h=e(84543)(),g=typeof globalThis>"u"?e.g:globalThis,t=L(),r=n("String.prototype.slice"),l={},a=Object.getPrototypeOf;h&&C&&a&&p(t,function(u){if(typeof g[u]=="function"){var b=new g[u];if(Symbol.toStringTag in b){var f=a(b),w=C(f,Symbol.toStringTag);if(!w){var v=a(f);w=C(v,Symbol.toStringTag)}l[u]=w.get}}});var s=function(b){var f=!1;return p(l,function(w,v){if(!f)try{var o=w.call(b);o===v&&(f=o)}catch{}}),f},c=e(9187);V.exports=function(b){return c(b)?!h||!(Symbol.toStringTag in b)?r(y(b),8,-1):s(b):!1}},3961:function(V,B,e){var p=e(63489),L=e(56131),n=p.instance();function C(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(c,u){if(typeof c=="string"){var b=c.match(h);return b?b[0]:""}var f=this._validateYear(c),w=c.month(),v=""+this.toChineseMonth(f,w);return u&&v.length<2&&(v="0"+v),this.isIntercalaryMonth(f,w)&&(v+="i"),v},monthNames:function(c){if(typeof c=="string"){var u=c.match(g);return u?u[0]:""}var b=this._validateYear(c),f=c.month(),w=this.toChineseMonth(b,f),v=["","","","","","","","","","","",""][w-1];return this.isIntercalaryMonth(b,f)&&(v=""+v),v},monthNamesShort:function(c){if(typeof c=="string"){var u=c.match(t);return u?u[0]:""}var b=this._validateYear(c),f=c.month(),w=this.toChineseMonth(b,f),v=["","","","","","","","","","","",""][w-1];return this.isIntercalaryMonth(b,f)&&(v=""+v),v},parseMonth:function(c,u){c=this._validateYear(c);var b=parseInt(u),f;if(isNaN(b))u[0]===""&&(f=!0,u=u.substring(1)),u[u.length-1]===""&&(u=u.substring(0,u.length-1)),b=1+["","","","","","","","","","","",""].indexOf(u);else{var w=u[u.length-1];f=w==="i"||w==="I"}var v=this.toMonthIndex(c,b,f);return v},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(c,u){if(c.year&&(c=c.year()),typeof c!="number"||c<1888||c>2111)throw u.replace(/\{0\}/,this.local.name);return c},toMonthIndex:function(c,u,b){var f=this.intercalaryMonth(c),w=b&&u!==f;if(w||u<1||u>12)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var v;return f?!b&&u<=f?v=u-1:v=u:v=u-1,v},toChineseMonth:function(c,u){c.year&&(c=c.year(),u=c.month());var b=this.intercalaryMonth(c),f=b?12:11;if(u<0||u>f)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var w;return b?u<b?w=u+1:w=u:w=u+1,w},intercalaryMonth:function(c){c=this._validateYear(c);var u=r[c-r[0]],b=u>>13;return b},isIntercalaryMonth:function(c,u){c.year&&(c=c.year(),u=c.month());var b=this.intercalaryMonth(c);return!!b&&b===u},leapYear:function(c){return this.intercalaryMonth(c)!==0},weekOfYear:function(c,u,b){var f=this._validateYear(c,p.local.invalidyear),w=l[f-l[0]],v=w>>9&4095,o=w>>5&15,d=w&31,S;S=n.newDate(v,o,d),S.add(4-(S.dayOfWeek()||7),"d");var M=this.toJD(c,u,b)-S.toJD();return 1+Math.floor(M/7)},monthsInYear:function(c){return this.leapYear(c)?13:12},daysInMonth:function(c,u){c.year&&(u=c.month(),c=c.year()),c=this._validateYear(c);var b=r[c-r[0]],f=b>>13,w=f?12:11;if(u>w)throw p.local.invalidMonth.replace(/\{0\}/,this.local.name);var v=b&1<<12-u?30:29;return v},weekDay:function(c,u,b){return(this.dayOfWeek(c,u,b)||7)<6},toJD:function(c,u,b){var f=this._validate(c,v,b,p.local.invalidDate);c=this._validateYear(f.year()),u=f.month(),b=f.day();var w=this.isIntercalaryMonth(c,u),v=this.toChineseMonth(c,u),o=s(c,v,b,w);return n.toJD(o.year,o.month,o.day)},fromJD:function(c){var u=n.fromJD(c),b=a(u.year(),u.month(),u.day()),f=this.toMonthIndex(b.year,b.month,b.isIntercalary);return this.newDate(b.year,f,b.day)},fromString:function(c){var u=c.match(y),b=this._validateYear(+u[1]),f=+u[2],w=!!u[3],v=this.toMonthIndex(b,f,w),o=+u[4];return this.newDate(b,v,o)},add:function(c,u,b){var f=c.year(),w=c.month(),v=this.isIntercalaryMonth(f,w),o=this.toChineseMonth(f,w),d=Object.getPrototypeOf(C.prototype).add.call(this,c,u,b);if(b==="y"){var S=d.year(),M=d.month(),P=this.isIntercalaryMonth(S,o),x=v&&P?this.toMonthIndex(S,o,!0):this.toMonthIndex(S,o,!1);x!==M&&d.month(x)}return d}});var y=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,h=/^\d?\d[iI]?/m,g=/^??[]?/m,t=/^??[]?/m;p.calendars.chinese=C;var r=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],l=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function a(c,u,b,f){var w,v;if(typeof c=="object")w=c,v=u||{};else{var o=typeof c=="number"&&c>=1888&&c<=2111;if(!o)throw new Error("Solar year outside range 1888-2111");var d=typeof u=="number"&&u>=1&&u<=12;if(!d)throw new Error("Solar month outside range 1 - 12");var S=typeof b=="number"&&b>=1&&b<=31;if(!S)throw new Error("Solar day outside range 1 - 31");w={year:c,month:u,day:b},v=f||{}}var M=l[w.year-l[0]],P=w.year<<9|w.month<<5|w.day;v.year=P>=M?w.year:w.year-1,M=l[v.year-l[0]];var x=M>>9&4095,E=M>>5&15,T=M&31,i,R=new Date(x,E-1,T),A=new Date(w.year,w.month-1,w.day);i=Math.round((A-R)/864e5);var k=r[v.year-r[0]],_;for(_=0;_<13;_++){var H=k&1<<12-_?30:29;if(i<H)break;i-=H}var z=k>>13;return!z||_<z?(v.isIntercalary=!1,v.month=1+_):_===z?(v.isIntercalary=!0,v.month=_):(v.isIntercalary=!1,v.month=_),v.day=1+i,v}function s(c,u,b,f,w){var v,o;if(typeof c=="object")o=c,v=u||{};else{var d=typeof c=="number"&&c>=1888&&c<=2111;if(!d)throw new Error("Lunar year outside range 1888-2111");var S=typeof u=="number"&&u>=1&&u<=12;if(!S)throw new Error("Lunar month outside range 1 - 12");var M=typeof b=="number"&&b>=1&&b<=30;if(!M)throw new Error("Lunar day outside range 1 - 30");var P;typeof f=="object"?(P=!1,v=f):(P=!!f,v=w||{}),o={year:c,month:u,day:b,isIntercalary:P}}var x;x=o.day-1;var E=r[o.year-r[0]],T=E>>13,i;T&&(o.month>T||o.isIntercalary)?i=o.month:i=o.month-1;for(var R=0;R<i;R++){var A=E&1<<12-R?30:29;x+=A}var k=l[o.year-l[0]],_=k>>9&4095,H=k>>5&15,z=k&31,N=new Date(_,H-1,z+x);return v.year=N.getFullYear(),v.month=1+N.getMonth(),v.day=N.getDate(),v}},38751:function(V,B,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var y=this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),h=y.year()+(y.year()<0?1:0);return h%4===3||h%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,y,h){var g=this.newDate(C,y,h);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,y){var h=this._validate(C,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(C,y,h){return(this.dayOfWeek(C,y,h)||7)<6},toJD:function(C,y,h){var g=this._validate(C,y,h,p.local.invalidDate);return C=g.year(),C<0&&C++,g.day()+(g.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var y=Math.floor(C)+.5-this.jdEpoch,h=Math.floor((y-Math.floor((y+366)/1461))/365)+1;h<=0&&h--,y=Math.floor(C)+.5-this.newDate(h,1,1).toJD();var g=Math.floor(y/30)+1,t=y-(g-1)*30+1;return this.newDate(h,g,t)}}),p.calendars.coptic=n},86825:function(V,B,e){var p=e(63489),L=e(56131);function n(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(y){return this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),!1},monthsInYear:function(y){return this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),13},daysInYear:function(y){return this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),400},weekOfYear:function(y,h,g){var t=this.newDate(y,h,g);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(y,h){var g=this._validate(y,h,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(y,h,g){var t=this._validate(y,h,g,p.local.invalidDate);return(t.day()+1)%8},weekDay:function(y,h,g){var t=this.dayOfWeek(y,h,g);return t>=2&&t<=6},extraInfo:function(y,h,g){var t=this._validate(y,h,g,p.local.invalidDate);return{century:C[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(y,h,g){var t=this._validate(y,h,g,p.local.invalidDate);return y=t.year()+(t.year()<0?1:0),h=t.month(),g=t.day(),g+(h>1?16:0)+(h>2?(h-2)*32:0)+(y-1)*400+this.jdEpoch-1},fromJD:function(y){y=Math.floor(y+.5)-Math.floor(this.jdEpoch)-1;var h=Math.floor(y/400)+1;y-=(h-1)*400,y+=y>15?16:0;var g=Math.floor(y/32)+1,t=y-(g-1)*32+1;return this.newDate(h<=0?h-1:h,g,t)}});var C={20:"Fruitbat",21:"Anchovy"};p.calendars.discworld=n},37715:function(V,B,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var y=this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),h=y.year()+(y.year()<0?1:0);return h%4===3||h%4===-1},monthsInYear:function(C){return this._validate(C,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear),13},weekOfYear:function(C,y,h){var g=this.newDate(C,y,h);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,y){var h=this._validate(C,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===13&&this.leapYear(h.year())?1:0)},weekDay:function(C,y,h){return(this.dayOfWeek(C,y,h)||7)<6},toJD:function(C,y,h){var g=this._validate(C,y,h,p.local.invalidDate);return C=g.year(),C<0&&C++,g.day()+(g.month()-1)*30+(C-1)*365+Math.floor(C/4)+this.jdEpoch-1},fromJD:function(C){var y=Math.floor(C)+.5-this.jdEpoch,h=Math.floor((y-Math.floor((y+366)/1461))/365)+1;h<=0&&h--,y=Math.floor(C)+.5-this.newDate(h,1,1).toJD();var g=Math.floor(y/30)+1,t=y-(g-1)*30+1;return this.newDate(h,g,t)}}),p.calendars.ethiopian=n},99384:function(V,B,e){var p=e(63489),L=e(56131);function n(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var h=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear);return this._leapYear(h.year())},_leapYear:function(y){return y=y<0?y+1:y,C(y*7+1,19)<7},monthsInYear:function(y){return this._validate(y,this.minMonth,this.minDay,p.local.invalidYear),this._leapYear(y.year?y.year():y)?13:12},weekOfYear:function(y,h,g){var t=this.newDate(y,h,g);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(y){var h=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear);return y=h.year(),this.toJD(y===-1?1:y+1,7,1)-this.toJD(y,7,1)},daysInMonth:function(y,h){return y.year&&(h=y.month(),y=y.year()),this._validate(y,h,this.minDay,p.local.invalidMonth),h===12&&this.leapYear(y)||h===8&&C(this.daysInYear(y),10)===5?30:h===9&&C(this.daysInYear(y),10)===3?29:this.daysPerMonth[h-1]},weekDay:function(y,h,g){return this.dayOfWeek(y,h,g)!==6},extraInfo:function(y,h,g){var t=this._validate(y,h,g,p.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(y,h,g){var t=this._validate(y,h,g,p.local.invalidDate);y=t.year(),h=t.month(),g=t.day();var r=y<=0?y+1:y,l=this.jdEpoch+this._delay1(r)+this._delay2(r)+g+1;if(h<7){for(var a=7;a<=this.monthsInYear(y);a++)l+=this.daysInMonth(y,a);for(var a=1;a<h;a++)l+=this.daysInMonth(y,a)}else for(var a=7;a<h;a++)l+=this.daysInMonth(y,a);return l},_delay1:function(y){var h=Math.floor((235*y-234)/19),g=12084+13753*h,t=h*29+Math.floor(g/25920);return C(3*(t+1),7)<3&&t++,t},_delay2:function(y){var h=this._delay1(y-1),g=this._delay1(y),t=this._delay1(y+1);return t-g===356?2:g-h===382?1:0},fromJD:function(y){y=Math.floor(y)+.5;for(var h=Math.floor((y-this.jdEpoch)*98496/35975351)-1;y>=this.toJD(h===-1?1:h+1,7,1);)h++;for(var g=y<this.toJD(h,1,1)?7:1;y>this.toJD(h,g,this.daysInMonth(h,g));)g++;var t=y-this.toJD(h,g,1)+1;return this.newDate(h,g,t)}});function C(y,h){return y-h*Math.floor(y/h)}p.calendars.hebrew=n},43805:function(V,B,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(C){var y=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);return(y.year()*11+14)%30<11},weekOfYear:function(C,y,h){var g=this.newDate(C,y,h);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(C){return this.leapYear(C)?355:354},daysInMonth:function(C,y){var h=this._validate(C,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===12&&this.leapYear(h.year())?1:0)},weekDay:function(C,y,h){return this.dayOfWeek(C,y,h)!==5},toJD:function(C,y,h){var g=this._validate(C,y,h,p.local.invalidDate);return C=g.year(),y=g.month(),h=g.day(),C=C<=0?C+1:C,h+Math.ceil(29.5*(y-1))+(C-1)*354+Math.floor((3+11*C)/30)+this.jdEpoch-1},fromJD:function(C){C=Math.floor(C)+.5;var y=Math.floor((30*(C-this.jdEpoch)+10646)/10631);y=y<=0?y-1:y;var h=Math.min(12,Math.ceil((C-29-this.toJD(y,1,1))/29.5)+1),g=C-this.toJD(y,h,1)+1;return this.newDate(y,h,g)}}),p.calendars.islamic=n},88874:function(V,B,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(h){var y=this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),h=y.year()<0?y.year()+1:y.year();return h%4===0},weekOfYear:function(C,y,h){var g=this.newDate(C,y,h);return g.add(4-(g.dayOfWeek()||7),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInMonth:function(C,y){var h=this._validate(C,y,this.minDay,p.local.invalidMonth);return this.daysPerMonth[h.month()-1]+(h.month()===2&&this.leapYear(h.year())?1:0)},weekDay:function(C,y,h){return(this.dayOfWeek(C,y,h)||7)<6},toJD:function(C,y,h){var g=this._validate(C,y,h,p.local.invalidDate);return C=g.year(),y=g.month(),h=g.day(),C<0&&C++,y<=2&&(C--,y+=12),Math.floor(365.25*(C+4716))+Math.floor(30.6001*(y+1))+h-1524.5},fromJD:function(C){var y=Math.floor(C+.5),h=y+1524,g=Math.floor((h-122.1)/365.25),t=Math.floor(365.25*g),r=Math.floor((h-t)/30.6001),l=r-Math.floor(r<14?1:13),a=g-Math.floor(l>2?4716:4715),s=h-t-Math.floor(30.6001*r);return a<=0&&a--,this.newDate(a,l,s)}}),p.calendars.julian=n},83290:function(V,B,e){var p=e(63489),L=e(56131);function n(h){this.local=this.regionalOptions[h||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(h){return this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),!1},formatYear:function(h){var g=this._validate(h,this.minMonth,this.minDay,p.local.invalidYear);h=g.year();var t=Math.floor(h/400);h=h%400,h+=h<0?400:0;var r=Math.floor(h/20);return t+"."+r+"."+h%20},forYear:function(h){if(h=h.split("."),h.length<3)throw"Invalid Mayan year";for(var g=0,t=0;t<h.length;t++){var r=parseInt(h[t],10);if(Math.abs(r)>19||t>0&&r<0)throw"Invalid Mayan year";g=g*20+r}return g},monthsInYear:function(h){return this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),18},weekOfYear:function(h,g,t){return this._validate(h,g,t,p.local.invalidDate),0},daysInYear:function(h){return this._validate(h,this.minMonth,this.minDay,p.local.invalidYear),360},daysInMonth:function(h,g){return this._validate(h,g,this.minDay,p.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(h,g,t){var r=this._validate(h,g,t,p.local.invalidDate);return r.day()},weekDay:function(h,g,t){return this._validate(h,g,t,p.local.invalidDate),!0},extraInfo:function(h,g,t){var r=this._validate(h,g,t,p.local.invalidDate),l=r.toJD(),a=this._toHaab(l),s=this._toTzolkin(l);return{haabMonthName:this.local.haabMonths[a[0]-1],haabMonth:a[0],haabDay:a[1],tzolkinDayName:this.local.tzolkinMonths[s[0]-1],tzolkinDay:s[0],tzolkinTrecena:s[1]}},_toHaab:function(h){h-=this.jdEpoch;var g=C(h+8+(18-1)*20,365);return[Math.floor(g/20)+1,C(g,20)]},_toTzolkin:function(h){return h-=this.jdEpoch,[y(h+20,20),y(h+4,13)]},toJD:function(h,g,t){var r=this._validate(h,g,t,p.local.invalidDate);return r.day()+r.month()*20+r.year()*360+this.jdEpoch},fromJD:function(h){h=Math.floor(h)+.5-this.jdEpoch;var g=Math.floor(h/360);h=h%360,h+=h<0?360:0;var t=Math.floor(h/20),r=h%20;return this.newDate(g,t,r)}});function C(h,g){return h-g*Math.floor(h/g)}function y(h,g){return C(h-1,g)+1}p.calendars.mayan=n},29108:function(V,B,e){var p=e(63489),L=e(56131);function n(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar;var C=p.instance("gregorian");L(n.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var h=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear||p.regionalOptions[""].invalidYear);return C.leapYear(h.year()+(h.year()<1?1:0)+1469)},weekOfYear:function(y,h,g){var t=this.newDate(y,h,g);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(y,h){var g=this._validate(y,h,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(y,h,g){return(this.dayOfWeek(y,h,g)||7)<6},toJD:function(r,h,g){var t=this._validate(r,h,g,p.local.invalidMonth),r=t.year();r<0&&r++;for(var l=t.day(),a=1;a<t.month();a++)l+=this.daysPerMonth[a-1];return l+C.toJD(r+1468,3,13)},fromJD:function(y){y=Math.floor(y+.5);for(var h=Math.floor((y-(this.jdEpoch-1))/366);y>=this.toJD(h+1,1,1);)h++;for(var g=y-Math.floor(this.toJD(h,1,1)+.5)+1,t=1;g>this.daysInMonth(h,t);)g-=this.daysInMonth(h,t),t++;return this.newDate(h,t,g)}}),p.calendars.nanakshahi=n},55422:function(V,B,e){var p=e(63489),L=e(56131);function n(C){this.local=this.regionalOptions[C||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(C){return this.daysInYear(C)!==this.daysPerYear},weekOfYear:function(C,y,h){var g=this.newDate(C,y,h);return g.add(-g.dayOfWeek(),"d"),Math.floor((g.dayOfYear()-1)/7)+1},daysInYear:function(C){var y=this._validate(C,this.minMonth,this.minDay,p.local.invalidYear);if(C=y.year(),typeof this.NEPALI_CALENDAR_DATA[C]>"u")return this.daysPerYear;for(var h=0,g=this.minMonth;g<=12;g++)h+=this.NEPALI_CALENDAR_DATA[C][g];return h},daysInMonth:function(C,y){return C.year&&(y=C.month(),C=C.year()),this._validate(C,y,this.minDay,p.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[C]>"u"?this.daysPerMonth[y-1]:this.NEPALI_CALENDAR_DATA[C][y]},weekDay:function(C,y,h){return this.dayOfWeek(C,y,h)!==6},toJD:function(C,y,h){var g=this._validate(C,y,h,p.local.invalidDate);C=g.year(),y=g.month(),h=g.day();var t=p.instance(),r=0,l=y,a=C;this._createMissingCalendarData(C);var s=C-(l>9||l===9&&h>=this.NEPALI_CALENDAR_DATA[a][0]?56:57);for(y!==9&&(r=h,l--);l!==9;)l<=0&&(l=12,a--),r+=this.NEPALI_CALENDAR_DATA[a][l],l--;return y===9?(r+=h-this.NEPALI_CALENDAR_DATA[a][0],r<0&&(r+=t.daysInYear(s))):r+=this.NEPALI_CALENDAR_DATA[a][9]-this.NEPALI_CALENDAR_DATA[a][0],t.newDate(s,1,1).add(r,"d").toJD()},fromJD:function(C){var y=p.instance(),h=y.fromJD(C),g=h.year(),t=h.dayOfYear(),r=g+56;this._createMissingCalendarData(r);for(var l=9,a=this.NEPALI_CALENDAR_DATA[r][0],s=this.NEPALI_CALENDAR_DATA[r][l]-a+1;t>s;)l++,l>12&&(l=1,r++),s+=this.NEPALI_CALENDAR_DATA[r][l];var c=this.NEPALI_CALENDAR_DATA[r][l]-(s-t);return this.newDate(r,l,c)},_createMissingCalendarData:function(C){var y=this.daysPerMonth.slice(0);y.unshift(17);for(var h=C-1;h<C+2;h++)typeof this.NEPALI_CALENDAR_DATA[h]>"u"&&(this.NEPALI_CALENDAR_DATA[h]=y)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),p.calendars.nepali=n},94320:function(V,B,e){var p=e(63489),L=e(56131);function n(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Ch","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(y){var h=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear);return((h.year()-(h.year()>0?474:473))%2820+474+38)*682%2816<682},weekOfYear:function(y,h,g){var t=this.newDate(y,h,g);return t.add(-((t.dayOfWeek()+1)%7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(y,h){var g=this._validate(y,h,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===12&&this.leapYear(g.year())?1:0)},weekDay:function(y,h,g){return this.dayOfWeek(y,h,g)!==5},toJD:function(y,h,g){var t=this._validate(y,h,g,p.local.invalidDate);y=t.year(),h=t.month(),g=t.day();var r=y-(y>=0?474:473),l=474+C(r,2820);return g+(h<=7?(h-1)*31:(h-1)*30+6)+Math.floor((l*682-110)/2816)+(l-1)*365+Math.floor(r/2820)*1029983+this.jdEpoch-1},fromJD:function(y){y=Math.floor(y)+.5;var h=y-this.toJD(475,1,1),g=Math.floor(h/1029983),t=C(h,1029983),r=2820;if(t!==1029982){var l=Math.floor(t/366),a=C(t,366);r=Math.floor((2134*l+2816*a+2815)/1028522)+l+1}var s=r+2820*g+474;s=s<=0?s-1:s;var c=y-this.toJD(s,1,1)+1,u=c<=186?Math.ceil(c/31):Math.ceil((c-6)/30),b=y-this.toJD(s,u,1)+1;return this.newDate(s,u,b)}});function C(y,h){return y-h*Math.floor(y/h)}p.calendars.persian=n,p.calendars.jalali=n},31320:function(V,B,e){var p=e(63489),L=e(56131),n=p.instance();function C(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(g){var h=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear),g=this._t2gYear(h.year());return n.leapYear(g)},weekOfYear:function(r,h,g){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear),r=this._t2gYear(t.year());return n.weekOfYear(r,t.month(),t.day())},daysInMonth:function(y,h){var g=this._validate(y,h,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(y,h,g){return(this.dayOfWeek(y,h,g)||7)<6},toJD:function(r,h,g){var t=this._validate(r,h,g,p.local.invalidDate),r=this._t2gYear(t.year());return n.toJD(r,t.month(),t.day())},fromJD:function(y){var h=n.fromJD(y),g=this._g2tYear(h.year());return this.newDate(g,h.month(),h.day())},_t2gYear:function(y){return y+this.yearsOffset+(y>=-this.yearsOffset&&y<=-1?1:0)},_g2tYear:function(y){return y-this.yearsOffset-(y>=1&&y<=this.yearsOffset?1:0)}}),p.calendars.taiwan=C},51367:function(V,B,e){var p=e(63489),L=e(56131),n=p.instance();function C(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}C.prototype=new p.baseCalendar,L(C.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(g){var h=this._validate(g,this.minMonth,this.minDay,p.local.invalidYear),g=this._t2gYear(h.year());return n.leapYear(g)},weekOfYear:function(r,h,g){var t=this._validate(r,this.minMonth,this.minDay,p.local.invalidYear),r=this._t2gYear(t.year());return n.weekOfYear(r,t.month(),t.day())},daysInMonth:function(y,h){var g=this._validate(y,h,this.minDay,p.local.invalidMonth);return this.daysPerMonth[g.month()-1]+(g.month()===2&&this.leapYear(g.year())?1:0)},weekDay:function(y,h,g){return(this.dayOfWeek(y,h,g)||7)<6},toJD:function(r,h,g){var t=this._validate(r,h,g,p.local.invalidDate),r=this._t2gYear(t.year());return n.toJD(r,t.month(),t.day())},fromJD:function(y){var h=n.fromJD(y),g=this._g2tYear(h.year());return this.newDate(g,h.month(),h.day())},_t2gYear:function(y){return y-this.yearsOffset-(y>=1&&y<=this.yearsOffset?1:0)},_g2tYear:function(y){return y+this.yearsOffset+(y>=-this.yearsOffset&&y<=-1?1:0)}}),p.calendars.thai=C},21457:function(V,B,e){var p=e(63489),L=e(56131);function n(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}n.prototype=new p.baseCalendar,L(n.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(y){var h=this._validate(y,this.minMonth,this.minDay,p.local.invalidYear);return this.daysInYear(h.year())===355},weekOfYear:function(y,h,g){var t=this.newDate(y,h,g);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(y){for(var h=0,g=1;g<=12;g++)h+=this.daysInMonth(y,g);return h},daysInMonth:function(y,h){for(var g=this._validate(y,h,this.minDay,p.local.invalidMonth),t=g.toJD()-24e5+.5,r=0,l=0;l<C.length;l++){if(C[l]>t)return C[r]-C[r-1];r++}return 30},weekDay:function(y,h,g){return this.dayOfWeek(y,h,g)!==5},toJD:function(y,h,g){var t=this._validate(y,h,g,p.local.invalidDate),r=12*(t.year()-1)+t.month()-15292,l=t.day()+C[r-1]-1;return l+24e5-.5},fromJD:function(y){for(var h=y-24e5+.5,g=0,t=0;t<C.length&&!(C[t]>h);t++)g++;var r=g+15292,l=Math.floor((r-1)/12),a=l+1,s=r-12*l,c=h-C[g-1]+1;return this.newDate(a,s,c)},isValid:function(y,h,g){var t=p.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(y=y.year!=null?y.year:y,t=y>=1276&&y<=1500),t},_validate:function(y,h,g,t){var r=p.baseCalendar.prototype._validate.apply(this,arguments);if(r.year<1276||r.year>1500)throw t.replace(/\{0\}/,this.local.name);return r}}),p.calendars.ummalqura=n;var C=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(V,B,e){var p=e(56131);function L(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}p(L.prototype,{instance:function(t,r){t=(t||"gregorian").toLowerCase(),r=r||"";var l=this._localCals[t+"-"+r];if(!l&&this.calendars[t]&&(l=new this.calendars[t](r),this._localCals[t+"-"+r]=l),!l)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return l},newDate:function(t,r,l,a,s){return a=(t!=null&&t.year?t.calendar():typeof a=="string"?this.instance(a,s):a)||this.instance(),a.newDate(t,r,l)},substituteDigits:function(t){return function(r){return(r+"").replace(/[0-9]/g,function(l){return t[l]})}},substituteChineseDigits:function(t,r){return function(l){for(var a="",s=0;l>0;){var c=l%10;a=(c===0?"":t[c]+r[s])+a,s++,l=Math.floor(l/10)}return a.indexOf(t[1]+r[1])===0&&(a=a.substr(1)),a||t[0]}}});function n(t,r,l,a){if(this._calendar=t,this._year=r,this._month=l,this._day=a,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function C(t,r){return t=""+t,"000000".substring(0,r-t.length)+t}p(n.prototype,{newDate:function(t,r,l){return this._calendar.newDate(t??this,r,l)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,r,l){if(!this._calendar.isValid(t,r,l))throw(g.local.invalidDate||g.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=r,this._day=l,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,r){return this._calendar.add(this,t,r)},set:function(t,r){return this._calendar.set(this,t,r)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var r=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return r===0?0:r<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+C(Math.abs(this.year()),4)+"-"+C(this.month(),2)+"-"+C(this.day(),2)}});function y(){this.shortYearCutoff="+10"}p(y.prototype,{_validateLevel:0,newDate:function(t,r,l){return t==null?this.today():(t.year&&(this._validate(t,r,l,g.local.invalidDate||g.regionalOptions[""].invalidDate),l=t.day(),r=t.month(),t=t.year()),new n(this,t,r,l))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return r.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return(r.year()<0?"-":"")+C(Math.abs(r.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),12},monthOfYear:function(t,r){var l=this._validate(t,r,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return(l.month()+this.monthsInYear(l)-this.firstMonth)%this.monthsInYear(l)+this.minMonth},fromMonthOfYear:function(t,r){var l=(r+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,l,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth),l},daysInYear:function(t){var r=this._validate(t,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear);return this.leapYear(r)?366:365},dayOfYear:function(t,r,l){var a=this._validate(t,r,l,g.local.invalidDate||g.regionalOptions[""].invalidDate);return a.toJD()-this.newDate(a.year(),this.fromMonthOfYear(a.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,r,l){var a=this._validate(t,r,l,g.local.invalidDate||g.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(a))+2)%this.daysInWeek()},extraInfo:function(t,r,l){return this._validate(t,r,l,g.local.invalidDate||g.regionalOptions[""].invalidDate),{}},add:function(t,r,l){return this._validate(t,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,r,l),r,l)},_add:function(t,r,l){if(this._validateLevel++,l==="d"||l==="w"){var a=t.toJD()+r*(l==="w"?this.daysInWeek():1),s=t.calendar().fromJD(a);return this._validateLevel--,[s.year(),s.month(),s.day()]}try{var c=t.year()+(l==="y"?r:0),u=t.monthOfYear()+(l==="m"?r:0),s=t.day(),b=function(v){for(;u<v.minMonth;)c--,u+=v.monthsInYear(c);for(var o=v.monthsInYear(c);u>o-1+v.minMonth;)c++,u-=o,o=v.monthsInYear(c)};l==="y"?(t.month()!==this.fromMonthOfYear(c,u)&&(u=this.newDate(c,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(c)),s=Math.min(s,this.daysInMonth(c,this.fromMonthOfYear(c,u)))):l==="m"&&(b(this),s=Math.min(s,this.daysInMonth(c,this.fromMonthOfYear(c,u))));var f=[c,this.fromMonthOfYear(c,u),s];return this._validateLevel--,f}catch(w){throw this._validateLevel--,w}},_correctAdd:function(t,r,l,a){if(!this.hasYearZero&&(a==="y"||a==="m")&&(r[0]===0||t.year()>0!=r[0]>0)){var s={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[a],c=l<0?-1:1;r=this._add(t,l*s[0]+c*s[1],s[2])}return t.date(r[0],r[1],r[2])},set:function(t,r,l){this._validate(t,this.minMonth,this.minDay,g.local.invalidDate||g.regionalOptions[""].invalidDate);var a=l==="y"?r:t.year(),s=l==="m"?r:t.month(),c=l==="d"?r:t.day();return(l==="y"||l==="m")&&(c=Math.min(c,this.daysInMonth(a,s))),t.date(a,s,c)},isValid:function(t,r,l){this._validateLevel++;var a=this.hasYearZero||t!==0;if(a){var s=this.newDate(t,r,this.minDay);a=r>=this.minMonth&&r-this.minMonth<this.monthsInYear(s)&&l>=this.minDay&&l-this.minDay<this.daysInMonth(s)}return this._validateLevel--,a},toJSDate:function(t,r,l){var a=this._validate(t,r,l,g.local.invalidDate||g.regionalOptions[""].invalidDate);return g.instance().fromJD(this.toJD(a)).toJSDate()},fromJSDate:function(t){return this.fromJD(g.instance().fromJSDate(t).toJD())},_validate:function(t,r,l,a){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(g.local.differentCalendars||g.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,r,l))throw a.replace(/\{0\}/,this.local.name);var s=this.newDate(t,r,l);return this._validateLevel--,s}catch(c){throw this._validateLevel--,c}}});function h(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}h.prototype=new y,p(h.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var r=this._validate(l,this.minMonth,this.minDay,g.local.invalidYear||g.regionalOptions[""].invalidYear),l=r.year()+(r.year()<0?1:0);return l%4===0&&(l%100!==0||l%400===0)},weekOfYear:function(t,r,l){var a=this.newDate(t,r,l);return a.add(4-(a.dayOfWeek()||7),"d"),Math.floor((a.dayOfYear()-1)/7)+1},daysInMonth:function(t,r){var l=this._validate(t,r,this.minDay,g.local.invalidMonth||g.regionalOptions[""].invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(t,r,l){return(this.dayOfWeek(t,r,l)||7)<6},toJD:function(t,r,l){var a=this._validate(t,r,l,g.local.invalidDate||g.regionalOptions[""].invalidDate);t=a.year(),r=a.month(),l=a.day(),t<0&&t++,r<3&&(r+=12,t--);var s=Math.floor(t/100),c=2-s+Math.floor(s/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(r+1))+l+c-1524.5},fromJD:function(t){var r=Math.floor(t+.5),l=Math.floor((r-186721625e-2)/36524.25);l=r+1+l-Math.floor(l/4);var a=l+1524,s=Math.floor((a-122.1)/365.25),c=Math.floor(365.25*s),u=Math.floor((a-c)/30.6001),b=a-c-Math.floor(u*30.6001),f=u-(u>13.5?13:1),w=s-(f>2.5?4716:4715);return w<=0&&w--,this.newDate(w,f,b)},toJSDate:function(t,r,l){var a=this._validate(t,r,l,g.local.invalidDate||g.regionalOptions[""].invalidDate),s=new Date(a.year(),a.month()-1,a.day());return s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0),s.setHours(s.getHours()>12?s.getHours()+2:0),s},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var g=V.exports=new L;g.cdate=n,g.baseCalendar=y,g.calendars.gregorian=h},94338:function(V,B,e){var p=e(56131),L=e(63489);p(L.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),L.local=L.regionalOptions[""],p(L.cdate.prototype,{formatDate:function(n,C){return typeof n!="string"&&(C=n,n=""),this._calendar.formatDate(n||"",this,C)}}),p(L.baseCalendar.prototype,{UNIX_EPOCH:L.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:L.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(n,C,y){if(typeof n!="string"&&(y=C,C=n,n=""),!C)return"";if(C.calendar()!==this)throw L.local.invalidFormat||L.regionalOptions[""].invalidFormat;n=n||this.local.dateFormat,y=y||{};var h=y.dayNamesShort||this.local.dayNamesShort,g=y.dayNames||this.local.dayNames,t=y.monthNumbers||this.local.monthNumbers,r=y.monthNamesShort||this.local.monthNamesShort,l=y.monthNames||this.local.monthNames;y.calculateWeek||this.local.calculateWeek;for(var a=function(M,P){for(var x=1;S+x<n.length&&n.charAt(S+x)===M;)x++;return S+=x-1,Math.floor(x/(P||1))>1},s=function(M,P,x,E){var T=""+P;if(a(M,E))for(;T.length<x;)T="0"+T;return T},c=function(M,P,x,E){return a(M)?E[P]:x[P]},u=this,b=function(M){return typeof t=="function"?t.call(u,M,a("m")):v(s("m",M.month(),2))},f=function(M,P){return P?typeof l=="function"?l.call(u,M):l[M.month()-u.minMonth]:typeof r=="function"?r.call(u,M):r[M.month()-u.minMonth]},w=this.local.digits,v=function(M){return y.localNumbers&&w?w(M):M},o="",d=!1,S=0;S<n.length;S++)if(d)n.charAt(S)==="'"&&!a("'")?d=!1:o+=n.charAt(S);else switch(n.charAt(S)){case"d":o+=v(s("d",C.day(),2));break;case"D":o+=c("D",C.dayOfWeek(),h,g);break;case"o":o+=s("o",C.dayOfYear(),3);break;case"w":o+=s("w",C.weekOfYear(),2);break;case"m":o+=b(C);break;case"M":o+=f(C,a("M"));break;case"y":o+=a("y",2)?C.year():(C.year()%100<10?"0":"")+C.year()%100;break;case"Y":a("Y",2),o+=C.formatYear();break;case"J":o+=C.toJD();break;case"@":o+=(C.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":o+=(C.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":a("'")?o+="'":d=!0;break;default:o+=n.charAt(S)}return o},parseDate:function(n,C,y){if(C==null)throw L.local.invalidArguments||L.regionalOptions[""].invalidArguments;if(C=typeof C=="object"?C.toString():C+"",C==="")return null;n=n||this.local.dateFormat,y=y||{};var h=y.shortYearCutoff||this.shortYearCutoff;h=typeof h!="string"?h:this.today().year()%100+parseInt(h,10);for(var g=y.dayNamesShort||this.local.dayNamesShort,t=y.dayNames||this.local.dayNames,r=y.parseMonth||this.local.parseMonth,l=y.monthNumbers||this.local.monthNumbers,a=y.monthNamesShort||this.local.monthNamesShort,s=y.monthNames||this.local.monthNames,c=-1,u=-1,b=-1,f=-1,w=-1,v=!1,o=!1,d=function(_,H){for(var z=1;R+z<n.length&&n.charAt(R+z)===_;)z++;return R+=z-1,Math.floor(z/(H||1))>1},S=function(_,H){var z=d(_,H),N=[2,3,z?4:2,z?4:2,10,11,20]["oyYJ@!".indexOf(_)+1],O=new RegExp("^-?\\d{1,"+N+"}"),F=C.substring(i).match(O);if(!F)throw(L.local.missingNumberAt||L.regionalOptions[""].missingNumberAt).replace(/\{0\}/,i);return i+=F[0].length,parseInt(F[0],10)},M=this,P=function(){if(typeof l=="function"){d("m");var _=l.call(M,C.substring(i));return i+=_.length,_}return S("m")},x=function(_,H,z,N){for(var O=d(_,N)?z:H,F=0;F<O.length;F++)if(C.substr(i,O[F].length).toLowerCase()===O[F].toLowerCase())return i+=O[F].length,F+M.minMonth;throw(L.local.unknownNameAt||L.regionalOptions[""].unknownNameAt).replace(/\{0\}/,i)},E=function(){if(typeof s=="function"){var _=d("M")?s.call(M,C.substring(i)):a.call(M,C.substring(i));return i+=_.length,_}return x("M",a,s)},T=function(){if(C.charAt(i)!==n.charAt(R))throw(L.local.unexpectedLiteralAt||L.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,i);i++},i=0,R=0;R<n.length;R++)if(o)n.charAt(R)==="'"&&!d("'")?o=!1:T();else switch(n.charAt(R)){case"d":f=S("d");break;case"D":x("D",g,t);break;case"o":w=S("o");break;case"w":S("w");break;case"m":b=P();break;case"M":b=E();break;case"y":var A=R;v=!d("y",2),R=A,u=S("y",2);break;case"Y":u=S("Y",2);break;case"J":c=S("J")+.5,C.charAt(i)==="."&&(i++,S("J"));break;case"@":c=S("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":c=S("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":i=C.length;break;case"'":d("'")?T():o=!0;break;default:T()}if(i<C.length)throw L.local.unexpectedText||L.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&v&&(u+=h===-1?1900:this.today().year()-this.today().year()%100-(u<=h?0:100)),typeof b=="string"&&(b=r.call(this,u,b)),w>-1){b=1,f=w;for(var k=this.daysInMonth(u,b);f>k;k=this.daysInMonth(u,b))b++,f-=k}return c>-1?this.fromJD(c):this.newDate(u,b,f)},determineDate:function(n,C,y,h,g){y&&typeof y!="object"&&(g=h,h=y,y=null),typeof h!="string"&&(g=h,h="");var t=this,r=function(l){try{return t.parseDate(h,l,g)}catch{}l=l.toLowerCase();for(var a=(l.match(/^c/)&&y?y.newDate():null)||t.today(),s=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,c=s.exec(l);c;)a.add(parseInt(c[1],10),c[2]||"d"),c=s.exec(l);return a};return C=C?C.newDate():null,n=n==null?C:typeof n=="string"?r(n):typeof n=="number"?isNaN(n)||n===1/0||n===-1/0?C:t.today().add(n,"d"):t.newDate(n),n}})},69862:function(){},40964:function(){},72077:function(V,B,e){var p=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],L=typeof globalThis>"u"?e.g:globalThis;V.exports=function(){for(var C=[],y=0;y<p.length;y++)typeof L[p[y]]=="function"&&(C[C.length]=p[y]);return C}},81684:function(V,B,e){e.d(B,{sX:function(){return Ee},k4:function(){return se}});function p(Te,Le,Ge){Te.prototype=Le.prototype=Ge,Ge.constructor=Te}function L(Te,Le){var Ge=Object.create(Te.prototype);for(var He in Le)Ge[He]=Le[He];return Ge}function n(){}var C=.7,y=1/C,h="\\s*([+-]?\\d+)\\s*",g="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r=/^#([0-9a-f]{3,8})$/,l=new RegExp("^rgb\\(".concat(h,",").concat(h,",").concat(h,"\\)$")),a=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),s=new RegExp("^rgba\\(".concat(h,",").concat(h,",").concat(h,",").concat(g,"\\)$")),c=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(g,"\\)$")),u=new RegExp("^hsl\\(".concat(g,",").concat(t,",").concat(t,"\\)$")),b=new RegExp("^hsla\\(".concat(g,",").concat(t,",").concat(t,",").concat(g,"\\)$")),f={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p(n,S,{copy:function(Le){return Object.assign(new this.constructor,this,Le)},displayable:function(){return this.rgb().displayable()},hex:w,formatHex:w,formatHex8:v,formatHsl:o,formatRgb:d,toString:d});function w(){return this.rgb().formatHex()}function v(){return this.rgb().formatHex8()}function o(){return N(this).formatHsl()}function d(){return this.rgb().formatRgb()}function S(Te){var Le,Ge;return Te=(Te+"").trim().toLowerCase(),(Le=r.exec(Te))?(Ge=Le[1].length,Le=parseInt(Le[1],16),Ge===6?M(Le):Ge===3?new T(Le>>8&15|Le>>4&240,Le>>4&15|Le&240,(Le&15)<<4|Le&15,1):Ge===8?P(Le>>24&255,Le>>16&255,Le>>8&255,(Le&255)/255):Ge===4?P(Le>>12&15|Le>>8&240,Le>>8&15|Le>>4&240,Le>>4&15|Le&240,((Le&15)<<4|Le&15)/255):null):(Le=l.exec(Te))?new T(Le[1],Le[2],Le[3],1):(Le=a.exec(Te))?new T(Le[1]*255/100,Le[2]*255/100,Le[3]*255/100,1):(Le=s.exec(Te))?P(Le[1],Le[2],Le[3],Le[4]):(Le=c.exec(Te))?P(Le[1]*255/100,Le[2]*255/100,Le[3]*255/100,Le[4]):(Le=u.exec(Te))?z(Le[1],Le[2]/100,Le[3]/100,1):(Le=b.exec(Te))?z(Le[1],Le[2]/100,Le[3]/100,Le[4]):f.hasOwnProperty(Te)?M(f[Te]):Te==="transparent"?new T(NaN,NaN,NaN,0):null}function M(Te){return new T(Te>>16&255,Te>>8&255,Te&255,1)}function P(Te,Le,Ge,He){return He<=0&&(Te=Le=Ge=NaN),new T(Te,Le,Ge,He)}function x(Te){return Te instanceof n||(Te=S(Te)),Te?(Te=Te.rgb(),new T(Te.r,Te.g,Te.b,Te.opacity)):new T}function E(Te,Le,Ge,He){return arguments.length===1?x(Te):new T(Te,Le,Ge,He??1)}function T(Te,Le,Ge,He){this.r=+Te,this.g=+Le,this.b=+Ge,this.opacity=+He}p(T,E,L(n,{brighter:function(Le){return Le=Le==null?y:Math.pow(y,Le),new T(this.r*Le,this.g*Le,this.b*Le,this.opacity)},darker:function(Le){return Le=Le==null?C:Math.pow(C,Le),new T(this.r*Le,this.g*Le,this.b*Le,this.opacity)},rgb:function(){return this},clamp:function(){return new T(_(this.r),_(this.g),_(this.b),k(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:i,formatHex:i,formatHex8:R,formatRgb:A,toString:A}));function i(){return"#".concat(H(this.r)).concat(H(this.g)).concat(H(this.b))}function R(){return"#".concat(H(this.r)).concat(H(this.g)).concat(H(this.b)).concat(H((isNaN(this.opacity)?1:this.opacity)*255))}function A(){var Te=k(this.opacity);return"".concat(Te===1?"rgb(":"rgba(").concat(_(this.r),", ").concat(_(this.g),", ").concat(_(this.b)).concat(Te===1?")":", ".concat(Te,")"))}function k(Te){return isNaN(Te)?1:Math.max(0,Math.min(1,Te))}function _(Te){return Math.max(0,Math.min(255,Math.round(Te)||0))}function H(Te){return Te=_(Te),(Te<16?"0":"")+Te.toString(16)}function z(Te,Le,Ge,He){return He<=0?Te=Le=Ge=NaN:Ge<=0||Ge>=1?Te=Le=NaN:Le<=0&&(Te=NaN),new F(Te,Le,Ge,He)}function N(Te){if(Te instanceof F)return new F(Te.h,Te.s,Te.l,Te.opacity);if(Te instanceof n||(Te=S(Te)),!Te)return new F;if(Te instanceof F)return Te;Te=Te.rgb();var Le=Te.r/255,Ge=Te.g/255,He=Te.b/255,ke=Math.min(Le,Ge,He),We=Math.max(Le,Ge,He),nt=NaN,qe=We-ke,Qe=(We+ke)/2;return qe?(Le===We?nt=(Ge-He)/qe+(Ge<He)*6:Ge===We?nt=(He-Le)/qe+2:nt=(Le-Ge)/qe+4,qe/=Qe<.5?We+ke:2-We-ke,nt*=60):qe=Qe>0&&Qe<1?0:nt,new F(nt,qe,Qe,Te.opacity)}function O(Te,Le,Ge,He){return arguments.length===1?N(Te):new F(Te,Le,Ge,He??1)}function F(Te,Le,Ge,He){this.h=+Te,this.s=+Le,this.l=+Ge,this.opacity=+He}p(F,O,L(n,{brighter:function(Le){return Le=Le==null?y:Math.pow(y,Le),new F(this.h,this.s,this.l*Le,this.opacity)},darker:function(Le){return Le=Le==null?C:Math.pow(C,Le),new F(this.h,this.s,this.l*Le,this.opacity)},rgb:function(){var Le=this.h%360+(this.h<0)*360,Ge=isNaN(Le)||isNaN(this.s)?0:this.s,He=this.l,ke=He+(He<.5?He:1-He)*Ge,We=2*He-ke;return new T(q(Le>=240?Le-240:Le+120,We,ke),q(Le,We,ke),q(Le<120?Le+240:Le-120,We,ke),this.opacity)},clamp:function(){return new F(U(this.h),Z(this.s),Z(this.l),k(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Le=k(this.opacity);return"".concat(Le===1?"hsl(":"hsla(").concat(U(this.h),", ").concat(Z(this.s)*100,"%, ").concat(Z(this.l)*100,"%").concat(Le===1?")":", ".concat(Le,")"))}}));function U(Te){return Te=(Te||0)%360,Te<0?Te+360:Te}function Z(Te){return Math.max(0,Math.min(1,Te||0))}function q(Te,Le,Ge){return(Te<60?Le+(Ge-Le)*Te/60:Te<180?Ge:Te<240?Le+(Ge-Le)*(240-Te)/60:Le)*255}var J=function(Te){return function(){return Te}};function te(Te,Le){return function(Ge){return Te+Ge*Le}}function fe(Te,Le,Ge){return Te=Math.pow(Te,Ge),Le=Math.pow(Le,Ge)-Te,Ge=1/Ge,function(He){return Math.pow(Te+He*Le,Ge)}}function K(Te){return(Te=+Te)==1?Y:function(Le,Ge){return Ge-Le?fe(Le,Ge,Te):J(isNaN(Le)?Ge:Le)}}function Y(Te,Le){var Ge=Le-Te;return Ge?te(Te,Ge):J(isNaN(Te)?Le:Te)}var W=function Te(Le){var Ge=K(Le);function He(ke,We){var nt=Ge((ke=E(ke)).r,(We=E(We)).r),qe=Ge(ke.g,We.g),Qe=Ge(ke.b,We.b),tt=Y(ke.opacity,We.opacity);return function(vt){return ke.r=nt(vt),ke.g=qe(vt),ke.b=Qe(vt),ke.opacity=tt(vt),ke+""}}return He.gamma=Te,He}(1);function X(Te,Le){var Ge=Le?Le.length:0,He=Te?Math.min(Ge,Te.length):0,ke=new Array(He),We=new Array(Ge),nt;for(nt=0;nt<He;++nt)ke[nt]=Ee(Te[nt],Le[nt]);for(;nt<Ge;++nt)We[nt]=Le[nt];return function(qe){for(nt=0;nt<He;++nt)We[nt]=ke[nt](qe);return We}}function re(Te,Le){var Ge=new Date;return Te=+Te,Le=+Le,function(He){return Ge.setTime(Te*(1-He)+Le*He),Ge}}function se(Te,Le){return Te=+Te,Le=+Le,function(Ge){return Te*(1-Ge)+Le*Ge}}function Q(Te){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},Q(Te)}function ee(Te,Le){var Ge={},He={},ke;(Te===null||Q(Te)!=="object")&&(Te={}),(Le===null||Q(Le)!=="object")&&(Le={});for(ke in Le)ke in Te?Ge[ke]=Ee(Te[ke],Le[ke]):He[ke]=Le[ke];return function(We){for(ke in Ge)He[ke]=Ge[ke](We);return He}}var le=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oe=new RegExp(le.source,"g");function he(Te){return function(){return Te}}function xe(Te){return function(Le){return Te(Le)+""}}function Ae(Te,Le){var Ge=le.lastIndex=oe.lastIndex=0,He,ke,We,nt=-1,qe=[],Qe=[];for(Te=Te+"",Le=Le+"";(He=le.exec(Te))&&(ke=oe.exec(Le));)(We=ke.index)>Ge&&(We=Le.slice(Ge,We),qe[nt]?qe[nt]+=We:qe[++nt]=We),(He=He[0])===(ke=ke[0])?qe[nt]?qe[nt]+=ke:qe[++nt]=ke:(qe[++nt]=null,Qe.push({i:nt,x:se(He,ke)})),Ge=oe.lastIndex;return Ge<Le.length&&(We=Le.slice(Ge),qe[nt]?qe[nt]+=We:qe[++nt]=We),qe.length<2?Qe[0]?xe(Qe[0].x):he(Le):(Le=Qe.length,function(tt){for(var vt=0,dt;vt<Le;++vt)qe[(dt=Qe[vt]).i]=dt.x(tt);return qe.join("")})}function Se(Te,Le){Le||(Le=[]);var Ge=Te?Math.min(Le.length,Te.length):0,He=Le.slice(),ke;return function(We){for(ke=0;ke<Ge;++ke)He[ke]=Te[ke]*(1-We)+Le[ke]*We;return He}}function Oe(Te){return ArrayBuffer.isView(Te)&&!(Te instanceof DataView)}function Ve(Te){"@babel/helpers - typeof";return Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Le){return typeof Le}:function(Le){return Le&&typeof Symbol=="function"&&Le.constructor===Symbol&&Le!==Symbol.prototype?"symbol":typeof Le},Ve(Te)}function Ee(Te,Le){var Ge=Ve(Le),He;return Le==null||Ge==="boolean"?J(Le):(Ge==="number"?se:Ge==="string"?(He=S(Le))?(Le=He,W):Ae:Le instanceof S?W:Le instanceof Date?re:Oe(Le)?Se:Array.isArray(Le)?X:typeof Le.valueOf!="function"&&typeof Le.toString!="function"||isNaN(Le)?ee:se)(Te,Le)}},40402:function(V){V.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(V){V.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(V){V.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(V){V.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(V){V.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(V){V.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},de={};function be(V){var B=de[V];if(B!==void 0)return B.exports;var e=de[V]={exports:{}};return ae[V].call(e.exports,e,e.exports,be),e.exports}(function(){be.n=function(V){var B=V&&V.__esModule?function(){return V.default}:function(){return V};return be.d(B,{a:B}),B}})(),function(){be.d=function(V,B){for(var e in B)be.o(B,e)&&!be.o(V,e)&&Object.defineProperty(V,e,{enumerable:!0,get:B[e]})}}(),function(){be.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){be.o=function(V,B){return Object.prototype.hasOwnProperty.call(V,B)}}(),function(){be.r=function(V){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(V,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(V,"__esModule",{value:!0})}}();var Ce=be(27909);return Ce}()})})(tw);var V8=tw.exports;const N2=N8(V8);const U8={props:{data:{type:Array,required:!0},layout:{type:Object,required:!0}},mounted(){this.createPlot()},methods:{createPlot(){const m=this.$refs.plot;N2.newPlot(m,this.data,this.layout)}},watch:{data(){this.createPlot()},layout(){this.createPlot()}},beforeDestroy(){const m=this.$refs.plot;N2.purge(m)}},H8={ref:"plot"};function G8(m,$,ae,de,be,Ce){return Hi(),Ji("div",H8,null,512)}const W8=F0(U8,[["render",G8]]);const Y8={components:{PlotlyChart:W8},data(){return{apiHost:"195.201.58.179:8005",id:1,activeTab:0,TIK_STEP:3,selectedPathOutcomes:null,selectedPathScores:null,paths:[],infoLabel1:"",infoLabel2:"",isLoading:!0,pathsOutcomes:[],pathsScores:[],bookieKey1:"",bookieKey2:"",game1:{outcomes:[],scores:[]},game2:{outcomes:[],scores:[]},dataOutcomes:[],dataScores:[],layoutOtcomes:{grid:{rows:2,columns:1},title:""},layoutScores:{grid:{rows:2,columns:1},title:""}}},async mounted(){this.id=Number(this.$route.params.id),this.pathsOutcomes=(await this.postRequest(`http://${this.apiHost}/api/paths`,{id:this.id,type:"outcomes"})).data,this.pathsScores=(await this.postRequest(`http://${this.apiHost}/api/paths`,{id:this.id,type:"scores"})).data,this.pathsOutcomes.length===0||this.pathsScores.length===0?(this.pathsOutcomes.length===0&&(this.infoLabel1="   !"),this.pathsScores.length===0&&(this.infoLabel2="   !"),this.isLoading=!1):(this.infoLabel1="",this.infoLabel2="",this.selectedPathOutcomes=this.pathsOutcomes[0],this.selectedPathScores=this.pathsScores[0],await this.getData(this.activeTab))},methods:{updatePlot(m=null){if(this.isLoading=!0,this.activeTab){const $=Math.max(...Object.keys(this.game1.scores).map(de=>{var be;return(be=this.game1.scores[de][this.selectedPathScores])==null?void 0:be.val}));Math.max(...Object.keys(this.game2.scores).map(de=>{var be;return(be=this.game2.scores[de][this.selectedPathScores])==null?void 0:be.val}));const ae=Math.max($.range2);this.layoutOtcomes={grid:{rows:2,columns:1},title:"",yaxis1:{range:[0,ae]},yaxis2:{range:[0,ae]}},this.dataScores=[{x:Object.keys(this.game1.scores).map(de=>de%1e4),y:Object.keys(this.game1.scores).map(de=>{var be;return(be=this.game1.scores[de][this.selectedPathScores])==null?void 0:be.val}),type:"bar",name:this.bookieKey1,xaxis:"x1",yaxis:"y1"},{x:Object.keys(this.game2.scores).map(de=>de%1e4),y:Object.keys(this.game2.scores).map(de=>{var be;return(be=this.game2.scores[de][this.selectedPathScores])==null?void 0:be.val}),type:"bar",name:this.bookieKey2,xaxis:"x2",yaxis:"y2"}],this.paths=this.copy(this.pathsScores)}else{const $=Math.max(...Object.keys(this.game1.outcomes).map(de=>{var be;return(be=this.game1.outcomes[de][this.selectedPathOutcomes])==null?void 0:be.val}));Math.max(...Object.keys(this.game2.outcomes).map(de=>{var be;return(be=this.game2.outcomes[de][this.selectedPathOutcomes])==null?void 0:be.val}));const ae=Math.max($.range2);this.layoutOtcomes={grid:{rows:2,columns:1},title:"",yaxis1:{range:[0,ae]},yaxis2:{range:[0,ae]}},this.dataOutcomes=[{x:Object.keys(this.game1.outcomes).map(de=>de%1e4),y:Object.keys(this.game1.outcomes).map(de=>{var be;return(be=this.game1.outcomes[de][this.selectedPathOutcomes])==null?void 0:be.val}),type:"bar",name:this.bookieKey1,xaxis:"x1",yaxis:"y1"},{x:Object.keys(this.game2.outcomes).map(de=>de%1e4),y:Object.keys(this.game2.outcomes).map(de=>{var be;return(be=this.game2.outcomes[de][this.selectedPathOutcomes])==null?void 0:be.val}),type:"bar",name:this.bookieKey2,xaxis:"x2",yaxis:"y2"}],this.isLoading=!1}},async getData(m=0){this.isLoading=!0,console.log(m);var $=null;m===0&&($=await this.postRequest(`http://${this.apiHost}/api/graphic`,{id:this.id,type:m,path:this.selectedPathOutcomes}),$=$.data,this.game1.outcomes=$.game1,this.game2.outcomes=$.game2,this.formatData(this.game1.outcomes,this.game2.outcomes)),m===1&&($=await this.postRequest(`http://${this.apiHost}/api/graphic`,{id:this.id,type:m,path:this.selectedPathScores}),$=$.data,this.game1.scores=$.game1,this.game2.scores=$.game2,this.formatData(this.game1.scores,this.game2.scores)),this.bookieKey1=$.game1[0].bookieKey,this.bookieKey2=$.game2[0].bookieKey,this.updatePlot(),this.isLoading=!1},postRequest(m,$){return this.isLoading=!0,new Promise((ae,de)=>{const be={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)};fetch(m,be).then(Ce=>Ce.json()).then(Ce=>{ae(Ce)}).catch(Ce=>{de(Ce)})})},copy(m){return JSON.parse(JSON.stringify(m))},formatData(m,$){const ae=Math.floor(Math.max(m[0].now,$[0].now)/1e3),de=Math.floor(Math.max(m.at(-1).now,$.at(-1).now)/1e3),be={},Ce={},V=m[0].path,B=$[0].path,e={};e[V]={ind:0,time:ae,val:null};const p={};p[B]={ind:0,time:ae,val:null};for(let L=ae;L<de;L+=this.TIK_STEP){be[L]={},Ce[L]={};const n=Math.max(...Object.keys(e).map(y=>e[y].ind)),C=Math.max(...Object.keys(p).map(y=>p[y].ind));for(let y=n;y<m.length-1&&Math.floor(m[y].now/1e3)<=L;y++)e[m[y].path]={ind:y,time:L,val:this.activeTab?m[y].score:m[y].odds};for(let y=C;y<$.length-1&&Math.floor($[y].now/1e3)<=L;y++)p[$[y].path]={ind:y,time:L,val:this.activeTab?$[y].score:$[y].odds};be[L]=this.copy(e),Ce[L]=this.copy(p)}this.activeTab?(this.game1.scores=be,this.game2.scores=Ce):(this.game1.outcomes=be,this.game2.outcomes=Ce)}}},Z8=Ha("title",null,"Graphic",-1),X8={style:{"text-align":"center"}},j8={style:{"text-align":"center"}},K8={key:0,class:"progress-overlay"};function J8(m,$,ae,de,be,Ce){const V=jl("v-tab"),B=jl("v-tabs"),e=jl("v-combobox"),p=jl("plotly-chart"),L=jl("v-window-item"),n=jl("v-window"),C=jl("v-progress-circular");return Hi(),Ji(Qa,null,[Z8,_t(B,{modelValue:be.activeTab,"onUpdate:modelValue":$[2]||($[2]=y=>be.activeTab=y)},{default:gh(()=>[_t(V,{onClick:$[0]||($[0]=y=>Ce.getData(0))},{default:gh(()=>[nf("")]),_:1}),_t(V,{onClick:$[1]||($[1]=y=>Ce.getData(1))},{default:gh(()=>[nf("")]),_:1})]),_:1},8,["modelValue"]),_t(n,{modelValue:be.activeTab,"onUpdate:modelValue":$[7]||($[7]=y=>be.activeTab=y)},{default:gh(()=>[_t(L,{value:"0"},{default:gh(()=>[Ha("h3",X8,uo(be.infoLabel1),1),_t(e,{modelValue:be.selectedPathOutcomes,"onUpdate:modelValue":[$[3]||($[3]=y=>be.selectedPathOutcomes=y),$[4]||($[4]=y=>Ce.getData(be.activeTab))],items:be.pathsOutcomes,class:"combobox"},null,8,["modelValue","items"]),_t(p,{data:be.dataOutcomes,layout:be.layoutOtcomes},null,8,["data","layout"])]),_:1}),_t(L,{value:"1"},{default:gh(()=>[Ha("h3",j8,uo(be.infoLabel2),1),_t(e,{modelValue:be.selectedPathScores,"onUpdate:modelValue":[$[5]||($[5]=y=>be.selectedPathScores=y),$[6]||($[6]=y=>Ce.getData(be.activeTab))],items:be.pathsScores,class:"combobox"},null,8,["modelValue","items"]),_t(p,{data:be.dataScores,layout:be.layoutScores},null,8,["data","layout"])]),_:1})]),_:1},8,["modelValue"]),be.isLoading?(Hi(),Ji("div",K8,[_t(C,{indeterminate:"",color:"primary",size:"64"})])):Qu("",!0)],64)}const $8=F0(Y8,[["render",J8]]),Fy=HC({history:aC("/"),routes:[{path:"/pairs/:page",name:"tables",component:B8},{path:"/graphic/:id",name:"graphic",component:$8}]});function Mc(m,$){let ae;function de(){ae=bm(),ae.run(()=>$.length?$(()=>{ae==null||ae.stop(),de()}):$())}Oa(m,be=>{be&&!ae?de():be||(ae==null||ae.stop(),ae=void 0)},{immediate:!0}),Rl(()=>{ae==null||ae.stop()})}function V2(m,$,ae){Q8(m,$),$.set(m,ae)}function Q8(m,$){if($.has(m))throw new TypeError("Cannot initialize the same private elements twice on an object")}function q8(m,$,ae){var de=rw(m,$,"set");return eE(m,de,ae),ae}function eE(m,$,ae){if($.set)$.set.call(m,ae);else{if(!$.writable)throw new TypeError("attempted to set read only private field");$.value=ae}}function ov(m,$){var ae=rw(m,$,"get");return tE(m,ae)}function rw(m,$,ae){if(!$.has(m))throw new TypeError("attempted to "+ae+" private field on non-instance");return $.get(m)}function tE(m,$){return $.get?$.get.call(m):$.value}function nw(m,$,ae){const de=$.length-1;if(de<0)return m===void 0?ae:m;for(let be=0;be<de;be++){if(m==null)return ae;m=m[$[be]]}return m==null||m[$[de]]===void 0?ae:m[$[de]]}function wv(m,$){if(m===$)return!0;if(m instanceof Date&&$ instanceof Date&&m.getTime()!==$.getTime()||m!==Object(m)||$!==Object($))return!1;const ae=Object.keys(m);return ae.length!==Object.keys($).length?!1:ae.every(de=>wv(m[de],$[de]))}function zy(m,$,ae){return m==null||!$||typeof $!="string"?ae:m[$]!==void 0?m[$]:($=$.replace(/\[(\w+)\]/g,".$1"),$=$.replace(/^\./,""),nw(m,$.split("."),ae))}function Ff(m,$,ae){if($==null)return m===void 0?ae:m;if(m!==Object(m)){if(typeof $!="function")return ae;const be=$(m,ae);return typeof be>"u"?ae:be}if(typeof $=="string")return zy(m,$,ae);if(Array.isArray($))return nw(m,$,ae);if(typeof $!="function")return ae;const de=$(m,ae);return typeof de>"u"?ae:de}function wc(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:m},(ae,de)=>$+de)}function Na(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(!(m==null||m===""))return isNaN(+m)?String(m):isFinite(+m)?`${Number(m)}${$}`:void 0}function Oy(m){return m!==null&&typeof m=="object"&&!Array.isArray(m)}function By(m){return m&&"$el"in m?m.$el:m}const U2=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16}),Ny=Object.freeze({enter:"Enter",tab:"Tab",delete:"Delete",esc:"Escape",space:"Space",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",end:"End",home:"Home",del:"Delete",backspace:"Backspace",insert:"Insert",pageup:"PageUp",pagedown:"PageDown",shift:"Shift"});function aw(m){return Object.keys(m)}function hv(m,$){return $.every(ae=>m.hasOwnProperty(ae))}function Td(m,$,ae){const de=Object.create(null),be=Object.create(null);for(const Ce in m)$.some(V=>V instanceof RegExp?V.test(Ce):V===Ce)&&!(ae!=null&&ae.some(V=>V===Ce))?de[Ce]=m[Ce]:be[Ce]=m[Ce];return[de,be]}function Uf(m,$){const ae={...m};return $.forEach(de=>delete ae[de]),ae}function Tv(m){return Td(m,["class","style","id",/^data-/])}function wu(m){return m==null?[]:Array.isArray(m)?m:[m]}function Xs(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max($,Math.min(ae,m))}function H2(m){const $=m.toString().trim();return $.includes(".")?$.length-$.indexOf(".")-1:0}function G2(m,$){let ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return m+ae.repeat(Math.max(0,$-m.length))}function rE(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const ae=[];let de=0;for(;de<m.length;)ae.push(m.substr(de,$)),de+=$;return ae}function W2(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(m<$)return`${m} B`;const ae=$===1024?["Ki","Mi","Gi"]:["k","M","G"];let de=-1;for(;Math.abs(m)>=$&&de<ae.length-1;)m/=$,++de;return`${m.toFixed(1)} ${ae[de]}B`}function mu(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ae=arguments.length>2?arguments[2]:void 0;const de={};for(const be in m)de[be]=m[be];for(const be in $){const Ce=m[be],V=$[be];if(Oy(Ce)&&Oy(V)){de[be]=mu(Ce,V,ae);continue}if(Array.isArray(Ce)&&Array.isArray(V)&&ae){de[be]=ae(Ce,V);continue}de[be]=V}return de}function iw(m){return m.map($=>$.type===Qa?iw($.children):$).flat()}function gv(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(gv.cache.has(m))return gv.cache.get(m);const $=m.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return gv.cache.set(m,$),$}gv.cache=new Map;function p0(m,$){if(!$||typeof $!="object")return[];if(Array.isArray($))return $.map(ae=>p0(m,ae)).flat(1);if(Array.isArray($.children))return $.children.map(ae=>p0(m,ae)).flat(1);if($.component){if(Object.getOwnPropertySymbols($.component.provides).includes(m))return[$.component];if($.component.subTree)return p0(m,$.component.subTree).flat(1)}return[]}var Ap=new WeakMap,td=new WeakMap;class nE{constructor($){V2(this,Ap,{writable:!0,value:[]}),V2(this,td,{writable:!0,value:0}),this.size=$}push($){ov(this,Ap)[ov(this,td)]=$,q8(this,td,(ov(this,td)+1)%this.size)}values(){return ov(this,Ap).slice(ov(this,td)).concat(ov(this,Ap).slice(0,ov(this,td)))}}function aE(m){return"touches"in m?{clientX:m.touches[0].clientX,clientY:m.touches[0].clientY}:{clientX:m.clientX,clientY:m.clientY}}function Ym(m){const $=hl({}),ae=Tr(m);return Jl(()=>{for(const de in ae.value)$[de]=ae.value[de]},{flush:"sync"}),Lm($)}function Up(m,$){return m.includes($)}const iE=/^on[^a-z]/,Zm=m=>iE.test(m);function ow(m){return m[2].toLowerCase()+m.slice(3)}const zf=()=>[Function,Array];function Y2(m,$){return $="on"+Pc($),!!(m[$]||m[`${$}Once`]||m[`${$}Capture`]||m[`${$}OnceCapture`]||m[`${$}CaptureOnce`])}function Xm(m){for(var $=arguments.length,ae=new Array($>1?$-1:0),de=1;de<$;de++)ae[de-1]=arguments[de];if(Array.isArray(m))for(const be of m)be(...ae);else typeof m=="function"&&m(...ae)}function jm(m){const $=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(ae=>`${ae}:not([tabindex="-1"]):not([disabled])`).join(", ");return[...m.querySelectorAll($)]}function Hp(m,$){var be,Ce,V;const ae=jm(m),de=ae.indexOf(document.activeElement);if(!$)(m===document.activeElement||!m.contains(document.activeElement))&&((be=ae[0])==null||be.focus());else if($==="first")(Ce=ae[0])==null||Ce.focus();else if($==="last")(V=ae.at(-1))==null||V.focus();else{let B,e=de;const p=$==="next"?1:-1;do e+=p,B=ae[e];while((!B||B.offsetParent==null)&&e<ae.length&&e>=0);B?B.focus():Hp(m,$==="next"?"first":"last")}}function sw(){}const lw=["top","bottom"],oE=["start","end","left","right"];function Vy(m,$){let[ae,de]=m.split(" ");return de||(de=Up(lw,ae)?"start":Up(oE,ae)?"top":"center"),{side:Uy(ae,$),align:Uy(de,$)}}function Uy(m,$){return m==="start"?$?"right":"left":m==="end"?$?"left":"right":m}function fy(m){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[m.side],align:m.align}}function cy(m){return{side:m.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[m.align]}}function Z2(m){return{side:m.align,align:m.side}}function X2(m){return Up(lw,m.side)?"y":"x"}class hd{constructor($){let{x:ae,y:de,width:be,height:Ce}=$;this.x=ae,this.y=de,this.width=be,this.height=Ce}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function j2(m,$){return{x:{before:Math.max(0,$.left-m.left),after:Math.max(0,m.right-$.right)},y:{before:Math.max(0,$.top-m.top),after:Math.max(0,m.bottom-$.bottom)}}}function Km(m){const $=m.getBoundingClientRect(),ae=getComputedStyle(m),de=ae.transform;if(de){let be,Ce,V,B,e;if(de.startsWith("matrix3d("))be=de.slice(9,-1).split(/, /),Ce=+be[0],V=+be[5],B=+be[12],e=+be[13];else if(de.startsWith("matrix("))be=de.slice(7,-1).split(/, /),Ce=+be[0],V=+be[3],B=+be[4],e=+be[5];else return new hd($);const p=ae.transformOrigin,L=$.x-B-(1-Ce)*parseFloat(p),n=$.y-e-(1-V)*parseFloat(p.slice(p.indexOf(" ")+1)),C=Ce?$.width/Ce:m.offsetWidth+1,y=V?$.height/V:m.offsetHeight+1;return new hd({x:L,y:n,width:C,height:y})}else return new hd($)}function vv(m,$,ae){if(typeof m.animate>"u")return{finished:Promise.resolve()};let de;try{de=m.animate($,ae)}catch{return{finished:Promise.resolve()}}return typeof de.finished>"u"&&(de.finished=new Promise(be=>{de.onfinish=()=>{be(de)}})),de}const Rp=new WeakMap;function sE(m,$){Object.keys($).forEach(ae=>{if(Zm(ae)){const de=ow(ae),be=Rp.get(m);if($[ae]==null)be==null||be.forEach(Ce=>{const[V,B]=Ce;V===de&&(m.removeEventListener(de,B),be.delete(Ce))});else if(!be||![...be].some(Ce=>Ce[0]===de&&Ce[1]===$[ae])){m.addEventListener(de,$[ae]);const Ce=be||new Set;Ce.add([de,$[ae]]),Rp.has(m)||Rp.set(m,Ce)}}else $[ae]==null?m.removeAttribute(ae):m.setAttribute(ae,$[ae])})}function lE(m,$){Object.keys($).forEach(ae=>{if(Zm(ae)){const de=ow(ae),be=Rp.get(m);be==null||be.forEach(Ce=>{const[V,B]=Ce;V===de&&(m.removeEventListener(de,B),be.delete(Ce))})}else m.removeAttribute(ae)})}function uE(m,$){$=Array.isArray($)?$.slice(0,-1).map(ae=>`'${ae}'`).join(", ")+` or '${$.at(-1)}'`:`'${$}'`}const Gp=.20689655172413793,fE=m=>m>Gp**3?Math.cbrt(m):m/(3*Gp**2)+4/29,cE=m=>m>Gp?m**3:3*Gp**2*(m-4/29);function uw(m){const $=fE,ae=$(m[1]);return[116*ae-16,500*($(m[0]/.95047)-ae),200*(ae-$(m[2]/1.08883))]}function fw(m){const $=cE,ae=(m[0]+16)/116;return[$(ae+m[1]/500)*.95047,$(ae),$(ae-m[2]/200)*1.08883]}const hE=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],vE=m=>m<=.0031308?m*12.92:1.055*m**(1/2.4)-.055,dE=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],pE=m=>m<=.04045?m/12.92:((m+.055)/1.055)**2.4;function cw(m){const $=Array(3),ae=vE,de=hE;for(let be=0;be<3;++be)$[be]=Math.round(Xs(ae(de[be][0]*m[0]+de[be][1]*m[1]+de[be][2]*m[2]))*255);return{r:$[0],g:$[1],b:$[2]}}function Jm(m){let{r:$,g:ae,b:de}=m;const be=[0,0,0],Ce=pE,V=dE;$=Ce($/255),ae=Ce(ae/255),de=Ce(de/255);for(let B=0;B<3;++B)be[B]=V[B][0]*$+V[B][1]*ae+V[B][2]*de;return be}function K2(m){return!!m&&/^(#|var\(--|(rgb|hsl)a?\()/.test(m)}const J2=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,gE={rgb:(m,$,ae,de)=>({r:m,g:$,b:ae,a:de}),rgba:(m,$,ae,de)=>({r:m,g:$,b:ae,a:de}),hsl:(m,$,ae,de)=>$2({h:m,s:$,l:ae,a:de}),hsla:(m,$,ae,de)=>$2({h:m,s:$,l:ae,a:de}),hsv:(m,$,ae,de)=>Cc({h:m,s:$,v:ae,a:de}),hsva:(m,$,ae,de)=>Cc({h:m,s:$,v:ae,a:de})};function Tc(m){if(typeof m=="number")return{r:(m&16711680)>>16,g:(m&65280)>>8,b:m&255};if(typeof m=="string"&&J2.test(m)){const{groups:$}=m.match(J2),{fn:ae,values:de}=$,be=de.split(/,\s*/).map(Ce=>Ce.endsWith("%")&&["hsl","hsla","hsv","hsva"].includes(ae)?parseFloat(Ce)/100:parseFloat(Ce));return gE[ae](...be)}else if(typeof m=="string"){let $=m.startsWith("#")?m.slice(1):m;return[3,4].includes($.length)?$=$.split("").map(ae=>ae+ae).join(""):[6,8].includes($.length),gw($)}else if(typeof m=="object"){if(hv(m,["r","g","b"]))return m;if(hv(m,["h","s","l"]))return Cc($m(m));if(hv(m,["h","s","v"]))return Cc(m)}throw new TypeError(`Invalid color: ${m==null?m:String(m)||m.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function Cc(m){const{h:$,s:ae,v:de,a:be}=m,Ce=B=>{const e=(B+$/60)%6;return de-de*ae*Math.max(Math.min(e,4-e,1),0)},V=[Ce(5),Ce(3),Ce(1)].map(B=>Math.round(B*255));return{r:V[0],g:V[1],b:V[2],a:be}}function $2(m){return Cc($m(m))}function sg(m){if(!m)return{h:0,s:1,v:1,a:1};const $=m.r/255,ae=m.g/255,de=m.b/255,be=Math.max($,ae,de),Ce=Math.min($,ae,de);let V=0;be!==Ce&&(be===$?V=60*(0+(ae-de)/(be-Ce)):be===ae?V=60*(2+(de-$)/(be-Ce)):be===de&&(V=60*(4+($-ae)/(be-Ce)))),V<0&&(V=V+360);const B=be===0?0:(be-Ce)/be,e=[V,B,be];return{h:e[0],s:e[1],v:e[2],a:m.a}}function hw(m){const{h:$,s:ae,v:de,a:be}=m,Ce=de-de*ae/2,V=Ce===1||Ce===0?0:(de-Ce)/Math.min(Ce,1-Ce);return{h:$,s:V,l:Ce,a:be}}function $m(m){const{h:$,s:ae,l:de,a:be}=m,Ce=de+ae*Math.min(de,1-de),V=Ce===0?0:2-2*de/Ce;return{h:$,s:V,v:Ce,a:be}}function vw(m){let{r:$,g:ae,b:de,a:be}=m;return be===void 0?`rgb(${$}, ${ae}, ${de})`:`rgba(${$}, ${ae}, ${de}, ${be})`}function dw(m){return vw(Cc(m))}function Sp(m){const $=Math.round(m).toString(16);return("00".substr(0,2-$.length)+$).toUpperCase()}function pw(m){let{r:$,g:ae,b:de,a:be}=m;return`#${[Sp($),Sp(ae),Sp(de),be!==void 0?Sp(Math.round(be*255)):""].join("")}`}function gw(m){m=mE(m);let[$,ae,de,be]=rE(m,2).map(Ce=>parseInt(Ce,16));return be=be===void 0?be:be/255,{r:$,g:ae,b:de,a:be}}function yE(m){const $=gw(m);return sg($)}function yw(m){return pw(Cc(m))}function mE(m){return m.startsWith("#")&&(m=m.slice(1)),m=m.replace(/([^0-9a-f])/gi,"F"),(m.length===3||m.length===4)&&(m=m.split("").map($=>$+$).join("")),m.length!==6&&(m=G2(G2(m,6),8,"F")),m}function xE(m,$){const ae=uw(Jm(m));return ae[0]=ae[0]+$*10,cw(fw(ae))}function bE(m,$){const ae=uw(Jm(m));return ae[0]=ae[0]-$*10,cw(fw(ae))}function Hy(m){const $=Tc(m);return Jm($)[1]}function wE(m,$){const ae=Hy(m),de=Hy($),be=Math.max(ae,de),Ce=Math.min(ae,de);return(be+.05)/(Ce+.05)}function Bn(m,$){return ae=>Object.keys(m).reduce((de,be)=>{const V=typeof m[be]=="object"&&m[be]!=null&&!Array.isArray(m[be])?m[be]:{type:m[be]};return ae&&be in ae?de[be]={...V,default:ae[be]}:de[be]=V,$&&!de[be].source&&(de[be].source=$),de},{})}const Fa=Bn({class:[String,Array],style:{type:[String,Array,Object],default:null}},"component");function Au(m){if(m._setup=m._setup??m.setup,!m.name)return m;if(m._setup){m.props=Bn(m.props??{},m.name)();const $=Object.keys(m.props);m.filterProps=function(de){return Td(de,$,["class","style"])},m.props._as=String,m.setup=function(de,be){const Ce=t1();if(!Ce.value)return m._setup(de,be);const{props:V,provideSubDefaults:B}=RE(de,de._as??m.name,Ce),e=m._setup(V,be);return B(),e}}return m}function ea(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return $=>(m?Au:km)($)}function of(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",ae=arguments.length>2?arguments[2]:void 0;return ea()({name:ae??Pc(Tu(m.replace(/__/g,"-"))),props:{tag:{type:String,default:$},...Fa()},setup(de,be){let{slots:Ce}=be;return()=>{var V;return Nf(de.tag,{class:[m,de.class],style:de.style},(V=Ce.default)==null?void 0:V.call(Ce))}}})}function mw(m){if(typeof m.getRootNode!="function"){for(;m.parentNode;)m=m.parentNode;return m!==document?null:document}const $=m.getRootNode();return $!==document&&$.getRootNode({composed:!0})!==document?null:$}const C0="cubic-bezier(0.4, 0, 0.2, 1)",TE="cubic-bezier(0.0, 0, 0.2, 1)",AE="cubic-bezier(0.4, 0, 1, 1)";function xs(m,$){const ae=Um();if(!ae)throw new Error(`[Vuetify] ${m} ${$||"must be called from inside a setup function"}`);return ae}function Ic(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const $=xs(m).type;return gv(($==null?void 0:$.aliasName)||($==null?void 0:$.name))}let xw=0,Ip=new WeakMap;function Js(){const m=xs("getUid");if(Ip.has(m))return Ip.get(m);{const $=xw++;return Ip.set(m,$),$}}Js.reset=()=>{xw=0,Ip=new WeakMap};function Qm(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;m;){if($?SE(m):qm(m))return m;m=m.parentElement}return document.scrollingElement}function Wp(m,$){const ae=[];if($&&m&&!$.contains(m))return ae;for(;m&&(qm(m)&&ae.push(m),m!==$);)m=m.parentElement;return ae}function qm(m){if(!m||m.nodeType!==Node.ELEMENT_NODE)return!1;const $=window.getComputedStyle(m);return $.overflowY==="scroll"||$.overflowY==="auto"&&m.scrollHeight>m.clientHeight}function SE(m){if(!m||m.nodeType!==Node.ELEMENT_NODE)return!1;const $=window.getComputedStyle(m);return["scroll","auto"].includes($.overflowY)}const Zo=typeof window<"u",e1=Zo&&"IntersectionObserver"in window,ME=Zo&&("ontouchstart"in window||window.navigator.maxTouchPoints>0),Gy=Zo&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports("selector(:focus-visible)");function CE(m){const{provides:$}=xs("injectSelf");if($&&m in $)return $[m]}function EE(m){for(;m;){if(window.getComputedStyle(m).position==="fixed")return!0;m=m.offsetParent}return!1}function da(m){const $=xs("useRender");$.render=m}const E0=Symbol.for("vuetify:defaults");function LE(m){return Ta(m)}function t1(){const m=Ii(E0);if(!m)throw new Error("[Vuetify] Could not find defaults instance");return m}function ts(m,$){const ae=t1(),de=Ta(m),be=Tr(()=>{if(ms($==null?void 0:$.disabled))return ae.value;const V=ms($==null?void 0:$.scoped),B=ms($==null?void 0:$.reset),e=ms($==null?void 0:$.root);let p=mu(de.value,{prev:ae.value});if(V)return p;if(B||e){const L=Number(B||1/0);for(let n=0;n<=L&&!(!p||!("prev"in p));n++)p=p.prev;return p&&typeof e=="string"&&e in p&&(p=mu(mu(p,{prev:p}),p[e])),p}return p.prev?mu(p.prev,p):p});return Oo(E0,be),be}function PE(m,$){var ae,de;return typeof((ae=m.props)==null?void 0:ae[$])<"u"||typeof((de=m.props)==null?void 0:de[gv($)])<"u"}function RE(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},$=arguments.length>1?arguments[1]:void 0,ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t1();const de=xs("useDefaults");if($=$??de.type.name??de.type.__name,!$)throw new Error("[Vuetify] Could not determine component name");const be=Tr(()=>{var e;return(e=ae.value)==null?void 0:e[m._as??$]}),Ce=new Proxy(m,{get(e,p){var n,C,y,h;const L=Reflect.get(e,p);return p==="class"||p==="style"?[(n=be.value)==null?void 0:n[p],L].filter(g=>g!=null):typeof p=="string"&&!PE(de.vnode,p)?((C=be.value)==null?void 0:C[p])??((h=(y=ae.value)==null?void 0:y.global)==null?void 0:h[p])??L:L}}),V=Da();Jl(()=>{if(be.value){const e=Object.entries(be.value).filter(p=>{let[L]=p;return L.startsWith(L[0].toUpperCase())});e.length&&(V.value=Object.fromEntries(e))}});function B(){Mc(V,()=>{var e;ts(mu(((e=CE(E0))==null?void 0:e.value)??{},V.value))})}return{props:Ce,provideSubDefaults:B}}const lg=["sm","md","lg","xl","xxl"],Wy=Symbol.for("vuetify:display"),Q2={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},IE=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Q2;return mu(Q2,m)};function q2(m){return Zo&&!m?window.innerWidth:typeof m=="object"&&m.clientWidth||0}function eb(m){return Zo&&!m?window.innerHeight:typeof m=="object"&&m.clientHeight||0}function tb(m){const $=Zo&&!m?window.navigator.userAgent:"ssr";function ae(h){return!!$.match(h)}const de=ae(/android/i),be=ae(/iphone|ipad|ipod/i),Ce=ae(/cordova/i),V=ae(/electron/i),B=ae(/chrome/i),e=ae(/edge/i),p=ae(/firefox/i),L=ae(/opera/i),n=ae(/win/i),C=ae(/mac/i),y=ae(/linux/i);return{android:de,ios:be,cordova:Ce,electron:V,chrome:B,edge:e,firefox:p,opera:L,win:n,mac:C,linux:y,touch:ME,ssr:$==="ssr"}}function DE(m,$){const{thresholds:ae,mobileBreakpoint:de}=IE(m),be=Da(eb($)),Ce=Da(tb($)),V=hl({}),B=Da(q2($));function e(){be.value=eb(),B.value=q2()}function p(){e(),Ce.value=tb()}return Jl(()=>{const L=B.value<ae.sm,n=B.value<ae.md&&!L,C=B.value<ae.lg&&!(n||L),y=B.value<ae.xl&&!(C||n||L),h=B.value<ae.xxl&&!(y||C||n||L),g=B.value>=ae.xxl,t=L?"xs":n?"sm":C?"md":y?"lg":h?"xl":"xxl",r=typeof de=="number"?de:ae[de],l=B.value<r;V.xs=L,V.sm=n,V.md=C,V.lg=y,V.xl=h,V.xxl=g,V.smAndUp=!L,V.mdAndUp=!(L||n),V.lgAndUp=!(L||n||C),V.xlAndUp=!(L||n||C||y),V.smAndDown=!(C||y||h||g),V.mdAndDown=!(y||h||g),V.lgAndDown=!(h||g),V.xlAndDown=!g,V.name=t,V.height=be.value,V.width=B.value,V.mobile=l,V.mobileBreakpoint=de,V.platform=Ce.value,V.thresholds=ae}),Zo&&window.addEventListener("resize",e,{passive:!0}),{...Lm(V),update:p,ssr:!!$}}function Av(){const m=Ii(Wy);if(!m)throw new Error("Could not find Vuetify display injection");return m}const kE={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar"},_E={component:m=>Nf(n1,{...m,class:"mdi"})},ai=[String,Function,Object,Array],Yy=Symbol.for("vuetify:icons"),ug=Bn({icon:{type:ai},tag:{type:String,required:!0}},"icon"),Zy=ea()({name:"VComponentIcon",props:ug(),setup(m,$){let{slots:ae}=$;return()=>{const de=m.icon;return _t(m.tag,null,{default:()=>{var be;return[m.icon?_t(de,null,null):(be=ae.default)==null?void 0:be.call(ae)]}})}}}),r1=Au({name:"VSvgIcon",inheritAttrs:!1,props:ug(),setup(m,$){let{attrs:ae}=$;return()=>_t(m.tag,Ra(ae,{style:null}),{default:()=>[_t("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(m.icon)?m.icon.map(de=>Array.isArray(de)?_t("path",{d:de[0],"fill-opacity":de[1]},null):_t("path",{d:de},null)):_t("path",{d:m.icon},null)])]})}}),FE=Au({name:"VLigatureIcon",props:ug(),setup(m){return()=>_t(m.tag,null,{default:()=>[m.icon]})}}),n1=Au({name:"VClassIcon",props:ug(),setup(m){return()=>_t(m.tag,{class:m.icon},null)}}),zE={svg:{component:r1},class:{component:n1}};function OE(m){return mu({defaultSet:"mdi",sets:{...zE,mdi:_E},aliases:{...kE,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z"}},m)}const BE=m=>{const $=Ii(Yy);if(!$)throw new Error("Missing Vuetify Icons provide!");return{iconData:Tr(()=>{var e;const de=ms(m);if(!de)return{component:Zy};let be=de;if(typeof be=="string"&&(be=be.trim(),be.startsWith("$")&&(be=(e=$.aliases)==null?void 0:e[be.slice(1)])),!be)throw new Error(`Could not find aliased icon "${de}"`);if(Array.isArray(be))return{component:r1,icon:be};if(typeof be!="string")return{component:Zy,icon:be};const Ce=Object.keys($.sets).find(p=>typeof be=="string"&&be.startsWith(`${p}:`)),V=Ce?be.slice(Ce.length+1):be;return{component:$.sets[Ce??$.defaultSet].component,icon:V}})}},NE={badge:"Badge",close:"Close",dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{ok:"OK",cancel:"Cancel",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},timePicker:{am:"AM",pm:"PM"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"}},VE={af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1};function si(m,$,ae){let de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n=>n,be=arguments.length>4&&arguments[4]!==void 0?arguments[4]:n=>n;const Ce=xs("useProxiedModel"),V=Ta(m[$]!==void 0?m[$]:ae),B=gv($),p=Tr(B!==$?()=>{var n,C,y,h;return m[$],!!(((n=Ce.vnode.props)!=null&&n.hasOwnProperty($)||(C=Ce.vnode.props)!=null&&C.hasOwnProperty(B))&&((y=Ce.vnode.props)!=null&&y.hasOwnProperty(`onUpdate:${$}`)||(h=Ce.vnode.props)!=null&&h.hasOwnProperty(`onUpdate:${B}`)))}:()=>{var n,C;return m[$],!!((n=Ce.vnode.props)!=null&&n.hasOwnProperty($)&&((C=Ce.vnode.props)!=null&&C.hasOwnProperty(`onUpdate:${$}`)))});Mc(()=>!p.value,()=>{Oa(()=>m[$],n=>{V.value=n})});const L=Tr({get(){const n=m[$];return de(p.value?n:V.value)},set(n){const C=be(n),y=di(p.value?m[$]:V.value);y===C||de(y)===n||(V.value=C,Ce==null||Ce.emit(`update:${$}`,C))}});return Object.defineProperty(L,"externalValue",{get:()=>p.value?m[$]:V.value}),L}const rb="$vuetify.",nb=(m,$)=>m.replace(/\{(\d+)\}/g,(ae,de)=>String($[+de])),bw=(m,$,ae)=>function(de){for(var be=arguments.length,Ce=new Array(be>1?be-1:0),V=1;V<be;V++)Ce[V-1]=arguments[V];if(!de.startsWith(rb))return nb(de,Ce);const B=de.replace(rb,""),e=m.value&&ae.value[m.value],p=$.value&&ae.value[$.value];let L=zy(e,B,null);return L||(`${de}${m.value}`,L=zy(p,B,null)),L||(L=de),typeof L!="string"&&(L=de),nb(L,Ce)};function ww(m,$){return(ae,de)=>new Intl.NumberFormat([m.value,$.value],de).format(ae)}function hy(m,$,ae){const de=si(m,$,m[$]??ae.value);return de.value=m[$]??ae.value,Oa(ae,be=>{m[$]==null&&(de.value=ae.value)}),de}function Tw(m){return $=>{const ae=hy($,"locale",m.current),de=hy($,"fallback",m.fallback),be=hy($,"messages",m.messages);return{name:"vuetify",current:ae,fallback:de,messages:be,t:bw(ae,de,be),n:ww(ae,de),provide:Tw({current:ae,fallback:de,messages:be})}}}function UE(m){const $=Da((m==null?void 0:m.locale)??"en"),ae=Da((m==null?void 0:m.fallback)??"en"),de=Ta({en:NE,...m==null?void 0:m.messages});return{name:"vuetify",current:$,fallback:ae,messages:de,t:bw($,ae,de),n:ww($,ae),provide:Tw({current:$,fallback:ae,messages:de})}}const yd=Symbol.for("vuetify:locale");function HE(m){return m.name!=null}function GE(m){const $=m!=null&&m.adapter&&HE(m==null?void 0:m.adapter)?m==null?void 0:m.adapter:UE(m),ae=YE($,m);return{...$,...ae}}function Su(){const m=Ii(yd);if(!m)throw new Error("[Vuetify] Could not find injected locale instance");return m}function WE(m){const $=Ii(yd);if(!$)throw new Error("[Vuetify] Could not find injected locale instance");const ae=$.provide(m),de=ZE(ae,$.rtl,m),be={...ae,...de};return Oo(yd,be),be}function YE(m,$){const ae=Ta(($==null?void 0:$.rtl)??VE),de=Tr(()=>ae.value[m.current.value]??!1);return{isRtl:de,rtl:ae,rtlClasses:Tr(()=>`v-locale--is-${de.value?"rtl":"ltr"}`)}}function ZE(m,$,ae){const de=Tr(()=>ae.rtl??$.value[m.current.value]??!1);return{isRtl:de,rtl:$,rtlClasses:Tr(()=>`v-locale--is-${de.value?"rtl":"ltr"}`)}}function bs(){const m=Ii(yd);if(!m)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:m.isRtl,rtlClasses:m.rtlClasses}}const rd=2.4,ab=.2126729,ib=.7151522,ob=.072175,XE=.55,jE=.58,KE=.57,JE=.62,Mp=.03,sb=1.45,$E=5e-4,QE=1.25,qE=1.25,lb=.078,ub=12.82051282051282,Cp=.06,fb=.001;function cb(m,$){const ae=(m.r/255)**rd,de=(m.g/255)**rd,be=(m.b/255)**rd,Ce=($.r/255)**rd,V=($.g/255)**rd,B=($.b/255)**rd;let e=ae*ab+de*ib+be*ob,p=Ce*ab+V*ib+B*ob;if(e<=Mp&&(e+=(Mp-e)**sb),p<=Mp&&(p+=(Mp-p)**sb),Math.abs(p-e)<$E)return 0;let L;if(p>e){const n=(p**XE-e**jE)*QE;L=n<fb?0:n<lb?n-n*ub*Cp:n-Cp}else{const n=(p**JE-e**KE)*qE;L=n>-fb?0:n>-lb?n-n*ub*Cp:n+Cp}return L*100}const L0=Symbol.for("vuetify:theme"),Di=Bn({theme:String},"theme"),a0={defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#6200EE","primary-darken-1":"#3700B3",secondary:"#03DAC6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-variant":"#BDBDBD","on-surface-variant":"#424242",primary:"#BB86FC","primary-darken-1":"#3700B3",secondary:"#03DAC5","secondary-darken-1":"#03DAC5",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}}};function eL(){var ae,de;let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a0;if(!m)return{...a0,isDisabled:!0};const $={};for(const[be,Ce]of Object.entries(m.themes??{})){const V=Ce.dark||be==="dark"?(ae=a0.themes)==null?void 0:ae.dark:(de=a0.themes)==null?void 0:de.light;$[be]=mu(V,Ce)}return mu(a0,{...m,themes:$})}function tL(m){const $=eL(m),ae=Ta($.defaultTheme),de=Ta($.themes),be=Tr(()=>{const L={};for(const[n,C]of Object.entries(de.value)){const y=L[n]={...C,colors:{...C.colors}};if($.variations)for(const h of $.variations.colors){const g=y.colors[h];if(g)for(const t of["lighten","darken"]){const r=t==="lighten"?xE:bE;for(const l of wc($.variations[t],1))y.colors[`${h}-${t}-${l}`]=pw(r(Tc(g),l))}}for(const h of Object.keys(y.colors)){if(/^on-[a-z]/.test(h)||y.colors[`on-${h}`])continue;const g=`on-${h}`,t=Tc(y.colors[h]),r=Math.abs(cb(Tc(0),t)),l=Math.abs(cb(Tc(16777215),t));y.colors[g]=l>Math.min(r,50)?"#fff":"#000"}}return L}),Ce=Tr(()=>be.value[ae.value]),V=Tr(()=>{const L=[];Ce.value.dark&&sv(L,":root",["color-scheme: dark"]),sv(L,":root",hb(Ce.value));for(const[h,g]of Object.entries(be.value))sv(L,`.v-theme--${h}`,[`color-scheme: ${g.dark?"dark":"normal"}`,...hb(g)]);const n=[],C=[],y=new Set(Object.values(be.value).flatMap(h=>Object.keys(h.colors)));for(const h of y)/^on-[a-z]/.test(h)?sv(C,`.${h}`,[`color: rgb(var(--v-theme-${h})) !important`]):(sv(n,`.bg-${h}`,[`--v-theme-overlay-multiplier: var(--v-theme-${h}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${h})) !important`,`color: rgb(var(--v-theme-on-${h})) !important`]),sv(C,`.text-${h}`,[`color: rgb(var(--v-theme-${h})) !important`]),sv(C,`.border-${h}`,[`--v-border-color: var(--v-theme-${h})`]));return L.push(...n,...C),L.map((h,g)=>g===0?h:`    ${h}`).join("")});function B(){return{style:[{children:V.value,id:"vuetify-theme-stylesheet",nonce:$.cspNonce||!1}]}}function e(L){if($.isDisabled)return;const n=L._context.provides.usehead;if(n)if(n.push){const y=n.push(B);Oa(V,()=>{y.patch(B)})}else Zo?(n.addHeadObjs(Tr(B)),Jl(()=>n.updateDOM())):n.addHeadObjs(B());else{let h=function(){if(typeof document<"u"&&!y){const g=document.createElement("style");g.type="text/css",g.id="vuetify-theme-stylesheet",$.cspNonce&&g.setAttribute("nonce",$.cspNonce),y=g,document.head.appendChild(y)}y&&(y.innerHTML=V.value)};var C=h;let y=Zo?document.getElementById("vuetify-theme-stylesheet"):null;Oa(V,h,{immediate:!0})}}const p=Tr(()=>$.isDisabled?void 0:`v-theme--${ae.value}`);return{install:e,isDisabled:$.isDisabled,name:ae,themes:de,current:Ce,computedThemes:be,themeClasses:p,styles:V,global:{name:ae,current:Ce}}}function Zi(m){xs("provideTheme");const $=Ii(L0,null);if(!$)throw new Error("Could not find Vuetify theme injection");const ae=Tr(()=>m.theme??($==null?void 0:$.name.value)),de=Tr(()=>$.isDisabled?void 0:`v-theme--${ae.value}`),be={...$,name:ae,themeClasses:de};return Oo(L0,be),be}function Aw(){xs("useTheme");const m=Ii(L0,null);if(!m)throw new Error("Could not find Vuetify theme injection");return m}function sv(m,$,ae){m.push(`${$} {
`,...ae.map(de=>`  ${de};
`),`}
`)}function hb(m){const $=m.dark?2:1,ae=m.dark?1:2,de=[];for(const[be,Ce]of Object.entries(m.colors)){const V=Tc(Ce);de.push(`--v-theme-${be}: ${V.r},${V.g},${V.b}`),be.startsWith("on-")||de.push(`--v-theme-${be}-overlay-multiplier: ${Hy(Ce)>.18?$:ae}`)}for(const[be,Ce]of Object.entries(m.variables)){const V=typeof Ce=="string"&&Ce.startsWith("#")?Tc(Ce):void 0,B=V?`${V.r}, ${V.g}, ${V.b}`:void 0;de.push(`--v-${be}: ${B??Ce}`)}return de}const Xy={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function rL(m,$){const ae=[];let de=[];const be=Sw(m),Ce=Mw(m),V=be.getDay()-Xy[$.slice(-2).toUpperCase()],B=Ce.getDay()-Xy[$.slice(-2).toUpperCase()];for(let e=0;e<V;e++){const p=new Date(be);p.setDate(p.getDate()-(V-e)),de.push(p)}for(let e=1;e<=Ce.getDate();e++){const p=new Date(m.getFullYear(),m.getMonth(),e);de.push(p),de.length===7&&(ae.push(de),de=[])}for(let e=1;e<7-B;e++){const p=new Date(Ce);p.setDate(p.getDate()+e),de.push(p)}return ae.push(de),ae}function Sw(m){return new Date(m.getFullYear(),m.getMonth(),1)}function Mw(m){return new Date(m.getFullYear(),m.getMonth()+1,0)}function nL(m){const $=m.split("-").map(Ce=>Ce.padStart(2,"0")).join("-"),ae=new Date().getTimezoneOffset()/-60,de=ae<0?"-":"+",be=Math.abs(ae).toString().padStart(2,"0");return`${$}T00:00:00.000${de}${be}:00`}const aL=/([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))/;function iL(m){if(m==null)return new Date;if(m instanceof Date)return m;if(typeof m=="string"){let $;if(aL.test(m)?$=Date.parse(nL(m)):$=Date.parse(m),!isNaN($))return new Date($)}return null}const vb=new Date(2e3,0,2);function oL(m){const $=Xy[m.slice(-2).toUpperCase()];return wc(7).map(ae=>{const de=new Date(vb);return de.setDate(vb.getDate()+$+ae),new Intl.DateTimeFormat(m,{weekday:"short"}).format(de)})}function sL(m,$,ae){const de=new Date(m);let be={};switch($){case"fullDateWithWeekday":be={weekday:"long",day:"numeric",month:"long",year:"numeric"};break;case"normalDateWithWeekday":be={weekday:"short",day:"numeric",month:"short"};break;case"keyboardDate":be={};break;case"monthAndDate":be={month:"long",day:"numeric"};break;case"monthAndYear":be={month:"long",year:"numeric"};break;case"dayOfMonth":be={day:"numeric"};break;default:be={timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(ae,be).format(de)}function lL(m,$){const ae=new Date(m);return ae.setDate(ae.getDate()+$),ae}function uL(m,$){const ae=new Date(m);return ae.setMonth(ae.getMonth()+$),ae}function fL(m){return m.getFullYear()}function cL(m){return m.getMonth()}function hL(m){return new Date(m.getFullYear(),0,1)}function vL(m){return new Date(m.getFullYear(),11,31)}function dL(m,$){return jy(m,$[0])&&gL(m,$[1])}function pL(m){const $=new Date(m);return $ instanceof Date&&!isNaN($.getTime())}function jy(m,$){return m.getTime()>$.getTime()}function gL(m,$){return m.getTime()<$.getTime()}function db(m,$){return m.getTime()===$.getTime()}function yL(m,$){return m.getDate()===$.getDate()&&m.getMonth()===$.getMonth()&&m.getFullYear()===$.getFullYear()}function mL(m,$){return m.getMonth()===$.getMonth()&&m.getFullYear()===$.getFullYear()}function xL(m,$,ae){const de=new Date(m),be=new Date($);return ae==="month"?de.getMonth()-be.getMonth()+(de.getFullYear()-be.getFullYear())*12:Math.floor((de.getTime()-be.getTime())/(1e3*60*60*24))}function bL(m,$){const ae=new Date(m);return ae.setFullYear($),ae}class wL{constructor($){this.locale=$.locale}date($){return iL($)}toJsDate($){return $}addDays($,ae){return lL($,ae)}addMonths($,ae){return uL($,ae)}getWeekArray($){return rL($,this.locale)}startOfMonth($){return Sw($)}endOfMonth($){return Mw($)}format($,ae){return sL($,ae,this.locale)}isEqual($,ae){return db($,ae)}isValid($){return pL($)}isWithinRange($,ae){return dL($,ae)}isAfter($,ae){return jy($,ae)}isBefore($,ae){return!jy($,ae)&&!db($,ae)}isSameDay($,ae){return yL($,ae)}isSameMonth($,ae){return mL($,ae)}setYear($,ae){return bL($,ae)}getDiff($,ae,de){return xL($,ae,de)}getWeekdays(){return oL(this.locale)}getYear($){return fL($)}getMonth($){return cL($)}startOfYear($){return hL($)}endOfYear($){return vL($)}}const pb=Symbol.for("vuetify:date-adapter");function TL(m){return mu({adapter:wL,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"nn-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},m)}function Bf(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const ae=Ta(),de=Ta();if(Zo){const be=new ResizeObserver(Ce=>{m==null||m(Ce,be),Ce.length&&($==="content"?de.value=Ce[0].contentRect:de.value=Ce[0].target.getBoundingClientRect())});dl(()=>{be.disconnect()}),Oa(ae,(Ce,V)=>{V&&(be.unobserve(By(V)),de.value=void 0),Ce&&be.observe(By(Ce))},{flush:"post"})}return{resizeRef:ae,contentRect:k0(de)}}const Yp=Symbol.for("vuetify:layout"),Cw=Symbol.for("vuetify:layout-item"),gb=1e3,Ew=Bn({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),Ad=Bn({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function AL(){const m=Ii(Yp);if(!m)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:m.getLayoutItem,mainRect:m.mainRect,mainStyles:m.mainStyles}}function Sd(m){const $=Ii(Yp);if(!$)throw new Error("[Vuetify] Could not find injected layout");const ae=m.id??`layout-item-${Js()}`,de=xs("useLayoutItem");Oo(Cw,{id:ae});const be=Da(!1);m3(()=>be.value=!0),y3(()=>be.value=!1);const{layoutItemStyles:Ce,layoutItemScrimStyles:V}=$.register(de,{...m,active:Tr(()=>be.value?!1:m.active.value),id:ae});return dl(()=>$.unregister(ae)),{layoutItemStyles:Ce,layoutRect:$.layoutRect,layoutItemScrimStyles:V}}const SL=(m,$,ae,de)=>{let be={top:0,left:0,right:0,bottom:0};const Ce=[{id:"",layer:{...be}}];for(const V of m){const B=$.get(V),e=ae.get(V),p=de.get(V);if(!B||!e||!p)continue;const L={...be,[B.value]:parseInt(be[B.value],10)+(p.value?parseInt(e.value,10):0)};Ce.push({id:V,layer:L}),be=L}return Ce};function Lw(m){const $=Ii(Yp,null),ae=Tr(()=>$?$.rootZIndex.value-100:gb),de=Ta([]),be=hl(new Map),Ce=hl(new Map),V=hl(new Map),B=hl(new Map),e=hl(new Map),{resizeRef:p,contentRect:L}=Bf(),n=Tr(()=>{const u=new Map,b=m.overlaps??[];for(const f of b.filter(w=>w.includes(":"))){const[w,v]=f.split(":");if(!de.value.includes(w)||!de.value.includes(v))continue;const o=be.get(w),d=be.get(v),S=Ce.get(w),M=Ce.get(v);!o||!d||!S||!M||(u.set(v,{position:o.value,amount:parseInt(S.value,10)}),u.set(w,{position:d.value,amount:-parseInt(M.value,10)}))}return u}),C=Tr(()=>{const u=[...new Set([...V.values()].map(f=>f.value))].sort((f,w)=>f-w),b=[];for(const f of u){const w=de.value.filter(v=>{var o;return((o=V.get(v))==null?void 0:o.value)===f});b.push(...w)}return SL(b,be,Ce,B)}),y=Tr(()=>!Array.from(e.values()).some(u=>u.value)),h=Tr(()=>C.value[C.value.length-1].layer),g=Tr(()=>({"--v-layout-left":Na(h.value.left),"--v-layout-right":Na(h.value.right),"--v-layout-top":Na(h.value.top),"--v-layout-bottom":Na(h.value.bottom),...y.value?void 0:{transition:"none"}})),t=Tr(()=>C.value.slice(1).map((u,b)=>{let{id:f}=u;const{layer:w}=C.value[b],v=Ce.get(f),o=be.get(f);return{id:f,...w,size:Number(v.value),position:o.value}})),r=u=>t.value.find(b=>b.id===u),l=xs("createLayout"),a=Da(!1);Ks(()=>{a.value=!0}),Oo(Yp,{register:(u,b)=>{let{id:f,order:w,position:v,layoutSize:o,elementSize:d,active:S,disableTransitions:M,absolute:P}=b;V.set(f,w),be.set(f,v),Ce.set(f,o),B.set(f,S),M&&e.set(f,M);const E=p0(Cw,l==null?void 0:l.vnode).indexOf(u);E>-1?de.value.splice(E,0,f):de.value.push(f);const T=Tr(()=>t.value.findIndex(k=>k.id===f)),i=Tr(()=>ae.value+C.value.length*2-T.value*2),R=Tr(()=>{const k=v.value==="left"||v.value==="right",_=v.value==="right",H=v.value==="bottom",z={[v.value]:0,zIndex:i.value,transform:`translate${k?"X":"Y"}(${(S.value?0:-110)*(_||H?-1:1)}%)`,position:P.value||ae.value!==gb?"absolute":"fixed",...y.value?void 0:{transition:"none"}};if(!a.value)return z;const N=t.value[T.value];if(!N)throw new Error(`[Vuetify] Could not find layout item "${f}"`);const O=n.value.get(f);return O&&(N[O.position]+=O.amount),{...z,height:k?`calc(100% - ${N.top}px - ${N.bottom}px)`:d.value?`${d.value}px`:void 0,left:_?void 0:`${N.left}px`,right:_?`${N.right}px`:void 0,top:v.value!=="bottom"?`${N.top}px`:void 0,bottom:v.value!=="top"?`${N.bottom}px`:void 0,width:k?d.value?`${d.value}px`:void 0:`calc(100% - ${N.left}px - ${N.right}px)`}}),A=Tr(()=>({zIndex:i.value-1}));return{layoutItemStyles:R,layoutItemScrimStyles:A,zIndex:i}},unregister:u=>{V.delete(u),be.delete(u),Ce.delete(u),B.delete(u),e.delete(u),de.value=de.value.filter(b=>b!==u)},mainRect:h,mainStyles:g,getLayoutItem:r,items:t,layoutRect:L,rootZIndex:ae});const s=Tr(()=>["v-layout",{"v-layout--full-height":m.fullHeight}]),c=Tr(()=>({zIndex:ae.value,position:$?"relative":void 0,overflow:$?"hidden":void 0}));return{layoutClasses:s,layoutStyles:c,getLayoutItem:r,items:t,layoutRect:L,layoutRef:p}}function Pw(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:$,...ae}=m,de=mu($,ae),{aliases:be={},components:Ce={},directives:V={}}=de,B=LE(de.defaults),e=DE(de.display,de.ssr),p=tL(de.theme),L=OE(de.icons),n=GE(de.locale),C=TL(de.date);return{install:h=>{for(const g in V)h.directive(g,V[g]);for(const g in Ce)h.component(g,Ce[g]);for(const g in be)h.component(g,Au({...be[g],name:g,aliasName:be[g].name}));if(p.install(h),h.provide(E0,B),h.provide(Wy,e),h.provide(L0,p),h.provide(Yy,L),h.provide(yd,n),h.provide(pb,C),Zo&&de.ssr)if(h.$nuxt)h.$nuxt.hook("app:suspense:resolve",()=>{e.update()});else{const{mount:g}=h;h.mount=function(){const t=g(...arguments);return io(()=>e.update()),h.mount=g,t}}Js.reset(),h.mixin({computed:{$vuetify(){return hl({defaults:nd.call(this,E0),display:nd.call(this,Wy),theme:nd.call(this,L0),icons:nd.call(this,Yy),locale:nd.call(this,yd),date:nd.call(this,pb)})}}})},defaults:B,display:e,theme:p,icons:L,locale:n,date:C}}const ML="3.3.9";Pw.version=ML;function nd(m){var de,be;const $=this.$,ae=((de=$.parent)==null?void 0:de.provides)??((be=$.vnode.appContext)==null?void 0:be.provides);if(ae&&m in ae)return ae[m]}const CL=Bn({...Fa(),...Ew({fullHeight:!0}),...Di()},"VApp"),EL=ea()({name:"VApp",props:CL(),setup(m,$){let{slots:ae}=$;const de=Zi(m),{layoutClasses:be,layoutStyles:Ce,getLayoutItem:V,items:B,layoutRef:e}=Lw(m),{rtlClasses:p}=bs();return da(()=>{var L;return _t("div",{ref:e,class:["v-application",de.themeClasses.value,be.value,p.value,m.class],style:[Ce.value,m.style]},[_t("div",{class:"v-application__wrap"},[(L=ae.default)==null?void 0:L.call(ae)])])}),{getLayoutItem:V,items:B,theme:de}}});const li=Bn({tag:{type:String,default:"div"}},"tag"),Rw=Bn({text:String,...Fa(),...li()},"VToolbarTitle"),a1=ea()({name:"VToolbarTitle",props:Rw(),setup(m,$){let{slots:ae}=$;return da(()=>{const de=!!(ae.default||ae.text||m.text);return _t(m.tag,{class:["v-toolbar-title",m.class],style:m.style},{default:()=>{var be;return[de&&_t("div",{class:"v-toolbar-title__placeholder"},[ae.text?ae.text():m.text,(be=ae.default)==null?void 0:be.call(ae)])]}})}),{}}}),LL=Bn({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function $l(m,$,ae){return ea()({name:m,props:LL({mode:ae,origin:$}),setup(de,be){let{slots:Ce}=be;const V={onBeforeEnter(B){de.origin&&(B.style.transformOrigin=de.origin)},onLeave(B){if(de.leaveAbsolute){const{offsetTop:e,offsetLeft:p,offsetWidth:L,offsetHeight:n}=B;B._transitionInitialStyles={position:B.style.position,top:B.style.top,left:B.style.left,width:B.style.width,height:B.style.height},B.style.position="absolute",B.style.top=`${e}px`,B.style.left=`${p}px`,B.style.width=`${L}px`,B.style.height=`${n}px`}de.hideOnLeave&&B.style.setProperty("display","none","important")},onAfterLeave(B){if(de.leaveAbsolute&&(B!=null&&B._transitionInitialStyles)){const{position:e,top:p,left:L,width:n,height:C}=B._transitionInitialStyles;delete B._transitionInitialStyles,B.style.position=e||"",B.style.top=p||"",B.style.left=L||"",B.style.width=n||"",B.style.height=C||""}}};return()=>{const B=de.group?S6:Of;return Nf(B,{name:de.disabled?"":m,css:!de.disabled,...de.group?void 0:{mode:de.mode},...de.disabled?{}:V},Ce.default)}}})}function Iw(m,$){let ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ea()({name:m,props:{mode:{type:String,default:ae},disabled:Boolean},setup(de,be){let{slots:Ce}=be;return()=>Nf(Of,{name:de.disabled?"":m,css:!de.disabled,...de.disabled?{}:$},Ce.default)}})}function Dw(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const ae=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",de=Tu(`offset-${ae}`);return{onBeforeEnter(V){V._parent=V.parentNode,V._initialStyle={transition:V.style.transition,overflow:V.style.overflow,[ae]:V.style[ae]}},onEnter(V){const B=V._initialStyle;V.style.setProperty("transition","none","important"),V.style.overflow="hidden";const e=`${V[de]}px`;V.style[ae]="0",V.offsetHeight,V.style.transition=B.transition,m&&V._parent&&V._parent.classList.add(m),requestAnimationFrame(()=>{V.style[ae]=e})},onAfterEnter:Ce,onEnterCancelled:Ce,onLeave(V){V._initialStyle={transition:"",overflow:V.style.overflow,[ae]:V.style[ae]},V.style.overflow="hidden",V.style[ae]=`${V[de]}px`,V.offsetHeight,requestAnimationFrame(()=>V.style[ae]="0")},onAfterLeave:be,onLeaveCancelled:be};function be(V){m&&V._parent&&V._parent.classList.remove(m),Ce(V)}function Ce(V){const B=V._initialStyle[ae];V.style.overflow=V._initialStyle.overflow,B!=null&&(V.style[ae]=B),delete V._initialStyle}}const PL=Bn({target:Object},"v-dialog-transition"),fg=ea()({name:"VDialogTransition",props:PL(),setup(m,$){let{slots:ae}=$;const de={onBeforeEnter(be){be.style.pointerEvents="none",be.style.visibility="hidden"},async onEnter(be,Ce){var C;await new Promise(y=>requestAnimationFrame(y)),await new Promise(y=>requestAnimationFrame(y)),be.style.visibility="";const{x:V,y:B,sx:e,sy:p,speed:L}=mb(m.target,be),n=vv(be,[{transform:`translate(${V}px, ${B}px) scale(${e}, ${p})`,opacity:0},{}],{duration:225*L,easing:TE});(C=yb(be))==null||C.forEach(y=>{vv(y,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*L,easing:C0})}),n.finished.then(()=>Ce())},onAfterEnter(be){be.style.removeProperty("pointer-events")},onBeforeLeave(be){be.style.pointerEvents="none"},async onLeave(be,Ce){var C;await new Promise(y=>requestAnimationFrame(y));const{x:V,y:B,sx:e,sy:p,speed:L}=mb(m.target,be);vv(be,[{},{transform:`translate(${V}px, ${B}px) scale(${e}, ${p})`,opacity:0}],{duration:125*L,easing:AE}).finished.then(()=>Ce()),(C=yb(be))==null||C.forEach(y=>{vv(y,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*L,easing:C0})})},onAfterLeave(be){be.style.removeProperty("pointer-events")}};return()=>m.target?_t(Of,Ra({name:"dialog-transition"},de,{css:!1}),ae):_t(Of,{name:"dialog-transition"},ae)}});function yb(m){var ae;const $=(ae=m.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:ae.children;return $&&[...$]}function mb(m,$){const ae=m.getBoundingClientRect(),de=Km($),[be,Ce]=getComputedStyle($).transformOrigin.split(" ").map(r=>parseFloat(r)),[V,B]=getComputedStyle($).getPropertyValue("--v-overlay-anchor-origin").split(" ");let e=ae.left+ae.width/2;V==="left"||B==="left"?e-=ae.width/2:(V==="right"||B==="right")&&(e+=ae.width/2);let p=ae.top+ae.height/2;V==="top"||B==="top"?p-=ae.height/2:(V==="bottom"||B==="bottom")&&(p+=ae.height/2);const L=ae.width/de.width,n=ae.height/de.height,C=Math.max(1,L,n),y=L/C||0,h=n/C||0,g=de.width*de.height/(window.innerWidth*window.innerHeight),t=g>.12?Math.min(1.5,(g-.12)*10+1):1;return{x:e-(be+de.left),y:p-(Ce+de.top),sx:y,sy:h,speed:t}}const RL=$l("fab-transition","center center","out-in"),IL=$l("dialog-bottom-transition"),DL=$l("dialog-top-transition"),Ky=$l("fade-transition"),kw=$l("scale-transition"),kL=$l("scroll-x-transition"),_L=$l("scroll-x-reverse-transition"),FL=$l("scroll-y-transition"),zL=$l("scroll-y-reverse-transition"),OL=$l("slide-x-transition"),BL=$l("slide-x-reverse-transition"),i1=$l("slide-y-transition"),NL=$l("slide-y-reverse-transition"),cg=Iw("expand-transition",Dw()),o1=Iw("expand-x-transition",Dw("",!0)),VL=Bn({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),Qi=ea(!1)({name:"VDefaultsProvider",props:VL(),setup(m,$){let{slots:ae}=$;const{defaults:de,disabled:be,reset:Ce,root:V,scoped:B}=Lm(m);return ts(de,{reset:Ce,root:V,scoped:B,disabled:be}),()=>{var e;return(e=ae.default)==null?void 0:e.call(ae)}}});const Mu=Bn({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function Cu(m){return{dimensionStyles:Tr(()=>({height:Na(m.height),maxHeight:Na(m.maxHeight),maxWidth:Na(m.maxWidth),minHeight:Na(m.minHeight),minWidth:Na(m.minWidth),width:Na(m.width)}))}}function UL(m){return{aspectStyles:Tr(()=>{const $=Number(m.aspectRatio);return $?{paddingBottom:String(1/$*100)+"%"}:void 0})}}const _w=Bn({aspectRatio:[String,Number],contentClass:String,inline:Boolean,...Fa(),...Mu()},"VResponsive"),Jy=ea()({name:"VResponsive",props:_w(),setup(m,$){let{slots:ae}=$;const{aspectStyles:de}=UL(m),{dimensionStyles:be}=Cu(m);return da(()=>{var Ce;return _t("div",{class:["v-responsive",{"v-responsive--inline":m.inline},m.class],style:[be.value,m.style]},[_t("div",{class:"v-responsive__sizer",style:de.value},null),(Ce=ae.additional)==null?void 0:Ce.call(ae),ae.default&&_t("div",{class:["v-responsive__content",m.contentClass]},[ae.default()])])}),{}}}),Dc=Bn({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:m=>m!==!0}},"transition"),tf=(m,$)=>{let{slots:ae}=$;const{transition:de,disabled:be,...Ce}=m,{component:V=Of,...B}=typeof de=="object"?de:{};return Nf(V,Ra(typeof de=="string"?{name:be?"":de}:B,Ce,{disabled:be}),ae)};function HL(m,$){if(!e1)return;const ae=$.modifiers||{},de=$.value,{handler:be,options:Ce}=typeof de=="object"?de:{handler:de,options:{}},V=new IntersectionObserver(function(){var n;let B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;const p=(n=m._observe)==null?void 0:n[$.instance.$.uid];if(!p)return;const L=B.some(C=>C.isIntersecting);be&&(!ae.quiet||p.init)&&(!ae.once||L||p.init)&&be(L,B,e),L&&ae.once?Fw(m,$):p.init=!0},Ce);m._observe=Object(m._observe),m._observe[$.instance.$.uid]={init:!1,observer:V},V.observe(m)}function Fw(m,$){var de;const ae=(de=m._observe)==null?void 0:de[$.instance.$.uid];ae&&(ae.observer.unobserve(m),delete m._observe[$.instance.$.uid])}const z0={mounted:HL,unmounted:Fw},zw=Bn({alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,..._w(),...Fa(),...Dc()},"VImg"),mv=ea()({name:"VImg",directives:{intersect:z0},props:zw(),emits:{loadstart:m=>!0,load:m=>!0,error:m=>!0},setup(m,$){let{emit:ae,slots:de}=$;const be=Da(""),Ce=Ta(),V=Da(m.eager?"loading":"idle"),B=Da(),e=Da(),p=Tr(()=>m.src&&typeof m.src=="object"?{src:m.src.src,srcset:m.srcset||m.src.srcset,lazySrc:m.lazySrc||m.src.lazySrc,aspect:Number(m.aspectRatio||m.src.aspect||0)}:{src:m.src,srcset:m.srcset,lazySrc:m.lazySrc,aspect:Number(m.aspectRatio||0)}),L=Tr(()=>p.value.aspect||B.value/e.value||0);Oa(()=>m.src,()=>{n(V.value!=="idle")}),Oa(L,(f,w)=>{!f&&w&&Ce.value&&t(Ce.value)}),ng(()=>n());function n(f){if(!(m.eager&&f)&&!(e1&&!f&&!m.eager)){if(V.value="loading",p.value.lazySrc){const w=new Image;w.src=p.value.lazySrc,t(w,null)}p.value.src&&io(()=>{var w,v;if(ae("loadstart",((w=Ce.value)==null?void 0:w.currentSrc)||p.value.src),(v=Ce.value)!=null&&v.complete){if(Ce.value.naturalWidth||y(),V.value==="error")return;L.value||t(Ce.value,null),C()}else L.value||t(Ce.value),h()})}}function C(){var f;h(),V.value="loaded",ae("load",((f=Ce.value)==null?void 0:f.currentSrc)||p.value.src)}function y(){var f;V.value="error",ae("error",((f=Ce.value)==null?void 0:f.currentSrc)||p.value.src)}function h(){const f=Ce.value;f&&(be.value=f.currentSrc||f.src)}let g=-1;function t(f){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const v=()=>{clearTimeout(g);const{naturalHeight:o,naturalWidth:d}=f;o||d?(B.value=d,e.value=o):!f.complete&&V.value==="loading"&&w!=null?g=window.setTimeout(v,w):(f.currentSrc.endsWith(".svg")||f.currentSrc.startsWith("data:image/svg+xml"))&&(B.value=1,e.value=1)};v()}const r=Tr(()=>({"v-img__img--cover":m.cover,"v-img__img--contain":!m.cover})),l=()=>{var v;if(!p.value.src||V.value==="idle")return null;const f=_t("img",{class:["v-img__img",r.value],src:p.value.src,srcset:p.value.srcset,alt:m.alt,sizes:m.sizes,ref:Ce,onLoad:C,onError:y},null),w=(v=de.sources)==null?void 0:v.call(de);return _t(tf,{transition:m.transition,appear:!0},{default:()=>[To(w?_t("picture",{class:"v-img__picture"},[w,f]):f,[[Vf,V.value==="loaded"]])]})},a=()=>_t(tf,{transition:m.transition},{default:()=>[p.value.lazySrc&&V.value!=="loaded"&&_t("img",{class:["v-img__img","v-img__img--preload",r.value],src:p.value.lazySrc,alt:m.alt},null)]}),s=()=>de.placeholder?_t(tf,{transition:m.transition,appear:!0},{default:()=>[(V.value==="loading"||V.value==="error"&&!de.error)&&_t("div",{class:"v-img__placeholder"},[de.placeholder()])]}):null,c=()=>de.error?_t(tf,{transition:m.transition,appear:!0},{default:()=>[V.value==="error"&&_t("div",{class:"v-img__error"},[de.error()])]}):null,u=()=>m.gradient?_t("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${m.gradient})`}},null):null,b=Da(!1);{const f=Oa(L,w=>{w&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{b.value=!0})}),f())})}return da(()=>{const[f]=Jy.filterProps(m);return To(_t(Jy,Ra({class:["v-img",{"v-img--booting":!b.value},m.class],style:[{width:Na(m.width==="auto"?B.value:m.width)},m.style]},f,{aspectRatio:L.value,"aria-label":m.alt,role:m.alt?"img":void 0}),{additional:()=>_t(Qa,null,[_t(l,null,null),_t(a,null,null),_t(u,null,null),_t(s,null,null),_t(c,null,null)]),default:de.default}),[[Dl("intersect"),{handler:n,options:m.options},null,{once:!0}]])}),{currentSrc:be,image:Ce,state:V,naturalWidth:B,naturalHeight:e}}}),Ql=Bn({border:[Boolean,Number,String]},"border");function Eu(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ic();return{borderClasses:Tr(()=>{const de=Io(m)?m.value:m.border,be=[];if(de===!0||de==="")be.push(`${$}--border`);else if(typeof de=="string"||de===0)for(const Ce of String(de).split(" "))be.push(`border-${Ce}`);return be})}}function s1(m){return Ym(()=>{const $=[],ae={};return m.value.background&&(K2(m.value.background)?ae.backgroundColor=m.value.background:$.push(`bg-${m.value.background}`)),m.value.text&&(K2(m.value.text)?(ae.color=m.value.text,ae.caretColor=m.value.text):$.push(`text-${m.value.text}`)),{colorClasses:$,colorStyles:ae}})}function js(m,$){const ae=Tr(()=>({text:Io(m)?m.value:$?m[$]:null})),{colorClasses:de,colorStyles:be}=s1(ae);return{textColorClasses:de,textColorStyles:be}}function Xo(m,$){const ae=Tr(()=>({background:Io(m)?m.value:$?m[$]:null})),{colorClasses:de,colorStyles:be}=s1(ae);return{backgroundColorClasses:de,backgroundColorStyles:be}}const ss=Bn({elevation:{type:[Number,String],validator(m){const $=parseInt(m);return!isNaN($)&&$>=0&&$<=24}}},"elevation");function Ds(m){return{elevationClasses:Tr(()=>{const ae=Io(m)?m.value:m.elevation,de=[];return ae==null||de.push(`elevation-${ae}`),de})}}const go=Bn({rounded:{type:[Boolean,Number,String],default:void 0}},"rounded");function Do(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ic();return{roundedClasses:Tr(()=>{const de=Io(m)?m.value:m.rounded,be=[];if(de===!0||de==="")be.push(`${$}--rounded`);else if(typeof de=="string"||de===0)for(const Ce of String(de).split(" "))be.push(`rounded-${Ce}`);return be})}}const GL=[null,"prominent","default","comfortable","compact"],Ow=Bn({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:m=>GL.includes(m)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...Ql(),...Fa(),...ss(),...go(),...li({tag:"header"}),...Di()},"VToolbar"),$y=ea()({name:"VToolbar",props:Ow(),setup(m,$){var y;let{slots:ae}=$;const{backgroundColorClasses:de,backgroundColorStyles:be}=Xo(oa(m,"color")),{borderClasses:Ce}=Eu(m),{elevationClasses:V}=Ds(m),{roundedClasses:B}=Do(m),{themeClasses:e}=Zi(m),{rtlClasses:p}=bs(),L=Da(!!(m.extended||(y=ae.extension)!=null&&y.call(ae))),n=Tr(()=>parseInt(Number(m.height)+(m.density==="prominent"?Number(m.height):0)-(m.density==="comfortable"?8:0)-(m.density==="compact"?16:0),10)),C=Tr(()=>L.value?parseInt(Number(m.extensionHeight)+(m.density==="prominent"?Number(m.extensionHeight):0)-(m.density==="comfortable"?4:0)-(m.density==="compact"?8:0),10):0);return ts({VBtn:{variant:"text"}}),da(()=>{var r;const h=!!(m.title||ae.title),g=!!(ae.image||m.image),t=(r=ae.extension)==null?void 0:r.call(ae);return L.value=!!(m.extended||t),_t(m.tag,{class:["v-toolbar",{"v-toolbar--absolute":m.absolute,"v-toolbar--collapse":m.collapse,"v-toolbar--flat":m.flat,"v-toolbar--floating":m.floating,[`v-toolbar--density-${m.density}`]:!0},de.value,Ce.value,V.value,B.value,e.value,p.value,m.class],style:[be.value,m.style]},{default:()=>[g&&_t("div",{key:"image",class:"v-toolbar__image"},[ae.image?_t(Qi,{key:"image-defaults",disabled:!m.image,defaults:{VImg:{cover:!0,src:m.image}}},ae.image):_t(mv,{key:"image-img",cover:!0,src:m.image},null)]),_t(Qi,{defaults:{VTabs:{height:Na(n.value)}}},{default:()=>{var l,a,s;return[_t("div",{class:"v-toolbar__content",style:{height:Na(n.value)}},[ae.prepend&&_t("div",{class:"v-toolbar__prepend"},[(l=ae.prepend)==null?void 0:l.call(ae)]),h&&_t(a1,{key:"title",text:m.title},{text:ae.title}),(a=ae.default)==null?void 0:a.call(ae),ae.append&&_t("div",{class:"v-toolbar__append"},[(s=ae.append)==null?void 0:s.call(ae)])])]}}),_t(Qi,{defaults:{VTabs:{height:Na(C.value)}}},{default:()=>[_t(cg,null,{default:()=>[L.value&&_t("div",{class:"v-toolbar__extension",style:{height:Na(C.value)}},[t])]})]})]})}),{contentHeight:n,extensionHeight:C}}}),WL=Bn({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function YL(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:ae}=$;let de=0;const be=Ta(null),Ce=Da(0),V=Da(0),B=Da(0),e=Da(!1),p=Da(!1),L=Tr(()=>Number(m.scrollThreshold)),n=Tr(()=>Xs((L.value-Ce.value)/L.value||0)),C=()=>{const y=be.value;!y||ae&&!ae.value||(de=Ce.value,Ce.value="window"in y?y.pageYOffset:y.scrollTop,p.value=Ce.value<de,B.value=Math.abs(Ce.value-L.value))};return Oa(p,()=>{V.value=V.value||Ce.value}),Oa(e,()=>{V.value=0}),Ks(()=>{Oa(()=>m.scrollTarget,y=>{var g;const h=y?document.querySelector(y):window;h&&h!==be.value&&((g=be.value)==null||g.removeEventListener("scroll",C),be.value=h,be.value.addEventListener("scroll",C,{passive:!0}))},{immediate:!0})}),dl(()=>{var y;(y=be.value)==null||y.removeEventListener("scroll",C)}),ae&&Oa(ae,C,{immediate:!0}),{scrollThreshold:L,currentScroll:Ce,currentThreshold:B,isScrollActive:e,scrollRatio:n,isScrollingUp:p,savedScroll:V}}function Sv(){const m=Da(!1);return Ks(()=>{window.requestAnimationFrame(()=>{m.value=!0})}),{ssrBootStyles:Tr(()=>m.value?void 0:{transition:"none !important"}),isBooted:k0(m)}}const ZL=Bn({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:m=>["top","bottom"].includes(m)},...Ow(),...Ad(),...WL(),height:{type:[Number,String],default:64}},"VAppBar"),XL=ea()({name:"VAppBar",props:ZL(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const de=Ta(),be=si(m,"modelValue"),Ce=Tr(()=>{var l;const r=new Set(((l=m.scrollBehavior)==null?void 0:l.split(" "))??[]);return{hide:r.has("hide"),inverted:r.has("inverted"),collapse:r.has("collapse"),elevate:r.has("elevate"),fadeImage:r.has("fade-image")}}),V=Tr(()=>{const r=Ce.value;return r.hide||r.inverted||r.collapse||r.elevate||r.fadeImage||!be.value}),{currentScroll:B,scrollThreshold:e,isScrollingUp:p,scrollRatio:L}=YL(m,{canScroll:V}),n=Tr(()=>m.collapse||Ce.value.collapse&&(Ce.value.inverted?L.value>0:L.value===0)),C=Tr(()=>m.flat||Ce.value.elevate&&(Ce.value.inverted?B.value>0:B.value===0)),y=Tr(()=>Ce.value.fadeImage?Ce.value.inverted?1-L.value:L.value:void 0),h=Tr(()=>{var a,s;if(Ce.value.hide&&Ce.value.inverted)return 0;const r=((a=de.value)==null?void 0:a.contentHeight)??0,l=((s=de.value)==null?void 0:s.extensionHeight)??0;return r+l});Mc(Tr(()=>!!m.scrollBehavior),()=>{Jl(()=>{Ce.value.hide?Ce.value.inverted?be.value=B.value>e.value:be.value=p.value||B.value<e.value:be.value=!0})});const{ssrBootStyles:g}=Sv(),{layoutItemStyles:t}=Sd({id:m.name,order:Tr(()=>parseInt(m.order,10)),position:oa(m,"location"),layoutSize:h,elementSize:Da(void 0),active:be,absolute:oa(m,"absolute")});return da(()=>{const[r]=$y.filterProps(m);return _t($y,Ra({ref:de,class:["v-app-bar",{"v-app-bar--bottom":m.location==="bottom"},m.class],style:[{...t.value,"--v-toolbar-image-opacity":y.value,height:void 0,...g.value},m.style]},r,{collapse:n.value,flat:C.value}),ae)}),{}}});const jL=[null,"default","comfortable","compact"],ls=Bn({density:{type:String,default:"default",validator:m=>jL.includes(m)}},"density");function $s(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ic();return{densityClasses:Tr(()=>`${$}--density-${m.density}`)}}const KL=["elevated","flat","tonal","outlined","text","plain"];function Mv(m,$){return _t(Qa,null,[m&&_t("span",{key:"overlay",class:`${$}__overlay`},null),_t("span",{key:"underlay",class:`${$}__underlay`},null)])}const Lu=Bn({color:String,variant:{type:String,default:"elevated",validator:m=>KL.includes(m)}},"variant");function Cv(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ic();const ae=Tr(()=>{const{variant:Ce}=ms(m);return`${$}--variant-${Ce}`}),{colorClasses:de,colorStyles:be}=s1(Tr(()=>{const{variant:Ce,color:V}=ms(m);return{[["elevated","flat"].includes(Ce)?"background":"text"]:V}}));return{colorClasses:de,colorStyles:be,variantClasses:ae}}const Bw=Bn({divided:Boolean,...Ql(),...Fa(),...ls(),...ss(),...go(),...li(),...Di(),...Lu()},"VBtnGroup"),Qy=ea()({name:"VBtnGroup",props:Bw(),setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Zi(m),{densityClasses:be}=$s(m),{borderClasses:Ce}=Eu(m),{elevationClasses:V}=Ds(m),{roundedClasses:B}=Do(m);ts({VBtn:{height:"auto",color:oa(m,"color"),density:oa(m,"density"),flat:!0,variant:oa(m,"variant")}}),da(()=>_t(m.tag,{class:["v-btn-group",{"v-btn-group--divided":m.divided},de.value,Ce.value,be.value,V.value,B.value,m.class],style:m.style},ae))}}),Md=Bn({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),Cd=Bn({value:null,disabled:Boolean,selectedClass:String},"group-item");function Ed(m,$){let ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const de=xs("useGroupItem");if(!de)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const be=Js();Oo(Symbol.for(`${$.description}:id`),be);const Ce=Ii($,null);if(!Ce){if(!ae)return Ce;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${$.description}`)}const V=oa(m,"value"),B=Tr(()=>Ce.disabled.value||m.disabled);Ce.register({id:be,value:V,disabled:B},de),dl(()=>{Ce.unregister(be)});const e=Tr(()=>Ce.isSelected(be)),p=Tr(()=>e.value&&[Ce.selectedClass.value,m.selectedClass]);return Oa(e,L=>{de.emit("group:selected",{value:L})}),{id:be,isSelected:e,toggle:()=>Ce.select(be,!e.value),select:L=>Ce.select(be,L),selectedClass:p,value:V,disabled:B,group:Ce}}function Ev(m,$){let ae=!1;const de=hl([]),be=si(m,"modelValue",[],C=>C==null?[]:Nw(de,wu(C)),C=>{const y=$L(de,C);return m.multiple?y:y[0]}),Ce=xs("useGroup");function V(C,y){const h=C,g=Symbol.for(`${$.description}:id`),r=p0(g,Ce==null?void 0:Ce.vnode).indexOf(y);r>-1?de.splice(r,0,h):de.push(h)}function B(C){if(ae)return;e();const y=de.findIndex(h=>h.id===C);de.splice(y,1)}function e(){const C=de.find(y=>!y.disabled);C&&m.mandatory==="force"&&!be.value.length&&(be.value=[C.id])}Ks(()=>{e()}),dl(()=>{ae=!0});function p(C,y){const h=de.find(g=>g.id===C);if(!(y&&(h!=null&&h.disabled)))if(m.multiple){const g=be.value.slice(),t=g.findIndex(l=>l===C),r=~t;if(y=y??!r,r&&m.mandatory&&g.length<=1||!r&&m.max!=null&&g.length+1>m.max)return;t<0&&y?g.push(C):t>=0&&!y&&g.splice(t,1),be.value=g}else{const g=be.value.includes(C);if(m.mandatory&&g)return;be.value=y??!g?[C]:[]}}function L(C){if(m.multiple,be.value.length){const y=be.value[0],h=de.findIndex(r=>r.id===y);let g=(h+C)%de.length,t=de[g];for(;t.disabled&&g!==h;)g=(g+C)%de.length,t=de[g];if(t.disabled)return;be.value=[de[g].id]}else{const y=de.find(h=>!h.disabled);y&&(be.value=[y.id])}}const n={register:V,unregister:B,selected:be,select:p,disabled:oa(m,"disabled"),prev:()=>L(de.length-1),next:()=>L(1),isSelected:C=>be.value.includes(C),selectedClass:Tr(()=>m.selectedClass),items:Tr(()=>de),getItemIndex:C=>JL(de,C)};return Oo($,n),n}function JL(m,$){const ae=Nw(m,[$]);return ae.length?m.findIndex(de=>de.id===ae[0]):-1}function Nw(m,$){const ae=[];return $.forEach(de=>{const be=m.find(V=>wv(de,V.value)),Ce=m[de];(be==null?void 0:be.value)!=null?ae.push(be.id):Ce!=null&&ae.push(Ce.id)}),ae}function $L(m,$){const ae=[];return $.forEach(de=>{const be=m.findIndex(Ce=>Ce.id===de);if(~be){const Ce=m[be];ae.push(Ce.value!=null?Ce.value:be)}}),ae}const l1=Symbol.for("vuetify:v-btn-toggle"),QL=Bn({...Bw(),...Md()},"VBtnToggle"),qL=ea()({name:"VBtnToggle",props:QL(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const{isSelected:de,next:be,prev:Ce,select:V,selected:B}=Ev(m,l1);return da(()=>{const[e]=Qy.filterProps(m);return _t(Qy,Ra({class:["v-btn-toggle",m.class]},e,{style:m.style}),{default:()=>{var p;return[(p=ae.default)==null?void 0:p.call(ae,{isSelected:de,next:be,prev:Ce,select:V,selected:B})]}})}),{next:be,prev:Ce,select:V}}});const e7=["x-small","small","default","large","x-large"],kc=Bn({size:{type:[String,Number],default:"default"}},"size");function Ld(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ic();return Ym(()=>{let ae,de;return Up(e7,m.size)?ae=`${$}--size-${m.size}`:m.size&&(de={width:Na(m.size),height:Na(m.size)}),{sizeClasses:ae,sizeStyles:de}})}const t7=Bn({color:String,start:Boolean,end:Boolean,icon:ai,...Fa(),...kc(),...li({tag:"i"}),...Di()},"VIcon"),ao=ea()({name:"VIcon",props:t7(),setup(m,$){let{attrs:ae,slots:de}=$;const be=Ta(),{themeClasses:Ce}=Zi(m),{iconData:V}=BE(Tr(()=>be.value||m.icon)),{sizeClasses:B}=Ld(m),{textColorClasses:e,textColorStyles:p}=js(oa(m,"color"));return da(()=>{var n,C;const L=(n=de.default)==null?void 0:n.call(de);return L&&(be.value=(C=iw(L).filter(y=>y.type===_0&&y.children&&typeof y.children=="string")[0])==null?void 0:C.children),_t(V.value.component,{tag:m.tag,icon:V.value.icon,class:["v-icon","notranslate",Ce.value,B.value,e.value,{"v-icon--clickable":!!ae.onClick,"v-icon--start":m.start,"v-icon--end":m.end},m.class],style:[B.value?void 0:{fontSize:Na(m.size),height:Na(m.size),width:Na(m.size)},p.value,m.style],role:ae.onClick?"button":void 0,"aria-hidden":!ae.onClick},{default:()=>[L]})}),{}}});function u1(m,$){const ae=Ta(),de=Da(!1);if(e1){const be=new IntersectionObserver(Ce=>{m==null||m(Ce,be),de.value=!!Ce.find(V=>V.isIntersecting)},$);dl(()=>{be.disconnect()}),Oa(ae,(Ce,V)=>{V&&(be.unobserve(V),de.value=!1),Ce&&be.observe(Ce)},{flush:"post"})}return{intersectionRef:ae,isIntersecting:de}}const r7=Bn({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...Fa(),...kc(),...li({tag:"div"}),...Di()},"VProgressCircular"),f1=ea()({name:"VProgressCircular",props:r7(),setup(m,$){let{slots:ae}=$;const de=20,be=2*Math.PI*de,Ce=Ta(),{themeClasses:V}=Zi(m),{sizeClasses:B,sizeStyles:e}=Ld(m),{textColorClasses:p,textColorStyles:L}=js(oa(m,"color")),{textColorClasses:n,textColorStyles:C}=js(oa(m,"bgColor")),{intersectionRef:y,isIntersecting:h}=u1(),{resizeRef:g,contentRect:t}=Bf(),r=Tr(()=>Math.max(0,Math.min(100,parseFloat(m.modelValue)))),l=Tr(()=>Number(m.width)),a=Tr(()=>e.value?Number(m.size):t.value?t.value.width:Math.max(l.value,32)),s=Tr(()=>de/(1-l.value/a.value)*2),c=Tr(()=>l.value/a.value*s.value),u=Tr(()=>Na((100-r.value)/100*be));return Jl(()=>{y.value=Ce.value,g.value=Ce.value}),da(()=>_t(m.tag,{ref:Ce,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!m.indeterminate,"v-progress-circular--visible":h.value,"v-progress-circular--disable-shrink":m.indeterminate==="disable-shrink"},V.value,B.value,p.value,m.class],style:[e.value,L.value,m.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":m.indeterminate?void 0:r.value},{default:()=>[_t("svg",{style:{transform:`rotate(calc(-90deg + ${Number(m.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${s.value} ${s.value}`},[_t("circle",{class:["v-progress-circular__underlay",n.value],style:C.value,fill:"transparent",cx:"50%",cy:"50%",r:de,"stroke-width":c.value,"stroke-dasharray":be,"stroke-dashoffset":0},null),_t("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:de,"stroke-width":c.value,"stroke-dasharray":be,"stroke-dashoffset":u.value},null)]),ae.default&&_t("div",{class:"v-progress-circular__content"},[ae.default({value:r.value})])]})),{}}});const xb={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},Ah=Bn({location:String},"location");function Sh(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ae=arguments.length>2?arguments[2]:void 0;const{isRtl:de}=bs();return{locationStyles:Tr(()=>{if(!m.location)return{};const{side:Ce,align:V}=Vy(m.location.split(" ").length>1?m.location:`${m.location} center`,de.value);function B(p){return ae?ae(p):0}const e={};return Ce!=="center"&&($?e[xb[Ce]]=`calc(100% - ${B(Ce)}px)`:e[Ce]=0),V!=="center"?$?e[xb[V]]=`calc(100% - ${B(V)}px)`:e[V]=0:(Ce==="center"?e.top=e.left="50%":e[{top:"left",bottom:"left",left:"top",right:"top"}[Ce]]="50%",e.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[Ce]),e})}}const n7=Bn({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...Fa(),...Ah({location:"top"}),...go(),...li(),...Di()},"VProgressLinear"),c1=ea()({name:"VProgressLinear",props:n7(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const de=si(m,"modelValue"),{isRtl:be,rtlClasses:Ce}=bs(),{themeClasses:V}=Zi(m),{locationStyles:B}=Sh(m),{textColorClasses:e,textColorStyles:p}=js(m,"color"),{backgroundColorClasses:L,backgroundColorStyles:n}=Xo(Tr(()=>m.bgColor||m.color)),{backgroundColorClasses:C,backgroundColorStyles:y}=Xo(m,"color"),{roundedClasses:h}=Do(m),{intersectionRef:g,isIntersecting:t}=u1(),r=Tr(()=>parseInt(m.max,10)),l=Tr(()=>parseInt(m.height,10)),a=Tr(()=>parseFloat(m.bufferValue)/r.value*100),s=Tr(()=>parseFloat(de.value)/r.value*100),c=Tr(()=>be.value!==m.reverse),u=Tr(()=>m.indeterminate?"fade-transition":"slide-x-transition"),b=Tr(()=>m.bgOpacity==null?m.bgOpacity:parseFloat(m.bgOpacity));function f(w){if(!g.value)return;const{left:v,right:o,width:d}=g.value.getBoundingClientRect(),S=c.value?d-w.clientX+(o-d):w.clientX-v;de.value=Math.round(S/d*r.value)}return da(()=>_t(m.tag,{ref:g,class:["v-progress-linear",{"v-progress-linear--absolute":m.absolute,"v-progress-linear--active":m.active&&t.value,"v-progress-linear--reverse":c.value,"v-progress-linear--rounded":m.rounded,"v-progress-linear--rounded-bar":m.roundedBar,"v-progress-linear--striped":m.striped},h.value,V.value,Ce.value,m.class],style:[{bottom:m.location==="bottom"?0:void 0,top:m.location==="top"?0:void 0,height:m.active?Na(l.value):0,"--v-progress-linear-height":Na(l.value),...B.value},m.style],role:"progressbar","aria-hidden":m.active?"false":"true","aria-valuemin":"0","aria-valuemax":m.max,"aria-valuenow":m.indeterminate?void 0:s.value,onClick:m.clickable&&f},{default:()=>[m.stream&&_t("div",{key:"stream",class:["v-progress-linear__stream",e.value],style:{...p.value,[c.value?"left":"right"]:Na(-l.value),borderTop:`${Na(l.value/2)} dotted`,opacity:b.value,top:`calc(50% - ${Na(l.value/4)})`,width:Na(100-a.value,"%"),"--v-progress-linear-stream-to":Na(l.value*(c.value?1:-1))}},null),_t("div",{class:["v-progress-linear__background",L.value],style:[n.value,{opacity:b.value,width:Na(m.stream?a.value:100,"%")}]},null),_t(Of,{name:u.value},{default:()=>[m.indeterminate?_t("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(w=>_t("div",{key:w,class:["v-progress-linear__indeterminate",w,C.value],style:y.value},null))]):_t("div",{class:["v-progress-linear__determinate",C.value],style:[y.value,{width:Na(s.value,"%")}]},null)]}),ae.default&&_t("div",{class:"v-progress-linear__content"},[ae.default({value:s.value,buffer:a.value})])]})),{}}}),h1=Bn({loading:[Boolean,String]},"loader");function hg(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ic();return{loaderClasses:Tr(()=>({[`${$}--loading`]:m.loading}))}}function v1(m,$){var de;let{slots:ae}=$;return _t("div",{class:`${m.name}__loader`},[((de=ae.default)==null?void 0:de.call(ae,{color:m.color,isActive:m.active}))||_t(c1,{active:m.active,color:m.color,height:"2",indeterminate:!0},null)])}const a7=["static","relative","fixed","absolute","sticky"],Pd=Bn({position:{type:String,validator:m=>a7.includes(m)}},"position");function Rd(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ic();return{positionClasses:Tr(()=>m.position?`${$}--${m.position}`:void 0)}}function Vw(){var m,$;return($=(m=xs("useRouter"))==null?void 0:m.proxy)==null?void 0:$.$router}function O0(m,$){const ae=TM("RouterLink"),de=Tr(()=>!!(m.href||m.to)),be=Tr(()=>(de==null?void 0:de.value)||Y2($,"click")||Y2(m,"click"));if(typeof ae=="string")return{isLink:de,isClickable:be,href:oa(m,"href")};const Ce=m.to?ae.useLink(m):void 0;return{isLink:de,isClickable:be,route:Ce==null?void 0:Ce.route,navigate:Ce==null?void 0:Ce.navigate,isActive:Ce&&Tr(()=>{var V,B;return m.exact?(V=Ce.isExactActive)==null?void 0:V.value:(B=Ce.isActive)==null?void 0:B.value}),href:Tr(()=>m.to?Ce==null?void 0:Ce.route.value.href:m.href)}}const B0=Bn({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let vy=!1;function i7(m,$){let ae=!1,de,be;Zo&&(io(()=>{window.addEventListener("popstate",Ce),de=m==null?void 0:m.beforeEach((V,B,e)=>{vy?ae?$(e):e():setTimeout(()=>ae?$(e):e()),vy=!0}),be=m==null?void 0:m.afterEach(()=>{vy=!1})}),Rl(()=>{window.removeEventListener("popstate",Ce),de==null||de(),be==null||be()}));function Ce(V){var B;(B=V.state)!=null&&B.replaced||(ae=!0,setTimeout(()=>ae=!1))}}function o7(m,$){Oa(()=>{var ae;return(ae=m.isActive)==null?void 0:ae.value},ae=>{m.isLink.value&&ae&&$&&io(()=>{$(!0)})},{immediate:!0})}const qy=Symbol("rippleStop"),s7=80;function bb(m,$){m.style.transform=$,m.style.webkitTransform=$}function em(m){return m.constructor.name==="TouchEvent"}function Uw(m){return m.constructor.name==="KeyboardEvent"}const l7=function(m,$){var n;let ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},de=0,be=0;if(!Uw(m)){const C=$.getBoundingClientRect(),y=em(m)?m.touches[m.touches.length-1]:m;de=y.clientX-C.left,be=y.clientY-C.top}let Ce=0,V=.3;(n=$._ripple)!=null&&n.circle?(V=.15,Ce=$.clientWidth/2,Ce=ae.center?Ce:Ce+Math.sqrt((de-Ce)**2+(be-Ce)**2)/4):Ce=Math.sqrt($.clientWidth**2+$.clientHeight**2)/2;const B=`${($.clientWidth-Ce*2)/2}px`,e=`${($.clientHeight-Ce*2)/2}px`,p=ae.center?B:`${de-Ce}px`,L=ae.center?e:`${be-Ce}px`;return{radius:Ce,scale:V,x:p,y:L,centerX:B,centerY:e}},Zp={show(m,$){var y;let ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((y=$==null?void 0:$._ripple)!=null&&y.enabled))return;const de=document.createElement("span"),be=document.createElement("span");de.appendChild(be),de.className="v-ripple__container",ae.class&&(de.className+=` ${ae.class}`);const{radius:Ce,scale:V,x:B,y:e,centerX:p,centerY:L}=l7(m,$,ae),n=`${Ce*2}px`;be.className="v-ripple__animation",be.style.width=n,be.style.height=n,$.appendChild(de);const C=window.getComputedStyle($);C&&C.position==="static"&&($.style.position="relative",$.dataset.previousPosition="static"),be.classList.add("v-ripple__animation--enter"),be.classList.add("v-ripple__animation--visible"),bb(be,`translate(${B}, ${e}) scale3d(${V},${V},${V})`),be.dataset.activated=String(performance.now()),setTimeout(()=>{be.classList.remove("v-ripple__animation--enter"),be.classList.add("v-ripple__animation--in"),bb(be,`translate(${p}, ${L}) scale3d(1,1,1)`)},0)},hide(m){var Ce;if(!((Ce=m==null?void 0:m._ripple)!=null&&Ce.enabled))return;const $=m.getElementsByClassName("v-ripple__animation");if($.length===0)return;const ae=$[$.length-1];if(ae.dataset.isHiding)return;ae.dataset.isHiding="true";const de=performance.now()-Number(ae.dataset.activated),be=Math.max(250-de,0);setTimeout(()=>{ae.classList.remove("v-ripple__animation--in"),ae.classList.add("v-ripple__animation--out"),setTimeout(()=>{var B;m.getElementsByClassName("v-ripple__animation").length===1&&m.dataset.previousPosition&&(m.style.position=m.dataset.previousPosition,delete m.dataset.previousPosition),((B=ae.parentNode)==null?void 0:B.parentNode)===m&&m.removeChild(ae.parentNode)},300)},be)}};function Hw(m){return typeof m>"u"||!!m}function P0(m){const $={},ae=m.currentTarget;if(!(!(ae!=null&&ae._ripple)||ae._ripple.touched||m[qy])){if(m[qy]=!0,em(m))ae._ripple.touched=!0,ae._ripple.isTouch=!0;else if(ae._ripple.isTouch)return;if($.center=ae._ripple.centered||Uw(m),ae._ripple.class&&($.class=ae._ripple.class),em(m)){if(ae._ripple.showTimerCommit)return;ae._ripple.showTimerCommit=()=>{Zp.show(m,ae,$)},ae._ripple.showTimer=window.setTimeout(()=>{var de;(de=ae==null?void 0:ae._ripple)!=null&&de.showTimerCommit&&(ae._ripple.showTimerCommit(),ae._ripple.showTimerCommit=null)},s7)}else Zp.show(m,ae,$)}}function wb(m){m[qy]=!0}function Kl(m){const $=m.currentTarget;if($!=null&&$._ripple){if(window.clearTimeout($._ripple.showTimer),m.type==="touchend"&&$._ripple.showTimerCommit){$._ripple.showTimerCommit(),$._ripple.showTimerCommit=null,$._ripple.showTimer=window.setTimeout(()=>{Kl(m)});return}window.setTimeout(()=>{$._ripple&&($._ripple.touched=!1)}),Zp.hide($)}}function Gw(m){const $=m.currentTarget;$!=null&&$._ripple&&($._ripple.showTimerCommit&&($._ripple.showTimerCommit=null),window.clearTimeout($._ripple.showTimer))}let R0=!1;function Ww(m){!R0&&(m.keyCode===U2.enter||m.keyCode===U2.space)&&(R0=!0,P0(m))}function Yw(m){R0=!1,Kl(m)}function Zw(m){R0&&(R0=!1,Kl(m))}function Xw(m,$,ae){const{value:de,modifiers:be}=$,Ce=Hw(de);if(Ce||Zp.hide(m),m._ripple=m._ripple??{},m._ripple.enabled=Ce,m._ripple.centered=be.center,m._ripple.circle=be.circle,Oy(de)&&de.class&&(m._ripple.class=de.class),Ce&&!ae){if(be.stop){m.addEventListener("touchstart",wb,{passive:!0}),m.addEventListener("mousedown",wb);return}m.addEventListener("touchstart",P0,{passive:!0}),m.addEventListener("touchend",Kl,{passive:!0}),m.addEventListener("touchmove",Gw,{passive:!0}),m.addEventListener("touchcancel",Kl),m.addEventListener("mousedown",P0),m.addEventListener("mouseup",Kl),m.addEventListener("mouseleave",Kl),m.addEventListener("keydown",Ww),m.addEventListener("keyup",Yw),m.addEventListener("blur",Zw),m.addEventListener("dragstart",Kl,{passive:!0})}else!Ce&&ae&&jw(m)}function jw(m){m.removeEventListener("mousedown",P0),m.removeEventListener("touchstart",P0),m.removeEventListener("touchend",Kl),m.removeEventListener("touchmove",Gw),m.removeEventListener("touchcancel",Kl),m.removeEventListener("mouseup",Kl),m.removeEventListener("mouseleave",Kl),m.removeEventListener("keydown",Ww),m.removeEventListener("keyup",Yw),m.removeEventListener("dragstart",Kl),m.removeEventListener("blur",Zw)}function u7(m,$){Xw(m,$,!1)}function f7(m){delete m._ripple,jw(m)}function c7(m,$){if($.value===$.oldValue)return;const ae=Hw($.oldValue);Xw(m,$,ae)}const Mh={mounted:u7,unmounted:f7,updated:c7},d1=Bn({active:{type:Boolean,default:void 0},symbol:{type:null,default:l1},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:ai,appendIcon:ai,block:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:String,...Ql(),...Fa(),...ls(),...Mu(),...ss(),...Cd(),...h1(),...Ah(),...Pd(),...go(),...B0(),...kc(),...li({tag:"button"}),...Di(),...Lu({variant:"elevated"})},"VBtn"),vl=ea()({name:"VBtn",directives:{Ripple:Mh},props:d1(),emits:{"group:selected":m=>!0},setup(m,$){let{attrs:ae,slots:de}=$;const{themeClasses:be}=Zi(m),{borderClasses:Ce}=Eu(m),{colorClasses:V,colorStyles:B,variantClasses:e}=Cv(m),{densityClasses:p}=$s(m),{dimensionStyles:L}=Cu(m),{elevationClasses:n}=Ds(m),{loaderClasses:C}=hg(m),{locationStyles:y}=Sh(m),{positionClasses:h}=Rd(m),{roundedClasses:g}=Do(m),{sizeClasses:t,sizeStyles:r}=Ld(m),l=Ed(m,m.symbol,!1),a=O0(m,ae),s=Tr(()=>{var w;return m.active!==void 0?m.active:a.isLink.value?(w=a.isActive)==null?void 0:w.value:l==null?void 0:l.isSelected.value}),c=Tr(()=>(l==null?void 0:l.disabled.value)||m.disabled),u=Tr(()=>m.variant==="elevated"&&!(m.disabled||m.flat||m.border)),b=Tr(()=>{if(m.value!==void 0)return Object(m.value)===m.value?JSON.stringify(m.value,null,0):m.value});function f(w){var v;c.value||a.isLink.value&&(w.metaKey||w.ctrlKey||w.shiftKey||w.button!==0||ae.target==="_blank")||((v=a.navigate)==null||v.call(a,w),l==null||l.toggle())}return o7(a,l==null?void 0:l.select),da(()=>{var M,P;const w=a.isLink.value?"a":m.tag,v=!!(m.prependIcon||de.prepend),o=!!(m.appendIcon||de.append),d=!!(m.icon&&m.icon!==!0),S=(l==null?void 0:l.isSelected.value)&&(!a.isLink.value||((M=a.isActive)==null?void 0:M.value))||!l||((P=a.isActive)==null?void 0:P.value);return To(_t(w,{type:w==="a"?void 0:"button",class:["v-btn",l==null?void 0:l.selectedClass.value,{"v-btn--active":s.value,"v-btn--block":m.block,"v-btn--disabled":c.value,"v-btn--elevated":u.value,"v-btn--flat":m.flat,"v-btn--icon":!!m.icon,"v-btn--loading":m.loading,"v-btn--stacked":m.stacked},be.value,Ce.value,S?V.value:void 0,p.value,n.value,C.value,h.value,g.value,t.value,e.value,m.class],style:[S?B.value:void 0,L.value,y.value,r.value,m.style],disabled:c.value||void 0,href:a.href.value,onClick:f,value:b.value},{default:()=>{var x;return[Mv(!0,"v-btn"),!m.icon&&v&&_t("span",{key:"prepend",class:"v-btn__prepend"},[de.prepend?_t(Qi,{key:"prepend-defaults",disabled:!m.prependIcon,defaults:{VIcon:{icon:m.prependIcon}}},de.prepend):_t(ao,{key:"prepend-icon",icon:m.prependIcon},null)]),_t("span",{class:"v-btn__content","data-no-activator":""},[!de.default&&d?_t(ao,{key:"content-icon",icon:m.icon},null):_t(Qi,{key:"content-defaults",disabled:!d,defaults:{VIcon:{icon:m.icon}}},{default:()=>{var E;return[((E=de.default)==null?void 0:E.call(de))??m.text]}})]),!m.icon&&o&&_t("span",{key:"append",class:"v-btn__append"},[de.append?_t(Qi,{key:"append-defaults",disabled:!m.appendIcon,defaults:{VIcon:{icon:m.appendIcon}}},de.append):_t(ao,{key:"append-icon",icon:m.appendIcon},null)]),!!m.loading&&_t("span",{key:"loader",class:"v-btn__loader"},[((x=de.loader)==null?void 0:x.call(de))??_t(f1,{color:typeof m.loading=="boolean"?void 0:m.loading,indeterminate:!0,size:"23",width:"2"},null)])]}}),[[Dl("ripple"),!c.value&&m.ripple,null]])}),{}}}),h7=Bn({...d1({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),v7=ea()({name:"VAppBarNavIcon",props:h7(),setup(m,$){let{slots:ae}=$;return da(()=>_t(vl,Ra(m,{class:["v-app-bar-nav-icon"]}),ae)),{}}}),d7=ea()({name:"VAppBarTitle",props:Rw(),setup(m,$){let{slots:ae}=$;return da(()=>_t(a1,Ra(m,{class:"v-app-bar-title"}),ae)),{}}});const Kw=of("v-alert-title"),p7=["success","info","warning","error"],g7=Bn({border:{type:[Boolean,String],validator:m=>typeof m=="boolean"||["top","end","bottom","start"].includes(m)},borderColor:String,closable:Boolean,closeIcon:{type:ai,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:m=>p7.includes(m)},...Fa(),...ls(),...Mu(),...ss(),...Ah(),...Pd(),...go(),...li(),...Di(),...Lu({variant:"flat"})},"VAlert"),y7=ea()({name:"VAlert",props:g7(),emits:{"click:close":m=>!0,"update:modelValue":m=>!0},setup(m,$){let{emit:ae,slots:de}=$;const be=si(m,"modelValue"),Ce=Tr(()=>{if(m.icon!==!1)return m.type?m.icon??`$${m.type}`:m.icon}),V=Tr(()=>({color:m.color??m.type,variant:m.variant})),{themeClasses:B}=Zi(m),{colorClasses:e,colorStyles:p,variantClasses:L}=Cv(V),{densityClasses:n}=$s(m),{dimensionStyles:C}=Cu(m),{elevationClasses:y}=Ds(m),{locationStyles:h}=Sh(m),{positionClasses:g}=Rd(m),{roundedClasses:t}=Do(m),{textColorClasses:r,textColorStyles:l}=js(oa(m,"borderColor")),{t:a}=Su(),s=Tr(()=>({"aria-label":a(m.closeLabel),onClick(c){be.value=!1,ae("click:close",c)}}));return()=>{const c=!!(de.prepend||Ce.value),u=!!(de.title||m.title),b=!!(de.close||m.closable);return be.value&&_t(m.tag,{class:["v-alert",m.border&&{"v-alert--border":!!m.border,[`v-alert--border-${m.border===!0?"start":m.border}`]:!0},{"v-alert--prominent":m.prominent},B.value,e.value,n.value,y.value,g.value,t.value,L.value,m.class],style:[p.value,C.value,h.value,m.style],role:"alert"},{default:()=>{var f,w;return[Mv(!1,"v-alert"),m.border&&_t("div",{key:"border",class:["v-alert__border",r.value],style:l.value},null),c&&_t("div",{key:"prepend",class:"v-alert__prepend"},[de.prepend?_t(Qi,{key:"prepend-defaults",disabled:!Ce.value,defaults:{VIcon:{density:m.density,icon:Ce.value,size:m.prominent?44:28}}},de.prepend):_t(ao,{key:"prepend-icon",density:m.density,icon:Ce.value,size:m.prominent?44:28},null)]),_t("div",{class:"v-alert__content"},[u&&_t(Kw,{key:"title"},{default:()=>{var v;return[((v=de.title)==null?void 0:v.call(de))??m.title]}}),((f=de.text)==null?void 0:f.call(de))??m.text,(w=de.default)==null?void 0:w.call(de)]),de.append&&_t("div",{key:"append",class:"v-alert__append"},[de.append()]),b&&_t("div",{key:"close",class:"v-alert__close"},[de.close?_t(Qi,{key:"close-defaults",defaults:{VBtn:{icon:m.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var v;return[(v=de.close)==null?void 0:v.call(de,{props:s.value})]}}):_t(vl,Ra({key:"close-btn",icon:m.closeIcon,size:"x-small",variant:"text"},s.value),null)])]}})}}});const m7=Bn({text:String,clickable:Boolean,...Fa(),...Di()},"VLabel"),Id=ea()({name:"VLabel",props:m7(),setup(m,$){let{slots:ae}=$;return da(()=>{var de;return _t("label",{class:["v-label",{"v-label--clickable":m.clickable},m.class],style:m.style},[m.text,(de=ae.default)==null?void 0:de.call(ae)])}),{}}});const Jw=Symbol.for("vuetify:selection-control-group"),p1=Bn({color:String,disabled:{type:Boolean,default:null},defaultsTarget:String,error:Boolean,id:String,inline:Boolean,falseIcon:ai,trueIcon:ai,ripple:{type:Boolean,default:!0},multiple:{type:Boolean,default:null},name:String,readonly:Boolean,modelValue:null,type:String,valueComparator:{type:Function,default:wv},...Fa(),...ls(),...Di()},"SelectionControlGroup"),x7=Bn({...p1({defaultsTarget:"VSelectionControl"})},"VSelectionControlGroup"),$w=ea()({name:"VSelectionControlGroup",props:x7(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const de=si(m,"modelValue"),be=Js(),Ce=Tr(()=>m.id||`v-selection-control-group-${be}`),V=Tr(()=>m.name||Ce.value),B=new Set;return Oo(Jw,{modelValue:de,forceUpdate:()=>{B.forEach(e=>e())},onForceUpdate:e=>{B.add(e),Rl(()=>{B.delete(e)})}}),ts({[m.defaultsTarget]:{color:oa(m,"color"),disabled:oa(m,"disabled"),density:oa(m,"density"),error:oa(m,"error"),inline:oa(m,"inline"),modelValue:de,multiple:Tr(()=>!!m.multiple||m.multiple==null&&Array.isArray(de.value)),name:V,falseIcon:oa(m,"falseIcon"),trueIcon:oa(m,"trueIcon"),readonly:oa(m,"readonly"),ripple:oa(m,"ripple"),type:oa(m,"type"),valueComparator:oa(m,"valueComparator")}}),da(()=>{var e;return _t("div",{class:["v-selection-control-group",{"v-selection-control-group--inline":m.inline},m.class],style:m.style,role:m.type==="radio"?"radiogroup":void 0},[(e=ae.default)==null?void 0:e.call(ae)])}),{}}}),vg=Bn({label:String,trueValue:null,falseValue:null,value:null,...Fa(),...p1()},"VSelectionControl");function b7(m){const $=Ii(Jw,void 0),{densityClasses:ae}=$s(m),de=si(m,"modelValue"),be=Tr(()=>m.trueValue!==void 0?m.trueValue:m.value!==void 0?m.value:!0),Ce=Tr(()=>m.falseValue!==void 0?m.falseValue:!1),V=Tr(()=>!!m.multiple||m.multiple==null&&Array.isArray(de.value)),B=Tr({get(){const n=$?$.modelValue.value:de.value;return V.value?n.some(C=>m.valueComparator(C,be.value)):m.valueComparator(n,be.value)},set(n){if(m.readonly)return;const C=n?be.value:Ce.value;let y=C;V.value&&(y=n?[...wu(de.value),C]:wu(de.value).filter(h=>!m.valueComparator(h,be.value))),$?$.modelValue.value=y:de.value=y}}),{textColorClasses:e,textColorStyles:p}=js(Tr(()=>B.value&&!m.error&&!m.disabled?m.color:void 0)),L=Tr(()=>B.value?m.trueIcon:m.falseIcon);return{group:$,densityClasses:ae,trueValue:be,falseValue:Ce,model:B,textColorClasses:e,textColorStyles:p,icon:L}}const md=ea()({name:"VSelectionControl",directives:{Ripple:Mh},inheritAttrs:!1,props:vg(),emits:{"update:modelValue":m=>!0},setup(m,$){let{attrs:ae,slots:de}=$;const{group:be,densityClasses:Ce,icon:V,model:B,textColorClasses:e,textColorStyles:p,trueValue:L}=b7(m),n=Js(),C=Tr(()=>m.id||`input-${n}`),y=Da(!1),h=Da(!1),g=Ta();be==null||be.onForceUpdate(()=>{g.value&&(g.value.checked=B.value)});function t(a){y.value=!0,(!Gy||Gy&&a.target.matches(":focus-visible"))&&(h.value=!0)}function r(){y.value=!1,h.value=!1}function l(a){m.readonly&&be&&io(()=>be.forceUpdate()),B.value=a.target.checked}return da(()=>{var u,b;const a=de.label?de.label({label:m.label,props:{for:C.value}}):m.label,[s,c]=Tv(ae);return _t("div",Ra({class:["v-selection-control",{"v-selection-control--dirty":B.value,"v-selection-control--disabled":m.disabled,"v-selection-control--error":m.error,"v-selection-control--focused":y.value,"v-selection-control--focus-visible":h.value,"v-selection-control--inline":m.inline},Ce.value,m.class]},s,{style:m.style}),[_t("div",{class:["v-selection-control__wrapper",e.value],style:p.value},[(u=de.default)==null?void 0:u.call(de),To(_t("div",{class:["v-selection-control__input"]},[V.value&&_t(ao,{key:"icon",icon:V.value},null),_t("input",Ra({ref:g,checked:B.value,disabled:!!(m.readonly||m.disabled),id:C.value,onBlur:r,onFocus:t,onInput:l,"aria-disabled":!!(m.readonly||m.disabled),type:m.type,value:L.value,name:m.name,"aria-checked":m.type==="checkbox"?B.value:void 0},c),null),(b=de.input)==null?void 0:b.call(de,{model:B,textColorClasses:e,textColorStyles:p,props:{onFocus:t,onBlur:r,id:C.value}})]),[[Dl("ripple"),m.ripple&&[!m.disabled&&!m.readonly,null,["center","circle"]]]])]),a&&_t(Id,{for:C.value,clickable:!0},{default:()=>[a]})])}),{isFocused:y,input:g}}}),Qw=Bn({indeterminate:Boolean,indeterminateIcon:{type:ai,default:"$checkboxIndeterminate"},...vg({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),xd=ea()({name:"VCheckboxBtn",props:Qw(),emits:{"update:modelValue":m=>!0,"update:indeterminate":m=>!0},setup(m,$){let{slots:ae}=$;const de=si(m,"indeterminate"),be=si(m,"modelValue");function Ce(e){de.value&&(de.value=!1)}const V=Tr(()=>de.value?m.indeterminateIcon:m.falseIcon),B=Tr(()=>de.value?m.indeterminateIcon:m.trueIcon);return da(()=>_t(md,Ra(m,{modelValue:be.value,"onUpdate:modelValue":[e=>be.value=e,Ce],class:["v-checkbox-btn",m.class],style:m.style,type:"checkbox",falseIcon:V.value,trueIcon:B.value,"aria-checked":de.value?"mixed":void 0}),ae)),{}}});function qw(m){const{t:$}=Su();function ae(de){let{name:be}=de;const Ce={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[be],V=m[`onClick:${be}`],B=V&&Ce?$(`$vuetify.input.${Ce}`,m.label??""):void 0;return _t(ao,{icon:m[`${be}Icon`],"aria-label":B,onClick:V},null)}return{InputIcon:ae}}const w7=Bn({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...Fa(),...Dc({transition:{component:i1,leaveAbsolute:!0,group:!0}})},"VMessages"),eT=ea()({name:"VMessages",props:w7(),setup(m,$){let{slots:ae}=$;const de=Tr(()=>wu(m.messages)),{textColorClasses:be,textColorStyles:Ce}=js(Tr(()=>m.color));return da(()=>_t(tf,{transition:m.transition,tag:"div",class:["v-messages",be.value,m.class],style:[Ce.value,m.style],role:"alert","aria-live":"polite"},{default:()=>[m.active&&de.value.map((V,B)=>_t("div",{class:"v-messages__message",key:`${B}-${de.value}`},[ae.message?ae.message({message:V}):V]))]})),{}}}),dg=Bn({focused:Boolean,"onUpdate:focused":zf()},"focus");function Ch(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ic();const ae=si(m,"focused"),de=Tr(()=>({[`${$}--focused`]:ae.value}));function be(){ae.value=!0}function Ce(){ae.value=!1}return{focusClasses:de,isFocused:ae,focus:be,blur:Ce}}const tT=Symbol.for("vuetify:form"),T7=Bn({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function A7(m){const $=si(m,"modelValue"),ae=Tr(()=>m.disabled),de=Tr(()=>m.readonly),be=Da(!1),Ce=Ta([]),V=Ta([]);async function B(){const L=[];let n=!0;V.value=[],be.value=!0;for(const C of Ce.value){const y=await C.validate();if(y.length>0&&(n=!1,L.push({id:C.id,errorMessages:y})),!n&&m.fastFail)break}return V.value=L,be.value=!1,{valid:n,errors:V.value}}function e(){Ce.value.forEach(L=>L.reset())}function p(){Ce.value.forEach(L=>L.resetValidation())}return Oa(Ce,()=>{let L=0,n=0;const C=[];for(const y of Ce.value)y.isValid===!1?(n++,C.push({id:y.id,errorMessages:y.errorMessages})):y.isValid===!0&&L++;V.value=C,$.value=n>0?!1:L===Ce.value.length?!0:null},{deep:!0}),Oo(tT,{register:L=>{let{id:n,validate:C,reset:y,resetValidation:h}=L;Ce.value.some(g=>g.id===n),Ce.value.push({id:n,validate:C,reset:y,resetValidation:h,isValid:null,errorMessages:[]})},unregister:L=>{Ce.value=Ce.value.filter(n=>n.id!==L)},update:(L,n,C)=>{const y=Ce.value.find(h=>h.id===L);y&&(y.isValid=n,y.errorMessages=C)},isDisabled:ae,isReadonly:de,isValidating:be,isValid:$,items:Ce,validateOn:oa(m,"validateOn")}),{errors:V,isDisabled:ae,isReadonly:de,isValidating:be,isValid:$,items:Ce,validate:B,reset:e,resetValidation:p}}function pg(){return Ii(tT,null)}const rT=Bn({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...dg()},"validation");function nT(m){let $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ic(),ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Js();const de=si(m,"modelValue"),be=Tr(()=>m.validationValue===void 0?de.value:m.validationValue),Ce=pg(),V=Ta([]),B=Da(!0),e=Tr(()=>!!(wu(de.value===""?null:de.value).length||wu(be.value===""?null:be.value).length)),p=Tr(()=>!!(m.disabled??(Ce==null?void 0:Ce.isDisabled.value))),L=Tr(()=>!!(m.readonly??(Ce==null?void 0:Ce.isReadonly.value))),n=Tr(()=>m.errorMessages.length?wu(m.errorMessages).slice(0,Math.max(0,+m.maxErrors)):V.value),C=Tr(()=>{let s=(m.validateOn??(Ce==null?void 0:Ce.validateOn.value))||"input";s==="lazy"&&(s="input lazy");const c=new Set((s==null?void 0:s.split(" "))??[]);return{blur:c.has("blur")||c.has("input"),input:c.has("input"),submit:c.has("submit"),lazy:c.has("lazy")}}),y=Tr(()=>m.error||m.errorMessages.length?!1:m.rules.length?B.value?V.value.length||C.value.lazy?null:!0:!V.value.length:!0),h=Da(!1),g=Tr(()=>({[`${$}--error`]:y.value===!1,[`${$}--dirty`]:e.value,[`${$}--disabled`]:p.value,[`${$}--readonly`]:L.value})),t=Tr(()=>m.name??ms(ae));ng(()=>{Ce==null||Ce.register({id:t.value,validate:a,reset:r,resetValidation:l})}),dl(()=>{Ce==null||Ce.unregister(t.value)}),Ks(async()=>{C.value.lazy||await a(!0),Ce==null||Ce.update(t.value,y.value,n.value)}),Mc(()=>C.value.input,()=>{Oa(be,()=>{if(be.value!=null)a();else if(m.focused){const s=Oa(()=>m.focused,c=>{c||a(),s()})}})}),Mc(()=>C.value.blur,()=>{Oa(()=>m.focused,s=>{s||a()})}),Oa(y,()=>{Ce==null||Ce.update(t.value,y.value,n.value)});function r(){de.value=null,io(l)}function l(){B.value=!0,C.value.lazy?V.value=[]:a(!0)}async function a(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const c=[];h.value=!0;for(const u of m.rules){if(c.length>=+(m.maxErrors??1))break;const f=await(typeof u=="function"?u:()=>u)(be.value);if(f!==!0){if(f!==!1&&typeof f!="string"){console.warn(`${f} is not a valid value. Rule functions must return boolean true or a string.`);continue}c.push(f||"")}}return V.value=c,h.value=!1,B.value=s,V.value}return{errorMessages:n,isDirty:e,isDisabled:p,isReadonly:L,isPristine:B,isValid:y,isValidating:h,reset:r,resetValidation:l,validate:a,validationClasses:g}}const _c=Bn({id:String,appendIcon:ai,centerAffix:{type:Boolean,default:!0},prependIcon:ai,hideDetails:[Boolean,String],hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:m=>["horizontal","vertical"].includes(m)},"onClick:prepend":zf(),"onClick:append":zf(),...Fa(),...ls(),...rT()},"VInput"),Is=ea()({name:"VInput",props:{..._c()},emits:{"update:modelValue":m=>!0},setup(m,$){let{attrs:ae,slots:de,emit:be}=$;const{densityClasses:Ce}=$s(m),{rtlClasses:V}=bs(),{InputIcon:B}=qw(m),e=Js(),p=Tr(()=>m.id||`input-${e}`),L=Tr(()=>`${p.value}-messages`),{errorMessages:n,isDirty:C,isDisabled:y,isReadonly:h,isPristine:g,isValid:t,isValidating:r,reset:l,resetValidation:a,validate:s,validationClasses:c}=nT(m,"v-input",p),u=Tr(()=>({id:p,messagesId:L,isDirty:C,isDisabled:y,isReadonly:h,isPristine:g,isValid:t,isValidating:r,reset:l,resetValidation:a,validate:s})),b=Tr(()=>{var f;return(f=m.errorMessages)!=null&&f.length||!g.value&&n.value.length?n.value:m.hint&&(m.persistentHint||m.focused)?m.hint:m.messages});return da(()=>{var d,S,M,P;const f=!!(de.prepend||m.prependIcon),w=!!(de.append||m.appendIcon),v=b.value.length>0,o=!m.hideDetails||m.hideDetails==="auto"&&(v||!!de.details);return _t("div",{class:["v-input",`v-input--${m.direction}`,{"v-input--center-affix":m.centerAffix},Ce.value,V.value,c.value,m.class],style:m.style},[f&&_t("div",{key:"prepend",class:"v-input__prepend"},[(d=de.prepend)==null?void 0:d.call(de,u.value),m.prependIcon&&_t(B,{key:"prepend-icon",name:"prepend"},null)]),de.default&&_t("div",{class:"v-input__control"},[(S=de.default)==null?void 0:S.call(de,u.value)]),w&&_t("div",{key:"append",class:"v-input__append"},[m.appendIcon&&_t(B,{key:"append-icon",name:"append"},null),(M=de.append)==null?void 0:M.call(de,u.value)]),o&&_t("div",{class:"v-input__details"},[_t(eT,{id:L.value,active:v,messages:b.value},{message:de.message}),(P=de.details)==null?void 0:P.call(de,u.value)])])}),{reset:l,resetValidation:a,validate:s}}}),S7=Bn({..._c(),...Uf(Qw(),["inline"])},"VCheckbox"),M7=ea()({name:"VCheckbox",inheritAttrs:!1,props:S7(),emits:{"update:modelValue":m=>!0,"update:focused":m=>!0},setup(m,$){let{attrs:ae,slots:de}=$;const be=si(m,"modelValue"),{isFocused:Ce,focus:V,blur:B}=Ch(m),e=Js(),p=Tr(()=>m.id||`checkbox-${e}`);return da(()=>{const[L,n]=Tv(ae),[C,y]=Is.filterProps(m),[h,g]=xd.filterProps(m);return _t(Is,Ra({class:["v-checkbox",m.class]},L,C,{modelValue:be.value,"onUpdate:modelValue":t=>be.value=t,id:p.value,focused:Ce.value,style:m.style}),{...de,default:t=>{let{id:r,messagesId:l,isDisabled:a,isReadonly:s}=t;return _t(xd,Ra(h,{id:r.value,"aria-describedby":l.value,disabled:a.value,readonly:s.value},n,{modelValue:be.value,"onUpdate:modelValue":c=>be.value=c,onFocus:V,onBlur:B}),de)}})}),{}}});const C7=Bn({start:Boolean,end:Boolean,icon:ai,image:String,...Fa(),...ls(),...go(),...kc(),...li(),...Di(),...Lu({variant:"flat"})},"VAvatar"),Th=ea()({name:"VAvatar",props:C7(),setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Zi(m),{colorClasses:be,colorStyles:Ce,variantClasses:V}=Cv(m),{densityClasses:B}=$s(m),{roundedClasses:e}=Do(m),{sizeClasses:p,sizeStyles:L}=Ld(m);return da(()=>_t(m.tag,{class:["v-avatar",{"v-avatar--start":m.start,"v-avatar--end":m.end},de.value,be.value,B.value,e.value,p.value,V.value,m.class],style:[Ce.value,L.value,m.style]},{default:()=>{var n;return[m.image?_t(mv,{key:"image",src:m.image,alt:"",cover:!0},null):m.icon?_t(ao,{key:"icon",icon:m.icon},null):(n=ae.default)==null?void 0:n.call(ae),Mv(!1,"v-avatar")]}})),{}}});const aT=Symbol.for("vuetify:v-chip-group"),E7=Bn({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:wv},...Fa(),...Md({selectedClass:"v-chip--selected"}),...li(),...Di(),...Lu({variant:"tonal"})},"VChipGroup"),L7=ea()({name:"VChipGroup",props:E7(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Zi(m),{isSelected:be,select:Ce,next:V,prev:B,selected:e}=Ev(m,aT);return ts({VChip:{color:oa(m,"color"),disabled:oa(m,"disabled"),filter:oa(m,"filter"),variant:oa(m,"variant")}}),da(()=>_t(m.tag,{class:["v-chip-group",{"v-chip-group--column":m.column},de.value,m.class],style:m.style},{default:()=>{var p;return[(p=ae.default)==null?void 0:p.call(ae,{isSelected:be,select:Ce,next:V,prev:B,selected:e.value})]}})),{}}}),P7=Bn({activeClass:String,appendAvatar:String,appendIcon:ai,closable:Boolean,closeIcon:{type:ai,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:ai,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:zf(),onClickOnce:zf(),...Ql(),...Fa(),...ls(),...ss(),...Cd(),...go(),...B0(),...kc(),...li({tag:"span"}),...Di(),...Lu({variant:"tonal"})},"VChip"),N0=ea()({name:"VChip",directives:{Ripple:Mh},props:P7(),emits:{"click:close":m=>!0,"update:modelValue":m=>!0,"group:selected":m=>!0,click:m=>!0},setup(m,$){let{attrs:ae,emit:de,slots:be}=$;const{t:Ce}=Su(),{borderClasses:V}=Eu(m),{colorClasses:B,colorStyles:e,variantClasses:p}=Cv(m),{densityClasses:L}=$s(m),{elevationClasses:n}=Ds(m),{roundedClasses:C}=Do(m),{sizeClasses:y}=Ld(m),{themeClasses:h}=Zi(m),g=si(m,"modelValue"),t=Ed(m,aT,!1),r=O0(m,ae),l=Tr(()=>m.link!==!1&&r.isLink.value),a=Tr(()=>!m.disabled&&m.link!==!1&&(!!t||m.link||r.isClickable.value)),s=Tr(()=>({"aria-label":Ce(m.closeLabel),onClick(b){g.value=!1,de("click:close",b)}}));function c(b){var f;de("click",b),a.value&&((f=r.navigate)==null||f.call(r,b),t==null||t.toggle())}function u(b){(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),c(b))}return()=>{const b=r.isLink.value?"a":m.tag,f=!!(m.appendIcon||m.appendAvatar),w=!!(f||be.append),v=!!(be.close||m.closable),o=!!(be.filter||m.filter)&&t,d=!!(m.prependIcon||m.prependAvatar),S=!!(d||be.prepend),M=!t||t.isSelected.value;return g.value&&To(_t(b,{class:["v-chip",{"v-chip--disabled":m.disabled,"v-chip--label":m.label,"v-chip--link":a.value,"v-chip--filter":o,"v-chip--pill":m.pill},h.value,V.value,M?B.value:void 0,L.value,n.value,C.value,y.value,p.value,t==null?void 0:t.selectedClass.value,m.class],style:[M?e.value:void 0,m.style],disabled:m.disabled||void 0,draggable:m.draggable,href:r.href.value,tabindex:a.value?0:void 0,onClick:c,onKeydown:a.value&&!l.value&&u},{default:()=>{var P;return[Mv(a.value,"v-chip"),o&&_t(o1,{key:"filter"},{default:()=>[To(_t("div",{class:"v-chip__filter"},[be.filter?To(_t(Qi,{key:"filter-defaults",disabled:!m.filterIcon,defaults:{VIcon:{icon:m.filterIcon}}},null),[[Dl("slot"),be.filter,"default"]]):_t(ao,{key:"filter-icon",icon:m.filterIcon},null)]),[[Vf,t.isSelected.value]])]}),S&&_t("div",{key:"prepend",class:"v-chip__prepend"},[be.prepend?_t(Qi,{key:"prepend-defaults",disabled:!d,defaults:{VAvatar:{image:m.prependAvatar,start:!0},VIcon:{icon:m.prependIcon,start:!0}}},be.prepend):_t(Qa,null,[m.prependIcon&&_t(ao,{key:"prepend-icon",icon:m.prependIcon,start:!0},null),m.prependAvatar&&_t(Th,{key:"prepend-avatar",image:m.prependAvatar,start:!0},null)])]),_t("div",{class:"v-chip__content"},[((P=be.default)==null?void 0:P.call(be,{isSelected:t==null?void 0:t.isSelected.value,selectedClass:t==null?void 0:t.selectedClass.value,select:t==null?void 0:t.select,toggle:t==null?void 0:t.toggle,value:t==null?void 0:t.value.value,disabled:m.disabled}))??m.text]),w&&_t("div",{key:"append",class:"v-chip__append"},[be.append?_t(Qi,{key:"append-defaults",disabled:!f,defaults:{VAvatar:{end:!0,image:m.appendAvatar},VIcon:{end:!0,icon:m.appendIcon}}},be.append):_t(Qa,null,[m.appendIcon&&_t(ao,{key:"append-icon",end:!0,icon:m.appendIcon},null),m.appendAvatar&&_t(Th,{key:"append-avatar",end:!0,image:m.appendAvatar},null)])]),v&&_t("div",Ra({key:"close",class:"v-chip__close"},s.value),[be.close?_t(Qi,{key:"close-defaults",defaults:{VIcon:{icon:m.closeIcon,size:"x-small"}}},be.close):_t(ao,{key:"close-icon",icon:m.closeIcon,size:"x-small"},null)])]}}),[[Dl("ripple"),a.value&&m.ripple,null]])}}});const tm=Symbol.for("vuetify:list");function iT(){const m=Ii(tm,{hasPrepend:Da(!1),updateHasPrepend:()=>null}),$={hasPrepend:Da(!1),updateHasPrepend:ae=>{ae&&($.hasPrepend.value=ae)}};return Oo(tm,$),m}function oT(){return Ii(tm,null)}const R7={open:m=>{let{id:$,value:ae,opened:de,parents:be}=m;if(ae){const Ce=new Set;Ce.add($);let V=be.get($);for(;V!=null;)Ce.add(V),V=be.get(V);return Ce}else return de.delete($),de},select:()=>null},sT={open:m=>{let{id:$,value:ae,opened:de,parents:be}=m;if(ae){let Ce=be.get($);for(de.add($);Ce!=null&&Ce!==$;)de.add(Ce),Ce=be.get(Ce);return de}else de.delete($);return de},select:()=>null},I7={open:sT.open,select:m=>{let{id:$,value:ae,opened:de,parents:be}=m;if(!ae)return de;const Ce=[];let V=be.get($);for(;V!=null;)Ce.push(V),V=be.get(V);return new Set(Ce)}},g1=m=>{const $={select:ae=>{let{id:de,value:be,selected:Ce}=ae;if(de=di(de),m&&!be){const V=Array.from(Ce.entries()).reduce((B,e)=>{let[p,L]=e;return L==="on"?[...B,p]:B},[]);if(V.length===1&&V[0]===de)return Ce}return Ce.set(de,be?"on":"off"),Ce},in:(ae,de,be)=>{let Ce=new Map;for(const V of ae||[])Ce=$.select({id:V,value:!0,selected:new Map(Ce),children:de,parents:be});return Ce},out:ae=>{const de=[];for(const[be,Ce]of ae.entries())Ce==="on"&&de.push(be);return de}};return $},lT=m=>{const $=g1(m);return{select:de=>{let{selected:be,id:Ce,...V}=de;Ce=di(Ce);const B=be.has(Ce)?new Map([[Ce,be.get(Ce)]]):new Map;return $.select({...V,id:Ce,selected:B})},in:(de,be,Ce)=>{let V=new Map;return de!=null&&de.length&&(V=$.in(de.slice(0,1),be,Ce)),V},out:(de,be,Ce)=>$.out(de,be,Ce)}},D7=m=>{const $=g1(m);return{select:de=>{let{id:be,selected:Ce,children:V,...B}=de;return be=di(be),V.has(be)?Ce:$.select({id:be,selected:Ce,children:V,...B})},in:$.in,out:$.out}},k7=m=>{const $=lT(m);return{select:de=>{let{id:be,selected:Ce,children:V,...B}=de;return be=di(be),V.has(be)?Ce:$.select({id:be,selected:Ce,children:V,...B})},in:$.in,out:$.out}},_7=m=>{const $={select:ae=>{let{id:de,value:be,selected:Ce,children:V,parents:B}=ae;de=di(de);const e=new Map(Ce),p=[de];for(;p.length;){const n=p.shift();Ce.set(n,be?"on":"off"),V.has(n)&&p.push(...V.get(n))}let L=B.get(de);for(;L;){const n=V.get(L),C=n.every(h=>Ce.get(h)==="on"),y=n.every(h=>!Ce.has(h)||Ce.get(h)==="off");Ce.set(L,C?"on":y?"off":"indeterminate"),L=B.get(L)}return m&&!be&&Array.from(Ce.entries()).reduce((C,y)=>{let[h,g]=y;return g==="on"?[...C,h]:C},[]).length===0?e:Ce},in:(ae,de,be)=>{let Ce=new Map;for(const V of ae||[])Ce=$.select({id:V,value:!0,selected:new Map(Ce),children:de,parents:be});return Ce},out:(ae,de)=>{const be=[];for(const[Ce,V]of ae.entries())V==="on"&&!de.has(Ce)&&be.push(Ce);return be}};return $},I0=Symbol.for("vuetify:nested"),uT={id:Da(),root:{register:()=>null,unregister:()=>null,parents:Ta(new Map),children:Ta(new Map),open:()=>null,openOnSelect:()=>null,select:()=>null,opened:Ta(new Set),selected:Ta(new Map),selectedValues:Ta([])}},F7=Bn({selectStrategy:[String,Function],openStrategy:[String,Object],opened:Array,selected:Array,mandatory:Boolean},"nested"),z7=m=>{let $=!1;const ae=Ta(new Map),de=Ta(new Map),be=si(m,"opened",m.opened,n=>new Set(n),n=>[...n.values()]),Ce=Tr(()=>{if(typeof m.selectStrategy=="object")return m.selectStrategy;switch(m.selectStrategy){case"single-leaf":return k7(m.mandatory);case"leaf":return D7(m.mandatory);case"independent":return g1(m.mandatory);case"single-independent":return lT(m.mandatory);case"classic":default:return _7(m.mandatory)}}),V=Tr(()=>{if(typeof m.openStrategy=="object")return m.openStrategy;switch(m.openStrategy){case"list":return I7;case"single":return R7;case"multiple":default:return sT}}),B=si(m,"selected",m.selected,n=>Ce.value.in(n,ae.value,de.value),n=>Ce.value.out(n,ae.value,de.value));dl(()=>{$=!0});function e(n){const C=[];let y=n;for(;y!=null;)C.unshift(y),y=de.value.get(y);return C}const p=xs("nested"),L={id:Da(),root:{opened:be,selected:B,selectedValues:Tr(()=>{const n=[];for(const[C,y]of B.value.entries())y==="on"&&n.push(C);return n}),register:(n,C,y)=>{C&&n!==C&&de.value.set(n,C),y&&ae.value.set(n,[]),C!=null&&ae.value.set(C,[...ae.value.get(C)||[],n])},unregister:n=>{if($)return;ae.value.delete(n);const C=de.value.get(n);if(C){const y=ae.value.get(C)??[];ae.value.set(C,y.filter(h=>h!==n))}de.value.delete(n),be.value.delete(n)},open:(n,C,y)=>{p.emit("click:open",{id:n,value:C,path:e(n),event:y});const h=V.value.open({id:n,value:C,opened:new Set(be.value),children:ae.value,parents:de.value,event:y});h&&(be.value=h)},openOnSelect:(n,C,y)=>{const h=V.value.select({id:n,value:C,selected:new Map(B.value),opened:new Set(be.value),children:ae.value,parents:de.value,event:y});h&&(be.value=h)},select:(n,C,y)=>{p.emit("click:select",{id:n,value:C,path:e(n),event:y});const h=Ce.value.select({id:n,value:C,selected:new Map(B.value),children:ae.value,parents:de.value,event:y});h&&(B.value=h),L.root.openOnSelect(n,C,y)},children:ae,parents:de}};return Oo(I0,L),L.root},fT=(m,$)=>{const ae=Ii(I0,uT),de=Symbol(Js()),be=Tr(()=>m.value!==void 0?m.value:de),Ce={...ae,id:be,open:(V,B)=>ae.root.open(be.value,V,B),openOnSelect:(V,B)=>ae.root.openOnSelect(be.value,V,B),isOpen:Tr(()=>ae.root.opened.value.has(be.value)),parent:Tr(()=>ae.root.parents.value.get(be.value)),select:(V,B)=>ae.root.select(be.value,V,B),isSelected:Tr(()=>ae.root.selected.value.get(di(be.value))==="on"),isIndeterminate:Tr(()=>ae.root.selected.value.get(be.value)==="indeterminate"),isLeaf:Tr(()=>!ae.root.children.value.get(be.value)),isGroupActivator:ae.isGroupActivator};return!ae.isGroupActivator&&ae.root.register(be.value,ae.id.value,$),dl(()=>{!ae.isGroupActivator&&ae.root.unregister(be.value)}),$&&Oo(I0,Ce),Ce},O7=()=>{const m=Ii(I0,uT);Oo(I0,{...m,isGroupActivator:!0})},B7=Au({name:"VListGroupActivator",setup(m,$){let{slots:ae}=$;return O7(),()=>{var de;return(de=ae.default)==null?void 0:de.call(ae)}}}),N7=Bn({activeColor:String,baseColor:String,color:String,collapseIcon:{type:ai,default:"$collapse"},expandIcon:{type:ai,default:"$expand"},prependIcon:ai,appendIcon:ai,fluid:Boolean,subgroup:Boolean,title:String,value:null,...Fa(),...li()},"VListGroup"),rm=ea()({name:"VListGroup",props:N7(),setup(m,$){let{slots:ae}=$;const{isOpen:de,open:be,id:Ce}=fT(oa(m,"value"),!0),V=Tr(()=>`v-list-group--id-${String(Ce.value)}`),B=oT(),{isBooted:e}=Sv();function p(y){be(!de.value,y)}const L=Tr(()=>({onClick:p,class:"v-list-group__header",id:V.value})),n=Tr(()=>de.value?m.collapseIcon:m.expandIcon),C=Tr(()=>({VListItem:{active:de.value,activeColor:m.activeColor,baseColor:m.baseColor,color:m.color,prependIcon:m.prependIcon||m.subgroup&&n.value,appendIcon:m.appendIcon||!m.subgroup&&n.value,title:m.title,value:m.value}}));return da(()=>_t(m.tag,{class:["v-list-group",{"v-list-group--prepend":B==null?void 0:B.hasPrepend.value,"v-list-group--fluid":m.fluid,"v-list-group--subgroup":m.subgroup,"v-list-group--open":de.value},m.class],style:m.style},{default:()=>[ae.activator&&_t(Qi,{defaults:C.value},{default:()=>[_t(B7,null,{default:()=>[ae.activator({props:L.value,isOpen:de.value})]})]}),_t(tf,{transition:{component:cg},disabled:!e.value},{default:()=>{var y;return[To(_t("div",{class:"v-list-group__items",role:"group","aria-labelledby":V.value},[(y=ae.default)==null?void 0:y.call(ae)]),[[Vf,de.value]])]}})]})),{}}});const cT=of("v-list-item-subtitle"),hT=of("v-list-item-title"),V7=Bn({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:ai,baseColor:String,disabled:Boolean,lines:String,link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:ai,ripple:{type:[Boolean,Object],default:!0},subtitle:[String,Number,Boolean],title:[String,Number,Boolean],value:null,onClick:zf(),onClickOnce:zf(),...Ql(),...Fa(),...ls(),...Mu(),...ss(),...go(),...B0(),...li(),...Di(),...Lu({variant:"text"})},"VListItem"),Ec=ea()({name:"VListItem",directives:{Ripple:Mh},props:V7(),emits:{click:m=>!0},setup(m,$){let{attrs:ae,slots:de,emit:be}=$;const Ce=O0(m,ae),V=Tr(()=>m.value===void 0?Ce.href.value:m.value),{select:B,isSelected:e,isIndeterminate:p,isGroupActivator:L,root:n,parent:C,openOnSelect:y}=fT(V,!1),h=oT(),g=Tr(()=>{var T;return m.active!==!1&&(m.active||((T=Ce.isActive)==null?void 0:T.value)||e.value)}),t=Tr(()=>m.link!==!1&&Ce.isLink.value),r=Tr(()=>!m.disabled&&m.link!==!1&&(m.link||Ce.isClickable.value||m.value!=null&&!!h)),l=Tr(()=>m.rounded||m.nav),a=Tr(()=>m.color??m.activeColor),s=Tr(()=>({color:g.value?a.value??m.baseColor:m.baseColor,variant:m.variant}));Oa(()=>{var T;return(T=Ce.isActive)==null?void 0:T.value},T=>{T&&C.value!=null&&n.open(C.value,!0),T&&y(T)},{immediate:!0});const{themeClasses:c}=Zi(m),{borderClasses:u}=Eu(m),{colorClasses:b,colorStyles:f,variantClasses:w}=Cv(s),{densityClasses:v}=$s(m),{dimensionStyles:o}=Cu(m),{elevationClasses:d}=Ds(m),{roundedClasses:S}=Do(l),M=Tr(()=>m.lines?`v-list-item--${m.lines}-line`:void 0),P=Tr(()=>({isActive:g.value,select:B,isSelected:e.value,isIndeterminate:p.value}));function x(T){var i;be("click",T),!(L||!r.value)&&((i=Ce.navigate)==null||i.call(Ce,T),m.value!=null&&B(!e.value,T))}function E(T){(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),x(T))}return da(()=>{const T=t.value?"a":m.tag,i=de.title||m.title,R=de.subtitle||m.subtitle,A=!!(m.appendAvatar||m.appendIcon),k=!!(A||de.append),_=!!(m.prependAvatar||m.prependIcon),H=!!(_||de.prepend);return h==null||h.updateHasPrepend(H),m.activeColor&&uE("active-color",["color","base-color"]),To(_t(T,{class:["v-list-item",{"v-list-item--active":g.value,"v-list-item--disabled":m.disabled,"v-list-item--link":r.value,"v-list-item--nav":m.nav,"v-list-item--prepend":!H&&(h==null?void 0:h.hasPrepend.value),[`${m.activeClass}`]:m.activeClass&&g.value},c.value,u.value,b.value,v.value,d.value,M.value,S.value,w.value,m.class],style:[f.value,o.value,m.style],href:Ce.href.value,tabindex:r.value?h?-2:0:void 0,onClick:x,onKeydown:r.value&&!t.value&&E},{default:()=>{var z;return[Mv(r.value||g.value,"v-list-item"),H&&_t("div",{key:"prepend",class:"v-list-item__prepend"},[de.prepend?_t(Qi,{key:"prepend-defaults",disabled:!_,defaults:{VAvatar:{density:m.density,image:m.prependAvatar},VIcon:{density:m.density,icon:m.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var N;return[(N=de.prepend)==null?void 0:N.call(de,P.value)]}}):_t(Qa,null,[m.prependAvatar&&_t(Th,{key:"prepend-avatar",density:m.density,image:m.prependAvatar},null),m.prependIcon&&_t(ao,{key:"prepend-icon",density:m.density,icon:m.prependIcon},null)])]),_t("div",{class:"v-list-item__content","data-no-activator":""},[i&&_t(hT,{key:"title"},{default:()=>{var N;return[((N=de.title)==null?void 0:N.call(de,{title:m.title}))??m.title]}}),R&&_t(cT,{key:"subtitle"},{default:()=>{var N;return[((N=de.subtitle)==null?void 0:N.call(de,{subtitle:m.subtitle}))??m.subtitle]}}),(z=de.default)==null?void 0:z.call(de,P.value)]),k&&_t("div",{key:"append",class:"v-list-item__append"},[de.append?_t(Qi,{key:"append-defaults",disabled:!A,defaults:{VAvatar:{density:m.density,image:m.appendAvatar},VIcon:{density:m.density,icon:m.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var N;return[(N=de.append)==null?void 0:N.call(de,P.value)]}}):_t(Qa,null,[m.appendIcon&&_t(ao,{key:"append-icon",density:m.density,icon:m.appendIcon},null),m.appendAvatar&&_t(Th,{key:"append-avatar",density:m.density,image:m.appendAvatar},null)])])]}}),[[Dl("ripple"),r.value&&m.ripple]])}),{}}}),U7=Bn({color:String,inset:Boolean,sticky:Boolean,title:String,...Fa(),...li()},"VListSubheader"),vT=ea()({name:"VListSubheader",props:U7(),setup(m,$){let{slots:ae}=$;const{textColorClasses:de,textColorStyles:be}=js(oa(m,"color"));return da(()=>{const Ce=!!(ae.default||m.title);return _t(m.tag,{class:["v-list-subheader",{"v-list-subheader--inset":m.inset,"v-list-subheader--sticky":m.sticky},de.value,m.class],style:[{textColorStyles:be},m.style]},{default:()=>{var V;return[Ce&&_t("div",{class:"v-list-subheader__text"},[((V=ae.default)==null?void 0:V.call(ae))??m.title])]}})}),{}}});const H7=Bn({color:String,inset:Boolean,length:[Number,String],thickness:[Number,String],vertical:Boolean,...Fa(),...Di()},"VDivider"),dT=ea()({name:"VDivider",props:H7(),setup(m,$){let{attrs:ae}=$;const{themeClasses:de}=Zi(m),{textColorClasses:be,textColorStyles:Ce}=js(oa(m,"color")),V=Tr(()=>{const B={};return m.length&&(B[m.vertical?"maxHeight":"maxWidth"]=Na(m.length)),m.thickness&&(B[m.vertical?"borderRightWidth":"borderTopWidth"]=Na(m.thickness)),B});return da(()=>_t("hr",{class:[{"v-divider":!0,"v-divider--inset":m.inset,"v-divider--vertical":m.vertical},de.value,be.value,m.class],style:[V.value,Ce.value,m.style],"aria-orientation":!ae.role||ae.role==="separator"?m.vertical?"vertical":"horizontal":void 0,role:`${ae.role||"separator"}`},null)),{}}}),G7=Bn({items:Array},"VListChildren"),pT=ea()({name:"VListChildren",props:G7(),setup(m,$){let{slots:ae}=$;return iT(),()=>{var de,be;return((de=ae.default)==null?void 0:de.call(ae))??((be=m.items)==null?void 0:be.map(Ce=>{var y,h;let{children:V,props:B,type:e,raw:p}=Ce;if(e==="divider")return((y=ae.divider)==null?void 0:y.call(ae,{props:B}))??_t(dT,B,null);if(e==="subheader")return((h=ae.subheader)==null?void 0:h.call(ae,{props:B}))??_t(vT,B,null);const L={subtitle:ae.subtitle?g=>{var t;return(t=ae.subtitle)==null?void 0:t.call(ae,{...g,item:p})}:void 0,prepend:ae.prepend?g=>{var t;return(t=ae.prepend)==null?void 0:t.call(ae,{...g,item:p})}:void 0,append:ae.append?g=>{var t;return(t=ae.append)==null?void 0:t.call(ae,{...g,item:p})}:void 0,title:ae.title?g=>{var t;return(t=ae.title)==null?void 0:t.call(ae,{...g,item:p})}:void 0},[n,C]=rm.filterProps(B);return V?_t(rm,Ra({value:B==null?void 0:B.value},n),{activator:g=>{let{props:t}=g;return ae.header?ae.header({props:{...B,...t}}):_t(Ec,Ra(B,t),L)},default:()=>_t(pT,{items:V},ae)}):ae.item?ae.item({props:B}):_t(Ec,B,L)}))}}}),gT=Bn({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean},"list-items");function sd(m,$){const ae=Ff($,m.itemTitle,$),de=m.returnObject?$:Ff($,m.itemValue,ae),be=Ff($,m.itemChildren),Ce=m.itemProps===!0?typeof $=="object"&&$!=null&&!Array.isArray($)?"children"in $?Td($,["children"])[1]:$:void 0:Ff($,m.itemProps),V={title:ae,value:de,...Ce};return{title:String(V.title??""),value:V.value,props:V,children:Array.isArray(be)?yT(m,be):void 0,raw:$}}function yT(m,$){const ae=[];for(const de of $)ae.push(sd(m,de));return ae}function y1(m){const $=Tr(()=>yT(m,m.items));return W7($,ae=>sd(m,ae))}function W7(m,$){function ae(be){return be.filter(Ce=>Ce!==null||m.value.some(V=>V.value===null)).map(Ce=>m.value.find(B=>wv(Ce,B.value))??$(Ce))}function de(be){return be.map(Ce=>{let{value:V}=Ce;return V})}return{items:m,transformIn:ae,transformOut:de}}function Y7(m){return typeof m=="string"||typeof m=="number"||typeof m=="boolean"}function Z7(m,$){const ae=Ff($,m.itemType,"item"),de=Y7($)?$:Ff($,m.itemTitle),be=Ff($,m.itemValue,void 0),Ce=Ff($,m.itemChildren),V=m.itemProps===!0?Td($,["children"])[1]:Ff($,m.itemProps),B={title:de,value:be,...V};return{type:ae,title:B.title,value:B.value,props:B,children:ae==="item"&&Ce?mT(m,Ce):void 0,raw:$}}function mT(m,$){const ae=[];for(const de of $)ae.push(Z7(m,de));return ae}function X7(m){return{items:Tr(()=>mT(m,m.items))}}const j7=Bn({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,lines:{type:[Boolean,String],default:"one"},nav:Boolean,...F7({selectStrategy:"single-leaf",openStrategy:"list"}),...Ql(),...Fa(),...ls(),...Mu(),...ss(),itemType:{type:String,default:"type"},...gT(),...go(),...li(),...Di(),...Lu({variant:"text"})},"VList"),gg=ea()({name:"VList",props:j7(),emits:{"update:selected":m=>!0,"update:opened":m=>!0,"click:open":m=>!0,"click:select":m=>!0},setup(m,$){let{slots:ae}=$;const{items:de}=X7(m),{themeClasses:be}=Zi(m),{backgroundColorClasses:Ce,backgroundColorStyles:V}=Xo(oa(m,"bgColor")),{borderClasses:B}=Eu(m),{densityClasses:e}=$s(m),{dimensionStyles:p}=Cu(m),{elevationClasses:L}=Ds(m),{roundedClasses:n}=Do(m),{open:C,select:y}=z7(m),h=Tr(()=>m.lines?`v-list--${m.lines}-line`:void 0),g=oa(m,"activeColor"),t=oa(m,"baseColor"),r=oa(m,"color");iT(),ts({VListGroup:{activeColor:g,baseColor:t,color:r},VListItem:{activeClass:oa(m,"activeClass"),activeColor:g,baseColor:t,color:r,density:oa(m,"density"),disabled:oa(m,"disabled"),lines:oa(m,"lines"),nav:oa(m,"nav"),variant:oa(m,"variant")}});const l=Da(!1),a=Ta();function s(w){l.value=!0}function c(w){l.value=!1}function u(w){var v;!l.value&&!(w.relatedTarget&&((v=a.value)!=null&&v.contains(w.relatedTarget)))&&f()}function b(w){if(a.value){if(w.key==="ArrowDown")f("next");else if(w.key==="ArrowUp")f("prev");else if(w.key==="Home")f("first");else if(w.key==="End")f("last");else return;w.preventDefault()}}function f(w){if(a.value)return Hp(a.value,w)}return da(()=>_t(m.tag,{ref:a,class:["v-list",{"v-list--disabled":m.disabled,"v-list--nav":m.nav},be.value,Ce.value,B.value,e.value,L.value,h.value,n.value,m.class],style:[V.value,p.value,m.style],tabindex:m.disabled||l.value?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:s,onFocusout:c,onFocus:u,onKeydown:b},{default:()=>[_t(pT,{items:de.value},ae)]})),{open:C,select:y,focus:f}}}),K7=of("v-list-img"),J7=Bn({start:Boolean,end:Boolean,...Fa(),...li()},"VListItemAction"),$7=ea()({name:"VListItemAction",props:J7(),setup(m,$){let{slots:ae}=$;return da(()=>_t(m.tag,{class:["v-list-item-action",{"v-list-item-action--start":m.start,"v-list-item-action--end":m.end},m.class],style:m.style},ae)),{}}}),Q7=Bn({start:Boolean,end:Boolean,...Fa(),...li()},"VListItemMedia"),q7=ea()({name:"VListItemMedia",props:Q7(),setup(m,$){let{slots:ae}=$;return da(()=>_t(m.tag,{class:["v-list-item-media",{"v-list-item-media--start":m.start,"v-list-item-media--end":m.end},m.class],style:m.style},ae)),{}}});function dy(m,$){return{x:m.x+$.x,y:m.y+$.y}}function eP(m,$){return{x:m.x-$.x,y:m.y-$.y}}function Tb(m,$){if(m.side==="top"||m.side==="bottom"){const{side:ae,align:de}=m,be=de==="left"?0:de==="center"?$.width/2:de==="right"?$.width:de,Ce=ae==="top"?0:ae==="bottom"?$.height:ae;return dy({x:be,y:Ce},$)}else if(m.side==="left"||m.side==="right"){const{side:ae,align:de}=m,be=ae==="left"?0:ae==="right"?$.width:ae,Ce=de==="top"?0:de==="center"?$.height/2:de==="bottom"?$.height:de;return dy({x:be,y:Ce},$)}return dy({x:$.width/2,y:$.height/2},$)}const xT={static:nP,connected:iP},tP=Bn({locationStrategy:{type:[String,Function],default:"static",validator:m=>typeof m=="function"||m in xT},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function rP(m,$){const ae=Ta({}),de=Ta();Zo&&(Mc(()=>!!($.isActive.value&&m.locationStrategy),Ce=>{var V,B;Oa(()=>m.locationStrategy,Ce),Rl(()=>{de.value=void 0}),typeof m.locationStrategy=="function"?de.value=(V=m.locationStrategy($,m,ae))==null?void 0:V.updateLocation:de.value=(B=xT[m.locationStrategy]($,m,ae))==null?void 0:B.updateLocation}),window.addEventListener("resize",be,{passive:!0}),Rl(()=>{window.removeEventListener("resize",be),de.value=void 0}));function be(Ce){var V;(V=de.value)==null||V.call(de,Ce)}return{contentStyles:ae,updateLocation:de}}function nP(){}function aP(m,$){$?m.style.removeProperty("left"):m.style.removeProperty("right");const ae=Km(m);return $?ae.x+=parseFloat(m.style.right||0):ae.x-=parseFloat(m.style.left||0),ae.y-=parseFloat(m.style.top||0),ae}function iP(m,$,ae){EE(m.activatorEl.value)&&Object.assign(ae.value,{position:"fixed",top:0,[m.isRtl.value?"right":"left"]:0});const{preferredAnchor:be,preferredOrigin:Ce}=Ym(()=>{const h=Vy($.location,m.isRtl.value),g=$.origin==="overlap"?h:$.origin==="auto"?fy(h):Vy($.origin,m.isRtl.value);return h.side===g.side&&h.align===cy(g).align?{preferredAnchor:Z2(h),preferredOrigin:Z2(g)}:{preferredAnchor:h,preferredOrigin:g}}),[V,B,e,p]=["minWidth","minHeight","maxWidth","maxHeight"].map(h=>Tr(()=>{const g=parseFloat($[h]);return isNaN(g)?1/0:g})),L=Tr(()=>{if(Array.isArray($.offset))return $.offset;if(typeof $.offset=="string"){const h=$.offset.split(" ").map(parseFloat);return h.length<2&&h.push(0),h}return typeof $.offset=="number"?[$.offset,0]:[0,0]});let n=!1;const C=new ResizeObserver(()=>{n&&y()});Oa([m.activatorEl,m.contentEl],(h,g)=>{let[t,r]=h,[l,a]=g;l&&C.unobserve(l),t&&C.observe(t),a&&C.unobserve(a),r&&C.observe(r)},{immediate:!0}),Rl(()=>{C.disconnect()});function y(){if(n=!1,requestAnimationFrame(()=>{requestAnimationFrame(()=>n=!0)}),!m.activatorEl.value||!m.contentEl.value)return;const h=m.activatorEl.value.getBoundingClientRect(),g=aP(m.contentEl.value,m.isRtl.value),t=Wp(m.contentEl.value),r=12;t.length||(t.push(document.documentElement),m.contentEl.value.style.top&&m.contentEl.value.style.left||(g.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),g.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const l=t.reduce((o,d)=>{const S=d.getBoundingClientRect(),M=new hd({x:d===document.documentElement?0:S.x,y:d===document.documentElement?0:S.y,width:d.clientWidth,height:d.clientHeight});return o?new hd({x:Math.max(o.left,M.left),y:Math.max(o.top,M.top),width:Math.min(o.right,M.right)-Math.max(o.left,M.left),height:Math.min(o.bottom,M.bottom)-Math.max(o.top,M.top)}):M},void 0);l.x+=r,l.y+=r,l.width-=r*2,l.height-=r*2;let a={anchor:be.value,origin:Ce.value};function s(o){const d=new hd(g),S=Tb(o.anchor,h),M=Tb(o.origin,d);let{x:P,y:x}=eP(S,M);switch(o.anchor.side){case"top":x-=L.value[0];break;case"bottom":x+=L.value[0];break;case"left":P-=L.value[0];break;case"right":P+=L.value[0];break}switch(o.anchor.align){case"top":x-=L.value[1];break;case"bottom":x+=L.value[1];break;case"left":P-=L.value[1];break;case"right":P+=L.value[1];break}return d.x+=P,d.y+=x,d.width=Math.min(d.width,e.value),d.height=Math.min(d.height,p.value),{overflows:j2(d,l),x:P,y:x}}let c=0,u=0;const b={x:0,y:0},f={x:!1,y:!1};let w=-1;for(;!(w++>10);){const{x:o,y:d,overflows:S}=s(a);c+=o,u+=d,g.x+=o,g.y+=d;{const M=X2(a.anchor),P=S.x.before||S.x.after,x=S.y.before||S.y.after;let E=!1;if(["x","y"].forEach(T=>{if(T==="x"&&P&&!f.x||T==="y"&&x&&!f.y){const i={anchor:{...a.anchor},origin:{...a.origin}},R=T==="x"?M==="y"?cy:fy:M==="y"?fy:cy;i.anchor=R(i.anchor),i.origin=R(i.origin);const{overflows:A}=s(i);(A[T].before<=S[T].before&&A[T].after<=S[T].after||A[T].before+A[T].after<(S[T].before+S[T].after)/2)&&(a=i,E=f[T]=!0)}}),E)continue}S.x.before&&(c+=S.x.before,g.x+=S.x.before),S.x.after&&(c-=S.x.after,g.x-=S.x.after),S.y.before&&(u+=S.y.before,g.y+=S.y.before),S.y.after&&(u-=S.y.after,g.y-=S.y.after);{const M=j2(g,l);b.x=l.width-M.x.before-M.x.after,b.y=l.height-M.y.before-M.y.after,c+=M.x.before,g.x+=M.x.before,u+=M.y.before,g.y+=M.y.before}break}const v=X2(a.anchor);return Object.assign(ae.value,{"--v-overlay-anchor-origin":`${a.anchor.side} ${a.anchor.align}`,transformOrigin:`${a.origin.side} ${a.origin.align}`,top:Na(py(u)),left:m.isRtl.value?void 0:Na(py(c)),right:m.isRtl.value?Na(py(-c)):void 0,minWidth:Na(v==="y"?Math.min(V.value,h.width):V.value),maxWidth:Na(Ab(Xs(b.x,V.value===1/0?0:V.value,e.value))),maxHeight:Na(Ab(Xs(b.y,B.value===1/0?0:B.value,p.value)))}),{available:b,contentBox:g}}return Oa(()=>[be.value,Ce.value,$.offset,$.minWidth,$.minHeight,$.maxWidth,$.maxHeight],()=>y()),io(()=>{const h=y();if(!h)return;const{available:g,contentBox:t}=h;t.height>g.y&&requestAnimationFrame(()=>{y(),requestAnimationFrame(()=>{y()})})}),{updateLocation:y}}function py(m){return Math.round(m*devicePixelRatio)/devicePixelRatio}function Ab(m){return Math.ceil(m*devicePixelRatio)/devicePixelRatio}let nm=!0;const Xp=[];function oP(m){!nm||Xp.length?(Xp.push(m),am()):(nm=!1,m(),am())}let Sb=-1;function am(){cancelAnimationFrame(Sb),Sb=requestAnimationFrame(()=>{const m=Xp.shift();m&&m(),Xp.length?am():nm=!0})}const Dp={none:null,close:uP,block:fP,reposition:cP},sP=Bn({scrollStrategy:{type:[String,Function],default:"block",validator:m=>typeof m=="function"||m in Dp}},"VOverlay-scroll-strategies");function lP(m,$){if(!Zo)return;let ae;Jl(async()=>{ae==null||ae.stop(),$.isActive.value&&m.scrollStrategy&&(ae=bm(),await io(),ae.active&&ae.run(()=>{var de;typeof m.scrollStrategy=="function"?m.scrollStrategy($,m,ae):(de=Dp[m.scrollStrategy])==null||de.call(Dp,$,m,ae)}))}),Rl(()=>{ae==null||ae.stop()})}function uP(m){function $(ae){m.isActive.value=!1}bT(m.activatorEl.value??m.contentEl.value,$)}function fP(m,$){var V;const ae=(V=m.root.value)==null?void 0:V.offsetParent,de=[...new Set([...Wp(m.activatorEl.value,$.contained?ae:void 0),...Wp(m.contentEl.value,$.contained?ae:void 0)])].filter(B=>!B.classList.contains("v-overlay-scroll-blocked")),be=window.innerWidth-document.documentElement.offsetWidth,Ce=(B=>qm(B)&&B)(ae||document.documentElement);Ce&&m.root.value.classList.add("v-overlay--scroll-blocked"),de.forEach((B,e)=>{B.style.setProperty("--v-body-scroll-x",Na(-B.scrollLeft)),B.style.setProperty("--v-body-scroll-y",Na(-B.scrollTop)),B!==document.documentElement&&B.style.setProperty("--v-scrollbar-offset",Na(be)),B.classList.add("v-overlay-scroll-blocked")}),Rl(()=>{de.forEach((B,e)=>{const p=parseFloat(B.style.getPropertyValue("--v-body-scroll-x")),L=parseFloat(B.style.getPropertyValue("--v-body-scroll-y"));B.style.removeProperty("--v-body-scroll-x"),B.style.removeProperty("--v-body-scroll-y"),B.style.removeProperty("--v-scrollbar-offset"),B.classList.remove("v-overlay-scroll-blocked"),B.scrollLeft=-p,B.scrollTop=-L}),Ce&&m.root.value.classList.remove("v-overlay--scroll-blocked")})}function cP(m,$,ae){let de=!1,be=-1,Ce=-1;function V(B){oP(()=>{var L,n;const e=performance.now();(n=(L=m.updateLocation).value)==null||n.call(L,B),de=(performance.now()-e)/(1e3/60)>2})}Ce=(typeof requestIdleCallback>"u"?B=>B():requestIdleCallback)(()=>{ae.run(()=>{bT(m.activatorEl.value??m.contentEl.value,B=>{de?(cancelAnimationFrame(be),be=requestAnimationFrame(()=>{be=requestAnimationFrame(()=>{V(B)})})):V(B)})})}),Rl(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(Ce),cancelAnimationFrame(be)})}function bT(m,$){const ae=[document,...Wp(m)];ae.forEach(de=>{de.addEventListener("scroll",$,{passive:!0})}),Rl(()=>{ae.forEach(de=>{de.removeEventListener("scroll",$)})})}const im=Symbol.for("vuetify:v-menu"),wT=Bn({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function TT(m,$){const ae={},de=be=>()=>{if(!Zo)return Promise.resolve(!0);const Ce=be==="openDelay";return ae.closeDelay&&window.clearTimeout(ae.closeDelay),delete ae.closeDelay,ae.openDelay&&window.clearTimeout(ae.openDelay),delete ae.openDelay,new Promise(V=>{const B=parseInt(m[be]??0,10);ae[be]=window.setTimeout(()=>{$==null||$(Ce),V(Ce)},B)})};return{runCloseDelay:de("closeDelay"),runOpenDelay:de("openDelay")}}const hP=Bn({activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...wT()},"VOverlay-activator");function vP(m,$){let{isActive:ae,isTop:de}=$;const be=Ta();let Ce=!1,V=!1,B=!0;const e=Tr(()=>m.openOnFocus||m.openOnFocus==null&&m.openOnHover),p=Tr(()=>m.openOnClick||m.openOnClick==null&&!m.openOnHover&&!e.value),{runOpenDelay:L,runCloseDelay:n}=TT(m,a=>{a===(m.openOnHover&&Ce||e.value&&V)&&!(m.openOnHover&&ae.value&&!de.value)&&(ae.value!==a&&(B=!0),ae.value=a)}),C={onClick:a=>{a.stopPropagation(),be.value=a.currentTarget||a.target,ae.value=!ae.value},onMouseenter:a=>{var s;(s=a.sourceCapabilities)!=null&&s.firesTouchEvents||(Ce=!0,be.value=a.currentTarget||a.target,L())},onMouseleave:a=>{Ce=!1,n()},onFocus:a=>{Gy&&!a.target.matches(":focus-visible")||(V=!0,a.stopPropagation(),be.value=a.currentTarget||a.target,L())},onBlur:a=>{V=!1,a.stopPropagation(),n()}},y=Tr(()=>{const a={};return p.value&&(a.onClick=C.onClick),m.openOnHover&&(a.onMouseenter=C.onMouseenter,a.onMouseleave=C.onMouseleave),e.value&&(a.onFocus=C.onFocus,a.onBlur=C.onBlur),a}),h=Tr(()=>{const a={};if(m.openOnHover&&(a.onMouseenter=()=>{Ce=!0,L()},a.onMouseleave=()=>{Ce=!1,n()}),e.value&&(a.onFocusin=()=>{V=!0,L()},a.onFocusout=()=>{V=!1,n()}),m.closeOnContentClick){const s=Ii(im,null);a.onClick=()=>{ae.value=!1,s==null||s.closeParents()}}return a}),g=Tr(()=>{const a={};return m.openOnHover&&(a.onMouseenter=()=>{B&&(Ce=!0,B=!1,L())},a.onMouseleave=()=>{Ce=!1,n()}),a});Oa(de,a=>{a&&(m.openOnHover&&!Ce&&(!e.value||!V)||e.value&&!V&&(!m.openOnHover||!Ce))&&(ae.value=!1)});const t=Ta();Jl(()=>{t.value&&io(()=>{be.value=By(t.value)})});const r=xs("useActivator");let l;return Oa(()=>!!m.activator,a=>{a&&Zo?(l=bm(),l.run(()=>{dP(m,r,{activatorEl:be,activatorEvents:y})})):l&&l.stop()},{flush:"post",immediate:!0}),Rl(()=>{l==null||l.stop()}),{activatorEl:be,activatorRef:t,activatorEvents:y,contentEvents:h,scrimEvents:g}}function dP(m,$,ae){let{activatorEl:de,activatorEvents:be}=ae;Oa(()=>m.activator,(e,p)=>{if(p&&e!==p){const L=B(p);L&&V(L)}e&&io(()=>Ce())},{immediate:!0}),Oa(()=>m.activatorProps,()=>{Ce()}),Rl(()=>{V()});function Ce(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B(),p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.activatorProps;e&&sE(e,Ra(be.value,p))}function V(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:B(),p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:m.activatorProps;e&&lE(e,Ra(be.value,p))}function B(){var L,n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m.activator,p;if(e)if(e==="parent"){let C=(n=(L=$==null?void 0:$.proxy)==null?void 0:L.$el)==null?void 0:n.parentNode;for(;C.hasAttribute("data-no-activator");)C=C.parentNode;p=C}else typeof e=="string"?p=document.querySelector(e):"$el"in e?p=e.$el:p=e;return de.value=(p==null?void 0:p.nodeType)===Node.ELEMENT_NODE?p:null,de.value}}function AT(){if(!Zo)return Da(!1);const{ssr:m}=Av();if(m){const $=Da(!1);return Ks(()=>{$.value=!0}),$}else return Da(!0)}const yg=Bn({eager:Boolean},"lazy");function m1(m,$){const ae=Da(!1),de=Tr(()=>ae.value||m.eager||$.value);Oa($,()=>ae.value=!0);function be(){m.eager||(ae.value=!1)}return{isBooted:ae,hasContent:de,onAfterLeave:be}}function Dd(){const $=xs("useScopeId").vnode.scopeId;return{scopeId:$?{[$]:""}:void 0}}const Mb=Symbol.for("vuetify:stack"),i0=hl([]);function pP(m,$,ae){const de=xs("useStack"),be=!ae,Ce=Ii(Mb,void 0),V=hl({activeChildren:new Set});Oo(Mb,V);const B=Da(+$.value);Mc(m,()=>{var n;const L=(n=i0.at(-1))==null?void 0:n[1];B.value=L?L+10:+$.value,be&&i0.push([de.uid,B.value]),Ce==null||Ce.activeChildren.add(de.uid),Rl(()=>{if(be){const C=di(i0).findIndex(y=>y[0]===de.uid);i0.splice(C,1)}Ce==null||Ce.activeChildren.delete(de.uid)})});const e=Da(!0);be&&Jl(()=>{var n;const L=((n=i0.at(-1))==null?void 0:n[0])===de.uid;setTimeout(()=>e.value=L)});const p=Tr(()=>!V.activeChildren.size);return{globalTop:k0(e),localTop:p,stackStyles:Tr(()=>({zIndex:B.value}))}}function gP(m){return{teleportTarget:Tr(()=>{const ae=m.value;if(ae===!0||!Zo)return;const de=ae===!1?document.body:typeof ae=="string"?document.querySelector(ae):ae;if(de==null)return;let be=de.querySelector(":scope > .v-overlay-container");return be||(be=document.createElement("div"),be.className="v-overlay-container",de.appendChild(be)),be})}}function yP(){return!0}function ST(m,$,ae){if(!m||MT(m,ae)===!1)return!1;const de=mw($);if(typeof ShadowRoot<"u"&&de instanceof ShadowRoot&&de.host===m.target)return!1;const be=(typeof ae.value=="object"&&ae.value.include||(()=>[]))();return be.push($),!be.some(Ce=>Ce==null?void 0:Ce.contains(m.target))}function MT(m,$){return(typeof $.value=="object"&&$.value.closeConditional||yP)(m)}function mP(m,$,ae){const de=typeof ae.value=="function"?ae.value:ae.value.handler;$._clickOutside.lastMousedownWasOutside&&ST(m,$,ae)&&setTimeout(()=>{MT(m,ae)&&de&&de(m)},0)}function Cb(m,$){const ae=mw(m);$(document),typeof ShadowRoot<"u"&&ae instanceof ShadowRoot&&$(ae)}const CT={mounted(m,$){const ae=be=>mP(be,m,$),de=be=>{m._clickOutside.lastMousedownWasOutside=ST(be,m,$)};Cb(m,be=>{be.addEventListener("click",ae,!0),be.addEventListener("mousedown",de,!0)}),m._clickOutside||(m._clickOutside={lastMousedownWasOutside:!1}),m._clickOutside[$.instance.$.uid]={onClick:ae,onMousedown:de}},unmounted(m,$){m._clickOutside&&(Cb(m,ae=>{var Ce;if(!ae||!((Ce=m._clickOutside)!=null&&Ce[$.instance.$.uid]))return;const{onClick:de,onMousedown:be}=m._clickOutside[$.instance.$.uid];ae.removeEventListener("click",de,!0),ae.removeEventListener("mousedown",be,!0)}),delete m._clickOutside[$.instance.$.uid])}};function xP(m){const{modelValue:$,color:ae,...de}=m;return _t(Of,{name:"fade-transition",appear:!0},{default:()=>[m.modelValue&&_t("div",Ra({class:["v-overlay__scrim",m.color.backgroundColorClasses.value],style:m.color.backgroundColorStyles.value},de),null)]})}const V0=Bn({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...hP(),...Fa(),...Mu(),...yg(),...tP(),...sP(),...Di(),...Dc()},"VOverlay"),Lc=ea()({name:"VOverlay",directives:{ClickOutside:CT},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...V0()},emits:{"click:outside":m=>!0,"update:modelValue":m=>!0,afterLeave:()=>!0},setup(m,$){let{slots:ae,attrs:de,emit:be}=$;const Ce=si(m,"modelValue"),V=Tr({get:()=>Ce.value,set:i=>{i&&m.disabled||(Ce.value=i)}}),{teleportTarget:B}=gP(Tr(()=>m.attach||m.contained)),{themeClasses:e}=Zi(m),{rtlClasses:p,isRtl:L}=bs(),{hasContent:n,onAfterLeave:C}=m1(m,V),y=Xo(Tr(()=>typeof m.scrim=="string"?m.scrim:null)),{globalTop:h,localTop:g,stackStyles:t}=pP(V,oa(m,"zIndex"),m._disableGlobalStack),{activatorEl:r,activatorRef:l,activatorEvents:a,contentEvents:s,scrimEvents:c}=vP(m,{isActive:V,isTop:g}),{dimensionStyles:u}=Cu(m),b=AT(),{scopeId:f}=Dd();Oa(()=>m.disabled,i=>{i&&(V.value=!1)});const w=Ta(),v=Ta(),{contentStyles:o,updateLocation:d}=rP(m,{isRtl:L,contentEl:v,activatorEl:r,isActive:V});lP(m,{root:w,contentEl:v,activatorEl:r,isActive:V,updateLocation:d});function S(i){be("click:outside",i),m.persistent?T():V.value=!1}function M(){return V.value&&h.value}Zo&&Oa(V,i=>{i?window.addEventListener("keydown",P):window.removeEventListener("keydown",P)},{immediate:!0});function P(i){var R,A;i.key==="Escape"&&h.value&&(m.persistent?T():(V.value=!1,(R=v.value)!=null&&R.contains(document.activeElement)&&((A=r.value)==null||A.focus())))}const x=Vw();Mc(()=>m.closeOnBack,()=>{i7(x,i=>{h.value&&V.value?(i(!1),m.persistent?T():V.value=!1):i()})});const E=Ta();Oa(()=>V.value&&(m.absolute||m.contained)&&B.value==null,i=>{if(i){const R=Qm(w.value);R&&R!==document.scrollingElement&&(E.value=R.scrollTop)}});function T(){m.noClickAnimation||v.value&&vv(v.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:C0})}return da(()=>{var i;return _t(Qa,null,[(i=ae.activator)==null?void 0:i.call(ae,{isActive:V.value,props:Ra({ref:l},a.value,m.activatorProps)}),b.value&&n.value&&_t(HM,{disabled:!B.value,to:B.value},{default:()=>[_t("div",Ra({class:["v-overlay",{"v-overlay--absolute":m.absolute||m.contained,"v-overlay--active":V.value,"v-overlay--contained":m.contained},e.value,p.value,m.class],style:[t.value,{top:Na(E.value)},m.style],ref:w},f,de),[_t(xP,Ra({color:y,modelValue:V.value&&!!m.scrim},c.value),null),_t(tf,{appear:!0,persisted:!0,transition:m.transition,target:r.value,onAfterLeave:()=>{C(),be("afterLeave")}},{default:()=>{var R;return[To(_t("div",Ra({ref:v,class:["v-overlay__content",m.contentClass],style:[u.value,o.value]},s.value,m.contentProps),[(R=ae.default)==null?void 0:R.call(ae,{isActive:V})]),[[Vf,V.value],[Dl("click-outside"),{handler:S,closeConditional:M,include:()=>[r.value]}]])]}})])]})])}),{activatorEl:r,animateClick:T,contentEl:v,globalTop:h,localTop:g,updateLocation:d}}}),gy=Symbol("Forwarded refs");function yy(m,$){let ae=m;for(;ae;){const de=Reflect.getOwnPropertyDescriptor(ae,$);if(de)return de;ae=Object.getPrototypeOf(ae)}}function sf(m){for(var $=arguments.length,ae=new Array($>1?$-1:0),de=1;de<$;de++)ae[de-1]=arguments[de];return m[gy]=ae,new Proxy(m,{get(be,Ce){if(Reflect.has(be,Ce))return Reflect.get(be,Ce);if(!(typeof Ce=="symbol"||Ce.startsWith("__"))){for(const V of ae)if(V.value&&Reflect.has(V.value,Ce)){const B=Reflect.get(V.value,Ce);return typeof B=="function"?B.bind(V.value):B}}},has(be,Ce){if(Reflect.has(be,Ce))return!0;if(typeof Ce=="symbol"||Ce.startsWith("__"))return!1;for(const V of ae)if(V.value&&Reflect.has(V.value,Ce))return!0;return!1},getOwnPropertyDescriptor(be,Ce){var B;const V=Reflect.getOwnPropertyDescriptor(be,Ce);if(V)return V;if(!(typeof Ce=="symbol"||Ce.startsWith("__"))){for(const e of ae){if(!e.value)continue;const p=yy(e.value,Ce)??("_"in e.value?yy((B=e.value._)==null?void 0:B.setupState,Ce):void 0);if(p)return p}for(const e of ae){const p=e.value&&e.value[gy];if(!p)continue;const L=p.slice();for(;L.length;){const n=L.shift(),C=yy(n.value,Ce);if(C)return C;const y=n.value&&n.value[gy];y&&L.push(...y)}}}}})}const bP=Bn({id:String,...Uf(V0({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:fg}}),["absolute"])},"VMenu"),mg=ea()({name:"VMenu",props:bP(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const de=si(m,"modelValue"),{scopeId:be}=Dd(),Ce=Js(),V=Tr(()=>m.id||`v-menu-${Ce}`),B=Ta(),e=Ii(im,null),p=Da(0);Oo(im,{register(){++p.value},unregister(){--p.value},closeParents(){setTimeout(()=>{p.value||(de.value=!1,e==null||e.closeParents())},40)}}),Oa(de,h=>{h?e==null||e.register():e==null||e.unregister()});function L(){e==null||e.closeParents()}function n(h){var g,t;m.disabled||h.key==="Tab"&&(de.value=!1,(t=(g=B.value)==null?void 0:g.activatorEl)==null||t.focus())}function C(h){var t;if(m.disabled)return;const g=(t=B.value)==null?void 0:t.contentEl;g&&de.value?h.key==="ArrowDown"?(h.preventDefault(),Hp(g,"next")):h.key==="ArrowUp"&&(h.preventDefault(),Hp(g,"prev")):["ArrowDown","ArrowUp"].includes(h.key)&&(de.value=!0,h.preventDefault(),setTimeout(()=>setTimeout(()=>C(h))))}const y=Tr(()=>Ra({"aria-haspopup":"menu","aria-expanded":String(de.value),"aria-owns":V.value,onKeydown:C},m.activatorProps));return da(()=>{const[h]=Lc.filterProps(m);return _t(Lc,Ra({ref:B,class:["v-menu",m.class],style:m.style},h,{modelValue:de.value,"onUpdate:modelValue":g=>de.value=g,absolute:!0,activatorProps:y.value,"onClick:outside":L,onKeydown:n},be),{activator:ae.activator,default:function(){for(var g=arguments.length,t=new Array(g),r=0;r<g;r++)t[r]=arguments[r];return _t(Qi,{root:"VMenu"},{default:()=>{var l;return[(l=ae.default)==null?void 0:l.call(ae,...t)]}})}})}),sf({id:V,openChildren:p},B)}});const wP=Bn({active:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...Fa(),...Dc({transition:{component:i1}})},"VCounter"),xg=ea()({name:"VCounter",functional:!0,props:wP(),setup(m,$){let{slots:ae}=$;const de=Tr(()=>m.max?`${m.value} / ${m.max}`:String(m.value));return da(()=>_t(tf,{transition:m.transition},{default:()=>[To(_t("div",{class:["v-counter",m.class],style:m.style},[ae.default?ae.default({counter:de.value,max:m.max,value:m.value}):de.value]),[[Vf,m.active]])]})),{}}});const TP=Bn({floating:Boolean,...Fa()},"VFieldLabel"),l0=ea()({name:"VFieldLabel",props:TP(),setup(m,$){let{slots:ae}=$;return da(()=>_t(Id,{class:["v-field-label",{"v-field-label--floating":m.floating},m.class],style:m.style,"aria-hidden":m.floating||void 0},ae)),{}}}),AP=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],bg=Bn({appendInnerIcon:ai,bgColor:String,clearable:Boolean,clearIcon:{type:ai,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},error:Boolean,flat:Boolean,label:String,persistentClear:Boolean,prependInnerIcon:ai,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:m=>AP.includes(m)},"onClick:clear":zf(),"onClick:appendInner":zf(),"onClick:prependInner":zf(),...Fa(),...h1(),...go(),...Di()},"VField"),U0=ea()({name:"VField",inheritAttrs:!1,props:{id:String,...dg(),...bg()},emits:{"update:focused":m=>!0,"update:modelValue":m=>!0},setup(m,$){let{attrs:ae,emit:de,slots:be}=$;const{themeClasses:Ce}=Zi(m),{loaderClasses:V}=hg(m),{focusClasses:B,isFocused:e,focus:p,blur:L}=Ch(m),{InputIcon:n}=qw(m),{roundedClasses:C}=Do(m),{rtlClasses:y}=bs(),h=Tr(()=>m.dirty||m.active),g=Tr(()=>!m.singleLine&&!!(m.label||be.label)),t=Js(),r=Tr(()=>m.id||`input-${t}`),l=Tr(()=>`${r.value}-messages`),a=Ta(),s=Ta(),c=Ta(),u=Tr(()=>["plain","underlined"].includes(m.variant)),{backgroundColorClasses:b,backgroundColorStyles:f}=Xo(oa(m,"bgColor")),{textColorClasses:w,textColorStyles:v}=js(Tr(()=>m.error||m.disabled?void 0:h.value&&e.value?m.color:m.baseColor));Oa(h,S=>{if(g.value){const M=a.value.$el,P=s.value.$el;requestAnimationFrame(()=>{const x=Km(M),E=P.getBoundingClientRect(),T=E.x-x.x,i=E.y-x.y-(x.height/2-E.height/2),R=E.width/.75,A=Math.abs(R-x.width)>1?{maxWidth:Na(R)}:void 0,k=getComputedStyle(M),_=getComputedStyle(P),H=parseFloat(k.transitionDuration)*1e3||150,z=parseFloat(_.getPropertyValue("--v-field-label-scale")),N=_.getPropertyValue("color");M.style.visibility="visible",P.style.visibility="hidden",vv(M,{transform:`translate(${T}px, ${i}px) scale(${z})`,color:N,...A},{duration:H,easing:C0,direction:S?"normal":"reverse"}).finished.then(()=>{M.style.removeProperty("visibility"),P.style.removeProperty("visibility")})})}},{flush:"post"});const o=Tr(()=>({isActive:h,isFocused:e,controlRef:c,blur:L,focus:p}));function d(S){S.target!==document.activeElement&&S.preventDefault()}return da(()=>{var T,i,R;const S=m.variant==="outlined",M=be["prepend-inner"]||m.prependInnerIcon,P=!!(m.clearable||be.clear),x=!!(be["append-inner"]||m.appendInnerIcon||P),E=be.label?be.label({...o.value,label:m.label,props:{for:r.value}}):m.label;return _t("div",Ra({class:["v-field",{"v-field--active":h.value,"v-field--appended":x,"v-field--center-affix":m.centerAffix??!u.value,"v-field--disabled":m.disabled,"v-field--dirty":m.dirty,"v-field--error":m.error,"v-field--flat":m.flat,"v-field--has-background":!!m.bgColor,"v-field--persistent-clear":m.persistentClear,"v-field--prepended":M,"v-field--reverse":m.reverse,"v-field--single-line":m.singleLine,"v-field--no-label":!E,[`v-field--variant-${m.variant}`]:!0},Ce.value,b.value,B.value,V.value,C.value,y.value,m.class],style:[f.value,v.value,m.style],onClick:d},ae),[_t("div",{class:"v-field__overlay"},null),_t(v1,{name:"v-field",active:!!m.loading,color:m.error?"error":typeof m.loading=="string"?m.loading:m.color},{default:be.loader}),M&&_t("div",{key:"prepend",class:"v-field__prepend-inner"},[m.prependInnerIcon&&_t(n,{key:"prepend-icon",name:"prependInner"},null),(T=be["prepend-inner"])==null?void 0:T.call(be,o.value)]),_t("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(m.variant)&&g.value&&_t(l0,{key:"floating-label",ref:s,class:[w.value],floating:!0,for:r.value},{default:()=>[E]}),_t(l0,{ref:a,for:r.value},{default:()=>[E]}),(i=be.default)==null?void 0:i.call(be,{...o.value,props:{id:r.value,class:"v-field__input","aria-describedby":l.value},focus:p,blur:L})]),P&&_t(o1,{key:"clear"},{default:()=>[To(_t("div",{class:"v-field__clearable",onMousedown:A=>{A.preventDefault(),A.stopPropagation()}},[be.clear?be.clear():_t(n,{name:"clear"},null)]),[[Vf,m.dirty]])]}),x&&_t("div",{key:"append",class:"v-field__append-inner"},[(R=be["append-inner"])==null?void 0:R.call(be,o.value),m.appendInnerIcon&&_t(n,{key:"append-icon",name:"appendInner"},null)]),_t("div",{class:["v-field__outline",w.value]},[S&&_t(Qa,null,[_t("div",{class:"v-field__outline__start"},null),g.value&&_t("div",{class:"v-field__outline__notch"},[_t(l0,{ref:s,floating:!0,for:r.value},{default:()=>[E]})]),_t("div",{class:"v-field__outline__end"},null)]),u.value&&g.value&&_t(l0,{ref:s,floating:!0,for:r.value},{default:()=>[E]})])])}),{controlRef:c}}});function x1(m){const $=Object.keys(U0.props).filter(ae=>!Zm(ae)&&ae!=="class"&&ae!=="style");return Td(m,$)}const SP=["color","file","time","date","datetime-local","week","month"],wg=Bn({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,type:{type:String,default:"text"},modelModifiers:Object,..._c(),...bg()},"VTextField"),xv=ea()({name:"VTextField",directives:{Intersect:z0},inheritAttrs:!1,props:wg(),emits:{"click:control":m=>!0,"mousedown:control":m=>!0,"update:focused":m=>!0,"update:modelValue":m=>!0},setup(m,$){let{attrs:ae,emit:de,slots:be}=$;const Ce=si(m,"modelValue"),{isFocused:V,focus:B,blur:e}=Ch(m),p=Tr(()=>typeof m.counterValue=="function"?m.counterValue(Ce.value):(Ce.value??"").toString().length),L=Tr(()=>{if(ae.maxlength)return ae.maxlength;if(!(!m.counter||typeof m.counter!="number"&&typeof m.counter!="string"))return m.counter}),n=Tr(()=>["plain","underlined"].includes(m.variant));function C(u,b){var f,w;!m.autofocus||!u||(w=(f=b[0].target)==null?void 0:f.focus)==null||w.call(f)}const y=Ta(),h=Ta(),g=Ta(),t=Tr(()=>SP.includes(m.type)||m.persistentPlaceholder||V.value||m.active);function r(){var u;g.value!==document.activeElement&&((u=g.value)==null||u.focus()),V.value||B()}function l(u){de("mousedown:control",u),u.target!==g.value&&(r(),u.preventDefault())}function a(u){r(),de("click:control",u)}function s(u){u.stopPropagation(),r(),io(()=>{Ce.value=null,Xm(m["onClick:clear"],u)})}function c(u){var f;const b=u.target;if(Ce.value=b.value,(f=m.modelModifiers)!=null&&f.trim&&["text","search","password","tel","url"].includes(m.type)){const w=[b.selectionStart,b.selectionEnd];io(()=>{b.selectionStart=w[0],b.selectionEnd=w[1]})}}return da(()=>{const u=!!(be.counter||m.counter||m.counterValue),b=!!(u||be.details),[f,w]=Tv(ae),[{modelValue:v,...o}]=Is.filterProps(m),[d]=x1(m);return _t(Is,Ra({ref:y,modelValue:Ce.value,"onUpdate:modelValue":S=>Ce.value=S,class:["v-text-field",{"v-text-field--prefixed":m.prefix,"v-text-field--suffixed":m.suffix,"v-text-field--plain-underlined":["plain","underlined"].includes(m.variant)},m.class],style:m.style},f,o,{centerAffix:!n.value,focused:V.value}),{...be,default:S=>{let{id:M,isDisabled:P,isDirty:x,isReadonly:E,isValid:T}=S;return _t(U0,Ra({ref:h,onMousedown:l,onClick:a,"onClick:clear":s,"onClick:prependInner":m["onClick:prependInner"],"onClick:appendInner":m["onClick:appendInner"],role:"textbox"},d,{id:M.value,active:t.value||x.value,dirty:x.value||m.dirty,disabled:P.value,focused:V.value,error:T.value===!1}),{...be,default:i=>{let{props:{class:R,...A}}=i;const k=To(_t("input",Ra({ref:g,value:Ce.value,onInput:c,autofocus:m.autofocus,readonly:E.value,disabled:P.value,name:m.name,placeholder:m.placeholder,size:1,type:m.type,onFocus:r,onBlur:e},A,w),null),[[Dl("intersect"),{handler:C},null,{once:!0}]]);return _t(Qa,null,[m.prefix&&_t("span",{class:"v-text-field__prefix"},[_t("span",{class:"v-text-field__prefix__text"},[m.prefix])]),_t("div",{class:R,"data-no-activator":""},[be.default?_t(Qa,null,[be.default(),k]):Sc(k)]),m.suffix&&_t("span",{class:"v-text-field__suffix"},[_t("span",{class:"v-text-field__suffix__text"},[m.suffix])])])}})},details:b?S=>{var M;return _t(Qa,null,[(M=be.details)==null?void 0:M.call(be,S),u&&_t(Qa,null,[_t("span",null,null),_t(xg,{active:m.persistentCounter||V.value,value:p.value,max:L.value},be.counter)])])}:void 0})}),sf({},y,h,g)}});const MP=Bn({renderless:Boolean,...Fa()},"VVirtualScrollItem"),CP=ea()({name:"VVirtualScrollItem",inheritAttrs:!1,props:MP(),emits:{"update:height":m=>!0},setup(m,$){let{attrs:ae,emit:de,slots:be}=$;const{resizeRef:Ce,contentRect:V}=Bf(void 0,"border");Oa(()=>{var B;return(B=V.value)==null?void 0:B.height},B=>{B!=null&&de("update:height",B)}),da(()=>{var B,e;return m.renderless?_t(Qa,null,[(B=be.default)==null?void 0:B.call(be,{itemRef:Ce})]):_t("div",Ra({ref:Ce,class:["v-virtual-scroll__item",m.class],style:m.style},ae),[(e=be.default)==null?void 0:e.call(be)])})}}),Eb=-1,Lb=1,EP=Bn({itemHeight:{type:[Number,String],default:48}},"virtual");function LP(m,$,ae){const de=Da(0),be=Da(m.itemHeight),Ce=Tr({get:()=>parseInt(be.value??0,10),set(b){be.value=b}}),V=Ta(),{resizeRef:B,contentRect:e}=Bf();Jl(()=>{B.value=V.value});const p=Av(),L=new Map;let n=Array.from({length:$.value.length});const C=Tr(()=>{const b=(!e.value||V.value===document.documentElement?p.height.value:e.value.height)-((ae==null?void 0:ae.value)??0);return Math.ceil(b/Ce.value*1.7+1)});function y(b,f){Ce.value=Math.max(Ce.value,f),n[b]=f,L.set($.value[b],f)}function h(b){return n.slice(0,b).reduce((f,w)=>f+(w||Ce.value),0)}function g(b){const f=$.value.length;let w=0,v=0;for(;v<b&&w<f;)v+=n[w++]||Ce.value;return w-1}let t=0;function r(){if(!V.value||!e.value)return;const b=e.value.height-56,f=V.value.scrollTop,w=f<t?Eb:Lb,v=g(f+b/2),o=Math.round(C.value/3),d=v-o,S=de.value+o*2-1;w===Eb&&v<=S?de.value=Xs(d,0,$.value.length):w===Lb&&v>=S&&(de.value=Xs(d,0,$.value.length-C.value)),t=f}function l(b){if(!V.value)return;const f=h(b);V.value.scrollTop=f}const a=Tr(()=>Math.min($.value.length,de.value+C.value)),s=Tr(()=>$.value.slice(de.value,a.value).map((b,f)=>({raw:b,index:f+de.value}))),c=Tr(()=>h(de.value)),u=Tr(()=>h($.value.length)-h(a.value));return Oa(()=>$.value.length,()=>{n=wc($.value.length).map(()=>Ce.value),L.forEach((b,f)=>{const w=$.value.indexOf(f);w===-1?L.delete(f):n[w]=b})}),{containerRef:V,computedItems:s,itemHeight:Ce,paddingTop:c,paddingBottom:u,scrollToIndex:l,handleScroll:r,handleItemResize:y}}const PP=Bn({items:{type:Array,default:()=>[]},renderless:Boolean,...EP(),...Fa(),...Mu()},"VVirtualScroll"),Tg=ea()({name:"VVirtualScroll",props:PP(),setup(m,$){let{slots:ae}=$;const de=xs("VVirtualScroll"),{dimensionStyles:be}=Cu(m),{containerRef:Ce,handleScroll:V,handleItemResize:B,scrollToIndex:e,paddingTop:p,paddingBottom:L,computedItems:n}=LP(m,oa(m,"items"));return Mc(()=>m.renderless,()=>{Ks(()=>{var C;Ce.value=Qm(de.vnode.el,!0),(C=Ce.value)==null||C.addEventListener("scroll",V)}),Rl(()=>{var C;(C=Ce.value)==null||C.removeEventListener("scroll",V)})}),da(()=>{const C=n.value.map(y=>_t(CP,{key:y.index,renderless:m.renderless,"onUpdate:height":h=>B(y.index,h)},{default:h=>{var g;return(g=ae.default)==null?void 0:g.call(ae,{item:y.raw,index:y.index,...h})}}));return m.renderless?_t(Qa,null,[_t("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:Na(p.value)}},null),C,_t("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:Na(L.value)}},null)]):_t("div",{ref:Ce,class:["v-virtual-scroll",m.class],onScroll:V,style:[be.value,m.style]},[_t("div",{class:"v-virtual-scroll__container",style:{paddingTop:Na(p.value),paddingBottom:Na(L.value)}},[C])])}),{scrollToIndex:e}}});function b1(m,$){const ae=Da(!1);let de;function be(B){cancelAnimationFrame(de),ae.value=!0,de=requestAnimationFrame(()=>{de=requestAnimationFrame(()=>{ae.value=!1})})}async function Ce(){await new Promise(B=>requestAnimationFrame(B)),await new Promise(B=>requestAnimationFrame(B)),await new Promise(B=>requestAnimationFrame(B)),await new Promise(B=>{if(ae.value){const e=Oa(ae,()=>{e(),B()})}else B()})}async function V(B){var L,n;if(B.key==="Tab"&&((L=$.value)==null||L.focus()),!["PageDown","PageUp","Home","End"].includes(B.key))return;const e=(n=m.value)==null?void 0:n.$el;if(!e)return;(B.key==="Home"||B.key==="End")&&e.scrollTo({top:B.key==="Home"?0:e.scrollHeight,behavior:"smooth"}),await Ce();const p=e.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(B.key==="PageDown"||B.key==="Home"){const C=e.getBoundingClientRect().top;for(const y of p)if(y.getBoundingClientRect().top>=C){y.focus();break}}else{const C=e.getBoundingClientRect().bottom;for(const y of[...p].reverse())if(y.getBoundingClientRect().bottom<=C){y.focus();break}}}return{onListScroll:be,onListKeydown:V}}const w1=Bn({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:ai,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:wv},...gT({itemChildren:!1})},"Select"),RP=Bn({...w1(),...Uf(wg({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Dc({transition:{component:fg}})},"VSelect"),IP=ea()({name:"VSelect",props:RP(),emits:{"update:focused":m=>!0,"update:modelValue":m=>!0,"update:menu":m=>!0},setup(m,$){let{slots:ae}=$;const{t:de}=Su(),be=Ta(),Ce=Ta(),V=si(m,"menu"),B=Tr({get:()=>V.value,set:M=>{var P;V.value&&!M&&((P=Ce.value)!=null&&P.openChildren)||(V.value=M)}}),{items:e,transformIn:p,transformOut:L}=y1(m),n=si(m,"modelValue",[],M=>p(M===null?[null]:wu(M)),M=>{const P=L(M);return m.multiple?P:P[0]??null}),C=pg(),y=Tr(()=>n.value.map(M=>e.value.find(P=>m.valueComparator(P.value,M.value))||M)),h=Tr(()=>y.value.map(M=>M.props.value)),g=Da(!1);let t="",r;const l=Tr(()=>m.hideSelected?e.value.filter(M=>!y.value.some(P=>P===M)):e.value),a=Tr(()=>m.hideNoData&&!e.value.length||m.readonly||(C==null?void 0:C.isReadonly.value)),s=Ta(),{onListScroll:c,onListKeydown:u}=b1(s,be);function b(M){m.openOnClear&&(B.value=!0)}function f(){a.value||(B.value=!B.value)}function w(M){var i,R;if(m.readonly||C!=null&&C.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(M.key)&&M.preventDefault(),["Enter","ArrowDown"," "].includes(M.key)&&(B.value=!0),["Escape","Tab"].includes(M.key)&&(B.value=!1),M.key==="Home"?(i=s.value)==null||i.focus("first"):M.key==="End"&&((R=s.value)==null||R.focus("last"));const P=1e3;function x(A){const k=A.key.length===1,_=!A.ctrlKey&&!A.metaKey&&!A.altKey;return k&&_}if(m.multiple||!x(M))return;const E=performance.now();E-r>P&&(t=""),t+=M.key.toLowerCase(),r=E;const T=e.value.find(A=>A.title.toLowerCase().startsWith(t));T!==void 0&&(n.value=[T])}function v(M){if(m.multiple){const P=h.value.findIndex(x=>m.valueComparator(x,M.value));if(P===-1)n.value=[...n.value,M];else{const x=[...n.value];x.splice(P,1),n.value=x}}else n.value=[M],B.value=!1}function o(M){var P;(P=s.value)!=null&&P.$el.contains(M.relatedTarget)||(B.value=!1)}function d(){var M;g.value&&((M=be.value)==null||M.focus())}function S(M){g.value=!0}return da(()=>{const M=!!(m.chips||ae.chip),P=!!(!m.hideNoData||l.value.length||ae["prepend-item"]||ae["append-item"]||ae["no-data"]),x=n.value.length>0,[E]=xv.filterProps(m),T=x||!g.value&&m.label&&!m.persistentPlaceholder?void 0:m.placeholder;return _t(xv,Ra({ref:be},E,{modelValue:n.value.map(i=>i.props.value).join(", "),"onUpdate:modelValue":i=>{i==null&&(n.value=[])},focused:g.value,"onUpdate:focused":i=>g.value=i,validationValue:n.externalValue,dirty:x,class:["v-select",{"v-select--active-menu":B.value,"v-select--chips":!!m.chips,[`v-select--${m.multiple?"multiple":"single"}`]:!0,"v-select--selected":n.value.length,"v-select--selection-slot":!!ae.selection},m.class],style:m.style,readonly:!0,placeholder:T,"onClick:clear":b,"onMousedown:control":f,onBlur:o,onKeydown:w}),{...ae,default:()=>_t(Qa,null,[_t(mg,Ra({ref:Ce,modelValue:B.value,"onUpdate:modelValue":i=>B.value=i,activator:"parent",contentClass:"v-select__content",disabled:a.value,eager:m.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:m.transition,onAfterLeave:d},m.menuProps),{default:()=>[P&&_t(gg,{ref:s,selected:h.value,selectStrategy:m.multiple?"independent":"single-independent",onMousedown:i=>i.preventDefault(),onKeydown:u,onFocusin:S,onScrollPassive:c,tabindex:"-1"},{default:()=>{var i,R,A;return[(i=ae["prepend-item"])==null?void 0:i.call(ae),!l.value.length&&!m.hideNoData&&(((R=ae["no-data"])==null?void 0:R.call(ae))??_t(Ec,{title:de(m.noDataText)},null)),_t(Tg,{renderless:!0,items:l.value},{default:k=>{var O;let{item:_,index:H,itemRef:z}=k;const N=Ra(_.props,{ref:z,key:H,onClick:()=>v(_)});return((O=ae.item)==null?void 0:O.call(ae,{item:_,index:H,props:N}))??_t(Ec,N,{prepend:F=>{let{isSelected:U}=F;return _t(Qa,null,[m.multiple&&!m.hideSelected?_t(xd,{key:_.value,modelValue:U,ripple:!1,tabindex:"-1"},null):void 0,_.props.prependIcon&&_t(ao,{icon:_.props.prependIcon},null)])}})}}),(A=ae["append-item"])==null?void 0:A.call(ae)]}})]}),y.value.map((i,R)=>{var _;function A(H){H.stopPropagation(),H.preventDefault(),v(i)}const k={"onClick:close":A,onMousedown(H){H.preventDefault(),H.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return _t("div",{key:i.value,class:"v-select__selection"},[M?ae.chip?_t(Qi,{key:"chip-defaults",defaults:{VChip:{closable:m.closableChips,size:"small",text:i.title}}},{default:()=>{var H;return[(H=ae.chip)==null?void 0:H.call(ae,{item:i,index:R,props:k})]}}):_t(N0,Ra({key:"chip",closable:m.closableChips,size:"small",text:i.title},k),null):((_=ae.selection)==null?void 0:_.call(ae,{item:i,index:R}))??_t("span",{class:"v-select__selection-text"},[i.title,m.multiple&&R<y.value.length-1&&_t("span",{class:"v-select__selection-comma"},[nf(",")])])])})]),"append-inner":function(){var k;for(var i=arguments.length,R=new Array(i),A=0;A<i;A++)R[A]=arguments[A];return _t(Qa,null,[(k=ae["append-inner"])==null?void 0:k.call(ae,...R),m.menuIcon?_t(ao,{class:"v-select__menu-icon",icon:m.menuIcon},null):void 0])}})}),sf({isFocused:g,menu:B,select:v},be)}}),DP=(m,$,ae)=>m==null||$==null?-1:m.toString().toLocaleLowerCase().indexOf($.toString().toLocaleLowerCase()),ET=Bn({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function kP(m,$,ae){var B;const de=[],be=(ae==null?void 0:ae.default)??DP,Ce=ae!=null&&ae.filterKeys?wu(ae.filterKeys):!1,V=Object.keys((ae==null?void 0:ae.customKeyFilter)??{}).length;if(!(m!=null&&m.length))return de;e:for(let e=0;e<m.length;e++){const p=m[e],L={},n={};let C=-1;if($&&!(ae!=null&&ae.noFilter)){if(typeof p=="object"){const g=Ce||Object.keys(p);for(const t of g){const r=Ff(p,t,p),l=(B=ae==null?void 0:ae.customKeyFilter)==null?void 0:B[t];if(C=l?l(r,$,p):be(r,$,p),C!==-1&&C!==!1)l?L[t]=C:n[t]=C;else if((ae==null?void 0:ae.filterMode)==="every")continue e}}else C=be(p,$,p),C!==-1&&C!==!1&&(n.title=C);const y=Object.keys(n).length,h=Object.keys(L).length;if(!y&&!h||(ae==null?void 0:ae.filterMode)==="union"&&h!==V&&!y||(ae==null?void 0:ae.filterMode)==="intersection"&&(h!==V||!y))continue}de.push({index:e,matches:{...n,...L}})}return de}function LT(m,$,ae,de){const be=Ta([]),Ce=Ta(new Map),V=Tr(()=>de!=null&&de.transform?ms($).map(de==null?void 0:de.transform):ms($));Jl(()=>{const e=typeof ae=="function"?ae():ms(ae),p=typeof e!="string"&&typeof e!="number"?"":String(e),L=kP(V.value,p,{customKeyFilter:m.customKeyFilter,default:m.customFilter,filterKeys:m.filterKeys,filterMode:m.filterMode,noFilter:m.noFilter}),n=ms($),C=[],y=new Map;L.forEach(h=>{let{index:g,matches:t}=h;const r=n[g];C.push(r),y.set(r.value,t)}),be.value=C,Ce.value=y});function B(e){return Ce.value.get(e.value)}return{filteredItems:be,filteredMatches:Ce,getMatches:B}}function _P(m,$,ae){if($==null)return m;if(Array.isArray($))throw new Error("Multiple matches is not implemented");return typeof $=="number"&&~$?_t(Qa,null,[_t("span",{class:"v-autocomplete__unmask"},[m.substr(0,$)]),_t("span",{class:"v-autocomplete__mask"},[m.substr($,ae)]),_t("span",{class:"v-autocomplete__unmask"},[m.substr($+ae)])]):m}const FP=Bn({autoSelectFirst:{type:[Boolean,String]},search:String,...ET({filterKeys:["title"]}),...w1(),...Uf(wg({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Dc({transition:!1})},"VAutocomplete"),zP=ea()({name:"VAutocomplete",props:FP(),emits:{"update:focused":m=>!0,"update:search":m=>!0,"update:modelValue":m=>!0,"update:menu":m=>!0},setup(m,$){let{slots:ae}=$;const{t:de}=Su(),be=Ta(),Ce=Da(!1),V=Da(!0),B=Ta(!1),e=Ta(),p=si(m,"menu"),L=Tr({get:()=>p.value,set:O=>{var F;p.value&&!O&&((F=e.value)!=null&&F.openChildren)||(p.value=O)}}),n=Da(-1),C=Tr(()=>{var O;return(O=be.value)==null?void 0:O.color}),{items:y,transformIn:h,transformOut:g}=y1(m),{textColorClasses:t,textColorStyles:r}=js(C),l=si(m,"search",""),a=si(m,"modelValue",[],O=>h(O===null?[null]:wu(O)),O=>{const F=g(O);return m.multiple?F:F[0]??null}),s=pg(),{filteredItems:c,getMatches:u}=LT(m,y,()=>V.value?"":l.value),b=Tr(()=>a.value.map(O=>y.value.find(F=>m.valueComparator(F.value,O.value))||O)),f=Tr(()=>m.hideSelected?c.value.filter(O=>!b.value.some(F=>F.value===O.value)):c.value),w=Tr(()=>b.value.map(O=>O.props.value)),v=Tr(()=>b.value[n.value]),o=Tr(()=>{var F;return(m.autoSelectFirst===!0||m.autoSelectFirst==="exact"&&l.value===((F=f.value[0])==null?void 0:F.title))&&f.value.length>0&&!V.value&&!B.value}),d=Tr(()=>m.hideNoData&&!y.value.length||m.readonly||(s==null?void 0:s.isReadonly.value)),S=Ta(),{onListScroll:M,onListKeydown:P}=b1(S,be);function x(O){m.openOnClear&&(L.value=!0),l.value=""}function E(){d.value||(L.value=!0)}function T(O){d.value||(Ce.value&&(O.preventDefault(),O.stopPropagation()),L.value=!L.value)}function i(O){var Z,q,J;if(m.readonly||s!=null&&s.isReadonly.value)return;const F=be.value.selectionStart,U=w.value.length;if((n.value>-1||["Enter","ArrowDown","ArrowUp"].includes(O.key))&&O.preventDefault(),["Enter","ArrowDown"].includes(O.key)&&(L.value=!0),["Escape"].includes(O.key)&&(L.value=!1),["Enter","Escape","Tab"].includes(O.key)&&(o.value&&["Enter","Tab"].includes(O.key)&&N(c.value[0]),V.value=!0),O.key==="ArrowDown"&&o.value&&((Z=S.value)==null||Z.focus("next")),!!m.multiple){if(["Backspace","Delete"].includes(O.key)){if(n.value<0){O.key==="Backspace"&&!l.value&&(n.value=U-1);return}const te=n.value;v.value&&N(v.value),n.value=te>=U-1?U-2:te}if(O.key==="ArrowLeft"){if(n.value<0&&F>0)return;const te=n.value>-1?n.value-1:U-1;b.value[te]?n.value=te:(n.value=-1,be.value.setSelectionRange((q=l.value)==null?void 0:q.length,(J=l.value)==null?void 0:J.length))}if(O.key==="ArrowRight"){if(n.value<0)return;const te=n.value+1;b.value[te]?n.value=te:(n.value=-1,be.value.setSelectionRange(0,0))}}}function R(O){l.value=O.target.value}function A(){var O;Ce.value&&(V.value=!0,(O=be.value)==null||O.focus())}function k(O){Ce.value=!0,setTimeout(()=>{B.value=!0})}function _(O){B.value=!1}function H(O){(O==null||O===""&&!m.multiple)&&(a.value=[])}const z=Da(!1);function N(O){if(m.multiple){const F=w.value.findIndex(U=>m.valueComparator(U,O.value));if(F===-1)a.value=[...a.value,O];else{const U=[...a.value];U.splice(F,1),a.value=U}}else a.value=[O],z.value=!0,l.value=O.title,L.value=!1,V.value=!0,io(()=>z.value=!1)}return Oa(Ce,(O,F)=>{var U;O!==F&&(O?(z.value=!0,l.value=m.multiple?"":String(((U=b.value.at(-1))==null?void 0:U.props.title)??""),V.value=!0,io(()=>z.value=!1)):(!m.multiple&&!l.value?a.value=[]:o.value&&!B.value&&!b.value.some(Z=>{let{value:q}=Z;return q===f.value[0].value})&&N(f.value[0]),L.value=!1,l.value="",n.value=-1))}),Oa(l,O=>{!Ce.value||z.value||(O&&(L.value=!0),V.value=!O)}),da(()=>{const O=!!(m.chips||ae.chip),F=!!(!m.hideNoData||f.value.length||ae["prepend-item"]||ae["append-item"]||ae["no-data"]),U=a.value.length>0,[Z]=xv.filterProps(m);return _t(xv,Ra({ref:be},Z,{modelValue:l.value,"onUpdate:modelValue":H,focused:Ce.value,"onUpdate:focused":q=>Ce.value=q,validationValue:a.externalValue,dirty:U,onInput:R,class:["v-autocomplete",`v-autocomplete--${m.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":L.value,"v-autocomplete--chips":!!m.chips,"v-autocomplete--selection-slot":!!ae.selection,"v-autocomplete--selecting-index":n.value>-1},m.class],style:m.style,readonly:m.readonly,placeholder:U?void 0:m.placeholder,"onClick:clear":x,"onMousedown:control":E,onKeydown:i}),{...ae,default:()=>_t(Qa,null,[_t(mg,Ra({ref:e,modelValue:L.value,"onUpdate:modelValue":q=>L.value=q,activator:"parent",contentClass:"v-autocomplete__content",disabled:d.value,eager:m.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:m.transition,onAfterLeave:A},m.menuProps),{default:()=>[F&&_t(gg,{ref:S,selected:w.value,selectStrategy:m.multiple?"independent":"single-independent",onMousedown:q=>q.preventDefault(),onKeydown:P,onFocusin:k,onFocusout:_,onScrollPassive:M,tabindex:"-1"},{default:()=>{var q,J,te;return[(q=ae["prepend-item"])==null?void 0:q.call(ae),!f.value.length&&!m.hideNoData&&(((J=ae["no-data"])==null?void 0:J.call(ae))??_t(Ec,{title:de(m.noDataText)},null)),_t(Tg,{renderless:!0,items:f.value},{default:fe=>{var re;let{item:K,index:Y,itemRef:W}=fe;const X=Ra(K.props,{ref:W,key:Y,active:o.value&&Y===0?!0:void 0,onClick:()=>N(K)});return((re=ae.item)==null?void 0:re.call(ae,{item:K,index:Y,props:X}))??_t(Ec,X,{prepend:se=>{let{isSelected:Q}=se;return _t(Qa,null,[m.multiple&&!m.hideSelected?_t(xd,{key:K.value,modelValue:Q,ripple:!1,tabindex:"-1"},null):void 0,K.props.prependIcon&&_t(ao,{icon:K.props.prependIcon},null)])},title:()=>{var se,Q;return V.value?K.title:_P(K.title,(se=u(K))==null?void 0:se.title,((Q=l.value)==null?void 0:Q.length)??0)}})}}),(te=ae["append-item"])==null?void 0:te.call(ae)]}})]}),b.value.map((q,J)=>{var K;function te(Y){Y.stopPropagation(),Y.preventDefault(),N(q)}const fe={"onClick:close":te,onMousedown(Y){Y.preventDefault(),Y.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return _t("div",{key:q.value,class:["v-autocomplete__selection",J===n.value&&["v-autocomplete__selection--selected",t.value]],style:J===n.value?r.value:{}},[O?ae.chip?_t(Qi,{key:"chip-defaults",defaults:{VChip:{closable:m.closableChips,size:"small",text:q.title}}},{default:()=>{var Y;return[(Y=ae.chip)==null?void 0:Y.call(ae,{item:q,index:J,props:fe})]}}):_t(N0,Ra({key:"chip",closable:m.closableChips,size:"small",text:q.title},fe),null):((K=ae.selection)==null?void 0:K.call(ae,{item:q,index:J}))??_t("span",{class:"v-autocomplete__selection-text"},[q.title,m.multiple&&J<b.value.length-1&&_t("span",{class:"v-autocomplete__selection-comma"},[nf(",")])])])})]),"append-inner":function(){var fe;for(var q=arguments.length,J=new Array(q),te=0;te<q;te++)J[te]=arguments[te];return _t(Qa,null,[(fe=ae["append-inner"])==null?void 0:fe.call(ae,...J),m.menuIcon?_t(ao,{class:"v-autocomplete__menu-icon",icon:m.menuIcon,onMousedown:T,onClick:sw},null):void 0])}})}),sf({isFocused:Ce,isPristine:V,menu:L,search:l,filteredItems:c,select:N},be)}});const OP=Bn({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:ai,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...Fa(),...Ah({location:"top end"}),...go(),...li(),...Di(),...Dc({transition:"scale-rotate-transition"})},"VBadge"),BP=ea()({name:"VBadge",inheritAttrs:!1,props:OP(),setup(m,$){const{backgroundColorClasses:ae,backgroundColorStyles:de}=Xo(oa(m,"color")),{roundedClasses:be}=Do(m),{t:Ce}=Su(),{textColorClasses:V,textColorStyles:B}=js(oa(m,"textColor")),{themeClasses:e}=Aw(),{locationStyles:p}=Sh(m,!0,L=>(m.floating?m.dot?2:4:m.dot?8:12)+(["top","bottom"].includes(L)?+(m.offsetY??0):["left","right"].includes(L)?+(m.offsetX??0):0));return da(()=>{const L=Number(m.content),n=!m.max||isNaN(L)?m.content:L<=+m.max?L:`${m.max}+`,[C,y]=Td($.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return _t(m.tag,Ra({class:["v-badge",{"v-badge--bordered":m.bordered,"v-badge--dot":m.dot,"v-badge--floating":m.floating,"v-badge--inline":m.inline},m.class]},y,{style:m.style}),{default:()=>{var h,g;return[_t("div",{class:"v-badge__wrapper"},[(g=(h=$.slots).default)==null?void 0:g.call(h),_t(tf,{transition:m.transition},{default:()=>{var t,r;return[To(_t("span",Ra({class:["v-badge__badge",e.value,ae.value,be.value,V.value],style:[de.value,B.value,m.inline?{}:p.value],"aria-atomic":"true","aria-label":Ce(m.label,L),"aria-live":"polite",role:"status"},C),[m.dot?void 0:$.slots.badge?(r=(t=$.slots).badge)==null?void 0:r.call(t):m.icon?_t(ao,{icon:m.icon},null):n]),[[Vf,m.modelValue]])]}})])]}})}),{}}});const NP=Bn({color:String,density:String,...Fa()},"VBannerActions"),PT=ea()({name:"VBannerActions",props:NP(),setup(m,$){let{slots:ae}=$;return ts({VBtn:{color:m.color,density:m.density,variant:"text"}}),da(()=>{var de;return _t("div",{class:["v-banner-actions",m.class],style:m.style},[(de=ae.default)==null?void 0:de.call(ae)])}),{}}}),RT=of("v-banner-text"),VP=Bn({avatar:String,color:String,icon:ai,lines:String,stacked:Boolean,sticky:Boolean,text:String,...Ql(),...Fa(),...ls(),...Mu(),...ss(),...Ah(),...Pd(),...go(),...li(),...Di()},"VBanner"),UP=ea()({name:"VBanner",props:VP(),setup(m,$){let{slots:ae}=$;const{borderClasses:de}=Eu(m),{densityClasses:be}=$s(m),{mobile:Ce}=Av(),{dimensionStyles:V}=Cu(m),{elevationClasses:B}=Ds(m),{locationStyles:e}=Sh(m),{positionClasses:p}=Rd(m),{roundedClasses:L}=Do(m),{themeClasses:n}=Zi(m),C=oa(m,"color"),y=oa(m,"density");ts({VBannerActions:{color:C,density:y}}),da(()=>{const h=!!(m.text||ae.text),g=!!(m.avatar||m.icon),t=!!(g||ae.prepend);return _t(m.tag,{class:["v-banner",{"v-banner--stacked":m.stacked||Ce.value,"v-banner--sticky":m.sticky,[`v-banner--${m.lines}-line`]:!!m.lines},de.value,be.value,B.value,p.value,L.value,n.value,m.class],style:[V.value,e.value,m.style],role:"banner"},{default:()=>{var r;return[t&&_t("div",{key:"prepend",class:"v-banner__prepend"},[ae.prepend?_t(Qi,{key:"prepend-defaults",disabled:!g,defaults:{VAvatar:{color:C.value,density:y.value,icon:m.icon,image:m.avatar}}},ae.prepend):_t(Th,{key:"prepend-avatar",color:C.value,density:y.value,icon:m.icon,image:m.avatar},null)]),_t("div",{class:"v-banner__content"},[h&&_t(RT,{key:"text"},{default:()=>{var l;return[((l=ae.text)==null?void 0:l.call(ae))??m.text]}}),(r=ae.default)==null?void 0:r.call(ae)]),ae.actions&&_t(PT,{key:"actions"},ae.actions)]}})})}});const HP=Bn({bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:m=>!m||["horizontal","shift"].includes(m)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...Ql(),...Fa(),...ls(),...ss(),...go(),...Ad({name:"bottom-navigation"}),...li({tag:"header"}),...Md({modelValue:!0,selectedClass:"v-btn--selected"}),...Di()},"VBottomNavigation"),GP=ea()({name:"VBottomNavigation",props:HP(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Aw(),{borderClasses:be}=Eu(m),{backgroundColorClasses:Ce,backgroundColorStyles:V}=Xo(oa(m,"bgColor")),{densityClasses:B}=$s(m),{elevationClasses:e}=Ds(m),{roundedClasses:p}=Do(m),{ssrBootStyles:L}=Sv(),n=Tr(()=>Number(m.height)-(m.density==="comfortable"?8:0)-(m.density==="compact"?16:0)),C=oa(m,"active"),{layoutItemStyles:y}=Sd({id:m.name,order:Tr(()=>parseInt(m.order,10)),position:Tr(()=>"bottom"),layoutSize:Tr(()=>C.value?n.value:0),elementSize:n,active:C,absolute:oa(m,"absolute")});return Ev(m,l1),ts({VBtn:{color:oa(m,"color"),density:oa(m,"density"),stacked:Tr(()=>m.mode!=="horizontal"),variant:"text"}},{scoped:!0}),da(()=>_t(m.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":C.value,"v-bottom-navigation--grow":m.grow,"v-bottom-navigation--shift":m.mode==="shift"},de.value,Ce.value,be.value,B.value,e.value,p.value,m.class],style:[V.value,y.value,{height:Na(n.value),transform:`translateY(${Na(C.value?0:100,"%")})`},L.value,m.style]},{default:()=>[ae.default&&_t("div",{class:"v-bottom-navigation__content"},[ae.default()])]})),{}}});const WP=Bn({divider:[Number,String],...Fa()},"VBreadcrumbsDivider"),IT=ea()({name:"VBreadcrumbsDivider",props:WP(),setup(m,$){let{slots:ae}=$;return da(()=>{var de;return _t("li",{class:["v-breadcrumbs-divider",m.class],style:m.style},[((de=ae==null?void 0:ae.default)==null?void 0:de.call(ae))??m.divider])}),{}}}),YP=Bn({active:Boolean,activeClass:String,activeColor:String,color:String,disabled:Boolean,title:String,...Fa(),...B0(),...li({tag:"li"})},"VBreadcrumbsItem"),DT=ea()({name:"VBreadcrumbsItem",props:YP(),setup(m,$){let{slots:ae,attrs:de}=$;const be=O0(m,de),Ce=Tr(()=>{var p;return m.active||((p=be.isActive)==null?void 0:p.value)}),V=Tr(()=>Ce.value?m.activeColor:m.color),{textColorClasses:B,textColorStyles:e}=js(V);return da(()=>_t(m.tag,{class:["v-breadcrumbs-item",{"v-breadcrumbs-item--active":Ce.value,"v-breadcrumbs-item--disabled":m.disabled,[`${m.activeClass}`]:Ce.value&&m.activeClass},B.value,m.class],style:[e.value,m.style],"aria-current":Ce.value?"page":void 0},{default:()=>{var p,L;return[be.isLink.value?_t("a",{class:"v-breadcrumbs-item--link",href:be.href.value,"aria-current":Ce.value?"page":void 0,onClick:be.navigate},[((L=ae.default)==null?void 0:L.call(ae))??m.title]):((p=ae.default)==null?void 0:p.call(ae))??m.title]}})),{}}}),ZP=Bn({activeClass:String,activeColor:String,bgColor:String,color:String,disabled:Boolean,divider:{type:String,default:"/"},icon:ai,items:{type:Array,default:()=>[]},...Fa(),...ls(),...go(),...li({tag:"ul"})},"VBreadcrumbs"),XP=ea()({name:"VBreadcrumbs",props:ZP(),setup(m,$){let{slots:ae}=$;const{backgroundColorClasses:de,backgroundColorStyles:be}=Xo(oa(m,"bgColor")),{densityClasses:Ce}=$s(m),{roundedClasses:V}=Do(m);ts({VBreadcrumbsDivider:{divider:oa(m,"divider")},VBreadcrumbsItem:{activeClass:oa(m,"activeClass"),activeColor:oa(m,"activeColor"),color:oa(m,"color"),disabled:oa(m,"disabled")}});const B=Tr(()=>m.items.map(e=>typeof e=="string"?{item:{title:e},raw:e}:{item:e,raw:e}));return da(()=>{const e=!!(ae.prepend||m.icon);return _t(m.tag,{class:["v-breadcrumbs",de.value,Ce.value,V.value,m.class],style:[be.value,m.style]},{default:()=>{var p;return[e&&_t("li",{key:"prepend",class:"v-breadcrumbs__prepend"},[ae.prepend?_t(Qi,{key:"prepend-defaults",disabled:!m.icon,defaults:{VIcon:{icon:m.icon,start:!0}}},ae.prepend):_t(ao,{key:"prepend-icon",start:!0,icon:m.icon},null)]),B.value.map((L,n,C)=>{let{item:y,raw:h}=L;return _t(Qa,null,[_t(DT,Ra({key:y.title,disabled:n>=C.length-1},y),{default:ae.title?()=>{var g;return(g=ae.title)==null?void 0:g.call(ae,{item:h,index:n})}:void 0}),n<C.length-1&&_t(IT,null,{default:ae.divider?()=>{var g;return(g=ae.divider)==null?void 0:g.call(ae,{item:h,index:n})}:void 0})])}),(p=ae.default)==null?void 0:p.call(ae)]}})}),{}}});const kT=ea()({name:"VCardActions",props:Fa(),setup(m,$){let{slots:ae}=$;return ts({VBtn:{variant:"text"}}),da(()=>{var de;return _t("div",{class:["v-card-actions",m.class],style:m.style},[(de=ae.default)==null?void 0:de.call(ae)])}),{}}}),_T=of("v-card-subtitle"),FT=of("v-card-title"),jP=Bn({appendAvatar:String,appendIcon:ai,prependAvatar:String,prependIcon:ai,subtitle:String,title:String,...Fa(),...ls()},"VCardItem"),zT=ea()({name:"VCardItem",props:jP(),setup(m,$){let{slots:ae}=$;return da(()=>{var p;const de=!!(m.prependAvatar||m.prependIcon),be=!!(de||ae.prepend),Ce=!!(m.appendAvatar||m.appendIcon),V=!!(Ce||ae.append),B=!!(m.title||ae.title),e=!!(m.subtitle||ae.subtitle);return _t("div",{class:["v-card-item",m.class],style:m.style},[be&&_t("div",{key:"prepend",class:"v-card-item__prepend"},[ae.prepend?_t(Qi,{key:"prepend-defaults",disabled:!de,defaults:{VAvatar:{density:m.density,icon:m.prependIcon,image:m.prependAvatar}}},ae.prepend):de&&_t(Th,{key:"prepend-avatar",density:m.density,icon:m.prependIcon,image:m.prependAvatar},null)]),_t("div",{class:"v-card-item__content"},[B&&_t(FT,{key:"title"},{default:()=>{var L;return[((L=ae.title)==null?void 0:L.call(ae))??m.title]}}),e&&_t(_T,{key:"subtitle"},{default:()=>{var L;return[((L=ae.subtitle)==null?void 0:L.call(ae))??m.subtitle]}}),(p=ae.default)==null?void 0:p.call(ae)]),V&&_t("div",{key:"append",class:"v-card-item__append"},[ae.append?_t(Qi,{key:"append-defaults",disabled:!Ce,defaults:{VAvatar:{density:m.density,icon:m.appendIcon,image:m.appendAvatar}}},ae.append):Ce&&_t(Th,{key:"append-avatar",density:m.density,icon:m.appendIcon,image:m.appendAvatar},null)])])}),{}}}),OT=of("v-card-text"),KP=Bn({appendAvatar:String,appendIcon:ai,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:ai,ripple:{type:[Boolean,Object],default:!0},subtitle:String,text:String,title:String,...Ql(),...Fa(),...ls(),...Mu(),...ss(),...h1(),...Ah(),...Pd(),...go(),...B0(),...li(),...Di(),...Lu({variant:"elevated"})},"VCard"),JP=ea()({name:"VCard",directives:{Ripple:Mh},props:KP(),setup(m,$){let{attrs:ae,slots:de}=$;const{themeClasses:be}=Zi(m),{borderClasses:Ce}=Eu(m),{colorClasses:V,colorStyles:B,variantClasses:e}=Cv(m),{densityClasses:p}=$s(m),{dimensionStyles:L}=Cu(m),{elevationClasses:n}=Ds(m),{loaderClasses:C}=hg(m),{locationStyles:y}=Sh(m),{positionClasses:h}=Rd(m),{roundedClasses:g}=Do(m),t=O0(m,ae),r=Tr(()=>m.link!==!1&&t.isLink.value),l=Tr(()=>!m.disabled&&m.link!==!1&&(m.link||t.isClickable.value));return da(()=>{const a=r.value?"a":m.tag,s=!!(de.title||m.title),c=!!(de.subtitle||m.subtitle),u=s||c,b=!!(de.append||m.appendAvatar||m.appendIcon),f=!!(de.prepend||m.prependAvatar||m.prependIcon),w=!!(de.image||m.image),v=u||f||b,o=!!(de.text||m.text);return To(_t(a,{class:["v-card",{"v-card--disabled":m.disabled,"v-card--flat":m.flat,"v-card--hover":m.hover&&!(m.disabled||m.flat),"v-card--link":l.value},be.value,Ce.value,V.value,p.value,n.value,C.value,h.value,g.value,e.value,m.class],style:[B.value,L.value,y.value,m.style],href:t.href.value,onClick:l.value&&t.navigate,tabindex:m.disabled?-1:void 0},{default:()=>{var d;return[w&&_t("div",{key:"image",class:"v-card__image"},[de.image?_t(Qi,{key:"image-defaults",disabled:!m.image,defaults:{VImg:{cover:!0,src:m.image}}},de.image):_t(mv,{key:"image-img",cover:!0,src:m.image},null)]),_t(v1,{name:"v-card",active:!!m.loading,color:typeof m.loading=="boolean"?void 0:m.loading},{default:de.loader}),v&&_t(zT,{key:"item",prependAvatar:m.prependAvatar,prependIcon:m.prependIcon,title:m.title,subtitle:m.subtitle,appendAvatar:m.appendAvatar,appendIcon:m.appendIcon},{default:de.item,prepend:de.prepend,title:de.title,subtitle:de.subtitle,append:de.append}),o&&_t(OT,{key:"text"},{default:()=>{var S;return[((S=de.text)==null?void 0:S.call(de))??m.text]}}),(d=de.default)==null?void 0:d.call(de),de.actions&&_t(kT,null,{default:de.actions}),Mv(l.value,"v-card")]}}),[[Dl("ripple"),l.value&&m.ripple]])}),{}}});const $P=m=>{const{touchstartX:$,touchendX:ae,touchstartY:de,touchendY:be}=m,Ce=.5,V=16;m.offsetX=ae-$,m.offsetY=be-de,Math.abs(m.offsetY)<Ce*Math.abs(m.offsetX)&&(m.left&&ae<$-V&&m.left(m),m.right&&ae>$+V&&m.right(m)),Math.abs(m.offsetX)<Ce*Math.abs(m.offsetY)&&(m.up&&be<de-V&&m.up(m),m.down&&be>de+V&&m.down(m))};function QP(m,$){var de;const ae=m.changedTouches[0];$.touchstartX=ae.clientX,$.touchstartY=ae.clientY,(de=$.start)==null||de.call($,{originalEvent:m,...$})}function qP(m,$){var de;const ae=m.changedTouches[0];$.touchendX=ae.clientX,$.touchendY=ae.clientY,(de=$.end)==null||de.call($,{originalEvent:m,...$}),$P($)}function e9(m,$){var de;const ae=m.changedTouches[0];$.touchmoveX=ae.clientX,$.touchmoveY=ae.clientY,(de=$.move)==null||de.call($,{originalEvent:m,...$})}function t9(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const $={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:m.left,right:m.right,up:m.up,down:m.down,start:m.start,move:m.move,end:m.end};return{touchstart:ae=>QP(ae,$),touchend:ae=>qP(ae,$),touchmove:ae=>e9(ae,$)}}function r9(m,$){var B;const ae=$.value,de=ae!=null&&ae.parent?m.parentElement:m,be=(ae==null?void 0:ae.options)??{passive:!0},Ce=(B=$.instance)==null?void 0:B.$.uid;if(!de||!Ce)return;const V=t9($.value);de._touchHandlers=de._touchHandlers??Object.create(null),de._touchHandlers[Ce]=V,aw(V).forEach(e=>{de.addEventListener(e,V[e],be)})}function n9(m,$){var Ce,V;const ae=(Ce=$.value)!=null&&Ce.parent?m.parentElement:m,de=(V=$.instance)==null?void 0:V.$.uid;if(!(ae!=null&&ae._touchHandlers)||!de)return;const be=ae._touchHandlers[de];aw(be).forEach(B=>{ae.removeEventListener(B,be[B])}),delete ae._touchHandlers[de]}const T1={mounted:r9,unmounted:n9},BT=Symbol.for("vuetify:v-window"),NT=Symbol.for("vuetify:v-window-group"),VT=Bn({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:m=>typeof m=="boolean"||m==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{default:"force"},...Fa(),...li(),...Di()},"VWindow"),om=ea()({name:"VWindow",directives:{Touch:T1},props:VT(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Zi(m),{isRtl:be}=bs(),{t:Ce}=Su(),V=Ev(m,NT),B=Ta(),e=Tr(()=>be.value?!m.reverse:m.reverse),p=Da(!1),L=Tr(()=>{const s=m.direction==="vertical"?"y":"x",u=(e.value?!p.value:p.value)?"-reverse":"";return`v-window-${s}${u}-transition`}),n=Da(0),C=Ta(void 0),y=Tr(()=>V.items.value.findIndex(s=>V.selected.value.includes(s.id)));Oa(y,(s,c)=>{const u=V.items.value.length,b=u-1;u<=2?p.value=s<c:s===b&&c===0?p.value=!0:s===0&&c===b?p.value=!1:p.value=s<c}),Oo(BT,{transition:L,isReversed:p,transitionCount:n,transitionHeight:C,rootRef:B});const h=Tr(()=>m.continuous||y.value!==0),g=Tr(()=>m.continuous||y.value!==V.items.value.length-1);function t(){h.value&&V.prev()}function r(){g.value&&V.next()}const l=Tr(()=>{const s=[],c={icon:be.value?m.nextIcon:m.prevIcon,class:`v-window__${e.value?"right":"left"}`,onClick:V.prev,ariaLabel:Ce("$vuetify.carousel.prev")};s.push(h.value?ae.prev?ae.prev({props:c}):_t(vl,c,null):_t("div",null,null));const u={icon:be.value?m.prevIcon:m.nextIcon,class:`v-window__${e.value?"left":"right"}`,onClick:V.next,ariaLabel:Ce("$vuetify.carousel.next")};return s.push(g.value?ae.next?ae.next({props:u}):_t(vl,u,null):_t("div",null,null)),s}),a=Tr(()=>m.touch===!1?m.touch:{...{left:()=>{e.value?t():r()},right:()=>{e.value?r():t()},start:c=>{let{originalEvent:u}=c;u.stopPropagation()}},...m.touch===!0?{}:m.touch});return da(()=>To(_t(m.tag,{ref:B,class:["v-window",{"v-window--show-arrows-on-hover":m.showArrows==="hover"},de.value,m.class],style:m.style},{default:()=>{var s,c;return[_t("div",{class:"v-window__container",style:{height:C.value}},[(s=ae.default)==null?void 0:s.call(ae,{group:V}),m.showArrows!==!1&&_t("div",{class:"v-window__controls"},[l.value])]),(c=ae.additional)==null?void 0:c.call(ae,{group:V})]}}),[[Dl("touch"),a.value]])),{group:V}}}),a9=Bn({color:String,cycle:Boolean,delimiterIcon:{type:ai,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:m=>Number(m)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...VT({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),i9=ea()({name:"VCarousel",props:a9(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const de=si(m,"modelValue"),{t:be}=Su(),Ce=Ta();let V=-1;Oa(de,e),Oa(()=>m.interval,e),Oa(()=>m.cycle,p=>{p?e():window.clearTimeout(V)}),Ks(B);function B(){!m.cycle||!Ce.value||(V=window.setTimeout(Ce.value.group.next,+m.interval>0?+m.interval:6e3))}function e(){window.clearTimeout(V),window.requestAnimationFrame(B)}return da(()=>{const[p]=om.filterProps(m);return _t(om,Ra({ref:Ce},p,{modelValue:de.value,"onUpdate:modelValue":L=>de.value=L,class:["v-carousel",{"v-carousel--hide-delimiter-background":m.hideDelimiterBackground,"v-carousel--vertical-delimiters":m.verticalDelimiters},m.class],style:[{height:Na(m.height)},m.style]}),{default:ae.default,additional:L=>{let{group:n}=L;return _t(Qa,null,[!m.hideDelimiters&&_t("div",{class:"v-carousel__controls",style:{left:m.verticalDelimiters==="left"&&m.verticalDelimiters?0:"auto",right:m.verticalDelimiters==="right"?0:"auto"}},[n.items.value.length>0&&_t(Qi,{defaults:{VBtn:{color:m.color,icon:m.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[n.items.value.map((C,y)=>{const h={id:`carousel-item-${C.id}`,"aria-label":be("$vuetify.carousel.ariaLabel.delimiter",y+1,n.items.value.length),class:[n.isSelected(C.id)&&"v-btn--active"],onClick:()=>n.select(C.id,!0)};return ae.item?ae.item({props:h,item:C}):_t(vl,Ra(C,h),null)})]})]),m.progress&&_t(c1,{class:"v-carousel__progress",color:typeof m.progress=="string"?m.progress:void 0,modelValue:(n.getItemIndex(de.value)+1)/n.items.value.length*100},null)])},prev:ae.prev,next:ae.next})}),{}}}),UT=Bn({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...Fa(),...Cd(),...yg()},"VWindowItem"),sm=ea()({name:"VWindowItem",directives:{Touch:T1},props:UT(),emits:{"group:selected":m=>!0},setup(m,$){let{slots:ae}=$;const de=Ii(BT),be=Ed(m,NT),{isBooted:Ce}=Sv();if(!de||!be)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const V=Da(!1),B=Tr(()=>Ce.value&&(de.isReversed.value?m.reverseTransition!==!1:m.transition!==!1));function e(){!V.value||!de||(V.value=!1,de.transitionCount.value>0&&(de.transitionCount.value-=1,de.transitionCount.value===0&&(de.transitionHeight.value=void 0)))}function p(){var h;V.value||!de||(V.value=!0,de.transitionCount.value===0&&(de.transitionHeight.value=Na((h=de.rootRef.value)==null?void 0:h.clientHeight)),de.transitionCount.value+=1)}function L(){e()}function n(h){V.value&&io(()=>{!B.value||!V.value||!de||(de.transitionHeight.value=Na(h.clientHeight))})}const C=Tr(()=>{const h=de.isReversed.value?m.reverseTransition:m.transition;return B.value?{name:typeof h!="string"?de.transition.value:h,onBeforeEnter:p,onAfterEnter:e,onEnterCancelled:L,onBeforeLeave:p,onAfterLeave:e,onLeaveCancelled:L,onEnter:n}:!1}),{hasContent:y}=m1(m,be.isSelected);return da(()=>_t(tf,{transition:C.value,disabled:!Ce.value},{default:()=>{var h;return[To(_t("div",{class:["v-window-item",be.selectedClass.value,m.class],style:m.style},[y.value&&((h=ae.default)==null?void 0:h.call(ae))]),[[Vf,be.isSelected.value]])]}})),{}}}),o9=Bn({...zw(),...UT()},"VCarouselItem"),s9=ea()({name:"VCarouselItem",inheritAttrs:!1,props:o9(),setup(m,$){let{slots:ae,attrs:de}=$;da(()=>{const[be]=mv.filterProps(m),[Ce]=sm.filterProps(m);return _t(sm,Ra({class:"v-carousel-item"},Ce),{default:()=>[_t(mv,Ra(de,be),ae)]})})}});const l9=of("v-code");const u9=Bn({color:{type:Object},disabled:Boolean,dotSize:{type:[Number,String],default:10},height:{type:[Number,String],default:150},width:{type:[Number,String],default:300},...Fa()},"VColorPickerCanvas"),f9=Au({name:"VColorPickerCanvas",props:u9(),emits:{"update:color":m=>!0,"update:position":m=>!0},setup(m,$){let{emit:ae}=$;const de=Da(!1),be=Da(!1),Ce=Ta({x:0,y:0}),V=Tr(()=>{const{x:r,y:l}=Ce.value,a=parseInt(m.dotSize,10)/2;return{width:Na(m.dotSize),height:Na(m.dotSize),transform:`translate(${Na(r-a)}, ${Na(l-a)})`}}),B=Ta(),e=Da(parseFloat(m.width)),p=Da(parseFloat(m.height)),{resizeRef:L}=Bf(r=>{var s;if(!((s=L.value)!=null&&s.offsetParent))return;const{width:l,height:a}=r[0].contentRect;e.value=l,p.value=a});function n(r,l,a){const{left:s,top:c,width:u,height:b}=a;Ce.value={x:Xs(r-s,0,u),y:Xs(l-c,0,b)}}function C(r){m.disabled||!B.value||n(r.clientX,r.clientY,B.value.getBoundingClientRect())}function y(r){r.preventDefault(),!m.disabled&&(de.value=!0,window.addEventListener("mousemove",h),window.addEventListener("mouseup",g),window.addEventListener("touchmove",h),window.addEventListener("touchend",g))}function h(r){if(m.disabled||!B.value)return;de.value=!0;const l=aE(r);n(l.clientX,l.clientY,B.value.getBoundingClientRect())}function g(){window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",g),window.removeEventListener("touchmove",h),window.removeEventListener("touchend",g)}Oa(Ce,()=>{var a,s;if(be.value){be.value=!1;return}if(!B.value)return;const{x:r,y:l}=Ce.value;ae("update:color",{h:((a=m.color)==null?void 0:a.h)??0,s:Xs(r,0,e.value)/e.value,v:1-Xs(l,0,p.value)/p.value,a:((s=m.color)==null?void 0:s.a)??1})});function t(){var c;if(!B.value)return;const r=B.value,l=r.getContext("2d");if(!l)return;const a=l.createLinearGradient(0,0,r.width,0);a.addColorStop(0,"hsla(0, 0%, 100%, 1)"),a.addColorStop(1,`hsla(${((c=m.color)==null?void 0:c.h)??0}, 100%, 50%, 1)`),l.fillStyle=a,l.fillRect(0,0,r.width,r.height);const s=l.createLinearGradient(0,0,0,r.height);s.addColorStop(0,"hsla(0, 0%, 100%, 0)"),s.addColorStop(1,"hsla(0, 0%, 0%, 1)"),l.fillStyle=s,l.fillRect(0,0,r.width,r.height)}return Oa(()=>{var r;return(r=m.color)==null?void 0:r.h},t,{immediate:!0}),Oa(()=>[e.value,p.value],(r,l)=>{t(),Ce.value={x:Ce.value.x*r[0]/l[0],y:Ce.value.y*r[1]/l[1]}},{flush:"post"}),Oa(()=>m.color,()=>{if(de.value){de.value=!1;return}be.value=!0,Ce.value=m.color?{x:m.color.s*e.value,y:(1-m.color.v)*p.value}:{x:0,y:0}},{deep:!0,immediate:!0}),Ks(()=>t()),da(()=>_t("div",{ref:L,class:["v-color-picker-canvas",m.class],style:m.style,onClick:C,onMousedown:y,onTouchstart:y},[_t("canvas",{ref:B,width:e.value,height:p.value},null),m.color&&_t("div",{class:["v-color-picker-canvas__dot",{"v-color-picker-canvas__dot--disabled":m.disabled}],style:V.value},null)])),{}}});function c9(m,$){if($){const{a:ae,...de}=m;return de}return m}function h9(m,$){if($==null||typeof $=="string"){const ae=yw(m);return m.a===1?ae.slice(0,7):ae}if(typeof $=="object"){let ae;return hv($,["r","g","b"])?ae=Cc(m):hv($,["h","s","l"])?ae=hw(m):hv($,["h","s","v"])&&(ae=m),c9(ae,!hv($,["a"])&&m.a===1)}return m}const g0={h:0,s:0,v:1,a:1},lm={inputProps:{type:"number",min:0},inputs:[{label:"R",max:255,step:1,getValue:m=>Math.round(m.r),getColor:(m,$)=>({...m,r:Number($)})},{label:"G",max:255,step:1,getValue:m=>Math.round(m.g),getColor:(m,$)=>({...m,g:Number($)})},{label:"B",max:255,step:1,getValue:m=>Math.round(m.b),getColor:(m,$)=>({...m,b:Number($)})},{label:"A",max:1,step:.01,getValue:m=>{let{a:$}=m;return $!=null?Math.round($*100)/100:1},getColor:(m,$)=>({...m,a:Number($)})}],to:Cc,from:sg};var Fb;const v9={...lm,inputs:(Fb=lm.inputs)==null?void 0:Fb.slice(0,3)},um={inputProps:{type:"number",min:0},inputs:[{label:"H",max:360,step:1,getValue:m=>Math.round(m.h),getColor:(m,$)=>({...m,h:Number($)})},{label:"S",max:1,step:.01,getValue:m=>Math.round(m.s*100)/100,getColor:(m,$)=>({...m,s:Number($)})},{label:"L",max:1,step:.01,getValue:m=>Math.round(m.l*100)/100,getColor:(m,$)=>({...m,l:Number($)})},{label:"A",max:1,step:.01,getValue:m=>{let{a:$}=m;return $!=null?Math.round($*100)/100:1},getColor:(m,$)=>({...m,a:Number($)})}],to:hw,from:$m},d9={...um,inputs:um.inputs.slice(0,3)},HT={inputProps:{type:"text"},inputs:[{label:"HEXA",getValue:m=>m,getColor:(m,$)=>$}],to:yw,from:yE},p9={...HT,inputs:[{label:"HEX",getValue:m=>m.slice(0,7),getColor:(m,$)=>$}]},yv={rgb:v9,rgba:lm,hsl:d9,hsla:um,hex:p9,hexa:HT},g9=m=>{let{label:$,...ae}=m;return _t("div",{class:"v-color-picker-edit__input"},[_t("input",ae,null),_t("span",null,[$])])},y9=Bn({color:Object,disabled:Boolean,mode:{type:String,default:"rgba",validator:m=>Object.keys(yv).includes(m)},modes:{type:Array,default:()=>Object.keys(yv),validator:m=>Array.isArray(m)&&m.every($=>Object.keys(yv).includes($))},...Fa()},"VColorPickerEdit"),m9=Au({name:"VColorPickerEdit",props:y9(),emits:{"update:color":m=>!0,"update:mode":m=>!0},setup(m,$){let{emit:ae}=$;const de=Tr(()=>m.modes.map(Ce=>({...yv[Ce],name:Ce}))),be=Tr(()=>{var B;const Ce=de.value.find(e=>e.name===m.mode);if(!Ce)return[];const V=m.color?Ce.to(m.color):null;return(B=Ce.inputs)==null?void 0:B.map(e=>{let{getValue:p,getColor:L,...n}=e;return{...Ce.inputProps,...n,disabled:m.disabled,value:V&&p(V),onChange:C=>{const y=C.target;y&&ae("update:color",Ce.from(L(V??g0,y.value)))}}})});return da(()=>{var Ce;return _t("div",{class:["v-color-picker-edit",m.class],style:m.style},[(Ce=be.value)==null?void 0:Ce.map(V=>_t(g9,V,null)),de.value.length>1&&_t(vl,{icon:"$unfold",size:"x-small",variant:"plain",onClick:()=>{const V=de.value.findIndex(B=>B.name===m.mode);ae("update:mode",de.value[(V+1)%de.value.length].name)}},null)])}),{}}});const A1=Symbol.for("vuetify:v-slider");function fm(m,$,ae){const de=ae==="vertical",be=$.getBoundingClientRect(),Ce="touches"in m?m.touches[0]:m;return de?Ce.clientY-(be.top+be.height/2):Ce.clientX-(be.left+be.width/2)}function x9(m,$){return"touches"in m&&m.touches.length?m.touches[0][$]:"changedTouches"in m&&m.changedTouches.length?m.changedTouches[0][$]:m[$]}const GT=Bn({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:m=>typeof m=="boolean"||m==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:m=>typeof m=="boolean"||m==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:m=>["vertical","horizontal"].includes(m)},reverse:Boolean,...go(),...ss({elevation:2})},"Slider"),WT=m=>{const $=Tr(()=>parseFloat(m.min)),ae=Tr(()=>parseFloat(m.max)),de=Tr(()=>+m.step>0?parseFloat(m.step):0),be=Tr(()=>Math.max(H2(de.value),H2($.value)));function Ce(V){if(de.value<=0)return V;const B=Xs(V,$.value,ae.value),e=$.value%de.value,p=Math.round((B-e)/de.value)*de.value+e;return parseFloat(Math.min(p,ae.value).toFixed(be.value))}return{min:$,max:ae,step:de,decimals:be,roundValue:Ce}},YT=m=>{let{props:$,steps:ae,onSliderStart:de,onSliderMove:be,onSliderEnd:Ce,getActiveThumb:V}=m;const{isRtl:B}=bs(),e=oa($,"reverse"),p=Tr(()=>{let N=B.value?"rtl":"ltr";return $.reverse&&(N=N==="rtl"?"ltr":"rtl"),N}),{min:L,max:n,step:C,decimals:y,roundValue:h}=ae,g=Tr(()=>parseInt($.thumbSize,10)),t=Tr(()=>parseInt($.tickSize,10)),r=Tr(()=>parseInt($.trackSize,10)),l=Tr(()=>(n.value-L.value)/C.value),a=oa($,"disabled"),s=Tr(()=>$.direction==="vertical"),c=Tr(()=>$.error||$.disabled?void 0:$.thumbColor??$.color),u=Tr(()=>$.error||$.disabled?void 0:$.trackColor??$.color),b=Tr(()=>$.error||$.disabled?void 0:$.trackFillColor??$.color),f=Da(!1),w=Da(0),v=Ta(),o=Ta();function d(N){var K;const O=$.direction==="vertical",F=O?"top":"left",U=O?"height":"width",Z=O?"clientY":"clientX",{[F]:q,[U]:J}=(K=v.value)==null?void 0:K.$el.getBoundingClientRect(),te=x9(N,Z);let fe=Math.min(Math.max((te-q-w.value)/J,0),1)||0;return(O||p.value==="rtl")&&(fe=1-fe),h(L.value+fe*(n.value-L.value))}const S=N=>{Ce({value:d(N)}),f.value=!1,w.value=0},M=N=>{o.value=V(N),o.value&&(o.value.focus(),f.value=!0,o.value.contains(N.target)?w.value=fm(N,o.value,$.direction):(w.value=0,be({value:d(N)})),de({value:d(N)}))},P={passive:!0,capture:!0};function x(N){be({value:d(N)})}function E(N){N.stopPropagation(),N.preventDefault(),S(N),window.removeEventListener("mousemove",x,P),window.removeEventListener("mouseup",E)}function T(N){var O;S(N),window.removeEventListener("touchmove",x,P),(O=N.target)==null||O.removeEventListener("touchend",T)}function i(N){var O;M(N),window.addEventListener("touchmove",x,P),(O=N.target)==null||O.addEventListener("touchend",T,{passive:!1})}function R(N){N.preventDefault(),M(N),window.addEventListener("mousemove",x,P),window.addEventListener("mouseup",E,{passive:!1})}const A=N=>{const O=(N-L.value)/(n.value-L.value)*100;return Xs(isNaN(O)?0:O,0,100)},k=oa($,"showTicks"),_=Tr(()=>k.value?$.ticks?Array.isArray($.ticks)?$.ticks.map(N=>({value:N,position:A(N),label:N.toString()})):Object.keys($.ticks).map(N=>({value:parseFloat(N),position:A(parseFloat(N)),label:$.ticks[N]})):l.value!==1/0?wc(l.value+1).map(N=>{const O=L.value+N*C.value;return{value:O,position:A(O)}}):[]:[]),H=Tr(()=>_.value.some(N=>{let{label:O}=N;return!!O})),z={activeThumbRef:o,color:oa($,"color"),decimals:y,disabled:a,direction:oa($,"direction"),elevation:oa($,"elevation"),hasLabels:H,horizontalDirection:p,isReversed:e,min:L,max:n,mousePressed:f,numTicks:l,onSliderMousedown:R,onSliderTouchstart:i,parsedTicks:_,parseMouseMove:d,position:A,readonly:oa($,"readonly"),rounded:oa($,"rounded"),roundValue:h,showTicks:k,startOffset:w,step:C,thumbSize:g,thumbColor:c,thumbLabel:oa($,"thumbLabel"),ticks:oa($,"ticks"),tickSize:t,trackColor:u,trackContainerRef:v,trackFillColor:b,trackSize:r,vertical:s};return Oo(A1,z),z},b9=Bn({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},...Fa()},"VSliderThumb"),cm=ea()({name:"VSliderThumb",directives:{Ripple:Mh},props:b9(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae,emit:de}=$;const be=Ii(A1),{rtlClasses:Ce}=bs();if(!be)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:V,step:B,vertical:e,disabled:p,thumbSize:L,thumbLabel:n,direction:C,readonly:y,elevation:h,isReversed:g,horizontalDirection:t,mousePressed:r,decimals:l}=be,{textColorClasses:a,textColorStyles:s}=js(V),{pageup:c,pagedown:u,end:b,home:f,left:w,right:v,down:o,up:d}=Ny,S=[c,u,b,f,w,v,o,d],M=Tr(()=>B.value?[1,2,3]:[1,5,10]);function P(E,T){if(!S.includes(E.key))return;E.preventDefault();const i=B.value||.1,R=(m.max-m.min)/i;if([w,v,o,d].includes(E.key)){const k=(t.value==="rtl"?[w,d]:[v,d]).includes(E.key)?1:-1,_=E.shiftKey?2:E.ctrlKey?1:0;T=T+k*i*M.value[_]}else if(E.key===f)T=m.min;else if(E.key===b)T=m.max;else{const A=E.key===u?1:-1;T=T-A*i*(R>100?R/10:10)}return Math.max(m.min,Math.min(m.max,T))}function x(E){const T=P(E,m.modelValue);T!=null&&de("update:modelValue",T)}return da(()=>{const E=Na(e.value||g.value?100-m.position:m.position,"%"),{elevationClasses:T}=Ds(Tr(()=>p.value?void 0:h.value));return _t("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":m.focused,"v-slider-thumb--pressed":m.focused&&r.value},m.class,Ce.value],style:[{"--v-slider-thumb-position":E,"--v-slider-thumb-size":Na(L.value)},m.style],role:"slider",tabindex:p.value?-1:0,"aria-valuemin":m.min,"aria-valuemax":m.max,"aria-valuenow":m.modelValue,"aria-readonly":!!y.value,"aria-orientation":C.value,onKeydown:y.value?void 0:x},[_t("div",{class:["v-slider-thumb__surface",a.value,T.value],style:{...s.value}},null),To(_t("div",{class:["v-slider-thumb__ripple",a.value],style:s.value},null),[[Dl("ripple"),m.ripple,null,{circle:!0,center:!0}]]),_t(kw,{origin:"bottom center"},{default:()=>{var i;return[To(_t("div",{class:"v-slider-thumb__label-container"},[_t("div",{class:["v-slider-thumb__label"]},[_t("div",null,[((i=ae["thumb-label"])==null?void 0:i.call(ae,{modelValue:m.modelValue}))??m.modelValue.toFixed(B.value?l.value:1)])])]),[[Vf,n.value&&m.focused||n.value==="always"]])]}})])}),{}}});const w9=Bn({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Fa()},"VSliderTrack"),ZT=ea()({name:"VSliderTrack",props:w9(),emits:{},setup(m,$){let{slots:ae}=$;const de=Ii(A1);if(!de)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:be,horizontalDirection:Ce,parsedTicks:V,rounded:B,showTicks:e,tickSize:p,trackColor:L,trackFillColor:n,trackSize:C,vertical:y,min:h,max:g}=de,{roundedClasses:t}=Do(B),{backgroundColorClasses:r,backgroundColorStyles:l}=Xo(n),{backgroundColorClasses:a,backgroundColorStyles:s}=Xo(L),c=Tr(()=>`inset-${y.value?"block-end":"inline-start"}`),u=Tr(()=>y.value?"height":"width"),b=Tr(()=>({[c.value]:"0%",[u.value]:"100%"})),f=Tr(()=>m.stop-m.start),w=Tr(()=>({[c.value]:Na(m.start,"%"),[u.value]:Na(f.value,"%")})),v=Tr(()=>e.value?(y.value?V.value.slice().reverse():V.value).map((d,S)=>{var x;const M=y.value?"bottom":"margin-inline-start",P=d.value!==h.value&&d.value!==g.value?Na(d.position,"%"):void 0;return _t("div",{key:d.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":d.position>=m.start&&d.position<=m.stop,"v-slider-track__tick--first":d.value===h.value,"v-slider-track__tick--last":d.value===g.value}],style:{[M]:P}},[(d.label||ae["tick-label"])&&_t("div",{class:"v-slider-track__tick-label"},[((x=ae["tick-label"])==null?void 0:x.call(ae,{tick:d,index:S}))??d.label])])}):[]);return da(()=>_t("div",{class:["v-slider-track",t.value,m.class],style:[{"--v-slider-track-size":Na(C.value),"--v-slider-tick-size":Na(p.value),direction:y.value?void 0:Ce.value},m.style]},[_t("div",{class:["v-slider-track__background",a.value,{"v-slider-track__background--opacity":!!be.value||!n.value}],style:{...b.value,...s.value}},null),_t("div",{class:["v-slider-track__fill",r.value],style:{...w.value,...l.value}},null),e.value&&_t("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":e.value==="always"}]},[v.value])])),{}}}),T9=Bn({...dg(),...GT(),..._c(),modelValue:{type:[Number,String],default:0}},"VSlider"),hm=ea()({name:"VSlider",props:T9(),emits:{"update:focused":m=>!0,"update:modelValue":m=>!0,start:m=>!0,end:m=>!0},setup(m,$){let{slots:ae,emit:de}=$;const be=Ta(),{rtlClasses:Ce}=bs(),V=WT(m),B=si(m,"modelValue",void 0,u=>{const b=typeof u=="string"?parseFloat(u):u??V.min.value;return V.roundValue(b)}),{min:e,max:p,mousePressed:L,roundValue:n,onSliderMousedown:C,onSliderTouchstart:y,trackContainerRef:h,position:g,hasLabels:t,readonly:r}=YT({props:m,steps:V,onSliderStart:()=>{de("start",B.value)},onSliderEnd:u=>{let{value:b}=u;const f=n(b);B.value=f,de("end",f)},onSliderMove:u=>{let{value:b}=u;return B.value=n(b)},getActiveThumb:()=>{var u;return(u=be.value)==null?void 0:u.$el}}),{isFocused:l,focus:a,blur:s}=Ch(m),c=Tr(()=>g(B.value));return da(()=>{const[u,b]=Is.filterProps(m),f=!!(m.label||ae.label||ae.prepend);return _t(Is,Ra({class:["v-slider",{"v-slider--has-labels":!!ae["tick-label"]||t.value,"v-slider--focused":l.value,"v-slider--pressed":L.value,"v-slider--disabled":m.disabled},Ce.value,m.class],style:m.style},u,{focused:l.value}),{...ae,prepend:f?w=>{var v,o;return _t(Qa,null,[((v=ae.label)==null?void 0:v.call(ae,w))??m.label?_t(Id,{id:w.id.value,class:"v-slider__label",text:m.label},null):void 0,(o=ae.prepend)==null?void 0:o.call(ae,w)])}:void 0,default:w=>{let{id:v,messagesId:o}=w;return _t("div",{class:"v-slider__container",onMousedown:r.value?void 0:C,onTouchstartPassive:r.value?void 0:y},[_t("input",{id:v.value,name:m.name||v.value,disabled:!!m.disabled,readonly:!!m.readonly,tabindex:"-1",value:B.value},null),_t(ZT,{ref:h,start:0,stop:c.value},{"tick-label":ae["tick-label"]}),_t(cm,{ref:be,"aria-describedby":o.value,focused:l.value,min:e.value,max:p.value,modelValue:B.value,"onUpdate:modelValue":d=>B.value=d,position:c.value,elevation:m.elevation,onFocus:a,onBlur:s},{"thumb-label":ae["thumb-label"]})])}})}),{}}}),A9=Bn({color:{type:Object},disabled:Boolean,hideAlpha:Boolean,...Fa()},"VColorPickerPreview"),S9=Au({name:"VColorPickerPreview",props:A9(),emits:{"update:color":m=>!0},setup(m,$){let{emit:ae}=$;return da(()=>{var de,be;return _t("div",{class:["v-color-picker-preview",{"v-color-picker-preview--hide-alpha":m.hideAlpha},m.class],style:m.style},[_t("div",{class:"v-color-picker-preview__dot"},[_t("div",{style:{background:dw(m.color??g0)}},null)]),_t("div",{class:"v-color-picker-preview__sliders"},[_t(hm,{class:"v-color-picker-preview__track v-color-picker-preview__hue",modelValue:(de=m.color)==null?void 0:de.h,"onUpdate:modelValue":Ce=>ae("update:color",{...m.color??g0,h:Ce}),step:0,min:0,max:360,disabled:m.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null),!m.hideAlpha&&_t(hm,{class:"v-color-picker-preview__track v-color-picker-preview__alpha",modelValue:((be=m.color)==null?void 0:be.a)??1,"onUpdate:modelValue":Ce=>ae("update:color",{...m.color??g0,a:Ce}),step:1/256,min:0,max:1,disabled:m.disabled,thumbSize:14,trackSize:8,trackFillColor:"white",hideDetails:!0},null)])])}),{}}});const M9=Object.freeze({base:"#f44336",lighten5:"#ffebee",lighten4:"#ffcdd2",lighten3:"#ef9a9a",lighten2:"#e57373",lighten1:"#ef5350",darken1:"#e53935",darken2:"#d32f2f",darken3:"#c62828",darken4:"#b71c1c",accent1:"#ff8a80",accent2:"#ff5252",accent3:"#ff1744",accent4:"#d50000"}),C9=Object.freeze({base:"#e91e63",lighten5:"#fce4ec",lighten4:"#f8bbd0",lighten3:"#f48fb1",lighten2:"#f06292",lighten1:"#ec407a",darken1:"#d81b60",darken2:"#c2185b",darken3:"#ad1457",darken4:"#880e4f",accent1:"#ff80ab",accent2:"#ff4081",accent3:"#f50057",accent4:"#c51162"}),E9=Object.freeze({base:"#9c27b0",lighten5:"#f3e5f5",lighten4:"#e1bee7",lighten3:"#ce93d8",lighten2:"#ba68c8",lighten1:"#ab47bc",darken1:"#8e24aa",darken2:"#7b1fa2",darken3:"#6a1b9a",darken4:"#4a148c",accent1:"#ea80fc",accent2:"#e040fb",accent3:"#d500f9",accent4:"#aa00ff"}),L9=Object.freeze({base:"#673ab7",lighten5:"#ede7f6",lighten4:"#d1c4e9",lighten3:"#b39ddb",lighten2:"#9575cd",lighten1:"#7e57c2",darken1:"#5e35b1",darken2:"#512da8",darken3:"#4527a0",darken4:"#311b92",accent1:"#b388ff",accent2:"#7c4dff",accent3:"#651fff",accent4:"#6200ea"}),P9=Object.freeze({base:"#3f51b5",lighten5:"#e8eaf6",lighten4:"#c5cae9",lighten3:"#9fa8da",lighten2:"#7986cb",lighten1:"#5c6bc0",darken1:"#3949ab",darken2:"#303f9f",darken3:"#283593",darken4:"#1a237e",accent1:"#8c9eff",accent2:"#536dfe",accent3:"#3d5afe",accent4:"#304ffe"}),R9=Object.freeze({base:"#2196f3",lighten5:"#e3f2fd",lighten4:"#bbdefb",lighten3:"#90caf9",lighten2:"#64b5f6",lighten1:"#42a5f5",darken1:"#1e88e5",darken2:"#1976d2",darken3:"#1565c0",darken4:"#0d47a1",accent1:"#82b1ff",accent2:"#448aff",accent3:"#2979ff",accent4:"#2962ff"}),I9=Object.freeze({base:"#03a9f4",lighten5:"#e1f5fe",lighten4:"#b3e5fc",lighten3:"#81d4fa",lighten2:"#4fc3f7",lighten1:"#29b6f6",darken1:"#039be5",darken2:"#0288d1",darken3:"#0277bd",darken4:"#01579b",accent1:"#80d8ff",accent2:"#40c4ff",accent3:"#00b0ff",accent4:"#0091ea"}),D9=Object.freeze({base:"#00bcd4",lighten5:"#e0f7fa",lighten4:"#b2ebf2",lighten3:"#80deea",lighten2:"#4dd0e1",lighten1:"#26c6da",darken1:"#00acc1",darken2:"#0097a7",darken3:"#00838f",darken4:"#006064",accent1:"#84ffff",accent2:"#18ffff",accent3:"#00e5ff",accent4:"#00b8d4"}),k9=Object.freeze({base:"#009688",lighten5:"#e0f2f1",lighten4:"#b2dfdb",lighten3:"#80cbc4",lighten2:"#4db6ac",lighten1:"#26a69a",darken1:"#00897b",darken2:"#00796b",darken3:"#00695c",darken4:"#004d40",accent1:"#a7ffeb",accent2:"#64ffda",accent3:"#1de9b6",accent4:"#00bfa5"}),_9=Object.freeze({base:"#4caf50",lighten5:"#e8f5e9",lighten4:"#c8e6c9",lighten3:"#a5d6a7",lighten2:"#81c784",lighten1:"#66bb6a",darken1:"#43a047",darken2:"#388e3c",darken3:"#2e7d32",darken4:"#1b5e20",accent1:"#b9f6ca",accent2:"#69f0ae",accent3:"#00e676",accent4:"#00c853"}),F9=Object.freeze({base:"#8bc34a",lighten5:"#f1f8e9",lighten4:"#dcedc8",lighten3:"#c5e1a5",lighten2:"#aed581",lighten1:"#9ccc65",darken1:"#7cb342",darken2:"#689f38",darken3:"#558b2f",darken4:"#33691e",accent1:"#ccff90",accent2:"#b2ff59",accent3:"#76ff03",accent4:"#64dd17"}),z9=Object.freeze({base:"#cddc39",lighten5:"#f9fbe7",lighten4:"#f0f4c3",lighten3:"#e6ee9c",lighten2:"#dce775",lighten1:"#d4e157",darken1:"#c0ca33",darken2:"#afb42b",darken3:"#9e9d24",darken4:"#827717",accent1:"#f4ff81",accent2:"#eeff41",accent3:"#c6ff00",accent4:"#aeea00"}),O9=Object.freeze({base:"#ffeb3b",lighten5:"#fffde7",lighten4:"#fff9c4",lighten3:"#fff59d",lighten2:"#fff176",lighten1:"#ffee58",darken1:"#fdd835",darken2:"#fbc02d",darken3:"#f9a825",darken4:"#f57f17",accent1:"#ffff8d",accent2:"#ffff00",accent3:"#ffea00",accent4:"#ffd600"}),B9=Object.freeze({base:"#ffc107",lighten5:"#fff8e1",lighten4:"#ffecb3",lighten3:"#ffe082",lighten2:"#ffd54f",lighten1:"#ffca28",darken1:"#ffb300",darken2:"#ffa000",darken3:"#ff8f00",darken4:"#ff6f00",accent1:"#ffe57f",accent2:"#ffd740",accent3:"#ffc400",accent4:"#ffab00"}),N9=Object.freeze({base:"#ff9800",lighten5:"#fff3e0",lighten4:"#ffe0b2",lighten3:"#ffcc80",lighten2:"#ffb74d",lighten1:"#ffa726",darken1:"#fb8c00",darken2:"#f57c00",darken3:"#ef6c00",darken4:"#e65100",accent1:"#ffd180",accent2:"#ffab40",accent3:"#ff9100",accent4:"#ff6d00"}),V9=Object.freeze({base:"#ff5722",lighten5:"#fbe9e7",lighten4:"#ffccbc",lighten3:"#ffab91",lighten2:"#ff8a65",lighten1:"#ff7043",darken1:"#f4511e",darken2:"#e64a19",darken3:"#d84315",darken4:"#bf360c",accent1:"#ff9e80",accent2:"#ff6e40",accent3:"#ff3d00",accent4:"#dd2c00"}),U9=Object.freeze({base:"#795548",lighten5:"#efebe9",lighten4:"#d7ccc8",lighten3:"#bcaaa4",lighten2:"#a1887f",lighten1:"#8d6e63",darken1:"#6d4c41",darken2:"#5d4037",darken3:"#4e342e",darken4:"#3e2723"}),H9=Object.freeze({base:"#607d8b",lighten5:"#eceff1",lighten4:"#cfd8dc",lighten3:"#b0bec5",lighten2:"#90a4ae",lighten1:"#78909c",darken1:"#546e7a",darken2:"#455a64",darken3:"#37474f",darken4:"#263238"}),G9=Object.freeze({base:"#9e9e9e",lighten5:"#fafafa",lighten4:"#f5f5f5",lighten3:"#eeeeee",lighten2:"#e0e0e0",lighten1:"#bdbdbd",darken1:"#757575",darken2:"#616161",darken3:"#424242",darken4:"#212121"}),W9=Object.freeze({black:"#000000",white:"#ffffff",transparent:"#ffffff00"}),Y9=Object.freeze({red:M9,pink:C9,purple:E9,deepPurple:L9,indigo:P9,blue:R9,lightBlue:I9,cyan:D9,teal:k9,green:_9,lightGreen:F9,lime:z9,yellow:O9,amber:B9,orange:N9,deepOrange:V9,brown:U9,blueGrey:H9,grey:G9,shades:W9}),Z9=Bn({swatches:{type:Array,default:()=>X9(Y9)},disabled:Boolean,color:Object,maxHeight:[Number,String],...Fa()},"VColorPickerSwatches");function X9(m){return Object.keys(m).map($=>{const ae=m[$];return ae.base?[ae.base,ae.darken4,ae.darken3,ae.darken2,ae.darken1,ae.lighten1,ae.lighten2,ae.lighten3,ae.lighten4,ae.lighten5]:[ae.black,ae.white,ae.transparent]})}const j9=Au({name:"VColorPickerSwatches",props:Z9(),emits:{"update:color":m=>!0},setup(m,$){let{emit:ae}=$;return da(()=>_t("div",{class:["v-color-picker-swatches",m.class],style:[{maxHeight:Na(m.maxHeight)},m.style]},[_t("div",null,[m.swatches.map(de=>_t("div",{class:"v-color-picker-swatches__swatch"},[de.map(be=>{const Ce=Tc(be),V=sg(Ce),B=vw(Ce);return _t("div",{class:"v-color-picker-swatches__color",onClick:()=>V&&ae("update:color",V)},[_t("div",{style:{background:B}},[m.color&&wv(m.color,V)?_t(ao,{size:"x-small",icon:"$success",color:wE(be,"#FFFFFF")>2?"white":"black"},null):void 0])])})]))])])),{}}});const XT=Bn({color:String,...Ql(),...Fa(),...Mu(),...ss(),...Ah(),...Pd(),...go(),...li(),...Di()},"VSheet"),vm=ea()({name:"VSheet",props:XT(),setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Zi(m),{backgroundColorClasses:be,backgroundColorStyles:Ce}=Xo(oa(m,"color")),{borderClasses:V}=Eu(m),{dimensionStyles:B}=Cu(m),{elevationClasses:e}=Ds(m),{locationStyles:p}=Sh(m),{positionClasses:L}=Rd(m),{roundedClasses:n}=Do(m);return da(()=>_t(m.tag,{class:["v-sheet",de.value,be.value,V.value,e.value,L.value,n.value,m.class],style:[Ce.value,B.value,p.value,m.style]},ae)),{}}}),K9=Bn({canvasHeight:{type:[String,Number],default:150},disabled:Boolean,dotSize:{type:[Number,String],default:10},hideCanvas:Boolean,hideSliders:Boolean,hideInputs:Boolean,mode:{type:String,default:"rgba",validator:m=>Object.keys(yv).includes(m)},modes:{type:Array,default:()=>Object.keys(yv),validator:m=>Array.isArray(m)&&m.every($=>Object.keys(yv).includes($))},showSwatches:Boolean,swatches:Array,swatchesMaxHeight:{type:[Number,String],default:150},modelValue:{type:[Object,String]},...Uf(XT({width:300}),["height","location","minHeight","maxHeight","minWidth","maxWidth"])},"VColorPicker"),J9=Au({name:"VColorPicker",props:K9(),emits:{"update:modelValue":m=>!0,"update:mode":m=>!0},setup(m){const $=si(m,"mode"),ae=Ta(null),de=si(m,"modelValue",void 0,V=>{if(V==null||V==="")return null;let B;try{B=sg(Tc(V))}catch{return null}return ae.value&&(B={...B,h:ae.value.h},ae.value=null),B},V=>V?h9(V,m.modelValue):null),{rtlClasses:be}=bs(),Ce=V=>{de.value=V,ae.value=V};return Ks(()=>{m.modes.includes($.value)||($.value=m.modes[0])}),ts({VSlider:{color:void 0,trackColor:void 0,trackFillColor:void 0}}),da(()=>{const[V]=vm.filterProps(m);return _t(vm,Ra({rounded:m.rounded,elevation:m.elevation,theme:m.theme,class:["v-color-picker",be.value,m.class],style:[{"--v-color-picker-color-hsv":dw({...de.value??g0,a:1})},m.style]},V,{maxWidth:m.width}),{default:()=>[!m.hideCanvas&&_t(f9,{key:"canvas",color:de.value,"onUpdate:color":Ce,disabled:m.disabled,dotSize:m.dotSize,width:m.width,height:m.canvasHeight},null),(!m.hideSliders||!m.hideInputs)&&_t("div",{key:"controls",class:"v-color-picker__controls"},[!m.hideSliders&&_t(S9,{key:"preview",color:de.value,"onUpdate:color":Ce,hideAlpha:!$.value.endsWith("a"),disabled:m.disabled},null),!m.hideInputs&&_t(m9,{key:"edit",modes:m.modes,mode:$.value,"onUpdate:mode":B=>$.value=B,color:de.value,"onUpdate:color":Ce,disabled:m.disabled},null)]),m.showSwatches&&_t(j9,{key:"swatches",color:de.value,"onUpdate:color":Ce,maxHeight:m.swatchesMaxHeight,swatches:m.swatches,disabled:m.disabled},null)]})}),{}}});function $9(m,$,ae){if($==null)return m;if(Array.isArray($))throw new Error("Multiple matches is not implemented");return typeof $=="number"&&~$?_t(Qa,null,[_t("span",{class:"v-combobox__unmask"},[m.substr(0,$)]),_t("span",{class:"v-combobox__mask"},[m.substr($,ae)]),_t("span",{class:"v-combobox__unmask"},[m.substr($+ae)])]):m}const Q9=Bn({autoSelectFirst:{type:[Boolean,String]},delimiters:Array,...ET({filterKeys:["title"]}),...w1({hideNoData:!0,returnObject:!0}),...Uf(wg({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...Dc({transition:!1})},"VCombobox"),q9=ea()({name:"VCombobox",props:Q9(),emits:{"update:focused":m=>!0,"update:modelValue":m=>!0,"update:search":m=>!0,"update:menu":m=>!0},setup(m,$){var F;let{emit:ae,slots:de}=$;const{t:be}=Su(),Ce=Ta(),V=Da(!1),B=Da(!0),e=Ta(!1),p=Ta(),L=si(m,"menu"),n=Tr({get:()=>L.value,set:U=>{var Z;L.value&&!U&&((Z=p.value)!=null&&Z.openChildren)||(L.value=U)}}),C=Da(-1);let y=!1;const h=Tr(()=>{var U;return(U=Ce.value)==null?void 0:U.color}),{items:g,transformIn:t,transformOut:r}=y1(m),{textColorClasses:l,textColorStyles:a}=js(h),s=si(m,"modelValue",[],U=>t(wu(U)),U=>{const Z=r(U);return m.multiple?Z:Z[0]??null}),c=pg(),u=Da(m.multiple?"":((F=s.value[0])==null?void 0:F.title)??""),b=Tr({get:()=>u.value,set:U=>{var Z;if(u.value=U,m.multiple||(s.value=[sd(m,U)]),U&&m.multiple&&((Z=m.delimiters)!=null&&Z.length)){const q=U.split(new RegExp(`(?:${m.delimiters.join("|")})+`));q.length>1&&(q.forEach(J=>{J=J.trim(),J&&H(sd(m,J))}),u.value="")}U||(C.value=-1),B.value=!U}});Oa(u,U=>{y?io(()=>y=!1):V.value&&!n.value&&(n.value=!0),ae("update:search",U)}),Oa(s,U=>{var Z;m.multiple||(u.value=((Z=U[0])==null?void 0:Z.title)??"")});const{filteredItems:f,getMatches:w}=LT(m,g,()=>B.value?"":b.value),v=Tr(()=>s.value.map(U=>g.value.find(Z=>m.valueComparator(Z.value,U.value))||U)),o=Tr(()=>m.hideSelected?f.value.filter(U=>!v.value.some(Z=>Z.value===U.value)):f.value),d=Tr(()=>v.value.map(U=>U.props.value)),S=Tr(()=>v.value[C.value]),M=Tr(()=>{var Z;return(m.autoSelectFirst===!0||m.autoSelectFirst==="exact"&&b.value===((Z=o.value[0])==null?void 0:Z.title))&&o.value.length>0&&!B.value&&!e.value}),P=Tr(()=>m.hideNoData&&!g.value.length||m.readonly||(c==null?void 0:c.isReadonly.value)),x=Ta(),{onListScroll:E,onListKeydown:T}=b1(x,Ce);function i(U){y=!0,m.openOnClear&&(n.value=!0)}function R(){P.value||(n.value=!0)}function A(U){P.value||(V.value&&(U.preventDefault(),U.stopPropagation()),n.value=!n.value)}function k(U){var J;if(m.readonly||c!=null&&c.isReadonly.value)return;const Z=Ce.value.selectionStart,q=d.value.length;if((C.value>-1||["Enter","ArrowDown","ArrowUp"].includes(U.key))&&U.preventDefault(),["Enter","ArrowDown"].includes(U.key)&&(n.value=!0),["Escape"].includes(U.key)&&(n.value=!1),["Enter","Escape","Tab"].includes(U.key)&&(M.value&&["Enter","Tab"].includes(U.key)&&H(f.value[0]),B.value=!0),U.key==="ArrowDown"&&M.value&&((J=x.value)==null||J.focus("next")),!!m.multiple){if(["Backspace","Delete"].includes(U.key)){if(C.value<0){U.key==="Backspace"&&!b.value&&(C.value=q-1);return}const te=C.value;S.value&&H(S.value),C.value=te>=q-1?q-2:te}if(U.key==="ArrowLeft"){if(C.value<0&&Z>0)return;const te=C.value>-1?C.value-1:q-1;v.value[te]?C.value=te:(C.value=-1,Ce.value.setSelectionRange(b.value.length,b.value.length))}if(U.key==="ArrowRight"){if(C.value<0)return;const te=C.value+1;v.value[te]?C.value=te:(C.value=-1,Ce.value.setSelectionRange(0,0))}U.key==="Enter"&&b.value&&(H(sd(m,b.value)),b.value="")}}function _(){var U;V.value&&(B.value=!0,(U=Ce.value)==null||U.focus())}function H(U){if(m.multiple){const Z=d.value.findIndex(q=>m.valueComparator(q,U.value));if(Z===-1)s.value=[...s.value,U];else{const q=[...s.value];q.splice(Z,1),s.value=q}b.value=""}else s.value=[U],u.value=U.title,io(()=>{n.value=!1,B.value=!0})}function z(U){V.value=!0,setTimeout(()=>{e.value=!0})}function N(U){e.value=!1}function O(U){(U==null||U===""&&!m.multiple)&&(s.value=[])}return Oa(f,U=>{!U.length&&m.hideNoData&&(n.value=!1)}),Oa(V,(U,Z)=>{U||U===Z||(C.value=-1,n.value=!1,M.value&&!e.value&&!v.value.some(q=>{let{value:J}=q;return J===o.value[0].value})?H(o.value[0]):m.multiple&&b.value&&(s.value=[...s.value,sd(m,b.value)],b.value=""))}),da(()=>{const U=!!(m.chips||de.chip),Z=!!(!m.hideNoData||o.value.length||de["prepend-item"]||de["append-item"]||de["no-data"]),q=s.value.length>0,[J]=xv.filterProps(m);return _t(xv,Ra({ref:Ce},J,{modelValue:b.value,"onUpdate:modelValue":[te=>b.value=te,O],focused:V.value,"onUpdate:focused":te=>V.value=te,validationValue:s.externalValue,dirty:q,class:["v-combobox",{"v-combobox--active-menu":n.value,"v-combobox--chips":!!m.chips,"v-combobox--selection-slot":!!de.selection,"v-combobox--selecting-index":C.value>-1,[`v-combobox--${m.multiple?"multiple":"single"}`]:!0},m.class],style:m.style,readonly:m.readonly,placeholder:q?void 0:m.placeholder,"onClick:clear":i,"onMousedown:control":R,onKeydown:k}),{...de,default:()=>_t(Qa,null,[_t(mg,Ra({ref:p,modelValue:n.value,"onUpdate:modelValue":te=>n.value=te,activator:"parent",contentClass:"v-combobox__content",disabled:P.value,eager:m.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:m.transition,onAfterLeave:_},m.menuProps),{default:()=>[Z&&_t(gg,{ref:x,selected:d.value,selectStrategy:m.multiple?"independent":"single-independent",onMousedown:te=>te.preventDefault(),onKeydown:T,onFocusin:z,onFocusout:N,onScrollPassive:E,tabindex:"-1"},{default:()=>{var te,fe,K;return[(te=de["prepend-item"])==null?void 0:te.call(de),!o.value.length&&!m.hideNoData&&(((fe=de["no-data"])==null?void 0:fe.call(de))??_t(Ec,{title:be(m.noDataText)},null)),_t(Tg,{renderless:!0,items:o.value},{default:Y=>{var Q;let{item:W,index:X,itemRef:re}=Y;const se=Ra(W.props,{ref:re,key:X,active:M.value&&X===0?!0:void 0,onClick:()=>H(W)});return((Q=de.item)==null?void 0:Q.call(de,{item:W,index:X,props:se}))??_t(Ec,se,{prepend:ee=>{let{isSelected:le}=ee;return _t(Qa,null,[m.multiple&&!m.hideSelected?_t(xd,{key:W.value,modelValue:le,ripple:!1,tabindex:"-1"},null):void 0,W.props.prependIcon&&_t(ao,{icon:W.props.prependIcon},null)])},title:()=>{var ee,le;return B.value?W.title:$9(W.title,(ee=w(W))==null?void 0:ee.title,((le=b.value)==null?void 0:le.length)??0)}})}}),(K=de["append-item"])==null?void 0:K.call(de)]}})]}),v.value.map((te,fe)=>{var W;function K(X){X.stopPropagation(),X.preventDefault(),H(te)}const Y={"onClick:close":K,onMousedown(X){X.preventDefault(),X.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return _t("div",{key:te.value,class:["v-combobox__selection",fe===C.value&&["v-combobox__selection--selected",l.value]],style:fe===C.value?a.value:{}},[U?de.chip?_t(Qi,{key:"chip-defaults",defaults:{VChip:{closable:m.closableChips,size:"small",text:te.title}}},{default:()=>{var X;return[(X=de.chip)==null?void 0:X.call(de,{item:te,index:fe,props:Y})]}}):_t(N0,Ra({key:"chip",closable:m.closableChips,size:"small",text:te.title},Y),null):((W=de.selection)==null?void 0:W.call(de,{item:te,index:fe}))??_t("span",{class:"v-combobox__selection-text"},[te.title,m.multiple&&fe<v.value.length-1&&_t("span",{class:"v-combobox__selection-comma"},[nf(",")])])])})]),"append-inner":function(){var Y;for(var te=arguments.length,fe=new Array(te),K=0;K<te;K++)fe[K]=arguments[K];return _t(Qa,null,[(Y=de["append-inner"])==null?void 0:Y.call(de,...fe),(!m.hideNoData||m.items.length)&&m.menuIcon?_t(ao,{class:"v-combobox__menu-icon",icon:m.menuIcon,onMousedown:A,onClick:sw},null):void 0])}})}),sf({isFocused:V,isPristine:B,menu:n,search:b,selectionIndex:C,filteredItems:f,select:H},Ce)}});const eR=Bn({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...V0({origin:"center center",scrollStrategy:"block",transition:{component:fg},zIndex:2400})},"VDialog"),tR=ea()({name:"VDialog",props:eR(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const de=si(m,"modelValue"),{scopeId:be}=Dd(),Ce=Ta();function V(e){var n,C;const p=e.relatedTarget,L=e.target;if(p!==L&&((n=Ce.value)!=null&&n.contentEl)&&((C=Ce.value)!=null&&C.globalTop)&&![document,Ce.value.contentEl].includes(L)&&!Ce.value.contentEl.contains(L)){const y=jm(Ce.value.contentEl);if(!y.length)return;const h=y[0],g=y[y.length-1];p===h?g.focus():h.focus()}}Zo&&Oa(()=>de.value&&m.retainFocus,e=>{e?document.addEventListener("focusin",V):document.removeEventListener("focusin",V)},{immediate:!0}),Oa(de,async e=>{var p,L;await io(),e?(p=Ce.value.contentEl)==null||p.focus({preventScroll:!0}):(L=Ce.value.activatorEl)==null||L.focus({preventScroll:!0})});const B=Tr(()=>Ra({"aria-haspopup":"dialog","aria-expanded":String(de.value)},m.activatorProps));return da(()=>{const[e]=Lc.filterProps(m);return _t(Lc,Ra({ref:Ce,class:["v-dialog",{"v-dialog--fullscreen":m.fullscreen,"v-dialog--scrollable":m.scrollable},m.class],style:m.style},e,{modelValue:de.value,"onUpdate:modelValue":p=>de.value=p,"aria-modal":"true",activatorProps:B.value,role:"dialog"},be),{activator:ae.activator,default:function(){for(var p=arguments.length,L=new Array(p),n=0;n<p;n++)L[n]=arguments[n];return _t(Qi,{root:"VDialog"},{default:()=>{var C;return[(C=ae.default)==null?void 0:C.call(ae,...L)]}})}})}),sf({},Ce)}});const D0=Symbol.for("vuetify:v-expansion-panel"),rR=["default","accordion","inset","popout"],nR=Bn({color:String,variant:{type:String,default:"default",validator:m=>rR.includes(m)},readonly:Boolean,...Fa(),...Md(),...li(),...Di()},"VExpansionPanels"),aR=ea()({name:"VExpansionPanels",props:nR(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;Ev(m,D0);const{themeClasses:de}=Zi(m),be=Tr(()=>m.variant&&`v-expansion-panels--variant-${m.variant}`);return ts({VExpansionPanel:{color:oa(m,"color")},VExpansionPanelTitle:{readonly:oa(m,"readonly")}}),da(()=>_t(m.tag,{class:["v-expansion-panels",de.value,be.value,m.class],style:m.style},ae)),{}}}),iR=Bn({...Fa(),...yg()},"VExpansionPanelText"),jT=ea()({name:"VExpansionPanelText",props:iR(),setup(m,$){let{slots:ae}=$;const de=Ii(D0);if(!de)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:be,onAfterLeave:Ce}=m1(m,de.isSelected);return da(()=>_t(cg,{onAfterLeave:Ce},{default:()=>{var V;return[To(_t("div",{class:["v-expansion-panel-text",m.class],style:m.style},[ae.default&&be.value&&_t("div",{class:"v-expansion-panel-text__wrapper"},[(V=ae.default)==null?void 0:V.call(ae)])]),[[Vf,de.isSelected.value]])]}})),{}}}),KT=Bn({color:String,expandIcon:{type:ai,default:"$expand"},collapseIcon:{type:ai,default:"$collapse"},hideActions:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...Fa()},"VExpansionPanelTitle"),JT=ea()({name:"VExpansionPanelTitle",directives:{Ripple:Mh},props:KT(),setup(m,$){let{slots:ae}=$;const de=Ii(D0);if(!de)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:be,backgroundColorStyles:Ce}=Xo(m,"color"),V=Tr(()=>({collapseIcon:m.collapseIcon,disabled:de.disabled.value,expanded:de.isSelected.value,expandIcon:m.expandIcon,readonly:m.readonly}));return da(()=>{var B;return To(_t("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":de.isSelected.value},be.value,m.class],style:[Ce.value,m.style],type:"button",tabindex:de.disabled.value?-1:void 0,disabled:de.disabled.value,"aria-expanded":de.isSelected.value,onClick:m.readonly?void 0:de.toggle},[_t("span",{class:"v-expansion-panel-title__overlay"},null),(B=ae.default)==null?void 0:B.call(ae,V.value),!m.hideActions&&_t("span",{class:"v-expansion-panel-title__icon"},[ae.actions?ae.actions(V.value):_t(ao,{icon:de.isSelected.value?m.collapseIcon:m.expandIcon},null)])]),[[Dl("ripple"),m.ripple]])}),{}}}),oR=Bn({title:String,text:String,bgColor:String,...Fa(),...ss(),...Cd(),...yg(),...go(),...li(),...KT()},"VExpansionPanel"),sR=ea()({name:"VExpansionPanel",props:oR(),emits:{"group:selected":m=>!0},setup(m,$){let{slots:ae}=$;const de=Ed(m,D0),{backgroundColorClasses:be,backgroundColorStyles:Ce}=Xo(m,"bgColor"),{elevationClasses:V}=Ds(m),{roundedClasses:B}=Do(m),e=Tr(()=>(de==null?void 0:de.disabled.value)||m.disabled),p=Tr(()=>de.group.items.value.reduce((C,y,h)=>(de.group.selected.value.includes(y.id)&&C.push(h),C),[])),L=Tr(()=>{const C=de.group.items.value.findIndex(y=>y.id===de.id);return!de.isSelected.value&&p.value.some(y=>y-C===1)}),n=Tr(()=>{const C=de.group.items.value.findIndex(y=>y.id===de.id);return!de.isSelected.value&&p.value.some(y=>y-C===-1)});return Oo(D0,de),da(()=>{const C=!!(ae.text||m.text),y=!!(ae.title||m.title);return _t(m.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":de.isSelected.value,"v-expansion-panel--before-active":L.value,"v-expansion-panel--after-active":n.value,"v-expansion-panel--disabled":e.value},B.value,be.value,m.class],style:[Ce.value,m.style]},{default:()=>{var h;return[_t("div",{class:["v-expansion-panel__shadow",...V.value]},null),y&&_t(JT,{key:"title",collapseIcon:m.collapseIcon,color:m.color,expandIcon:m.expandIcon,hideActions:m.hideActions,ripple:m.ripple},{default:()=>[ae.title?ae.title():m.title]}),C&&_t(jT,{key:"text",eager:m.eager},{default:()=>[ae.text?ae.text():m.text]}),(h=ae.default)==null?void 0:h.call(ae)]}})}),{}}});const lR=Bn({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,showSize:{type:[Boolean,Number],default:!1,validator:m=>typeof m=="boolean"||[1e3,1024].includes(m)},..._c({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:m=>wu(m).every($=>$!=null&&typeof $=="object")},...bg({clearable:!0})},"VFileInput"),uR=ea()({name:"VFileInput",inheritAttrs:!1,props:lR(),emits:{"click:control":m=>!0,"mousedown:control":m=>!0,"update:focused":m=>!0,"update:modelValue":m=>!0},setup(m,$){let{attrs:ae,emit:de,slots:be}=$;const{t:Ce}=Su(),V=si(m,"modelValue"),{isFocused:B,focus:e,blur:p}=Ch(m),L=Tr(()=>typeof m.showSize!="boolean"?m.showSize:void 0),n=Tr(()=>(V.value??[]).reduce((w,v)=>{let{size:o=0}=v;return w+o},0)),C=Tr(()=>W2(n.value,L.value)),y=Tr(()=>(V.value??[]).map(w=>{const{name:v="",size:o=0}=w;return m.showSize?`${v} (${W2(o,L.value)})`:v})),h=Tr(()=>{var v;const w=((v=V.value)==null?void 0:v.length)??0;return m.showSize?Ce(m.counterSizeString,w,C.value):Ce(m.counterString,w)}),g=Ta(),t=Ta(),r=Ta(),l=Tr(()=>B.value||m.active),a=Tr(()=>["plain","underlined"].includes(m.variant));function s(){var w;r.value!==document.activeElement&&((w=r.value)==null||w.focus()),B.value||e()}function c(w){b(w)}function u(w){de("mousedown:control",w)}function b(w){var v;(v=r.value)==null||v.click(),de("click:control",w)}function f(w){w.stopPropagation(),s(),io(()=>{V.value=[],Xm(m["onClick:clear"],w)})}return Oa(V,w=>{(!Array.isArray(w)||!w.length)&&r.value&&(r.value.value="")}),da(()=>{const w=!!(be.counter||m.counter),v=!!(w||be.details),[o,d]=Tv(ae),[{modelValue:S,...M}]=Is.filterProps(m),[P]=x1(m);return _t(Is,Ra({ref:g,modelValue:V.value,"onUpdate:modelValue":x=>V.value=x,class:["v-file-input",{"v-text-field--plain-underlined":a.value},m.class],style:m.style,"onClick:prepend":c},o,M,{centerAffix:!a.value,focused:B.value}),{...be,default:x=>{let{id:E,isDisabled:T,isDirty:i,isReadonly:R,isValid:A}=x;return _t(U0,Ra({ref:t,"prepend-icon":m.prependIcon,onMousedown:u,onClick:b,"onClick:clear":f,"onClick:prependInner":m["onClick:prependInner"],"onClick:appendInner":m["onClick:appendInner"]},P,{id:E.value,active:l.value||i.value,dirty:i.value,disabled:T.value,focused:B.value,error:A.value===!1}),{...be,default:k=>{var z;let{props:{class:_,...H}}=k;return _t(Qa,null,[_t("input",Ra({ref:r,type:"file",readonly:R.value,disabled:T.value,multiple:m.multiple,name:m.name,onClick:N=>{N.stopPropagation(),s()},onChange:N=>{if(!N.target)return;const O=N.target;V.value=[...O.files??[]]},onFocus:s,onBlur:p},H,d),null),_t("div",{class:_},[!!((z=V.value)!=null&&z.length)&&(be.selection?be.selection({fileNames:y.value,totalBytes:n.value,totalBytesReadable:C.value}):m.chips?y.value.map(N=>_t(N0,{key:N,size:"small",color:m.color},{default:()=>[N]})):y.value.join(", "))])])}})},details:v?x=>{var E,T;return _t(Qa,null,[(E=be.details)==null?void 0:E.call(be,x),w&&_t(Qa,null,[_t("span",null,null),_t(xg,{active:!!((T=V.value)!=null&&T.length),value:h.value},be.counter)])])}:void 0})}),sf({},g,t,r)}});const fR=Bn({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Ql(),...Fa(),...ss(),...Ad(),...go(),...li({tag:"footer"}),...Di()},"VFooter"),cR=ea()({name:"VFooter",props:fR(),setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Zi(m),{backgroundColorClasses:be,backgroundColorStyles:Ce}=Xo(oa(m,"color")),{borderClasses:V}=Eu(m),{elevationClasses:B}=Ds(m),{roundedClasses:e}=Do(m),p=Da(32),{resizeRef:L}=Bf(y=>{y.length&&(p.value=y[0].target.clientHeight)}),n=Tr(()=>m.height==="auto"?p.value:parseInt(m.height,10)),{layoutItemStyles:C}=Sd({id:m.name,order:Tr(()=>parseInt(m.order,10)),position:Tr(()=>"bottom"),layoutSize:n,elementSize:Tr(()=>m.height==="auto"?void 0:n.value),active:Tr(()=>m.app),absolute:oa(m,"absolute")});return da(()=>_t(m.tag,{ref:L,class:["v-footer",de.value,be.value,V.value,B.value,e.value,m.class],style:[Ce.value,m.app?C.value:{height:Na(m.height)},m.style]},ae)),{}}}),hR=Bn({...Fa(),...T7()},"VForm"),vR=ea()({name:"VForm",props:hR(),emits:{"update:modelValue":m=>!0,submit:m=>!0},setup(m,$){let{slots:ae,emit:de}=$;const be=A7(m),Ce=Ta();function V(e){e.preventDefault(),be.reset()}function B(e){const p=e,L=be.validate();p.then=L.then.bind(L),p.catch=L.catch.bind(L),p.finally=L.finally.bind(L),de("submit",p),p.defaultPrevented||L.then(n=>{var y;let{valid:C}=n;C&&((y=Ce.value)==null||y.submit())}),p.preventDefault()}return da(()=>{var e;return _t("form",{ref:Ce,class:["v-form",m.class],style:m.style,novalidate:!0,onReset:V,onSubmit:B},[(e=ae.default)==null?void 0:e.call(ae,be)])}),sf(be,Ce)}});const dR=Bn({fluid:{type:Boolean,default:!1},...Fa(),...li()},"VContainer"),pR=ea()({name:"VContainer",props:dR(),setup(m,$){let{slots:ae}=$;const{rtlClasses:de}=bs();return da(()=>_t(m.tag,{class:["v-container",{"v-container--fluid":m.fluid},de.value,m.class],style:m.style},ae)),{}}}),$T=(()=>lg.reduce((m,$)=>(m[$]={type:[Boolean,String,Number],default:!1},m),{}))(),QT=(()=>lg.reduce((m,$)=>{const ae="offset"+Pc($);return m[ae]={type:[String,Number],default:null},m},{}))(),qT=(()=>lg.reduce((m,$)=>{const ae="order"+Pc($);return m[ae]={type:[String,Number],default:null},m},{}))(),Pb={col:Object.keys($T),offset:Object.keys(QT),order:Object.keys(qT)};function gR(m,$,ae){let de=m;if(!(ae==null||ae===!1)){if($){const be=$.replace(m,"");de+=`-${be}`}return m==="col"&&(de="v-"+de),m==="col"&&(ae===""||ae===!0)||(de+=`-${ae}`),de.toLowerCase()}}const yR=["auto","start","end","center","baseline","stretch"],mR=Bn({cols:{type:[Boolean,String,Number],default:!1},...$T,offset:{type:[String,Number],default:null},...QT,order:{type:[String,Number],default:null},...qT,alignSelf:{type:String,default:null,validator:m=>yR.includes(m)},...Fa(),...li()},"VCol"),xR=ea()({name:"VCol",props:mR(),setup(m,$){let{slots:ae}=$;const de=Tr(()=>{const be=[];let Ce;for(Ce in Pb)Pb[Ce].forEach(B=>{const e=m[B],p=gR(Ce,B,e);p&&be.push(p)});const V=be.some(B=>B.startsWith("v-col-"));return be.push({"v-col":!V||!m.cols,[`v-col-${m.cols}`]:m.cols,[`offset-${m.offset}`]:m.offset,[`order-${m.order}`]:m.order,[`align-self-${m.alignSelf}`]:m.alignSelf}),be});return()=>{var be;return Nf(m.tag,{class:[de.value,m.class],style:m.style},(be=ae.default)==null?void 0:be.call(ae))}}}),S1=["start","end","center"],eA=["space-between","space-around","space-evenly"];function M1(m,$){return lg.reduce((ae,de)=>{const be=m+Pc(de);return ae[be]=$(),ae},{})}const bR=[...S1,"baseline","stretch"],tA=m=>bR.includes(m),rA=M1("align",()=>({type:String,default:null,validator:tA})),wR=[...S1,...eA],nA=m=>wR.includes(m),aA=M1("justify",()=>({type:String,default:null,validator:nA})),TR=[...S1,...eA,"stretch"],iA=m=>TR.includes(m),oA=M1("alignContent",()=>({type:String,default:null,validator:iA})),Rb={align:Object.keys(rA),justify:Object.keys(aA),alignContent:Object.keys(oA)},AR={align:"align",justify:"justify",alignContent:"align-content"};function SR(m,$,ae){let de=AR[m];if(ae!=null){if($){const be=$.replace(m,"");de+=`-${be}`}return de+=`-${ae}`,de.toLowerCase()}}const MR=Bn({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:tA},...rA,justify:{type:String,default:null,validator:nA},...aA,alignContent:{type:String,default:null,validator:iA},...oA,...Fa(),...li()},"VRow"),CR=ea()({name:"VRow",props:MR(),setup(m,$){let{slots:ae}=$;const de=Tr(()=>{const be=[];let Ce;for(Ce in Rb)Rb[Ce].forEach(V=>{const B=m[V],e=SR(Ce,V,B);e&&be.push(e)});return be.push({"v-row--no-gutters":m.noGutters,"v-row--dense":m.dense,[`align-${m.align}`]:m.align,[`justify-${m.justify}`]:m.justify,[`align-content-${m.alignContent}`]:m.alignContent}),be});return()=>{var be;return Nf(m.tag,{class:["v-row",de.value,m.class],style:m.style},(be=ae.default)==null?void 0:be.call(ae))}}}),ER=of("flex-grow-1","div","VSpacer"),LR=Bn({disabled:Boolean,modelValue:{type:Boolean,default:void 0},...wT()},"VHover"),PR=ea()({name:"VHover",props:LR(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const de=si(m,"modelValue"),{runOpenDelay:be,runCloseDelay:Ce}=TT(m,V=>!m.disabled&&(de.value=V));return()=>{var V;return(V=ae.default)==null?void 0:V.call(ae,{isHovering:de.value,props:{onMouseenter:be,onMouseleave:Ce}})}}});const sA=Symbol.for("vuetify:v-item-group"),RR=Bn({...Fa(),...Md({selectedClass:"v-item--selected"}),...li(),...Di()},"VItemGroup"),IR=ea()({name:"VItemGroup",props:RR(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Zi(m),{isSelected:be,select:Ce,next:V,prev:B,selected:e}=Ev(m,sA);return()=>_t(m.tag,{class:["v-item-group",de.value,m.class],style:m.style},{default:()=>{var p;return[(p=ae.default)==null?void 0:p.call(ae,{isSelected:be,select:Ce,next:V,prev:B,selected:e.value})]}})}}),DR=ea()({name:"VItem",props:Cd(),emits:{"group:selected":m=>!0},setup(m,$){let{slots:ae}=$;const{isSelected:de,select:be,toggle:Ce,selectedClass:V,value:B,disabled:e}=Ed(m,sA);return()=>{var p;return(p=ae.default)==null?void 0:p.call(ae,{isSelected:de.value,selectedClass:V.value,select:be,toggle:Ce,value:B.value,disabled:e.value})}}});const kR=of("v-kbd");const _R=Bn({...Fa(),...Ew()},"VLayout"),FR=ea()({name:"VLayout",props:_R(),setup(m,$){let{slots:ae}=$;const{layoutClasses:de,layoutStyles:be,getLayoutItem:Ce,items:V,layoutRef:B}=Lw(m);return da(()=>{var e;return _t("div",{ref:B,class:[de.value,m.class],style:[be.value,m.style]},[(e=ae.default)==null?void 0:e.call(ae)])}),{getLayoutItem:Ce,items:V}}});const zR=Bn({position:{type:String,required:!0},size:{type:[Number,String],default:300},modelValue:Boolean,...Fa(),...Ad()},"VLayoutItem"),OR=ea()({name:"VLayoutItem",props:zR(),setup(m,$){let{slots:ae}=$;const{layoutItemStyles:de}=Sd({id:m.name,order:Tr(()=>parseInt(m.order,10)),position:oa(m,"position"),elementSize:oa(m,"size"),layoutSize:oa(m,"size"),active:oa(m,"modelValue"),absolute:oa(m,"absolute")});return()=>{var be;return _t("div",{class:["v-layout-item",m.class],style:[de.value,m.style]},[(be=ae.default)==null?void 0:be.call(ae)])}}}),BR=Bn({modelValue:Boolean,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},...Fa(),...Mu(),...li(),...Dc({transition:"fade-transition"})},"VLazy"),NR=ea()({name:"VLazy",directives:{intersect:z0},props:BR(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const{dimensionStyles:de}=Cu(m),be=si(m,"modelValue");function Ce(V){be.value||(be.value=V)}return da(()=>To(_t(m.tag,{class:["v-lazy",m.class],style:[de.value,m.style]},{default:()=>[be.value&&_t(tf,{transition:m.transition,appear:!0},{default:()=>{var V;return[(V=ae.default)==null?void 0:V.call(ae)]}})]}),[[Dl("intersect"),{handler:Ce,options:m.options},null]])),{}}});const VR=Bn({locale:String,fallbackLocale:String,messages:Object,rtl:{type:Boolean,default:void 0},...Fa()},"VLocaleProvider"),UR=ea()({name:"VLocaleProvider",props:VR(),setup(m,$){let{slots:ae}=$;const{rtlClasses:de}=WE(m);return da(()=>{var be;return _t("div",{class:["v-locale-provider",de.value,m.class],style:m.style},[(be=ae.default)==null?void 0:be.call(ae)])}),{}}});const HR=Bn({scrollable:Boolean,...Fa(),...li({tag:"main"})},"VMain"),GR=ea()({name:"VMain",props:HR(),setup(m,$){let{slots:ae}=$;const{mainStyles:de}=AL(),{ssrBootStyles:be}=Sv();return da(()=>_t(m.tag,{class:["v-main",{"v-main--scrollable":m.scrollable},m.class],style:[de.value,be.value,m.style]},{default:()=>{var Ce,V;return[m.scrollable?_t("div",{class:"v-main__scroller"},[(Ce=ae.default)==null?void 0:Ce.call(ae)]):(V=ae.default)==null?void 0:V.call(ae)]}})),{}}});function WR(m){let{rootEl:$,isSticky:ae,layoutItemStyles:de}=m;const be=Da(!1),Ce=Da(0),V=Tr(()=>{const p=typeof be.value=="boolean"?"top":be.value;return[ae.value?{top:"auto",bottom:"auto",height:void 0}:void 0,be.value?{[p]:Na(Ce.value)}:{top:de.value.top}]});Ks(()=>{Oa(ae,p=>{p?window.addEventListener("scroll",e,{passive:!0}):window.removeEventListener("scroll",e)},{immediate:!0})}),dl(()=>{document.removeEventListener("scroll",e)});let B=0;function e(){const p=B>window.scrollY?"up":"down",L=$.value.getBoundingClientRect(),n=parseFloat(de.value.top??0),C=window.scrollY-Math.max(0,Ce.value-n),y=L.height+Math.max(Ce.value,n)-window.scrollY-window.innerHeight,h=parseFloat(getComputedStyle($.value).getPropertyValue("--v-body-scroll-y"))||0;L.height<window.innerHeight-n?(be.value="top",Ce.value=n):p==="up"&&be.value==="bottom"||p==="down"&&be.value==="top"?(Ce.value=window.scrollY+L.top-h,be.value=!0):p==="down"&&y<=0?(Ce.value=0,be.value="bottom"):p==="up"&&C<=0&&(h?be.value!=="top"&&(Ce.value=-C+h+n,be.value="top"):(Ce.value=L.top+C,be.value="top")),B=window.scrollY}return{isStuck:be,stickyStyles:V}}const YR=100,ZR=20;function Ib(m){const $=1.41421356237;return(m<0?-1:1)*Math.sqrt(Math.abs(m))*$}function Db(m){if(m.length<2)return 0;if(m.length===2)return m[1].t===m[0].t?0:(m[1].d-m[0].d)/(m[1].t-m[0].t);let $=0;for(let ae=m.length-1;ae>0;ae--){if(m[ae].t===m[ae-1].t)continue;const de=Ib($),be=(m[ae].d-m[ae-1].d)/(m[ae].t-m[ae-1].t);$+=(be-de)*Math.abs(be),ae===m.length-1&&($*=.5)}return Ib($)*1e3}function XR(){const m={};function $(be){Array.from(be.changedTouches).forEach(Ce=>{(m[Ce.identifier]??(m[Ce.identifier]=new nE(ZR))).push([be.timeStamp,Ce])})}function ae(be){Array.from(be.changedTouches).forEach(Ce=>{delete m[Ce.identifier]})}function de(be){var p;const Ce=(p=m[be])==null?void 0:p.values().reverse();if(!Ce)throw new Error(`No samples for touch id ${be}`);const V=Ce[0],B=[],e=[];for(const L of Ce){if(V[0]-L[0]>YR)break;B.push({t:L[0],d:L[1].clientX}),e.push({t:L[0],d:L[1].clientY})}return{x:Db(B),y:Db(e),get direction(){const{x:L,y:n}=this,[C,y]=[Math.abs(L),Math.abs(n)];return C>y&&L>=0?"right":C>y&&L<=0?"left":y>C&&n>=0?"down":y>C&&n<=0?"up":jR()}}}return{addMovement:$,endTouch:ae,getVelocity:de}}function jR(){throw new Error}function KR(m){let{isActive:$,isTemporary:ae,width:de,touchless:be,position:Ce}=m;Ks(()=>{window.addEventListener("touchstart",r,{passive:!0}),window.addEventListener("touchmove",l,{passive:!1}),window.addEventListener("touchend",a,{passive:!0})}),dl(()=>{window.removeEventListener("touchstart",r),window.removeEventListener("touchmove",l),window.removeEventListener("touchend",a)});const V=Tr(()=>["left","right"].includes(Ce.value)),{addMovement:B,endTouch:e,getVelocity:p}=XR();let L=!1;const n=Da(!1),C=Da(0),y=Da(0);let h;function g(c,u){return(Ce.value==="left"?c:Ce.value==="right"?document.documentElement.clientWidth-c:Ce.value==="top"?c:Ce.value==="bottom"?document.documentElement.clientHeight-c:ad())-(u?de.value:0)}function t(c){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const b=Ce.value==="left"?(c-y.value)/de.value:Ce.value==="right"?(document.documentElement.clientWidth-c-y.value)/de.value:Ce.value==="top"?(c-y.value)/de.value:Ce.value==="bottom"?(document.documentElement.clientHeight-c-y.value)/de.value:ad();return u?Math.max(0,Math.min(1,b)):b}function r(c){if(be.value)return;const u=c.changedTouches[0].clientX,b=c.changedTouches[0].clientY,f=25,w=Ce.value==="left"?u<f:Ce.value==="right"?u>document.documentElement.clientWidth-f:Ce.value==="top"?b<f:Ce.value==="bottom"?b>document.documentElement.clientHeight-f:ad(),v=$.value&&(Ce.value==="left"?u<de.value:Ce.value==="right"?u>document.documentElement.clientWidth-de.value:Ce.value==="top"?b<de.value:Ce.value==="bottom"?b>document.documentElement.clientHeight-de.value:ad());(w||v||$.value&&ae.value)&&(L=!0,h=[u,b],y.value=g(V.value?u:b,$.value),C.value=t(V.value?u:b),e(c),B(c))}function l(c){const u=c.changedTouches[0].clientX,b=c.changedTouches[0].clientY;if(L){if(!c.cancelable){L=!1;return}const w=Math.abs(u-h[0]),v=Math.abs(b-h[1]);(V.value?w>v&&w>3:v>w&&v>3)?(n.value=!0,L=!1):(V.value?v:w)>3&&(L=!1)}if(!n.value)return;c.preventDefault(),B(c);const f=t(V.value?u:b,!1);C.value=Math.max(0,Math.min(1,f)),f>1?y.value=g(V.value?u:b,!0):f<0&&(y.value=g(V.value?u:b,!1))}function a(c){if(L=!1,!n.value)return;B(c),n.value=!1;const u=p(c.changedTouches[0].identifier),b=Math.abs(u.x),f=Math.abs(u.y);(V.value?b>f&&b>400:f>b&&f>3)?$.value=u.direction===({left:"right",right:"left",top:"down",bottom:"up"}[Ce.value]||ad()):$.value=C.value>.5}const s=Tr(()=>n.value?{transform:Ce.value==="left"?`translateX(calc(-100% + ${C.value*de.value}px))`:Ce.value==="right"?`translateX(calc(100% - ${C.value*de.value}px))`:Ce.value==="top"?`translateY(calc(-100% + ${C.value*de.value}px))`:Ce.value==="bottom"?`translateY(calc(100% - ${C.value*de.value}px))`:ad(),transition:"none"}:void 0);return{isDragging:n,dragProgress:C,dragStyles:s}}function ad(){throw new Error}const JR=["start","end","left","right","top","bottom"],$R=Bn({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:m=>JR.includes(m)},sticky:Boolean,...Ql(),...Fa(),...ss(),...Ad(),...go(),...li({tag:"nav"}),...Di()},"VNavigationDrawer"),QR=ea()({name:"VNavigationDrawer",props:$R(),emits:{"update:modelValue":m=>!0,"update:rail":m=>!0},setup(m,$){let{attrs:ae,emit:de,slots:be}=$;const{isRtl:Ce}=bs(),{themeClasses:V}=Zi(m),{borderClasses:B}=Eu(m),{backgroundColorClasses:e,backgroundColorStyles:p}=Xo(oa(m,"color")),{elevationClasses:L}=Ds(m),{mobile:n}=Av(),{roundedClasses:C}=Do(m),y=Vw(),h=si(m,"modelValue",null,i=>!!i),{ssrBootStyles:g}=Sv(),{scopeId:t}=Dd(),r=Ta(),l=Da(!1),a=Tr(()=>m.rail&&m.expandOnHover&&l.value?Number(m.width):Number(m.rail?m.railWidth:m.width)),s=Tr(()=>Uy(m.location,Ce.value)),c=Tr(()=>!m.permanent&&(n.value||m.temporary)),u=Tr(()=>m.sticky&&!c.value&&s.value!=="bottom");m.expandOnHover&&m.rail!=null&&Oa(l,i=>de("update:rail",!i)),m.disableResizeWatcher||Oa(c,i=>!m.permanent&&io(()=>h.value=!i)),!m.disableRouteWatcher&&y&&Oa(y.currentRoute,()=>c.value&&(h.value=!1)),Oa(()=>m.permanent,i=>{i&&(h.value=!0)}),ng(()=>{m.modelValue!=null||c.value||(h.value=m.permanent||!n.value)});const{isDragging:b,dragProgress:f,dragStyles:w}=KR({isActive:h,isTemporary:c,width:a,touchless:oa(m,"touchless"),position:s}),v=Tr(()=>{const i=c.value?0:m.rail&&m.expandOnHover?Number(m.railWidth):a.value;return b.value?i*f.value:i}),{layoutItemStyles:o,layoutItemScrimStyles:d}=Sd({id:m.name,order:Tr(()=>parseInt(m.order,10)),position:s,layoutSize:v,elementSize:a,active:Tr(()=>h.value||b.value),disableTransitions:Tr(()=>b.value),absolute:Tr(()=>m.absolute||u.value&&typeof S.value!="string")}),{isStuck:S,stickyStyles:M}=WR({rootEl:r,isSticky:u,layoutItemStyles:o}),P=Xo(Tr(()=>typeof m.scrim=="string"?m.scrim:null)),x=Tr(()=>({...b.value?{opacity:f.value*.2,transition:"none"}:void 0,...d.value}));ts({VList:{bgColor:"transparent"}});function E(){l.value=!0}function T(){l.value=!1}return da(()=>{const i=be.image||m.image;return _t(Qa,null,[_t(m.tag,Ra({ref:r,onMouseenter:E,onMouseleave:T,class:["v-navigation-drawer",`v-navigation-drawer--${s.value}`,{"v-navigation-drawer--expand-on-hover":m.expandOnHover,"v-navigation-drawer--floating":m.floating,"v-navigation-drawer--is-hovering":l.value,"v-navigation-drawer--rail":m.rail,"v-navigation-drawer--temporary":c.value,"v-navigation-drawer--active":h.value,"v-navigation-drawer--sticky":u.value},V.value,e.value,B.value,L.value,C.value,m.class],style:[p.value,o.value,w.value,g.value,M.value,m.style]},t,ae),{default:()=>{var R,A,k,_;return[i&&_t("div",{key:"image",class:"v-navigation-drawer__img"},[be.image?(R=be.image)==null?void 0:R.call(be,{image:m.image}):_t("img",{src:m.image,alt:""},null)]),be.prepend&&_t("div",{class:"v-navigation-drawer__prepend"},[(A=be.prepend)==null?void 0:A.call(be)]),_t("div",{class:"v-navigation-drawer__content"},[(k=be.default)==null?void 0:k.call(be)]),be.append&&_t("div",{class:"v-navigation-drawer__append"},[(_=be.append)==null?void 0:_.call(be)])]}}),_t(Of,{name:"fade-transition"},{default:()=>[c.value&&(b.value||h.value)&&!!m.scrim&&_t("div",Ra({class:["v-navigation-drawer__scrim",P.backgroundColorClasses.value],style:[x.value,P.backgroundColorStyles.value],onClick:()=>h.value=!1},t),null)]})])}),{isStuck:S}}}),qR=Au({name:"VNoSsr",setup(m,$){let{slots:ae}=$;const de=AT();return()=>{var be;return de.value&&((be=ae.default)==null?void 0:be.call(ae))}}});function eI(){const m=Ta([]);b3(()=>m.value=[]);function $(ae,de){m.value[de]=ae}return{refs:m,updateRef:$}}const tI=Bn({activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:m=>m.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:m=>m%1===0},totalVisible:[Number,String],firstIcon:{type:ai,default:"$first"},prevIcon:{type:ai,default:"$prev"},nextIcon:{type:ai,default:"$next"},lastIcon:{type:ai,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...Ql(),...Fa(),...ls(),...ss(),...go(),...kc(),...li({tag:"nav"}),...Di(),...Lu({variant:"text"})},"VPagination"),rI=ea()({name:"VPagination",props:tI(),emits:{"update:modelValue":m=>!0,first:m=>!0,prev:m=>!0,next:m=>!0,last:m=>!0},setup(m,$){let{slots:ae,emit:de}=$;const be=si(m,"modelValue"),{t:Ce,n:V}=Su(),{isRtl:B}=bs(),{themeClasses:e}=Zi(m),{width:p}=Av(),L=Da(-1);ts(void 0,{scoped:!0});const{resizeRef:n}=Bf(f=>{if(!f.length)return;const{target:w,contentRect:v}=f[0],o=w.querySelector(".v-pagination__list > *");if(!o)return;const d=v.width,S=o.offsetWidth+parseFloat(getComputedStyle(o).marginRight)*2;L.value=g(d,S)}),C=Tr(()=>parseInt(m.length,10)),y=Tr(()=>parseInt(m.start,10)),h=Tr(()=>m.totalVisible?parseInt(m.totalVisible,10):L.value>=0?L.value:g(p.value,58));function g(f,w){const v=m.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((f-w*v)/w).toFixed(2)))}const t=Tr(()=>{if(C.value<=0||isNaN(C.value)||C.value>Number.MAX_SAFE_INTEGER)return[];if(h.value<=1)return[be.value];if(C.value<=h.value)return wc(C.value,y.value);const f=h.value%2===0,w=f?h.value/2:Math.floor(h.value/2),v=f?w:w+1,o=C.value-w;if(v-be.value>=0)return[...wc(Math.max(1,h.value-1),y.value),m.ellipsis,C.value];if(be.value-o>=(f?1:0)){const d=h.value-1,S=C.value-d+y.value;return[y.value,m.ellipsis,...wc(d,S)]}else{const d=Math.max(1,h.value-3),S=d===1?be.value:be.value-Math.ceil(d/2)+y.value;return[y.value,m.ellipsis,...wc(d,S),m.ellipsis,C.value]}});function r(f,w,v){f.preventDefault(),be.value=w,v&&de(v,w)}const{refs:l,updateRef:a}=eI();ts({VPaginationBtn:{color:oa(m,"color"),border:oa(m,"border"),density:oa(m,"density"),size:oa(m,"size"),variant:oa(m,"variant"),rounded:oa(m,"rounded"),elevation:oa(m,"elevation")}});const s=Tr(()=>t.value.map((f,w)=>{const v=o=>a(o,w);if(typeof f=="string")return{isActive:!1,key:`ellipsis-${w}`,page:f,props:{ref:v,ellipsis:!0,icon:!0,disabled:!0}};{const o=f===be.value;return{isActive:o,key:f,page:V(f),props:{ref:v,ellipsis:!1,icon:!0,disabled:!!m.disabled||+m.length<2,color:o?m.activeColor:m.color,ariaCurrent:o,ariaLabel:Ce(o?m.currentPageAriaLabel:m.pageAriaLabel,f),onClick:d=>r(d,f)}}}})),c=Tr(()=>{const f=!!m.disabled||be.value<=y.value,w=!!m.disabled||be.value>=y.value+C.value-1;return{first:m.showFirstLastPage?{icon:B.value?m.lastIcon:m.firstIcon,onClick:v=>r(v,y.value,"first"),disabled:f,ariaLabel:Ce(m.firstAriaLabel),ariaDisabled:f}:void 0,prev:{icon:B.value?m.nextIcon:m.prevIcon,onClick:v=>r(v,be.value-1,"prev"),disabled:f,ariaLabel:Ce(m.previousAriaLabel),ariaDisabled:f},next:{icon:B.value?m.prevIcon:m.nextIcon,onClick:v=>r(v,be.value+1,"next"),disabled:w,ariaLabel:Ce(m.nextAriaLabel),ariaDisabled:w},last:m.showFirstLastPage?{icon:B.value?m.firstIcon:m.lastIcon,onClick:v=>r(v,y.value+C.value-1,"last"),disabled:w,ariaLabel:Ce(m.lastAriaLabel),ariaDisabled:w}:void 0}});function u(){var w;const f=be.value-y.value;(w=l.value[f])==null||w.$el.focus()}function b(f){f.key===Ny.left&&!m.disabled&&be.value>+m.start?(be.value=be.value-1,io(u)):f.key===Ny.right&&!m.disabled&&be.value<y.value+C.value-1&&(be.value=be.value+1,io(u))}return da(()=>_t(m.tag,{ref:n,class:["v-pagination",e.value,m.class],style:m.style,role:"navigation","aria-label":Ce(m.ariaLabel),onKeydown:b,"data-test":"v-pagination-root"},{default:()=>[_t("ul",{class:"v-pagination__list"},[m.showFirstLastPage&&_t("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[ae.first?ae.first(c.value.first):_t(vl,Ra({_as:"VPaginationBtn"},c.value.first),null)]),_t("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[ae.prev?ae.prev(c.value.prev):_t(vl,Ra({_as:"VPaginationBtn"},c.value.prev),null)]),s.value.map((f,w)=>_t("li",{key:f.key,class:["v-pagination__item",{"v-pagination__item--is-active":f.isActive}],"data-test":"v-pagination-item"},[ae.item?ae.item(f):_t(vl,Ra({_as:"VPaginationBtn"},f.props),{default:()=>[f.page]})])),_t("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[ae.next?ae.next(c.value.next):_t(vl,Ra({_as:"VPaginationBtn"},c.value.next),null)]),m.showFirstLastPage&&_t("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[ae.last?ae.last(c.value.last):_t(vl,Ra({_as:"VPaginationBtn"},c.value.last),null)])])]})),{}}});function nI(m){return Math.floor(Math.abs(m))*Math.sign(m)}const aI=Bn({scale:{type:[Number,String],default:.5},...Fa()},"VParallax"),iI=ea()({name:"VParallax",props:aI(),setup(m,$){let{slots:ae}=$;const{intersectionRef:de,isIntersecting:be}=u1(),{resizeRef:Ce,contentRect:V}=Bf(),{height:B}=Av(),e=Ta();Jl(()=>{var y;de.value=Ce.value=(y=e.value)==null?void 0:y.$el});let p;Oa(be,y=>{y?(p=Qm(de.value),p=p===document.scrollingElement?document:p,p.addEventListener("scroll",C,{passive:!0}),C()):p.removeEventListener("scroll",C)}),dl(()=>{p==null||p.removeEventListener("scroll",C)}),Oa(B,C),Oa(()=>{var y;return(y=V.value)==null?void 0:y.height},C);const L=Tr(()=>1-Xs(+m.scale));let n=-1;function C(){be.value&&(cancelAnimationFrame(n),n=requestAnimationFrame(()=>{var c;const y=((c=e.value)==null?void 0:c.$el).querySelector(".v-img__img");if(!y)return;const h=p instanceof Document?document.documentElement.clientHeight:p.clientHeight,g=p instanceof Document?window.scrollY:p.scrollTop,t=de.value.getBoundingClientRect().top+g,r=V.value.height,l=t+(r-h)/2,a=nI((g-l)*L.value),s=Math.max(1,(L.value*(h-r)+r)/r);y.style.setProperty("transform",`translateY(${a}px) scale(${s})`)}))}return da(()=>_t(mv,{class:["v-parallax",{"v-parallax--active":be.value},m.class],style:m.style,ref:e,cover:!0,onLoadstart:C,onLoad:C},ae)),{}}}),oI=Bn({...vg({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),sI=ea()({name:"VRadio",props:oI(),setup(m,$){let{slots:ae}=$;return da(()=>_t(md,Ra(m,{class:["v-radio",m.class],style:m.style,type:"radio"}),ae)),{}}});const lI=Bn({height:{type:[Number,String],default:"auto"},..._c(),...Uf(p1(),["multiple"]),trueIcon:{type:ai,default:"$radioOn"},falseIcon:{type:ai,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),uI=ea()({name:"VRadioGroup",inheritAttrs:!1,props:lI(),emits:{"update:modelValue":m=>!0},setup(m,$){let{attrs:ae,slots:de}=$;const be=Js(),Ce=Tr(()=>m.id||`radio-group-${be}`),V=si(m,"modelValue");return da(()=>{const[B,e]=Tv(ae),[p,L]=Is.filterProps(m),[n,C]=md.filterProps(m),y=de.label?de.label({label:m.label,props:{for:Ce.value}}):m.label;return _t(Is,Ra({class:["v-radio-group",m.class],style:m.style},B,p,{modelValue:V.value,"onUpdate:modelValue":h=>V.value=h,id:Ce.value}),{...de,default:h=>{let{id:g,messagesId:t,isDisabled:r,isReadonly:l}=h;return _t(Qa,null,[y&&_t(Id,{id:g.value},{default:()=>[y]}),_t($w,Ra(n,{id:g.value,"aria-describedby":t.value,defaultsTarget:"VRadio",trueIcon:m.trueIcon,falseIcon:m.falseIcon,type:m.type,disabled:r.value,readonly:l.value,"aria-labelledby":y?g.value:void 0,multiple:!1},e,{modelValue:V.value,"onUpdate:modelValue":a=>V.value=a}),de)])}})}),{}}}),fI=Bn({...dg(),..._c(),...GT(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),cI=ea()({name:"VRangeSlider",props:fI(),emits:{"update:focused":m=>!0,"update:modelValue":m=>!0,end:m=>!0,start:m=>!0},setup(m,$){let{slots:ae,emit:de}=$;const be=Ta(),Ce=Ta(),V=Ta(),{rtlClasses:B}=bs();function e(w){if(!be.value||!Ce.value)return;const v=fm(w,be.value.$el,m.direction),o=fm(w,Ce.value.$el,m.direction),d=Math.abs(v),S=Math.abs(o);return d<S||d===S&&v<0?be.value.$el:Ce.value.$el}const p=WT(m),L=si(m,"modelValue",void 0,w=>w!=null&&w.length?w.map(v=>p.roundValue(v)):[0,0]),{activeThumbRef:n,hasLabels:C,max:y,min:h,mousePressed:g,onSliderMousedown:t,onSliderTouchstart:r,position:l,trackContainerRef:a}=YT({props:m,steps:p,onSliderStart:()=>{de("start",L.value)},onSliderEnd:w=>{var d;let{value:v}=w;const o=n.value===((d=be.value)==null?void 0:d.$el)?[v,L.value[1]]:[L.value[0],v];!m.strict&&o[0]<o[1]&&(L.value=o),de("end",L.value)},onSliderMove:w=>{var S,M,P,x;let{value:v}=w;const[o,d]=L.value;!m.strict&&o===d&&o!==h.value&&(n.value=v>o?(S=Ce.value)==null?void 0:S.$el:(M=be.value)==null?void 0:M.$el,(P=n.value)==null||P.focus()),n.value===((x=be.value)==null?void 0:x.$el)?L.value=[Math.min(v,d),d]:L.value=[o,Math.max(o,v)]},getActiveThumb:e}),{isFocused:s,focus:c,blur:u}=Ch(m),b=Tr(()=>l(L.value[0])),f=Tr(()=>l(L.value[1]));return da(()=>{const[w,v]=Is.filterProps(m),o=!!(m.label||ae.label||ae.prepend);return _t(Is,Ra({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!ae["tick-label"]||C.value,"v-slider--focused":s.value,"v-slider--pressed":g.value,"v-slider--disabled":m.disabled},B.value,m.class],style:m.style,ref:V},w,{focused:s.value}),{...ae,prepend:o?d=>{var S,M;return _t(Qa,null,[((S=ae.label)==null?void 0:S.call(ae,d))??m.label?_t(Id,{class:"v-slider__label",text:m.label},null):void 0,(M=ae.prepend)==null?void 0:M.call(ae,d)])}:void 0,default:d=>{var P,x;let{id:S,messagesId:M}=d;return _t("div",{class:"v-slider__container",onMousedown:t,onTouchstartPassive:r},[_t("input",{id:`${S.value}_start`,name:m.name||S.value,disabled:!!m.disabled,readonly:!!m.readonly,tabindex:"-1",value:L.value[0]},null),_t("input",{id:`${S.value}_stop`,name:m.name||S.value,disabled:!!m.disabled,readonly:!!m.readonly,tabindex:"-1",value:L.value[1]},null),_t(ZT,{ref:a,start:b.value,stop:f.value},{"tick-label":ae["tick-label"]}),_t(cm,{ref:be,"aria-describedby":M.value,focused:s&&n.value===((P=be.value)==null?void 0:P.$el),modelValue:L.value[0],"onUpdate:modelValue":E=>L.value=[E,L.value[1]],onFocus:E=>{var T,i,R,A;c(),n.value=(T=be.value)==null?void 0:T.$el,L.value[0]===L.value[1]&&L.value[1]===h.value&&E.relatedTarget!==((i=Ce.value)==null?void 0:i.$el)&&((R=be.value)==null||R.$el.blur(),(A=Ce.value)==null||A.$el.focus())},onBlur:()=>{u(),n.value=void 0},min:h.value,max:L.value[1],position:b.value},{"thumb-label":ae["thumb-label"]}),_t(cm,{ref:Ce,"aria-describedby":M.value,focused:s&&n.value===((x=Ce.value)==null?void 0:x.$el),modelValue:L.value[1],"onUpdate:modelValue":E=>L.value=[L.value[0],E],onFocus:E=>{var T,i,R,A;c(),n.value=(T=Ce.value)==null?void 0:T.$el,L.value[0]===L.value[1]&&L.value[0]===y.value&&E.relatedTarget!==((i=be.value)==null?void 0:i.$el)&&((R=Ce.value)==null||R.$el.blur(),(A=be.value)==null||A.$el.focus())},onBlur:()=>{u(),n.value=void 0},min:L.value[0],max:y.value,position:f.value},{"thumb-label":ae["thumb-label"]})])}})}),{}}});const hI=Bn({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:ai,default:"$ratingEmpty"},fullIcon:{type:ai,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:m=>["top","bottom"].includes(m)},ripple:Boolean,...Fa(),...ls(),...kc(),...li(),...Di()},"VRating"),vI=ea()({name:"VRating",props:hI(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const{t:de}=Su(),{themeClasses:be}=Zi(m),Ce=si(m,"modelValue"),V=Tr(()=>Xs(parseFloat(Ce.value),0,+m.length)),B=Tr(()=>wc(Number(m.length),1)),e=Tr(()=>B.value.flatMap(g=>m.halfIncrements?[g-.5,g]:[g])),p=Da(-1),L=Tr(()=>e.value.map(g=>{const t=m.hover&&p.value>-1,r=V.value>=g,l=p.value>=g,s=(t?l:r)?m.fullIcon:m.emptyIcon,c=m.activeColor??m.color,u=r||l?c:m.color;return{isFilled:r,isHovered:l,icon:s,color:u}})),n=Tr(()=>[0,...e.value].map(g=>{function t(){p.value=g}function r(){p.value=-1}function l(){m.disabled||m.readonly||(Ce.value=V.value===g&&m.clearable?0:g)}return{onMouseenter:m.hover?t:void 0,onMouseleave:m.hover?r:void 0,onClick:l}})),C=Tr(()=>m.name??`v-rating-${Js()}`);function y(g){var f,w;let{value:t,index:r,showStar:l=!0}=g;const{onMouseenter:a,onMouseleave:s,onClick:c}=n.value[r+1],u=`${C.value}-${String(t).replace(".","-")}`,b={color:(f=L.value[r])==null?void 0:f.color,density:m.density,disabled:m.disabled,icon:(w=L.value[r])==null?void 0:w.icon,ripple:m.ripple,size:m.size,variant:"plain"};return _t(Qa,null,[_t("label",{for:u,class:{"v-rating__item--half":m.halfIncrements&&t%1>0,"v-rating__item--full":m.halfIncrements&&t%1===0},onMouseenter:a,onMouseleave:s,onClick:c},[_t("span",{class:"v-rating__hidden"},[de(m.itemAriaLabel,t,m.length)]),l?ae.item?ae.item({...L.value[r],props:b,value:t,index:r,rating:V.value}):_t(vl,b,null):void 0]),_t("input",{class:"v-rating__hidden",name:C.value,id:u,type:"radio",value:t,checked:V.value===t,tabindex:-1,readonly:m.readonly,disabled:m.disabled},null)])}function h(g){return ae["item-label"]?ae["item-label"](g):g.label?_t("span",null,[g.label]):_t("span",null,[nf("")])}return da(()=>{var t;const g=!!((t=m.itemLabels)!=null&&t.length)||ae["item-label"];return _t(m.tag,{class:["v-rating",{"v-rating--hover":m.hover,"v-rating--readonly":m.readonly},be.value,m.class],style:m.style},{default:()=>[_t(y,{value:0,index:-1,showStar:!1},null),B.value.map((r,l)=>{var a,s;return _t("div",{class:"v-rating__wrapper"},[g&&m.itemLabelPosition==="top"?h({value:r,index:l,label:(a=m.itemLabels)==null?void 0:a[l]}):void 0,_t("div",{class:"v-rating__item"},[m.halfIncrements?_t(Qa,null,[_t(y,{value:r-.5,index:l*2},null),_t(y,{value:r,index:l*2+1},null)]):_t(y,{value:r,index:l},null)]),g&&m.itemLabelPosition==="bottom"?h({value:r,index:l,label:(s=m.itemLabels)==null?void 0:s[l]}):void 0])})]})}),{}}});function kb(m){const ae=Math.abs(m);return Math.sign(m)*(ae/((1/.501-2)*(1-ae)+1))}function _b(m){let{selectedElement:$,containerSize:ae,contentSize:de,isRtl:be,currentScrollOffset:Ce,isHorizontal:V}=m;const B=V?$.clientWidth:$.clientHeight,e=V?$.offsetLeft:$.offsetTop,p=be&&V?de-e-B:e,L=ae+Ce,n=B+p,C=B*.4;return p<=Ce?Ce=Math.max(p-C,0):L<=n&&(Ce=Math.min(Ce-(L-n-C),de-ae)),Ce}function dI(m){let{selectedElement:$,containerSize:ae,contentSize:de,isRtl:be,isHorizontal:Ce}=m;const V=Ce?$.clientWidth:$.clientHeight,B=Ce?$.offsetLeft:$.offsetTop,e=be&&Ce?de-B-V/2-ae/2:B+V/2-ae/2;return Math.min(de-ae,Math.max(0,e))}const lA=Symbol.for("vuetify:v-slide-group"),uA=Bn({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:lA},nextIcon:{type:ai,default:"$next"},prevIcon:{type:ai,default:"$prev"},showArrows:{type:[Boolean,String],validator:m=>typeof m=="boolean"||["always","desktop","mobile"].includes(m)},...Fa(),...li(),...Md({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),dm=ea()({name:"VSlideGroup",props:uA(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const{isRtl:de}=bs(),{mobile:be}=Av(),Ce=Ev(m,m.symbol),V=Da(!1),B=Da(0),e=Da(0),p=Da(0),L=Tr(()=>m.direction==="horizontal"),{resizeRef:n,contentRect:C}=Bf(),{resizeRef:y,contentRect:h}=Bf(),g=Tr(()=>Ce.selected.value.length?Ce.items.value.findIndex(R=>R.id===Ce.selected.value[0]):-1),t=Tr(()=>Ce.selected.value.length?Ce.items.value.findIndex(R=>R.id===Ce.selected.value[Ce.selected.value.length-1]):-1);if(Zo){let R=-1;Oa(()=>[Ce.selected.value,C.value,h.value,L.value],()=>{cancelAnimationFrame(R),R=requestAnimationFrame(()=>{if(C.value&&h.value){const A=L.value?"width":"height";e.value=C.value[A],p.value=h.value[A],V.value=e.value+1<p.value}if(g.value>=0&&y.value){const A=y.value.children[t.value];g.value===0||!V.value?B.value=0:m.centerActive?B.value=dI({selectedElement:A,containerSize:e.value,contentSize:p.value,isRtl:de.value,isHorizontal:L.value}):V.value&&(B.value=_b({selectedElement:A,containerSize:e.value,contentSize:p.value,isRtl:de.value,currentScrollOffset:B.value,isHorizontal:L.value}))}})})}const r=Da(!1);let l=0,a=0;function s(R){const A=L.value?"clientX":"clientY";a=(de.value&&L.value?-1:1)*B.value,l=R.touches[0][A],r.value=!0}function c(R){if(!V.value)return;const A=L.value?"clientX":"clientY",k=de.value&&L.value?-1:1;B.value=k*(a+l-R.touches[0][A])}function u(R){const A=p.value-e.value;B.value<0||!V.value?B.value=0:B.value>=A&&(B.value=A),r.value=!1}function b(){n.value&&(n.value[L.value?"scrollLeft":"scrollTop"]=0)}const f=Da(!1);function w(R){if(f.value=!0,!(!V.value||!y.value)){for(const A of R.composedPath())for(const k of y.value.children)if(k===A){B.value=_b({selectedElement:k,containerSize:e.value,contentSize:p.value,isRtl:de.value,currentScrollOffset:B.value,isHorizontal:L.value});return}}}function v(R){f.value=!1}function o(R){var A;!f.value&&!(R.relatedTarget&&((A=y.value)!=null&&A.contains(R.relatedTarget)))&&S()}function d(R){y.value&&(L.value?R.key==="ArrowRight"?S(de.value?"prev":"next"):R.key==="ArrowLeft"&&S(de.value?"next":"prev"):R.key==="ArrowDown"?S("next"):R.key==="ArrowUp"&&S("prev"),R.key==="Home"?S("first"):R.key==="End"&&S("last"))}function S(R){var A,k,_,H,z;if(y.value)if(!R)(A=jm(y.value)[0])==null||A.focus();else if(R==="next"){const N=(k=y.value.querySelector(":focus"))==null?void 0:k.nextElementSibling;N?N.focus():S("first")}else if(R==="prev"){const N=(_=y.value.querySelector(":focus"))==null?void 0:_.previousElementSibling;N?N.focus():S("last")}else R==="first"?(H=y.value.firstElementChild)==null||H.focus():R==="last"&&((z=y.value.lastElementChild)==null||z.focus())}function M(R){const A=B.value+(R==="prev"?-1:1)*e.value;B.value=Xs(A,0,p.value-e.value)}const P=Tr(()=>{let R=B.value>p.value-e.value?-(p.value-e.value)+kb(p.value-e.value-B.value):-B.value;B.value<=0&&(R=kb(-B.value));const A=de.value&&L.value?-1:1;return{transform:`translate${L.value?"X":"Y"}(${A*R}px)`,transition:r.value?"none":"",willChange:r.value?"transform":""}}),x=Tr(()=>({next:Ce.next,prev:Ce.prev,select:Ce.select,isSelected:Ce.isSelected})),E=Tr(()=>{switch(m.showArrows){case"always":return!0;case"desktop":return!be.value;case!0:return V.value||Math.abs(B.value)>0;case"mobile":return be.value||V.value||Math.abs(B.value)>0;default:return!be.value&&(V.value||Math.abs(B.value)>0)}}),T=Tr(()=>Math.abs(B.value)>0),i=Tr(()=>p.value>Math.abs(B.value)+e.value);return da(()=>_t(m.tag,{class:["v-slide-group",{"v-slide-group--vertical":!L.value,"v-slide-group--has-affixes":E.value,"v-slide-group--is-overflowing":V.value},m.class],style:m.style,tabindex:f.value||Ce.selected.value.length?-1:0,onFocus:o},{default:()=>{var R,A,k;return[E.value&&_t("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!T.value}],onClick:()=>M("prev")},[((R=ae.prev)==null?void 0:R.call(ae,x.value))??_t(Ky,null,{default:()=>[_t(ao,{icon:de.value?m.nextIcon:m.prevIcon},null)]})]),_t("div",{key:"container",ref:n,class:"v-slide-group__container",onScroll:b},[_t("div",{ref:y,class:"v-slide-group__content",style:P.value,onTouchstartPassive:s,onTouchmovePassive:c,onTouchendPassive:u,onFocusin:w,onFocusout:v,onKeydown:d},[(A=ae.default)==null?void 0:A.call(ae,x.value)])]),E.value&&_t("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!i.value}],onClick:()=>M("next")},[((k=ae.next)==null?void 0:k.call(ae,x.value))??_t(Ky,null,{default:()=>[_t(ao,{icon:de.value?m.prevIcon:m.nextIcon},null)]})])]}})),{selected:Ce.selected,scrollTo:M,scrollOffset:B,focus:S}}}),pI=ea()({name:"VSlideGroupItem",props:Cd(),emits:{"group:selected":m=>!0},setup(m,$){let{slots:ae}=$;const de=Ed(m,lA);return()=>{var be;return(be=ae.default)==null?void 0:be.call(ae,{isSelected:de.isSelected.value,select:de.select,toggle:de.toggle,selectedClass:de.selectedClass.value})}}});const gI=Bn({multiLine:Boolean,timeout:{type:[Number,String],default:5e3},vertical:Boolean,...Ah({location:"bottom"}),...Pd(),...go(),...Lu(),...Di(),...Uf(V0({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),yI=ea()({name:"VSnackbar",props:gI(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const de=si(m,"modelValue"),{locationStyles:be}=Sh(m),{positionClasses:Ce}=Rd(m),{scopeId:V}=Dd(),{themeClasses:B}=Zi(m),{colorClasses:e,colorStyles:p,variantClasses:L}=Cv(m),{roundedClasses:n}=Do(m),C=Ta();Oa(de,h),Oa(()=>m.timeout,h),Ks(()=>{de.value&&h()});let y=-1;function h(){window.clearTimeout(y);const t=Number(m.timeout);!de.value||t===-1||(y=window.setTimeout(()=>{de.value=!1},t))}function g(){window.clearTimeout(y)}return da(()=>{const[t]=Lc.filterProps(m);return _t(Lc,Ra({ref:C,class:["v-snackbar",{"v-snackbar--active":de.value,"v-snackbar--multi-line":m.multiLine&&!m.vertical,"v-snackbar--vertical":m.vertical},Ce.value,m.class],style:m.style},t,{modelValue:de.value,"onUpdate:modelValue":r=>de.value=r,contentProps:Ra({class:["v-snackbar__wrapper",B.value,e.value,n.value,L.value],style:[be.value,p.value],onPointerenter:g,onPointerleave:h},t.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},V),{default:()=>[Mv(!1,"v-snackbar"),ae.default&&_t("div",{class:"v-snackbar__content",role:"status","aria-live":"polite"},[ae.default()]),ae.actions&&_t(Qi,{defaults:{VBtn:{variant:"text",ripple:!1}}},{default:()=>[_t("div",{class:"v-snackbar__actions"},[ae.actions()])]})],activator:ae.activator})}),sf({},C)}});const mI=Bn({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},..._c(),...vg()},"VSwitch"),xI=ea()({name:"VSwitch",inheritAttrs:!1,props:mI(),emits:{"update:focused":m=>!0,"update:modelValue":()=>!0,"update:indeterminate":m=>!0},setup(m,$){let{attrs:ae,slots:de}=$;const be=si(m,"indeterminate"),Ce=si(m,"modelValue"),{loaderClasses:V}=hg(m),{isFocused:B,focus:e,blur:p}=Ch(m),L=Tr(()=>typeof m.loading=="string"&&m.loading!==""?m.loading:m.color),n=Js(),C=Tr(()=>m.id||`switch-${n}`);function y(){be.value&&(be.value=!1)}return da(()=>{const[h,g]=Tv(ae),[t,r]=Is.filterProps(m),[l,a]=md.filterProps(m),s=Ta();function c(u){var b,f;u.stopPropagation(),u.preventDefault(),(f=(b=s.value)==null?void 0:b.input)==null||f.click()}return _t(Is,Ra({class:["v-switch",{"v-switch--inset":m.inset},{"v-switch--indeterminate":be.value},V.value,m.class],style:m.style},h,t,{id:C.value,focused:B.value}),{...de,default:u=>{let{id:b,messagesId:f,isDisabled:w,isReadonly:v,isValid:o}=u;return _t(md,Ra({ref:s},l,{modelValue:Ce.value,"onUpdate:modelValue":[d=>Ce.value=d,y],id:b.value,"aria-describedby":f.value,type:"checkbox","aria-checked":be.value?"mixed":void 0,disabled:w.value,readonly:v.value,onFocus:e,onBlur:p},g),{...de,default:()=>_t("div",{class:"v-switch__track",onClick:c},null),input:d=>{let{textColorClasses:S,textColorStyles:M}=d;return _t("div",{class:["v-switch__thumb",S.value],style:M.value},[m.loading&&_t(v1,{name:"v-switch",active:!0,color:o.value===!1?void 0:L.value},{default:P=>de.loader?de.loader(P):_t(f1,{active:P.isActive,color:P.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}});const bI=Bn({color:String,height:[Number,String],window:Boolean,...Fa(),...ss(),...Ad(),...go(),...li(),...Di()},"VSystemBar"),wI=ea()({name:"VSystemBar",props:bI(),setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Zi(m),{backgroundColorClasses:be,backgroundColorStyles:Ce}=Xo(oa(m,"color")),{elevationClasses:V}=Ds(m),{roundedClasses:B}=Do(m),{ssrBootStyles:e}=Sv(),p=Tr(()=>m.height??(m.window?32:24)),{layoutItemStyles:L}=Sd({id:m.name,order:Tr(()=>parseInt(m.order,10)),position:Da("top"),layoutSize:p,elementSize:p,active:Tr(()=>!0),absolute:oa(m,"absolute")});return da(()=>_t(m.tag,{class:["v-system-bar",{"v-system-bar--window":m.window},de.value,be.value,V.value,B.value,m.class],style:[Ce.value,L.value,e.value,m.style]},ae)),{}}});const fA=Symbol.for("vuetify:v-tabs"),TI=Bn({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Uf(d1({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),cA=ea()({name:"VTab",props:TI(),setup(m,$){let{slots:ae,attrs:de}=$;const{textColorClasses:be,textColorStyles:Ce}=js(m,"sliderColor"),V=Tr(()=>m.direction==="horizontal"),B=Da(!1),e=Ta(),p=Ta();function L(n){var y,h;let{value:C}=n;if(B.value=C,C){const g=(h=(y=e.value)==null?void 0:y.$el.parentElement)==null?void 0:h.querySelector(".v-tab--selected .v-tab__slider"),t=p.value;if(!g||!t)return;const r=getComputedStyle(g).color,l=g.getBoundingClientRect(),a=t.getBoundingClientRect(),s=V.value?"x":"y",c=V.value?"X":"Y",u=V.value?"right":"bottom",b=V.value?"width":"height",f=l[s],w=a[s],v=f>w?l[u]-a[u]:l[s]-a[s],o=Math.sign(v)>0?V.value?"right":"bottom":Math.sign(v)<0?V.value?"left":"top":"center",S=(Math.abs(v)+(Math.sign(v)<0?l[b]:a[b]))/Math.max(l[b],a[b]),M=l[b]/a[b],P=1.5;vv(t,{backgroundColor:[r,"currentcolor"],transform:[`translate${c}(${v}px) scale${c}(${M})`,`translate${c}(${v/P}px) scale${c}(${(S-1)/P+1})`,"none"],transformOrigin:Array(3).fill(o)},{duration:225,easing:C0})}}return da(()=>{const[n]=vl.filterProps(m);return _t(vl,Ra({symbol:fA,ref:e,class:["v-tab",m.class],style:m.style,tabindex:B.value?0:-1,role:"tab","aria-selected":String(B.value),active:!1,block:m.fixed,maxWidth:m.fixed?300:void 0,rounded:0},n,de,{"onGroup:selected":L}),{default:()=>{var C;return[((C=ae.default)==null?void 0:C.call(ae))??m.text,!m.hideSlider&&_t("div",{ref:p,class:["v-tab__slider",be.value],style:Ce.value},null)]}})}),{}}});function AI(m){return m?m.map($=>typeof $=="string"?{title:$,value:$}:$):[]}const SI=Bn({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...uA({mandatory:"force"}),...ls(),...li()},"VTabs"),MI=ea()({name:"VTabs",props:SI(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const de=si(m,"modelValue"),be=Tr(()=>AI(m.items)),{densityClasses:Ce}=$s(m),{backgroundColorClasses:V,backgroundColorStyles:B}=Xo(oa(m,"bgColor"));return ts({VTab:{color:oa(m,"color"),direction:oa(m,"direction"),stacked:oa(m,"stacked"),fixed:oa(m,"fixedTabs"),sliderColor:oa(m,"sliderColor"),hideSlider:oa(m,"hideSlider")}}),da(()=>{const[e]=dm.filterProps(m);return _t(dm,Ra(e,{modelValue:de.value,"onUpdate:modelValue":p=>de.value=p,class:["v-tabs",`v-tabs--${m.direction}`,`v-tabs--align-tabs-${m.alignTabs}`,{"v-tabs--fixed-tabs":m.fixedTabs,"v-tabs--grow":m.grow,"v-tabs--stacked":m.stacked},Ce.value,V.value,m.class],style:[{"--v-tabs-height":Na(m.height)},B.value,m.style],role:"tablist",symbol:fA}),{default:()=>[ae.default?ae.default():be.value.map(p=>_t(cA,Ra(p,{key:p.title}),null))]})}),{}}});const CI=Bn({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...Fa(),...ls(),...li(),...Di()},"VTable"),EI=ea()({name:"VTable",props:CI(),setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Zi(m),{densityClasses:be}=$s(m);return da(()=>_t(m.tag,{class:["v-table",{"v-table--fixed-height":!!m.height,"v-table--fixed-header":m.fixedHeader,"v-table--fixed-footer":m.fixedFooter,"v-table--has-top":!!ae.top,"v-table--has-bottom":!!ae.bottom,"v-table--hover":m.hover},de.value,be.value,m.class],style:m.style},{default:()=>{var Ce,V,B;return[(Ce=ae.top)==null?void 0:Ce.call(ae),ae.default?_t("div",{class:"v-table__wrapper",style:{height:Na(m.height)}},[_t("table",null,[ae.default()])]):(V=ae.wrapper)==null?void 0:V.call(ae),(B=ae.bottom)==null?void 0:B.call(ae)]}})),{}}});const LI=Bn({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:m=>!isNaN(parseFloat(m))},maxRows:{type:[Number,String],validator:m=>!isNaN(parseFloat(m))},suffix:String,modelModifiers:Object,..._c(),...bg()},"VTextarea"),PI=ea()({name:"VTextarea",directives:{Intersect:z0},inheritAttrs:!1,props:LI(),emits:{"click:control":m=>!0,"mousedown:control":m=>!0,"update:focused":m=>!0,"update:modelValue":m=>!0},setup(m,$){let{attrs:ae,emit:de,slots:be}=$;const Ce=si(m,"modelValue"),{isFocused:V,focus:B,blur:e}=Ch(m),p=Tr(()=>typeof m.counterValue=="function"?m.counterValue(Ce.value):(Ce.value||"").toString().length),L=Tr(()=>{if(ae.maxlength)return ae.maxlength;if(!(!m.counter||typeof m.counter!="number"&&typeof m.counter!="string"))return m.counter});function n(o,d){var S,M;!m.autofocus||!o||(M=(S=d[0].target)==null?void 0:S.focus)==null||M.call(S)}const C=Ta(),y=Ta(),h=Da(""),g=Ta(),t=Tr(()=>m.persistentPlaceholder||V.value||m.active);function r(){var o;g.value!==document.activeElement&&((o=g.value)==null||o.focus()),V.value||B()}function l(o){r(),de("click:control",o)}function a(o){de("mousedown:control",o)}function s(o){o.stopPropagation(),r(),io(()=>{Ce.value="",Xm(m["onClick:clear"],o)})}function c(o){var S;const d=o.target;if(Ce.value=d.value,(S=m.modelModifiers)!=null&&S.trim){const M=[d.selectionStart,d.selectionEnd];io(()=>{d.selectionStart=M[0],d.selectionEnd=M[1]})}}const u=Ta(),b=Ta(+m.rows),f=Tr(()=>["plain","underlined"].includes(m.variant));Jl(()=>{m.autoGrow||(b.value=+m.rows)});function w(){m.autoGrow&&io(()=>{if(!u.value||!y.value)return;const o=getComputedStyle(u.value),d=getComputedStyle(y.value.$el),S=parseFloat(o.getPropertyValue("--v-field-padding-top"))+parseFloat(o.getPropertyValue("--v-input-padding-top"))+parseFloat(o.getPropertyValue("--v-field-padding-bottom")),M=u.value.scrollHeight,P=parseFloat(o.lineHeight),x=Math.max(parseFloat(m.rows)*P+S,parseFloat(d.getPropertyValue("--v-input-control-height"))),E=parseFloat(m.maxRows)*P+S||1/0,T=Xs(M??0,x,E);b.value=Math.floor((T-S)/P),h.value=Na(T)})}Ks(w),Oa(Ce,w),Oa(()=>m.rows,w),Oa(()=>m.maxRows,w),Oa(()=>m.density,w);let v;return Oa(u,o=>{o?(v=new ResizeObserver(w),v.observe(u.value)):v==null||v.disconnect()}),dl(()=>{v==null||v.disconnect()}),da(()=>{const o=!!(be.counter||m.counter||m.counterValue),d=!!(o||be.details),[S,M]=Tv(ae),[{modelValue:P,...x}]=Is.filterProps(m),[E]=x1(m);return _t(Is,Ra({ref:C,modelValue:Ce.value,"onUpdate:modelValue":T=>Ce.value=T,class:["v-textarea v-text-field",{"v-textarea--prefixed":m.prefix,"v-textarea--suffixed":m.suffix,"v-text-field--prefixed":m.prefix,"v-text-field--suffixed":m.suffix,"v-textarea--auto-grow":m.autoGrow,"v-textarea--no-resize":m.noResize||m.autoGrow,"v-text-field--plain-underlined":f.value},m.class],style:m.style},S,x,{centerAffix:b.value===1&&!f.value,focused:V.value}),{...be,default:T=>{let{isDisabled:i,isDirty:R,isReadonly:A,isValid:k}=T;return _t(U0,Ra({ref:y,style:{"--v-textarea-control-height":h.value},onClick:l,onMousedown:a,"onClick:clear":s,"onClick:prependInner":m["onClick:prependInner"],"onClick:appendInner":m["onClick:appendInner"],role:"textbox"},E,{active:t.value||R.value,centerAffix:b.value===1&&!f.value,dirty:R.value||m.dirty,disabled:i.value,focused:V.value,error:k.value===!1}),{...be,default:_=>{let{props:{class:H,...z}}=_;return _t(Qa,null,[m.prefix&&_t("span",{class:"v-text-field__prefix"},[m.prefix]),To(_t("textarea",Ra({ref:g,class:H,value:Ce.value,onInput:c,autofocus:m.autofocus,readonly:A.value,disabled:i.value,placeholder:m.placeholder,rows:m.rows,name:m.name,onFocus:r,onBlur:e},z,M),null),[[Dl("intersect"),{handler:n},null,{once:!0}]]),m.autoGrow&&To(_t("textarea",{class:[H,"v-textarea__sizer"],"onUpdate:modelValue":N=>Ce.value=N,ref:u,readonly:!0,"aria-hidden":"true"},null),[[R6,Ce.value]]),m.suffix&&_t("span",{class:"v-text-field__suffix"},[m.suffix])])}})},details:d?T=>{var i;return _t(Qa,null,[(i=be.details)==null?void 0:i.call(be,T),o&&_t(Qa,null,[_t("span",null,null),_t(xg,{active:m.persistentCounter||V.value,value:p.value,max:L.value},be.counter)])])}:void 0})}),sf({},C,y,g)}});const RI=Bn({withBackground:Boolean,...Fa(),...Di(),...li()},"VThemeProvider"),II=ea()({name:"VThemeProvider",props:RI(),setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Zi(m);return()=>{var be;return m.withBackground?_t(m.tag,{class:["v-theme-provider",de.value,m.class],style:m.style},{default:()=>{var Ce;return[(Ce=ae.default)==null?void 0:Ce.call(ae)]}}):(be=ae.default)==null?void 0:be.call(ae)}}});const DI=Bn({align:{type:String,default:"center",validator:m=>["center","start"].includes(m)},direction:{type:String,default:"vertical",validator:m=>["vertical","horizontal"].includes(m)},justify:{type:String,default:"auto",validator:m=>["auto","center"].includes(m)},side:{type:String,validator:m=>m==null||["start","end"].includes(m)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:m=>["start","end","both"].includes(m)},...Fa(),...ls(),...li(),...Di()},"VTimeline"),kI=ea()({name:"VTimeline",props:DI(),setup(m,$){let{slots:ae}=$;const{themeClasses:de}=Zi(m),{densityClasses:be}=$s(m),{rtlClasses:Ce}=bs();ts({VTimelineDivider:{lineColor:oa(m,"lineColor")},VTimelineItem:{density:oa(m,"density"),lineInset:oa(m,"lineInset")}});const V=Tr(()=>{const e=m.side?m.side:m.density!=="default"?"end":null;return e&&`v-timeline--side-${e}`}),B=Tr(()=>{const e=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(m.truncateLine){case"both":return e;case"start":return e[0];case"end":return e[1];default:return null}});return da(()=>_t(m.tag,{class:["v-timeline",`v-timeline--${m.direction}`,`v-timeline--align-${m.align}`,`v-timeline--justify-${m.justify}`,B.value,{"v-timeline--inset-line":!!m.lineInset},de.value,be.value,V.value,Ce.value,m.class],style:[{"--v-timeline-line-thickness":Na(m.lineThickness)},m.style]},ae)),{}}}),_I=Bn({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:ai,iconColor:String,lineColor:String,...Fa(),...go(),...kc(),...ss()},"VTimelineDivider"),FI=ea()({name:"VTimelineDivider",props:_I(),setup(m,$){let{slots:ae}=$;const{sizeClasses:de,sizeStyles:be}=Ld(m,"v-timeline-divider__dot"),{backgroundColorStyles:Ce,backgroundColorClasses:V}=Xo(oa(m,"dotColor")),{roundedClasses:B}=Do(m,"v-timeline-divider__dot"),{elevationClasses:e}=Ds(m),{backgroundColorClasses:p,backgroundColorStyles:L}=Xo(oa(m,"lineColor"));return da(()=>_t("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":m.fillDot},m.class],style:m.style},[_t("div",{class:["v-timeline-divider__before",p.value],style:L.value},null),!m.hideDot&&_t("div",{key:"dot",class:["v-timeline-divider__dot",e.value,B.value,de.value],style:be.value},[_t("div",{class:["v-timeline-divider__inner-dot",V.value,B.value],style:Ce.value},[ae.default?_t(Qi,{key:"icon-defaults",disabled:!m.icon,defaults:{VIcon:{color:m.iconColor,icon:m.icon,size:m.size}}},ae.default):_t(ao,{key:"icon",color:m.iconColor,icon:m.icon,size:m.size},null)])]),_t("div",{class:["v-timeline-divider__after",p.value],style:L.value},null)])),{}}}),zI=Bn({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:ai,iconColor:String,lineInset:[Number,String],...Fa(),...Mu(),...ss(),...go(),...kc(),...li()},"VTimelineItem"),OI=ea()({name:"VTimelineItem",props:zI(),setup(m,$){let{slots:ae}=$;const{dimensionStyles:de}=Cu(m),be=Da(0),Ce=Ta();return Oa(Ce,V=>{var B;V&&(be.value=((B=V.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:B.getBoundingClientRect().width)??0)},{flush:"post"}),da(()=>{var V,B;return _t("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":m.fillDot},m.class],style:[{"--v-timeline-dot-size":Na(be.value),"--v-timeline-line-inset":m.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${Na(m.lineInset)})`:Na(0)},m.style]},[_t("div",{class:"v-timeline-item__body",style:de.value},[(V=ae.default)==null?void 0:V.call(ae)]),_t(FI,{ref:Ce,hideDot:m.hideDot,icon:m.icon,iconColor:m.iconColor,size:m.size,elevation:m.elevation,dotColor:m.dotColor,fillDot:m.fillDot,rounded:m.rounded},{default:ae.icon}),m.density!=="compact"&&_t("div",{class:"v-timeline-item__opposite"},[!m.hideOpposite&&((B=ae.opposite)==null?void 0:B.call(ae))])])}),{}}}),BI=Bn({...Fa(),...Lu({variant:"text"})},"VToolbarItems"),NI=ea()({name:"VToolbarItems",props:BI(),setup(m,$){let{slots:ae}=$;return ts({VBtn:{color:oa(m,"color"),height:"inherit",variant:oa(m,"variant")}}),da(()=>{var de;return _t("div",{class:["v-toolbar-items",m.class],style:m.style},[(de=ae.default)==null?void 0:de.call(ae)])}),{}}});const VI=Bn({id:String,text:String,...Uf(V0({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),UI=ea()({name:"VTooltip",props:VI(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const de=si(m,"modelValue"),{scopeId:be}=Dd(),Ce=Js(),V=Tr(()=>m.id||`v-tooltip-${Ce}`),B=Ta(),e=Tr(()=>m.location.split(" ").length>1?m.location:m.location+" center"),p=Tr(()=>m.origin==="auto"||m.origin==="overlap"||m.origin.split(" ").length>1||m.location.split(" ").length>1?m.origin:m.origin+" center"),L=Tr(()=>m.transition?m.transition:de.value?"scale-transition":"fade-transition"),n=Tr(()=>Ra({"aria-describedby":V.value},m.activatorProps));return da(()=>{const[C]=Lc.filterProps(m);return _t(Lc,Ra({ref:B,class:["v-tooltip",m.class],style:m.style,id:V.value},C,{modelValue:de.value,"onUpdate:modelValue":y=>de.value=y,transition:L.value,absolute:!0,location:e.value,origin:p.value,persistent:!0,role:"tooltip",activatorProps:n.value,_disableGlobalStack:!0},be),{activator:ae.activator,default:function(){var t;for(var y=arguments.length,h=new Array(y),g=0;g<y;g++)h[g]=arguments[g];return((t=ae.default)==null?void 0:t.call(ae,...h))??m.text}})}),sf({},B)}}),HI=ea()({name:"VValidation",props:rT(),emits:{"update:modelValue":m=>!0},setup(m,$){let{slots:ae}=$;const de=nT(m,"validation");return()=>{var be;return(be=ae.default)==null?void 0:be.call(ae,de)}}}),GI=Object.freeze(Object.defineProperty({__proto__:null,VAlert:y7,VAlertTitle:Kw,VApp:EL,VAppBar:XL,VAppBarNavIcon:v7,VAppBarTitle:d7,VAutocomplete:zP,VAvatar:Th,VBadge:BP,VBanner:UP,VBannerActions:PT,VBannerText:RT,VBottomNavigation:GP,VBreadcrumbs:XP,VBreadcrumbsDivider:IT,VBreadcrumbsItem:DT,VBtn:vl,VBtnGroup:Qy,VBtnToggle:qL,VCard:JP,VCardActions:kT,VCardItem:zT,VCardSubtitle:_T,VCardText:OT,VCardTitle:FT,VCarousel:i9,VCarouselItem:s9,VCheckbox:M7,VCheckboxBtn:xd,VChip:N0,VChipGroup:L7,VClassIcon:n1,VCode:l9,VCol:xR,VColorPicker:J9,VCombobox:q9,VComponentIcon:Zy,VContainer:pR,VCounter:xg,VDefaultsProvider:Qi,VDialog:tR,VDialogBottomTransition:IL,VDialogTopTransition:DL,VDialogTransition:fg,VDivider:dT,VExpandTransition:cg,VExpandXTransition:o1,VExpansionPanel:sR,VExpansionPanelText:jT,VExpansionPanelTitle:JT,VExpansionPanels:aR,VFabTransition:RL,VFadeTransition:Ky,VField:U0,VFieldLabel:l0,VFileInput:uR,VFooter:cR,VForm:vR,VHover:PR,VIcon:ao,VImg:mv,VInput:Is,VItem:DR,VItemGroup:IR,VKbd:kR,VLabel:Id,VLayout:FR,VLayoutItem:OR,VLazy:NR,VLigatureIcon:FE,VList:gg,VListGroup:rm,VListImg:K7,VListItem:Ec,VListItemAction:$7,VListItemMedia:q7,VListItemSubtitle:cT,VListItemTitle:hT,VListSubheader:vT,VLocaleProvider:UR,VMain:GR,VMenu:mg,VMessages:eT,VNavigationDrawer:QR,VNoSsr:qR,VOverlay:Lc,VPagination:rI,VParallax:iI,VProgressCircular:f1,VProgressLinear:c1,VRadio:sI,VRadioGroup:uI,VRangeSlider:cI,VRating:vI,VResponsive:Jy,VRow:CR,VScaleTransition:kw,VScrollXReverseTransition:_L,VScrollXTransition:kL,VScrollYReverseTransition:zL,VScrollYTransition:FL,VSelect:IP,VSelectionControl:md,VSelectionControlGroup:$w,VSheet:vm,VSlideGroup:dm,VSlideGroupItem:pI,VSlideXReverseTransition:BL,VSlideXTransition:OL,VSlideYReverseTransition:NL,VSlideYTransition:i1,VSlider:hm,VSnackbar:yI,VSpacer:ER,VSvgIcon:r1,VSwitch:xI,VSystemBar:wI,VTab:cA,VTable:EI,VTabs:MI,VTextField:xv,VTextarea:PI,VThemeProvider:II,VTimeline:kI,VTimelineItem:OI,VToolbar:$y,VToolbarItems:NI,VToolbarTitle:a1,VTooltip:UI,VValidation:HI,VVirtualScroll:Tg,VWindow:om,VWindowItem:sm},Symbol.toStringTag,{value:"Module"}));function WI(m,$){const ae=$.modifiers||{},de=$.value,{once:be,immediate:Ce,...V}=ae,B=!Object.keys(V).length,{handler:e,options:p}=typeof de=="object"?de:{handler:de,options:{attributes:(V==null?void 0:V.attr)??B,characterData:(V==null?void 0:V.char)??B,childList:(V==null?void 0:V.child)??B,subtree:(V==null?void 0:V.sub)??B}},L=new MutationObserver(function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],C=arguments.length>1?arguments[1]:void 0;e==null||e(n,C),be&&hA(m,$)});Ce&&(e==null||e([],L)),m._mutate=Object(m._mutate),m._mutate[$.instance.$.uid]={observer:L},L.observe(m,p)}function hA(m,$){var ae;(ae=m._mutate)!=null&&ae[$.instance.$.uid]&&(m._mutate[$.instance.$.uid].observer.disconnect(),delete m._mutate[$.instance.$.uid])}const YI={mounted:WI,unmounted:hA};function ZI(m,$){var be,Ce;const ae=$.value,de={passive:!((be=$.modifiers)!=null&&be.active)};window.addEventListener("resize",ae,de),m._onResize=Object(m._onResize),m._onResize[$.instance.$.uid]={handler:ae,options:de},(Ce=$.modifiers)!=null&&Ce.quiet||ae()}function XI(m,$){var be;if(!((be=m._onResize)!=null&&be[$.instance.$.uid]))return;const{handler:ae,options:de}=m._onResize[$.instance.$.uid];window.removeEventListener("resize",ae,de),delete m._onResize[$.instance.$.uid]}const jI={mounted:ZI,unmounted:XI};function vA(m,$){const{self:ae=!1}=$.modifiers??{},de=$.value,be=typeof de=="object"&&de.options||{passive:!0},Ce=typeof de=="function"||"handleEvent"in de?de:de.handler,V=ae?m:$.arg?document.querySelector($.arg):window;V&&(V.addEventListener("scroll",Ce,be),m._onScroll=Object(m._onScroll),m._onScroll[$.instance.$.uid]={handler:Ce,options:be,target:ae?void 0:V})}function dA(m,$){var Ce;if(!((Ce=m._onScroll)!=null&&Ce[$.instance.$.uid]))return;const{handler:ae,options:de,target:be=m}=m._onScroll[$.instance.$.uid];be.removeEventListener("scroll",ae,de),delete m._onScroll[$.instance.$.uid]}function KI(m,$){$.value!==$.oldValue&&(dA(m,$),vA(m,$))}const JI={mounted:vA,unmounted:dA,updated:KI},$I=Object.freeze(Object.defineProperty({__proto__:null,ClickOutside:CT,Intersect:z0,Mutate:YI,Resize:jI,Ripple:Mh,Scroll:JI,Touch:T1},Symbol.toStringTag,{value:"Module"})),QI=Pw({components:GI,directives:$I});_6(V6).use(Fy).use(QI).mount("#app");
